"use strict";(self.webpackChunkgame_core=self.webpackChunkgame_core||[]).push([[48],{619:function(e,t,a){a.r(t),a.d(t,{default:function(){return I}});for(var n=a(92),d=a.n(n),i=a(4),s=a.n(i),l=a(36),o=a.n(l),r=a(19),h=a.n(r),v=a(57),c=a(672),u=a(28),p=a.n(u),m=a(3),f=a.n(m),g=a(10),y=a.n(g),S=[],x=33;x<=126;x++)(x<97||x>107)&&S.push(String.fromCharCode(x));var L=function(e){for(var t=p()(e,(function(e){return String.fromCharCode(Number(e)+97)})),a=Math.floor(10*Math.random()+1),n=0;n<a;n++){var d,i=Math.floor(Math.random()*t.length);t=f()(d=[]).call(d,y()(t).call(t,0,i),[S[Math.floor(Math.random()*S.length)]],y()(t).call(t,i))}return t.join("")},B=a(676),C=a(660),G=function(){function e(e){this.scene=void 0,this.pane=void 0,this.element=void 0,this.data=void 0,this.seedsByLevel=new(d()),this.decodedSeedsByLevel=new(d()),this.scene=e,this.loadLevels()}var t=e.prototype;return t.loadLevels=function(){for(var e=1;e<=5;e++){var t="level"+e;this.loadLevelByKey(t,e)}},t.loadLevelByKey=function(e,t){var a=this;if(this.isLevelLoaded(e)){var n=this.scene.cache.text.get(e);if(!n)throw Error("No Level Data!!!");var d=n.split("\n");this.seedsByLevel.set(t,d),this.decodedSeedsByLevel.set(t,s()(d).call(d,(function(e){return String((0,c.Z)(e))})))}else this.scene.time.delayedCall(500,(function(){return a.loadLevelByKey(e,t)}))},t.isLevelLoaded=function(e){return!!this.scene.cache.text.get(e)},t.createPane=function(){this.pane=new v.Pane({title:"Seed Panel",expanded:!0}),this.element=this.pane.element,this.initPaneConfig()},t.initPaneConfig=function(){var e=this,t={opacity:.8,x:-8,y:-8,width:324};this.element.parentElement&&(this.element.parentElement.style.top=-t.y+"px",this.element.parentElement.style.left=-t.x+"px",this.element.parentElement.style.width=t.width+"px"),this.element.style.opacity=""+t.opacity,this.element.onwheel=function(a){var n=a.deltaY;t.y<=-8&&n<0||t.y>=e.element.clientHeight-document.body.clientHeight-8&&n>0||(t.y+=n/2,e.element.parentElement&&(e.element.parentElement.style.top=-t.y+"px"))}.bind(this)},t.initLevelDataConfig=function(){var e,t,a,n=this,d=this.data.level||1,i=((null==(e=this.seedsByLevel.get(d))?void 0:e.length)||1)-1,l=this.pane.addBlade({view:"list",label:"level",options:s()(t=o()(a=Array(5)).call(a,0)).call(t,(function(e,t){return{text:"Level "+(t+1),value:t+1}})),value:d});l.on("change",(function(e){n.data.level=e.value,n.data.seedIndex=0;var t=n.seedsByLevel.get(n.data.level||1);n.data.seed=(null==t?void 0:t.at(0))||"",n.scene.gameplay.startGameWithSeed(n.data.seed),n.setData(n.data)})),this.pane.addInput({seedIndex:this.data.seedIndex},"seedIndex",{min:0,max:i,step:1}).on("change",(function(e){if(e.last){n.data.seedIndex=e.value;var t=n.seedsByLevel.get(n.data.level||1);n.data.seed=(null==t?void 0:t.at(n.data.seedIndex||0))||"",n.scene.gameplay.startGameWithSeed(n.data.seed),n.setData(n.data)}})),this.pane.addButton({title:"Next seed"}).on("click",(function(){var e=n.seedsByLevel.get(n.data.level||1);n.data.seedIndex+1>=(null==e?void 0:e.length)?n.data.seedIndex=0:n.data.seedIndex=(n.data.seedIndex||0)+1,n.data.seed=(null==e?void 0:e.at(n.data.seedIndex))||"",n.scene.gameplay.startGameWithSeed(n.data.seed),n.setData(n.data)})),this.pane.addButton({title:"Previous seed"}).on("click",(function(){var e=n.seedsByLevel.get(n.data.level||1);n.data.seedIndex-1<0?n.data.seedIndex=((null==e?void 0:e.length)||1)-1:n.data.seedIndex=(n.data.seedIndex||1)-1,n.data.seed=(null==e?void 0:e.at(n.data.seedIndex))||"",n.scene.gameplay.startGameWithSeed(n.data.seed),n.setData(n.data)})),this.pane.addSeparator(),this.pane.addInput(this.data,"seed").on("change",(function(e){n.scene.gameplay.startGameWithSeed(e.value);var t=String((0,c.Z)(e.value));n.setData({seed:n.data.seed,decodedSeed:t})})),this.pane.addInput(this.data,"decodedSeed").on("change",(function(e){var t=String(L(e.value));n.scene.gameplay.startGameWithSeed(t),n.setData({decodedSeed:n.data.decodedSeed,seed:t})})),this.pane.addButton({title:"Play seed"}).on("click",(function(){n.scene.gameplay.startGameWithSeed(n.data.seed);var e=String((0,c.Z)(n.data.seed));n.setData({seed:n.data.seed,decodedSeed:e})})),this.pane.addSeparator();var r=GameCore.Configs.Gameplay.SkipStartAnimation,h=r?"Turn On Start Animation":"Skip Start Animation";this.pane.addButton({title:h}).on("click",(function(){r=!r,GameCore.Configs.Gameplay.SkipStartAnimation=r,r||(GameCore.Configs.Gameplay.SkipAnimationMove=!1),n.setData(n.data)}));var v=GameCore.Configs.Gameplay.SkipAnimationMove,u=v?"Turn On Move Animation":"Skip Move Animation";this.pane.addButton({title:u}).on("click",(function(){v=!v,GameCore.Configs.Gameplay.SkipAnimationMove=v,n.setData(n.data)})),this.pane.addSeparator();var p=GameCore.Configs.Gameplay.EditMode,m=p?"Edit Mode: ON (No auto move Foundation)":"Edit Mode: OFF";this.pane.addButton({title:m}).on("click",(function(){if(p=!p,GameCore.Configs.Gameplay.EditMode=p,n.setData(n.data),p){n.scene.player.setSetting(B.Z.autoMoveToFoundation,!1),n.scene.events.emit("settings-changed",B.Z.autoMoveToFoundation,!1);var e=n.scene.screen.get(C.o4.SETTINGS_SCREEN).getAutoMoveToFoundationButton();e&&e.updateStatus(!1)}})),this.pane.addSeparator(),this.pane.addButton({title:"Cancel"}).on("click",(function(){n.setEnable(!1)}))},t.hide=function(){this.setEnable(!1)},t.show=function(){this.setEnable(!0)},t.setEnable=function(e){void 0===e&&(e=!0),this.pane.hidden=!e},t.getData=function(){return this.data},t.setData=function(e){var t=e.level,a=e.seedIndex;if(!t){var n=this.seedsByLevel.get(1);if(t=1,-1==(a=null==n?void 0:h()(n).call(n,e.seed))){var d=this.seedsByLevel.get(2);t=2,a=null==d?void 0:h()(d).call(d,e.seed)}if(-1==a){var i=this.seedsByLevel.get(3);t=3,a=null==i?void 0:h()(i).call(i,e.seed)}if(-1==a){var s=this.seedsByLevel.get(4);t=4,a=null==s?void 0:h()(s).call(s,e.seed)}if(-1==a){var l=this.seedsByLevel.get(5);t=5,a=null==l?void 0:h()(l).call(l,e.seed)}}if(!a){var o=this.seedsByLevel.get(e.level||1);a=(null==o?void 0:h()(o).call(o,e.seed))||0}var r=String((0,c.Z)(e.seed));this.data={level:t,seedIndex:a,seed:e.seed,decodedSeed:r},this.scene.gameplay.boardGame.updateSeedDebugText(this.data.level||1,this.data.seed),this.pane&&(this.pane.remove(this.pane),this.pane.hidden=!0),this.createPane(),this.initLevelDataConfig()},e}(),I=G}}]);