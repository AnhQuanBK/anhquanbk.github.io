"use strict";function _instanceof1(left,right){return null!=right&&"u">typeof Symbol&&right[Symbol.hasInstance]?!!right[Symbol.hasInstance](left):left instanceof right}function _type_of1(obj){return obj&&"u">typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}function _array_like_to_array(w,r){(null==r||r>w.length)&&(r=w.length);for(var t=0,e=Array(r);t<r;t++)e[t]=w[t];return e}function _array_with_holes(w){if(Array.isArray(w))return w}function _array_without_holes(w){if(Array.isArray(w))return _array_like_to_array(w)}function _assert_this_initialized(w){if(void 0===w)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function asyncGeneratorStep(w,r,t,e,n,o,S){try{var I=w[o](S),b=I.value}catch(D){t(D);return}I.done?r(b):Promise.resolve(b).then(e,n)}function _async_to_generator(w){return function(){var r=this,t=arguments;return new Promise(function(e,n){var o=w.apply(r,t);function S(b){asyncGeneratorStep(o,e,n,S,I,"next",b)}function I(b){asyncGeneratorStep(o,e,n,S,I,"throw",b)}S(void 0)})}}function _call_super(w,r,t){return r=_get_prototype_of(r),_possible_constructor_return(w,_is_native_reflect_construct()?Reflect.construct(r,t||[],_get_prototype_of(w).constructor):r.apply(w,t))}function _class_call_check(w,r){if(!_instanceof1(w,r))throw TypeError("Cannot call a class as a function")}function _construct(w,r,t){return(_construct=_is_native_reflect_construct()?Reflect.construct:function _construct1(n,o,S){var I=[null];I.push.apply(I,o);var b=new(Function.bind.apply(n,I));return S&&_set_prototype_of(b,S.prototype),b}).apply(null,arguments)}function _defineProperties(w,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(w,e.key,e)}}function _create_class(w,r,t){return r&&_defineProperties(w.prototype,r),t&&_defineProperties(w,t),w}function _define_property(w,r,t){return r in w?Object.defineProperty(w,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):w[r]=t,w}function _get(w,r,t){return(_get="u">("u"<typeof Reflect?"undefined":_type_of1(Reflect))&&Reflect.get?Reflect.get:function _get1(n,o,S){var I=_super_prop_base(n,o);if(I){var b=Object.getOwnPropertyDescriptor(I,o);return b.get?b.get.call(S||n):b.value}})(w,r,t||w)}function _get_prototype_of(w){return(_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function _get_prototype_of1(t){return t.__proto__||Object.getPrototypeOf(t)})(w)}function _inherits(w,r){if("function"!=typeof r&&null!==r)throw TypeError("Super expression must either be null or a function");w.prototype=Object.create(r&&r.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),r&&_set_prototype_of(w,r)}function _instanceof(w,r){return null!=r&&"u">("u"<typeof Symbol?"undefined":_type_of1(Symbol))&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](w):_instanceof1(w,r)}function _is_native_function(w){return -1!==Function.toString.call(w).indexOf("[native code]")}function _iterable_to_array(w){if("u">("u"<typeof Symbol?"undefined":_type_of1(Symbol))&&null!=w[Symbol.iterator]||null!=w["@@iterator"])return Array.from(w)}function _iterable_to_array_limit(w,r){var t,e,n=null==w?null:"u">("u"<typeof Symbol?"undefined":_type_of1(Symbol))&&w[Symbol.iterator]||w["@@iterator"];if(null!=n){var o=[],S=!0,I=!1;try{for(n=n.call(w);!(S=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);S=!0);}catch(b){I=!0,e=b}finally{try{S||null==n.return||n.return()}finally{if(I)throw e}}return o}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _possible_constructor_return(w,r){return r&&("object"===_type_of(r)||"function"==typeof r)?r:_assert_this_initialized(w)}function set(w,r,t,e){return(set="u">("u"<typeof Reflect?"undefined":_type_of1(Reflect))&&Reflect.set?Reflect.set:function set1(o,S,I,b){var D,k=_super_prop_base(o,S);if(k){if((D=Object.getOwnPropertyDescriptor(k,S)).set)return D.set.call(b,I),!0;if(!D.writable)return!1}if(D=Object.getOwnPropertyDescriptor(b,S)){if(!D.writable)return!1;D.value=I,Object.defineProperty(b,S,D)}else _define_property(b,S,I);return!0})(w,r,t,e)}function _set(w,r,t,e,n){if(!set(w,r,t,e||w)&&n)throw Error("failed to set property");return t}function _set_prototype_of(w,r){return(_set_prototype_of=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(w,r)}function _sliced_to_array(w,r){return _array_with_holes(w)||_iterable_to_array_limit(w,r)||_unsupported_iterable_to_array(w,r)||_non_iterable_rest()}function _super_prop_base(w,r){for(;!Object.prototype.hasOwnProperty.call(w,r)&&null!==(w=_get_prototype_of(w)););return w}function _to_consumable_array(w){return _array_without_holes(w)||_iterable_to_array(w)||_unsupported_iterable_to_array(w)||_non_iterable_spread()}function _type_of(w){return w&&"u">typeof Symbol&&w.constructor===Symbol?"symbol":typeof w}function _unsupported_iterable_to_array(w,r){if(w){if("string"==typeof w)return _array_like_to_array(w,r);var t=Object.prototype.toString.call(w).slice(8,-1);if("Object"===t&&w.constructor&&(t=w.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _array_like_to_array(w,r)}}function _wrap_native_super(w){var r="function"==typeof Map?new Map:void 0;return(_wrap_native_super=function _wrap_native_super1(e){if(null===e||!_is_native_function(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return _construct(e,arguments,_get_prototype_of(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_set_prototype_of(n,e)})(w)}function _is_native_reflect_construct(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(unused){}return(_is_native_reflect_construct=function _is_native_reflect_construct1(){return!!w})()}function _ts_generator(w,r){var t,e,n,o={label:0,sent:function sent(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},S=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),I=Object.defineProperty;return I(S,"next",{value:b(0)}),I(S,"throw",{value:b(1)}),I(S,"return",{value:b(2)}),"function"==typeof Symbol&&I(S,Symbol.iterator,{value:function value(){return this}}),S;function b(k){return function(E){return D([k,E])}}function D(k){if(t)throw TypeError("Generator is already executing.");for(;S&&(S=0,k[0]&&(o=0)),o;)try{if(t=1,e&&(n=2&k[0]?e.return:k[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,k[1])).done)return n;switch(e=0,n&&(k=[2&k[0],n.value]),k[0]){case 0:case 1:n=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,e=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===k[0]||2===k[0])){o=0;continue}if(3===k[0]&&(!n||k[1]>n[0]&&k[1]<n[3])){o.label=k[1];break}if(6===k[0]&&o.label<n[1]){o.label=n[1],n=k;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(k);break}n[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(w,o)}catch(E){k=[6,E],e=0}finally{t=n=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}}!function(){var v,A,Ie,dr,gt,kg,Gg,Ne,Fg,Vg,ur,pr,Bd,Kg,Pt,Hg,jg,kn,mr,Wg,Gn,Fd,zg,qg,Yg,Jg,Qg,Ud,Xg,Zg,Fn,Bn,eP,tP,rP,nP,oP,sP,iP,Vd,Kn,Un,Hn,Vn,Bg=function Bg(){var r=["error","unhandledrejection"],t=null!=(S=Ne.__listeners)?S:[],e=!0,n=!1,o=void 0;try{for(var S,I,b,D=r[Symbol.iterator]();!(e=(b=D.next()).done);e=!0){var k=b.value;null!=(I=t[k])&&I[0]&&Ne.removeEventListener(k,Ne.__listeners[k].shift())}}catch(E){n=!0,o=E}finally{try{e||null==D.return||D.return()}finally{if(n)throw o}}},Gd=function Gd(r){Ne.__errorQueue&&(Ne.__errorQueue.length>=Fg&&(Ne.__errorQueue.length=0),Ne.__errorQueue.push("string"==typeof r?Error(r):r))},Ug=function Ug(){Ne.addEventListener("error",function(r){Gd(r.error)}),Ne.addEventListener("unhandledrejection",function(r){Gd(r.reason)})},cP=function cP(){var r=arguments;"event"===r[0]&&("object"!=_type_of(r[2])&&(r[2]={}),r[2].build=7,r[2].send_to="GA",r[2].extend_session=1),window.dataLayer.push(r)},lP=function lP(){try{return}catch(unused){}},AP=function AP(r){for(var t=0,e=0;e<r.length;e++)t=(t<<5)-t+r.charCodeAt(e)|0;return t},bP=function bP(){var r,t=window,e="GameSDK";return"FBInstant"in t?(e="FBInstant",r=new O(window.FBInstant)):"YaGames"in t?(e="Yandex",r=new O(window.YaGames)):"funmax"in t?(e="Xiaomi",r=new O(window.funmax)):"$msstart"in t?(e="MsGames",r=new O(window.$msstart)):"gdsdk"in t?(e="GameDistribution",r=new O(window.gdsdk)):"h5sdk"in t?(e="TranssionH5",r=new O(window.h5sdk)):"CrazyGames"in t?(e="CrazyGames",r=new O(window.CrazyGames.SDK)):"GlanceGamingAdInterface"in t?(e="Glance",r=new O(window.GlanceGamingAdInterface)):"mraid"in t?(e="Playable",r=new O(window.mraid)):"MetaHorizon"in t?(e="Horizon",r=new O(window.MetaHorizon)):"ytgame"in t?(e="YoutubePlayables",r=new cu(window.ytgame)):r=new xr,r},r$=function r$(r){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=[],n=r.split(" "),o=n.length,S=o;S>=1;S--)for(var I=0;I<=o-S;I++){var b=n.slice(I,I+S).join(" ");r.split(b).length-1>=t&&0>e.indexOf(b)&&b.length>1&&e.push(b)}return e.sort(function(D,k){return D.length-k.length})},Nm=function Nm(r){var t=g$(r),e=t%Mm.length,n=(t>>8)%Om.length,o=(t>>16)%1e4;return"".concat(Mm[e]).concat(Om[n]).concat(o)},Vh=function Vh(r){codex.event.emit($A.REQUEST_LANGUAGE,{locale:r})},Ss=function Ss(r){return WA.isEmpty(r)?null:r},Ig=Object.create,ft=Object.defineProperty,Eg=Object.defineProperties,Rd=Object.getOwnPropertyDescriptor,Lg=Object.getOwnPropertyDescriptors,Cg=Object.getOwnPropertyNames,lr=Object.getOwnPropertySymbols,Tg=Object.getPrototypeOf,Rn=Object.prototype.hasOwnProperty,_d=Object.prototype.propertyIsEnumerable,yt=Math.pow,Nn=function Nn(w,r,t){return r in w?ft(w,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):w[r]=t},N=function N(w,r){for(var t in r||(r={}))Rn.call(r,t)&&Nn(w,t,r[t]);var e=!0,n=!1,o=void 0;if(lr)try{for(var S,I=lr(r)[Symbol.iterator]();!(e=(S=I.next()).done);e=!0){var t=S.value;_d.call(r,t)&&Nn(w,t,r[t])}}catch(b){n=!0,o=b}finally{try{e||null==I.return||I.return()}finally{if(n)throw o}}return w},be=function be(w,r){return Eg(w,Lg(r))},a=function a(w,r){return ft(w,"name",{value:r,configurable:!0})},_n=function _n(w,r){var t={};for(var e in w)Rn.call(w,e)&&0>r.indexOf(e)&&(t[e]=w[e]);var n=!0,o=!1,S=void 0;if(null!=w&&lr)try{for(var I,b=lr(w)[Symbol.iterator]();!(n=(I=b.next()).done);n=!0){var e=I.value;0>r.indexOf(e)&&_d.call(w,e)&&(t[e]=w[e])}}catch(D){o=!0,S=D}finally{try{n||null==b.return||b.return()}finally{if(o)throw S}}return t},W=function W(w,r){return function(){return w&&(r=w(w=0)),r}},Mg=function Mg(w,r){return function(){return r||w((r={exports:{}}).exports,r),r.exports}},kd=function kd(w,r){for(var t in r)ft(w,t,{get:r[t],enumerable:!0})},Og=function Og(w,r,t,e){var n=!0,o=!1,S=void 0;if(r&&(void 0===r?"undefined":_type_of(r))=="object"||"function"==typeof r)try{for(var I,b=function b(){var _$k=I.value;Rn.call(w,_$k)||_$k===t||ft(w,_$k,{get:function get(){return r[_$k]},enumerable:!(e=Rd(r,_$k))||e.enumerable})},D=Cg(r)[Symbol.iterator]();!(n=(I=D.next()).done);n=!0)b()}catch(k){o=!0,S=k}finally{try{n||null==D.return||D.return()}finally{if(o)throw S}}return w},Ng=function Ng(w,r,t){return t=null!=w?Ig(Tg(w)):{},Og(!r&&w&&w.__esModule?t:ft(t,"default",{value:w,enumerable:!0}),w)},pe=function pe(w,r,t,e){for(var n,o=e>1?void 0:e?Rd(r,t):r,S=w.length-1;S>=0;S--)(n=w[S])&&(o=(e?n(r,t,o):n(o))||o);return e&&o&&ft(r,t,o),o},Ge=function Ge(w,r,t){return Nn(w,(void 0===r?"undefined":_type_of(r))!="symbol"?r+"":r,t)},s=W(function(){v={AppId:"save-the-pets",AppDescription:"",ApiHost:"https://igs-singleplay.suncs.app",OtherHost:"https://igs-leaderboard.suncs.app",Ads:{Enabled:!0,PreloadAds:!1,NotifyPlayerBeforeShow:!1,ShowAdOnLoad:{Enabled:!1,DelaySeconds:0,PlacementId:"ad_demo_01"},DegradationTracking:{ResetTimeMinutes:5,MaxFailedAttempts:8},AdServiceConfigs:{AdSense:{Enabled:!1,UsePreload:!1,DataAdClient:"ca-pub-1234567890",DataAdChannel:"1234567890",DataAdBreakTest:!1,DataAdFrequencyHint:30},Savana:{Enabled:!1,UsePreload:!1,DataAdClient:"ca-pub-1234567890",DataAdChannel:"1234567890",DataAdBreakTest:!1,DataAdFrequencyHint:45,BannerAdSlotId:"1234567890"},AppLovin:{Enabled:!1,UsePreload:!1}},InterstitialAdOptions:[{DeviceOS:"default",PlacementId:"interstitial_01",SecondsFirstTime:45,SecondsBetweenAds:60}],RewardedVideoAdOptions:[{DeviceOS:"default",PlacementId:"rewarded_video_01",SecondsFirstTime:0,SecondsBetweenAds:0}],RewardedInterstitialAdOptions:[],BannerDisplayAdOptions:[]},Languages:{Enabled:!0,DetectPlayerLocale:!0},GameSDKOptions:{AllowWithoutSDK:!1,UseNameGenerator:!0,MSGames:{LoginOnStart:!1,MaxLoginAttemptsPerDay:1},Yandex:{LoginOnStart:!1,MaxLoginAttemptsPerDay:1},Playable:{AppleAppStoreUrl:"",GooglePlayStoreUrl:""},TranssionH5:{GaId:"G-XXXXXXXXXX"}},Core:{InitAsync:!0,AverageLoadTime:5,StartSDKAfterLoadGame:!1,FastCheckTournamentContext:!0},GameEngine:{ForceDesktopDPR:2,AutoResizeCanvas:!0,PreferredFPS:{Mobile:60,Desktop:60},DynamicAtlas:{IOS:{Enabled:!0,MaxAtlasSize:8192,MaxFrameSize:2048,MaxAtlasCount:1},Android:{Enabled:!0,MaxAtlasSize:4096,MaxFrameSize:2048,MaxAtlasCount:1},Desktop:{Enabled:!0,MaxAtlasSize:8192,MaxFrameSize:2048,MaxAtlasCount:1},OptimizeAtlas:{Enabled:!1,AtlasDebug:!1,AutoAtlasSize:!0,UsePowerOfTwo:!1,TextureBleeding:!0,AllowNonePackable:!1,OnlyOptimizeWhenRenderTooLong:!0}},DynamicAssets:{Enabled:!1,Resolution:{Source:2,Available:[1,2]},Compression:{Debug:!1,Enabled:!1,PNG:{colors:256,quality:80,dither:.6,palette:!0,compressionLevel:6},JPEG:{quality:80,mozjpeg:!0},WEBP:{quality:80,lossless:!1,alphaQuality:60,smartSubsample:!0,preset:"drawing"}},IgnoreFiles:[]},HybridFileCache:{Enabled:!0,BuildMode:{Enabled:!0,InvalidateMode:"both",SupportedExtensions:[".json"]},PreviewMode:{Enabled:!1,CacheScene:!1,CachePrefab:!1,CacheUuidExtension:!1,InvalidateMode:"commitId",SupportedExtensions:[".json"]}}},Gameplay:{StartAdAtLevel:1,MaxRescueCount:1,Tutorial:{Enabled:!0,ForceUseTutorial:!1}},Firebase:{Enabled:!1,Options:{AppId:"",ApiKey:"",ProjectId:"",AuthDomain:"",StorageBucket:"",MeasurementId:"",MessagingSenderId:""},Services:{Analytics:{Enabled:!1},Performance:{Enabled:!1},RemoteConfig:{Enabled:!1}}},Analytics:{Enabled:!0,GoogleAnalytics:{Enabled:!0,ConsoleLog:!1},ClarityAnalytics:{Enabled:!1,ConsoleLog:!1,ScreenshotCanvas:{Interval:1500,ByEvent:["APP_READY","PAGE_VIEW","BUTTON_CLICK","AD_SHOWING","LEVEL_START","LEVEL_END"]}},FirebaseAnalytics:{Enabled:!1,ConsoleLog:!1},FacebookAnalytics:{Prefix:"fba",Enabled:!1,ConsoleLog:!1}},PerformanceMonitor:{CoreFlows:!1,EngineFlows:!1,GameSDKFlows:!1,LoadResources:!1,FpsTracking:{Enabled:!1,TrackingDuration:60,TrackingInterval:10}},RemoteConfig:{Enabled:!1,Options:{ForceReloadGame:!1,FetchIntervalInSeconds:300},ServiceType:"mockup",DefaultConfigId:"default",SupportedDataTypes:["Ludex","Gameplay"],MockupConfig:{Enabled:!0},SelfHostedConfig:{Enabled:!1,AppId:"",ApiKey:"",ApiUrl:""}},Network:{MaximumRequest:6,Timeout:15e3,Retries:3},Leaderboards:{Enabled:!0,LeaderboardList:[{Name:"Daily",Id:"5fed5ccff033f2477a624a66",Mode:"single",Limit:50},{Name:"Weekly",Id:"5fed5ccff033f2477a624a65",Mode:"single",Limit:50}]},Notification:{Enabled:!1,ApiUrl:"https://notifications.sunstudio.io"},DailyRewards:{Enabled:!1,MaxDays:7,MockTime:0,CheckInterrupt:!1},Mockup:{Ads:{Enabled:!1,ErrorRate:5,GiphyApiKey:"VmjHIRsfrwCAssDS4mDo9DoImxJm1lLM",SafeAreaBottom:0},Match:{Enabled:!1,ErrorRate:5,PlayerInfo:{Id:"player-mock",Name:"Player Mock",Photo:"",Signature:""},OpponentInfo:{Id:"opponent-mock",Name:"Opponent Mock",Photo:"",Signature:""}},GameSDK:{SlowAPI:{Enabled:!1,ErrorRate:5,StartDelay:1e3,InitialDelay:1e3,PlayerDataDelay:1e3},Context:{Enabled:!1},Player:{SubscribeBot:{Enabled:!1,CanSubscribeBot:!0},ConnectedPlayers:{Enabled:!1,ErrorRate:5,RandomDelayMs:1e3,NumOfPlayers:3}},AddShortcut:{Enabled:!1,CanCreateShortcut:!0},Tournament:{Enabled:!1,ErrorRates:5,RandomDelayMs:1e3,NumOfTournament:{Normal:10,HostPage:2}},Payments:{Enabled:!1,ErrorRates:5,RandomDelayMs:1e3,Products:[]}},Profile:{Enabled:!1,ErrorRate:5,RandomDelayMs:1e3,AvatarUrl:"https://picsum.photos/seed/%1/300/300",RandomNameApiKey:"a1f7164dc9d2468b953aef67b0a19355"},Leaderboards:{Enabled:!1,MinScore:10,MaxScore:100,ErrorRate:5,NumOfLeaders:{Min:10,Max:50},DefaultLimit:60,RandomDelayMs:1e3}},Debugger:{Console:{Enabled:!1,UseGroup:!0,UseInGameConsole:!1},Profiler:{Enabled:!1},EventLogging:{Enabled:!1},CanvasRecorder:{Enabled:!1,OnlyCore:!1,PanelExpanded:!1,Options:{Type:"png",Quality:.85,RecordFps:60,SyncFps:!0}},MonitorError:{Enabled:!1,ApiKey:"",Service:"BugSnag",TrackUser:!1,TrackPerformance:!1,FilterErrors:{Codes:{Accepted:[],Ignored:["USER_INPUT","NETWORK_FAILURE"]},Messages:{Accepted:[],Ignored:["Load image failed"]}},Feedback:!1},ListPlayerDevIds:[],InputRecorder:{Enabled:!1,Logging:!0,PlaybackDelay:0,TimeScale:1,UseVisualizer:!0,SkipInactivity:{Enabled:!0,MinTime:3e3},MouseEvents:{mousedown:!0,mouseup:!0,mousemove:!0,mouseenter:!0,mouseleave:!0,mouseout:!0,mouseover:!0}}},AdaptivePerformance:{Enabled:!1,Quality:{Min:1,Max:2,AdjustStep:.1},Options:{FpsThreshold:48,CheckInterval:2e3,AutoUpgradeQuality:!0,OnlyUpdateWhenSwitchScene:!1},TrackingSceneNames:["GameScene"]},FrameCapture:{Enabled:!0,Options:{Quality:.85,RenderType:"jpeg",UseBlobIfPossible:!0,FallbackWithWideframe:"Default"}},Auth:{Enabled:!0},Audio:{Enabled:!0},Match:{Enabled:!0},Player:{Enabled:!0},Profile:{Enabled:!0},Context:{Enabled:!0},Missions:{Enabled:!1},Visibility:{Enabled:!1}}}),i=W(function(){A={AllowWithoutSDK:!1,UseNameGenerator:!0}}),c=W(function(){(Ie=window.console).debug=function(){},Ie.info=Ie.log=Ie.dir=Ie.warn=Ie.error=Ie.debug=Ie.table=Ie.trace=Ie.group=Ie.groupEnd=Ie.groupCollapsed=function(){}}),l=W(function(){gt={},(dr=window).__listeners=gt,kg=dr.addEventListener.bind(dr),Gg=100,dr.addEventListener=function(w,r,t){gt[w]||(gt[w]=[]),gt[w].length>=Gg&&(gt[w].length=0),gt[w].push(r),kg(w,r,t)}}),d=W(function(){(Ne=window).__errorQueue=[],Fg=100,a(Bg,"disableSimpleTrackErrors"),a(Gd,"errorHandler"),a(Ug,"init"),Ne.addEventListener("load",function(){Bg(),Ug()})}),u=W(function(){Vg=a(function(w){return Math.max(0,Math.min(100,~~w))},"clamp"),ur=null,window.__sdkLoad={percent:0,ensure:function ensure(r){if(!(this.percent>r)){var t=Vg(r);t<=this.percent||(this.percent=t,ur||(ur=GameSDK),ur&&ur.setLoadingProgress(t))}}}}),p=W(function(){var w;window.__errorQueue=null!=(w=window.__errorQueue)?w:[],pr=null,Bd=a(function(){pr&&clearInterval(pr),pr=null},"stopProgressTimer"),Kg=a(function(r){var t=r-window.__sdkLoad.percent;t<=0||(pr=setInterval(function(){var o=window.__sdkLoad.percent+1;o>r?Bd():window.__sdkLoad.ensure(o)},Math.max(5e3/t,50)))},"startProgressTimer"),Pt=a(function(r){var t,e,n,o,S=null==(t=Ludex)?void 0:t.Utils.Function.toError(r);(null==S?void 0:S.message)&&(kn("app_crash_handle",{error:S.message}),null==(e=window.__errorQueue)||e.push(S),null==(o=codex)||null==(n=o.monitorError)||n.sendException(S))},"logError"),Hg="GameSDK Initialize",jg=a(function(){var r=console.time,t=console.timeEnd,e=console.timeLog,n=a(function(o){return o[0]===Hg},"skipMark");console.time=function(){for(var o,S=arguments.length,I=Array(S),b=0;b<S;b++)I[b]=arguments[b];n(I)||(o=r).call.apply(o,[console].concat(_to_consumable_array(I)))},console.timeEnd=function(){for(var o,S=arguments.length,I=Array(S),b=0;b<S;b++)I[b]=arguments[b];n(I)||(o=t).call.apply(o,[console].concat(_to_consumable_array(I)))},console.timeLog=function(){for(var o,S=arguments.length,I=Array(S),b=0;b<S;b++)I[b]=arguments[b];n(I)||(o=e).call.apply(o,[console].concat(_to_consumable_array(I)))}},"monitorGameSDKFlows"),kn=a(function(r,t){var e,n;r&&(null==(n=codex)||null==(e=n.analytics)||e.event(r,t))},"logAnalyticsEvent"),mr=null,Wg=a(function(){Gn(),mr=setTimeout(function(){var r,t,e;window.__sdkLoad.percent<=5&&(null==(e=GameSDK)||null==(t=e.extra)||null==(r=t.displayWarnLoading)||r.call(t,!0))},8e3)},"startSlowLoadingCheck"),Gn=a(function(){var r,t,e;null!==mr&&(clearTimeout(mr),mr=null),null==(e=GameSDK)||null==(t=e.extra)||null==(r=t.displayWarnLoading)||r.call(t,!1)},"clearSlowLoadingCheck"),Fd=!1,zg=a(function(r){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){return Fd?[2]:(Fd=!0,[2,((t=document.createElement("script")).src="https://www.googletagmanager.com/gtag/js?id=".concat(r),t.async=!0,new Promise(function(n,o){var S=!1,I=null,b=null,D=null,k=a(function(){null!==I&&clearTimeout(I),b&&t.removeEventListener("load",b),D&&t.removeEventListener("error",D)},"cleanup");I=setTimeout(function(){S||(S=!0,k(),o(Error("Timeout loading GA script after ".concat(10,"s"))))},1e4),b=a(function(){S||(S=!0,k(),n())},"loadHandler"),D=a(function(){S||(S=!0,k(),o(Error("Failed to load GA script")))},"errorHandler"),t.addEventListener("load",b),t.addEventListener("error",D),document.head.appendChild(t)}))])})})()},"loadGAScript"),qg=a(function(r,t,e){try{if("function"!=typeof window.gtag)return;var n=(null==(ke=GameSDK)?void 0:ke.getEntryPointData())||{},o=n.fbig_ad_id,S=n.fbig_adset_id,I=n.fbig_campaign_id,b=n.fb_instant_game_adset_id,D=n.fb_instant_game_ad_id,k=n.fb_instant_game_campaign_id,E=null!=(ce=null!=o?o:D)?ce:void 0,L=null!=(ye=null!=S?S:b)?ye:void 0,C=null!=(Pe=null!=I?I:k)?Pe:void 0;window.dataLayer=window.dataLayer||[],window.gtag("js",new Date),window.gtag("set",{client_id:"100.".concat(r),user_id:r,send_page_view:!1});var R=7,$=!0,z=!1,ne=void 0;try{for(var ce,ye,Pe,ke,Jt,sn,qn,sa,Qn=e[Symbol.iterator]();!($=(sa=Qn.next()).done);$=!0){var la=sa.value;window.gtag("config",la,{cookie_flags:"SameSite=None;Secure",build:R,medium:t,campaign:C,groups:"GA"})}}catch(ta){z=!0,ne=ta}finally{try{$||null==Qn.return||Qn.return()}finally{if(z)throw ne}}var ua=((null==(qn=Ludex)||null==(sn=qn.Utils)||null==(Jt=sn.Browser)?void 0:Jt.getQueryParams())||{}).entry_point||t,na={user_id:r,player_id:r,app_version:R,traffic_source:t,traffic_source_detail:ua,ad_id:E,adset_id:L,campaign_id:C,new_user:void 0,coins:void 0,score:void 0};window.gtag("set","user_properties",na)}catch(ta){Pt(ta)}},"initGoogleAnalytics"),Yg=a(function(){return _async_to_generator(function(){var r;return _ts_generator(this,function(t){r=[];try{return[2]}catch(e){Pt(e)}finally{Qg()}return[2]})})()},"processGoogleAnalytics"),Jg=a(function(){try{if(!(null!=(n=codex)&&n.player)||"function"!=typeof window.gtag)return;var r,t,e,n,o,S,I=null!=(r=codex.player.getBestScore())?r:0,b=null!=(t=null==(o=codex.player.getGameData())?void 0:o.coins)?t:0,D=null!=(e=codex.player.isFirstSession())?e:void 0,k=(null==(S=GameSDK)?void 0:S.getEntryPointData())||{},E=k.content,L=k.notif_id,C={new_user:D,coins:b,score:I};(E||L)&&(C.traffic_source_detail=null!=E?E:"notif_".concat(L));var R=Object.entries(C).filter(function($){var z=_sliced_to_array($,2),ne=(z[0],z[1]);return void 0!==ne}).reduce(function($,z){var ne=_sliced_to_array(z,2),ce=ne[0],ye=ne[1];return $[ce]=ye,$},{});Object.keys(R).length>0&&window.gtag("set","user_properties",R)}catch($){Pt($)}},"updateUserProperties"),Qg=a(function(){var r=Ludex.Events,t=Ludex.Plugins.Analytics,e=(void 0===t?{}:t).Events;if(e)try{kn(e.APP_LAUNCH),codex.event.catchUp(r.GAME_SDK_READY,function(){kn(e.APP_INITIALIZED)}),codex.event.catchUp(r.PLAYER_INFO_LOADED,Jg)}catch(n){Pt(n)}finally{codex.event.emit(r.ANALYTICS_READY)}},"finalizeAnalyticsInitialization"),Ud=a(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _async_to_generator(function(){var t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),Wg(),[4,GameSDK.initializeAsync()];case 1:return n.sent(),Gn(),Kg(100),t=Yg(),codex.event.emit(Ludex.Events.GAME_SDK_READY),[3,3];case 2:return e=n.sent(),Gn(),Bd(),r>=5?(Pt(e),[2]):(setTimeout(function(){return Ud(r+1)},2e3),[3,3]);case 3:return[2]}})})()},"initGameSDK"),Xg=a(function(){var r=0,t=a(function(){"GameSDK"in window?Ud():r<1e4?(r+=50,setTimeout(t,50)):Pt(Error("GameSDK not found after ".concat(10,"s")))},"check");t()},"waitForGameSDKAndInitialize"),jg(),Xg()}),m=W(function(){Zg=window.navigator.getGamepads,window.navigator.getGamepads=function(){try{return Zg()}catch(unused){return[]}}}),h=W(function(){window.performance=window.performance||{},("function"!=typeof performance.mark||"function"!=typeof performance.measure)&&(window.performance={mark:a(function(){},"mark"),measure:a(function(){},"measure")}),performance.mark("load-start")}),f=W(function(){Fn="0",Bn="0",eP=a(function(){if(URLSearchParams){var w=new URLSearchParams(window.location.search);Fn=w.get("no-toolbar")||Fn,Bn=w.get("no-vconsole")||Bn,"1"===Fn&&tP(),"1"===Bn&&rP()}},"initUtils"),tP=a(function(){var w=setInterval(function(){var r=document.querySelector(".toolbar");_instanceof(r,HTMLDivElement)&&(clearInterval(w),r.style.display="none")},100)},"setupNoToolbar"),rP=a(function(){Object.defineProperty(window,"VConsole",{value:void 0,writable:!1,configurable:!1});var w=document.querySelector('script[src="/node_modules/vconsole/dist/vconsole.min.js"]');w&&w.remove()},"setupNoVConsole"),eP(),nP=["Init Base","Init Infrastructure","Init SubSystem","Init Project"],a(function(){var w=console.time,r=console.timeEnd,t=console.timeLog,e=a(function(n){return!!nP.includes(n[0])},"skipMark");console.time=function(){for(var n,o=arguments.length,S=Array(o),I=0;I<o;I++)S[I]=arguments[I];e(S)||(n=w).call.apply(n,[console].concat(_to_consumable_array(S)))},console.timeEnd=function(){for(var n,o=arguments.length,S=Array(o),I=0;I<o;I++)S[I]=arguments[I];e(S)||(n=r).call.apply(n,[console].concat(_to_consumable_array(S)))},console.timeLog=function(){for(var n,o=arguments.length,S=Array(o),I=0;I<o;I++)S[I]=arguments[I];e(S)||(n=t).call.apply(n,[console].concat(_to_consumable_array(S)))}},"monitorEngineFlows")()}),y=W(function(){oP=a(function(){System.register(["../application.js"],function(){var w,r=function r(n){return System.import(n)};function t(){var e=document.getElementById("GameCanvas"),n=null==e?void 0:e.parentElement;if(!n)return void setTimeout(t,300);e.style.position="relative";var o=n.getBoundingClientRect();e.width=o.width,e.height=o.height;var S=new w;r("cc").then(function(I){return new Promise(function(b){codex.event.catchUp(Ludex.Events.CORE_BOOTING,function(){window.__sdkLoad.ensure(20),b(S.init(I))})})}).then(function(){return window.__sdkLoad.ensure(30),S.start()}).then(function(){window.__sdkLoad.ensure(40)}).catch(function(I){var b,D=Ludex.Utils.Function.toError(I);null==(b=codex.monitorError)||b.sendException(D)})}return a(r,"topLevelImport"),a(t,"execute"),{setters:[function(e){w=e.Application}],execute:t}})},"initCocos"),sP=a(function(){var w,r,t=System,e=t.import,n=t.register,o=a(function(S){setTimeout(function(){return t.delete(S)},8e3)},"deleteModule");t.import=function(){for(var S=arguments.length,I=Array(S),b=0;b<S;b++)I[b]=arguments[b];return o(I[0]),(w=e).call.apply(w,[t].concat(_to_consumable_array(I)))},t.register=function(){for(var S=arguments.length,I=Array(S),b=0;b<S;b++)I[b]=arguments[b];return(Array.isArray(I[0])?I[0]:[I[0]]).forEach(o),(r=n).call.apply(r,[t].concat(_to_consumable_array(I)))}},"injectFlushSystem"),iP=setInterval(function(){"System"in window&&(clearInterval(iP),sP(),oP())},5)}),g=W(function(){window.dataLayer=window.dataLayer||[],a(cP,"trace"),window.gtag=cP,a(lP,"addGoogleAnalyticsScript"),lP()}),P=W(function(){Vd=a(function(w){if(w.startsWith("http")||w.startsWith("data:"))return w;var r=_sliced_to_array(w.split("?"),2),t=r[0],e=r[1],n=t.split("/").map(function(o){return o&&o.replace(/[^a-zA-Z0-9\-._]/g,".")}).join("/");return e?"".concat(n,"?").concat(e):n},"sanitizeUrl"),a(Kn=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"open",value:function value(e,n,o,S,I){var b="string"==typeof n?Vd(n):n;_get(_get_prototype_of(r.prototype),"open",this).call(this,e,b,!1!==o,S,I)}}]),r}(window.XMLHttpRequest),"YoutubeAdapterRequest"),Un=Kn,window.XMLHttpRequest=Un,a(Hn=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"src",get:function get(){return _get(_get_prototype_of(r.prototype),"src",this)},set:function set1(e){_set(_get_prototype_of(r.prototype),"src",Vd(e),this,!0)}}]),r}(window.Image),"YoutubeAdapterImage"),Vn=Hn,window.Image=Vn}),Q={};kd(Q,{default:function _default(){return O}});var O,Wn,hr,Yn,fr,pP,Xn,yr,gr,mP,hP,fP,yP,Kd,ea,ra,Hd,Wd,zd,aa,Pr,ia,qd,Ut,gP,PP,xP,wP,$P,Jd,ca,da,Qd,pa,xr,fa,Zd,tu,ga,ru,xa,au,$a,su,va,cu,ba,vP,xt,_=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),O=null}),zn=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),Wn=function(){function w(r){var t=this;_class_call_check(this,w),_define_property(this,"c",void 0),_define_property(this,"t",void 0),_define_property(this,"H",null),_define_property(this,"K","SOLO"),_define_property(this,"Pt",[]),_define_property(this,"ae",null),_define_property(this,"x",null),_define_property(this,"se",null),_define_property(this,"Xe",void 0),_define_property(this,"It",[]),_define_property(this,"fe",void 0),_define_property(this,"V",a(function(e){return function(){t.t.isPopupShown=!1,e(!0)}},"handleOnYes$")),_define_property(this,"W",a(function(e){return function(){t.t.isPopupShown=!1;try{t.t.exceptionUserInput("Player closed the context menu")}catch(n){e(n)}}},"handleOnNo$")),this.c=r,this.t=r.extra}return _create_class(w,[{key:"setCurrentContextId",value:function value(t){this.ge(t),this.H=t,this.K="THREAD"}},{key:"initContextInfo",value:function value(t,e){var n=Ludex.Utils,o=n.Array,S=n.String;this.Xe={},this.fe={},this.It=o.fillWith(10,function(){return S.generateObjectId()}),!(!t||!e)&&(0>["SOLO","THREAD","POST","GROUP"].indexOf(e)||(this.H=t,this.K=e))}},{key:"getID",value:function value(){return this.H}},{key:"getType",value:function value(){return this.K}},{key:"hs",value:function value(){return _async_to_generator(function(){var t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return this.se?[2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:return(e="function"==typeof(t=n.sent().default))?(this.se=new t,[4,this.se.setupTemplate()]):[3,3];case 2:e=n.sent(),n.label=3;case 3:return[2]}})}).call(this)}},{key:"us",value:function value(){return _async_to_generator(function(){var t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return this.ae?[2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:return(e="function"==typeof(t=n.sent().default))?(this.ae=new t,[4,this.ae.setupTemplate()]):[3,3];case 2:e=n.sent(),n.label=3;case 3:return[2]}})}).call(this)}},{key:"ps",value:function value(){return _async_to_generator(function(){var t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return this.x?[2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:return(e="function"==typeof(t=n.sent().default))?(this.x=new t,[4,this.x.setupTemplate()]):[3,3];case 2:e=n.sent(),n.label=3;case 3:return[2]}})}).call(this)}},{key:"switchAsync",value:function value(t){return _async_to_generator(function(e){var n,o,S,I=arguments;return _ts_generator(this,function(b){switch(b.label){case 0:return n=this,o=I.length>1&&void 0!==I[1]&&I[1],this.t.checkPopupShown(),[4,this.t.awaitRandomDelay()];case 1:return b.sent(),this.ys(e),"SOLO"===e&&o?(this.H=null,this.K="SOLO",this.Ze([]),[2]):[4,this.hs()];case 2:return b.sent(),[4,new Promise(function(D,k){n.se||n.c.extra.exceptionUnsupported(),n.se.onYes(n.V(D)),n.se.onNo(n.W(k)),n.se.show(e),n.t.isPopupShown=!0})];case 3:return b.sent(),this.H=e,this.K="THREAD",this.ga(e,10),S=this.fe[e].map(function(D){return n.Dt(D)}),this.Ze(S),[2]}})}).apply(this,arguments)}},{key:"chooseAsync",value:function value(t){return _async_to_generator(function(){var e,n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:return e=this,this.t.checkPopupShown(),[4,this.t.awaitRandomDelay()];case 1:return I.sent(),[4,this.us()];case 2:return I.sent(),[4,new Promise(function(b,D){e.ae||e.c.extra.exceptionUnsupported(),e.ae.onYes(e.V(b)),e.ae.onNo(e.W(D)),e.ae.show(),e.t.isPopupShown=!0})];case 3:return I.sent(),n=Math.floor(Math.random()*this.It.length),o=this.It[n],this.ge(o),this.H=o,this.K="THREAD",this.ga(o,2),S=this.fe[o].map(function(b){return e.Dt(b)}),this.Ze(S),[2]}})}).call(this)}},{key:"createAsync",value:function value(t){return _async_to_generator(function(){var e,n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:return e=this,this.t.checkPopupShown(),[4,this.t.awaitRandomDelay()];case 1:return I.sent(),[4,this.fs(t)];case 2:return I.sent(),[4,this.ps()];case 3:return I.sent(),[4,new Promise(function(b,D){e.x||e.c.extra.exceptionUnsupported(),e.x.onYes(e.V(b)),e.x.onNo(e.W(D)),e.x.show(t),e.t.isPopupShown=!0})];case 4:return I.sent(),this.Xe[t]||(n=Ludex.Utils.String,this.Xe[t]=n.generateObjectId()),o=this.Xe[t],this.ge(o),this.H=o,this.K="THREAD",S=this.Dt(t),this.Ze([S]),[2]}})}).call(this)}},{key:"getPlayersAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return[4,this.t.awaitRandomDelay()];case 1:return[2,(t.sent(),this.Pt)]}})}).call(this)}},{key:"ga",value:function value(t,e){if(!this.fe[t]){var n=Ludex.Utils,o=n.Array,S=n.String,I=Math.floor(Math.random()*e),b=o.fillWith(I,function(){return S.generateObjectId()});this.fe[t]=b}return this.fe[t]}},{key:"Dt",value:function value(t){return{getID:a(function(){return t},"getID"),getName:a(function(){return"Player ".concat(t)},"getName"),getPhoto:a(function(){return""},"getPhoto")}}},{key:"Ze",value:function value(t){if("SOLO"===this.K){this.Pt=[];return}this.Pt=t}},{key:"ge",value:function value(t){this.H===t&&this.t.exceptionSameContext()}},{key:"fs",value:function value(t){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return(!t||Array.isArray(t))&&this.t.exceptionClientUnsupportedOperation("Client does not support no player IDS or multiple player IDs yet"),Ludex.Utils.Valid.isString(t)||(e="Array of type String contained a value of another type: ".concat(t),this.t.exceptionInvalidParam(e)),t===GameSDK.player.getID()&&this.t.exceptionInvalidParam("At least one player id besides the current player must be provided."),[4,GameSDK.player.getConnectedPlayersAsync()];case 1:return o.sent().some(function(S){return S.getID()===t})||(n="Provided ID ".concat(t," is not a connected player of the current player."),this.t.exceptionInvalidParam(n)),[2]}})}).call(this)}},{key:"ys",value:function value(t){this.ge(t),Ludex.Utils.Valid.isString(t)||this.t.exceptionClientUnsupportedOperation("Client requires update to support this operation")}}]),w}(),a(Wn,"Context"),hr=Wn}),Jn=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),a(Yn=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[e]),"code",void 0),n.code=t,n}return _inherits(r,w),r}(_wrap_native_super(Error)),"SDKCommonError"),fr=Yn}),Zn=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),Jn(),pP=1e4,a(Xn=function(){function w(r){_class_call_check(this,w),_define_property(this,"c",void 0),_define_property(this,"isGuest",!1),_define_property(this,"isPopupShown",!1),_define_property(this,"z",null),this.c=r}return _create_class(w,[{key:"checkAndSubscribeBotAsync",value:function value(){return _async_to_generator(function(){var t,e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return[4,this.c.player.canSubscribeBotAsync()];case 1:if(!S.sent())return[2,!1];t=codex.analytics,(n=(void 0===(e=Ludex.Plugins.Analytics)?{}:e).Events)&&t.event(n.BOT_SUBSCRIBE_POPUP),S.label=2;case 2:return S.trys.push([2,5,,6]),[4,this.waitSDKInitiatedAsync()];case 3:return S.sent(),[4,this.c.player.subscribeBotAsync()];case 4:return[2,(S.sent(),n&&t.event(n.BOT_SUBSCRIBE,{success:!0}),!0)];case 5:return o=S.sent(),[2,(n&&t.event(n.BOT_SUBSCRIBE,{success:!1}),!1)];case 6:return[2]}})}).call(this)}},{key:"checkAndCreateShortcutAsync",value:function value(){return _async_to_generator(function(){var t,e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return[4,this.c.canCreateShortcutAsync()];case 1:if(!S.sent())return[2];t=codex.analytics,(n=(void 0===(e=Ludex.Plugins.Analytics)?{}:e).Events)&&t.event(n.SHORTCUT_CREATE_POPUP),S.label=2;case 2:return S.trys.push([2,5,,6]),[4,this.waitSDKInitiatedAsync()];case 3:return S.sent(),[4,this.c.createShortcutAsync()];case 4:return S.sent(),n&&t.event(n.SHORTCUT_CREATE,{success:!0}),[3,6];case 5:return o=S.sent(),n&&t.event(n.SHORTCUT_CREATE,{success:!1}),[3,6];case 6:return[2]}})}).call(this)}},{key:"waitSDKInitiatedAsync",value:function value(){var t=Ludex.Events.GAME_SDK_READY;return new Promise(function(e){codex.event.catchUp(t,e)})}},{key:"waitLudexReadyAsync",value:function value(){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){return t=0,[2,new Promise(function(n){var o=setInterval(function(){if("Ludex"in window){clearInterval(o),n();return}(t+=10)>pP&&(t=0)},10)})]})})()}},{key:"createLoadingElement",value:function value(){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){switch(e.label){case 0:return this.z?[2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:return"function"==typeof(t=e.sent().default)&&(this.z=new t),[2]}})}).call(this)}},{key:"setLoadingElementProgress",value:function value(t){this.z&&this.z.setLoadingProgress(t)}},{key:"displayWarnLoading",value:function value(t){this.z&&this.z.displayWarnLoading(t)}},{key:"destroyLoadingElement",value:function value(){this.z&&this.z.removeLoadingElement()}},{key:"checkPopupShown",value:function value(){this.isPopupShown&&this.exceptionPendingRequest("Please wait for the popup to close")}},{key:"delayInitialAsync",value:function value(){return _async_to_generator(function(){var t,e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return t=Ludex.Utils.Time,(n=!(e=Ludex.Configs.Mockup.GameSDK.SlowAPI).Enabled||e.InitialDelay<=0)?[3,2]:[4,t.sleepAsync(e.InitialDelay)];case 1:n=o.sent(),o.label=2;case 2:return[2]}})})()}},{key:"delayStartAsync",value:function value(){return _async_to_generator(function(){var t,e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return t=Ludex.Configs.Mockup.GameSDK.SlowAPI,e=Ludex.Utils.Time,(n=!t.Enabled||t.StartDelay<=0)?[3,2]:[4,e.sleepAsync(t.StartDelay)];case 1:n=o.sent(),o.label=2;case 2:return[2]}})})()}},{key:"delayPlayerDataAsync",value:function value(){return _async_to_generator(function(){var t,e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return t=Ludex.Configs.Mockup.GameSDK.SlowAPI,e=Ludex.Utils.Time,(n=!t.Enabled||t.PlayerDataDelay<=0)?[3,2]:[4,e.sleepAsync(t.PlayerDataDelay)];case 1:n=o.sent(),o.label=2;case 2:return[2]}})})()}},{key:"awaitRandomDelay",value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return Ludex.Utils.Time.sleepAsync(Math.random()*t)}},{key:"randomException",value:function value(t){var e=Math.floor(Math.random()*t.length),n=t[e];this["exception".concat(n)]()}},{key:"getErrorMessage",value:function value(t){var e=Ludex.Utils,n=e.Valid;return e.Object.hasOwn(t,"message")&&n.isString(t.message)?t.message:null}},{key:"A",value:function value(t,e){throw new fr(t,e)}},{key:"exceptionUserInput",value:function value(t){this.A("USER_INPUT",t)}},{key:"exceptionUnsupported",value:function value(){this.A("UNSUPPORTED","Unsupported method")}},{key:"exceptionInvalidParam",value:function value(t){this.A("INVALID_PARAM",t)}},{key:"exceptionPendingRequest",value:function value(t){this.A("PENDING_REQUEST",t)}},{key:"exceptionMethodNotImplemented",value:function value(){this.A("METHOD_NOT_IMPLEMENTED","Method not implemented")}},{key:"exceptionTournamentNotFound",value:function value(t){this.A("TOURNAMENT_NOT_FOUND",t)}},{key:"exceptionSameContext",value:function value(){this.A("SAME_CONTEXT","Must specify a context other than the current one.")}},{key:"exceptionInvalidOperation",value:function value(t){this.A("INVALID_OPERATION",t)}},{key:"exceptionNetworkFailure",value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request failed to be processed";this.A("NETWORK_FAILURE",t)}},{key:"exceptionUnknown",value:function value(t){this.A("UNKNOWN",t)}},{key:"exceptionClientUnsupportedOperation",value:function value(t){this.A("CLIENT_UNSUPPORTED_OPERATION",t)}},{key:"exceptionRateLimited",value:function value(t){this.A("RATE_LIMITED",t)}}]),w}(),"Extra"),yr=Xn}),jd=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),mP=_to_consumable_array(gr=["Unsupported","NetworkFailure","PendingRequest","ClientUnsupportedOperation"]).concat(["InvalidParam"]),hP=_to_consumable_array(gr).concat(["InvalidParam","UserInput"]),fP=_to_consumable_array(gr).concat(["NetworkFailure"]),yP=_to_consumable_array(gr).concat(["InvalidParam","UserInput"]),Kd="ProductsDataMockKey",ea="PurchasesDataMockKey",ra=function(){function w(r){var t=this;_class_call_check(this,w),_define_property(this,"c",void 0),_define_property(this,"t",void 0),_define_property(this,"n",void 0),_define_property(this,"re",null),_define_property(this,"V",a(function(e){return function(){t.t.isPopupShown=!1,e(!0)}},"handleOnYes$")),_define_property(this,"W",a(function(e){return function(){t.t.isPopupShown=!1;try{t.t.exceptionUserInput("Player closed the context menu")}catch(n){e(n)}}},"handleOnNo$")),this.c=r,this.t=r.extra,this.n=r.context}return _create_class(w,[{key:"initPaymentInfoAsync",value:function value(){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){switch(e.label){case 0:return(t=Ludex.Configs.Mockup.GameSDK.Payments.Enabled)?[4,this.gs()]:[3,2];case 1:t=e.sent(),e.label=2;case 2:return[2]}})}).call(this)}},{key:"getCatalogAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return[4,this._()];case 1:return t.sent(),this.et(mP),[2,Object.values(this.St())]}})}).call(this)}},{key:"ws",value:function value(){return _async_to_generator(function(){var t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return this.re?[2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:return(e="function"==typeof(t=n.sent().default))?(this.re=new t,[4,this.re.setupTemplate()]):[3,3];case 2:e=n.sent(),n.label=3;case 3:return[2]}})}).call(this)}},{key:"purchaseAsync",value:function value(t){return _async_to_generator(function(){var e;return _ts_generator(this,function(n){switch(n.label){case 0:return e=this,this.t.checkPopupShown(),[4,this._()];case 1:return n.sent(),this.xs(t),this.et(hP),[4,this.ws()];case 2:return n.sent(),[4,new Promise(function(o,S){e.re||e.c.extra.exceptionUnsupported(),e.re.onYes(e.V(o)),e.re.onNo(e.W(S)),e.re.show(t),e.t.isPopupShown=!0})];case 3:return[2,(n.sent(),this.As(t))]}})}).call(this)}},{key:"getPurchasesAsync",value:function value(){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){switch(e.label){case 0:return[4,this._()];case 1:return e.sent(),this.et(fP),[2,(t=this.c.player.getID())&&this.Et()[t]||[]]}})}).call(this)}},{key:"consumePurchaseAsync",value:function value(t){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return[4,this._()];case 1:return o.sent(),this.vs(t),this.et(yP),(e=this.c.player.getID())&&(n=(this.Et()[e]||[]).filter(function(S){return S.purchaseToken!==t}),this.wa(e,n)),[2]}})}).call(this)}},{key:"onReady",value:function value(t){t()}},{key:"_",value:function value(){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){return t=Ludex.Configs.Mockup.GameSDK.Payments.RandomDelayMs,[2,this.t.awaitRandomDelay(t)]})}).call(this)}},{key:"et",value:function value(t){100*Math.random()<Ludex.Configs.Mockup.GameSDK.Payments.ErrorRates&&this.t.randomException(t)}},{key:"xs",value:function value(t){var e=Ludex.Utils,n=e.Object,o=e.Valid;o.isObject(t)||this.t.exceptionInvalidParam("Config must be an object"),n.hasOwn(t,"productID")||this.t.exceptionInvalidParam("Config must have productID");var S=t.productID;o.isString(S)||this.t.exceptionInvalidParam("productID must be a string"),n.hasOwn(t,"developerPayload")&&!o.isString(t.developerPayload)&&this.t.exceptionInvalidParam("developerPayload must be a string")}},{key:"vs",value:function value(t){Ludex.Utils.Valid.isString(t)||this.t.exceptionInvalidParam("Purchase token must be a string")}},{key:"As",value:function value(t){var e=Ludex.Utils.String,n={productID:t.productID,paymentID:e.generateObjectId(),purchaseToken:e.generateObjectId(),purchaseTime:new Date().toISOString(),developerPayload:t.developerPayload,signedRequest:e.generateObjectId()},o=this.c.player.getID();if(o){var S=this.Et()[o]||[];S.push(n),this.wa(o,S)}return n}},{key:"gs",value:function value(){return _async_to_generator(function(){var t,e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return e=(t=Ludex.Configs.Mockup.GameSDK.Payments).Enabled,n=t.Products,!e||Object.values(this.St()).length>=n.length?[2]:[4,Promise.all(this.Ps())];case 1:return o.sent(),[2]}})}).call(this)}},{key:"Ps",value:function value(){var t=this;return Ludex.Configs.Mockup.GameSDK.Payments.Products.map(function(e){var n={productID:e.id,title:"Product ".concat(e.id),description:"Description for ".concat(e.id),price:e.price.toString(),priceCurrencyCode:"USD",priceAmount:e.price};return t.Is(e.id,n),n})}},{key:"St",value:function value(){var t=Ludex.Utils,e=t.Browser,n=t.Valid,o=e.getLocalStorage(Kd);return n.isObject(o)?o:{}}},{key:"Is",value:function value(t,e){var n=this.St();n[t]=e,this.Ds(n)}},{key:"Ds",value:function value(t){var e=Ludex.Utils,n=e.Browser;e.Valid.isObject(t)&&n.writeLocalStorage(Kd,t)}},{key:"Et",value:function value(){var t=Ludex.Utils,e=t.Browser,n=t.Valid,o=e.getLocalStorage(ea);return n.isObject(o)?o:{}}},{key:"wa",value:function value(t,e){var n,o=Ludex.Utils.Browser;if(Array.isArray(e)){var S=null!=(n=o.getLocalStorage(ea))?n:{};S[t]=e,o.writeLocalStorage(ea,S)}}}]),w}(),a(ra,"Payments"),Hd=ra}),oa=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),Wd="Save The Pets".replace(/ /g,"-"),zd="https://picsum.photos/seed/%1/300/300",aa=function(){function w(r){var t=this;_class_call_check(this,w),_define_property(this,"c",void 0),_define_property(this,"t",void 0),_define_property(this,"xa",void 0),_define_property(this,"S",void 0),_define_property(this,"Aa","".concat(Wd,"_PlayerInfo")),_define_property(this,"va","".concat(Wd,"_PlayerData")),_define_property(this,"we",null),_define_property(this,"tt",null),_define_property(this,"bs",a(function(){var e=t.Cs();return Ludex.Utils.Valid.isString(e)?e:"default_token"},"getSignature$")),this.c=r,this.t=r.extra,this.Ss()}return _create_class(w,[{key:"Ss",value:function value(){var t="guest-007";this.xa={playerId:t,playerName:"Guest",playerPhoto:zd.replace("%1",t)},this.t.isGuest=!0,this.S=N({},this.xa)}},{key:"initPlayerInfo",value:function value(t){this.Es(t),Ludex.Utils.Browser.writeLocalStorage(this.Aa,this.S)}},{key:"canSubscribeBotAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return[4,this.Pa()];case 1:return[2,(t.sent(),this.we||this.t.exceptionUnsupported(),this.we.canSubscribeBotAsync())]}})}).call(this)}},{key:"subscribeBotAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return[4,this.Pa()];case 1:return[2,(t.sent(),this.we||this.t.exceptionUnsupported(),this.we.subscribeBotAsync())]}})}).call(this)}},{key:"getID",value:function value(){return this.S.playerId}},{key:"getName",value:function value(){return this.S.playerName}},{key:"getPhoto",value:function value(){return this.S.playerPhoto}},{key:"getDataAsync",value:function value(t){return _async_to_generator(function(){var e,n,o,S,I,b,D,k,E,L,C,R;return _ts_generator(this,function($){switch($.label){case 0:return t.length<1?[2,{}]:[4,this.t.delayPlayerDataAsync()];case 1:if($.sent(),n=(e=Ludex.Utils).Browser,o=e.Valid,S=e.Object,I=n.getLocalStorage(this.va),!o.isObject(I))return[2,{}];b={},D=!0,k=!1,E=void 0;try{for(L=t[Symbol.iterator]();!(D=(C=L.next()).done);D=!0)R=C.value,S.hasOwn(I,R)&&(b[R]=I[R])}catch(z){k=!0,E=z}finally{try{D||null==L.return||L.return()}finally{if(k)throw E}}return[2,b]}})}).call(this)}},{key:"setDataAsync",value:function value(t){return _async_to_generator(function(){return _ts_generator(this,function(e){switch(e.label){case 0:return[4,this.t.delayPlayerDataAsync()];case 1:return e.sent(),Ludex.Utils.Browser.writeLocalStorage(this.va,t),[2]}})}).call(this)}},{key:"getSignedPlayerInfoAsync",value:function value(){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){return t=this,[2,{getPlayerID:a(function(){var n;return null!=(n=t.getID())?n:""},"getPlayerID"),getSignature:this.bs}]})}).call(this)}},{key:"getConnectedPlayersAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return[4,this.Ls()];case 1:return[2,(t.sent(),this.tt||this.t.exceptionUnsupported(),this.tt.getConnectedPlayersAsync())]}})}).call(this)}},{key:"Es",value:function value(t){var e=Ludex.Utils,n=e.Browser,o=e.Valid,S=e.Object,I=e.String,b=null!=t?t:"",D="Nameless";if(this.t.isGuest){var k=n.getLocalStorage(this.Aa);o.isObject(k)&&S.hasOwn(k,"playerId")&&o.isString(k.playerId)&&(b=k.playerId),o.isObject(k)&&S.hasOwn(k,"playerName")&&o.isString(k.playerName)&&(D=k.playerName)}o.isEmpty(b)&&(b=I.generateObjectId()),"Nameless"===D&&this.Os()&&(D=I.generateNameUsingString(b)),this.S.playerId=b,this.S.playerName=D,this.S.playerPhoto=zd.replace("%1",b),this._s(b)}},{key:"Os",value:function value(){return(null==A?void 0:A.UseNameGenerator)===!0}},{key:"Ns",value:function value(){var t=Ludex.Configs.Mockup.Match;return t.Enabled?t.PlayerInfo:null}},{key:"Ts",value:function value(){var t=Ludex.Configs.Mockup.Match;return t.Enabled?t.OpponentInfo:null}},{key:"_s",value:function value(t){var e=this.Ts();t!==(null==e?void 0:e.Id)&&(e=this.Ns()),e&&(this.S.playerId=e.Id,e.Name&&(this.S.playerName=e.Name),e.Photo&&(this.S.playerPhoto=e.Photo))}},{key:"Cs",value:function value(){var t=Ludex.Configs.Mockup.Match,e=t.PlayerInfo.Id===this.getID(),n=t.OpponentInfo.Id===this.getID();return e?t.PlayerInfo.Signature:n?t.OpponentInfo.Signature:null}},{key:"Pa",value:function value(){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){switch(e.label){case 0:return this.we?[2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:return"function"==typeof(t=e.sent().default)&&(this.we=new t(this.c)),[2]}})}).call(this)}},{key:"Ls",value:function value(){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){switch(e.label){case 0:return this.tt?[2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:return"function"==typeof(t=e.sent().default)&&(this.tt=new t(this.t)),[2]}})}).call(this)}}]),w}(),a(aa,"Player"),Pr=aa}),Yd=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),a(ia=function(){function w(r,t){var e,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_class_call_check(this,w),_define_property(this,"ne",void 0),_define_property(this,"bt",void 0),_define_property(this,"Lt",void 0),_define_property(this,"e",void 0),_define_property(this,"Ot",void 0),_define_property(this,"_t",void 0);var o=t.config,S=t.data;this.ne=r,this.bt=o.title,this.Lt="0123".concat(this.ne),this.e=JSON.stringify(null!=S?S:{}),this.Ot=null!=(e=o.endTime)?e:this.Rs(),this._t=n?"PAGE_HOSTED":"DEFAULT"}return _create_class(w,[{key:"Rs",value:function value(){return Math.round((Date.now()+6048e5)/1e3)}},{key:"getID",value:function value(){return this.ne}},{key:"getTitle",value:function value(){return this.bt}},{key:"getPayload",value:function value(){return this.e}},{key:"getEndTime",value:function value(){return this.Ot}},{key:"getContextID",value:function value(){return this.Lt}},{key:"getTournamentType",value:function value(){return this._t}},{key:"toObject",value:function value(){return{id:this.ne,title:this.bt,payload:this.e,endTime:this.Ot,contextId:this.Lt,tournamentType:this._t}}}]),w}(),"TournamentInstance"),qd=ia}),Xd=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),zn(),Yd(),gP=_to_consumable_array(Ut=["Unsupported","NetworkFailure","PendingRequest","ClientUnsupportedOperation"]).concat(["InvalidParam","UserInput"]),PP=_to_consumable_array(Ut).concat(["InvalidOperation","UserInput"]),xP=_to_consumable_array(Ut).concat(["InvalidParam","UserInput"]),wP=_to_consumable_array(Ut).concat(["InvalidParam","UserInput"]),$P=_to_consumable_array(Ut).concat(["NetworkFailure"]),Jd="TournamentsDataMockKey",ca="TournamentLeadersMockKey",da=function(){function w(r){var t=this;_class_call_check(this,w),_define_property(this,"c",void 0),_define_property(this,"t",void 0),_define_property(this,"n",void 0),_define_property(this,"ie",null),_define_property(this,"x",null),_define_property(this,"$s",a(function(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return(n=this.Ia(e))?[4,this.joinAsync(e)]:[3,2];case 1:n=o.sent(),o.label=2;case 2:return[2]}})}).call(t)},"processEnterTournament$")),_define_property(this,"V",a(function(e){return function(){t.t.isPopupShown=!1,e(!0)}},"handleOnYes$")),_define_property(this,"W",a(function(e){return function(){t.t.isPopupShown=!1;try{t.t.exceptionUserInput("Player closed the context menu")}catch(n){e(n)}}},"handleOnNo$")),this.c=r,this.t=r.extra,this.n=r.context}return _create_class(w,[{key:"initTournamentInfoAsync",value:function value(t){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return(e=Ludex.Configs.Mockup.GameSDK.Tournament.Enabled)?[4,this.Ms()]:[3,4];case 1:return o.sent(),(n=t)?[4,this.$s(t)]:[3,3];case 2:n=o.sent(),o.label=3;case 3:e=n,o.label=4;case 4:return[2]}})}).call(this)}},{key:"Ms",value:function value(){return _async_to_generator(function(){var t,e,n,o,S,I,b,D,k,E,L,C,R,$,z,ne,ce;return _ts_generator(this,function(ye){switch(ye.label){case 0:return t=Ludex.Utils.Object,n=(e=Ludex.Configs.Mockup.GameSDK.Tournament).Enabled,S=(o=e.NumOfTournament).Normal,I=o.HostPage,n?(b=this.be(),D=t.vals(b),E=(k=this.Gs(D)).filter(function(Pe){return"DEFAULT"===Pe.tournamentType}),L=k.filter(function(Pe){return"PAGE_HOSTED"===Pe.tournamentType}),C=E.length,R=L.length,$=S-C,z=I-R,ne=this.Us($),ce=this.Fs(z),[4,Promise.all(_to_consumable_array(ne).concat(_to_consumable_array(ce)))]):[2];case 1:return ye.sent(),[2]}})}).call(this)}},{key:"Gs",value:function value(t){var e=Date.now()/1e3,n=t.filter(function(L){return L.endTime>e}),o={},S=!0,I=!1,b=void 0;try{for(var D,k=n[Symbol.iterator]();!(S=(D=k.next()).done);S=!0){var E=D.value;o[E.id]=E}}catch(L){I=!0,b=L}finally{try{S||null==k.return||k.return()}finally{if(I)throw b}}return this.Da(o),n}},{key:"Us",value:function value(t){var e=this,n=Ludex.Utils,o=n.String,S=n.Array,I=n.Number,b=Ludex.Configs.Mockup.GameSDK.Tournament.ExtraPlayerTournamentPayload,D=codex.leaderboard,k=GameSDK.player.getID(),E=GameSDK.player.getName();return S.length(t).map(function(){return _async_to_generator(function(){var L,C,R,$,z;return _ts_generator(this,function(ne){switch(ne.label){case 0:return L="".concat(E,"'s Tournament ").concat(o.generateObjectId()),[4,D.createLeaderboardAsync({name:L})];case 1:return C=ne.sent(),R=this.Nt({initialScore:0,config:{title:L,tournamentTitle:L},data:N({playerId:k,playerName:E,leaderboardId:C},b)}).getID().toString(),this.st(R)||($=I.random(2),(z=codex.player.getConnectedPlayerIds($,0).map(function(ce){return{playerId:ce,score:I.random(4)}})).sort(function(ce,ye){return ce.score-ye.score}),this.Tt(R,z)),[2]}})}).call(e)})}},{key:"Fs",value:function value(t){var e=this,n=Ludex.Utils,o=n.String,S=n.Array,I=n.Number,b=Ludex.Configs.Mockup.GameSDK.Tournament.ExtraGlobalTournamentPayload,D=codex.leaderboard;return S.length(t).map(function(){return _async_to_generator(function(){var k,E,L,C,R,$;return _ts_generator(this,function(z){switch(z.label){case 0:return E=N({leaderboardId:k=o.generateObjectId(),playerId:"global"},b),L="Global Tournament ".concat(k),[4,D.createLeaderboardAsync({name:L,_id:k,type:"world_tournament_leaderboard",description:JSON.stringify(E)})];case 1:return z.sent(),C=this.Nt({initialScore:0,config:{title:L,tournamentTitle:L},data:E},!0).getID().toString(),this.st(C)||(R=I.random(2),($=S.length(R).map(function(){return{playerId:o.generateObjectId(),score:I.random(4)}})).sort(function(ne,ce){return ne.score-ce.score}),this.Tt(C,$)),[2]}})}).call(e)})}},{key:"_",value:function value(){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){return t=Ludex.Configs.Mockup.GameSDK.Tournament.RandomDelayMs,[2,this.t.awaitRandomDelay(t)]})}).call(this)}},{key:"randomError",value:function value(t){100*Math.random()<Ludex.Configs.Mockup.GameSDK.Tournament.ErrorRates&&this.t.randomException(t)}},{key:"ks",value:function value(){return _async_to_generator(function(){var t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return this.x?[2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:return(e="function"==typeof(t=n.sent().default))?(this.x=new t,[4,this.x.setupTemplate()]):[3,3];case 2:e=n.sent(),n.label=3;case 3:return[2]}})}).call(this)}},{key:"js",value:function value(){return _async_to_generator(function(){var t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return this.ie?[2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:return(e="function"==typeof(t=n.sent().default))?(this.ie=new t,[4,this.ie.setupTemplate()]):[3,3];case 2:e=n.sent(),n.label=3;case 3:return[2]}})}).call(this)}},{key:"createAsync",value:function value(t){return _async_to_generator(function(){var e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return e=this,this.t.checkPopupShown(),[4,this._()];case 1:return S.sent(),null!==this.n.getID()&&this.t.exceptionInvalidOperation("Cannot create tournament while in a context"),this.Bs(t),this.randomError(gP),[4,this.ks()];case 2:return S.sent(),[4,new Promise(function(I,b){e.x||e.c.extra.exceptionUnsupported(),e.x.onYes(e.V(I)),e.x.onNo(e.W(b)),e.x.show(t),e.t.isPopupShown=!0})];case 3:return S.sent(),o=(n=this.Nt(t)).getContextID(),[2,(this.Hs(o),n)]}})}).call(this)}},{key:"Nt",value:function value(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ludex.Utils.String.generateObjectId(),o=new qd(n,t,e),S=o.toObject();return this.Ks(n,S),o}},{key:"postScoreAsync",value:function value(t){return _async_to_generator(function(){var e;return _ts_generator(this,function(n){switch(n.label){case 0:return[4,this._()];case 1:return n.sent(),this.Sa(),t<0&&this.t.exceptionInvalidParam("Score must be a positive number"),this.randomError(wP),e=codex.player.getPlayerId(),this.Ea(e,t),[2]}})}).call(this)}},{key:"shareAsync",value:function value(t){return _async_to_generator(function(){var e,n,o,S,I,b,D,k;return _ts_generator(this,function(E){switch(E.label){case 0:return e=this,this.t.checkPopupShown(),[4,this._()];case 1:return E.sent(),this.Sa(),this.Vs(t),this.randomError(xP),[4,this.js()];case 2:return E.sent(),o=n=t.score,(S=this.Ct())&&(I=codex.player.getPlayerId(),b=S.getID().toString(),(D=this.Ws(b,I))&&D<n&&(o=D)),[4,new Promise(function(L,C){e.ie||e.c.extra.exceptionUnsupported(),e.ie.onYes(e.V(L)),e.ie.onNo(e.W(C)),e.ie.show(o),e.t.isPopupShown=!0})];case 3:return E.sent(),k=codex.player.getPlayerId(),this.Ea(k,n),[2]}})}).call(this)}},{key:"getTournamentsAsync",value:function value(){return _async_to_generator(function(){var t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return t=this,[4,this._()];case 1:return n.sent(),this.randomError($P),e=this.be(),[2,Ludex.Utils.Object.vals(e).map(function(o){return t.Rt(o.id)}).filter(function(o){return null!==o})]}})}).call(this)}},{key:"joinAsync",value:function value(t){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return[4,this._()];case 1:return o.sent(),Ludex.Utils.Valid.isString(t)||this.t.exceptionInvalidParam("Tournament ID must be a string"),(e=this.Rt(t))||this.t.exceptionTournamentNotFound("Tournament could not be found."),this.randomError(PP),n=e.getContextID(),[4,GameSDK.context.switchAsync(n)];case 2:return o.sent(),[2]}})}).call(this)}},{key:"Hs",value:function value(t){_instanceof(this.n,hr)&&this.n.setCurrentContextId(t)}},{key:"Ct",value:function value(){var t=this.n.getID();if(!t)return null;var e=this.be();for(var n in e)if(Object.hasOwn(e,n)&&e[n].contextId===t)return this.Rt(n);return null}},{key:"Bs",value:function value(t){var e=Ludex.Utils,n=e.Object,o=e.Valid;o.isObject(t)||this.t.exceptionInvalidParam("Payload must be an object"),n.hasOwn(t,"initialScore")||this.t.exceptionInvalidParam("Payload must have initialScore"),n.hasOwn(t,"config")||this.t.exceptionInvalidParam("Payload must have config");var S=t.initialScore,I=t.config;o.isNumber(S)||this.t.exceptionInvalidParam("initialScore must be a number"),o.isObject(I)||this.t.exceptionInvalidParam("Config must be an object"),n.hasOwn(I,"title")||this.t.exceptionInvalidParam("Config must have title"),n.hasOwn(I,"tournamentTitle")||this.t.exceptionInvalidParam("Config must have tournamentTitle"),n.hasOwn(t,"data")&&!o.isObject(t.data)&&this.t.exceptionInvalidParam("Data must be an object")}},{key:"Vs",value:function value(t){var e=Ludex.Utils,n=e.Object,o=e.Valid;o.isObject(t)||this.t.exceptionInvalidParam("Payload must be an object"),n.hasOwn(t,"score")||this.t.exceptionInvalidParam("Payload must have score");var S=t.score;o.isNumber(S)||this.t.exceptionInvalidParam("Score must be a number"),n.hasOwn(t,"data")&&!o.isObject(t.data)&&this.t.exceptionInvalidParam("Data must be an object")}},{key:"Sa",value:function value(){this.Ct()||this.t.exceptionTournamentNotFound("There is no tournament for this context.")}},{key:"Rt",value:function value(t){var e=this.Ia(t);return e?{getID:a(function(){return e.id},"getID"),getTitle:a(function(){return e.title},"getTitle"),getPayload:a(function(){return e.payload},"getPayload"),getEndTime:a(function(){return e.endTime},"getEndTime"),getContextID:a(function(){return e.contextId},"getContextID"),getTournamentType:a(function(){return e.tournamentType},"getTournamentType")}:null}},{key:"Ia",value:function value(t){var e=this.be();return e[t]?e[t]:null}},{key:"Ks",value:function value(t,e){var n=this.be();n[t]=e,this.Da(n)}},{key:"be",value:function value(){var t=Ludex.Utils,e=t.Browser,n=t.Valid,o=e.getLocalStorage(Jd);return n.isObject(o)?o:{}}},{key:"Da",value:function value(t){var e=Ludex.Utils,n=e.Browser;e.Valid.isObject(t)&&n.writeLocalStorage(Jd,t)}},{key:"Ws",value:function value(t,e){var n,o=this.ba(t,e);return o&&null!=(n=o.score)?n:null}},{key:"Ea",value:function value(t,e){var n=this.Ct();if(n){var o=n.getID().toString();if(o){var S=this.ba(o,t);if(!S)return void this.La(o,{playerId:t,score:e});S.score<e&&(S.score=e,this.La(o,S))}}}},{key:"ba",value:function value(t,e){var n,o=this.st(t);return o.length&&null!=(n=Ludex.Utils.Array.search(o,function(S){return S.playerId===e}))?n:null}},{key:"st",value:function value(t){var e=Ludex.Utils,n=e.Browser,o=e.Object,S=n.getLocalStorage(ca);if(!o.hasOwn(S,t))return[];var I=S[t];return Array.isArray(I)?(I.sort(function(b,D){return D.score-b.score}),I):[]}},{key:"La",value:function value(t,e){var n=Ludex.Utils.Array,o=this.st(t),S=n.searchIndex(o,function(I){return I.playerId===e.playerId});-1===S?o.push(e):o[S]=e,this.Tt(t,o)}},{key:"Tt",value:function value(t,e){var n,o=Ludex.Utils,S=o.Browser,I=o.Object;if(Array.isArray(e)){var b=null!=(n=S.getLocalStorage(ca))?n:{};I.assign(b,_define_property({},t,e)),S.writeLocalStorage(ca,b)}}}]),w}(),a(da,"Tournament"),Qd=da}),ma=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),zn(),Zn(),jd(),oa(),Xd(),a(pa=function(){function w(){_class_call_check(this,w),_define_property(this,"extra",void 0),_define_property(this,"player",void 0),_define_property(this,"context",void 0),_define_property(this,"tournament",void 0),_define_property(this,"payments",void 0),_define_property(this,"xe",null),_define_property(this,"isInitialized",!1),_define_property(this,"Ae",{}),_define_property(this,"Mt",null),_define_property(this,"Le",null),_define_property(this,"$t",null)}return _create_class(w,[{key:"Gt",value:function value(){this.extra=new yr(this),this.player=new Pr(this),this.context=new hr(this),this.payments=new Hd(this),this.tournament=new Qd(this)}},{key:"Oa",value:function value(){return(null==A?void 0:A.AllowWithoutSDK)!==!0}},{key:"getLocale",value:function value(){return Ludex.Utils.Browser.getLocale()}},{key:"getPlatform",value:function value(){var t=Ludex.Utils.Device;return t.isAndroid()?"ANDROID":t.isIOS()?"IOS":t.isDesktop()?"WEB":t.isMobile()?"MOBILE_WEB":null}},{key:"isGameSDK",value:function value(t){return this.getSDKName()===t}},{key:"getSDKName",value:function value(){return"Ludex"}},{key:"getSDKVersion",value:function value(){return"1.0.0"}},{key:"initializeAsync",value:function value(){return _async_to_generator(function(){var t,e,n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:return this.isInitialized?[2]:(this.Gt(),[4,this.extra.createLoadingElement()]);case 1:return I.sent(),window.__sdkLoad.ensure(1),(t=this.Oa())?[4,this._a()]:[3,3];case 2:t=I.sent(),I.label=3;case 3:return[4,this.extra.waitLudexReadyAsync()];case 4:return I.sent(),[4,this.extra.delayInitialAsync()];case 5:return I.sent(),(e=Ludex.Utils.Browser.getQueryParams()).splashPreview&&this.extra.destroyLoadingElement(),n=e.playerId,this.player.initPlayerInfo(n),o=e.context_source_id,S=e.context_type,this.context.initContextInfo(o,S),this.isInitialized=!0,[2]}})}).call(this)}},{key:"_a",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(t){return this.extra.exceptionInvalidOperation("GameSDK requires AllowWithoutSDK=true in game config"),[2]})}).call(this)}},{key:"startGameAsync",value:function value(){return _async_to_generator(function(){var t,e,n,o=arguments;return _ts_generator(this,function(S){switch(S.label){case 0:return t=!(o.length>0)||void 0===o[0]||o[0],this.isInitialized||this.extra.exceptionInvalidOperation("GameSDK is not initialized"),[4,this.extra.delayStartAsync()];case 1:return S.sent(),window.__sdkLoad.ensure(95),this.extra.destroyLoadingElement(),e=Ludex.Events,n=(0,Ludex.Utils.Browser.getQueryParams)().tournament_id,[4,this.tournament.initTournamentInfoAsync(n)];case 2:return S.sent(),[4,this.payments.initPaymentInfoAsync()];case 3:return S.sent(),t&&codex.event.emit(e.GAME_SDK_STARTED),[2]}})}).apply(this,arguments)}},{key:"setLoadingProgress",value:function value(t){var e,n;null==(n=this.extra)||null==(e=n.setLoadingElementProgress)||e.call(n,t)}},{key:"getEntryPointData",value:function value(){var t=Ludex.Utils,e=t.Browser,n=t.Json,o=e.getQueryParams().payload,S=void 0===o?"{}":o;return"string"!=typeof S?{}:n.decode(S)}},{key:"getEntryPointAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(t){return[2,"no_entry"]})})()}},{key:"loadBannerAdAsync",value:function value(t){return _async_to_generator(function(){var e;return _ts_generator(this,function(n){switch(n.label){case 0:return t?this.Ae[t]?[3,2]:[4,Promise.resolve().then(function(){return _(),Q})]:[3,5];case 1:"function"!=typeof(e=n.sent().default)&&this.extra.exceptionInvalidOperation("Banner ads mock is not enabled"),this.Ae[t]=new e("banner",t),n.label=2;case 2:return[4,this.Ae[t].loadAsync()];case 3:return n.sent(),[4,this.Ae[t].showAsync()];case 4:n.sent(),n.label=5;case 5:return[2]}})}).call(this)}},{key:"hideBannerAdAsync",value:function value(t){return _async_to_generator(function(){var e;return _ts_generator(this,function(n){switch(n.label){case 0:return(e=this.Ae[t])?[4,this.Ae[t].hideAsync()]:[3,2];case 1:e=n.sent(),n.label=2;case 2:return[2]}})}).call(this)}},{key:"getBannerHeight",value:function value(t){return t.BannerHeight}},{key:"getInterstitialAdAsync",value:function value(t){return _async_to_generator(function(){var e;return _ts_generator(this,function(n){switch(n.label){case 0:return this.Le?[3,2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:"function"!=typeof(e=n.sent().default)&&this.extra.exceptionInvalidOperation("Interstitial ads mock is not enabled"),this.Le=new e("interstitial",t),n.label=2;case 2:return[2,this.Le]}})}).call(this)}},{key:"getRewardedVideoAsync",value:function value(t){return _async_to_generator(function(){var e;return _ts_generator(this,function(n){switch(n.label){case 0:return this.Mt?[3,2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:"function"!=typeof(e=n.sent().default)&&this.extra.exceptionInvalidOperation("Rewarded video ads mock is not enabled"),this.Mt=new e("rewarded",t),n.label=2;case 2:return[2,this.Mt]}})}).call(this)}},{key:"getRewardedInterstitialAsync",value:function value(t){return _async_to_generator(function(){var e;return _ts_generator(this,function(n){switch(n.label){case 0:return this.$t?[3,2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:"function"!=typeof(e=n.sent().default)&&this.extra.exceptionInvalidOperation("Rewarded interstitial ads mock is not enabled"),this.$t=new e("rewarded_interstitial",t),n.label=2;case 2:return[2,this.$t]}})}).call(this)}},{key:"getTournamentAsync",value:function value(){return _async_to_generator(function(){var t,e,n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:return this.tournament.randomError(["Unsupported","NetworkFailure"]),t=this.context.getID(),n=(e=Ludex.Utils).Array,e.Valid.isString(t)||this.extra.exceptionInvalidOperation("Not in a context"),[4,this.tournament.getTournamentsAsync()];case 1:return o=I.sent(),[2,((S=n.search(o,function(b){return b.getContextID()===t}))||this.extra.exceptionTournamentNotFound("A Tournament with current context was not found"),S)]}})}).call(this)}},{key:"getSupportedAPIs",value:function value(){var t=Ludex.Configs.Mockup.GameSDK,e=t.Player.SubscribeBot.CanSubscribeBot,n=t.AddShortcut.CanCreateShortcut,o=[];return e&&o.push("player.canSubscribeBotAsync"),n&&o.push("canCreateShortcutAsync"),o}},{key:"canCreateShortcutAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return[4,this.Na()];case 1:return[2,(t.sent(),this.xe||this.extra.exceptionUnsupported(),this.xe.canCreateShortcutAsync())]}})}).call(this)}},{key:"createShortcutAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return[4,this.Na()];case 1:return[2,(t.sent(),this.xe||this.extra.exceptionUnsupported(),this.xe.createShortcutAsync())]}})}).call(this)}},{key:"Na",value:function value(){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){switch(e.label){case 0:return this.xe?[2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:return"function"==typeof(t=e.sent().default)&&(this.xe=new t(this)),[2]}})}).call(this)}}]),w}(),"GameSDK"),xr=pa}),eu=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),a(fa=function(){function w(r,t){_class_call_check(this,w),_define_property(this,"zs",void 0),_define_property(this,"Ta",void 0),this.zs=r,this.Ta=t}return _create_class(w,[{key:"getPlacementID",value:function value(){return this.Ta}},{key:"hideAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(t){return[2]})})()}}]),w}(),"AdInstance"),Zd=fa}),nu=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),Jn(),eu(),tu={AD_NOT_LOADED:"AD_NOT_LOADED",LOAD_ADS_FAILURE:"LOAD_ADS_FAILURE",INVALID_OPERATION:"INVALID_OPERATION",SHOW_ADS_FAILURE:"SHOW_ADS_FAILURE",SHOW_ADS_TIMEOUT:"SHOW_ADS_TIMEOUT",SHOW_ADS_COMPLETED_FAILURE:"SHOW_ADS_COMPLETED_FAILURE"},a(ga=function(w){function r(t){var e;return _class_call_check(this,r),_define_property(e=_call_super(this,r,["interstitial",""]),"m",void 0),_define_property(e,"Ut",!1),e.m=t,e}return _inherits(r,w),_create_class(r,[{key:"loadAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return[2,Promise.resolve()]})})()}},{key:"showAsync",value:function value(){return _async_to_generator(function(){var e;return _ts_generator(this,function(n){switch(n.label){case 0:if(this.Ut)throw this.Ca(tu.INVALID_OPERATION,"Can't show ads while showing ads");n.label=1;case 1:return n.trys.push([1,3,4,5]),this.Ut=!0,[4,this.m.ads.requestInterstitialAd()];case 2:return n.sent(),[3,5];case 3:throw e=n.sent(),this.Ca(tu.SHOW_ADS_FAILURE,e);case 4:return this.Ut=!1,[7];case 5:return[2]}})}).call(this)}},{key:"Ca",value:function value(e,n){var o=Ludex.Utils.Object,S=e,I="";if("string"==typeof n)I=n;else if(o.hasOwn(n,"message")&&"string"==typeof n.message)I=n.message;else if(o.hasOwn(n,"description")&&"string"==typeof n.description)I=n.description;else try{I=JSON.stringify(n)}catch(unused){I="Unknown error"}return o.hasOwn(n,"code")&&"string"==typeof n.code?S=n.code:o.hasOwn(n,"errorType")&&"string"==typeof n.errorType&&(S=n.errorType),new fr(S,I)}}]),r}(Zd),"YTAdInstance"),ru=ga}),ou=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),Zn(),a(xa=function(w){function r(t){var e;return _class_call_check(this,r),_define_property(e=_call_super(this,r,[t]),"m",void 0),e.m=t.sdk,e}return _inherits(r,w),_create_class(r,[{key:"logError",value:function value(e){try{this.m.health.logError()}catch(unused){}}},{key:"logWarning",value:function value(e){try{this.m.health.logWarning()}catch(unused){}}},{key:"sendScore",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.m.engagement.sendScore({value:e})];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),this.logError(n),n;case 3:return[2]}})}).call(this)}},{key:"openYTContent",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.m.engagement.openYTContent({id:e})];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),this.logError(n),n;case 3:return[2]}})}).call(this)}},{key:"shareInviteCode",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.m.game.shareInviteCode(e)];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),this.logError(n),n;case 3:return[2]}})}).call(this)}},{key:"onPause",value:function value(e){this.m.system.onPause(e)}},{key:"onResume",value:function value(e){this.m.system.onResume(e)}},{key:"isAudioEnabled",value:function value(){return this.m.system.isAudioEnabled()}},{key:"onAudioEnabledChange",value:function value(e){return this.m.system.onAudioEnabledChange(e)}}]),r}(yr),"YTExtra"),au=xa}),iu=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),oa(),a($a=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).m=t.sdk,e.t=t.extra,e}return _inherits(r,w),_create_class(r,[{key:"initPlayerAsync",value:function value(){return this.Ys()}},{key:"Ra",value:function value(){return!this.c.isInitialized||!this.m.IN_PLAYABLES_ENV}},{key:"Ys",value:function value(){return _async_to_generator(function(){var e;return _ts_generator(this,function(n){try{e=this.getID(),this.t.isGuest=!0,this.initPlayerInfo(e)}catch(unused){}return[2]})}).call(this)}},{key:"getDataAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"getDataAsync",n)};return _async_to_generator(function(){var I,b,D,k,E,L,C,R,$,z,ne,ce,ye,Pe;return _ts_generator(this,function(ke){switch(ke.label){case 0:if(this.Ra())return[2,S().call(o,e)];ke.label=1;case 1:return ke.trys.push([1,3,,4]),[4,this.m.game.loadData()];case 2:if(!(I=ke.sent())||(D=(b=Ludex.Utils).Json,k=b.Valid,E=b.Object,L=D.decode(I),!k.isObject(L)))return[2,{}];if(e.length<1)return[2,L];C={},R=!0,$=!1,z=void 0;try{for(ne=e[Symbol.iterator]();!(R=(ce=ne.next()).done);R=!0)ye=ce.value,E.hasOwn(L,ye)&&(C[ye]=L[ye])}catch(Jt){$=!0,z=Jt}finally{try{R||null==ne.return||ne.return()}finally{if($)throw z}}return[2,C];case 3:return Pe=ke.sent(),[2,(this.t.logWarning(Pe),{})];case 4:return[2]}})}).call(this)}},{key:"setDataAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"setDataAsync",n)};return _async_to_generator(function(){var I,b,D,k,E,L,C,R,$,z;return _ts_generator(this,function(ne){switch(ne.label){case 0:if(this.Ra())return[2,S().call(o,e)];ne.label=1;case 1:return ne.trys.push([1,4,,5]),[4,this.m.game.loadData()];case 2:return I=ne.sent(),D=(b=Ludex.Utils).Json,k=b.Valid,E=b.Object,L={},I&&(C=D.decode(I),k.isObject(C)&&(L=C)),R=E.merge(L,e),$=D.encode(R),[4,this.m.game.saveData($)];case 3:return ne.sent(),[3,5];case 4:throw z=ne.sent(),this.t.logError(z),z;case 5:return[2]}})}).call(this)}},{key:"getSignedPlayerInfoAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return this.t.exceptionUnsupported(),[2]})}).call(this)}},{key:"getConnectedPlayersAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return[2,[]]})})()}},{key:"canSubscribeBotAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return[2,!1]})})()}},{key:"subscribeBotAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return this.t.exceptionUnsupported(),[2]})}).call(this)}}]),r}(Pr),"YTPlayer"),su=$a}),lu=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),ma(),nu(),ou(),iu(),a(va=function(w){function r(t){var e;return _class_call_check(this,r),_define_property(e=_call_super(this,r),"sdk",void 0),_define_property(e,"Oe",null),e.sdk=t,e}return _inherits(r,w),_create_class(r,[{key:"Gt",value:function value(){_get(_get_prototype_of(r.prototype),"Gt",this).call(this),this.extra=new au(this),this.player=new su(this),this.Le=new ru(this.sdk)}},{key:"qs",value:function value(){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e=this,[4,this.sdk.system.getLanguage()];case 1:return e.Oe=o.sent(),[3,3];case 2:return n=o.sent(),this.extra.logError(n),[3,3];case 3:return[2]}})}).call(this)}},{key:"getSDKName",value:function value(){return"YoutubePlayables"}},{key:"getSDKVersion",value:function value(){return this.sdk.SDK_VERSION}},{key:"getLocale",value:function value(){var e;return null!=(e=this.Oe)?e:null}},{key:"_a",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return _type_of(this.sdk)>"u"&&this.extra.exceptionInvalidOperation("YouTube Playables SDK is not initialized"),[2]})}).call(this)}},{key:"initializeAsync",value:function value(){var e=this,n=this,o=function o(){return _get(_get_prototype_of(r.prototype),"initializeAsync",e)};return _async_to_generator(function(){var S;return _ts_generator(this,function(I){switch(I.label){case 0:return this.isInitialized?[3,5]:[4,o().call(n)];case 1:I.sent(),this.isInitialized=!1,I.label=2;case 2:return I.trys.push([2,4,,5]),[4,this.player.initPlayerAsync()];case 3:return I.sent(),this.qs(),this.sdk.game.firstFrameReady(),this.Qs(),this.isInitialized=!0,[3,5];case 4:if(S=I.sent(),this.Oa())throw Error("Youtube Playables SDK not initialized");return[3,5];case 5:return[2]}})}).call(this)}},{key:"startGameAsync",value:function value(){var e=this,n=this,o=function o(){return _get(_get_prototype_of(r.prototype),"startGameAsync",e)};return _async_to_generator(function(){return _ts_generator(this,function(S){switch(S.label){case 0:return[4,o().call(n)];case 1:return S.sent(),this.sdk.game.gameReady(),[2]}})}).call(this)}},{key:"Qs",value:function value(){var e=Ludex.Events,n=codex.event;this.extra.onPause(function(){n.emit(e.VISIBILITY_HIDDEN)}),this.extra.onResume(function(){n.emit(e.VISIBILITY_VISIBLE)})}},{key:"getInterstitialAdAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return[2,this.Le]})}).call(this)}},{key:"getRewardedVideoAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return this.extra.exceptionUnsupported(),[2]})}).call(this)}},{key:"getRewardedInterstitialAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return this.extra.exceptionUnsupported(),[2]})}).call(this)}},{key:"loadBannerAdAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return this.extra.exceptionUnsupported(),[2]})}).call(this)}},{key:"hideBannerAdAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return[2,Promise.resolve()]})})()}},{key:"getBannerHeight",value:function value(){return 0}},{key:"getTournamentAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return this.extra.exceptionUnsupported(),[2]})}).call(this)}},{key:"canCreateShortcutAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return[2,!1]})})()}},{key:"createShortcutAsync",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){return this.extra.exceptionUnsupported(),[2]})}).call(this)}},{key:"getSupportedAPIs",value:function value(){return["game.firstFrameReady","game.gameReady","game.loadData","game.saveData","engagement.sendScore","ads.requestInterstitialAd"]}}]),r}(xr),"YTAdapter"),cu=va}),wr=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),a(AP,"simpleHash"),a(ba=function(){function w(){_class_call_check(this,w),_define_property(this,"Ft",void 0),this.Ft=new Set}return _create_class(w,[{key:"Js",value:function value(){var t=Error().stack;if(!t)return null;for(var e=0,n=0;n<4;n++){var o=t.indexOf("\n",e);if(-1===o)return null;e=o+1}var S=t.indexOf("\n",e),I=-1===S?t.substring(e):t.substring(e,S);return I?I.trim():null}},{key:"blockAccess",value:function value(){try{var t=this.Js();if(!t)return!1;var e=AP(t);if(this.Ft.has(e))return!1;if(["eval","at <","(<"].some(function(n){return t.includes(n)}))throw Error("Access blocked for the caller: ".concat(t));return this.Ft.add(e),!1}catch(unused){return!0}}}]),w}(),"AccessBlocker"),vP=new ba,xt=a(function(w,r){var t=Object.getOwnPropertyDescriptor(w,r);if(t){var e=t.value,n=t.get,o=t.initializer;e&&(void 0===e?"undefined":_type_of(e))!="object"||n&&"function"!=typeof n||o&&"function"!=typeof o||Object.defineProperty(w,r,{enumerable:!1,get:function get(){var I;if(!vP.blockAccess())return null!=(I=null!=e?e:null==o?void 0:o.call(this))?I:null==n?void 0:n.call(this)},set:function set1(){}})}},"wrapGetterToBlockObjectAccess")}),x=W(function(){_(),_(),_(),_(),_(),_(),_(),_(),_(),_(),lu(),ma(),wr(),a(bP,"autoDetectAndInitializeSDKAdapter"),window.GameSDK=Object.seal(bP()),xt(window,"GameSDK")}),df=Mg(function(w,r){var t=function t(){},e=function e(k,E,L){this.fn=k,this.context=E,this.once=L||!1},n=function n(k,E,L,C,R){if("function"!=typeof L)throw TypeError("The listener must be a function");var $=new e(L,C||k,R),z=b?b+E:E;return k._events[z]?k._events[z].fn?k._events[z]=[k._events[z],$]:k._events[z].push($):(k._events[z]=$,k._eventsCount++),k},o=function o(k,E){0==--k._eventsCount?k._events=new t:delete k._events[E]},S=function S(){this._events=new t,this._eventsCount=0};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var I=Object.prototype.hasOwnProperty,b="~";a(t,"Events"),Object.create&&(t.prototype=Object.create(null),new t().__proto__||(b=!1)),a(e,"EE"),a(n,"addListener"),a(o,"clearEvent"),a(S,"EventEmitter"),S.prototype.eventNames=a(function(){var D,k,E=[];if(0===this._eventsCount)return E;for(k in D=this._events)I.call(D,k)&&E.push(b?k.slice(1):k);return Object.getOwnPropertySymbols?E.concat(Object.getOwnPropertySymbols(D)):E},"eventNames"),S.prototype.listeners=a(function(D){var k=b?b+D:D,E=this._events[k];if(!E)return[];if(E.fn)return[E.fn];for(var L=0,C=E.length,R=Array(C);L<C;L++)R[L]=E[L].fn;return R},"listeners"),S.prototype.listenerCount=a(function(D){var k=b?b+D:D,E=this._events[k];return E?E.fn?1:E.length:0},"listenerCount"),S.prototype.emit=a(function(D,k,E,L,C,R){var $=b?b+D:D;if(!this._events[$])return!1;var z,ne,ce=this._events[$],ye=arguments.length;if(ce.fn){switch(ce.once&&this.removeListener(D,ce.fn,void 0,!0),ye){case 1:return ce.fn.call(ce.context),!0;case 2:return ce.fn.call(ce.context,k),!0;case 3:return ce.fn.call(ce.context,k,E),!0;case 4:return ce.fn.call(ce.context,k,E,L),!0;case 5:return ce.fn.call(ce.context,k,E,L,C),!0;case 6:return ce.fn.call(ce.context,k,E,L,C,R),!0}for(ne=1,z=Array(ye-1);ne<ye;ne++)z[ne-1]=arguments[ne];ce.fn.apply(ce.context,z)}else{var Pe,ke=ce.length;for(ne=0;ne<ke;ne++)switch(ce[ne].once&&this.removeListener(D,ce[ne].fn,void 0,!0),ye){case 1:ce[ne].fn.call(ce[ne].context);break;case 2:ce[ne].fn.call(ce[ne].context,k);break;case 3:ce[ne].fn.call(ce[ne].context,k,E);break;case 4:ce[ne].fn.call(ce[ne].context,k,E,L);break;default:if(!z)for(Pe=1,z=Array(ye-1);Pe<ye;Pe++)z[Pe-1]=arguments[Pe];ce[ne].fn.apply(ce[ne].context,z)}}return!0},"emit"),S.prototype.on=a(function(D,k,E){return n(this,D,k,E,!1)},"on"),S.prototype.once=a(function(D,k,E){return n(this,D,k,E,!0)},"once"),S.prototype.removeListener=a(function(D,k,E,L){var C=b?b+D:D;if(!this._events[C])return this;if(!k)return o(this,C),this;var R=this._events[C];if(R.fn)R.fn!==k||L&&!R.once||E&&R.context!==E||o(this,C);else{for(var $=0,z=[],ne=R.length;$<ne;$++)(R[$].fn!==k||L&&!R[$].once||E&&R[$].context!==E)&&z.push(R[$]);z.length?this._events[C]=1===z.length?z[0]:z:o(this,C)}return this},"removeListener"),S.prototype.removeAllListeners=a(function(D){var k;return D?(k=b?b+D:D,this._events[k]&&o(this,k)):(this._events=new t,this._eventsCount=0),this},"removeAllListeners"),S.prototype.off=S.prototype.removeListener,S.prototype.addListener=S.prototype.on,S.prefixed=b,S.EventEmitter=S,(void 0===r?"undefined":_type_of(r))<"u"&&(r.exports=S)});s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var DP={CORE_BOOTING:"core-booting",REQUEST_CORE_START:"core-start",CORE_STARTING:"core-starting",CORE_READY:"core-ready",ANALYTICS_READY:"analytics-ready",GAME_SDK_READY:"game-sdk-ready",GAME_SDK_STARTED:"game-sdk-started",CONTEXT_DATA_PROCESSED:"context-data-processed",CONTEXT_SESSION_TYPE_DETECTED:"context-session-type-detected",GAME_READY:"game-ready",BUNDLE_READY:"bundle-ready",PLAYER_INFO_LOADED:"player-info-loaded",PLAYER_SETTINGS_CHANGED:"player-settings-changed",REQUEST_SHOW_BANNER_ADS:"request-show-banner-ads",SWITCH_SCENE:"switch-scene",SCENE_LOADED:"scene-loaded",PRELOAD_SCENE:"preload-scene",SCENE_PROGRESS:"scene-progress",SCENE_LAUNCHED:"scene-launched",SCENE_RENDERED:"scene-rendered",SCENE_BEFORE_RENDERED:"scene-before-rendered",MARK_IS_TEST_SCENE:"mark-is-test-scene",PRELOAD_SCREEN:"preload-screen",PRELOAD_SCREENS:"preload-screens",LOADING_SCREEN:"loading-screen",SCREEN_LOADED:"screen-loaded",OPENING_SCREEN:"opening-screen",OPEN_SCREEN:"open-screen",OPENED_SCREEN:"opened-screen",CLOSING_SCREEN:"closing-screen",CLOSE_SCREEN:"close-screen",CLOSED_SCREEN:"closed-screen",CORE_PLUGIN_READY:"core-plugin-ready",MODULE_PLUGIN_READY:"module-plugin-ready",AD_LOADING:"ad-loading",AD_LOADED:"ad-loaded",AD_LOAD_FAILED:"ad-load-failed",AD_SHOWING:"ad-showing",AD_SHOW:"ad-show",AD_CLOSED:"ad-closed",AD_SHOW_FAILED:"ad-show-failed",LANGUAGE_CHANGED:"language-changed",REQUEST_LANGUAGE:"request-language",REQUEST_HOT_RELOAD:"request-hot-reload",REQUEST_SAVE_CONFIG:"request-save-config",REQUEST_UPDATE_CONFIG:"request-update-config",REMOTE_CONFIG_UPDATED:"remote-config-updated",VISIBILITY_HIDDEN:"visibility-hidden",VISIBILITY_VISIBLE:"visibility-visible",REQUEST_RESIZE_GAME:"request-resize-game",REQUEST_QUALITY_UPGRADED:"request-quality-upgraded",REQUEST_QUALITY_DOWNGRADED:"request-quality-downgraded",GAME_SDK_POPUP_RESPONDED:"game-sdk-popup-responded"},Ee=DP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var du=function(w){return w.DRAFT="draft",w.SINGLE="single",w.TOURNAMENT="tournament",w.MATCHING_GROUP="matching-group",w.CHALLENGE_FRIEND="challenge-friend",w}(du||{}),q=du,IP=q,$r=IP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var EP=a(function(w){return w},"func"),uu=EP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var LP=a(function(){},"func"),pu=LP,mu={asConst:uu,noop:pu};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var CP=a(function(w,r){if(w)return r<0?w[w.length+r]:w[r]},"at"),hu=CP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var TP=a(function(w,r){for(var t=[],e=0;e<w;e++)t.push(r(e));return t},"func"),Ar=TP,MP=a(function(w){return Ar(w,function(){})},"func"),wt=MP,OP=a(function(w,r){return wt(Math.ceil(w.length/r)).map(function(t,e){return w.slice(e*r,e*r+r)})},"func"),fu=OP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var NP=a(function(w,r){return w.filter(function(t){return 0>r.indexOf(t)})},"func"),yu=NP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var RP=a(function(w){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={},e=!0,n=!1,o=void 0;try{for(var S,I=w[Symbol.iterator]();!(e=(S=I.next()).done);e=!0){var b=S.value;for(var D in b){var k=D;r.includes(k)&&(t[k]||(t[k]=[]),t[k].push(b[k]))}}}catch(E){n=!0,o=E}finally{try{e||null==I.return||I.return()}finally{if(n)throw o}}return t},"func"),gu=RP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _P=a(function(w){return w.reduce(function(r,t){return r.concat(t)},[])},"func"),Pu=_P;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var kP=a(function(w,r){return w.indexOf(r)>=0},"func"),xu=kP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var GP=a(function(w,r){return w.length=Math.min(w.length,r),w},"func"),wu=GP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var FP=a(function(w){for(var r,t=0;t<w.length/2;t++)r=[w[w.length-1-t],w[t]],w[t]=r[0],w[w.length-1-t]=r[1]},"func"),$u=FP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var BP=a(function(w,r){for(var t=0;t<w.length;t++)if(r(w[t],t))return w[t]},"func"),vr=BP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var UP=a(function(w,r){for(var t=0;t<w.length;t++)if(r(w[t],t))return t;return -1},"func"),Sr=UP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var VP=a(function(w){for(var r=w.length-1;r>0;r--){var t,e=Math.floor(Math.random()*(r+1));t=[w[e],w[r]],w[r]=t[0],w[e]=t[1]}},"func"),br=VP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var KP=a(function(w,r){return w.reduce(function(t,e,n){return r(e,n,w)?t.left.push(e):t.right.push(e),t},{left:[],right:[]})},"split"),Au=KP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var HP=a(function(w){var r=_to_consumable_array(w);return br(r),r},"func"),vu=HP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var jP=a(function(w,r,t){return t.indexOf(w)===r&&null!=w},"unique"),WP=a(function(w){return w.filter(jP)},"func"),Su=WP,bu={at:hu,chunk:fu,difference:yu,dod:gu,fillWith:Ar,length:wt,limit:wu,reverse:$u,search:vr,searchIndex:Sr,has:xu,shuffle:br,toShuffled:vu,unique:Su,flatten:Pu,split:Au};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var zP=a(function(){return"OffscreenCanvas"in window&&("u"<("u"<typeof OffscreenCanvas?"undefined":_type_of1(OffscreenCanvas))?"undefined":_type_of(OffscreenCanvas))<"u"},"isOffscreenCanvasSupported"),qP=a(function(w,r){var t=new OffscreenCanvas(0,0),e=t.getContext(w,r);return e?{canvas:t,context:e}:null},"createOffscreenCanvas"),YP=a(function(w,r){var t=document.createElement("canvas"),e=t.getContext(w,r);return e?{canvas:t,context:e}:null},"createHTMLCanvas"),JP=a(function(w){var r=w.contextType,t=void 0===r?"2d":r,e=w.contextAttributes,n=void 0===e?{}:e,o=w.type,S=void 0===o?"canvas":o;return"canvas"===S?YP(t,n):"offscreen"===S&&zP()?qP(t,n):null},"func"),xe=JP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var QP=a(function(w){return!w||""===w||0===w||"number"==typeof w&&isNaN(w)},"func"),Dr=QP,XP=a(function(w){return Dr(w)?!1!==w&&0!==w:"string"==typeof w||Array.isArray(w)?0===w.length:(void 0===w?"undefined":_type_of(w))=="object"&&null!==w&&0===Object.keys(w).length},"func"),$t=XP,Du="Save The Pets",Da={},Ir=a(function(w){var r;return $t(w)?null!=(r=GameSDK.getSDKName())?r:"Storage":null!=w?w:"Storage"},"getDBName"),ZP=a(function(w){var r="".concat(Du,"_").concat(w);return Da[r]?Promise.resolve(Da[r]):new Promise(function(t,e){var n,o=1,S=a(function(I){(n=indexedDB.open(Du,I)).onerror=function(b){var D=b.target.error;(null==D?void 0:D.name)==="VersionError"?S(++o):e(D)},n.onsuccess=function(b){var D=n.result;D.objectStoreNames.contains(w)?(Da[r]=D,t(D)):S(++o)},n.onupgradeneeded=function(b){var D=b.target.result;o=D.version,D.objectStoreNames.contains(w)||D.createObjectStore(w)}},"tryOpen");S(o)})},"openIndexedDB"),Er=ZP,ex=a(function(w,r){return _async_to_generator(function(){var t,e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,Er(t=Ir(r))];case 1:return(e=S.sent()).objectStoreNames.contains(t)?(n=e.transaction(t,"readonly").objectStore(t),[2,new Promise(function(I,b){var D=n.get(w);D.onerror=function(){return b(D.error)},D.onsuccess=function(){return I(D.result)}})]):[2,{}];case 2:return o=S.sent(),[2,{}];case 3:return[2]}})})()},"func"),Iu=ex;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var tx=a(function(w){try{return JSON.parse(w)}catch(unused){return null}},"func"),At=tx,rx=a(function(w){try{if(!localStorage)return null;var r=localStorage.getItem(w);return null===r?null:At(r)}catch(unused){return null}},"func"),Lr=rx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var nx=a(function(w){try{return JSON.stringify(w,null,0)}catch(unused){return""}},"func"),vt=nx,ax=a(function(w){return At(vt(w))},"func"),Cr=ax,ox=a(function(){var w="en_US",r=vr(Cr(window.navigator.languages)||[],function(t){return t.indexOf("-")>-1});return r&&-1!==r.indexOf("-")?r.replace("-","_"):w},"func"),Eu=ox;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var sx=a(function(){var w=window.location.search.substring(1);if(!w)return{};var r=w.split("&"),t={},e=!0,n=!1,o=void 0;try{for(var S,I=r[Symbol.iterator]();!(e=(S=I.next()).done);e=!0){var b=S.value.split("=");t[b[0]]=decodeURIComponent(b[1])}}catch(D){n=!0,o=D}finally{try{e||null==I.return||I.return()}finally{if(n)throw o}}return t},"func"),Lu=sx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ix=a(function(){var w=document.body,r=document.documentElement,t=w.clientHeight;return Math.max(r.clientHeight,t)||0},"func"),Cu=ix;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var cx=a(function(){var w=document.body,r=document.documentElement,t=w.clientWidth;return Math.max(r.clientWidth,t)||0},"func"),Tu=cx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var lx=a(function(w){try{localStorage.removeItem(w)}catch(unused){}},"func"),Mu=lx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var dx=a(function(w,r,t){return _async_to_generator(function(){var e,n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),$t(r)?[2]:[4,Er(e=Ir(t))];case 1:return(n=I.sent()).objectStoreNames.contains(e)?(o=n.transaction(e,"readwrite").objectStore(e),[2,new Promise(function(b,D){try{var k=o.put(r,w);k.onsuccess=function(){return b()},k.onerror=function(){return D(k.error)}}catch(E){D(E)}})]):[2];case 2:return S=I.sent(),[3,3];case 3:return[2]}})})()},"func"),Ou=dx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ux=a(function(){var w="vibrate"in window.navigator;if(w)try{window.navigator.vibrate(0)}catch(unused){return!1}return w},"isSupportVibrateApi"),px=a(function(w){try{return!!ux()&&(window.navigator.vibrate(0),window.navigator.vibrate(w),!0)}catch(unused){return!1}},"func"),Nu=px;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var mx=a(function(w,r,t){var e,n=!1;return function(){for(var o=this,S=arguments.length,I=Array(S),b=0;b<S;b++)I[b]=arguments[b];if(t&&!n){n=!0,w.apply(this,I);return}clearTimeout(e),e=setTimeout(function(){w.apply(o,I)},r)}},"func"),Vt=mx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var hx=a(function(w){var r=Object.create(null);return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var o="__memoize__".concat(JSON.stringify(e));if(o in r)return r[o];var S=w.apply(this,e);return r[o]=S,S}},"func"),Re=hx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var fx=a(function(w,r,t){var e,n=!1,o=!1;return function(){for(var S=arguments.length,I=Array(S),b=0;b<S;b++)I[b]=arguments[b];if(t&&!o){o=!0,w.apply(this,I);return}n&&(n=!1,w.apply(this,I)),clearTimeout(e),e=setTimeout(function(){n=!0},r)}},"func"),Kt=fx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var yx=a(function(w,r){var t=w.value;return w.value=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return _async_to_generator(function(){var S,I;return _ts_generator(this,function(b){switch(b.label){case 0:return[4,r.apply(this,n)];case 1:return b.sent(),_instanceof(S=t.apply(this,n),Promise)?[4,S]:[3,3];case 2:return I=b.sent(),[3,4];case 3:I=S,b.label=4;case 4:return[2,I]}})}).call(this)},w},"func"),Ru=yx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _u=Object,gx=a(function(w,r){if("assign"in _u)return _u.assign(w,r);var t=w;for(var e in r)t[e]=r[e];return t},"func"),Le=gx,Px=a(function(w){if(_instanceof(w,Error))return w;if(null!==w&&(void 0===w?"undefined":_type_of(w))=="object"&&"message"in w&&"string"==typeof w.message){var r=Error(w.message);return"stack"in w&&"string"==typeof w.stack&&(r.stack=w.stack),"name"in w&&"string"==typeof w.name&&(r.name=w.name),"code"in w&&"string"==typeof w.code&&Le(r,{code:w.code}),r}if(null!==w&&(void 0===w?"undefined":_type_of(w))=="object")try{return Error(JSON.stringify(w,null,2))}catch(unused){return Error("[Object conversion failed] ".concat(String(w)))}return Error(String(w))},"func"),we=Px,xx=a(function(w,r){var t=w.value;return w.value=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return _async_to_generator(function(){var S,I,b;return _ts_generator(this,function(D){switch(D.label){case 0:return D.trys.push([0,4,5,6]),_instanceof(I=t.apply(this,n),Promise)?[4,I]:[3,2];case 1:return b=D.sent(),[3,3];case 2:b=I,D.label=3;case 3:return[2,b];case 4:return S=we(D.sent()),[3,6];case 5:return null==r||r(S),[7];case 6:return[2]}})}).call(this)},w},"func"),ku=xx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var wx=a(function(w){var r=(void 0===w?"undefined":_type_of(w))=="object"||"function"==typeof w,t=Array.isArray(w);return null!==w&&r&&!t},"func"),j=wx,Gu=a(function(w,r){if((void 0===w?"undefined":_type_of(w))!==r)throw Error("Value ".concat(w," is not type of ").concat(r," (").concat(void 0===w?"undefined":_type_of(w),")"))},"checkType"),$x=a(function(w,r,t){var e;return t||Gu(w,r),j(w)&&t?Object.defineProperty(w,t,{get:function get(){return e},set:function set1(o){Gu(o,r),e=o}}):w},"func"),St=$x,Ax=a(function(w,r){var t=w.value;return w.value=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return r.forEach(function(S,I){try{St(n[I],S)}catch(D){var b="[Decorator:validateParams]";throw _instanceof(D,Error)?(D.message="".concat(b,": ").concat(D.message),D):Error("".concat(b,": ").concat(D))}}),t.apply(this,n)},w},"func"),Fu=Ax;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var vx=a(function(w,r){var t=!0,e=!1,n=void 0;try{for(var o,S=r[Symbol.iterator]();!(t=(o=S.next()).done);t=!0){var I=o.value;try{return St(w,I),!1}catch(unused){}}}catch(b){e=!0,n=b}finally{try{t||null==S.return||S.return()}finally{if(e)throw n}}return!0},"isInvalidReturnType"),Sx=a(function(w,r){var t=w.value;return w.value=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var S=t.apply(this,n);if(vx(S,r))throw Error("[Decorator:validateReturn] ".concat(S," (").concat(void 0===S?"undefined":_type_of(S),") is not type of ").concat(r.join(" | ")));return S},w},"func"),Bu=Sx,$e=function(){function w(){_class_call_check(this,w)}return _create_class(w,null,[{key:"Xs",value:function value(t,e,n){return!!(n&&("u">_type_of(n.value)||n.get||n.set))}},{key:"oe",value:function value(t,e,n){return!!(n&&("function"==typeof n.value||"function"==typeof n.initializer))}},{key:"locked",value:function value(t,e,n){return be(N({},n),{value:a(function(){throw Error("Method is locked")},"value")})}},{key:"preStart",value:function value(t){return function(e,n,o){return w.oe("preStart",n,o)?Ru(o,t):o}}},{key:"tryCatch",value:function value(t){return function(e,n,o){return w.oe("tryCatch",n,o)?ku(o,t):o}}},{key:"debounce",value:function value(t){return function(e,n,o){if(!w.oe("debounce",n,o))return o;var S=o.value;return S?o.value=Vt(S,t):o.initializer&&(S=o.initializer,o.initializer=function(){return Vt(S.call(this),t)}),o}}},{key:"throttle",value:function value(t){return function(e,n,o){if(!w.oe("throttle",n,o))return o;var S=o.value;return S?o.value=Kt(S,t):o.initializer&&(S=o.initializer,o.initializer=function(){return Kt(S.call(this),t,!0)}),o}}},{key:"memoize",value:function value(t,e,n){if(!w.oe("memoize",e,n))return n;var o=n.value;return o?n.value=Re(o):n.initializer&&(o=n.initializer,n.initializer=function(){return Re(o.call(this))}),n}},{key:"validateValue",value:function value(t){return function(e,n,o){if(!w.Xs("validateValue",n,o))return o;try{return St(e,t,n)}catch(S){return _instanceof(S,Error),o}}}}]),w}();a($e,"DecoratorUtils"),Ge($e,"trace",a(function(w,r,t){try{var e=null!=t?t:{},n=e.value,o=e.initializer,S=e.get,I=e.set;try{if(!(S||I)&&"function"!=typeof n)if("function"==typeof o){var b=null==o?void 0:o();if("function"!=typeof b&&(void 0===b?"undefined":_type_of(b))>"u")throw Error("Initializer returned undefined")}else if(n)void 0===n||_type_of(n);else throw Error("Unsupported decorator")}catch(unused){}}catch(unused){}return t},"trace")),Ge($e,"validateReturn",a(function(){for(var w=arguments.length,r=Array(w),t=0;t<w;t++)r[t]=arguments[t];return function(e,n,o){return $e.oe("validateReturn",n,o)?Bu(o,r):o}},"validateReturn")),Ge($e,"validateParams",a(function(){for(var w=arguments.length,r=Array(w),t=0;t<w;t++)r[t]=arguments[t];return function(e,n,o){return $e.oe("validateParams",n,o)?Fu(o,r):o}},"validateParams"));var Ia=$e,Ht=Ia,bx=a(function(){var w=function w(n){},r=function r(n){},t=function t(n){};self.onmessage=function(e){var n=e.data;n.action,n.payload},a(w,"drawImage"),a(r,"saveData"),a(t,"getData")},"workerCode"),Ce=function(){function w(){_class_call_check(this,w),_define_property(this,"kt",null),this.init()}return _create_class(w,[{key:"init",value:function value(){var t=new Blob(["(".concat(bx.toString(),")()")],{type:"application/javascript"});this.kt=new Worker(URL.createObjectURL(t))}}],[{key:"inst",get:function get(){return w._e||(w._e=new w),w._e}},{key:"postMessage",value:function value(t,e){if(!w.inst.kt)throw Error("Worker is not initialized");w.inst.kt.postMessage({action:t,payload:e})}}]),w}();a(Ce,"WebWorker"),Ge(Ce,"_inst$"),pe([Ht.tryCatch()],Ce.prototype,"init",1),pe([Ht.tryCatch()],Ce,"postMessage",1);var Ea=Ce,Uu=Ea;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Dx=a(function(w){return null==w},"isNotClear"),Vu=a(function(w){if(!j(w))return w;for(var r in w)if(Dx(w[r]))delete w[r];else{var t=w[r];j(t)&&(w[r]=Vu(t))}return w},"func"),Tr=Vu;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ix=a(function(w){return(void 0===w?"undefined":_type_of(w))!="object"||null===w?null:Le(w,{})},"func"),Mr=Ix;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ku=a(function(w,r){for(var t in r)j(w[t])&&j(r[t])?Ku(w[t],r[t]):Le(w,_define_property({},t,r[t]));return w},"func"),Or=Ku,Ex=a(function(w,r){try{if(!localStorage)return!1;var t=Lr(w),e={};j(t)&&(e=t);var n=Mr(r);if(!j(n))return!1;var o=Tr(n),S=Or(e,o),I=vt(S);return localStorage.setItem(w,I),!0}catch(unused){return!1}},"func"),Hu=Ex,ju={createCanvas:xe,getLocale:Eu,getLocalStorage:Lr,getQueryParams:Lu,getScreenHeight:Cu,getScreenWidth:Tu,writeLocalStorage:Hu,vibrate:Nu,getIndexedDB:Iu,WebWorker:Uu,setIndexedDB:Ou,removeKeyLocalStorage:Mu};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Lx=a(function(){try{var w=window.AudioContext||window.webkitAudioContext;if(!w)return"unknown";var r=new w;r.resume();var t=r.state;return r.close(),t}catch(unused){return"unknown"}},"func"),Wu=Lx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Cx=a(function(){var w;return Number((null!=(w=window.devicePixelRatio)?w:1).toFixed(1))},"func"),Nr=Cx,Tx=a(function(w){return w*Nr()},"func"),zu=Tx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Mx=a(function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},"func"),Rr=Mx,Ox=a(function(){try{var w=getComputedStyle(document.documentElement).getPropertyValue("--sab"),r=parseInt(w,10);if(!isNaN(r)&&r>0)return r}catch(unused){}try{var t=document.createElement("div");t.style.cssText="position:absolute;top:0;left:0;z-index:-9999;visibility:hidden;padding-bottom:env(safe-area-inset-bottom);",document.body.appendChild(t);var e=window.getComputedStyle(t).paddingBottom,n=parseInt(e,10);if(document.body.removeChild(t),!isNaN(n)&&n>0)return n}catch(unused){}if(Rr()){var o=window.screen,S=o.width,I=o.height,b=Math.min(S,I),D=Math.max(S,I);if(["375,812","360,780","414,896","390,844","428,926","393,852","430,932"].includes("".concat(b,",").concat(D))||D/b>2)return 34}return 0},"func"),qu=Ox;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Nx=a(function(){try{var w,r=null!=(w=xe({contextType:"webgl",type:"canvas"}))?w:{},t=r.context,e=r.canvas;if(!t||!e)return"unknown";var n=t.getParameter(t.RENDERER);return e.remove(),n.substring(0,70)}catch(unused){return"unknown"}},"func"),Yu=Nx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Rx=a(function(){try{var w=window.navigator;return"hardwareConcurrency"in w&&"number"==typeof w.hardwareConcurrency?w.hardwareConcurrency:0}catch(unused){return 0}},"func"),Ju=Rx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _x=a(function(){try{var w=window.performance;if(!("memory"in w)||"object"!=_type_of(w.memory))return"unknown";var r=w.memory,t=r.usedJSHeapSize,e=r.jsHeapSizeLimit;if(!t||!e)return"unknown";var n=Math.round(e/1024/1024),o=Math.round(t/1024/1024),S=n-o;return"T:".concat(n,"MB U:").concat(o,"MB F:").concat(S,"MB")}catch(unused){return"unknown"}},"func"),Qu=_x;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var kx=a(function(){return/Android/i.test(navigator.userAgent)},"func"),Xu=kx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Gx=a(function(){return!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)},"func"),Zu=Gx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Fx=a(function(){try{return eval("try{const func = ()=>{}}catch(e){}"),!1}catch(w){return!0}},"func"),ep=Fx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Bx=a(function(){return/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)},"func"),tp=Bx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ux=a(function(){try{var w,r=null!=(w=xe({contextType:"2d",type:"canvas"}))?w:{},t=r.canvas,e=r.context;if(!t||!e)return!1;var n=t.toDataURL("image/webp").startsWith("data:image/webp");return t.remove(),n}catch(unused){return!1}},"func"),rp=Ux;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Vx=a(function(){try{var w,r=null!=(w=xe({contextType:"webgl",type:"canvas"}))?w:{},t=r.context,e=r.canvas;if(!t||!e)return -1;var n=t.getParameter(t.MAX_TEXTURE_SIZE);return e.remove(),n<1?-1:n}catch(unused){return -1}},"func"),np=Vx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Kx=a(function(){var w,r;if(null!=(r=window.screen)&&null!=(w=r.orientation)&&w.type)return window.screen.orientation.type;if("matchMedia"in window){if(window.matchMedia("(orientation: portrait)").matches)return"portrait-primary";if(window.matchMedia("(orientation: landscape)").matches)return"landscape-primary"}return window.innerHeight>window.innerWidth?"portrait-primary":window.innerWidth>window.innerHeight?"landscape-primary":"unknown"},"func"),ap=Kx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Hx=a(function(){try{var w,r=null!=(w=xe({contextType:"webgl",type:"canvas"}))?w:{},t=r.context,e=r.canvas;if(!t||!e)return"unknown";var n=t.getParameter(t.VERSION);return e.remove(),n.substring(0,70)}catch(unused){return"unknown"}},"func"),op=Hx,sp={isES5:ep,isIOS:Rr,isMobile:tp,isAndroid:Xu,isDesktop:Zu,heapMemory:Qu,audioState:Wu,pixelRatio:Nr,orientation:ap,gpuRenderer:Yu,webglVersion:op,isSupportWebp:rp,maxTextureSize:np,getPhysicPixels:zu,getSafeAreaBottom:qu,hardwareConcurrency:Ju};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var jx=a(function(w){return[null,w]},"failure"),Xe=jx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Wx=a(function(w){return null!==w[1]},"isFailure"),bt=Wx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var zx=a(function(w){return[w,null]},"success"),Te=zx,qx=a(function(w){return function(r){if(bt(r))return r;try{return Te(w(r[0]))}catch(t){return Xe(we(t))}}},"apply"),_r=qx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Yx=a(function(w){return function(r){return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:if(bt(r))return[2,r];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,w(r[0])];case 2:return[2,Te.apply(void 0,[t.sent()])];case 3:return[2,Xe(we(t.sent()))];case 4:return[2]}})})()}},"applyAsync"),kr=Yx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Jx=a(function(w){try{return Te(w())}catch(r){return Xe(we(r))}},"applyImmediate"),ip=Jx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Qx=a(function(w){return _async_to_generator(function(){return _ts_generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,w()];case 1:return[2,Te.apply(void 0,[r.sent()])];case 2:return[2,Xe(we(r.sent()))];case 3:return[2]}})})()},"applyImmediateAsync"),cp=Qx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Xx=a(function(w){return w[1]},"extractFailure"),lp=Xx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Zx=a(function(w){return w[0]},"extractSuccess"),dp=Zx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ew=a(function(w){return null===w[1]},"isSuccess"),up=ew;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var tw=Te,pp=tw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var rw=a(function(){for(var w=arguments.length,r=Array(w),t=0;t<w;t++)r[t]=arguments[t];return function(e){return r.reduce(function(n,o){return _r(o)(n)},e)}},"pipe"),mp=rw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var nw=a(function(){for(var w=arguments.length,r=Array(w),t=0;t<w;t++)r[t]=arguments[t];return function(e){return _async_to_generator(function(){var n,o,S,I,b,D,k;return _ts_generator(this,function(E){switch(E.label){case 0:n=e,o=!0,S=!1,I=void 0,E.label=1;case 1:E.trys.push([1,6,7,8]),b=r[Symbol.iterator](),E.label=2;case 2:return(o=(D=b.next()).done)?[3,5]:[4,kr(D.value)(n)];case 3:n=E.sent(),E.label=4;case 4:return o=!0,[3,2];case 5:return[3,8];case 6:return k=E.sent(),S=!0,I=k,[3,8];case 7:try{o||null==b.return||b.return()}finally{if(S)throw I}return[7];case 8:return[2,n]}})})()}},"pipeAsync"),hp=nw,fp={apply:_r,applyAsync:kr,applyImmediate:ip,applyImmediateAsync:cp,lift:pp,success:Te,pipe:mp,pipeAsync:hp,extractSuccess:dp,extractFailure:lp,isFailure:bt,isSuccess:up};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),wr(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var aw=a(function(w){return Promise.all(w.map(function(r){return Promise.resolve(r).then(function(t){return{status:"fulfilled",value:t}},function(t){return{status:"rejected",reason:t}})}))},"func"),Gr=aw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ow=a(function(w){return"function"==typeof Promise.any?Promise.any(w):new Promise(function(r,t){var e=[],n=0,o=a(function(S){if(!(S<w.length))if(e.length>0)r(e[0]);else{var I=Error("All promises were rejected");I.errors=e,t(I)}},"check");w.forEach(function(S,I){S.then(function(b){e[I]=b,o(++n)}).catch(function(b){e[I]=b,o(++n)})})})},"func"),yp=ow;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var sw=a(function(w,r){return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,4,,5]),r?[4,Promise.race([w,new Promise(function(e,n){return setTimeout(function(){return n(Error("Timeout"))},r)})])]:[3,2];case 1:case 3:return[2,[t.sent(),null]];case 2:return[4,w];case 4:return[2,[null,we(t.sent())]];case 5:return[2]}})})()},"func"),gp=sw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var iw=a(function(){var w=null,r=new Set,t=a(function(o){r.add(o)},"defer"),e=a(function(o){r.delete(o)},"cancel"),n=a(function(){r.clear()},"clear");return{defer:t,cancel:e,successor:a(function(o){if(void 0===o)throw Error("Latch cannot be its own successor");w=o},"successor"),trigger:a(function(){return _async_to_generator(function(){var o;return _ts_generator(this,function(S){switch(S.label){case 0:return r.add(n),[4,Gr(_to_consumable_array(r).map(function(I){return Promise.resolve().then(I)}))];case 1:return S.sent(),(o=w)?[4,w.trigger()]:[3,3];case 2:S.sent(),o=w=null,S.label=3;case 3:return[2]}})})()},"trigger"),clear:n}},"func"),Pp=iw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var cw=a(function(){var w={},r=a(function(t){var e,n=null==(e=w[t])?void 0:e.shift();n?n():delete w[t]},"release");return{use:a(function(t){var e=!1,n={release:a(function(){e||(e=!0,r(t))},"release")};return w[t]?new Promise(function(o){w[t].push(function(){return o(n)})}):(w[t]=[],Promise.resolve(n))},"use")}},"mutex"),xp=cw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var lw=a(function(w,r){try{return w()}catch(t){try{return r()}catch(unused){throw t}}},"func"),wp=lw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var dw=a(function(w,r){return _async_to_generator(function(){var t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,7]),[4,w()];case 1:return[2,n.sent()];case 2:t=n.sent(),n.label=3;case 3:return n.trys.push([3,5,,6]),[4,r()];case 4:return[2,n.sent()];case 5:throw e=n.sent(),t;case 6:return[3,7];case 7:return[2]}})})()},"func"),$p=dw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var uw=a(function(w){var r=w.generate,t=w.generateSeed,e=void 0===t?a(function(){return 1e6*Math.random()},"generateSeed"):t,n=w.seed,o=void 0===n?Date.now():n;return function(){for(var S=arguments.length,I=Array(S),b=0;b<S;b++)I[b]=arguments[b];return o=e(o),r.apply(void 0,[o].concat(_to_consumable_array(I)))}},"func"),Ap=uw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var vp=a(function(w,r){w.__proto__.valueOf=function(){return r},w.__proto__.toString=function(){return"".concat(r)}},"makeMutableTrick"),pw=a(function(w){return w.constructor(be(N({},w),{__proto__:w.__proto__}))},"makeTypeTrick"),Sp=a(function(w){var r=Object.keys(w),t=!0,e=!1,n=void 0;try{for(var o,S=function S(){var _$b,D=o.value,k=null==(_$b=Object.getOwnPropertyDescriptor(w,D))?void 0:_$b.value;if(j(k))return Sp(k),"continue";try{var E=k;vp(E,k),Object.defineProperty(w,D,{enumerable:!1,configurable:!0,get:function get(){return pw(E)},set:function set1(C){Le(E,C),vp(E,C)}})}catch(unused){}},I=r[Symbol.iterator]();!(t=(o=I.next()).done);t=!0)S()}catch(b){e=!0,n=b}finally{try{t||null==I.return||I.return()}finally{if(e)throw n}}},"func"),bp=Sp;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var mw=a(function(w,r){return r<=0?w:Promise.race([w,new Promise(function(t,e){setTimeout(function(){return e(Error("Timeout"))},r)})])},"func"),Dp=mw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var hw=a(function(w){var r=performance.now();return function(){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){switch(e.label){case 0:return(t=performance.now()-r>w)?[4,new Promise(function(n){return requestAnimationFrame(n)})]:[3,2];case 1:e.sent(),t=r=performance.now(),e.label=2;case 2:return[2]}})})()}},"func"),Ip=hw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var fw=a(function(w){return w.reduce(function(r,t){return"fulfilled"===t.status?r.successes.push(t.value):r.failures.push(t.reason),r},{successes:[],failures:[]})},"unwrapAllSettled"),Ep=fw,Lp={accessBlocker:xt,allSettled:Gr,any:yp,debounce:Vt,handleAsync:gp,latch:Pp,memoize:Re,mutex:xp,retry:wp,retryAsync:$p,rng:Ap,syncVars:bp,throttle:Kt,timeOut:Dp,timeSlice:Ip,toError:we,unwrapAllSettled:Ep};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var yw=a(function(w){var r={};for(var t in w)r[w[t]]=t;return r},"func"),Fr=yw,gw=Re(function(w,r){var t=w.toLowerCase();if("string"==typeof w){var e=r[t];if("string"==typeof e)return e}return"?"}),Pw=Re(function(w){for(var r=[],t=/:([A-Z0-9?]+)/gm,e=null;null!==(e=t.exec(w));)r.push(e[1]);return r}),xw=Re(function(w){for(var r=function r(){var o=n[0];if(o.length>=2){var S,I=o.length,b=o.slice(0,I-1),D=o[I-1],k=wt(+b).map(function(){return D});return(S=t).push.apply(S,_to_consumable_array(k)),"continue"}t.push(o)},t=[],e=/(\d+[A-Z?]|[A-Z?])/gm,n=null;null!==(n=e.exec(w));)r();return t}),ww=a(function(w,r){var t=w,e=Fr(r),n={},o=0,S=0,I=Pw(t),b=!0,D=!1,k=void 0;try{for(var E,L=I[Symbol.iterator]();!(b=(E=L.next()).done);b=!0){var C=E.value;o=0,n[++S]||(n[S]={});var R=xw(C),$=!0,z=!1,ne=void 0;try{for(var ce,ye=R[Symbol.iterator]();!($=(ce=ye.next()).done);$=!0){var Pe=ce.value;o++;var ke=gw(Pe,e);n[S][o]=ke}}catch(Jt){z=!0,ne=Jt}finally{try{$||null==ye.return||ye.return()}finally{if(z)throw ne}}}}catch(Jt){D=!0,k=Jt}finally{try{b||null==L.return||L.return()}finally{if(D)throw k}}return n},"func"),Cp=ww;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var $w=a(function(w,r){if(!j(w))return!1;try{if(j(w[r]))return!0}catch(unused){return!1}return"function"==typeof Object.hasOwn?Object.hasOwn(w,r):Object.prototype.hasOwnProperty.call(w,r)},"func"),me=$w;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Aw=a(function(w){return"string"==typeof w},"func"),Br=Aw,vw=Re(function(w,r){if(!j(r)||!me(r,w))return"?";var t=r[w];return"string"==typeof t?"".concat(t.toUpperCase()):"?"}),Tp=a(function(w,r){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t="";if(!j(w))return t;var e="",n=1;for(var o in w)if(me(w,o)){var S=w[o];if(j(S)){t+=":".concat(Tp(S,r,!0));continue}if(Br(S)){var I=vw(S,r);I===e?(n++,t=t.slice(0,-2)):n=1,t+="".concat(n).concat(I),e=I}}return t.replace(/1([A-Z])/g,"$1")},"func"),Mp=Tp;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Sw=a(function(w,r){try{if(!w)return"";if(r){var t=atob(w),e=btoa(r);return t=t.replace(e,"="),atob(t)}return atob(w)}catch(unused){return""}},"func"),Op=Sw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var bw=a(function(){return{}},"createCompressDict"),La={},jt=a(function(w){return La[w]||(La[w]=bw()),La[w]},"getCompressionDict"),Np=a(function(w,r){var t=jt(r),e=Object.keys(t).length;t[w]=e+1},"setCompressionDict"),Dw=a(function(w,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,e=w[0],n=[],o=jt(t);if(r)for(var S in r)Np(S,t);for(var I=1;I<w.length;I++){var b=w[I],D="".concat(e).concat(b);e=w[++I],void 0===o[D]&&(Np(D,t),o=jt(t))}e=w[0];for(var k=1,E=0;k<w.length;){var L=w[k],C="".concat(e).concat(L),R=Iw(w.slice(E),o);if(null!==R){n.push(o[R]),k+=R.length-C.length,e="",E=k+1,k++;continue}void 0===o[C]?e=C:(n.push(o[C]),e="",E=k+1),k++}return n},"func"),Iw=a(function(w,r){var t=Object.keys(r);return 0===(t=t.filter(function(e){return w.indexOf(e)>-1&&w!==e})).length?null:t.sort(function(e,n){return n.length-e.length})[0]},"getLongestAvailableKeyInCompressDict"),Rp=Dw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ew=a(function(w){var r={};for(var t in w)r[w[t]]=t;return r},"createDecompressDict"),Lw=a(function(w,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,e="",n="",o=jt(t);r&&(o=N(N({},r),o));var S=Ew(o);for(var I in w){var b=w[I];n+=e=void 0!==S[b]?S[b]:"?"}return n},"func"),_p=Lw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Cw=a(function(w,r){try{if(!w)return"";if(r){var t=btoa(w),e=btoa(r);return t=t.replace("=",e),btoa(t)}return btoa(w)}catch(unused){return""}},"func"),kp=Cw,Gp={decodeMap:Cp,encodeMap:Mp,hashToString:Op,stringToHash:kp,lwzCompress:Rp,lwzDecompress:_p};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Tw=a(function(w,r){var t=w.split(","),e=t[0].match(/:(.*?);/);if(!e)return null;for(var n=e[1],o=atob(t[t.length-1]),S=o.length,I=new Uint8Array(S);S--;)I[S]=o.charCodeAt(S);return new File([I],r,{type:n})},"base64ToFile"),Fp=Tw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Mw=a(function(w){return new Promise(function(r,t){var e=new FileReader;e.onloadend=function(){return r(e.result)},e.onerror=t,e.readAsDataURL(w)})},"func"),Bp=Mw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Dt=new Image,Ow=a(function(w){var r=!(arguments.length>1)||void 0===arguments[1]||arguments[1],t=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return new Promise(function(e){r&&(Dt=new Image),Dt.onload=function(){e(Dt),t&&URL.revokeObjectURL(Dt.src)},Dt.onerror=function(){e(null)},Dt.src=URL.createObjectURL(w)})},"func"),Up=Ow;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Nw=a(function(w,r){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){switch(e.label){case 0:return[4,fetch(w).then(function(n){return n.blob()}).catch(function(){return null})];case 1:return[2,(t=e.sent())?new File([t],r):null]}})})()},"func"),Vp=Nw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ct=xe({contextType:"2d",contextAttributes:{willReadFrequently:!0}}),Rw=a(function(w){return _async_to_generator(function(){return _ts_generator(this,function(r){return[2,new Promise(function(t,e){var n=new FileReader;n.onload=function(){return t(n.result)},n.onerror=e,n.readAsDataURL(w)})]})})()},"convertBlobToBase64"),_w=a(function(w){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png";return _async_to_generator(function(){var t,e;return _ts_generator(this,function(n){switch(n.label){case 0:if(t=w.width,e=w.height,!t||!e)throw Error("Element has no width or height");if(!ct)throw Error("Failed to create canvas");return ct.canvas.width=t,ct.canvas.height=e,ct.context.drawImage(w,0,0,t,e),_instanceof(ct.canvas,HTMLCanvasElement)?[2,ct.canvas.toDataURL("image/".concat(r),.85)]:[4,ct.canvas.convertToBlob({type:"image/".concat(r)})];case 1:return[2,Rw(n.sent())]}})})()},"func"),Kp=_w;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Hp=xe({contextType:"2d",contextAttributes:{willReadFrequently:!0}}),kw=a(function(w){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png";return _async_to_generator(function(){var t,e;return _ts_generator(this,function(n){try{if(!Hp)throw Error("Failed to create canvas");return t=Hp.canvas,e=Hp.context,[2,(t.width=w.width,t.height=w.height,e.drawImage(w,0,0,w.width,w.height),_instanceof(t,HTMLCanvasElement)?new Promise(function(o){t.toBlob(function(S){return o(S)},"image/".concat(r),.9)}):t.convertToBlob({type:"image/".concat(r),quality:.9}))]}catch(unused){return[2,null]}})})()},"func"),jp=kw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Gw=a(function(w){return _async_to_generator(function(){var r,t;return _ts_generator(this,function(e){switch(e.label){case 0:if(!w)throw Error("url is empty");e.label=1;case 1:return e.trys.push([1,4,,5]),[4,fetch(w)];case 2:if(!(r=e.sent()).ok)throw Error("Network response was not ok");return[4,r.blob()];case 3:return[2,e.sent()];case 4:throw _instanceof(t=e.sent(),Error)?t:Error("Failed to fetch image");case 5:return[2]}})})()},"func"),Wp=Gw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Fw=a(function(w){return _async_to_generator(function(){return _ts_generator(this,function(r){return[2,new Promise(function(t,e){w||e(Error("url is empty"));var n=new Image;n.crossOrigin="anonymous",n.onload=function(){t(n)},n.onerror=function(o){e(o)},n.src=w})]})})()},"func"),zp=Fw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Bw=a(function(w,r){if(isNaN(w)||isNaN(r))throw Error("width and height must be numbers");return{string:"+",style:"font-size: 1px; padding: ".concat(Math.floor(r/2),"px ").concat(Math.floor(w/2),"px;")}},"getBox"),Uw=a(function(w){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise(function(t){var e=new Image;e.onerror=function(){t(!1)},e.onload=function(){Bw(e.width*r,e.height*r),t(!0)},e.src=w})},"func"),qp=Uw,Yp={base64ToFile:Fp,blobToDataImage:Bp,blobToHtmlImage:Up,blobUrlToFile:Vp,elementToBase64:Kp,elementToBlob:jp,fetchImage:Wp,loadImage:zp,logImage:qp};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Jp={clone:Cr,decode:At,encode:vt};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var V=function(){function w(){_class_call_check(this,w),_define_property(this,"Y",console)}return _create_class(w,null,[{key:"inst",get:function get(){return w._e||(w._e=new w),w._e}},{key:"le",value:function value(t){return t===console}},{key:"jt",value:function value(t){return _instanceof(t,Performance)}},{key:"ce",value:function value(t){return!w.le(t)&&!w.jt(t)}},{key:"setService",value:function value(t){t&&(w.inst.Y=t)}},{key:"measure",value:function value(t){var e=w.inst.Y;w.ce(e)&&e.measure(t)}},{key:"start",value:function value(t){var e=w.inst.Y;w.le(e)?e.time(t):w.jt(e)?e.mark("".concat(t,"_start")):w.ce(e)&&e.start(t)}},{key:"stop",value:function value(t){var e=w.inst.Y;if(w.le(e))e.timeEnd(t);else if(w.jt(e)){try{e.mark("".concat(t,"_end")),e.measure(t,"".concat(t,"_start"),"".concat(t,"_end"))}catch(unused){}try{e.clearMarks("".concat(t,"_start")),e.clearMarks("".concat(t,"_end"))}catch(unused){}}else w.ce(e)&&e.stop(t)}},{key:"putMetric",value:function value(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),o=w.inst.Y;w.le(o)?o.timeLog(t,"".concat(e,": ").concat(n)):w.ce(o)&&o.putMetric(t,e,n)}},{key:"incMetric",value:function value(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=w.inst.Y;w.le(o)?o.timeLog(t,"".concat(e,": increment by ").concat(n)):w.ce(o)&&o.incrementMetric(t,e,n)}},{key:"putAttr",value:function value(t,e,n){var o=w.inst.Y,S=n.slice(0,100);w.le(o)?o.timeLog(t,"".concat(e,": ").concat(S)):w.ce(o)&&o.putAttr(t,e,S)}},{key:"rmAttr",value:function value(t,e){var n=w.inst.Y;w.le(n)?n.timeLog(t,"".concat(e,": removed")):w.ce(n)&&n.removeAttr(t,e)}}]),w}();a(V,"Mark"),Ge(V,"_inst$");var Ca=V,Qp=Ca,Xp={Mark:Qp};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Vw=a(function(w,r){if("number"!=typeof w)return"0";for(var t=yt(10,r),e=w,n=0;e>=t;)e=Math.floor(e/1e3),n++;var o=e.toString(),S=["","K","M","B","T","Qa","Qi","Sx","Sp","Oc","No","Dc","Ud","Dd","Td","Qad","Qid","Sxd","Spd"][n];return"".concat(o).concat(S)},"func"),Zp=Vw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Kw=a(function(w,r){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",e=w.toString(),n=e.length,o=0;o<r-n;o++)e+=t;return e},"padEnd"),em=Kw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Hw=a(function(w,r){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",e=w.toString(),n=e.length,o=0;o<r-n;o++)e=t+e;return e},"padStart"),tm=Hw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var jw=a(function(w,r){return Math.floor(Math.random()*w)*(r?Math.random()>.5?1:-1:1)},"func"),Wt=jw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ww=a(function(w){return w>0?1:w<0?-1:0===w?0:NaN},"func"),rm=Ww;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var zw=a(function(w,r){var t=r||{},e=t.fractionalDigits,n=void 0===e?0:e,o=t.startAbbreviate,S=void 0===o?1e3:o,I=t.abbreviateStep,b=void 0===I?3:I,D=t.maxLength,k=void 0===D?-1:D,E=t.removeLastZero,L=void 0===E||E,C=t.suffixes,R=void 0===C?["","k","m","b","t","q"]:C,$=-1===k?0x5f5e0ff:k;if(w>=S){var z=Math.floor((Math.floor(w/yt(10,b)).toString().length-1)/b)+1,ne=(w/yt(yt(10,b),z)).toFixed(n),ce=$-R[z].length,ye=ne.substring(0,ce);return(L?nm(ye):ye)+R[z]}var Pe=w.toFixed(n),ke=$-R[0].length,Jt=Pe.substring(0,ke);return L?nm(Jt):Jt+R[0]},"toAbbreviatedString"),nm=a(function(w){if(0>w.indexOf("."))return w;for(var r=w.length-1;r>=0;r--){if("."===w[r])return w.substring(0,r);if("0"!==w[r])return w.substring(0,r+1)}return w},"removeZero"),am=zw,om={getShortNumber:Zp,sign:rm,padEnd:em,padStart:tm,random:Wt,toAbbreviatedString:am};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var sm=a(function(w){var r=w.replace(/[-_\s.]+(.)?/g,function(t,e){return e?e.toUpperCase():""});return r.substring(0,1).toUpperCase()+r.substring(1)},"toUpperCamelCase"),Ur=a(function(w){var r=w.replace(/[-_\s.]+(.)?/g,function(t,e){return e?e.toUpperCase():""});return r.substring(0,1).toLowerCase()+r.substring(1)},"toCamelCase"),Ta=a(function(w){var r={};for(var t in w){var e=w[t],n=Ur(t);Array.isArray(e)?r[n]=e.map(function(o){return(void 0===o?"undefined":_type_of(o))=="object"?Ta(o):o}):(void 0===e?"undefined":_type_of(e))=="object"?r[n]=Ta(e):r[n]=w[t]}return r},"func"),im=Ta;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var qw=a(function(w,r){return w===r?0!==w||1/w==1/r:w!=w&&r!=r},"func"),Vr=qw,cm=a(function(w,r,t){var e,n,o={};if(t.has(w)&&null!=(e=t.get(w))&&e.has(r))return o;for(var S in t.has(w)||t.set(w,new WeakSet),null==(n=t.get(w))||n.add(r),r)if(me(r,S)){var I=void 0;try{I=r[S]}catch(unused){continue}if(me(w,S)){var b=void 0;try{b=w[S]}catch(unused){o[S]=I;continue}if(j(b)&&j(I)&&null!==b&&null!==I&&"function"!=typeof b&&"function"!=typeof I){var D=cm(b,I,t);Object.keys(D).length>0&&(o[S]=D)}else Vr(b,I)||(o[S]=I)}else o[S]=I}for(var k in w)me(w,k)&&!me(r,k)&&(o[k]=void 0);return o},"diffRecursive"),Yw=a(function(w,r){return cm(w,r,new WeakMap)},"func"),lm=Yw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Jw=a(function(w){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={},e=!0,n=!1,o=void 0;try{for(var S,I=Object.values(w)[Symbol.iterator]();!(e=(S=I.next()).done);e=!0){var b=S.value;for(var D in b){var k=D;r.includes(k)&&(t[k]||(t[k]=[]),t[k].push(b[k]))}}}catch(E){n=!0,o=E}finally{try{e||null==I.return||I.return()}finally{if(n)throw o}}return t},"func"),dm=Jw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var um=a(function(w,r){var t={};for(var e in r)if(me(r,e))if(j(r[e])&&null!==r[e])if(j(w[e])&&null!==w[e]){if("function"==typeof r[e])continue;var n=um(w[e],r[e]);Object.keys(n).length>0&&(t[e]=n)}else me(w,e)||(t[e]=Le({},r[e]));else me(w,e)||(t[e]=r[e]);return t},"func"),pm=um;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Qw=a(function(w,r){return Object.values(r).includes(w)},"func"),mm=Qw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Xw=a(function(w){return["string","number","symbol"].indexOf(void 0===w?"undefined":_type_of(w))>-1},"func"),Kr=Xw,Zw=a(function(w,r){var t={},e=!0,n=!1,o=void 0;try{for(var S,I=w[Symbol.iterator]();!(e=(S=I.next()).done);e=!0){var b=S.value,D=b[r];Kr(D)&&(t[D]=b)}}catch(k){n=!0,o=k}finally{try{e||null==I.return||I.return()}finally{if(n)throw o}}return t},"func"),hm=Zw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Hr=a(function(w){return w.replace(/([a-z])([A-Z])/g,"$1_$2").replace(/\s+/g,"_").toLowerCase()},"toSnakeCase"),Ma=a(function(w){var r={};for(var t in w){var e=w[t],n=Hr(t);Array.isArray(e)?r[n]=e.map(function(o){return(void 0===o?"undefined":_type_of(o))=="object"?Ma(o):o}):(void 0===e?"undefined":_type_of(e))=="object"?r[n]=Ma(e):r[n]=w[t]}return r},"func"),fm=Ma;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var e$=a(function(w){return Object.keys(w).map(function(r){return w[r]})},"func"),ym=e$,gm={assign:Le,camelCaseKeys:im,clone:Mr,clear:Tr,diff:lm,dod:dm,hasOwn:me,invert:Fr,is:Vr,isIn:mm,keyBy:hm,merge:Or,snakeCaseKeys:fm,vals:ym,filterDeep:pm};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Na={};kd(Na,{Signal:function Signal(){return jr},SignalAbortedError:function SignalAbortedError(){return zt},SignalController:function SignalController(){return Oa}}),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ra=function(w){function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Signal aborted with no reason";return _class_call_check(this,r),(t=_call_super(this,r,[e])).name="SignalAbortedStopped",t}return _inherits(r,w),r}(_wrap_native_super(Error));a(Ra,"SignalAbortedError");var zt=Ra,Wr=function(){function w(){_class_call_check(this,w),_define_property(this,"rt",{type:"running"}),_define_property(this,"Ne",[])}return _create_class(w,[{key:"once",value:function value(t){this.Ne.push(t)}},{key:"off",value:function value(t){this.Ne=this.Ne.filter(function(e){return e!==t})}},{key:"abort",value:function value(t){var e=this.constructReason(t);this.rt={type:"stopped",reason:e};var n=!0,o=!1,S=void 0;try{for(var I,b=this.Ne[Symbol.iterator]();!(n=(I=b.next()).done);n=!0)(0,I.value)(e)}catch(D){o=!0,S=D}finally{try{n||null==b.return||b.return()}finally{if(o)throw S}}this.Ne=[]}},{key:"aborted",get:function get(){return"stopped"===this.rt.type}},{key:"reason",get:function get(){if("stopped"===this.rt.type)return this.rt.reason}},{key:"wrap",value:function value(t){if(!this.aborted)return t}},{key:"chain",value:function value(t){var e=this;_instanceof(t,w)?t.once(function(n){return e.abort(n)}):t.addEventListener("abort",function(){return e.abort(t.reason)},{once:!0})}},{key:"promise",value:function value(){var t=this;return this.aborted?Promise.resolve(this.reason):new Promise(function(e){t.once(function(n){return e(n)})})}},{key:"constructReason",value:function value(t){return _instanceof(t,Error)?t:"string"==typeof t?new zt(t):new zt}}]),w}();a(Wr,"Signal");var jr=Wr,_a=function(){function w(){_class_call_check(this,w),_define_property(this,"Te",void 0)}return _create_class(w,[{key:"renew",value:function value(){null==(t=this.Te)||t.abort();var t,e=new jr;return this.Te=e,e}},{key:"abort",value:function value(){var t;null==(t=this.Te)||t.abort()}},{key:"promise",value:function value(){return void 0===this.Te?Promise.resolve(void 0):this.Te.promise()}}]),w}();a(_a,"SignalController");var Oa=_a,Pm=Na;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var t$=a(function(w){return w&&w[0].toUpperCase()+w.slice(1)},"func"),xm=t$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),a(r$,"fun");var wm=r$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var lt=null,n$="Anonymous",a$=a(function(){return _async_to_generator(function(){var w,r;return _ts_generator(this,function(t){switch(t.label){case 0:return[4,fetch("https://randommer.io/api/Name",{method:"GET",headers:{"X-Api-Key":Ludex.Configs.Mockup.Profile.RandomNameApiKey,"Content-Type":"application/json"},body:JSON.stringify({nameType:"surname",quantity:1e3})})];case 1:if(!(w=t.sent()).ok)throw Error("Can't fetch names");return[4,w.json()];case 2:if(!j(r=t.sent())||!me(r,"data")||!Array.isArray(r.data))throw Error("Invalid names response");return[2,r.data]}})})()},"fetchNames"),o$=a(function(){return _async_to_generator(function(){var w,r,t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),(w=!lt)?[4,a$()]:[3,2];case 1:w=!(lt=n.sent()),n.label=2;case 2:if(w)throw Error("Cannot fetch names");return r=lt[Wt(lt.length)],t=lt[Wt(lt.length)],[2,"".concat(r," ").concat(t)];case 3:return e=n.sent(),[2,n$];case 4:return[2]}})})()},"func"),$m=o$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var s$=a(function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,r=a(function(t){return Math.floor(t).toString(w)},"s");return r(Date.now()/1e3)+Array(w+1).join(" ").replace(/./g,function(){return r(Math.random()*w)})},"func"),Am=s$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var i$=a(function(w){var r=w?w.split("_"):[],t=r.length>0?r[0]:"en_US";switch(t){case"id":case"in":t="id"}return t},"func"),vm=i$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var c$=a(function(w,r){var t=w.split(" "),e=(t.length<=1?_to_consumable_array(t):[t[0],t.pop()]).join(" "),n=e.lastIndexOf(" ")||0,o=n>=0?n:r;return(e.length>r?e.substring(0,o):e).substring(0,r)},"func"),Sm=c$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var l$=a(function(w){var r=0;if(0===w.length)return r;for(var t=0;t<w.length;t++)r=(r<<5)-r+w.charCodeAt(t),r&=r;return r},"func"),bm=l$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var d$=a(function(w,r){for(var t=0;t<r.length;t++)if(w[t]!==r[t])return!1;return!0},"fn"),Dm=d$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var u$=a(function(w,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",e=Math.floor(r);if(w.length>=e)return w;for(var n=e-w.length,o="",S=0;S<n;S++)o+=t;return o.slice(0,n)+w},"func"),Im=u$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var p$=a(function(w){return Object.keys(w).reduce(function(r,t){var e=w[t];return void 0!==e&&r.push("".concat(t,"=").concat(e)),r},[]).join("&")},"func"),Em=p$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var m$=a(function(w,r){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*#%&!",e="",n=w;void 0!==r&&(n-=r.length,e+=r);for(var o=0;o<n;o++){var S=Math.floor(Math.random()*t.length);e+=t.charAt(S)}return e},"func"),Lm=m$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var h$="0123456789ABCDEF",f$=a(function(){for(var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0x",r=w,t=0;t<6;t++)r+=h$[Math.floor(16*Math.random())];return r},"func"),Cm=f$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var y$=a(function(w){return w.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[]/g,function(r){return""===r?"d":"D"})},"func"),Tm=y$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),a(Nm,"generateNameUsingString");var g$=a(function(w){for(var r=0,t=0;t<w.length;t++)r=(r<<5)-r+w.charCodeAt(t)|0;return Math.abs(r)},"createHash"),Mm=["James","Mary","John","Patricia","Robert","Jennifer","Michael","Linda","William","Elizabeth","David","Susan","Richard","Jessica","Joseph","Sarah","Thomas","Karen","Charles","Nancy","Christopher","Lisa","Daniel","Margaret","Matthew","Betty","Anthony","Sandra","Mark","Ashley","Donald","Dorothy","Steven","Kimberly","Paul","Emily","Andrew","Donna","Joshua","Michelle","Kenneth","Carol","Kevin","Amanda","Brian","Melissa","George","Deborah"],Om=["Smith","Johnson","Williams","Jones","Brown","Davis","Miller","Wilson","Moore","Taylor","Anderson","Thomas","Jackson","White","Harris","Martin","Thompson","Garcia","Martinez","Robinson","Clark","Rodriguez","Lewis","Lee","Walker","Hall","Allen","Young","Hernandez","King","Wright","Lopez","Hill","Scott","Green","Adams","Baker","Gonzalez","Nelson","Carter","Mitchell","Perez","Roberts","Turner","Phillips","Campbell","Parker","Evans"],Rm={toCamelCase:Ur,toUpperCamelCase:sm,capitalize:xm,generateObjectId:Am,getLanguageCode:vm,getShortName:Sm,hashCode:bm,matchStart:Dm,padStart:Im,params:Em,random:Lm,randomColor:Cm,removeDiacritics:Tm,findDuplicateSubstrings:wm,generateNameAsync:$m,toSnakeCase:Hr,generateNameUsingString:Nm};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _m=[60,3600,86400,604800,2592e3,31536e3,1/0],P$=["second","minute","hour","day","week","month","year"],x$=a(function(w,r,t){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Soon";try{var n=null!=r?r:"en",o=null!=t?t:{numeric:"auto"},S=Math.round((1e3*w-Date.now())/1e3),I=Math.abs(Math.round((1e3*w-Date.now())/1e3)),b=Sr(_m,function(k){return k>I}),D=b?_m[b-1]:1;return new Intl.RelativeTimeFormat(n,o).format(Math.floor(S/D),P$[b])}catch(k){if(void 0!==e)return"Soon";throw k}},"func"),km=x$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var w$=a(function(w){var r=new Date(w),t=r.getUTCHours(),e=r.getUTCMinutes(),n=r.getUTCSeconds(),o=r.getUTCMilliseconds(),S=t<10?"0".concat(t):"".concat(t),I=e<10?"0".concat(e):"".concat(e),b=n<10?"0".concat(n):"".concat(n),D="".concat(o);return o<10?D="00".concat(o):o<100&&(D="0".concat(o)),"".concat(S,":").concat(I,":").concat(b,":").concat(D)},"func"),Gm=w$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var $$=a(function(w){var r=new Date(w),t=new Date;return r.getDate()===t.getDate()&&r.getMonth()===t.getMonth()&&r.getFullYear()===t.getFullYear()},"func"),Fm=$$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var A$=a(function(w){return new Promise(function(r){return setTimeout(r,w)})},"func"),Bm=A$,Um={isToday:Fm,sleepAsync:Bm,getRelativeTime:km,getTimeString:Gm};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var v$=a(function(w){return"boolean"==typeof w},"func"),Vm=v$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var S$=a(function(){var w,r;return!!(null!=(r=codex)&&null!=(w=r.player)&&w.getPlayerDataByKey("debug"))},"func"),Km=S$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var b$=a(function(w){return"function"==typeof w},"func"),zr=b$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var D$=a(function(w){return"number"==typeof w},"func"),Hm=D$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var I$=a(function(w){return!!zr(w)&&(!!_instanceof(w,Promise)||"then"in w&&"function"==typeof w.then||"AsyncFunction"===w.constructor.name)},"func"),jm=I$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var E$=a(function(w,r,t){var e,n,o=null!=t?t:{},S=o.timeout,I=void 0===S?1e3:S,b=o.checkInterval,D=void 0===b?16:b;return new Promise(function(k,E){if("function"!=typeof w)throw Error("Input from must be a function");n=setInterval(function(){w()===("function"==typeof r?r():r)&&(clearTimeout(e),clearInterval(n),k(!0))},D),I>0&&(clearTimeout(e),e=setTimeout(function(){clearInterval(n),E(Error("Timeout"))},I))})},"func"),Wm=E$,zm={isBoolean:Vm,isDebugger:Km,isEmpty:$t,isFalsy:Dr,isFunction:zr,isNumber:Hm,isObject:j,isPromise:jm,isPropertyKey:Kr,isString:Br,isValueChangeAsync:Wm},L$={Array:bu,Browser:ju,Decorator:Ht,Device:sp,Function:Lp,Hash:Gp,Image:Yp,Json:Jp,Mark:Xp.Mark,Object:gm,Signal:Pm,String:Rm,Number:om,Time:Um,Valid:zm,Error:fp},qm=L$,C$=Object.preventExtensions({Dtos:{},Utils:Object.freeze(qm),Match:Object.freeze({Modes:Object.freeze($r)}),Events:Object.freeze(Ee),Configs:Object.seal(v),Plugins:Object.seal({Ads:null,Audio:null,Analytics:null})});window.Ludex=C$,window.TypeGuard=mu,window.GameName="Save The Pets",window.CommitId="ca7b9b78-c52488d2",window.BuildVersion=7,s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils=Ludex.Utils,dt=_Ludex_Utils.Valid,Ze=_Ludex_Utils.Object,ka=_Ludex_Utils.String,Ga=_Ludex_Utils.Json,Fa="is invalid",Fe={},ee=function(){function w(r){_class_call_check(this,w),this.Zs(r)}return _create_class(w,[{key:"Ce",value:function value(){return this.constructor}},{key:"Zs",value:function value(t){dt.isObject(t)||this.a("input data","is not an object");var e=this.Ce().getDefaults(),n=Ze.merge(e,t);this.Ma(n),this.q(n),this.o(n),this.Q(n)}},{key:"Ma",value:function value(t){}},{key:"J",value:function value(t){dt.isObject(t)||this.a("structure","is not an object");var e=this.nt(),n=Object.keys(t),o=this.Ce(),S=o.N();if(!o.loose[S]){var I=n.filter(function(Pe){return!e.includes(Pe)}),b=!0,D=!1,k=void 0;if(I.length>0&&dt.isObject(t))try{for(var E,L=I[Symbol.iterator]();!(b=(E=L.next()).done);b=!0){var C=E.value;Ze.assign(t,_define_property({},C,null))}}catch(Pe){D=!0,k=Pe}finally{try{b||null==L.return||L.return()}finally{if(D)throw k}}}var R=!0,$=!1,z=void 0;try{for(var ne,ce=e[Symbol.iterator]();!(R=(ne=ce.next()).done);R=!0){var ye=ne.value;Ze.hasOwn(t,ye)||this.a("structure","is missing key: ".concat(ye))}}catch(Pe){$=!0,z=Pe}finally{try{R||null==ce.return||ce.return()}finally{if($)throw z}}}},{key:"X",value:function value(t){var e=this.Ce(),n=e.N(),o=!0,S=!1,I=void 0;try{for(var b,D=this.nt()[Symbol.iterator]();!(o=(b=D.next()).done);o=!0){var k=b.value,E=t[k],L=ka.removeDiacritics(k).replace(/[^a-zA-Z0-9]/g,""),C=this["validate".concat(ka.capitalize(L))];if("function"==typeof C)try{C.call(this,E)}catch(z){if(!e.loose[n])throw z;var R,$=null==(R=Fe[n])?void 0:R[k];void 0!==$&&(t[k]=Ga.clone($))}else e.loose[n]||this.a("validator","is missing for key '".concat(k,"'"))}}catch(z){S=!0,I=z}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}}},{key:"Z",value:function value(t){var e=!0,n=!1,o=void 0;try{for(var S,I=this.nt()[Symbol.iterator]();!(e=(S=I.next()).done);e=!0){var b=S.value;Ze.assign(this,_define_property({},b,t[b]))}}catch(D){n=!0,o=D}finally{try{e||null==I.return||I.return()}finally{if(n)throw o}}}},{key:"a",value:function value(t,e){var n=this.Ce().N();throw Error("".concat(n,": ").concat(t," ").concat(e))}},{key:"toObject",value:function value(){var t={},e=!0,n=!1,o=void 0;try{for(var S,I=this.nt()[Symbol.iterator]();!(e=(S=I.next()).done);e=!0){var b=S.value;t[b]=this[b]}}catch(D){n=!0,o=D}finally{try{e||null==I.return||I.return()}finally{if(n)throw o}}return t}},{key:"nt",value:function value(){var t=Fe[this.Ce().N()];return dt.isObject(t)?Object.keys(t):[]}}],[{key:"N",value:function value(){var t,e=Object.getOwnPropertyNames(w.prototype).join("");return"string"!=typeof e?null!=(t=w.name)?t:"unknown":e.replaceAll("validate","").replaceAll("constructor","").replaceAll("toObject","")}},{key:"addDefaults",value:function value(t){dt.isObject(t)||w.prototype.a("default data",Fa);var e=Ga.clone(t),n=w.N();dt.isObject(Fe[n])||(Fe[n]={});var o=Fe[n];Fe[n]=Ze.merge(o,e)}},{key:"getDefaults",value:function value(){var t,e=w.N();return null!=(t=Ga.clone(Fe[e]))?t:{}}},{key:"addValidator",value:function value(t,e){dt.isString(t)||w.prototype.a("validate key",Fa),"function"!=typeof e&&w.prototype.a("validate function",Fa);var n=w.N(),o=Fe[n],S=w.loose[n];Ze.assign(w.loose,_define_property({},n,null)),Ze.assign(Fe,_define_property({},n,null));var I="validate".concat(ka.capitalize(t));Ze.assign(w.prototype,_define_property({},I,e)),n=w.N(),w.loose[n]=S,Fe[n]=o}},{key:"makeStrict",value:function value(){var t=w.N();w.loose[t]=!1}},{key:"makeLoose",value:function value(){var t=w.N();w.loose[t]=!0}}]),w}();a(ee,"BaseDtos"),Ge(ee,"loose",{});var Ba=ee,ae=Ba;Ludex.Dtos={Base:ae},s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Va=function(){function w(r){_class_call_check(this,w),_define_property(this,"codex",void 0),_define_property(this,"Bt",void 0),this.codex=r,this.Bt={}}return _create_class(w,[{key:"install",value:function value(t,e,n,o){if("function"!=typeof e)return!1;var S=new e(this.codex);return this.Bt[t]=S,n&&Object.defineProperty(this.codex,o,{get:a(function(){return S},"get")}),S.init(),!0}},{key:"get",value:function value(t){return this.Bt[t]}}]),w}();a(Va,"Plugins");var Ua=Va,Ym=Ua;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ha=function(){function w(r){_class_call_check(this,w),_define_property(this,"codex",void 0),this.codex=r}return _create_class(w,[{key:"init",value:function value(){}}]),w}();a(Ha,"BasePlugin");var Ka=Ha,Jm=Ka,Wa=function(){function w(){_class_call_check(this,w),_define_property(this,"codex",void 0),_define_property(this,"plugins",void 0),_define_property(this,"ads",void 0),_define_property(this,"auth",void 0),_define_property(this,"audio",void 0),_define_property(this,"event",void 0),_define_property(this,"match",void 0),_define_property(this,"player",void 0),_define_property(this,"profile",void 0),_define_property(this,"context",void 0),_define_property(this,"storage",void 0),_define_property(this,"language",void 0),_define_property(this,"missions",void 0),_define_property(this,"analytics",void 0),_define_property(this,"visibility",void 0),_define_property(this,"leaderboard",void 0),_define_property(this,"dailyRewards",void 0),_define_property(this,"remoteConfig",void 0),_define_property(this,"frameCapture",void 0),_define_property(this,"firebase",void 0),_define_property(this,"monitorError",void 0),_define_property(this,"adaptivePerformance",void 0),_define_property(this,"inputRecorder",void 0),_define_property(this,"console",void 0),_define_property(this,"profiler",void 0),_define_property(this,"canvasRecorder",void 0),this.codex=this,this.plugins=new Ym(this.codex)}return _create_class(w,[{key:"boot",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(t){return[2]})})()}},{key:"start",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(t){return[2]})})()}},{key:"getBuildVersion",value:function value(){return 0}}]),w}();a(Wa,"Game");var ja=Wa;window.Ludex.Plugins={BasePlugin:Jm};var Qm=ja;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var qa=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"payload",void 0),n.name="BadRequest",n.message=null!=t?t:"This request is bad",n.payload=e,n}return _inherits(r,w),r}(_wrap_native_super(Error));a(qa,"BadRequest");var za=qa,qr=za;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ja=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"payload",void 0),n.name="RequestTimeout",n.message=null!=t?t:"This request is timeout",n.payload=e,n}return _inherits(r,w),r}(_wrap_native_super(Error));a(Ja,"RequestTimeout");var Ya=Ja,Yr=Ya,_Ludex_Utils1=Ludex.Utils,T$=_Ludex_Utils1.Valid,M$=_Ludex_Utils1.Time,_Ludex_Configs=Ludex.Configs,Xm=_Ludex_Configs.AppId,Qa=_Ludex_Configs.Network,O$=a(function(w){if(!w.ok)throw new qr(void 0,{response:w})},"validateResponse"),Zm=a(function(){var w,r=null==(w=codex.auth)?void 0:w.getToken();return{token:r,timeout:Qa.Timeout,headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}}},"defaultConfig"),eh=a(function(w,r,t,e){return function(){return _async_to_generator(function(){var n,o,S,I,b;return _ts_generator(this,function(D){switch(D.label){case 0:if(D.trys.push([0,3,,4]),!Xm)throw new qr("AppId is not defined");return n="".concat(w,"/apps/").concat(Xm,"/").concat(r),t.signal=(o=new AbortController).signal,S=setTimeout(function(){o.abort()},t.timeout),T$.isObject(e)&&(t.body=JSON.stringify(e)),[4,fetch(n,t)];case 1:return I=D.sent(),clearTimeout(S),O$(I),[4,I.json()];case 2:return[2,D.sent()||{}];case 3:if(_instanceof(b=D.sent(),qr))return[2,null];throw _instanceof(b,Object)&&"name"in b&&"AbortError"===b.name?new Yr:b;case 4:return[2]}})})()}},"requester"),Xa=a(function(w,r){return _async_to_generator(function(){var t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,1,,7]),[2,w()];case 1:if(!(_instanceof(t=n.sent(),Yr)&&r>0))return[3,6];n.label=2;case 2:return n.trys.push([2,5,,6]),[4,M$.sleepAsync(600)];case 3:return n.sent(),[4,Xa(w,r-1)];case 4:return[2,n.sent()];case 5:return e=n.sent(),[2,{}];case 6:return[2,(_instanceof(t,Yr),{})];case 7:return[2]}})})()},"handleRequest"),qe=a(function(w,r,t){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qa.Retries;return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,Xa(eh(t,w,be(N(N({},Zm()),r),{method:"GET"})),e)];case 1:return[2,o.sent()];case 2:return n=o.sent(),[2,{}];case 3:return[2]}})})()},"get"),Ae=a(function(w,r,t,e){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qa.Retries;return _async_to_generator(function(){var o;return _ts_generator(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,Xa(eh(e,w,be(N(N({},Zm()),t),{method:"POST"}),r),n)];case 1:return[2,S.sent()];case 2:return o=S.sent(),[2,{}];case 3:return[2]}})})()},"post"),_Ludex_Configs1=Ludex.Configs,_Ludex_Configs_Notification=_Ludex_Configs1.Notification,N$=_Ludex_Configs_Notification.ApiUrl,_Ludex_Utils2=Ludex.Utils,R$=_Ludex_Utils2.Object,th=a(function(w){return _async_to_generator(function(){var r;return _ts_generator(this,function(t){switch(t.label){case 0:if(!R$.hasOwn(w,"playerId"))throw Error("Missing playerId");return r=w.playerId,[4,Ae("players/".concat(r),w,{},N$,10)];case 1:return t.sent(),[2]}})})()},"updatePlayerProfileNotificationAsync");s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _$={score:"score",settings:"settings",isFirstLogin:"isFirstLogin",gameData:"gameData",missionsData:"missionsData",notificationData:"notificationData",dailyRewardedData:"dailyRewardedData",lastCallSwitchGame:"lastCallSwitchGame",remoteConfig:"remoteConfig"},rh=_$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var k$={ASID:null,playerId:"0000",name:"Guest",photo:"",locale:"en_US",connectedPlayers:{},data:{score:0,isFirstLogin:!0,settings:{sound:!0,music:!0,vibrate:!0,language:"en"},gameData:{coins:0,level:1},notificationData:{D1:{arrivalDate:0},D2:{arrivalDate:0},D3:{arrivalDate:0},D4:{arrivalDate:0},D5:{arrivalDate:0},D6:{arrivalDate:0},D7:{arrivalDate:0}},missionsData:{process:{}},dailyRewardedData:{logDays:[],firstReward:0,lastReward:0},lastCallSwitchGame:0}},De=k$,_Ludex_Utils3=Ludex.Utils,qt=_Ludex_Utils3.Valid,G$=De.playerId,F$=De.name,B$=De.photo,U$=De.locale,Yt="is invalid",Za=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"Q",value:function value(e){this.Z(e)}},{key:"q",value:function value(e){this.J(e)}},{key:"o",value:function value(e){this.X(e)}},{key:"validateId",value:function value(e){qt.isString(e)&&e||this.a("_id",Yt)}},{key:"validatePlayerId",value:function value(e){qt.isString(e)&&e||this.a("playerId",Yt)}},{key:"validateName",value:function value(e){qt.isString(e)&&e||this.a("name",Yt)}},{key:"validatePhoto",value:function value(e){qt.isString(e)||this.a("photo",Yt)}},{key:"validateLocale",value:function value(e){qt.isString(e)&&e||this.a("locale",Yt)}},{key:"toObject",value:function value(){return _get(_get_prototype_of(r.prototype),"toObject",this).call(this)}}]),r}(ae);a(Za,"PlayerInfoDtos");var Jr=Za;Jr.addDefaults({playerId:G$,name:F$,photo:B$,locale:U$});var It=Jr,V$=new It({playerId:"10",name:"Your Friend"}).toObject(),he=V$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var to=function(w){function r(t){var e;return _class_call_check(this,r),_define_property(e=_call_super(this,r,[t]),"code",void 0),e.code="CREATE_MATCH_FAILED",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(to,"ACreateMatchFailed");var eo=to,oe=eo,no=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="PlayerIdNotValid",e.message=null!=t?t:"Player id is not valid",e}return _inherits(r,w),r}(oe);a(no,"PlayerIdNotValid");var ro=no,B=ro,ao=Ludex.Dtos,_Ludex_Utils4=Ludex.Utils,K$=_Ludex_Utils4.Array,H$=_Ludex_Utils4.Object,TDe=_Ludex_Utils4.Json,oo=_Ludex_Utils4.Valid,j$=Ludex.Events,_Ludex_Configs2=Ludex.Configs,W$=_Ludex_Configs2.Context,z$=_Ludex_Configs2.Player,io=function w(r){var t=this;_class_call_check(this,w),_define_property(this,"r",void 0),_define_property(this,"initContext",a(function(){if(W$.Enabled){var e,n={contextId:null!=(e=GameSDK.context.getID())?e:"",contextType:GameSDK.context.getType(),entryPointData:GameSDK.getEntryPointData()},S=new ao.Context.Info(n).toObject(),I=S.contextId,b=S.contextType,D=S.entryPointData;t.r.context.receiveContext(I,b,D)}},"initContext")),_define_property(this,"initPlayer",a(function(){return _async_to_generator(function(){var e,n,o,S,I,b;return _ts_generator(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,3,4]),z$.Enabled?(e=this.r.player,n=this.er(),o=K$.unique(H$.vals(rh)),[4,GameSDK.player.getDataAsync(o)]):[2];case 1:return S=D.sent(),I=new ao.Player.Data(S).toObject(),e.receiveData(n,I),[3,4];case 2:return b=D.sent(),[3,4];case 3:return this.r.event.emit(j$.PLAYER_INFO_LOADED),[7];case 4:return[2]}})}).call(t)},"initPlayer")),_define_property(this,"er",a(function(){try{var e=GameSDK.player.getID(),n=GameSDK.player.getName(),o=GameSDK.player.getPhoto(),S=GameSDK.getLocale();if(!oo.isString(e))throw new B;return oo.isString(n)||(n="You"),oo.isString(S)&&S||(S="en"),new ao.Player.Info({playerId:e,name:n,photo:o,locale:S}).toObject()}catch(unused){return he}},"getPlayerInfo$")),this.r=r};a(io,"StateInitiator");var so=io,nh=so;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ah=function(w){return w.IDLE="idle",w.LOADING="loading",w.FILLED="filled",w.SHOWING="showing",w}(ah||{}),Qr=ah;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var oh=function(w){return w.BANNER="banner",w.INTERSTITIAL="interstitial",w.REWARDED_VIDEO="rewarded_video",w.REWARDED_INTERSTITIAL="rewarded_interstitial",w}(oh||{}),se=oh;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var lo=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[e]),"code",void 0),n.code=t,n.message=e,n}return _inherits(r,w),r}(_wrap_native_super(Error));a(lo,"AdError");var co=lo,Et=co;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var po=function(){function w(r,t){_class_call_check(this,w),_define_property(this,"type",void 0),_define_property(this,"service",void 0),_define_property(this,"placementId",void 0),_define_property(this,"it",void 0),this.type=r,this.it=Qr.IDLE,this.placementId=t}return _create_class(w,[{key:"setStatus",value:function value(t){this.it!==t&&(this.it=t)}},{key:"status",get:function get(){return this.it}},{key:"a",value:function value(t){throw new Et("AD_INSTANCE_ERROR",t)}}]),w}();a(po,"BaseInstance");var uo=po,sh=uo,ho=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"loadAsync",value:function value(){this.a("This method is not implemented")}},{key:"showAsync",value:function value(){this.a("This method is not implemented")}},{key:"hideAsync",value:function value(){this.a("Unsupported method")}}]),r}(sh);a(ho,"AdInstance");var mo=ho,ih=mo;Ludex.Plugins.Ads={Types:se,Status:Qr,AdError:Et,AdInstance:ih};var _Ludex_Utils5=Ludex.Utils,fo=_Ludex_Utils5.Array,ch=_Ludex_Utils5.Object,q$=_Ludex_Utils5.Function,Lt=_Ludex_Utils5.Device,go=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"enabled",void 0),_define_property(t,"de",void 0),_define_property(t,"ot",void 0),_define_property(t,"ve",void 0),_define_property(t,"lt",void 0),_define_property(t,"Re",{}),_define_property(t,"he",void 0),_define_property(t,"Me",{failedAttempts:0,lastSuccessTime:0}),t}return _inherits(r,w),_create_class(r,[{key:"getAdsInstances",value:function value(){return this.Re}},{key:"getDeviceOS",value:function value(){return this.ot}},{key:"getDegradationTracking",value:function value(){return this.Me}},{key:"getLastCallAdShownTime",value:function value(){return this.ve}},{key:"init",value:function value(){var e,n=Date.now()/1e3;this.ot=this.tr(),this.ve=(_define_property(e={},se.BANNER,n),_define_property(e,se.INTERSTITIAL,n),_define_property(e,se.REWARDED_VIDEO,n),_define_property(e,se.REWARDED_INTERSTITIAL,n),e),this.lt=!1,this.Ht(),this.he=Lt.getSafeAreaBottom()}},{key:"tr",value:function value(){var e=GameSDK.getPlatform();return"IOS"===e?"ios":"WEB"===e?"desktop":"ANDROID"===e?"android":Lt.isIOS()?"ios":Lt.isAndroid()?"android":Lt.isDesktop()?"desktop":"default"}},{key:"configure",value:function value(e){this.de=e,this.enabled=this.de.Enabled}},{key:"Pe",value:function value(){if(!this.enabled)throw new Et("ADS_NOT_ENABLED","Ads is't enabled")}},{key:"isAdFullSizeShowing",value:function value(){return this.lt}},{key:"setAdInstance",value:function value(e,n,o,S){var I=this;if(S===this.ot||"default"===S){var b="".concat(e,"-").concat(n,"-").concat(S);if(!this.Re[b]){var D=this.ar(e,S,n);if(D){var k=this.getAdsByType(e);if(!fo.search(k,function(L){var C=L.config,R=C.AdService,$=C.DeviceOS;return R===D.AdService&&$!==S&&$===I.ot}))try{var E=new o(e,n);this.Re[b]={type:e,config:D,deviceOS:S,placementId:n,interval:null,instance:E}}catch(unused){return}}}}}},{key:"loadAdAsync",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b;return _ts_generator(this,function(D){switch(D.label){case 0:this.Pe(),o=this.codex.event,S={type:e,placementId:n},I=this.getAd(e,n),S.placementId=I.placementId,D.label=1;case 1:return D.trys.push([1,3,,4]),o.emit(Ludex.Events.AD_LOADING,S),[4,I.instance.loadAsync()];case 2:return D.sent(),o.emit(Ludex.Events.AD_LOADED,S),[3,4];case 3:throw b=D.sent(),o.emit(Ludex.Events.AD_LOAD_FAILED,S),this.Me.failedAttempts++,b;case 4:return[2]}})}).call(this)}},{key:"showAdAsync",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b;return _ts_generator(this,function(D){switch(D.label){case 0:if(this.Pe(),!this.canShowAd(e,n))return[2];o=this.codex.event,S={type:e,placementId:n},I=this.getAd(e,n),S.placementId=I.placementId,D.label=1;case 1:return D.trys.push([1,3,4,5]),o.emit(Ludex.Events.AD_SHOWING,S),this.lt=!0,[4,I.instance.showAsync()];case 2:return D.sent(),o.emit(Ludex.Events.AD_SHOW,S),this.Ht(),this.ve[e]=Date.now()/1e3,[3,5];case 3:throw b=D.sent(),o.emit(Ludex.Events.AD_SHOW_FAILED,S),this.Me.failedAttempts++,b;case 4:return o.emit(Ludex.Events.AD_CLOSED,S),this.lt=!1,[7];case 5:return[2]}})}).call(this)}},{key:"getAdStatus",value:function value(e,n){this.Pe();try{return this.getAd(e,n).instance.status}catch(unused){return!1}}},{key:"getAd",value:function value(e,n){var o=null;if(!(o=n?this.getAdByPlacementId(n,e):this.$a(e)))throw new Et("AD_INSTANCE_NOT_INITIATED","The instance ads not yet initiated");return o}},{key:"getAdsByType",value:function value(e){return ch.vals(this.Re).filter(function(n){return n.type===e})}},{key:"getAdByPlacementId",value:function value(e,n){var o=ch.vals(this.Re);return fo.search(o,function(S){return S.placementId===e&&(!n||S.type===n)})||null}},{key:"$a",value:function value(e){var n=this.getAdsByType(e);return n.length>0?n[0]:null}},{key:"canShowAd",value:function value(e,n){return this.sr(e,n)}},{key:"sr",value:function value(e,n){try{var o,S=Date.now()/1e3;if(n)o=this.getAd(e,n);else{var I=this.$a(e);if(!I)return!1;o=I}var b=o.config,D=b.SecondsBetweenAds,k=void 0===D?0:D,E=b.SecondsFirstTime,L=void 0===E?0:E,C=S-this.ve[e],R=C>k,$=C>L;return this.ve[e]>0?R:$}catch(unused){return!1}}},{key:"canShowBannerAd",value:function value(e){try{return!!this.getAdByPlacementId(e,se.BANNER)}catch(unused){return!1}}},{key:"showBannerAdAsync",value:function value(e){return _async_to_generator(function(n){var o,S,I,b=arguments;return _ts_generator(this,function(D){switch(D.label){case 0:if(o=!(b.length>1)||void 0===b[1]||b[1],this.Pe(),S=this.getAd(se.BANNER,n),!this.canShowBannerAd(S.placementId))throw Error("Banner ad can not be shown");return this.Ga(S),o?[4,this.Ua(S)]:[3,2];case 1:return I=D.sent(),[3,4];case 2:return[4,this.Fa(S)];case 3:I=D.sent(),D.label=4;case 4:return[2]}})}).apply(this,arguments)}},{key:"Fa",value:function value(e){return _async_to_generator(function(){var n,o,S,I;return _ts_generator(this,function(b){switch(b.label){case 0:if(n=this.codex.event,this.isAdFullSizeShowing())return[2];o={type:se.BANNER,placementId:e.placementId},b.label=1;case 1:return b.trys.push([1,4,,9]),[4,e.instance.loadAsync()];case 2:return b.sent(),n.emit(Ludex.Events.AD_SHOWING,o),[4,e.instance.showAsync()];case 3:return b.sent(),n.emit(Ludex.Events.AD_SHOW,o),this.ve[se.BANNER]=Date.now()/1e3,[3,9];case 4:if(S=b.sent(),"AD_NOT_FILLED"===q$.toError(S).code)return[3,8];b.label=5;case 5:return b.trys.push([5,7,,8]),[4,e.instance.hideAsync()];case 6:return b.sent(),[3,8];case 7:return I=b.sent(),[3,8];case 8:return n.emit(Ludex.Events.AD_SHOW_FAILED,o),[3,9];case 9:return[2]}})}).call(this)}},{key:"Ua",value:function value(e){return _async_to_generator(function(){var n,o,S,I;return _ts_generator(this,function(b){switch(b.label){case 0:return n=this,[4,this.Fa(e)];case 1:return b.sent(),(S=void 0===(o=e.config.SecondsReload)?0:o)<=0||!S||(I=a(function(){return n.Ua(e)},"cb"),e.interval=setTimeout(I,1e3*S)),[2]}})}).call(this)}},{key:"hideBannerAdAsync",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return this.Pe(),n=this.getAd(se.BANNER,e),this.Ga(n),[4,n.instance.hideAsync()];case 1:return o.sent(),this.codex.event.emit(Ludex.Events.AD_CLOSED,{type:se.BANNER,placementId:e}),[2]}})}).call(this)}},{key:"Ga",value:function value(e){try{var n=e.interval;if(!n)return;clearInterval(n)}catch(unused){}}},{key:"ar",value:function value(e,n,o){var S;switch(e){case se.BANNER:S=this.de.BannerDisplayAdOptions;break;case se.INTERSTITIAL:S=this.de.InterstitialAdOptions;break;case se.REWARDED_VIDEO:S=this.de.RewardedVideoAdOptions;break;case se.REWARDED_INTERSTITIAL:S=this.de.RewardedInterstitialAdOptions;break;default:return null}return fo.search(S,function(I){var b=I.PlacementId,D=I.DeviceOS;return b===o&&(D===n||"default"===D)})||null}},{key:"getBannerConfig",value:function value(e){var n=this.getAdByPlacementId(e,se.BANNER);if(!n)throw Error("Banner ad instance with placementId ".concat(e," not found"));return n.config}},{key:"getBannerHeight",value:function value(e,n){var o=!(arguments.length>2)||void 0===arguments[2]||arguments[2];this.Pe();var S=this.getAdByPlacementId(e,se.BANNER);if(!S)throw Error("Banner ad instance with placementId ".concat(e," not found"));var I=S.config,b=GameSDK.getBannerHeight(I);return o?(this.he<=0&&(this.he=Lt.getSafeAreaBottom()),(b+this.he)*n):b*n}},{key:"getSafeAreaBottom",value:function value(e){return this.he<=0&&(this.he=Lt.getSafeAreaBottom()),this.he*e}},{key:"Ht",value:function value(){this.Me={failedAttempts:0,lastSuccessTime:Date.now()}}},{key:"isServiceDegraded",value:function value(){var e=Date.now(),n=this.de.DegradationTracking,o=n.MaxFailedAttempts,S=n.ResetTimeMinutes,I=this.Me,b=I.lastSuccessTime,D=I.failedAttempts;return e-b>60*S*1e3&&this.Ht(),D>=o}}]),r}(Ludex.Plugins.BasePlugin);a(go,"AdsPlugin");var yo=go,lh=yo,dh=lh;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Y$={APP_LAUNCH:"app_launch",APP_INITIALIZED:"app_initialized",ENGINE_READY:"engine_ready",LOAD_START:"load_start",LOAD_COMPLETE:"load_complete",APP_READY:"app_ready",PAGE_VIEW:"page_view",SCREEN_OPEN:"screen_open",BUTTON_CLICK:"button_click",TUTORIAL_BEGIN:"tutorial_begin",TUTORIAL_STEP:"tutorial_step",TUTORIAL_COMPLETE:"tutorial_complete",MATCH_START:"match_start",MATCH_END:"match_end",LEVEL_START:"level_start",LEVEL_RESCUE:"level_rescue",LEVEL_END:"level_end",USE_ITEM:"use_item",EARN_ITEM:"earn_item",SHARE:"share",INVITE:"invite",MESSAGE:"message",SHORTCUT_CREATE:"shortcut_create",SHORTCUT_CREATE_POPUP:"shortcut_create_popup",BOT_SUBSCRIBE:"bot_subscribe",BOT_SUBSCRIBE_POPUP:"bot_subscribe_popup",AD_INIT:"ad_init",AD_LOAD:"ad_load",AD_LOAD_FAILED:"ad_load_failed",AD_SHOWING:"ad_showing",AD_SHOW:"ad_show",AD_SHOW_FAILED:"ad_show_failed",AD_REWARD:"ad_reward",NEW_USER:"new_user",RETURNING_USER:"returning_user",JOIN_GROUP:"join_group",TOURNAMENT_START:"tournament_start",TOURNAMENT_SHARE:"tournament_share",TOURNAMENT_CREATE:"tournament_create",TOURNAMENT_POST_SCORE:"tournament_post_score",SWITCH_GAME_POPUP:"switch_game_popup",SWITCH_GAME:"switch_game"},T=Y$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var xo=function(){function w(){_class_call_check(this,w),_define_property(this,"T",[]),_define_property(this,"$e",[]),_define_property(this,"Kt",[]),_define_property(this,"Vt",!1),_define_property(this,"Wt",!1),_define_property(this,"ka",[]),_define_property(this,"Ge",!1),_define_property(this,"ja",!1)}return _create_class(w,[{key:"addEvent",value:function value(t,e){this.Vt||this.Wt?this.rr("Skip event:",t):(this.T.push(t),this.nr(t))}},{key:"nr",value:function value(t){var e=this.ir();if(e.hasFailed){this.Wt=!0,this.or();return}e.hasWarnings&&this.lr(e.warnings),this.cr(t)}},{key:"ir",value:function value(){for(var t={hasFailed:!1,hasWarnings:!1,warnings:[]},e=this.dr().filter(function(D){return D.i}),n=0;n<e.length;n++){var o=e[n],S=this.T.indexOf(o.name);if(-1===S)return this.$e=[o.name],t.hasFailed=!0,t;if(n>0){var I=e[n-1];if(this.T.indexOf(I.name)>S)return this.$e=[I.name],t.hasFailed=!0,t}}var b=this.hr();return b.length>0&&(t.hasWarnings=!0,t.warnings=b,this.Kt=b),t}},{key:"dr",value:function value(){var t=this.T[this.T.length-1],e=this.M.findIndex(function(n){return n.name===t});return this.M.slice(0,e+1)}},{key:"hr",value:function value(){var t=this,e=[];return this.T.forEach(function(n,o){var S,I=t.M.find(function(D){return D.name===n});if(null!=I&&null!=(S=I.f)&&S.length){var b=I.f.find(function(D){return!t.T.includes(D)||t.T.indexOf(D)>o});b&&!t.ka.includes(n)&&(e.push({event:n,missingDependency:b}),t.ka.push(n))}}),e}},{key:"cr",value:function value(t){var e=this;t===this.M[this.M.length-1].name&&this.M.filter(function(n){return n.i}).every(function(n){return e.T.includes(n.name)})&&(this.Vt=!0,this.ur())}},{key:"lr",value:function value(t){var e=!0,n=!1,o=void 0;try{for(var S,I=t[Symbol.iterator]();!(e=(S=I.next()).done);e=!0)S.value}catch(b){n=!0,o=b}finally{try{e||null==I.return||I.return()}finally{if(n)throw o}}}},{key:"or",value:function value(){var t=this.constructor.name;if(this.$e.length,this.ja)throw Error("[".concat(t,"] Funnel is required to be completed ! (missing: ").concat(this.$e.join(", "),")"))}},{key:"ur",value:function value(){this.constructor.name,this.Kt.length}},{key:"rr",value:function value(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.Ge}},{key:"isFunnelCompleted",value:function value(){return this.Vt}},{key:"isFunnelFailed",value:function value(){return this.Wt}},{key:"getEventHistory",value:function value(){return _to_consumable_array(this.T)}},{key:"getMissingEvents",value:function value(){return _to_consumable_array(this.$e)}},{key:"getOutOfOrderEvents",value:function value(){return _to_consumable_array(this.Kt)}}]),w}();a(xo,"BaseFunnel");var Po=xo,Be=Po,$o=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"Ge",!1),_define_property(t,"M",[{name:T.AD_INIT,i:!0,e:{service:"adsense"},l:"Init adsense ad"},{name:T.AD_LOAD_FAILED,i:!1,e:{service:t.service},l:"Platform ad load failed (trigger for adsense)"},{name:T.AD_LOAD,i:!0,e:{service:"adsense"},l:"Start loading adsense ad"},{name:T.AD_LOAD_FAILED,i:!1,f:[T.AD_LOAD],e:{service:"adsense"},l:"Adsense ad load failed"},{name:T.AD_SHOWING,i:!0,f:[T.AD_LOAD],e:{service:"adsense"},l:"Adsense ad is showing"},{name:T.AD_SHOW,i:!1,f:[T.AD_SHOWING],e:{service:"adsense"},l:"Adsense ad shown successfully"},{name:T.AD_SHOW_FAILED,i:!1,f:[T.AD_SHOWING],e:{service:"adsense"},l:"Adsense ad show failed"},{name:T.AD_LOAD,i:!1,e:{service:"adsense"},l:"Preload adsense ad"}]),t}return _inherits(r,w),_create_class(r,[{key:"service",get:function get(){var e,n;return null!=(e=null==(n=GameSDK)?void 0:n.getSDKName())?e:"Ludex"}},{key:"addEvent",value:function value(e,n){var o=(null!=n?n:{}).service;o&&("adsense"===o||e===T.AD_LOAD_FAILED&&"platform"===o)&&_get(_get_prototype_of(r.prototype),"addEvent",this).call(this,e,n)}}]),r}(Be);a($o,"AdsenseFunnel");var wo=$o,uh=wo;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var vo=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"Ge",!1),_define_property(t,"ja",!1),_define_property(t,"M",[{name:T.APP_LAUNCH,i:!0,l:"Application launched"},{name:T.APP_INITIALIZED,i:!0,f:[T.APP_LAUNCH],l:"Application initialized"},{name:T.ENGINE_READY,i:!0,f:[T.APP_INITIALIZED],l:"Game engine initialized"},{name:T.LOAD_START,i:!0,f:[T.ENGINE_READY],l:"Start loading game assets"},{name:T.LOAD_COMPLETE,i:!0,f:[T.LOAD_START],l:"Game assets loaded completely"},{name:T.APP_READY,i:!0,f:[T.LOAD_COMPLETE],l:"Game is ready to play"}]),t}return _inherits(r,w),r}(Be);a(vo,"LudexFunnel");var Ao=vo,ph=Ao;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var bo=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"Ge",!1),_define_property(t,"M",[{name:T.AD_INIT,i:!0,e:{service:t.service},l:"Init platform ad"},{name:T.AD_LOAD,i:!0,e:{service:t.service},l:"Start loading platform ad"},{name:T.AD_LOAD_FAILED,i:!1,f:[T.AD_LOAD],e:{service:t.service},l:"Platform ad load failed"},{name:T.AD_SHOWING,i:!0,f:[T.AD_LOAD],e:{service:t.service},l:"Platform ad is showing"},{name:T.AD_SHOW,i:!1,f:[T.AD_SHOWING],e:{service:t.service},l:"Platform ad shown successfully"},{name:T.AD_SHOW_FAILED,i:!1,f:[T.AD_SHOWING],e:{service:t.service},l:"Platform ad show failed"},{name:T.AD_LOAD,i:!1,e:{service:t.service},l:"Preload platform ad"}]),t}return _inherits(r,w),_create_class(r,[{key:"service",get:function get(){return"platform"}},{key:"addEvent",value:function value(e,n){(null==n?void 0:n.service)===this.service&&_get(_get_prototype_of(r.prototype),"addEvent",this).call(this,e,n)}}]),r}(Be);a(bo,"PlatformAdsFunnel");var So=bo,mh=So;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Match=Ludex.Match,Ct=_Ludex_Match.Modes,Io=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"Ge",!1),_define_property(t,"M",[{name:T.MATCH_START,i:!0,e:{game_mode:Ct.SINGLE},l:"Match started"},{name:T.LEVEL_START,i:!0,f:[T.MATCH_START],e:{game_mode:Ct.SINGLE},l:"Level started"},{name:T.LEVEL_RESCUE,i:!1,f:[T.LEVEL_START],e:{game_mode:Ct.SINGLE},l:"User was rescued"},{name:T.LEVEL_END,i:!0,f:[T.LEVEL_START],e:{game_mode:Ct.SINGLE},l:"Level ended"},{name:T.MATCH_END,i:!0,f:[T.LEVEL_START],e:{game_mode:Ct.SINGLE},l:"Match ended"}]),t}return _inherits(r,w),_create_class(r,[{key:"addEvent",value:function value(e,n){var o=(null!=n?n:{}).game_mode;o&&o.toLowerCase()===Ct.SINGLE&&_get(_get_prototype_of(r.prototype),"addEvent",this).call(this,e,n)}}]),r}(Be);a(Io,"SingleMatchFunnel");var Do=Io,hh=Do;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils6=Ludex.Utils,ut=_Ludex_Utils6.String,J$=_Ludex_Utils6.Valid,Lo=function(){function w(r,t,e){_class_call_check(this,w),_define_property(this,"codex",void 0),_define_property(this,"name",void 0),_define_property(this,"pr",void 0),_define_property(this,"yr",void 0),_define_property(this,"Ba",void 0),_define_property(this,"mr",void 0),this.codex=r,this.name=t,this.yr=e,this.pr=e.color||"#FFF",this.Ba=e.log,this.mr="/"}return _create_class(w,[{key:"event",value:function value(t,e){this.fr("event",{name:t,payload:e});var n=this.gr(t);this.wr(n,e)}},{key:"fr",value:function value(t,e){this.Ba}},{key:"pageview",value:function value(t){var e=this.xr(t);e=this.Ar(e),document.title=e,this.event(T.PAGE_VIEW,{page_path:t,page_title:e})}},{key:"levelStart",value:function value(t,e,n){this.event(T.LEVEL_START,{level:t,score:e,level_name:this.getLevelName(t),game_mode:n?ut.toUpperCamelCase(n):void 0})}},{key:"levelFail",value:function value(t,e,n){this.event(T.LEVEL_END,{level:t,score:e,success:!1,level_name:this.getLevelName(t),game_mode:n?ut.toUpperCamelCase(n):void 0})}},{key:"levelRescue",value:function value(t,e,n){this.event(T.LEVEL_RESCUE,{level:t,score:e,level_name:this.getLevelName(t),game_mode:n?ut.toUpperCamelCase(n):void 0})}},{key:"levelComplete",value:function value(t,e,n){this.event(T.LEVEL_END,{level:t,score:e,success:!0,level_name:this.getLevelName(t),game_mode:n?ut.toUpperCamelCase(n):void 0})}},{key:"initAdEvent",value:function value(t){var e=t.adService,n=t.state;this.event(T.AD_INIT,{ad_service:e,state:n})}},{key:"zt",value:function value(t){var e=t.type,n=t.placement,o=t.service;this.event(T.AD_LOAD,{ad_type:e,screen_name:n,ad_service:o})}},{key:"Yt",value:function value(t){var e=t.type,n=t.placement,o=t.service;this.event(T.AD_SHOW,{ad_type:e,screen_name:n,ad_service:o})}},{key:"loadInterstitialAd",value:function value(t){var e=t.placement,n=t.service;this.zt({type:"interstitial",placement:e,service:n})}},{key:"showInterstitialAd",value:function value(t){var e=t.placement,n=t.service;this.Yt({type:"interstitial",placement:e,service:n})}},{key:"loadRewardedVideoAd",value:function value(t){var e=t.placement,n=t.service;this.zt({type:"rewarded_video",placement:e,service:n})}},{key:"showRewardedVideoAd",value:function value(t){var e=t.placement,n=t.service;this.Yt({type:"rewarded_video",placement:e,service:n})}},{key:"receiveVideoReward",value:function value(t){var e=t.placement,n=t.service;this.event(T.AD_REWARD,{screen_name:e,ad_service:n})}},{key:"loadRewardedInterstitialAd",value:function value(t){var e=t.placement,n=t.service;this.zt({type:"rewarded_interstitial",placement:e,service:n})}},{key:"showRewardedInterstitialAd",value:function value(t){var e=t.placement,n=t.service;this.Yt({type:"rewarded_interstitial",placement:e,service:n})}},{key:"receiveInterstitialReward",value:function value(t){var e=t.placement,n=t.service;this.event(T.AD_REWARD,{screen_name:e,ad_service:n})}},{key:"loadAdFail",value:function value(t){var e=t.type,n=t.placement,o=t.service;this.event(T.AD_LOAD_FAILED,{ad_type:e,screen_name:n,ad_service:o})}},{key:"showAdFail",value:function value(t){var e=t.type,n=t.placement,o=t.service;this.event(T.AD_SHOW_FAILED,{ad_type:e,screen_name:n,ad_service:o})}},{key:"showingAd",value:function value(t){var e=t.type,n=t.placement,o=t.service;this.event(T.AD_SHOWING,{ad_type:e,screen_name:n,ad_service:o})}},{key:"gr",value:function value(t){return t.toLowerCase().replace(/:/g,"_")}},{key:"getLevelName",value:function value(t){return"Level ".concat(ut.padStart(t.toString(),5,"0"))}},{key:"xr",value:function value(t){var e=t.split("/").pop();if(!J$.isString(e))return t;var n=e.replace(/([-_\s.])/g," $1");return ut.toUpperCamelCase(n)}},{key:"Ar",value:function value(t){var e=this.codex.match;if(!e)return t;var n=e.getMatchState().mode;return n||(n="Normal"),"".concat(ut.toUpperCamelCase(n),"::").concat(t)}}]),w}();a(Lo,"BaseAnalytics");var Eo=Lo,fh=Eo;Ludex.Plugins.Analytics={Events:T,BaseFunnel:Be,BaseAnalytics:fh};var To=function(w){function r(t){var e;return _class_call_check(this,r),_define_property(e=_call_super(this,r,[t]),"h",[]),_define_property(e,"v","unknown"),_define_property(e,"Ha",[]),_define_property(e,"pageview",a(function(n){if(e.g()){e.v=n;var o=e.Pr(n),S=!0,I=!1,b=void 0;try{for(var D,k=e.h[Symbol.iterator]();!(S=(D=k.next()).done);S=!0)D.value.pageview(o)}catch(E){I=!0,b=E}finally{try{S||null==k.return||k.return()}finally{if(I)throw b}}e.w(T.PAGE_VIEW)}},"pageview")),e.vr(),e}return _inherits(r,w),_create_class(r,[{key:"E",value:function value(e,n){return Ludex.Utils.Object.merge(e,n)}},{key:"add",value:function value(e){var n=this.h.findIndex(function(o){return o.name===e.name});-1!==n?this.h[n]=e:this.h.push(e)}},{key:"g",value:function value(){return this.h.length>=1}},{key:"vr",value:function value(){this.addFunnel(new ph),this.addFunnel(new uh),this.addFunnel(new mh),this.addFunnel(new hh)}},{key:"addFunnel",value:function value(e){this.Ha.push(e)}},{key:"w",value:function value(e,n){var o=!0,S=!1,I=void 0;try{for(var b,D=this.Ha[Symbol.iterator]();!(o=(b=D.next()).done);o=!0)b.value.addEvent(e,n)}catch(k){S=!0,I=k}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}}},{key:"event",value:function value(e,n){if(this.g()){var o=!0,S=!1,I=void 0;try{for(var b,D=this.h[Symbol.iterator]();!(o=(b=D.next()).done);o=!0)b.value.event(e,n)}catch(k){S=!0,I=k}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}this.w(e,n)}}},{key:"levelStart",value:function value(e,n,o){if(this.g()){var S=!0,I=!1,b=void 0;try{for(var D,k=this.h[Symbol.iterator]();!(S=(D=k.next()).done);S=!0)D.value.levelStart(e,n,o)}catch(E){I=!0,b=E}finally{try{S||null==k.return||k.return()}finally{if(I)throw b}}this.w(T.LEVEL_START,{score:n,game_mode:o})}}},{key:"levelRescue",value:function value(e,n,o){if(this.g()){var S=!0,I=!1,b=void 0;try{for(var D,k=this.h[Symbol.iterator]();!(S=(D=k.next()).done);S=!0)D.value.levelRescue(e,n,o)}catch(E){I=!0,b=E}finally{try{S||null==k.return||k.return()}finally{if(I)throw b}}this.w(T.LEVEL_RESCUE,{score:n,game_mode:o})}}},{key:"levelFail",value:function value(e,n,o){if(this.g()){var S=!0,I=!1,b=void 0;try{for(var D,k=this.h[Symbol.iterator]();!(S=(D=k.next()).done);S=!0)D.value.levelFail(e,n,o)}catch(E){I=!0,b=E}finally{try{S||null==k.return||k.return()}finally{if(I)throw b}}this.w(T.LEVEL_END,{score:n,game_mode:o})}}},{key:"levelComplete",value:function value(e,n,o){if(this.g()){var S=!0,I=!1,b=void 0;try{for(var D,k=this.h[Symbol.iterator]();!(S=(D=k.next()).done);S=!0)D.value.levelComplete(e,n,o)}catch(E){I=!0,b=E}finally{try{S||null==k.return||k.return()}finally{if(I)throw b}}this.w(T.LEVEL_END,{score:n,game_mode:o})}}},{key:"initAdEvent",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D;return _ts_generator(this,function(k){switch(k.label){case 0:return n=this,this.g()?[4,new Promise(function(E){var L=Ludex.Events;n.codex.event.catchUp(L.GAME_READY,E)})]:[3,2];case 1:k.sent(),o=!0,S=!1,I=void 0;try{for(b=this.h[Symbol.iterator]();!(o=(D=b.next()).done);o=!0)D.value.initAdEvent(e)}catch(E){S=!0,I=E}finally{try{o||null==b.return||b.return()}finally{if(S)throw I}}k.label=2;case 2:return[2]}})}).call(this)}},{key:"loadInterstitialAd",value:function value(e){if(this.g()){var n=this.E(e,{placement:this.v}),o=!0,S=!1,I=void 0;try{for(var b,D=this.h[Symbol.iterator]();!(o=(b=D.next()).done);o=!0)b.value.loadInterstitialAd(n)}catch(k){S=!0,I=k}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}this.w(T.AD_LOAD,n)}}},{key:"showInterstitialAd",value:function value(e){if(this.g()){var n=this.E(e,{placement:this.v}),o=!0,S=!1,I=void 0;try{for(var b,D=this.h[Symbol.iterator]();!(o=(b=D.next()).done);o=!0)b.value.showInterstitialAd(n)}catch(k){S=!0,I=k}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}this.w(T.AD_SHOW,n)}}},{key:"loadRewardedVideoAd",value:function value(e){if(this.g()){var n=this.E(e,{placement:this.v}),o=!0,S=!1,I=void 0;try{for(var b,D=this.h[Symbol.iterator]();!(o=(b=D.next()).done);o=!0)b.value.loadRewardedVideoAd(n)}catch(k){S=!0,I=k}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}this.w(T.AD_LOAD,n)}}},{key:"showRewardedVideoAd",value:function value(e){if(this.g()){var n=this.E(e,{placement:this.v}),o=!0,S=!1,I=void 0;try{for(var b,D=this.h[Symbol.iterator]();!(o=(b=D.next()).done);o=!0)b.value.showRewardedVideoAd(n)}catch(k){S=!0,I=k}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}this.w(T.AD_SHOW,n)}}},{key:"receiveVideoReward",value:function value(e){if(this.g()){var n=this.E(e,{placement:this.v}),o=!0,S=!1,I=void 0;try{for(var b,D=this.h[Symbol.iterator]();!(o=(b=D.next()).done);o=!0)b.value.receiveVideoReward(n)}catch(k){S=!0,I=k}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}this.w(T.AD_REWARD,n)}}},{key:"loadRewardedInterstitialAd",value:function value(e){if(this.g()){var n=this.E(e,{placement:this.v}),o=!0,S=!1,I=void 0;try{for(var b,D=this.h[Symbol.iterator]();!(o=(b=D.next()).done);o=!0)b.value.loadRewardedInterstitialAd(n)}catch(k){S=!0,I=k}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}this.w(T.AD_LOAD,n)}}},{key:"showRewardedInterstitialAd",value:function value(e){if(this.g()){var n=this.E(e,{placement:this.v}),o=!0,S=!1,I=void 0;try{for(var b,D=this.h[Symbol.iterator]();!(o=(b=D.next()).done);o=!0)b.value.showRewardedInterstitialAd(n)}catch(k){S=!0,I=k}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}this.w(T.AD_SHOW,n)}}},{key:"receiveInterstitialReward",value:function value(e){if(this.g()){var n=this.E(e,{placement:this.v}),o=!0,S=!1,I=void 0;try{for(var b,D=this.h[Symbol.iterator]();!(o=(b=D.next()).done);o=!0)b.value.receiveInterstitialReward(n)}catch(k){S=!0,I=k}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}this.w(T.AD_REWARD,n)}}},{key:"loadAdFail",value:function value(e){if(this.g()){var n=this.E(e,{placement:this.v}),o=!0,S=!1,I=void 0;try{for(var b,D=this.h[Symbol.iterator]();!(o=(b=D.next()).done);o=!0)b.value.loadAdFail(n)}catch(k){S=!0,I=k}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}this.w(T.AD_LOAD_FAILED,n)}}},{key:"showAdFail",value:function value(e){if(this.g()){var n=this.E(e,{placement:this.v}),o=!0,S=!1,I=void 0;try{for(var b,D=this.h[Symbol.iterator]();!(o=(b=D.next()).done);o=!0)b.value.showAdFail(n)}catch(k){S=!0,I=k}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}this.w(T.AD_SHOW_FAILED,n)}}},{key:"showingAd",value:function value(e){if(this.g()){var n=this.E(e,{placement:this.v}),o=!0,S=!1,I=void 0;try{for(var b,D=this.h[Symbol.iterator]();!(o=(b=D.next()).done);o=!0)b.value.showingAd(n)}catch(k){S=!0,I=k}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}this.w(T.AD_SHOWING,n)}}},{key:"Pr",value:function value(e){var n=e;if(n.indexOf("_")>-1)return n.replace(/_/g,"-").toLowerCase();for(var o=n.length-1,S="";o>0;){var I=isNaN(parseInt(S=n.charAt(o),10)),b=S===S.toUpperCase();I&&b&&(n="".concat(n.slice(0,o),"-").concat(n.slice(o))),o--}return n.toLowerCase()}}]),r}(Ludex.Plugins.BasePlugin);a(To,"AnalyticsPlugin");var Co=To,yh=Co,gh=yh;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Oo=function(){function w(r){_class_call_check(this,w),_define_property(this,"Ka",void 0),this.Ka=r}return _create_class(w,[{key:"getKey",value:function value(){return this.Ka}}]),w}();a(Oo,"BaseAudioPlayer");var Mo=Oo,Ph=Mo;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils7=Ludex.Utils,xh=_Ludex_Utils7.Decorator,Xr=function(){function w(r){_class_call_check(this,w),_define_property(this,"ne",void 0),_define_property(this,"Ue",void 0),_define_property(this,"Fe",void 0),_define_property(this,"Ie",void 0),this.ne=r,this.Fe=1,this.Ue=!1,this.Ie={}}return _create_class(w,[{key:"getId",value:function value(){return this.ne}},{key:"getAudioClip",value:function value(t){return this.Ie[t]?this.Ie[t]:null}},{key:"setAudioClip",value:function value(t,e){this.Ie[t]=N(N({},this.Ie[t]),e)}},{key:"play",value:function value(t,e){return _async_to_generator(function(){var n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return(n=this.getAudioClip(t))?(o=n.audioPlayer,this.Va(o,e),[3,3]):[3,1];case 1:return[4,this.loadAndPlay(t,e)];case 2:S.sent(),S.label=3;case 3:return[2]}})}).call(this)}},{key:"loadAndPlay",value:function value(t,e){return _async_to_generator(function(){var n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:return[4,this.onLoadAudio(t,e)];case 1:return(n=I.sent())&&(S=void 0===(o=(e||{}).volume)?1:o,this.setAudioClip(t,{volume:S,audioPlayer:n}),this.Va(n,e)),[2]}})}).call(this)}},{key:"Va",value:function value(t,e){if(e){var n=e.volume,o=void 0===n?1:n;e.volume=this.Fe*o}t.play(e)}},{key:"pause",value:function value(t){var e=this.getAudioClip(t);return!!e&&(e.audioPlayer.pause(),!0)}},{key:"resume",value:function value(t){var e=this.getAudioClip(t);return!!e&&(e.audioPlayer.resume(),!0)}},{key:"stop",value:function value(t){var e=this.getAudioClip(t);return!!e&&(e.audioPlayer.stop(),!0)}},{key:"stopAll",value:function value(){this.ct("stop")}},{key:"muteAll",value:function value(){this.Ue||(this.Ue=!0,this.ct("mute"))}},{key:"unmuteAll",value:function value(){this.Ue&&(this.Ue=!1,this.ct("unmute"))}},{key:"setVolume",value:function value(t){this.Fe=t,this.ct("setVolume")}},{key:"getVolume",value:function value(){return this.Fe}},{key:"Ir",value:function value(t,e){try{var n=t.audioPlayer,o=t.volume,S=void 0===o?1:o;switch(e){case"play":n.play();break;case"pause":n.pause();break;case"resume":n.resume();break;case"stop":n.stop();break;case"mute":n.setVolume(0);break;case"unmute":case"setVolume":n.setVolume(this.Fe*S);break;default:throw Error("Unsupported function: ".concat(e))}}catch(unused){}}},{key:"ct",value:function value(t){var e=Ludex.Utils.Object.vals(this.Ie),n=!0,o=!1,S=void 0;try{for(var I,b=e[Symbol.iterator]();!(n=(I=b.next()).done);n=!0){var D=I.value;this.Ir(D,t)}}catch(k){o=!0,S=k}finally{try{n||null==b.return||b.return()}finally{if(o)throw S}}}}]),w}();a(Xr,"BaseChannelManager"),pe([xh.tryCatch(),xh.validateParams("string")],Xr.prototype,"loadAndPlay",1);var No=Xr,wh=No;Ludex.Plugins.Audio={BaseAudioPlayer:Ph,BaseChannelManager:wh};var _Ludex_Utils8=Ludex.Utils,$h=_Ludex_Utils8.Decorator,Zr=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"qt",void 0),_define_property(t,"Qt",{}),t}return _inherits(r,w),_create_class(r,[{key:"addChannel",value:function value(e){var n=e.getId();this.Qt[n]=e,this.qt||(this.qt=n)}},{key:"$",value:function value(e){if(void 0===e)return this.Qt[this.qt];var n=this.Qt[e];if(!n)throw Error("Channel ".concat(e," not found"));return n}},{key:"play",value:function value(e,n,o){return _async_to_generator(function(){return _ts_generator(this,function(S){switch(S.label){case 0:return[4,this.$(o).play(e,n)];case 1:return S.sent(),[2]}})}).call(this)}},{key:"pause",value:function value(e,n){try{this.$(n).pause(e)}catch(unused){}}},{key:"resume",value:function value(e,n){try{this.$(n).resume(e)}catch(unused){}}},{key:"stop",value:function value(e,n){try{this.$(n).stop(e)}catch(unused){}}},{key:"stopAll",value:function value(e){try{this.$(e).stopAll()}catch(unused){}}},{key:"mute",value:function value(e){try{this.$(e).muteAll()}catch(unused){}}},{key:"unmute",value:function value(e){try{this.$(e).unmuteAll()}catch(unused){}}},{key:"setVolume",value:function value(e,n){try{this.$(n).setVolume(e)}catch(unused){}}},{key:"getVolume",value:function value(e){try{return this.$(e).getVolume()}catch(unused){return -1}}}]),r}(Ludex.Plugins.BasePlugin);a(Zr,"AudioPlugin"),pe([$h.tryCatch(),$h.validateParams("string")],Zr.prototype,"play",1);var Ro=Zr,Ah=Ro,vh=Ah;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Q$={token:"",isRequesting:!1},Sh=Q$,_Ludex_Utils9=Ludex.Utils,X$=_Ludex_Utils9.Object,ko=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"init",value:function value(){this.codex.storage.addStorage("auth",Sh)}},{key:"requestToken",value:function value(){return _async_to_generator(function(){var e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:e=this.codex.storage,S.label=1;case 1:return S.trys.push([1,3,4,5]),e.getStorageData("auth","isRequesting")||""!==e.getStorageData("auth","token")?[2]:(e.setStorageData("auth","isRequesting",!0),[4,GameSDK.player.getSignedPlayerInfoAsync()]);case 2:return n=S.sent().getSignature(),e.setStorageData("auth","token",n),[3,5];case 3:return o=S.sent(),X$.hasOwn(o,"code")&&"PENDING_REQUEST"===o.code?[2]:(e.setStorageData("auth","token",""),[3,5]);case 4:return e.setStorageData("auth","isRequesting",!1),[7];case 5:return[2]}})}).call(this)}},{key:"getToken",value:function value(){var e;return null!=(e=this.codex.storage.getStorageData("auth","token"))?e:""}}]),r}(Ludex.Plugins.BasePlugin);a(ko,"AuthPlugin");var _o=ko,bh=_o,Dh=bh;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ih=function(w){return w.SOLO="solo",w.TOURNAMENT="tournament",w.SHARE_INVITE="share_invite",w.MATCHING_GROUP="matching_group_match",w.CHALLENGE_FRIEND="challenge_friend_match",w}(Ih||{}),le=Ih;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Z$=$r,Ye=Z$,eA=Ludex.Configs,_Ludex_Utils10=Ludex.Utils,tA=_Ludex_Utils10.Array,rA=_Ludex_Utils10.Valid,nA=_Ludex_Utils10.Browser,Fo=function(){function w(r){_class_call_check(this,w),_define_property(this,"r",void 0),this.r=r}return _create_class(w,[{key:"Dr",value:function value(t){return["THREAD","POST","SOLO","GROUP"].indexOf(t)>=0}},{key:"Sr",value:function value(t){return rA.isObject(t)}},{key:"Er",value:function value(t){return tA.has(["facebook~game_list~tournaments","fb_feed_tournament_unit","messenger~bot_thread~tournaments"],t)}},{key:"receiveContext",value:function value(t,e,n){var o=this.r.storage;o.setStorageData("context","contextId",t),this.Sr(n)&&o.setStorageData("context","entryPointData",n),this.Dr(e)&&o.setStorageData("context","contextType",e)}},{key:"getContextId",value:function value(){var t;return null!=(t=this.r.storage.getStorageData("context","contextId"))?t:""}},{key:"getContextType",value:function value(){var t;return null!=(t=this.r.storage.getStorageData("context","contextType"))?t:"SOLO"}},{key:"getContextData",value:function value(){var t;return null!=(t=this.r.storage.getStorageData("context","entryPointData"))?t:{}}},{key:"getSessionContextType",value:function value(){var t;return null!=(t=this.r.storage.getStorageData("context","sessionContextType"))?t:"unknown"}},{key:"detectContextSessionType",value:function value(){return _async_to_generator(function(){var t,e,n,o,S,I,b,D,k,E,L;return _ts_generator(this,function(C){switch(C.label){case 0:return t=this.r.storage,n=(null!=(e=this.getContextData())?e:{}).type,o=le.SOLO,S=le.TOURNAMENT,I=le.MATCHING_GROUP,b=le.SHARE_INVITE,D=le.CHALLENGE_FRIEND,k=o,n===S&&(k=S),n===I&&(k=I),(n===D||n===b)&&(k=D),(E=k===o)?eA.Core.FastCheckTournamentContext?(L=k=this.br()||k,[3,3]):[3,1]:[3,4];case 1:return[4,this.Lr()];case 2:L=k=C.sent()||k,C.label=3;case 3:E=L,C.label=4;case 4:return t.setStorageData("context","sessionContextType",k),[2]}})}).call(this)}},{key:"br",value:function value(){var t=nA.getQueryParams().entry_point;return"string"==typeof t&&!!this.Er(t)&&le.TOURNAMENT}},{key:"Lr",value:function value(){return _async_to_generator(function(){var t,e,n;return _ts_generator(this,function(o){switch(o.label){case 0:if(t=this.r.storage,!("getTournamentAsync"in GameSDK))return[2,!1];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,GameSDK.getTournamentAsync()];case 2:return e=o.sent(),[2,(t.setStorageData("context","contextId",e.getContextID()),e.getEndTime()>Date.now()/1e3&&le.TOURNAMENT)];case 3:return n=o.sent(),[2,!1];case 4:return[2]}})}).call(this)}},{key:"detectContextGameMode",value:function value(){var t=this.r,e=t.player,n=t.storage,o=this.getContextData(),S=this.getSessionContextType(),I=e.getPlayerId(),b=null!=o?o:{},D=b.matchId,k=b.playerId,E=b.opponentId,L=void 0===E?he.playerId:E,C=I===k,R=L===he.playerId||[L,k].indexOf(I)>=0,$=le.TOURNAMENT,z=le.MATCHING_GROUP,ne=le.SHARE_INVITE,ce=le.CHALLENGE_FRIEND,ye=Ye.SINGLE;S===$&&(ye=Ye.TOURNAMENT),S!==ne||C||(ye=Ye.CHALLENGE_FRIEND),S===ce&&D&&R&&(ye=Ye.CHALLENGE_FRIEND),S===z&&(ye=Ye.MATCHING_GROUP),n.setStorageData("context","contextGameMode",ye)}}]),w}();a(Fo,"Context");var Go=Fo,Eh=Go;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Lh=function(w){return w.StartID="__start__",w}(Lh||{}),en=Lh;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Uo=function(w){function r(t){return _class_call_check(this,r),_call_super(this,r,["Duplicate step id: ".concat(t)])}return _inherits(r,w),r}(_wrap_native_super(Error));a(Uo,"StepIdDuplicate");var Bo=Uo,Ch=Bo;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ko=function(w){function r(t){return _class_call_check(this,r),_call_super(this,r,["Invalid step id: ".concat(t)])}return _inherits(r,w),r}(_wrap_native_super(Error));a(Ko,"StepIdInvalid");var Vo=Ko,Th=Vo;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var jo=function(w){function r(t){return _class_call_check(this,r),_call_super(this,r,["Step not found: ".concat(t)])}return _inherits(r,w),r}(_wrap_native_super(Error));a(jo,"StepNotFound");var Ho=jo,Mh=Ho,zo=function(){function w(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_class_call_check(this,w),_define_property(this,"b",void 0),this.b=[];var t=!0,e=!1,n=void 0;try{for(var o,S=r[Symbol.iterator]();!(t=(o=S.next()).done);t=!0){var I=o.value;this.addAfter(en.StartID,I)}}catch(b){e=!0,n=b}finally{try{t||null==S.return||S.return()}finally{if(e)throw n}}}return _create_class(w,[{key:"addBefore",value:function value(t,e){if(this.dt(e.id),this.Wa(e.id),t===en.StartID)return void this.b.unshift(e);var n=this.ht(t);this.b.splice(n,0,e)}},{key:"addAfter",value:function value(t,e){if(this.dt(e.id),this.Wa(e.id),t===en.StartID)return void this.b.push(e);var n=this.ht(t);this.b.splice(n+1,0,e)}},{key:"replace",value:function value(t,e){this.dt(t);var n=this.ht(t),o=this.b[n];this.b[n]=N(N({},o),e)}},{key:"remove",value:function value(t){var e=this.ht(t);this.b.splice(e,1)}},{key:"runAsync",value:function value(t){return _async_to_generator(function(){var e,n,o,S,I,b,D,k,E,L,C,R,$;return _ts_generator(this,function(z){switch(z.label){case 0:e=performance.now(),n=[],z.label=1;case 1:z.trys.push([1,,10,11]),o=!0,S=!1,I=void 0,z.label=2;case 2:z.trys.push([2,7,8,9]),b=this.b[Symbol.iterator](),z.label=3;case 3:return(o=(D=b.next()).done)?[3,6]:(k=D.value,E=performance.now(),[4,this.Or(k,t)]);case 4:if(C=(L=z.sent()).shouldContinue,R=L.targetScene,C&&n.push({stepId:k.id,targetScene:R,ms:this.ke(E)}),!C)return[2,!0];z.label=5;case 5:return o=!0,[3,3];case 6:return[3,9];case 7:return $=z.sent(),S=!0,I=$,[3,9];case 8:try{o||null==b.return||b.return()}finally{if(S)throw I}return[7];case 9:return[3,11];case 10:return this.Jt(n,e),[7];case 11:return[2,!1]}})}).call(this)}},{key:"Or",value:function value(t,e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return[4,t.runAsync(e)];case 1:return[2,{shouldContinue:o.sent(),targetScene:null!=(n=e.sceneName)?n:null}]}})})()}},{key:"Jt",value:function value(t,e){this.ke(e)}},{key:"dt",value:function value(t){if("string"!=typeof t||0===t.trim().length)throw new Th("".concat(t))}},{key:"Wa",value:function value(t){if(this.b.some(function(e){return e.id===t}))throw new Ch(t)}},{key:"Xt",value:function value(t){return this.dt(t),this.b.findIndex(function(e){return e.id===t})}},{key:"ht",value:function value(t){var e=this.Xt(t);if(e<0)throw new Mh(t);return e}},{key:"ke",value:function value(t){return Math.round((performance.now()-t)*100)/100}}]),w}();a(zo,"StepRegistry");var Wo=zo,fe=Wo;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var aA=a(function(){return{id:"ChallengeFromPost",runAsync:a(function(w){return _async_to_generator(function(){var r,t,e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return"string"!=typeof(r=w.contextData.playerId)?[2,!0]:(t=codex.match,(e=codex.player.getPlayerId())!==r?[3,2]:[4,t.single.start.processAsync({playerId:e})]);case 1:case 3:case 5:return o.sent(),[3,6];case 2:return o.trys.push([2,4,,6]),[4,t.challenge.friend.processAsync({playerId:e,opponentId:r})];case 4:return n=o.sent(),[4,t.single.start.processAsync({playerId:e})];case 6:return[2,(w.sceneName="GameScene",!0)]}})})()},"runAsync")}},"createChallengeFromPostStep"),Oh=aA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var oA=a(function(){return{id:"SwitchScene",runAsync:a(function(w){return _async_to_generator(function(){var r,t;return _ts_generator(this,function(e){return(r=w.sceneName)?(t={isFromLoader:!0},[2,(codex.event.emit(Ludex.Events.SWITCH_SCENE,{sceneName:r,sceneData:t}),!1)]):[2,!0]})})()},"runAsync")}},"createSwitchSceneStep"),Me=oA,sA=le.SHARE_INVITE,iA=le.CHALLENGE_FRIEND,cA=a(function(){return{id:"ChallengeFromPostFlow",when:a(function(w){var r=w.contextData,t=r.type,e=r.playerId,n=w.contextSessionType;return t===sA&&"string"==typeof e&&n===iA},"when"),do:new fe([Oh(),Me()])}},"createChallengeFromPostFlow"),Nh=cA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Yo=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="PlayerHasFinishedMatch",e.message=null!=t?t:"Player has finished match",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(Yo,"PlayerHasFinishedMatch");var qo=Yo,tn=qo;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Qo=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="PlayerNotJoinInMatch",e.message=t||"Player is not join in match",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(Qo,"PlayerNotJoinInMatch");var Jo=Qo,Tt=Jo,lA=a(function(w){return _async_to_generator(function(){var r,t,e,n,o,S,I,b;return _ts_generator(this,function(D){switch(D.label){case 0:return r=codex.match,t=codex.player,e=w.contextId,n=w.matchId,o=w.playerId,S=w.opponentId,I=t.getPlayerId(),o!==I?[3,2]:[4,r.challenge.continue.processAsync({contextId:e,matchId:n,playerId:I,opponentId:S})];case 1:return D.sent(),[3,4];case 2:return b=S===he.playerId,[4,r.challenge.continue.processAsync({contextId:e,matchId:n,playerId:I,opponentId:b?S:o})];case 3:D.sent(),D.label=4;case 4:return[2]}})})()},"processContinueChallengeFromMessageAsync"),dA=a(function(w){return _async_to_generator(function(){var r,t,e,n,o,S,I;return _ts_generator(this,function(b){switch(b.label){case 0:r=codex.match,t=codex.player,e=w.contextId,n=w.matchId,o=w.playerId,S=t.getPlayerId(),b.label=1;case 1:return b.trys.push([1,3,,4]),[4,r.challenge.join.processAsync({contextId:e,matchId:n,playerId:S,opponentId:o})];case 2:return[2,(b.sent(),"GameScene")];case 3:return I=b.sent(),[2,"DashboardScene"];case 4:return[2]}})})()},"processJoinChallengeFromMessageAsync"),uA=a(function(w){return _async_to_generator(function(){var r,t,e,n,o,S,I;return _ts_generator(this,function(b){switch(b.label){case 0:r=codex.match,t=codex.player,e=w.contextId,n=w.matchId,o=w.playerId,S=t.getPlayerId(),b.label=1;case 1:return b.trys.push([1,3,,4]),[4,r.challenge.result.processAsync({contextId:e,matchId:n,playerId:S,opponentId:o})];case 2:return[2,(b.sent(),"ChallengeResultScene")];case 3:return I=b.sent(),[2,"DashboardScene"];case 4:return[2]}})})()},"processResultChallengeFromMessageAsync"),pA=a(function(w){return _async_to_generator(function(){var r,t,e,n,o,S,I;return _ts_generator(this,function(b){switch(b.label){case 0:r=codex.match,t=codex.player,e=w.contextId,n=w.matchId,o=w.playerId,S=t.getPlayerId(),b.label=1;case 1:return b.trys.push([1,3,,5]),[4,r.challenge.await.processAsync({contextId:e,matchId:n,playerId:S,opponentId:o})];case 2:return[2,(b.sent(),"ChallengeResultScene")];case 3:return I=b.sent(),[4,uA(w)];case 4:return[2,b.sent()];case 5:return[2]}})})()},"processAwaitChallengeFromMessageAsync"),mA=a(function(w){return _async_to_generator(function(){var r,t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,9]),[4,lA(w)];case 1:return n.sent(),[3,9];case 2:return _instanceof(r=n.sent(),tn)?[4,pA(w)]:[3,4];case 3:return t=n.sent(),[3,8];case 4:return _instanceof(r,Tt)?[4,dA(w)]:[3,6];case 5:return e=n.sent(),[3,7];case 6:e="DashboardScene",n.label=7;case 7:t=e,n.label=8;case 8:return[2,t];case 9:return[2,"GameScene"]}})})()},"processChallengeFromMessageAsync"),hA=a(function(){return{id:"ChallengeFromMessage",runAsync:a(function(w){return _async_to_generator(function(){var r,t,e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return r=w.contextId,e=(t=w.contextData).matchId,n=t.playerId,o=t.opponentId,"string"!=typeof e||"string"!=typeof n||"string"!=typeof o?[2,!0]:[4,mA({contextId:r,matchId:e,playerId:n,opponentId:o})];case 1:return[2,(w.sceneName=S.sent(),!0)]}})})()},"runAsync")}},"createChallengeFromMessageStep"),Rh=hA,_h=le.CHALLENGE_FRIEND,fA=a(function(){return{id:"ChallengeFromMessageFlow",when:a(function(w){var r=w.contextData,t=r.type,e=r.matchId,n=r.playerId,o=r.opponentId,S=w.contextSessionType;return t===_h&&"string"==typeof e&&"string"==typeof n&&"string"==typeof o&&S===_h},"when"),do:new fe([Rh(),Me()])}},"createChallengeFromMessageFlow"),kh=fA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var yA=a(function(){return{id:"StartSingleForFirstSession",runAsync:a(function(w){return _async_to_generator(function(){var r,t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return r=codex.match,e=(t=codex.player).getPlayerId(),[4,r.handler.setMatchCustomData({playerId:e,contextId:"SOLO"})];case 1:return n.sent(),[4,r.single.start.processAsync({playerId:e})];case 2:return[2,(n.sent(),t.loggedIn(),w.sceneName="GameScene",!0)]}})})()},"runAsync")}},"createStartSingleForFirstSessionStep"),Gh=yA,gA=a(function(){return{id:"FirstSessionFlow",when:a(function(w){return w.isFirstSession},"when"),do:new fe([Gh(),Me()])}},"createFirstSessionFlow"),Fh=gA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var PA=a(function(){return{id:"MatchingGroupJoin",runAsync:a(function(w){return _async_to_generator(function(){var r,t,e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return t=(r=w.contextData).playerId,e=r.playerScore,"string"!=typeof t||"number"!=typeof e?[2,!0]:(n=codex.match,o=codex.player,[4,n.group.join.processAsync({playerId:o.getPlayerId(),opponentId:t,opponentScore:e})]);case 1:return[2,(S.sent(),w.sceneName="GameScene",!0)]}})})()},"runAsync")}},"createMatchingGroupJoinStep"),Bh=PA,xA=le.MATCHING_GROUP,wA=a(function(){return{id:"MatchingGroupFlow",when:a(function(w){var r=w.contextData,t=r.playerId,e=r.playerScore,n=w.contextSessionType;return"string"==typeof t&&"number"==typeof e&&n===xA},"when"),do:new fe([Bh(),Me()])}},"createMatchingGroupFlow"),Uh=wA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var $A=Ludex.Events,_Ludex_Utils11=Ludex.Utils,AA=_Ludex_Utils11.Valid;a(Vh,"requestSetLocale$");var vA=a(function(w){return _async_to_generator(function(){var r;return _ts_generator(this,function(t){switch(t.label){case 0:switch(r=codex.player,w){case"reset_data":return[3,1];case"enable_debug":return[3,3];case"set_locale_en":return[3,4];case"set_locale_ru":return[3,5]}return[3,6];case 1:return r.setPlayerDataByName("score",0),r.setGameData({coins:0,level:1}),[4,r.syncProfileToServer()];case 2:return t.sent(),[3,6];case 3:return r.setPlayerDataByName("debug",!0),[3,6];case 4:return Vh("en"),[3,6];case 5:return Vh("ru"),[3,6];case 6:return[2]}})})()},"processEntryPointActionAsync"),SA=a(function(){return{id:"EntryPointAction",runAsync:a(function(w){return _async_to_generator(function(){var r,t,e;return _ts_generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),r=w.contextData.action,(t=AA.isString(r))?[4,vA(r)]:[3,2];case 1:t=n.sent(),n.label=2;case 2:return[2,!0];case 3:return e=n.sent(),[2,!0];case 4:return[2]}})})()},"runAsync")}},"createEntryPointActionStep"),Kh=SA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Plugins=Ludex.Plugins,Hh=_Ludex_Plugins.Analytics,bA=a(function(w){try{var r=codex.player,t=codex.analytics;if(!t)return;if(w)t.event(Hh.Events.NEW_USER);else{var e=r.getPlayerData().gameData.coins;t.event(Hh.Events.RETURNING_USER,{coins:e})}}catch(unused){}},"logUserAnalytics$"),DA=a(function(){return{id:"LogUserAnalytics",runAsync:a(function(w){return _async_to_generator(function(){return _ts_generator(this,function(r){return[2,(setTimeout(function(){bA(w.isFirstSession)},1e3),!0)]})})()},"runAsync")}},"createLogUserAnalyticsStep"),jh=DA,IA=a(function(){return{id:"PreFlow",when:a(function(w){return!0},"when"),do:new fe([Kh(),jh()])}},"createPreFlow"),Wh=IA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var EA=a(function(){return{id:"PrepareDashboardScene",runAsync:a(function(w){return _async_to_generator(function(){return _ts_generator(this,function(r){return[2,(w.sceneName="DashboardScene",!0)]})})()},"runAsync")}},"createPrepareDashboardSceneStep"),zh=EA,LA=a(function(){return{id:"NormalFlow",when:a(function(w){return!0},"when"),do:new fe([zh(),Me()])}},"createNormalFlow"),qh=LA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Zo=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,["ContextIdInvalid"])}return _inherits(r,w),r}(_wrap_native_super(Error));a(Zo,"ContextIdInvalid");var Xo=Zo,Yh=Xo,_Ludex_Utils12=Ludex.Utils,CA=_Ludex_Utils12.Valid,TA=a(function(){return{id:"ContinueTournament",runAsync:a(function(w){return _async_to_generator(function(){var r,t,e;return _ts_generator(this,function(n){switch(n.label){case 0:if(n.trys.push([0,2,,3]),r=codex.match,t=codex.player.getPlayerId(),CA.isEmpty(w.contextId))throw new Yh;return[4,r.tournament.continue.processAsync({playerId:t,contextId:w.contextId})];case 1:return n.sent(),w.sceneName="GameScene",[3,3];case 2:return e=n.sent(),[3,3];case 3:return[2,!0]}})})()},"runAsync")}},"createContinueTournamentStep"),Jh=TA,MA=le.TOURNAMENT,OA=a(function(){return{id:"TournamentFlow",when:a(function(w){return w.contextSessionType===MA},"when"),do:new fe([Jh(),Me()])}},"createTournamentFlow"),Qh=OA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Xh=function(w){return w.StartID="__start__",w}(Xh||{}),rn=Xh;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ts=function(w){function r(t){return _class_call_check(this,r),_call_super(this,r,["Duplicate flow id: ".concat(t)])}return _inherits(r,w),r}(_wrap_native_super(Error));a(ts,"FlowIdDuplicate");var es=ts,Zh=es;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ns=function(w){function r(t){return _class_call_check(this,r),_call_super(this,r,["Invalid flow id: ".concat(t)])}return _inherits(r,w),r}(_wrap_native_super(Error));a(ns,"FlowIdInvalid");var rs=ns,ef=rs;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var os=function(w){function r(t){return _class_call_check(this,r),_call_super(this,r,["Flow not found: ".concat(t)])}return _inherits(r,w),r}(_wrap_native_super(Error));a(os,"FlowNotFound");var as=os,tf=as,is=function(){function w(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_class_call_check(this,w),_define_property(this,"L",void 0),this.L=[];var t=!0,e=!1,n=void 0;try{for(var o,S=r[Symbol.iterator]();!(t=(o=S.next()).done);t=!0){var I=o.value;this.addAfter(rn.StartID,I)}}catch(b){e=!0,n=b}finally{try{t||null==S.return||S.return()}finally{if(e)throw n}}}return _create_class(w,[{key:"createSteps",value:function value(t){return new fe(t)}},{key:"addBefore",value:function value(t,e){if(this.ut(e.id),this.za(e.id),t===rn.StartID)return void this.L.unshift(e);var n=this.pt(t);this.L.splice(n,0,e)}},{key:"addAfter",value:function value(t,e){if(this.ut(e.id),this.za(e.id),t===rn.StartID)return void this.L.push(e);var n=this.pt(t);this.L.splice(n+1,0,e)}},{key:"replace",value:function value(t,e){this.ut(t);var n=this.pt(t),o=this.L[n];this.L[n]=N(N({},o),e)}},{key:"remove",value:function value(t){var e=this.pt(t);this.L.splice(e,1)}},{key:"runAsync",value:function value(t){return _async_to_generator(function(){var e,n,o,S,I,b,D,k,E,L,C,R,$;return _ts_generator(this,function(z){switch(z.label){case 0:e=performance.now(),n=[],z.label=1;case 1:z.trys.push([1,,10,11]),o=!0,S=!1,I=void 0,z.label=2;case 2:z.trys.push([2,7,8,9]),b=this.L[Symbol.iterator](),z.label=3;case 3:return(o=(D=b.next()).done)?[3,6]:(k=D.value,E=performance.now(),[4,this._r(k,t)]);case 4:if(C=(L=z.sent()).matched,R=L.done,n.push({flowId:k.id,matched:C,done:R,ms:this.ke(E)}),R)return[2,!0];z.label=5;case 5:return o=!0,[3,3];case 6:return[3,9];case 7:return $=z.sent(),S=!0,I=$,[3,9];case 8:try{o||null==b.return||b.return()}finally{if(S)throw I}return[7];case 9:return[3,11];case 10:return this.Jt(n,e),[7];case 11:return[2,!1]}})}).call(this)}},{key:"_r",value:function value(t,e){return _async_to_generator(function(){var n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:n=!1;try{n=t.when(e)}catch(unused){}return n?(S={matched:!0},[4,t.do.runAsync(e)]):[3,2];case 1:return S.done=I.sent(),o=S,[3,3];case 2:o={matched:!1,done:!1},I.label=3;case 3:return[2,o]}})})()}},{key:"Jt",value:function value(t,e){this.ke(e)}},{key:"ut",value:function value(t){if("string"!=typeof t||0===t.trim().length)throw new ef("".concat(t))}},{key:"za",value:function value(t){if(this.L.some(function(e){return e.id===t}))throw new Zh(t)}},{key:"Xt",value:function value(t){return this.ut(t),this.L.findIndex(function(e){return e.id===t})}},{key:"pt",value:function value(t){var e=this.Xt(t);if(e<0)throw new tf(t);return e}},{key:"ke",value:function value(t){return Math.round((performance.now()-t)*100)/100}}]),w}();a(is,"FlowRegistry");var ss=is,rf=ss,ls=function(){function w(r){_class_call_check(this,w),_define_property(this,"codex",void 0),_define_property(this,"flows",void 0),this.codex=r,this.flows=new rf([Wh(),Qh(),Nh(),kh(),Uh(),Fh(),qh()])}return _create_class(w,[{key:"processContextData",value:function value(){return _async_to_generator(function(){var t,e,n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:return e=(t=this.codex).player,o=(n=t.context).getContextData(),S={contextId:n.getContextId(),contextData:o,contextSessionType:n.getSessionContextType(),isFirstSession:e.isFirstSession()},[4,this.flows.runAsync(S)];case 1:return I.sent()||this.codex.event.emit(Ludex.Events.SWITCH_SCENE,{sceneName:"DashboardScene",sceneData:{isFromLoader:!0}}),[2]}})}).call(this)}},{key:"configureFlows",value:function value(t){try{t(this.flows)}catch(unused){}}}]),w}();a(ls,"Loader");var cs=ls,nf=cs;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var NA={processed:!1,contextId:"",contextType:"SOLO",entryPointData:{},contextGameMode:"",sessionContextType:""},nn=NA,an=Ludex.Events,_Ludex_Utils13=Ludex.Utils,af=_Ludex_Utils13.Function,us=function(w){function r(t){var e;return _class_call_check(this,r),_define_property(e=_call_super(this,r,[t]),"n",void 0),_define_property(e,"Zt",void 0),e.Zt=new nf(t),e.n=new Eh(t),e}return _inherits(r,w),_create_class(r,[{key:"init",value:function value(){this.codex.storage.addStorage("context",nn)}},{key:"getSessionContextTypes",value:function value(){return le}},{key:"processContextData",value:function value(){return _async_to_generator(function(){var e,n,o,S;return _ts_generator(this,function(I){return e=this,o=(n=this.codex).event,S=n.monitorError,o.catchUp(an.CONTEXT_SESSION_TYPE_DETECTED,function(){return _async_to_generator(function(){var b;return _ts_generator(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,this.Zt.processContextData()];case 1:return D.sent(),o.emit(an.CONTEXT_DATA_PROCESSED),[3,3];case 2:return b=D.sent(),this.Nr(),null==S||S.sendException(af.toError(b)),[3,3];case 3:return[2]}})}).call(e)}),[2]})}).call(this)}},{key:"configureFlows",value:function value(e){this.Zt.configureFlows(e)}},{key:"detectContextSessionType",value:function value(){return _async_to_generator(function(){var e,n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:n=(e=this.codex).event,o=e.monitorError,I.label=1;case 1:return I.trys.push([1,3,4,5]),[4,this.n.detectContextSessionType()];case 2:return I.sent(),[3,5];case 3:return S=I.sent(),null==o||o.sendException(af.toError(S)),[3,5];case 4:return n.emit(an.CONTEXT_SESSION_TYPE_DETECTED),[7];case 5:return[2]}})}).call(this)}},{key:"detectContextGameMode",value:function value(){this.n.detectContextGameMode()}},{key:"receiveContext",value:function value(e,n,o){this.n.receiveContext(e,n,o)}},{key:"getContextId",value:function value(){return this.n.getContextId()}},{key:"getContextType",value:function value(){return this.n.getContextType()}},{key:"getContextData",value:function value(){return this.n.getContextData()}},{key:"getSessionContextType",value:function value(){return this.n.getSessionContextType()}},{key:"Nr",value:function value(){this.codex.event.emit(an.SWITCH_SCENE,{sceneName:"DashboardScene"})}}]),r}(Ludex.Plugins.BasePlugin);a(us,"ContextPlugin");var ds=us,of=ds;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils14=Ludex.Utils,ps=_Ludex_Utils14.Valid,RA=nn.contextId,_A=nn.contextType,kA=nn.entryPointData,ms="is invalid",hs=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"je",void 0),t}return _inherits(r,w),_create_class(r,[{key:"Q",value:function value(e){this.Z(e)}},{key:"q",value:function value(e){this.J(e)}},{key:"o",value:function value(e){this.X(e)}},{key:"validateContextId",value:function value(e){ps.isString(e)||this.a("contextId",ms)}},{key:"validateContextType",value:function value(e){ps.isString(e)&&e||this.a("contextType",ms)}},{key:"validateEntryPointData",value:function value(e){ps.isObject(e)||this.a("entryPointData",ms)}},{key:"toObject",value:function value(){return _get(_get_prototype_of(r.prototype),"toObject",this).call(this)}}]),r}(ae);a(hs,"ContextInfoDtos");var on=hs;on.addDefaults({contextId:RA,contextType:_A,entryPointData:kA});var sf=on;Ludex.Dtos.Context={Info:sf};var cf=of;_(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var uf=Ng(df(),1),pf=uf.default,BA=new pf,et=BA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var UA={names:[],history:[]},mf=UA,_Ludex_Utils15=Ludex.Utils,tt=_Ludex_Utils15.Decorator,VA=_Ludex_Utils15.Array,_e=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"Ya",!1),_define_property(t,"yt",[]),t}return _inherits(r,w),_create_class(r,[{key:"init",value:function value(){this.codex.storage.addStorage("event",mf)}},{key:"enableLogEvent",value:function value(){this.Ya=!0}},{key:"on",value:function value(e,n){this.qa(e),this.De(e,"on","listening"),et.on(e,n)}},{key:"once",value:function value(e,n){this.qa(e),this.De(e,"once","listening"),et.once(e,n)}},{key:"waitTo",value:function value(e,n){var o=this;return new Promise(function(S,I){var b,D=a(function(k){clearTimeout(b),S(k)},"callback");o.once(e,D),n&&n>0&&(b=setTimeout(function(){o.off(e,D),I(Error("Event ".concat(e," timeout")))},n))})}},{key:"catchUp",value:function value(e,n){var o=this.getLastEventInfo(e,"called");if(!o)return void this.once(e,n);if(!(this.yt.indexOf(e)>-1)){var S=o.payload;this.De(e,"once","catchup"),n(S)}}},{key:"off",value:function value(e,n){et.off(e,n),this.De(e,"action","removed")}},{key:"mute",value:function value(e){this.yt.indexOf(e)>-1||this.yt.push(e)}},{key:"clear",value:function value(e){et.removeAllListeners(e),this.De(e,"action","removed")}},{key:"emit",value:function value(e,n){if(!(this.yt.indexOf(e)>-1)){var o,S=[];n&&(S=[n]),this.De(e,"action","called",n),(o=et).emit.apply(o,[e].concat(_to_consumable_array(S)))}}},{key:"qa",value:function value(e){var n=this.codex.storage.getStorageData("event","names");n&&0>n.indexOf(e)&&n.push(e)}},{key:"Tr",value:function value(e){return e.length<=1e4?e:VA.limit(e,1e4)}},{key:"getEventListeners",value:function value(e){return this.getHistory().filter(function(n){return n.name===e&&["listening","catchup"].includes(n.status)}).map(function(n){return n.name})}},{key:"getHistory",value:function value(){var e,n=null!=(e=this.codex.storage.getStorageData("event","history"))?e:[];return this.Tr(n)}},{key:"getEventEmitCount",value:function value(e){return this.getHistory().filter(function(n){return n.name===e&&"called"===n.status}).length}},{key:"getLastEventInfo",value:function value(e,n){for(var o=this.getHistory(),S=o.length-1;S>=0;S--){var I=o[S];if(I.name===e&&(!n||I.status===n))return I}return null}},{key:"Cr",value:function value(e){var n,o;return null!=(n=null==(o=this.getLastEventInfo(e))?void 0:o.type)?n:null}},{key:"Rr",value:function value(e){var n,o;return null!=(n=null==(o=this.getLastEventInfo(e))?void 0:o.called)?n:0}},{key:"De",value:function value(e,n,o,S){var I,b=null!=(I=this.Cr(e))?I:n,D=this.Rr(e),k="called"===o?D+1:D;this.getHistory().push({type:b,status:o,name:e,called:k,payload:null!=S?S:{}}),this.Mr(e,b,o,k)}},{key:"Mr",value:function value(e,n,o,S){this.Ya&&("listening"===o&&et.listenerCount(e),"called"===o&&et.listenerCount(e))}}]),r}(Ludex.Plugins.BasePlugin);a(_e,"EventPlugin"),pe([tt.validateParams("string","function")],_e.prototype,"on",1),pe([tt.validateParams("string","function")],_e.prototype,"once",1),pe([tt.validateParams("string")],_e.prototype,"waitTo",1),pe([tt.validateParams("string","function")],_e.prototype,"catchUp",1),pe([tt.validateParams("string","function")],_e.prototype,"off",1),pe([tt.validateParams("string")],_e.prototype,"mute",1),pe([tt.validateParams("string")],_e.prototype,"clear",1),pe([tt.validateParams("string")],_e.prototype,"emit",1);var ys=_e,hf=ys,ff=hf;_(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var yf='nunito,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif',_Ludex_Configs3=Ludex.Configs,_Ludex_Configs_FrameCapture=_Ludex_Configs3.FrameCapture,KA=_Ludex_Configs_FrameCapture.Enabled,gs=_Ludex_Configs_FrameCapture.Options,_Ludex_Utils16=Ludex.Utils,HA=_Ludex_Utils16.Browser,cn=_Ludex_Utils16.Image,Qt=_Ludex_Utils16.Object,Xt=_Ludex_Utils16.Valid,xs=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"ea",void 0),_define_property(t,"ta",void 0),_define_property(t,"P",null),_define_property(t,"n",null),_define_property(t,"aa",null),_define_property(t,"mt",{}),_define_property(t,"sa",{}),t}return _inherits(r,w),_create_class(r,[{key:"preloadAsync",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return n=e.renderOptions,[4,this.Qa(n)];case 1:return o.sent(),[2]}})}).call(this)}},{key:"captureAsync",value:function value(e){return _async_to_generator(function(){var n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:return n=e.width,o=e.height,S=e.renderOptions,[4,this.Qa(S)];case 1:return[2,(I.sent(),this.ea=n,this.ta=o,this.$r(),this.Gr(S),this.Ur())]}})}).call(this)}},{key:"renderAsync",value:function value(e,n){return _async_to_generator(function(){var o;return _ts_generator(this,function(S){switch(S.label){case 0:if(!KA)return[2,null];if(void 0===(o=this.sa[e]))throw Error("Renderer ".concat(e," has not been set"));return[4,o(n)];case 1:return[2,S.sent()]}})}).call(this)}},{key:"setRenderer",value:function value(e,n){this.sa[e]=n}},{key:"unsetRenderer",value:function value(e){delete this.sa[e]}},{key:"setTestRenderOptions",value:function value(e){if(!e){this.aa=null;return}var n=Qt.camelCaseKeys(e);this.aa=Qt.merge(this.aa,n)}},{key:"$r",value:function value(){if(!this.P){var e=HA.createCanvas({type:"canvas",contextAttributes:{alpha:!1,desynchronized:!0,willReadFrequently:!0},contextType:"2d"});this.P=null==e?void 0:e.canvas,this.n=null==e?void 0:e.context}if(!this.P)throw Error("Failed to create canvas");this.n&&this.n.clearRect(0,0,this.ea,this.ta),this.P.width=this.ea,this.P.height=this.ta}},{key:"Qa",value:function value(e){return _async_to_generator(function(){var n,o,S,I;return _ts_generator(this,function(b){switch(b.label){case 0:return n=this.Fr(e),o=this.kr(n),(S=Qt.vals(o)).length<1?[2]:[4,Promise.all(S)];case 1:return I=b.sent(),this.jr(o,I),[2]}})}).call(this)}},{key:"Fr",value:function value(e){var n=Qt.vals(e).filter(function(z){return"image"===z.type}),o=!0,S=!1,I=void 0;try{for(var b,D=n[Symbol.iterator]();!(o=(b=D.next()).done);o=!0){var k=b.value,E=k.name,L=k.image,C=k.fallbackImage,R=Xt.isString(L)&&""!==L;if(!E){var $=R?L:C;$&&(k.name=$)}!R&&C&&(k.image=C)}}catch(z){S=!0,I=z}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}return n}},{key:"kr",value:function value(e){var n={},o=!0,S=!1,I=void 0;try{for(var b,D,k=function k(){var _$L=D.value,C=_$L.name,R=_$L.image,$=_$L.fallbackImage,z=b.mt[C];!Xt.isString(R)||z||(""===R&&Xt.isString($)&&(_$L.image=$),n[C]=new Promise(function(ne){cn.loadImage(R).then(function(ce){ne(ce)}).catch(function(){Xt.isString($)?(_$L.image=$,cn.loadImage(_$L.image).then(function(ce){ne(ce)}).catch(function(){ne(null)})):ne(null)})}))},E=e[Symbol.iterator]();!(o=(D=E.next()).done);o=!0)b=this,k()}catch(L){S=!0,I=L}finally{try{o||null==E.return||E.return()}finally{if(S)throw I}}return n}},{key:"jr",value:function value(e,n){for(var o in e){var S=n.shift();S&&(this.mt[o]=S)}}},{key:"Gr",value:function value(e){var n=Qt.vals(e).sort(function(E,L){return E.depth-L.depth}),o=!0,S=!1,I=void 0;try{for(var b,D=n[Symbol.iterator]();!(o=(b=D.next()).done);o=!0){var k=b.value;switch(k.type){case"text":this.Br(k);break;case"image":this.Hr(k)}}}catch(E){S=!0,I=E}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}}},{key:"Br",value:function value(e){if(this.P&&this.n){var n=e.position,o=e.font,S=e.text,I=e.color,b=e.lineWidth,D=e.textAlign;this.n.font="".concat(o," ").concat(yf),this.n.fillStyle=null!=I?I:"#ffffff",b&&(this.n.lineWidth=b),D&&(this.n.textAlign=D);var k=_sliced_to_array(n,2),E=k[0],L=k[1];this.n.fillText(S,E,L)}}},{key:"Hr",value:function value(e){if(this.P&&this.n){var n=e.name,o=e.size,S=e.position,I=e.fallbackImage,b=this.mt[n];if(!b&&I&&(b=this.mt[I]),!b)throw Error("Image ".concat(n," not found"));var D=_sliced_to_array(S,2),k=D[0],E=D[1],L=_sliced_to_array(o,2),C=L[0],R=L[1];this.n.drawImage(b,k,E,C,R)}}},{key:"Ur",value:function value(){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return this.P?(e=null,gs.UseBlobIfPossible&&"toBlob"in this.P?[4,this.Kr()]:[3,2]):[2,null];case 1:return n=e=o.sent(),[3,3];case 2:n=e=this.Vr(),o.label=3;case 3:if(!e)throw Error("Image data is null");return[2,(Xt.isDebugger()&&cn.logImage(e),e)]}})}).call(this)}},{key:"Vr",value:function value(){if(!this.P||!this.n)return null;var e=gs.Quality,n=gs.RenderType;return this.n.canvas.toDataURL("image/".concat(n),e)}},{key:"Kr",value:function value(){var e=this;return new Promise(function(n){if(!e.P)return void n(null);var o=gs.Quality,S=gs.RenderType;e.P.toBlob(function(I){I?cn.blobToDataImage(I).then(function(b){n(b)}):n(null)},"image/".concat(S),o)})}}]),r}(Ludex.Plugins.BasePlugin);a(xs,"FrameCapturePlugin");var Ps=xs,gf=Ps,Pf=gf;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var $s=function(w){function r(t){var e;return _class_call_check(this,r),_define_property(e=_call_super(this,r,['Locale "'.concat(t,'" not found')]),"locale",void 0),e.name="LocaleNotFoundError",e.locale=t,e}return _inherits(r,w),r}(_wrap_native_super(Error));a($s,"LocaleNotFoundError");var ws=$s,ln=ws;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var vs=function(w){function r(t,e){_class_call_check(this,r);var n,o=String(t);return _define_property(n=_call_super(this,r,['Text with key "'.concat(o,'" not found in locale "').concat(e,'"')]),"key",void 0),_define_property(n,"locale",void 0),n.name="MissingKeyInLocaleError",n.key=o,n.locale=e,n}return _inherits(r,w),r}(_wrap_native_super(Error));a(vs,"MissingKeyInLocaleError");var As=vs,Zt=As,_Ludex_Utils17=Ludex.Utils,dn=_Ludex_Utils17.Object,xf=_Ludex_Utils17.Function,jA=_Ludex_Utils17.Browser,WA=_Ludex_Utils17.Valid,_Ludex_Configs4=Ludex.Configs,_Ludex_Configs_Languages=_Ludex_Configs4.Languages,zA=_Ludex_Configs_Languages.DetectPlayerLocale;a(Ss,"nullOrNotEmpty");var Ds=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"Oe",void 0),_define_property(t,"Be",void 0),_define_property(t,"je",{}),t}return _inherits(r,w),_create_class(r,[{key:"setFallbackLocale",value:function value(e){this.Be=e}},{key:"hasLocale",value:function value(e){return dn.hasOwn(this.je,e)}},{key:"hasTextKey",value:function value(e,n){var o=null!=n?n:this.getCurrentLocale(),S=this.ft(o).text;return dn.hasOwn(S,e)}},{key:"hasTextureKey",value:function value(e,n){var o=null!=n?n:this.getCurrentLocale(),S=this.ft(o).texture;return dn.hasOwn(S,e)}},{key:"add",value:function value(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.je[e]=n,o&&this.setFallbackLocale(e)}},{key:"choose",value:function value(e){this.Oe=e,this.codex.event.emit(Ludex.Events.LANGUAGE_CHANGED,{locale:e})}},{key:"getText",value:function value(e,n,o){var S=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{return this.Wr(e,n,o,!S)}catch(I){return _instanceof(I,Zt)||_instanceof(I,ln),String(e)}}},{key:"getTexture",value:function value(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.zr(e,n,!o)}},{key:"Wr",value:function value(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],S=arguments.length>2?arguments[2]:void 0,I=!(arguments.length>3)||void 0===arguments[3]||arguments[3];if(!I||void 0===this.Be){var b=this.ra(e,null!=S?S:this.getCurrentLocale());return this.Ja(b,o)}var D=this.Be,k=xf.retry(function(){return n.ra(e,null!=S?S:n.getCurrentLocale())},function(){return n.ra(e,D)});return this.Ja(k,o)}},{key:"ra",value:function value(e,n){if(!this.hasTextKey(e,n))throw new Zt(e,n);return this.ft(n).text[e]}},{key:"zr",value:function value(e,n){var o=this,S=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!S||void 0===this.Be)return this.na(e,null!=n?n:this.getCurrentLocale());var I=this.Be;return xf.retry(function(){return o.na(e,null!=n?n:o.getCurrentLocale())},function(){return o.na(e,I)})}},{key:"na",value:function value(e,n){if(!this.hasTextureKey(e,n))throw new Zt(e,n);return this.ft(n).texture[e]}},{key:"getCurrentLocale",value:function value(){var e;return null!=(e=this.Oe)?e:"en"}},{key:"ft",value:function value(e){var n=null!=e?e:this.getCurrentLocale();if(!dn.hasOwn(this.je,n))throw new ln(n);return this.je[n]}},{key:"Ja",value:function value(e,n){var o=n.length;if(0===o)return e;for(var S=e,I=0;I<o;I++){var b=n[I],D="%{".concat(I,"}");S=S.replace(D,b)}return S}},{key:"getPlayerLanguage",value:function value(){var e,n,o,S,I=this.codex.player,b=GameSDK.getLocale(),D=Ss(null==b?void 0:b.trim().split(/[-_]/)[0]),k=Ss(this.getBrowserLanguage());return I.isFirstSession()?null!=(e=null!=D?D:k)?e:"en":null!=(n=null!=(o=null!=(S=Ss(I.getPlayerSetting("language")))?S:D)?o:k)?n:"en"}},{key:"getBrowserLanguage",value:function value(){var e,n;return!1===zA?"en":null==(n=jA.getLocale())||null==(e=n.trim())?void 0:e.split(/[-_]/)[0]}}]),r}(Ludex.Plugins.BasePlugin);a(Ds,"LanguagePlugin");var bs=Ds,wf=bs,$f=wf;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var qA={_id:"",name:"",createdBy:"",description:"",expireTime:6048e5,type:"app_leaderboard",timezone:"utc+0",createdAt:"2024-01-01T09:00:00.000Z",sortOrder:"desc",statistics:"max",resettable:"manually",resetScore:0,numberOfLeaders:15,amountPlayer:15},Af=qA,_Ludex_Configs5=Ludex.Configs,er=_Ludex_Configs5.OtherHost,tr=_Ludex_Configs5.Mockup,YA=_Ludex_Configs5.AppId,_Ludex_Utils18=Ludex.Utils,rr=_Ludex_Utils18.Object,Is=_Ludex_Utils18.String,JA=_Ludex_Utils18.Valid,Ls=function(){function w(){_class_call_check(this,w),_define_property(this,"I",void 0)}return _create_class(w,[{key:"ue",value:function value(){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){switch(e.label){case 0:return this.I?[2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:if("function"!=typeof(t=e.sent().default))throw Error("Cannot load LeaderboardAPIMock");return this.I=new t,[2]}})}).call(this)}},{key:"getLeadersAsync",value:function value(t,e,n){return _async_to_generator(function(){var o,S,I,b;return _ts_generator(this,function(D){switch(D.label){case 0:return o=Is.params(n),tr.Leaderboards.Enabled?[4,this.ue()]:[3,6];case 1:return D.sent(),"playerIds"in n?[4,this.I.getPlayers(t,n)]:[3,3];case 2:return b=S=D.sent(),[3,5];case 3:return[4,this.I.getLeaders(t,n)];case 4:b=S=D.sent(),D.label=5;case 5:return I=b,[3,8];case 6:return[4,qe("".concat(e,"?").concat(o),{},er)];case 7:I=S=D.sent(),D.label=8;case 8:return[2,rr.hasOwn(S,"data")&&Array.isArray(S.data)?S.data:[]]}})}).call(this)}},{key:"getLeaderboardAsync",value:function value(t){return _async_to_generator(function(){var e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return n="leaderboards/".concat(t),tr.Leaderboards.Enabled?[4,this.ue()]:[3,3];case 1:return S.sent(),[4,this.I.getLeaderboardAsync(t)];case 2:return o=e=S.sent(),[3,5];case 3:return[4,qe(n,{},er)];case 4:e=S.sent(),o=rr.hasOwn(e,"data")&&"object"==_type_of(e.data)&&(e=e.data),S.label=5;case 5:return[2,e]}})}).call(this)}},{key:"getLeaderboardsAsync",value:function value(t){return _async_to_generator(function(){var e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return n=Is.params(t),tr.Leaderboards.Enabled?[4,this.ue()]:[3,3];case 1:return S.sent(),[4,this.I.getLeaderboardsAsync(t)];case 2:return o=e=S.sent(),[3,5];case 3:return[4,qe("leaderboards?".concat(n),{},er)];case 4:e=S.sent(),o=e=rr.hasOwn(e,"data")&&Array.isArray(e.data)?e.data:[],S.label=5;case 5:return[2,e]}})}).call(this)}},{key:"setLeaderboardScoreAsync",value:function value(t){return _async_to_generator(function(){var e,n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:return e=t.leaderboardId,n=t.playerId,o=t.score,tr.Leaderboards.Enabled?[4,this.ue()]:[3,3];case 1:return I.sent(),[4,this.I.setScoreAsync(e,n,o)];case 2:return S=I.sent(),[3,5];case 3:return[4,Ae("leaderboards/".concat(e,"/players/").concat(n),{score:o},{},er)];case 4:S=I.sent(),I.label=5;case 5:return[2]}})}).call(this)}},{key:"createLeaderboardAsync",value:function value(t){return _async_to_generator(function(){var e,n,o,S,I,b,D;return _ts_generator(this,function(k){switch(k.label){case 0:return n=null!=(e=t._id)?e:Is.generateObjectId(),o=t.numberOfLeaders,S=be(N(N({},Af),t),{_id:n,appId:YA,numberOfLeaders:o}),I="leaderboards",tr.Leaderboards.Enabled?[4,this.ue()]:[3,3];case 1:return k.sent(),[4,this.I.createLeaderboard(S)];case 2:return D=b=k.sent(),[3,5];case 3:return[4,Ae(I,S,{},er)];case 4:b=k.sent(),D=rr.hasOwn(b,"data")&&JA.isObject(b.data)&&(b=b.data),k.label=5;case 5:if(!rr.hasOwn(b,"_id")||b._id!==n)throw Error("Create leaderboard failed");return[2,n]}})}).call(this)}}]),w}();a(Ls,"LeaderboardAPI");var Es=Ls,vf=Es;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var QA={limit:0,offset:0,leaders:{},isRequesting:!1,amountPlayer:0},Cs=QA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var XA={leaderboards:{}},Sf=XA,_Ludex_Utils19=Ludex.Utils,ZA=_Ludex_Utils19.Array,ev=_Ludex_Utils19.Valid,bf=_Ludex_Utils19.Json,pt=_Ludex_Utils19.Object,_Ludex_Configs6=Ludex.Configs,_Ludex_Configs_Mockup=_Ludex_Configs6.Mockup,tv=_Ludex_Configs_Mockup.Leaderboards,Ms=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"G",new vf),_define_property(t,"D",void 0),t}return _inherits(r,w),_create_class(r,[{key:"init",value:function value(){this.codex.storage.addStorage("leaderboard",Sf),this.D={}}},{key:"addLeaderboard",value:function value(e){var n=e.name,o=e.type,S=e.leaderboardId,I=e.autoSortRank;if(!this.getLeaderboard(n)){var b="leaderboards/".concat(S,"/");("global"===o||"tournament"===o)&&(b+="leaders"),"friends"===o&&(b+="players"),this.D[n]={id:S,name:n,type:o,host:b,autoSortRank:I};var D=bf.clone(Cs);this.C(n,D)}}},{key:"requestLeaderboardsAsync",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.G.getLeaderboardsAsync(e)];case 1:return[2,o.sent()];case 2:return n=o.sent(),[2,[]];case 3:return[2]}})}).call(this)}},{key:"requestLeaderboardAsync",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b,D,k,E,L,C,R;return _ts_generator(this,function($){switch($.label){case 0:return $.trys.push([0,,6,8]),this.He(e),this.clearLeaderboard(e),this.C(e,{isRequesting:!0}),S=(o=this.D[e]).id,I=o.type,b=o.host,D=[],"friends"!==I?[3,2]:(E=[(k=this.codex.player).getPlayerId()].concat(_to_consumable_array(k.getConnectedPlayerIds(n,0))),this.D[e].playerIds=_to_consumable_array(E),[4,this.G.getLeadersAsync(S,b,{playerIds:E})]);case 1:return D=$.sent(),[3,4];case 2:return[4,this.G.getLeadersAsync(S,b,{limit:n,offset:0})];case 3:D=$.sent(),$.label=4;case 4:return 0===D.length?[2]:[4,this.Xa(e,D)];case 5:return $.sent(),this.C(e,{limit:n,offset:0}),[3,8];case 6:return[4,this.G.getLeaderboardAsync(this.D[e].id)];case 7:return C=(L=$.sent())?L.resettable:"",R=L?L.amountPlayer:0,this.C(e,{isRequesting:!1,resettable:C,amountPlayer:R}),[7];case 8:return[2]}})}).call(this)}},{key:"loadMoreLeaderboardAsync",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b,D,k;return _ts_generator(this,function(E){switch(E.label){case 0:if(!((o=this.getLeaderboard(e))&&"friends"!==this.D[e].type))return[3,4];E.label=1;case 1:return E.trys.push([1,,3,4]),this.C(e,{isRequesting:!0}),I=(S=this.D[e]).id,b=S.host,D=o.offset+o.limit,[4,this.G.getLeadersAsync(I,b,{limit:n,offset:D})];case 2:return 0===(k=E.sent()).length?[2]:(this.Xa(e,k),this.C(e,{limit:n,offset:D}),[3,4]);case 3:return this.C(e,{isRequesting:!1}),[7];case 4:return[2]}})}).call(this)}},{key:"getLeaderboard",value:function value(e){var n=this.codex.storage.getStorageData("leaderboard","leaderboards");return n&&n[e]?n[e]:null}},{key:"getLeadersByPlayerIdsAsync",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b;return _ts_generator(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),this.He(e),o=this.D[e].id,S="leaderboards/".concat(o,"/players"),[4,this.G.getLeadersAsync(o,S,{playerIds:n})];case 1:return[2,0===(I=D.sent()).length?[]:this.Za(I)];case 2:return b=D.sent(),[2,[]];case 3:return[2]}})}).call(this)}},{key:"getLeaderboardResponseAsync",value:function value(e){return _async_to_generator(function(){return _ts_generator(this,function(n){return[2,this.G.getLeaderboardAsync(e)]})}).call(this)}},{key:"clearLeaderboard",value:function value(e){try{this.He(e);var n=bf.clone(Cs);this.C(e,null),this.C(e,n)}catch(unused){}}},{key:"isLeaderboardEmpty",value:function value(e){var n=this.getLeaderboard(e);return!n||0===Object.keys(n.leaders).length}},{key:"isExistLeaderboardId",value:function value(e){var n=this,o=n.D;return pt.vals(o).some(function(S){return S.id===e})}},{key:"getLeaderboardName",value:function value(e){var n=this,o=n.D,S=ZA.search(pt.vals(o),function(I){return I.id===e});return S?S.name:null}},{key:"setLeaderboardScoreAsync",value:function value(e,n,o){return _async_to_generator(function(){var S,I,b;return _ts_generator(this,function(D){switch(D.label){case 0:return D.trys.push([0,3,,4]),GameSDK.extra.isGuest&&!tv.Enabled?[2]:(this.He(e),S=this.D[e].id,[4,this.Yr(e,n)]);case 1:return(I=D.sent())&&o<=I?[2]:[4,this.G.setLeaderboardScoreAsync({leaderboardId:S,playerId:n,score:o})];case 2:return D.sent(),[3,4];case 3:return b=D.sent(),[3,4];case 4:return[2]}})}).call(this)}},{key:"Yr",value:function value(e,n){return _async_to_generator(function(){var o;return _ts_generator(this,function(S){switch(S.label){case 0:return[4,this.getLeadersByPlayerIdsAsync(e,[n])];case 1:return[2,0===(o=S.sent()).length?null:o[0].score]}})}).call(this)}},{key:"createLeaderboardAsync",value:function value(e){return _async_to_generator(function(){return _ts_generator(this,function(n){return[2,this.G.createLeaderboardAsync(e)]})}).call(this)}},{key:"He",value:function value(e){var n=this.getLeaderboard(e);if(!ev.isObject(n))throw Error("Leaderboard with name ".concat(e," not found"))}},{key:"C",value:function value(e,n){n&&this.codex.storage.setStorageData("leaderboard","leaderboards",_define_property({},e,n))}},{key:"Xa",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b,D,k,E,L,C;return _ts_generator(this,function(R){switch(R.label){case 0:return this.He(e),[4,this.Za(n)];case 1:return I=R.sent().filter(function($){return $.name&&$.photo}),D=void 0===(b=(null!=(S=this.getLeaderboard(e))?S:{}).leaders)?{}:b,k=I.filter(function($){return!D[$.playerId]||(D[$.playerId]=$,!1)}),E=pt.vals(D),k.length>0&&(o=E).unshift.apply(o,_to_consumable_array(k)),L=E.sort(function($,z){return z.score-$.score}),this.D[e].autoSortRank&&(L=L.map(function($,z){return pt.merge($,{rank:z+1})})),C=pt.keyBy(L,"playerId"),this.C(e,{leaders:C}),[2]}})}).call(this)}},{key:"Za",value:function value(e){return _async_to_generator(function(){var n,o,S,I;return _ts_generator(this,function(b){switch(b.label){case 0:return n=this,o=this.codex.profile,S=e.map(function(D){return D.playerId}),[4,o.requestProfiles(S)];case 1:return b.sent(),I=o.getProfiles(),[2,e.map(function(D){var k=I[D.playerId];if(!k){var E,L=null!=(E=n.codex.language.getText("core.nameless"))?E:"Nameless";return pt.merge(D,{name:L,photo:"default"})}return pt.merge(D,{name:k.name,photo:k.photo})}).map(function(D){return be(N({},D),{score:parseInt(D.score,10)})})]}})}).call(this)}}]),r}(Ludex.Plugins.BasePlugin);a(Ms,"LeaderboardPlugin");var Ts=Ms,Df=Ts,If=Df;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ns=function(){function w(){_class_call_check(this,w),_define_property(this,"es",void 0)}return _create_class(w,[{key:"setAPIHost",value:function value(t){this.es=t}},{key:"getAPIHost",value:function value(){return this.es}}]),w}();a(Ns,"BaseAPI");var Os=Ns,Ef=Os,Lf=Ludex.Utils,_s=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"createSingleMatchAsync",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return[4,Ae("single-matches",e,{},this.getAPIHost())];case 1:return n=o.sent(),[2,this.ee(n)]}})}).call(this)}},{key:"getSingleMatchDetailAsync",value:function value(){return _async_to_generator(function(){var e;return _ts_generator(this,function(n){switch(n.label){case 0:return[4,qe("single-matches/active",{},this.getAPIHost())];case 1:return e=n.sent(),[2,this.ee(e)]}})}).call(this)}},{key:"updateSingleMatchMoveAsync",value:function value(e,n){return _async_to_generator(function(){var o;return _ts_generator(this,function(S){switch(S.label){case 0:return[4,Ae("single-matches/".concat(e,"/move"),n,{},this.getAPIHost())];case 1:return o=S.sent(),[2,this.ee(o)]}})}).call(this)}},{key:"finishSingleMatchAsync",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return[4,Ae("single-matches/".concat(e,"/finish"),{},{},this.getAPIHost())];case 1:return n=o.sent(),[2,this.ee(n)]}})}).call(this)}},{key:"createMatchAsync",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return[4,Ae("matches",e,{},this.getAPIHost())];case 1:return n=o.sent(),[2,this.ee(n)]}})}).call(this)}},{key:"joinMatchAsync",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return[4,Ae("matches/".concat(e,"/join"),{},{},this.getAPIHost())];case 1:return n=o.sent(),[2,this.ee(n)]}})}).call(this)}},{key:"getMatchDetailByIdAsync",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return[4,qe("matches/".concat(e),{},this.getAPIHost())];case 1:return n=o.sent(),[2,this.ee(n)]}})}).call(this)}},{key:"finishMatchAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L;return _ts_generator(this,function(C){switch(C.label){case 0:return o=void 0===(n=e.matchId)?"":n,I=void 0===(S=e.score)?0:S,D=void 0===(b=e.level)?0:b,E=void 0===(k=e.extraData)?{}:k,[4,Ae("matches/".concat(o,"/finish"),{matchId:o,score:I,level:D,extraData:E},{},this.getAPIHost())];case 1:return L=C.sent(),[2,this.ee(L)]}})}).call(this)}},{key:"ee",value:function value(e){var n;return Lf.Valid.isObject(e)&&Lf.Object.hasOwn(e,"data")&&null!=(n=e.data)?n:{}}}]),r}(Ef);a(_s,"MatchAPI");var Rs=_s,Cf=Rs,Gs=function(){function w(r){_class_call_check(this,w),_define_property(this,"gt",void 0),this.qr(),this.setAPIConfig(r)}return _create_class(w,[{key:"qr",value:function value(){this.gt=new Cf}},{key:"setAPIConfig",value:function value(t){t.matchAPIHost&&this.gt.setAPIHost(t.matchAPIHost)}},{key:"setMatchAPIInstance",value:function value(t){this.gt=t}},{key:"getMatchAPI",value:function value(){return this.gt}}]),w}();a(Gs,"APIHandler");var ks=Gs,Tf=ks;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Bs=function(){function w(r,t){_class_call_check(this,w),_define_property(this,"codex",void 0),_define_property(this,"match",void 0),this.codex=r,this.match=t}return _create_class(w,[{key:"u",value:function value(t){this.match.useCPUProfile}},{key:"p",value:function value(){this.match.useCPUProfile}},{key:"processAsync",value:function value(t){return _async_to_generator(function(){return _ts_generator(this,function(e){throw Error("Not implemented")})})()}}]),w}();a(Bs,"BaseConcrete");var Fs=Bs,G=Fs;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils20=Ludex.Utils,rv=_Ludex_Utils20.Object,nr=_Ludex_Utils20.Valid,nv=_Ludex_Utils20.Json,Vs=function(){function w(r){_class_call_check(this,w),_define_property(this,"r",void 0),_define_property(this,"te",void 0),_define_property(this,"Se",void 0),_define_property(this,"Ke",void 0),this.r=r.codex,this.te=r.match,this.Se=null,this.Ke={Before:null,After:null}}return _create_class(w,[{key:"setNext",value:function value(t){return this.Se=t,t}},{key:"processAsync",value:function value(t){return _async_to_generator(function(){return _ts_generator(this,function(e){return this.ts("Before",t),[2]})}).call(this)}},{key:"s",value:function value(t){return _async_to_generator(function(){var e;return _ts_generator(this,function(n){switch(n.label){case 0:return this.ts("After",t),this.Qr(),(e=this.Se)?[4,this.Se.processAsync(t)]:[3,2];case 1:e=n.sent(),n.label=2;case 2:return[2]}})}).call(this)}},{key:"ts",value:function value(t,e){if(nr.isDebugger()){this.Ke[t]=nv.clone(e);var n=e;n.profiles,n.customData,_n(n,["profiles","customData"])}}},{key:"Qr",value:function value(){var t=this.Ke,e=t.After,n=t.Before;if(e&&n){var o=rv.diff(n,e);if(!nr.isEmpty(o)){var S=o,I=S.profiles,b=void 0===I?{}:I,D=S.customData,k=void 0===D?{}:D,E=_n(S,["profiles","customData"]);nr.isEmpty(E),nr.isEmpty(b),nr.isEmpty(k)}this.Ke.After=null,this.Ke.Before=null}}}]),w}();a(Vs,"BaseHandler");var Us=Vs,M=Us,Hs=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){return _ts_generator(this,function(n){switch(n.label){case 0:return[4,this.s(e)];case 1:return n.sent(),[2]}})}).call(this)}},{key:"s",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return(n=this.Se)?[4,this.Se.processAsync(e)]:[3,2];case 1:n=o.sent(),o.label=2;case 2:return[2]}})}).call(this)}}]),r}(M);a(Hs,"NothingHandler");var Ks=Hs,F=Ks;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ws=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="LevelNotDefined",e.message=null!=t?t:"Level is not defined",e}return _inherits(r,w),r}(oe);a(Ws,"LevelNotDefined");var js=Ws,un=js;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var qs=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="MatchModeNotDefined",e.message=null!=t?t:"Match id is not defined",e}return _inherits(r,w),r}(oe);a(qs,"MatchModeNotDefined");var zs=qs,Mt=zs,_Ludex_Plugins1=Ludex.Plugins,tmp=_Ludex_Plugins1.Analytics,_ref=void 0===tmp?{}:tmp,Mf=_ref.Events,_Ludex_Utils21=Ludex.Utils,Of=_Ludex_Utils21.String,Nf=_Ludex_Utils21.Valid,Js=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b,D;return _ts_generator(this,function(k){switch(k.label){case 0:return S().call(o,e),I=e.mode,b=e.customData.level,this.Ve(I),this.ia(b),D=this.r.analytics,Mf&&D.event(Mf.MATCH_START,{level:b,game_mode:Of.toUpperCamelCase(I),level_name:this.oa(b)}),[4,this.s(e)];case 1:return k.sent(),[2]}})}).call(this)}},{key:"Ve",value:function value(e){if(!Nf.isString(e))throw new Mt}},{key:"ia",value:function value(e){if(!Nf.isNumber(e))throw new un}},{key:"oa",value:function value(e){return"Level ".concat(Of.padStart(e.toString(),5,"0"))}}]),r}(M);a(Js,"LogMatchStartHandler");var Ys=Js,Z=Ys;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var av={OPEN:"open",ACTIVE:"active",FINISHED:"finished"},Y=av,Xs=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b,D;return _ts_generator(this,function(k){switch(k.label){case 0:return S().call(o,e),I=e.mode,b=e.status,D=null!=I?I:Ye.SINGLE,b===Y.FINISHED&&(D=Ye.SINGLE),this.Jr(D),[4,this.s(e)];case 1:return k.sent(),[2]}})}).call(this)}},{key:"Jr",value:function value(e){this.r.storage.setStorageData("context","contextGameMode",e)}}]),r}(M);a(Xs,"ContextGameModeHandler");var Qs=Xs,U=Qs;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ei=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="GetMatchDetailFailed",e.message=null!=t?t:"Get match detail failed",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(ei,"GetMatchDetailFailed");var Zs=ei,Ot=Zs;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ri=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="MatchAreNotActive",e.message=null!=t?t:"Match are not active",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(ri,"MatchAreNotActive");var ti=ri,pn=ti;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ai=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="MatchIdNotValid",e.message=null!=t?t:"Match id is not valid",e}return _inherits(r,w),r}(oe);a(ai,"MatchIdNotValid");var ni=ai,ie=ni;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var si=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="OpponentHasFinishedMatch",e.message=t||"Opponent has finished match",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(si,"OpponentHasFinishedMatch");var oi=si,Rf=oi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ci=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="OpponentIdNotValid",e.message=null!=t?t:"Opponent id is not valid",e}return _inherits(r,w),r}(oe);a(ci,"OpponentIdNotValid");var ii=ci,X=ii;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var di=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="PlayerNotCurrentInMatch",e.message=null!=t?t:"The player is not currently in this match",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(di,"PlayerNotCurrentInMatch");var li=di,Nt=li;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var pi=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="PlayerNotFinishedMatch",e.message=t||"Player not finished match",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(pi,"PlayerNotFinishedMatch");var ui=pi,mn=ui,ov=Ludex.Dtos,_Ludex_Utils22=Ludex.Utils,sv=_Ludex_Utils22.Object,hi=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b;return _ts_generator(this,function(D){switch(D.label){case 0:return S().call(o,e),this.U(e),[4,this.We(e)];case 1:return I=D.sent(),b=new ov.Match.Data(I).toObject(),this.Xr(e,b),this.O(e,b),this.Zr(e),this.ze(e),this.la(e),[4,this.s(e)];case 2:return D.sent(),[2]}})}).call(this)}},{key:"U",value:function value(e){if("string"!=typeof e.id)throw new ie}},{key:"Zr",value:function value(e){if(e.status!==Y.ACTIVE)throw new pn}},{key:"Xr",value:function value(e,n){var o=e.id,S=e.customData,I=n._id,b=n.whitePlayerId,D=n.blackPlayerId;if("string"!=typeof I||I!==o)throw new Ot;var k=S.playerId,E=b===k,L=D===k;if(!E&&D===he.playerId)throw new Tt;if(!E&&!L)throw new Nt}},{key:"ze",value:function value(e){var n=e.profiles,o=e.customData.playerId;if("string"!=typeof o)throw new B;if(!n[o].finished)throw new mn}},{key:"la",value:function value(e){var n=e.profiles,o=e.customData.opponentId;if("string"!=typeof o)throw new X;if(n[o].finished)throw new Rf}},{key:"We",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){return[2,(n=e.id)?this.te.api.getMatchAPI().getMatchDetailByIdAsync(n):{}]})}).call(this)}},{key:"O",value:function value(e,n){this.F(e,n),this.k(e,n),this.j(e),this.pe(e,n)}},{key:"F",value:function value(e,n){var o=n.status,S=n.extraData;e.status=o,e.customData=sv.merge(e.customData,S)}},{key:"k",value:function value(e,n){var o=n.whitePlayerId,S=n.blackPlayerId,I=o===e.customData.playerId;e.customData.playerId=I?o:S,e.customData.opponentId=I?S:o}},{key:"j",value:function value(e){var n=e.customData,o=n.playerId,S=n.opponentId;if(o&&S){var I={name:"",photo:"",finished:!1};e.profiles[o]||(e.profiles[o]=N({id:o},I)),e.profiles[S]||(e.profiles[S]=N({id:S},I))}}},{key:"pe",value:function value(e,n){var o=e.customData,S=o.playerId,I=o.opponentId;if(S&&I){var b=n.whitePlayerId,D=n.whitePlayerScore,k=n.whitePlayerFinish,E=n.blackPlayerScore,L=n.blackPlayerFinish,C=b===S;e.profiles[S].score=C?D:E,e.profiles[I].score=C?E:D,e.profiles[S].finished=C?k:L,e.profiles[I].finished=C?L:k}}}]),r}(M);a(hi,"AwaitMatchHandler");var mi=hi,_f=mi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var iv={level:1,rescued:0,contextId:null,playerId:null,opponentId:null,tournamentId:null,leaderboardId:null},Rt=iv,yi=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){return _ts_generator(this,function(I){switch(I.label){case 0:return S().call(o,e),this.en(e),[4,this.s(e)];case 1:return I.sent(),[2]}})}).call(this)}},{key:"en",value:function value(e){var n=this.e,o=n.id,S=n.mode,I=n.customData;e.id=null!=o?o:null,e.mode=S||null,e.status=Y.OPEN,e.startAt=0,e.finishAt=0,e.profiles={},e.customData=N(N(N({},Rt),e.customData),I)}}]),r}(M);a(yi,"PrepareMatchHandler");var fi=yi,J=fi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var cv=le,Oe=cv;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Pi=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="UnavailableFeature",e.message="Unavailable feature: ".concat(t),e}return _inherits(r,w),r}(_wrap_native_super(Error));a(Pi,"UnavailableFeature");var gi=Pi,K=gi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var wi=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="ContextIdNotValid",e.message=null!=t?t:"Context id is not valid",e}return _inherits(r,w),r}(oe);a(wi,"ContextIdNotValid");var xi=wi,te=xi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ai=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="ProfileNotFound",e.message=null!=t?t:"Profile not found",e}return _inherits(r,w),r}(oe);a(Ai,"ProfileNotFound");var $i=Ai,H=$i,Si=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I;return _ts_generator(this,function(b){switch(b.label){case 0:return S().call(o,e),this.o(e),[4,this.tn(e)];case 1:return(I=b.sent())&&this.ye(e,I),[4,this.s(e)];case 2:return b.sent(),[2]}})}).call(this)}},{key:"o",value:function value(e){var n=e.id,o=e.customData,S=o.contextId,I=o.opponentId;if(!n||"string"!=typeof n)throw new ie;if(!S||"string"!=typeof S)throw new te;if(!I||"string"!=typeof I)throw new X}},{key:"tn",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$,z,ne,ce;return _ts_generator(this,function(ye){switch(ye.label){case 0:return ye.trys.push([0,4,,5]),n=this.r.frameCapture,o=e.profiles,I=(S=e.customData).playerId,b=S.opponentId,I&&b&&(D=o[I],k=o[b],D&&k)&&(E=D.photo,C=void 0===(L=D.score)?0:L,D.finished)?(R=k.photo,z=void 0===($=k.score)?0:$,k.finished?(ne=null,[3,3]):[3,1]):[2,null];case 1:return[4,n.renderAsync("result-challenge",{playerId:I,playerPhoto:E,playerScore:C,opponentId:b,opponentPhoto:R,opponentScore:z,isPlayerFinished:!0,isOpponentFinished:!1})];case 2:ne=ye.sent(),ye.label=3;case 3:return[2,ne];case 4:return ce=ye.sent(),[2,null];case 5:return[2]}})}).call(this)}},{key:"ye",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b,D,k,E,L;return _ts_generator(this,function(C){switch(C.label){case 0:if(o=e.id,S=e.profiles,b=(I=e.customData).playerId,D=I.opponentId,!b||"string"!=typeof b)throw new B;if(!("updateAsync"in GameSDK.extra))throw new K("updateAsync");if(!(k=S[b]))throw new H;return E=k.name,L={data:{type:Oe.CHALLENGE_FRIEND,matchId:o,playerId:b,opponentId:D},action:"CUSTOM",template:"challenge",cta:{default:"Play",localizations:{vi_VN:"Chi ngay"}},text:{default:"".concat(E," is waiting for you to finish this game. Play now!"),localizations:{vi_VN:"".concat(E," ang ch bn kt th\xfac trn u. Chi ngay!")}},image:n,strategy:"LAST",notification:"PUSH"},[4,GameSDK.extra.updateAsync(L)];case 1:return C.sent(),[2]}})})()}}]),r}(M);a(Si,"SendAwaitingMessageHandler");var vi=Si,kf=vi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var lv=Ludex.Dtos,Di=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b,D,k,E,L;return _ts_generator(this,function(C){switch(C.label){case 0:return S().call(o,e),this.o(e),b=(I=e.customData).playerId,D=I.opponentId,k=b,[4,this.as(k)];case 1:if(!(E=C.sent()))throw new H;return this.ca(e,k,E),(k=D)===he.playerId?[3,3]:[4,this.as(k)];case 2:if(!(L=C.sent()))throw new H;return this.ca(e,k,L),[3,4];case 3:this.ca(e,k),C.label=4;case 4:return[4,this.s(e)];case 5:return C.sent(),[2]}})}).call(this)}},{key:"o",value:function value(e){var n=e.customData,o=n.playerId,S=n.opponentId;if(!o||"string"!=typeof o)throw new B;if(!S||"string"!=typeof S)throw new X}},{key:"as",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return[4,(n=this.r.profile).requestProfiles([e])];case 1:return[2,(o.sent(),n.getProfiles()[e])]}})}).call(this)}},{key:"ca",value:function value(e,n,o){var S=null!=o?o:he,I=S.name,b=S.photo,D=new lv.Match.Profile({id:n,name:I,photo:b}).toObject();e.profiles[n]?(e.profiles[n].name=D.name,e.profiles[n].photo=D.photo):e.profiles[n]=D}}]),r}(M);a(Di,"GetMatchProfilesHandler");var bi=Di,ge=bi,Ei=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R;return _ts_generator(this,function($){switch($.label){case 0:return $.trys.push([0,,2,3]),this.u(e),n=e.matchId,o=e.playerId,S=e.opponentId,I=new F(this),b=new J(this,{id:n,mode:q.CHALLENGE_FRIEND,customData:{playerId:o,opponentId:S}}),I.setNext(b),D=new _f(this),b.setNext(D),k=new ge(this),D.setNext(k),E=new kf(this),k.setNext(E),L=new Z(this),E.setNext(L),C=new U(this),L.setNext(C),R=this.match.getMatchState(),[4,I.processAsync(R)];case 1:return $.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(Ei,"AwaitChallengeMatchConcrete");var Ii=Ei,Gf=Ii;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ci=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="CreateContextFailed",e.message=null!=t?t:"Create context failed",e}return _inherits(r,w),r}(oe);a(Ci,"CreateContextFailed");var Li=Ci,_t=Li,_Ludex_Utils23=Ludex.Utils,Ff=_Ludex_Utils23.Valid,Bf=_Ludex_Utils23.Object,Mi=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b;return _ts_generator(this,function(D){switch(D.label){case 0:return S().call(o,e),I=this.e.opponentId,[4,this.an(I)];case 1:return b=D.sent(),e.customData.contextId=b,[4,this.s(e)];case 2:return D.sent(),[2]}})}).call(this)}},{key:"an",value:function value(e){return _async_to_generator(function(){var n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,GameSDK.context.createAsync(e)];case 1:return S.sent(),[3,3];case 2:return n=S.sent(),this.sn(n),[3,3];case 3:if(o=GameSDK.context.getID(),!Ff.isString(o))throw new _t;return[2,o]}})}).call(this)}},{key:"sn",value:function value(e){if(!Bf.hasOwn(e,"code"))throw e;if("SAME_CONTEXT"!==e.code){if("INVALID_PARAM"===e.code){if(!this.rn(e))throw e;return}throw e}}},{key:"nn",value:function value(e){if(!Bf.hasOwn(e,"message")||!Ff.isString(e.message))throw e}},{key:"rn",value:function value(e){return this.nn(e),e.message.indexOf("is not a connected player of the current player")>-1}}]),r}(M);a(Mi,"CreateContextHandler");var Ti=Mi,Uf=Ti;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ni=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="MatchAreNotOpen",e.message=null!=t?t:"Match are not open",e}return _inherits(r,w),r}(oe);a(Ni,"MatchAreNotOpen");var Oi=Ni,rt=Oi,dv=Ludex.Dtos,_Ludex_Utils24=Ludex.Utils,uv=_Ludex_Utils24.Object,_i=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b;return _ts_generator(this,function(D){switch(D.label){case 0:return S().call(o,e),this.o(e),[4,this.ln(e)];case 1:return I=D.sent(),b=new dv.Match.Data(I).toObject(),this.da(e,b),[4,this.s(e)];case 2:return D.sent(),[2]}})}).call(this)}},{key:"o",value:function value(e){var n=e.status;if("string"!=typeof e.customData.opponentId)throw new X;if(n!==Y.OPEN)throw new rt}},{key:"ln",value:function value(e){return _async_to_generator(function(){var n,o,S;return _ts_generator(this,function(I){return n=e.customData.opponentId,o=this.e.extraData,n?(S={opponentPlayerId:n,extraData:o},[2,this.te.api.getMatchAPI().createMatchAsync(S)]):[2,{}]})}).call(this)}},{key:"da",value:function value(e,n){this.F(e,n),this.k(e,n),this.j(e),this.cn(e,n)}},{key:"F",value:function value(e,n){var o=n._id,S=n.extraData;e.id=o||null,e.customData=uv.merge(e.customData,S)}},{key:"k",value:function value(e,n){var o=n.whitePlayerId,S=n.blackPlayerId,I=o===e.customData.opponentId,b=I?S:o,D=I?o:S;e.customData.playerId=b,e.customData.opponentId=D}},{key:"j",value:function value(e){var n=e.customData,o=n.playerId,S=n.opponentId;if(o&&S){var I={name:"",photo:"",finished:!1};e.profiles[o]||(e.profiles[o]=N({id:o},I)),e.profiles[S]||(e.profiles[S]=N({id:S},I))}}},{key:"cn",value:function value(e,n){var o=e.customData,S=o.playerId,I=o.opponentId;if(S&&I){var b=n.whitePlayerId,D=n.whitePlayerFinish,k=n.blackPlayerFinish,E=b===e.customData.opponentId,L=E?k:D,C=E?D:k;e.profiles[S].finished=L,e.profiles[I].finished=C}}}]),r}(M);a(_i,"CreateMatchHandler");var Ri=_i,hn=Ri;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Gi=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){return _ts_generator(this,function(I){switch(I.label){case 0:if(S().call(o,e),e.status!==Y.OPEN)throw new rt;return this.dn(e),[4,this.s(e)];case 1:return I.sent(),[2]}})}).call(this)}},{key:"dn",value:function value(e){e.status=Y.ACTIVE,e.startAt=Date.now()}}]),r}(M);a(Gi,"StartMatchHandler");var ki=Gi,re=ki;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Bi=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I;return _ts_generator(this,function(b){switch(b.label){case 0:return S().call(o,e),this.o(e),[4,this.hn(e)];case 1:return(I=b.sent())&&this.ye(e,I),[4,this.s(e)];case 2:return b.sent(),[2]}})}).call(this)}},{key:"o",value:function value(e){var n=e.id,o=e.customData,S=o.contextId,I=o.opponentId;if(!n||"string"!=typeof n)throw new ie;if(!S||"string"!=typeof S)throw new te;if(!I||"string"!=typeof I)throw new X}},{key:"hn",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$,z,ne;return _ts_generator(this,function(ce){switch(ce.label){case 0:return ce.trys.push([0,2,,3]),n=this.r.frameCapture,o=e.profiles,I=(S=e.customData).playerId,b=S.opponentId,I&&b&&(D=o[I],k=o[b],D&&k)?(E=D.photo,C=void 0===(L=D.score)?0:L,R=k.photo,z=void 0===($=k.score)?0:$,[4,n.renderAsync("result-challenge",{playerId:I,playerPhoto:E,playerScore:C,opponentId:b,opponentPhoto:R,opponentScore:z,isPlayerFinished:!1,isOpponentFinished:!1})]):[2,null];case 1:return[2,ce.sent()];case 2:return ne=ce.sent(),[2,null];case 3:return[2]}})}).call(this)}},{key:"ye",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b,D,k,E;return _ts_generator(this,function(L){switch(L.label){case 0:if(o=e.id,S=e.profiles,b=(I=e.customData).playerId,D=I.opponentId,!b||"string"!=typeof b)throw new B;if(!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return k=S[b].name,E={data:{type:Oe.CHALLENGE_FRIEND,matchId:o,playerId:b,opponentId:D},action:"CUSTOM",template:"challenge",cta:{default:"Play",localizations:{vi_VN:"Chi ngay"}},text:{default:"".concat(k," challenges you"),localizations:{vi_VN:"".concat(k," th th\xe1ch bn trong trn u n\xe0y. Chi ngay!")}},image:n,strategy:"IMMEDIATE",notification:"PUSH"},[4,GameSDK.extra.updateAsync(E)];case 1:return L.sent(),[2]}})})()}}]),r}(M);a(Bi,"SendChallengeMessageHandler");var Fi=Bi,fn=Fi,Vi=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$,z;return _ts_generator(this,function(ne){switch(ne.label){case 0:return ne.trys.push([0,,2,3]),this.u(e),n=e.playerId,o=e.opponentId,S=e.extraData,I=new F(this),b=new Uf(this,{opponentId:o}),I.setNext(b),D=new J(this,{mode:q.CHALLENGE_FRIEND,customData:{playerId:n,opponentId:o}}),b.setNext(D),k=new hn(this,{extraData:S}),D.setNext(k),E=new ge(this),k.setNext(E),L=new re(this),E.setNext(L),C=new Z(this),L.setNext(C),R=new fn(this),C.setNext(R),$=new U(this),R.setNext($),z=this.match.getMatchState(),[4,I.processAsync(z)];case 1:return ne.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(Vi,"ChallengeFriendConcrete");var Ui=Vi,Vf=Ui;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ji=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="ContextNotValid",e.message=null!=t?t:"Context is not valid",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(ji,"ContextNotValid");var Ki=ji,Hi=Ki;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var zi=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="SameContext",e.message=null!=t?t:"Same context",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(zi,"SameContext");var Wi=zi,yn=Wi,Kf=Ludex.Utils,Yi=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I;return _ts_generator(this,function(b){switch(b.label){case 0:return S().call(o,e),I=this.e.contextId,[4,this.un(I)];case 1:return b.sent(),e.customData.contextId=I,[4,this.s(e)];case 2:return b.sent(),[2]}})}).call(this)}},{key:"ge",value:function value(e){var n="SOLO"===e,o=GameSDK.context.getID();if(o===e||n&&null===o)throw new yn}},{key:"pn",value:function value(e){var n=GameSDK.context.getID();if("SOLO"===e&&(null!==n||""!==n))throw new Hi}},{key:"un",value:function value(e){return _async_to_generator(function(){var n,o;return _ts_generator(this,function(S){switch(S.label){case 0:n="SOLO"===e,S.label=1;case 1:return S.trys.push([1,3,,4]),this.ge(e),this.pn(e),[4,GameSDK.context.switchAsync(e,n)];case 2:return S.sent(),[3,4];case 3:if(_instanceof(o=S.sent(),yn)||_instanceof(o,Hi))return[2];if(!Kf.Object.hasOwn(o,"code"))throw o;if(Kf.Device.isAndroid()&&n&&"INVALID_PARAM"===o.code)return[2];if("SAME_CONTEXT"!==o.code)throw o;return[3,4];case 4:return[2]}})}).call(this)}}]),r}(M);a(Yi,"SwitchContextHandler");var qi=Yi,nt=qi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var pv=Ludex.Dtos,_Ludex_Utils25=Ludex.Utils,mv=_Ludex_Utils25.Object,Qi=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b;return _ts_generator(this,function(D){switch(D.label){case 0:return S().call(o,e),this.U(e),[4,this.We(e)];case 1:return I=D.sent(),b=new pv.Match.Data(I).toObject(),this.yn(e,b),this.O(e,b),this.ze(e),[4,this.s(e)];case 2:return D.sent(),[2]}})}).call(this)}},{key:"U",value:function value(e){var n=e.id,o=e.status;if("string"!=typeof n)throw new ie;if(o!==Y.OPEN)throw new rt}},{key:"yn",value:function value(e,n){var o=e.id,S=e.customData,I=n._id,b=n.whitePlayerId,D=n.blackPlayerId;if("string"!=typeof I||I!==o)throw new Ot;var k=S.playerId,E=b===k,L=D===k;if(!E&&D===he.playerId)throw new Tt;if(!E&&!L)throw new Nt}},{key:"ze",value:function value(e){var n=e.profiles,o=e.customData.playerId;if("string"!=typeof o)throw new B;if(n[o].finished)throw new tn}},{key:"We",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){return[2,(n=e.id)?this.te.api.getMatchAPI().getMatchDetailByIdAsync(n):{}]})}).call(this)}},{key:"O",value:function value(e,n){this.F(e,n),this.k(e,n),this.j(e),this.pe(e,n)}},{key:"F",value:function value(e,n){var o=n.extraData;e.customData=mv.merge(e.customData,o)}},{key:"k",value:function value(e,n){var o=n.whitePlayerId,S=n.blackPlayerId,I=o===e.customData.playerId;e.customData.playerId=I?o:S,e.customData.opponentId=I?S:o}},{key:"j",value:function value(e){var n=e.customData,o=n.playerId,S=n.opponentId;if(o&&S){var I={name:"",photo:"",finished:!1};e.profiles[o]||(e.profiles[o]=N({id:o},I)),e.profiles[S]||(e.profiles[S]=N({id:S},I))}}},{key:"pe",value:function value(e,n){var o=e.customData,S=o.playerId,I=o.opponentId;if(S&&I){var b=n.whitePlayerId,D=n.whitePlayerScore,k=n.whitePlayerFinish,E=n.blackPlayerScore,L=n.blackPlayerFinish,C=b===S;e.profiles[S].score=C?D:E,e.profiles[I].score=C?E:D,e.profiles[S].finished=C?k:L,e.profiles[I].finished=C?L:k}}}]),r}(M);a(Qi,"ContinueMatchHandler");var Ji=Qi,Hf=Ji;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Zi=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I;return _ts_generator(this,function(b){switch(b.label){case 0:return S().call(o,e),this.e.ignore?[4,this.s(e)]:[3,2];case 1:case 4:return b.sent(),[2];case 2:return this.o(e),[4,this.mn(e)];case 3:return(I=b.sent())&&this.ye(e,I),[4,this.s(e)]}})}).call(this)}},{key:"o",value:function value(e){var n=e.id,o=e.customData,S=o.contextId,I=o.opponentId;if(!n||"string"!=typeof n)throw new ie;if(!S||"string"!=typeof S)throw new te;if(!I||"string"!=typeof I)throw new X}},{key:"mn",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C;return _ts_generator(this,function(R){switch(R.label){case 0:return R.trys.push([0,2,,3]),o=(n=this.r).player,S=n.frameCapture,b=(I=o.getPlayer()).playerId,D=I.photo,null!=(k=e.customData.opponentId)&&(E=e.profiles[k])?(L=E.photo,[4,S.renderAsync("update-challenge",{playerId:b,playerPhoto:D,opponentId:k,opponentPhoto:L})]):[2,null];case 1:return[2,R.sent()];case 2:return C=R.sent(),[2,null];case 3:return[2]}})}).call(this)}},{key:"ye",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b,D,k,E,L;return _ts_generator(this,function(C){switch(C.label){case 0:if(o=e.id,S=e.profiles,b=(I=e.customData).playerId,D=I.opponentId,!b||"string"!=typeof b)throw new B;if(!("updateAsync"in GameSDK.extra))throw new K("updateAsync");if(!(k=S[b]))throw new H;if(E=k.name,L={data:{type:Oe.CHALLENGE_FRIEND,matchId:o,playerId:b,opponentId:D},action:"CUSTOM",template:"challenge",cta:{default:"Play",localizations:{vi_VN:"Chi ngay"}},text:{default:"".concat(E," made an update."),localizations:{vi_VN:"".concat(E," \xe3 cp nht trn u. Chi ngay!")}},image:n,strategy:"LAST",notification:"PUSH"},!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return[4,GameSDK.extra.updateAsync(L)];case 1:return C.sent(),[2]}})})()}}]),r}(M);a(Zi,"SendUpdateMessageHandler");var Xi=Zi,jf=Xi,tc=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$,z,ne,ce,ye;return _ts_generator(this,function(Pe){switch(Pe.label){case 0:return Pe.trys.push([0,,2,3]),this.u(e),n=e.contextId,o=e.matchId,S=e.playerId,I=e.opponentId,D=void 0===(b=e.sendUpdateMessage)||b,k=new F(this),E=new nt(this,{contextId:n}),k.setNext(E),L=new J(this,{id:o,mode:q.CHALLENGE_FRIEND,customData:{playerId:S,opponentId:I}}),E.setNext(L),C=new Hf(this),L.setNext(C),R=new ge(this),C.setNext(R),$=new re(this),R.setNext($),z=new jf(this,{ignore:!D}),$.setNext(z),ne=new Z(this),z.setNext(ne),ce=new U(this),ne.setNext(ce),ye=this.match.getMatchState(),[4,k.processAsync(ye)];case 1:return Pe.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(tc,"ContinueChallengeMatchConcrete");var ec=tc,Wf=ec;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Plugins2=Ludex.Plugins,tmp1=_Ludex_Plugins2.Analytics,_ref1=void 0===tmp1?{}:tmp1,zf=_ref1.Events,_Ludex_Utils26=Ludex.Utils,qf=_Ludex_Utils26.String,Yf=_Ludex_Utils26.Valid,nc=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b,D,k,E,L,C;return _ts_generator(this,function(R){switch(R.label){case 0:return S().call(o,e),I=e.customData,b=e.mode,D=e.startAt,k=e.finishAt,E=I.level,this.Ve(b),this.ia(E),L=Math.floor((k-D)/1e3),C=this.r.analytics,zf&&C.event(zf.MATCH_END,{level:E,game_mode:qf.toUpperCamelCase(b),level_name:this.oa(E),time_played:L}),[4,this.s(e)];case 1:return R.sent(),[2]}})}).call(this)}},{key:"Ve",value:function value(e){if(!Yf.isString(e))throw new Mt}},{key:"ia",value:function value(e){if(!Yf.isNumber(e))throw new un}},{key:"oa",value:function value(e){return"Level ".concat(qf.padStart(e.toString(),5,"0"))}}]),r}(M);a(nc,"LogMatchFinishedHandler");var rc=nc,Ue=rc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var oc=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="LeaderboardNotExist",e.message=null!=t?t:"Leaderboard not exist in game",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(oc,"LeaderboardNotExist");var ac=oc,gn=ac;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ic=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="ScoreNotValid",e.message=null!=t?t:"Score is not valid",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(ic,"ScoreNotValid");var sc=ic,kt=sc,_Ludex_Utils27=Ludex.Utils,hv=_Ludex_Utils27.Valid,_Ludex_Configs7=Ludex.Configs,_Ludex_Configs_Leaderboards=_Ludex_Configs7.Leaderboards,fv=_Ludex_Configs_Leaderboards.LeaderboardList,lc=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),_define_property(n,"ss",void 0),n.e={score:0,playerId:""},n.ss=!!(null==e?void 0:e.ignore),n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b,D,k,E,L,C,R,$;return _ts_generator(this,function(z){switch(z.label){case 0:return S().call(o,e),this.ss?[4,this.s(e)]:[3,2];case 1:return z.sent(),[2];case 2:return this.Ye(e),(I="submitGameResultsAsync"in GameSDK.extra)?[4,GameSDK.extra.submitGameResultsAsync(this.e.score)]:[3,4];case 3:I=z.sent(),z.label=4;case 4:b=!0,D=!1,k=void 0;try{for(E=fv[Symbol.iterator]();!(b=(L=E.next()).done);b=!0)R=(C=L.value).Id,$=C.Mode,e.mode&&this.gn($,e.mode)&&this.ha(N({leaderboardId:R},this.e))}catch(ne){D=!0,k=ne}finally{try{b||null==E.return||E.return()}finally{if(D)throw k}}return[4,this.s(e)];case 5:return z.sent(),[2]}})}).call(this)}},{key:"gn",value:function value(e,n){return e===n}},{key:"Ye",value:function value(e){return _async_to_generator(function(){var n,o,S;return _ts_generator(this,function(I){if(n=e.profiles,!(o=e.customData.playerId)||!n[o])throw new H;if(S=n[o].score,!hv.isNumber(S))throw new kt;return this.e={score:S,playerId:o},[2]})}).call(this)}},{key:"ha",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b;return _ts_generator(this,function(D){switch(D.label){case 0:if(D.trys.push([0,2,,3]),n=e.playerId,o=e.score,S=e.leaderboardId,!(I=this.r.leaderboard.getLeaderboardName(S)))throw new gn;return[4,this.r.leaderboard.setLeaderboardScoreAsync(I,n,o)];case 1:return D.sent(),[3,3];case 2:return b=D.sent(),[3,3];case 3:return[2]}})}).call(this)}}]),r}(M);a(lc,"PostGlobalLeaderboardsScoreHandler");var cc=lc,at=cc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var yv=Ludex.Dtos,gv=Ludex.Utils,Pn=gv.Valid,Pv=gv.Object,uc=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b;return _ts_generator(this,function(D){switch(D.label){case 0:return S().call(o,e),this.U(e),this.e.useAPI?[4,this.wn(e)]:[3,2];case 1:return I=D.sent(),b=new yv.Match.Data(I).toObject(),this.xn(e,b),[3,3];case 2:this.O(e),D.label=3;case 3:return this.da(e),[4,this.s(e)];case 4:return D.sent(),[2]}})}).call(this)}},{key:"U",value:function value(e){var n=e.status,o=e.profiles,S=e.customData;if(n!==Y.ACTIVE)throw new pn;var I=S.playerId;if(!I||!Pv.hasOwn(o,I))throw new Nt}},{key:"O",value:function value(e){var n=e.customData.playerId;if(!Pn.isString(n))throw new B;e.profiles[n].finished=!0}},{key:"da",value:function value(e){e.status=Y.FINISHED,e.finishAt=Date.now()}},{key:"wn",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D;return _ts_generator(this,function(k){if(n=e.id,o=e.profiles,I=(S=e.customData).level,b=S.playerId,!Pn.isString(b))throw new B;return D={matchId:null!=n?n:"",score:o[b].score,level:I,extraData:this.e.extraData},[2,this.te.api.getMatchAPI().finishMatchAsync(D)]})}).call(this)}},{key:"xn",value:function value(e,n){var o=e.customData,S=o.playerId,I=o.opponentId;if(!Pn.isString(S))throw new B;if(!Pn.isString(I))throw new X;var b=n.whitePlayerId,D=n.whitePlayerScore,k=n.blackPlayerScore,E=n.whitePlayerFinish,L=n.blackPlayerFinish,C=S===b,R=C?D:k,$=C?k:D,z=C?E:L,ne=C?L:E;e.profiles[S].score=R,e.profiles[I].score=$,e.profiles[S].finished=z,e.profiles[I].finished=ne}}]),r}(M);a(uc,"FinishMatchHandler");var dc=uc,Ve=dc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var mc=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I;return _ts_generator(this,function(b){switch(b.label){case 0:return S().call(o,e),this.o(e),[4,this.An(e)];case 1:return(I=b.sent())&&this.vn(e,I),[4,this.s(e)];case 2:return b.sent(),[2]}})}).call(this)}},{key:"o",value:function value(e){var n=e.id,o=e.customData,S=o.contextId,I=o.opponentId;if(!n||"string"!=typeof n)throw new ie;if(!S||"string"!=typeof S)throw new te;if(!I||"string"!=typeof I)throw new X}},{key:"An",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$,z,ne,ce,ye;return _ts_generator(this,function(Pe){switch(Pe.label){case 0:return Pe.trys.push([0,2,,3]),n=this.r.frameCapture,o=e.profiles,I=(S=e.customData).playerId,b=S.opponentId,I&&b&&(D=o[I],k=o[b],D&&k)?(E=D.photo,C=void 0===(L=D.score)?0:L,R=D.finished,$=k.photo,ne=void 0===(z=k.score)?0:z,ce=k.finished,[4,n.renderAsync("result-challenge",{playerId:I,playerPhoto:E,playerScore:C,opponentId:b,opponentPhoto:$,opponentScore:ne,isPlayerFinished:!!R,isOpponentFinished:!!ce})]):[2,null];case 1:return[2,Pe.sent()];case 2:return ye=Pe.sent(),[2,null];case 3:return[2]}})}).call(this)}},{key:"vn",value:function value(e,n){var o=e.profiles,S=e.customData,I=S.playerId,b=S.opponentId;if(!I||"string"!=typeof I)throw new B;if(!b||"string"!=typeof b)throw new X;if(!o[I]||!o[b])throw new H;var D=o[I],k=D.score,E=void 0===k?0:k,L=D.finished,C=o[b],R=C.score,$=void 0===R?0:R,z=C.finished;L?this.Pn(e,n):z&&E>$?this.ua(e,n):this.In(e,n)}},{key:"Pn",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b,D,k,E,L;return _ts_generator(this,function(C){switch(C.label){case 0:if(o=e.id,S=e.profiles,b=(I=e.customData).playerId,D=I.opponentId,!b||"string"!=typeof b)throw new B;if(!("updateAsync"in GameSDK.extra))throw new K("updateAsync");if(!(k=S[b]))throw new H;if(E=k.name,L={data:{type:Oe.CHALLENGE_FRIEND,matchId:o,playerId:b,opponentId:D,status:Y.FINISHED},action:"CUSTOM",template:"finished",cta:{default:"See result",localizations:{vi_VN:"Xem kt qu"}},text:{default:"".concat(E," just finished. Check them now."),localizations:{vi_VN:"".concat(E," va ho\xe0n th\xe0nh m\xe0n chi. Nhn  xem kt qu trn u.")}},image:n,strategy:"IMMEDIATE",notification:"PUSH"},!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return[4,GameSDK.extra.updateAsync(L)];case 1:return C.sent(),[2]}})})()}},{key:"In",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b,D,k,E,L,C;return _ts_generator(this,function(R){switch(R.label){case 0:if(o=e.id,S=e.profiles,b=(I=e.customData).playerId,D=I.opponentId,!b||"string"!=typeof b)throw new B;if(!(k=S[b]))throw new H;if(E=k.name,L=k.score,C={data:{type:Oe.CHALLENGE_FRIEND,matchId:o,playerId:b,opponentId:D,status:Y.ACTIVE},action:"CUSTOM",template:"finished",cta:{default:"Play",localizations:{vi_VN:"Chi ngay"}},text:{default:"".concat(E," got ").concat(L," scores. So easy! Can you?"),localizations:{vi_VN:"".concat(E," \xe3 t ").concat(L," im! Nhn Chi  so t\xe0i!")}},image:n,strategy:"IMMEDIATE",notification:"PUSH"},!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return[4,GameSDK.extra.updateAsync(C)];case 1:return R.sent(),[2]}})})()}},{key:"ua",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b,D,k,E,L,C;return _ts_generator(this,function(R){switch(R.label){case 0:if(o=e.id,S=e.profiles,b=(I=e.customData).playerId,D=I.opponentId,!b||"string"!=typeof b)throw new B;if(!(k=S[b]))throw new H;if(E=k.name,L=k.score,C={data:{type:Oe.CHALLENGE_FRIEND,matchId:o,playerId:b,opponentId:D,status:Y.FINISHED},action:"CUSTOM",template:"pass_score",cta:{default:"See result",localizations:{vi_VN:"Xem kt qu"}},text:{default:"".concat(E," beat your high score. Their score: ").concat(L),localizations:{vi_VN:"".concat(E," \xe3 vt qua im s ca bn, vi ").concat(L," im!")}},image:n,strategy:"IMMEDIATE",notification:"PUSH"},!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return[4,GameSDK.extra.updateAsync(C)];case 1:return R.sent(),[2]}})})()}}]),r}(M);a(mc,"SendFinishedMessageHandler");var pc=mc,Jf=pc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var fc=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"rs",void 0),n.rs=!!(null==e?void 0:e.ignore),n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){return _ts_generator(this,function(I){switch(I.label){case 0:return S().call(o,e),this.Dn(e),[4,this.s(e)];case 1:return I.sent(),[2]}})}).call(this)}},{key:"Dn",value:function value(e){if(!this.rs){var n=e.profiles,S=e.customData.playerId;if(!S||!n[S])throw new H;var b=this.r.player,D=b.getBestScore()||0,E=n[S].score,L=void 0===E?0:E;L<=D||(b.setBestScore(L),n[S].bestScore=L)}}}]),r}(M);a(fc,"SetPlayerBestScoreHandler");var hc=fc,Ke=hc,gc=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L;return _ts_generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,,2,3]),this.u(e),n=(null!=e?e:{}).extraData,o=new F(this),S=new Ve(this,{useAPI:!0,extraData:n}),o.setNext(S),I=new Jf(this),S.setNext(I),b=new Ue(this),I.setNext(b),D=new Ke(this),b.setNext(D),k=new at(this),D.setNext(k),E=new U(this),k.setNext(E),L=this.match.getMatchState(),[4,o.processAsync(L)];case 1:return C.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(gc,"FinishChallengeMatchConcrete");var yc=gc,Qf=yc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var xc=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="ContextAreSolo",e.message=null!=t?t:"Context are solo",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(xc,"ContextAreSolo");var Pc=xc,Xf=Pc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var $c=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="ContextNotChallenge",e.message=null!=t?t:"Context is not a challenge",e}return _inherits(r,w),r}(_wrap_native_super(Error));a($c,"ContextNotChallenge");var wc=$c,Zf=wc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var vc=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="NetworkFailure",e.message=null!=t?t:"Network failure",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(vc,"NetworkFailure");var Ac=vc,ey=Ac,xv=Ludex.Utils,wv=Ludex.Dtos,$v=xv.Array,Av=xv.Object,bc=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I;return _ts_generator(this,function(b){switch(b.label){case 0:return S().call(o,e),this.Sn(),[4,this.En()];case 1:return I=b.sent(),e.customData.opponentId=I,[4,this.s(e)];case 2:return b.sent(),[2]}})}).call(this)}},{key:"Sn",value:function value(){var e=GameSDK.context.getID();if("string"!=typeof e)throw new te;if("SOLO"===e)throw new Xf}},{key:"En",value:function value(){return _async_to_generator(function(){var e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return e=this.e.ignoreId,[4,this.bn([e])];case 1:if((n=S.sent()).length>1)throw new Zf;return o=he,[2,(1===n.length&&(o=n[0]),o.playerId)]}})}).call(this)}},{key:"bn",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$;return _ts_generator(this,function(z){switch(z.label){case 0:return z.trys.push([0,2,,3]),[4,GameSDK.context.getPlayersAsync()];case 1:n=z.sent(),o=[],S=!0,I=!1,b=void 0;try{for(D=n[Symbol.iterator]();!(S=(k=D.next()).done);S=!0)L=(E=k.value).getID(),!(e.indexOf(L)>-1)&&(C=E.getName())&&(R=E.getPhoto(),o.push(new wv.Player.Info({playerId:L,name:C,photo:R}).toObject()))}catch(ne){I=!0,b=ne}finally{try{S||null==D.return||D.return()}finally{if(I)throw b}}return[2,$v.unique(o)];case 2:if($=z.sent(),Av.hasOwn($,"code")&&"NETWORK_FAILURE"===$.code)throw new ey;return[2,[]];case 3:return[2]}})})()}}]),r}(M);a(bc,"GetOpponentChallengeContextHandler");var Sc=bc,xn=Sc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ic=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="ContextIsTournament",e.message=null!=t?t:"Context is a tournament",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(Ic,"ContextIsTournament");var Dc=Ic,ar=Dc,_Ludex_Utils28=Ludex.Utils,vv=_Ludex_Utils28.Object,Lc=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I;return _ts_generator(this,function(b){switch(b.label){case 0:return S().call(o,e),[4,this.Ln()];case 1:return I=b.sent(),[4,this.On()];case 2:return b.sent(),e.customData.contextId=I,[4,this.s(e)];case 3:return b.sent(),[2]}})}).call(this)}},{key:"Ln",value:function value(){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,GameSDK.context.chooseAsync({filters:["INCLUDE_EXISTING_CHALLENGES"],minSize:2,maxSize:2})];case 1:return o.sent(),[3,3];case 2:if(e=o.sent(),!vv.hasOwn(e,"code")||"SAME_CONTEXT"!==e.code)throw e;return[3,3];case 3:if("string"!=typeof(n=GameSDK.context.getID()))throw new _t;return[2,n]}})})()}},{key:"On",value:function value(){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),GameSDK.context.getID()?"getTournamentAsync"in GameSDK?[4,GameSDK.getTournamentAsync()]:[3,2]:[2];case 1:return o.sent(),e=new ar,[3,3];case 2:e=new K("getTournamentAsync"),o.label=3;case 3:throw e;case 4:if(_instanceof(n=o.sent(),ar))throw n;return[3,5];case 5:return[2]}})})()}}]),r}(M);a(Lc,"ChooseContextHandler");var Ec=Lc,ty=Ec,Tc=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$,z;return _ts_generator(this,function(ne){switch(ne.label){case 0:return ne.trys.push([0,,2,3]),this.u(e),n=e.playerId,o=e.extraData,S=new F(this),I=new ty(this),S.setNext(I),b=new J(this,{mode:q.CHALLENGE_FRIEND,customData:{playerId:n}}),I.setNext(b),D=new xn(this,{ignoreId:n}),b.setNext(D),k=new hn(this,{extraData:o}),D.setNext(k),E=new ge(this),k.setNext(E),L=new re(this),E.setNext(L),C=new Z(this),L.setNext(C),R=new fn(this),C.setNext(R),$=new U(this),R.setNext($),z=this.match.getMatchState(),[4,S.processAsync(z)];case 1:return ne.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(Tc,"InviteFriendsConcrete");var Cc=Tc,ry=Cc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Oc=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="JoinMatchFailed",e.message=null!=t?t:"Join match failed",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(Oc,"JoinMatchFailed");var Mc=Oc,ny=Mc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Rc=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="MatchAreFinished",e.message=null!=t?t:"Match are finished",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(Rc,"MatchAreFinished");var Nc=Rc,ay=Nc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var kc=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="OtherPlayerHasJoinedMatch",e.message=null!=t?t:"Other player has joined match",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(kc,"OtherPlayerHasJoinedMatch");var _c=kc,oy=_c,Sv=Ludex.Dtos,_Ludex_Utils29=Ludex.Utils,bv=_Ludex_Utils29.Object,Fc=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b;return _ts_generator(this,function(D){switch(D.label){case 0:return S().call(o,e),this.U(e),[4,this._n(e)];case 1:return I=D.sent(),b=new Sv.Match.Data(I).toObject(),this.Nn(e,b),this.O(e,b),[4,this.s(e)];case 2:return D.sent(),[2]}})}).call(this)}},{key:"U",value:function value(e){if(e.status!==Y.OPEN)throw new rt}},{key:"Nn",value:function value(e,n){var o=e.id,S=e.customData,I=n._id,b=n.blackPlayerId,D=n.whitePlayerId,k=n.whitePlayerFinish,E=n.blackPlayerFinish,L=b===S.playerId,C=D===S.opponentId;if("string"!=typeof I||I!==o||!C)throw new ny;if(k&&E)throw new ay;if(!L)throw new oy}},{key:"_n",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){return[2,(n=e.id)?this.te.api.getMatchAPI().joinMatchAsync(n):{}]})}).call(this)}},{key:"O",value:function value(e,n){this.F(e,n),this.k(e,n),this.j(e),this.pe(e,n)}},{key:"F",value:function value(e,n){var o=n.extraData;e.customData=bv.merge(e.customData,o)}},{key:"k",value:function value(e,n){var o=n.whitePlayerId,S=n.blackPlayerId,I=o===e.customData.playerId,b=I?o:S,D=I?S:o;e.customData.playerId=b,e.customData.opponentId=D}},{key:"j",value:function value(e){var n=e.customData,o=n.playerId,S=n.opponentId;if(o&&S){var I={name:"",photo:"",finished:!1};e.profiles[o]||(e.profiles[o]=N({id:o},I)),e.profiles[S]||(e.profiles[S]=N({id:S},I))}}},{key:"pe",value:function value(e,n){var o=e.customData,S=o.playerId,I=o.opponentId;if(S&&I){var b=n.whitePlayerId,D=n.whitePlayerScore,k=n.whitePlayerFinish,E=n.blackPlayerScore,L=n.blackPlayerFinish,C=b===e.customData.playerId;e.profiles[S].score=C?D:E,e.profiles[I].score=C?E:D,e.profiles[S].finished=C?k:L,e.profiles[I].finished=C?L:k}}}]),r}(M);a(Fc,"JoinMatchHandler");var Gc=Fc,sy=Gc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Uc=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I;return _ts_generator(this,function(b){switch(b.label){case 0:return S().call(o,e),this.o(e),[4,this.Tn(e)];case 1:return(I=b.sent())&&this.ye(e,I),[4,this.s(e)];case 2:return b.sent(),[2]}})}).call(this)}},{key:"o",value:function value(e){var n=e.id,o=e.customData,S=o.contextId,I=o.opponentId;if(!n||"string"!=typeof n)throw new ie;if(!S||"string"!=typeof S)throw new te;if(!I||"string"!=typeof I)throw new X}},{key:"Tn",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$,z,ne,ce;return _ts_generator(this,function(ye){switch(ye.label){case 0:return ye.trys.push([0,4,,5]),n=this.r.frameCapture,o=e.profiles,I=(S=e.customData).playerId,b=S.opponentId,I&&b&&(D=o[I],k=o[b],D&&k)&&(E=D.photo,C=void 0===(L=D.score)?0:L,!D.finished)?(R=k.photo,z=void 0===($=k.score)?0:$,k.finished?[4,n.renderAsync("result-challenge",{playerId:I,playerPhoto:E,playerScore:C,opponentId:b,opponentPhoto:R,opponentScore:z,isPlayerFinished:!1,isOpponentFinished:!0})]:[3,2]):[2,null];case 1:return ne=ye.sent(),[3,3];case 2:ne=null,ye.label=3;case 3:return[2,ne];case 4:return ce=ye.sent(),[2,null];case 5:return[2]}})}).call(this)}},{key:"ye",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b,D,k,E,L;return _ts_generator(this,function(C){switch(C.label){case 0:if(o=e.id,S=e.profiles,b=(I=e.customData).playerId,D=I.opponentId,!b||"string"!=typeof b)throw new B;if(!("updateAsync"in GameSDK.extra))throw new K("updateAsync");if(!(k=S[b]))throw new H;return E=k.name,L={data:{type:Oe.CHALLENGE_FRIEND,matchId:o,playerId:b,opponentId:D},action:"CUSTOM",template:"challenge",cta:{default:"Play",localizations:{vi_VN:"Chi ngay"}},text:{default:"".concat(E," accepted the challenge."),localizations:{vi_VN:"".concat(E," \xe3 chp nhn tham gia trn u.")}},image:n,strategy:"LAST",notification:"PUSH"},[4,GameSDK.extra.updateAsync(L)];case 1:return C.sent(),[2]}})})()}}]),r}(M);a(Uc,"SendAcceptedMessageHandler");var Bc=Uc,iy=Bc,Kc=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$;return _ts_generator(this,function(z){switch(z.label){case 0:return z.trys.push([0,,2,3]),this.u(e),n=e.matchId,o=e.playerId,S=e.opponentId,I=new F(this),b=new J(this,{id:n,mode:q.CHALLENGE_FRIEND,customData:{playerId:o,opponentId:S}}),I.setNext(b),D=new sy(this),b.setNext(D),k=new ge(this),D.setNext(k),E=new re(this),k.setNext(E),L=new iy(this),E.setNext(L),C=new Z(this),L.setNext(C),R=new U(this),C.setNext(R),$=this.match.getMatchState(),[4,I.processAsync($)];case 1:return z.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(Kc,"JoinChallengeMatchConcrete");var Vc=Kc,cy=Vc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Dv={_id:"",status:"",appId:"",createdAt:"",startedAt:null,finishedAt:null,winnerId:"",whitePlayerId:"",blackPlayerId:"",whitePlayerScore:0,blackPlayerScore:0,whitePlayerFinish:!1,blackPlayerFinish:!1,extraData:{}},ly=Dv,_Ludex_Configs8=Ludex.Configs,Iv=_Ludex_Configs8.AppId,_Ludex_Utils30=Ludex.Utils,ve=_Ludex_Utils30.Valid,Se="is invalid",Hc=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"Q",value:function value(e){this.Z(e)}},{key:"q",value:function value(e){this.J(e)}},{key:"o",value:function value(e){this.X(e)}},{key:"validateId",value:function value(e){ve.isString(e)&&e||this.a("_id",Se)}},{key:"validateStatus",value:function value(e){ve.isString(e)&&e||this.a("status",Se)}},{key:"validateAppId",value:function value(e){ve.isString(e)&&e===Iv||this.a("appId",Se)}},{key:"validateCreatedAt",value:function value(e){ve.isString(e)||this.a("createdAt",Se)}},{key:"validateStartedAt",value:function value(e){null!==e&&(ve.isString(e)||this.a("startedAt",Se))}},{key:"validateFinishedAt",value:function value(e){null!==e&&(ve.isString(e)||this.a("finishedAt",Se))}},{key:"validateExtraData",value:function value(e){null!==e&&(ve.isObject(e)||this.a("extraData",Se))}},{key:"validateWinnerId",value:function value(e){null===e||ve.isString(e)&&e||this.a("winnerId",Se)}},{key:"validateWhitePlayerId",value:function value(e){ve.isString(e)&&e||this.a("whitePlayerId",Se)}},{key:"validateBlackPlayerId",value:function value(e){ve.isString(e)&&e||this.a("blackPlayerId",Se)}},{key:"validateWhitePlayerScore",value:function value(e){ve.isNumber(e)||this.a("whitePlayerScore",Se)}},{key:"validateBlackPlayerScore",value:function value(e){ve.isNumber(e)||this.a("blackPlayerScore",Se)}},{key:"validateWhitePlayerFinish",value:function value(e){ve.isBoolean(e)||this.a("whitePlayerFinish",Se)}},{key:"validateBlackPlayerFinish",value:function value(e){ve.isBoolean(e)||this.a("blackPlayerFinish",Se)}},{key:"toObject",value:function value(){return _get(_get_prototype_of(r.prototype),"toObject",this).call(this)}}]),r}(ae);a(Hc,"RespMatchDataDtos");var or=Hc;or.makeStrict(),or.addDefaults(ly);var wn=or;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Wc=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="MatchAreNotFinished",e.message=t||"Match are not finished",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(Wc,"MatchAreNotFinished");var jc=Wc,dy=jc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var qc=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="OpponentNotFinishedMatch",e.message=t||"Opponent not finished match",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(qc,"OpponentNotFinishedMatch");var zc=qc,uy=zc,_Ludex_Utils31=Ludex.Utils,Ev=_Ludex_Utils31.Object,Jc=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I;return _ts_generator(this,function(b){switch(b.label){case 0:return S().call(o,e),this.U(e),[4,this.We(e)];case 1:return I=new wn(b.sent()).toObject(),this.Cn(e,I),this.O(e,I),this.ze(e),this.la(e),[4,this.s(e)];case 2:return b.sent(),[2]}})}).call(this)}},{key:"U",value:function value(e){if("string"!=typeof e.id)throw new ie}},{key:"Cn",value:function value(e,n){var o=e.id,S=n._id,I=n.whitePlayerFinish,b=n.blackPlayerFinish;if("string"!=typeof S||S!==o)throw new Ot;if(!I&&!b)throw new dy}},{key:"ze",value:function value(e){var n=e.profiles,o=e.customData.playerId;if("string"!=typeof o)throw new B;if(!n[o].finished)throw new mn}},{key:"la",value:function value(e){var n=e.profiles,o=e.customData.opponentId;if("string"!=typeof o)throw new X;if(!n[o].finished)throw new uy}},{key:"We",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){return[2,(n=e.id)?this.te.api.getMatchAPI().getMatchDetailByIdAsync(n):null]})}).call(this)}},{key:"O",value:function value(e,n){this.F(e,n),this.k(e,n),this.j(e),this.pe(e,n)}},{key:"F",value:function value(e,n){var o=n.extraData;e.status=Y.FINISHED,e.customData=Ev.merge(e.customData,o)}},{key:"k",value:function value(e,n){var o=n.whitePlayerId,S=n.blackPlayerId,I=o===e.customData.playerId,b=I?o:S,D=I?S:o;e.customData.playerId=b,e.customData.opponentId=D}},{key:"j",value:function value(e){var n=e.customData,o=n.playerId,S=n.opponentId;if(o&&S){var I={name:"",photo:"",finished:!0};e.profiles[o]||(e.profiles[o]=N({id:o},I)),e.profiles[S]||(e.profiles[S]=N({id:S},I))}}},{key:"pe",value:function value(e,n){var o=e.customData,S=o.playerId,I=o.opponentId;if(S&&I){var b=n.whitePlayerId,D=n.whitePlayerScore,k=n.whitePlayerFinish,E=n.blackPlayerScore,L=n.blackPlayerFinish,C=b===e.customData.playerId;e.profiles[S].score=C?D:E,e.profiles[I].score=C?E:D,e.profiles[S].finished=C?k:L,e.profiles[I].finished=C?L:k}}}]),r}(M);a(Jc,"ResultMatchHandler");var Yc=Jc,py=Yc,Xc=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L;return _ts_generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,,2,3]),this.u(e),n=e.matchId,o=e.playerId,S=e.opponentId,I=new F(this),b=new J(this,{id:n,mode:q.CHALLENGE_FRIEND,customData:{playerId:o,opponentId:S}}),I.setNext(b),D=new py(this),b.setNext(D),k=new ge(this),D.setNext(k),E=new U(this),k.setNext(E),L=this.match.getMatchState(),[4,I.processAsync(L)];case 1:return C.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(Xc,"ResultChallengeMatchConcrete");var Qc=Xc,my=Qc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var el=function(w){function r(){var t,e;return _class_call_check(this,r),t=_call_super(this,r,arguments),e=t,_define_property(t,"ns",void 0),_define_property(t,"Rn",a(function(n){return _async_to_generator(function(){return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.match.challenge.invite.processAsync(n)];case 1:return[2,(o.sent(),!0)];case 2:return[2,o.sent()];case 3:return[2]}})})()},"startFLowChallengeFriend$")),_define_property(t,"Mn",a(function(n){return _async_to_generator(function(){var o,S;return _ts_generator(this,function(I){switch(I.label){case 0:if(I.trys.push([0,2,,4]),"string"!=typeof(o=GameSDK.context.getID()))throw new te;return[4,e.match.tournament.continue.processAsync({playerId:n,contextId:o})];case 1:case 3:return I.sent(),[3,4];case 2:return S=I.sent(),[4,e.os(n)];case 4:return[2]}})})()},"startFlowTournament$")),_define_property(t,"os",a(function(n){return _async_to_generator(function(){return _ts_generator(this,function(o){return[2,e.match.single.start.processAsync({playerId:n})]})})()},"startFlowSingle$")),t}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I;return _ts_generator(this,function(b){switch(b.label){case 0:return b.trys.push([0,,7,8]),this.u(e),n=e.playerId,o=e.extraData,S=e.fallbackSingleMode,this.ns=S,[4,this.Rn({playerId:n,extraData:o})];case 1:return!0===(I=b.sent())?[2]:_instanceof(I,ar)?[4,this.Mn(n)]:[3,3];case 2:case 4:return b.sent(),[3,6];case 3:return this.ns?[4,this.os(n)]:[3,5];case 5:throw I;case 6:return[3,8];case 7:return this.p(),[7];case 8:return[2]}})}).call(this)}}]),r}(G);a(el,"ChooseContextConcrete");var Zc=el,hy=Zc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var rl=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="LeaderboardIdNotValid",e.message=null!=t?t:"Leaderboard id is not valid",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(rl,"LeaderboardIdNotValid");var tl=rl,He=tl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils32=Ludex.Utils,fy=_Ludex_Utils32.Valid,al=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),_define_property(n,"qe",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I;return _ts_generator(this,function(b){switch(b.label){case 0:return S().call(o,e),this.Ye(e),(I="submitGameResultsAsync"in GameSDK.extra)?[4,GameSDK.extra.submitGameResultsAsync(this.e.score)]:[3,2];case 1:I=b.sent(),b.label=2;case 2:return this.ha(),[4,this.s(e)];case 3:return b.sent(),[2]}})}).call(this)}},{key:"Ye",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b;return _ts_generator(this,function(D){if(n=e.profiles,!(o=e.customData.playerId)||!n[o])throw new H;if(I=(S=this.e).score,b=S.leaderboardId,!fy.isNumber(I))throw new kt;if(!fy.isString(b))throw new He;return this.qe={score:I,playerId:o,leaderboardId:b},[2]})}).call(this)}},{key:"ha",value:function value(){return _async_to_generator(function(){var e,n,o,S,I,b;return _ts_generator(this,function(D){switch(D.label){case 0:if(D.trys.push([0,2,,3]),n=(e=this.qe).playerId,o=e.score,S=e.leaderboardId,!(I=this.r.leaderboard.getLeaderboardName(S)))throw new gn;return[4,this.r.leaderboard.setLeaderboardScoreAsync(I,n,o)];case 1:return D.sent(),[3,3];case 2:return b=D.sent(),[3,3];case 3:return[2]}})}).call(this)}}]),r}(M);a(al,"SetLeaderboardScoreHandler");var nl=al,$n=nl,_Ludex_Utils33=Ludex.Utils,Lv=_Ludex_Utils33.Valid,sl=function(w){function r(t){return _class_call_check(this,r),_call_super(this,r,[t,{score:0,leaderboardId:""}])}return _inherits(r,w),_create_class(r,[{key:"Ye",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"Ye",n)};return _async_to_generator(function(){var I,b,D,k,E;return _ts_generator(this,function(L){if(I=e.profiles,D=(b=e.customData).playerId,!(k=b.leaderboardId))throw new He;if(!D||!I[D])throw new H;if(E=I[D].score,!Lv.isNumber(E))throw new kt;return this.e.score=E,this.e.leaderboardId=k,S().call(o,e),[2]})}).call(this)}}]),r}($n);a(sl,"PostLeaderboardScoreHandler");var ol=sl,Gt=ol;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var cl=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){return _ts_generator(this,function(I){switch(I.label){case 0:return S().call(o,e),this.o(e),this.$n(e),[4,this.s(e)];case 1:return I.sent(),[2]}})}).call(this)}},{key:"o",value:function value(e){var n=e.id,o=e.customData,S=o.contextId,I=o.opponentId;if(!n||"string"!=typeof n)throw new ie;if(!S||"string"!=typeof S)throw new te;if(!I||"string"!=typeof I)throw new X}},{key:"Gn",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$,z,ne;return _ts_generator(this,function(ce){switch(ce.label){case 0:return ce.trys.push([0,2,,3]),n=this.r.frameCapture,o=e.profiles,I=(S=e.customData).playerId,b=S.opponentId,I&&b&&(D=o[I],k=o[b],D&&k)?(E=D.photo,C=void 0===(L=D.score)?0:L,R=k.photo,z=void 0===($=k.score)?0:$,[4,n.renderAsync("result-challenge",{playerId:I,playerPhoto:E,playerScore:C,opponentId:b,opponentPhoto:R,opponentScore:z,isPlayerFinished:!0,isOpponentFinished:!0})]):[2,null];case 1:return[2,ce.sent()];case 2:return ne=ce.sent(),[2,null];case 3:return[2]}})}).call(this)}},{key:"Un",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C;return _ts_generator(this,function(R){switch(R.label){case 0:return R.trys.push([0,2,,3]),o=(n=this.r).player,S=n.frameCapture,I=e.customData.playerId,D=(b=o.getPlayer()).playerId,k=b.photo,E=b.data,I!==D?[2,null]:(L=(E||{}).score,[4,S.renderAsync("share-score",{playerId:D,playerPhoto:k,playerScore:L})]);case 1:return[2,R.sent()];case 2:return C=R.sent(),[2,null];case 3:return[2]}})}).call(this)}},{key:"$n",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C;return _ts_generator(this,function(R){switch(R.label){case 0:if(n=e.profiles,S=(o=e.customData).playerId,!((I=o.opponentId)&&"string"==typeof I))return[3,2];if(!S||"string"!=typeof S)throw new B;return b=n[S],D=n[I],b&&D?(void 0===(k=b.score)?0:k)>(void 0===(E=D.score)?0:E)?[4,this.Gn(e)]:[3,2]:[2];case 1:return(L=R.sent())&&this.ua(e,L),[2];case 2:return[4,this.Un(e)];case 3:return(C=R.sent())&&this.Fn(e,C),[2]}})}).call(this)}},{key:"ua",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b,D,k;return _ts_generator(this,function(E){switch(E.label){case 0:if(o=e.profiles,!(S=e.customData.playerId)||"string"!=typeof S)throw new B;if(!("updateAsync"in GameSDK.extra))throw new K("updateAsync");if(!(I=o[S]))throw new H;if(b=I.name,D=I.score,k={data:{type:this.r.context.getSessionContextTypes().MATCHING_GROUP,playerId:S,playerName:b,playerScore:D},action:"CUSTOM",template:"play_turn",cta:{default:"Play",localizations:{vi_VN:"Chi"}},text:{default:"".concat(b," beats your high score. Their score: ").concat(D,"."),localizations:{vi_VN:"".concat(b," va vt im s cao nht ca bn! Chi ln na ch?")}},image:n,strategy:"IMMEDIATE",notification:"PUSH"},!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return[4,GameSDK.extra.updateAsync(k)];case 1:return E.sent(),[2]}})}).call(this)}},{key:"Fn",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b,D,k;return _ts_generator(this,function(E){switch(E.label){case 0:if(o=e.profiles,!(S=e.customData.playerId)||"string"!=typeof S)throw new B;if(!(I=o[S]))throw new H;if(b=I.name,D=I.score,k={data:{type:this.r.context.getSessionContextTypes().MATCHING_GROUP,playerId:S,playerName:b,playerScore:D},action:"CUSTOM",template:"play_turn",cta:{default:"Play",localizations:{vi_VN:"Chi ngay"}},text:{default:"".concat(b," got ").concat(D," scores. So easy! Can you?"),localizations:{vi_VN:"".concat(b," \xe3 t ").concat(D," im! Qu\xe1 d lu\xf4n. Chi li n\xe0o!")}},image:n,strategy:"IMMEDIATE",notification:"PUSH"},!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return[4,GameSDK.extra.updateAsync(k)];case 1:return E.sent(),[2]}})}).call(this)}}]),r}(M);a(cl,"SendGroupMessageHandler");var il=cl,yy=il,dl=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(){return _async_to_generator(function(){var e,n,o,S,I,b,D,k;return _ts_generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,,2,3]),this.u(),e=new F(this),n=new Ve(this,{useAPI:!1}),e.setNext(n),o=new yy(this),n.setNext(o),S=new Ue(this),o.setNext(S),I=new Ke(this),S.setNext(I),b=new Gt(this),I.setNext(b),D=new U(this),b.setNext(D),k=this.match.getMatchState(),[4,e.processAsync(k)];case 1:return E.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(dl,"FinishGroupConcrete");var ll=dl,gy=ll;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Cv=Ludex.Dtos,_Ludex_Utils34=Ludex.Utils,Tv=_Ludex_Utils34.Object,pl=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){return _ts_generator(this,function(I){switch(I.label){case 0:return S().call(o,e),this.kn(e),[4,this.s(e)];case 1:return I.sent(),[2]}})}).call(this)}},{key:"kn",value:function value(e){var n=this.e.id,o=e.profiles;if(!o[n])throw new H;var S=Tv.merge(o[n],this.e),I=new Cv.Match.Profile(S).toObject();o[I.id]=I}}]),r}(M);a(pl,"SetProfileDataHandler");var ul=pl,ot=ul,hl=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R;return _ts_generator(this,function($){switch($.label){case 0:return $.trys.push([0,,2,3]),this.u(e),n=e.playerId,o=e.opponentId,S=e.opponentScore,I=new F(this),b=new J(this,{id:"7749",mode:q.MATCHING_GROUP,customData:{playerId:n,opponentId:o}}),I.setNext(b),D=new ge(this),b.setNext(D),k=new ot(this,{id:n,score:S}),D.setNext(k),E=new re(this),k.setNext(E),L=new Z(this),E.setNext(L),C=new U(this),L.setNext(C),R=this.match.getMatchState(),[4,I.processAsync(R)];case 1:return $.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(hl,"JoinGroupConcrete");var ml=hl,Py=ml;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var gl=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="MatchGroupNotSupported",e.message=null!=t?t:"Match group is not supported",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(gl,"MatchGroupNotSupported");var fl=gl,yl=fl,xl=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I;return _ts_generator(this,function(b){switch(b.label){case 0:return S().call(o,e),[4,this.jn()];case 1:return b.sent(),[4,this.Bn()];case 2:return I=b.sent(),e.customData.contextId=I,[4,this.s(e)];case 3:return b.sent(),[2]}})}).call(this)}},{key:"jn",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){switch(e.label){case 0:if(!("getSupportedAPIs"in GameSDK))throw new K("getSupportedAPIs");if(!("checkCanPlayerMatchAsync"in GameSDK.extra))throw new K("checkCanPlayerMatchAsync");if(!(GameSDK.getSupportedAPIs().indexOf("checkCanPlayerMatchAsync")>-1))throw new yl;return[4,GameSDK.extra.checkCanPlayerMatchAsync()];case 1:if(!e.sent())throw new yl;return[2]}})})()}},{key:"Bn",value:function value(){return _async_to_generator(function(){var e,n,o,S,I,b,D;return _ts_generator(this,function(k){switch(k.label){case 0:if(!("matchPlayerAsync"in GameSDK.extra))throw new K("matchPlayerAsync");return n=(e=this.e).matchTag,S=void 0!==(o=e.autoSwitch)&&o,b=void 0!==(I=e.onlyExisting)&&I,[4,GameSDK.extra.matchPlayerAsync(n,S,b)];case 1:if(k.sent(),"string"!=typeof(D=GameSDK.context.getID()))throw new _t;return[2,D]}})}).call(this)}}]),r}(M);a(xl,"GroupContextHandler");var Pl=xl,xy=Pl,$l=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$;return _ts_generator(this,function(z){switch(z.label){case 0:return z.trys.push([0,,2,3]),this.u(e),n=e.matchTag,o=e.playerId,S=e.options,I=new F(this),b=new xy(this,N({matchTag:n},S)),I.setNext(b),D=new J(this,{id:"7749",mode:q.MATCHING_GROUP,customData:{playerId:o}}),b.setNext(D),k=new xn(this,{ignoreId:o}),D.setNext(k),E=new re(this),k.setNext(E),L=new ge(this),E.setNext(L),C=new Z(this),L.setNext(C),R=new U(this),C.setNext(R),$=this.match.getMatchState(),[4,I.processAsync($)];case 1:return z.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a($l,"StartGroupConcrete");var wl=$l,wy=wl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var vl=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(){return _async_to_generator(function(){var e,n,o,S,I,b,D;return _ts_generator(this,function(k){switch(k.label){case 0:return k.trys.push([0,,2,3]),this.u(),e=new F(this),n=new Ve(this,{useAPI:!1}),e.setNext(n),o=new Ue(this),n.setNext(o),S=new Ke(this),o.setNext(S),I=new at(this),S.setNext(I),b=new U(this),I.setNext(b),D=this.match.getMatchState(),[4,e.processAsync(D)];case 1:return k.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(vl,"FinishSingleConcrete");var Al=vl,$y=Al;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var bl=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="ProfileIdNotDefined",e.message=null!=t?t:"Profile id is not defined",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(bl,"ProfileIdNotDefined");var Sl=bl,Ay=Sl,Mv=Ludex.Dtos,Il=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b,D;return _ts_generator(this,function(k){switch(k.label){case 0:if(S().call(o,e),!(I=this.e.profileId))throw new Ay;return b=this.r.player.getPlayerId(),I!==b?[3,1]:(D=this.wt(),[3,3]);case 1:return[4,this.Hn(I)];case 2:if(!(D=k.sent()))throw new H;k.label=3;case 3:return this.O(D,e),[4,this.s(e)];case 4:return k.sent(),[2]}})}).call(this)}},{key:"wt",value:function value(){var e=this.r.player.getPlayer();return{playerId:e.playerId,name:e.name,photo:e.photo,locale:e.locale}}},{key:"Hn",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return[4,(n=this.r.profile).requestProfiles([e])];case 1:return[2,(o.sent(),n.getProfiles()[e])]}})}).call(this)}},{key:"O",value:function value(e,n){var o=e.playerId,S=e.name,I=e.photo,b=new Mv.Match.Profile({id:o,name:S,photo:I}).toObject();n.profiles[o]=b}}]),r}(M);a(Il,"GetProfileHandler");var Dl=Il,je=Dl,Ll=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L;return _ts_generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,,2,3]),this.u(e),n=e.playerId,o=new F(this),S=new nt(this,{contextId:"SOLO"}),o.setNext(S),I=new J(this,{id:"123456",mode:q.SINGLE,customData:{playerId:n}}),S.setNext(I),b=new re(this),I.setNext(b),D=new je(this,{profileId:n}),b.setNext(D),k=new Z(this),D.setNext(k),E=new U(this),k.setNext(E),L=this.match.getMatchState(),[4,o.processAsync(L)];case 1:return C.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(Ll,"StartSingleConcrete");var El=Ll,vy=El;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Tl=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$;return _ts_generator(this,function(z){switch(z.label){case 0:return z.trys.push([0,,2,3]),this.u(e),S=void 0!==(o=(n=null!=e?e:{}).setPlayerBestScore)&&o,b=void 0!==(I=n.postGlobalLeaderboard)&&I,D=new F(this),k=new Ve(this,{useAPI:!1}),D.setNext(k),E=new Ue(this),k.setNext(E),L=new Ke(this,{ignore:!S}),E.setNext(L),C=new at(this,{ignore:!b}),L.setNext(C),R=new U(this),C.setNext(R),$=this.match.getMatchState(),[4,D.processAsync($)];case 1:return z.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(Tl,"FinishStrategyConcrete");var Cl=Tl,Sy=Cl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ol=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$,z;return _ts_generator(this,function(ne){switch(ne.label){case 0:return ne.trys.push([0,,2,3]),this.u(e),n=e.matchId,o=e.playerId,S=e.gameMode,b=void 0===(I=e.extraData)?{}:I,D=new F(this),k=new nt(this,{contextId:"SOLO"}),D.setNext(k),E=new J(this,{id:n,mode:S,customData:N({playerId:o},b)}),k.setNext(E),L=new re(this),E.setNext(L),C=new je(this,{profileId:o}),L.setNext(C),R=new Z(this),C.setNext(R),$=new U(this),R.setNext($),z=this.match.getMatchState(),[4,D.processAsync(z)];case 1:return ne.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(Ol,"StartStrategyConcrete");var Ml=Ol,by=Ml;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Plugins3=Ludex.Plugins,tmp2=_Ludex_Plugins3.Analytics,_ref2=void 0===tmp2?{}:tmp2,Dy=_ref2.Events,_Ludex_Utils35=Ludex.Utils,Ov=_Ludex_Utils35.String,Nv=_Ludex_Utils35.Valid,Rl=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b,D,k,E;return _ts_generator(this,function(L){switch(L.label){case 0:return S().call(o,e),I=e.mode,b=e.customData,this.Ve(I),D=this.r.analytics,k=b.tournamentId,E=b.leaderboardId,Dy&&(null==D||D.event(Dy.TOURNAMENT_START,{success:!0,game_mode:Ov.toUpperCamelCase(I),tournament_id:k,leaderboard_id:E})),[4,this.s(e)];case 1:return L.sent(),[2]}})}).call(this)}},{key:"Ve",value:function value(e){if(!Nv.isString(e))throw new Mt}}]),r}(M);a(Rl,"LogTournamentStartHandler");var Nl=Rl,An=Nl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var kl=function(w){function r(t){var e;return _class_call_check(this,r),(e=_call_super(this,r,[t])).name="TournamentIdNotValid",e.message=null!=t?t:"Tournament id is not valid",e}return _inherits(r,w),r}(_wrap_native_super(Error));a(kl,"TournamentIdNotValid");var _l=kl,vn=_l,_Ludex_Utils36=Ludex.Utils,Gl=_Ludex_Utils36.Valid,Bl=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b,D,k,E;return _ts_generator(this,function(L){switch(L.label){case 0:return S().call(o,e),I=this.e.contextId,this.pa(I),[4,GameSDK.getTournamentAsync()];case 1:return D=(b=L.sent()).getID().toString(),k=b.getTournamentType(),this.ya(D),e.customData.contextId=I,e.customData.tournamentId=D,"DAILY"!==k&&(E=JSON.parse(b.getPayload()||"{}").leaderboardId,this.ma(E),e.customData.leaderboardId=E),[4,this.s(e)];case 2:return L.sent(),[2]}})}).call(this)}},{key:"pa",value:function value(e){if(!Gl.isString(e))throw new te}},{key:"ya",value:function value(e){if(!Gl.isString(e))throw new vn}},{key:"ma",value:function value(e){if(!Gl.isString(e)||""===e)throw new He}}]),r}(M);a(Bl,"ContinueTournamentHandler");var Fl=Bl,Iy=Fl,Vl=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R;return _ts_generator(this,function($){switch($.label){case 0:return $.trys.push([0,,2,3]),this.u(e),n=e.playerId,o=e.contextId,S=new F(this),I=new Iy(this,{contextId:o}),S.setNext(I),b=new J(this,{id:"1997",mode:q.TOURNAMENT,customData:{playerId:n}}),I.setNext(b),D=new re(this),b.setNext(D),k=new je(this,{profileId:n}),D.setNext(k),E=new Z(this),k.setNext(E),L=new An(this),E.setNext(L),C=new U(this),E.setNext(C),R=this.match.getMatchState(),[4,S.processAsync(R)];case 1:return $.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(Vl,"ContinueTournamentConcrete");var Ul=Vl,Ey=Ul;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Plugins4=Ludex.Plugins,tmp3=_Ludex_Plugins4.Analytics,_ref3=void 0===tmp3?{}:tmp3,Ly=_ref3.Events,Hl=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b,D,k;return _ts_generator(this,function(E){switch(E.label){case 0:return S().call(o,e),I=e.customData,b=this.r.analytics,D=I.tournamentId,k=I.leaderboardId,Ly&&b.event(Ly.TOURNAMENT_CREATE,{success:!0,tournament_id:D,leaderboard_id:k}),[4,this.s(e)];case 1:return E.sent(),[2]}})}).call(this)}}]),r}(M);a(Hl,"LogTournamentCreateHandler");var Kl=Hl,Cy=Kl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Wl=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){return _ts_generator(this,function(I){switch(I.label){case 0:return S().call(o,e),[4,this.Kn()];case 1:return I.sent(),[4,this.Vn(e)];case 2:return I.sent(),[4,this.s(e)];case 3:return I.sent(),[2]}})}).call(this)}},{key:"Kn",value:function value(){return _async_to_generator(function(){var e,n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:return n=(e=this.e).name,o=e.score,S=e.customData,[4,GameSDK.tournament.createAsync({initialScore:o,config:{title:n,tournamentTitle:n},data:S})];case 1:return I.sent(),[2]}})}).call(this)}},{key:"Vn",value:function value(e){return _async_to_generator(function(){var n,o,S,I;return _ts_generator(this,function(b){switch(b.label){case 0:if(b.trys.push([0,2,,3]),!("getTournamentAsync"in GameSDK))throw new K("getTournamentAsync");return[4,GameSDK.getTournamentAsync()];case 1:return o=(n=b.sent()).getContextID(),S=n.getID().toString(),I=this.e.playerId,e.customData.playerId=I,e.customData.contextId=o,e.customData.tournamentId=S,[3,3];case 2:return _instanceof(b.sent(),K)?[2]:[3,3];case 3:return[2]}})}).call(this)}}]),r}(M);a(Wl,"CreateTournamentHandler");var jl=Wl,Ty=jl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils37=Ludex.Utils,My=_Ludex_Utils37.Valid,ql=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),_define_property(n,"qe",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){return _ts_generator(this,function(I){switch(I.label){case 0:return S().call(o,e),this.Wn(),[4,this.zn(e)];case 1:return I.sent(),[4,this.Yn(e)];case 2:return I.sent(),[4,this.s(e)];case 3:return I.sent(),[2]}})}).call(this)}},{key:"Wn",value:function value(){var e=this.e.leaderboardId;if(!My.isString(e))throw new He}},{key:"xt",value:function value(e){if(!My.isString(e))throw new B}},{key:"zn",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b;return _ts_generator(this,function(D){return n=e.customData.playerId,this.xt(n),S=(o=this.e).name,I=o.leaderboardId,b=o.customData,this.qe={_id:I,name:null!=S?S:"",createdBy:n,description:JSON.stringify(b)},[2]})}).call(this)}},{key:"Yn",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return[4,this.r.leaderboard.createLeaderboardAsync(this.qe)];case 1:return n=o.sent(),e.customData.leaderboardId=n,[2]}})}).call(this)}}]),r}(M);a(ql,"CreateLeaderboardHandler");var zl=ql,Oy=zl,Jl=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$,z,ne;return _ts_generator(this,function(ce){switch(ce.label){case 0:return ce.trys.push([0,,2,3]),this.u(e),n=e.playerId,o=e.name,S=e.score,I=e.leaderboardId,b=e.payload,D=new F(this),k=new nt(this,{contextId:"SOLO"}),D.setNext(k),E=new Ty(this,{name:o,score:S,playerId:n,customData:b}),k.setNext(E),L=new je(this,{profileId:n}),E.setNext(L),C=new ot(this,{id:n,score:S}),L.setNext(C),R=new Oy(this,{name:o,customData:b,leaderboardId:I}),C.setNext(R),$=new Gt(this),R.setNext($),z=new Cy(this),$.setNext(z),ne=this.match.getMatchState(),[4,D.processAsync(ne)];case 1:return ce.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(Jl,"CreateTournamentConcrete");var Yl=Jl,Ny=Yl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Plugins5=Ludex.Plugins,Ry=_Ludex_Plugins5.Analytics,_Ludex_Utils38=Ludex.Utils,_y=_Ludex_Utils38.Valid,Xl=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){return _ts_generator(this,function(I){switch(I.label){case 0:return S().call(o,e),this.o(e),[4,this.qn(e)];case 1:return I.sent(),[4,this.s(e)];case 2:return I.sent(),[2]}})}).call(this)}},{key:"o",value:function value(e){var n=e.profiles,o=e.customData.playerId;if(this.xt(o),!n[o])throw new H}},{key:"xt",value:function value(e){if(!_y.isString(e))throw new B}},{key:"wt",value:function value(e){var n=e.profiles,o=e.customData.playerId;return this.xt(o),n[o]}},{key:"fo",value:function value(e){var n=this.wt(e),o=n.score,S=void 0===o?0:o,I=n.bestScore;return S>(void 0===I?0:I)}},{key:"qn",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L;return _ts_generator(this,function(C){switch(C.label){case 0:n=codex.analytics,S=void 0===(o=this.wt(e).score)?0:o,C.label=1;case 1:return C.trys.push([1,3,,4]),[4,this.assertSupportedTournamentContext()];case 2:return C.sent(),[3,4];case 3:return I=C.sent(),[2];case 4:k=(D=void 0===(b=this.e.openShareScorePopup)||b)?Ry.Events.TOURNAMENT_SHARE:Ry.Events.TOURNAMENT_POST_SCORE,C.label=5;case 5:return C.trys.push([5,10,,11]),D?[4,GameSDK.tournament.shareAsync({score:S})]:[3,7];case 6:return E=C.sent(),[3,9];case 7:return[4,GameSDK.tournament.postScoreAsync(S)];case 8:E=C.sent(),C.label=9;case 9:return null==n||n.event(k,{success:!0}),[3,11];case 10:return L=C.sent(),null==n||n.event(k,{success:!1}),_y.isObject(L)&&"code"in L&&"USER_INPUT"===L.code&&codex.event.emit(Ee.GAME_SDK_POPUP_RESPONDED,{type:"cancelled",extra:L}),[3,11];case 11:return[2]}})}).call(this)}},{key:"assertSupportedTournamentContext",value:function value(){if(!("getTournamentAsync"in GameSDK))throw new K("getTournamentAsync");return GameSDK.getTournamentAsync()}}]),r}(M);a(Xl,"PostScoreTournamentHandler");var Ql=Xl,ky=Ql,ed=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R,$;return _ts_generator(this,function(z){switch(z.label){case 0:return z.trys.push([0,,2,3]),this.u(e),n=e.playerId,o=e.bestScore,S=new F(this),I=new Ve(this,{useAPI:!1}),S.setNext(I),b=new ot(this,{id:n,bestScore:o}),I.setNext(b),D=new ky(this,e),b.setNext(D),k=new Ue(this),D.setNext(k),E=new Ke(this),k.setNext(E),L=new Gt(this),E.setNext(L),C=new at(this),L.setNext(C),R=new U(this),C.setNext(R),$=this.match.getMatchState(),[4,S.processAsync($)];case 1:return z.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(ed,"FinishTournamentConcrete");var Zl=ed,Gy=Zl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils39=Ludex.Utils,td=_Ludex_Utils39.Valid,Rv=_Ludex_Utils39.Object,nd=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I,b,D,k;return _ts_generator(this,function(E){switch(E.label){case 0:return S().call(o,e),I=this.e.tournamentId,this.ya(I),[4,this.Qn(I)];case 1:return E.sent(),[4,GameSDK.getTournamentAsync()];case 2:return D=(b=E.sent()).getContextID(),this.pa(D),k=JSON.parse(b.getPayload()||"{}").leaderboardId,this.ma(k),e.customData.contextId=D,e.customData.tournamentId=I,e.customData.leaderboardId=k,[4,this.s(e)];case 3:return E.sent(),[2]}})}).call(this)}},{key:"ya",value:function value(e){if(!td.isString(e))throw new vn}},{key:"pa",value:function value(e){if(!td.isString(e))throw new te}},{key:"ma",value:function value(e){if(!td.isString(e)||""===e)throw new He}},{key:"Qn",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:if(!("tournament"in GameSDK))throw new K("tournament");o.label=1;case 1:return o.trys.push([1,3,,4]),[4,GameSDK.tournament.joinAsync(e)];case 2:return o.sent(),[3,4];case 3:if(n=o.sent(),!Rv.hasOwn(n,"code")||"SAME_CONTEXT"!==n.code)throw n;return[3,4];case 4:return[2]}})})()}}]),r}(M);a(nd,"JoinTournamentHandler");var rd=nd,Fy=rd,od=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D,k,E,L,C,R;return _ts_generator(this,function($){switch($.label){case 0:return $.trys.push([0,,2,3]),this.u(e),n=e.playerId,o=e.tournamentId,S=new F(this),I=new Fy(this,{tournamentId:o}),S.setNext(I),b=new J(this,{id:"1997",mode:q.TOURNAMENT,customData:{playerId:n}}),I.setNext(b),D=new re(this),b.setNext(D),k=new je(this,{profileId:n}),D.setNext(k),E=new Z(this),k.setNext(E),L=new An(this),E.setNext(L),C=new U(this),L.setNext(C),R=this.match.getMatchState(),[4,S.processAsync(R)];case 1:return $.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),r}(G);a(od,"JoinTournamentConcrete");var ad=od,By=ad;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _v=Ludex.Dtos,kv=Ludex.Utils,Gv=kv.Object,id=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){var I;return _ts_generator(this,function(b){switch(b.label){case 0:return S().call(o,e),[4,this.Jn(e)];case 1:return I=b.sent(),this.fa(e,I),[4,this.s(e)];case 2:return b.sent(),[2]}})}).call(this)}},{key:"Jn",value:function value(e){return _async_to_generator(function(){var n,o,S,I;return _ts_generator(this,function(b){switch(b.label){case 0:return(S=e.id)?[4,this.te.api.getMatchAPI().getMatchDetailByIdAsync(S)]:[3,2];case 1:return I=null!=(n=null==(o=b.sent())?void 0:o.extraData)?n:{},[3,3];case 2:I={},b.label=3;case 3:return[2,I]}})}).call(this)}},{key:"fa",value:function value(e,n){var o=Gv.merge(e.customData,n);e.customData=new _v.Match.CustomData(o).toObject()}}]),r}(M);a(id,"GetMatchCustomDataHandler");var sd=id,Uy=sd;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Fv=Ludex.Dtos,Bv=Ludex.Utils,Uv=Bv.Object,ld=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t]),"e",void 0),n.e=e,n}return _inherits(r,w),_create_class(r,[{key:"processAsync",value:function value(e){var n=this,o=this,S=function S(){return _get(_get_prototype_of(r.prototype),"processAsync",n)};return _async_to_generator(function(){return _ts_generator(this,function(I){switch(I.label){case 0:return S().call(o,e),this.fa(e),[4,this.s(e)];case 1:return I.sent(),[2]}})}).call(this)}},{key:"fa",value:function value(e){var n=Uv.merge(e.customData,this.e);e.customData=new Fv.Match.CustomData(n).toObject()}}]),r}(M);a(ld,"SetMatchCustomDataHandler");var cd=ld,Vy=cd;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Vv={id:null,mode:null,status:null,startAt:0,finishAt:0,profiles:{},customData:N({},Rt)},Ky=Vv,Hy=Ludex.Configs,ud=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"Qe",void 0),_define_property(t,"group",void 0),_define_property(t,"single",void 0),_define_property(t,"context",void 0),_define_property(t,"strategy",void 0),_define_property(t,"challenge",void 0),_define_property(t,"tournament",void 0),_define_property(t,"api",void 0),_define_property(t,"handler",void 0),_define_property(t,"useCPUProfile",void 0),t}return _inherits(r,w),_create_class(r,[{key:"init",value:function value(){this.Xn(),this.Zn(),this.ei(),this.ti(),this.ai()}},{key:"setUseCPUProfile",value:function value(e){this.useCPUProfile=e}},{key:"Xn",value:function value(){this.codex.storage.addStorage("match",Ky)}},{key:"getMatchState",value:function value(){return this.codex.storage.getStorage("match")}},{key:"ei",value:function value(){this.Qe=new G(this.codex,this)}},{key:"ti",value:function value(){this.si(),this.ri(),this.ni(),this.ii(),this.oi(),this.li()}},{key:"ai",value:function value(){var e=this;this.handler={setProfileData:a(function(n){return _async_to_generator(function(){var o;return _ts_generator(this,function(S){switch(S.label){case 0:return o=new ot(this.Qe,n),[4,this.At(o)];case 1:return S.sent(),[2]}})}).call(e)},"setProfileData"),setMatchCustomData:a(function(n){return _async_to_generator(function(){var o;return _ts_generator(this,function(S){switch(S.label){case 0:return o=new Vy(this.Qe,n),[4,this.At(o)];case 1:return S.sent(),[2]}})}).call(e)},"setMatchCustomData"),getMatchCustomData:a(function(){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return n=new Uy(this.Qe),[4,this.At(n)];case 1:return o.sent(),[2]}})}).call(e)},"getMatchCustomData"),setLeaderboardScore:a(function(n){return _async_to_generator(function(){var o;return _ts_generator(this,function(S){switch(S.label){case 0:return o=new $n(this.Qe,n),[4,this.At(o)];case 1:return S.sent(),[2]}})}).call(e)},"setLeaderboardScore")}}},{key:"Zn",value:function value(){var e={appId:Hy.AppId,matchAPIHost:Hy.ApiHost};this.api=new Tf(e)}},{key:"si",value:function value(){this.group={join:new Py(this.codex,this),start:new wy(this.codex,this),finish:new gy(this.codex,this)}}},{key:"ri",value:function value(){this.single={start:new vy(this.codex,this),finish:new $y(this.codex,this)}}},{key:"ii",value:function value(){this.strategy={start:new by(this.codex,this),finish:new Sy(this.codex,this)}}},{key:"ni",value:function value(){this.context={choose:new hy(this.codex,this)}}},{key:"oi",value:function value(){this.challenge={invite:new ry(this.codex,this),friend:new Vf(this.codex,this),join:new cy(this.codex,this),await:new Gf(this.codex,this),result:new my(this.codex,this),finish:new Qf(this.codex,this),continue:new Wf(this.codex,this)}}},{key:"li",value:function value(){this.tournament={join:new By(this.codex,this),create:new Ny(this.codex,this),finish:new Gy(this.codex,this),continue:new Ey(this.codex,this)}}},{key:"At",value:function value(e){var n=this.getMatchState();return e.processAsync(n)}}]),r}(Ludex.Plugins.BasePlugin);a(ud,"MatchPlugin");var dd=ud,jy=dd;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils40=Ludex.Utils,mt=_Ludex_Utils40.Valid,ht="is invalid",pd=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"Q",value:function value(e){this.Z(e)}},{key:"q",value:function value(e){this.J(e)}},{key:"o",value:function value(e){this.X(e)}},{key:"validateLevel",value:function value(e){(!mt.isNumber(e)||e<0)&&this.a("level",ht)}},{key:"validateRescued",value:function value(e){(!mt.isNumber(e)||e<0)&&this.a("rescued",ht)}},{key:"validateContextId",value:function value(e){mt.isString(e)||this.a("contextId",ht)}},{key:"validatePlayerId",value:function value(e){mt.isString(e)||this.a("playerId",ht)}},{key:"validateOpponentId",value:function value(e){mt.isString(e)||null===e||this.a("opponentId",ht)}},{key:"validateTournamentId",value:function value(e){mt.isString(e)||null===e||this.a("tournamentId",ht)}},{key:"validateLeaderboardId",value:function value(e){mt.isString(e)||null===e||this.a("leaderboardId",ht)}},{key:"toObject",value:function value(){return _get(_get_prototype_of(r.prototype),"toObject",this).call(this)}}]),r}(ae);a(pd,"MatchCustomDataDtos");var sr=pd;sr.makeStrict(),sr.addDefaults(Rt);var Wy=sr;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils41=Ludex.Utils,Ft=_Ludex_Utils41.Valid,Bt="is invalid",md=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"Q",value:function value(e){this.Z(e)}},{key:"q",value:function value(e){this.J(e)}},{key:"o",value:function value(e){this.X(e)}},{key:"validateId",value:function value(e){Ft.isString(e)&&e||this.a("id",Bt)}},{key:"validateName",value:function value(e){Ft.isString(e)&&e||this.a("name",Bt)}},{key:"validatePhoto",value:function value(e){Ft.isString(e)||this.a("photo",Bt)}},{key:"validateScore",value:function value(e){(!Ft.isNumber(e)||e<0)&&this.a("score",Bt)}},{key:"validateBestScore",value:function value(e){(!Ft.isNumber(e)||e<0)&&this.a("bestScore",Bt)}},{key:"validateFinished",value:function value(e){Ft.isBoolean(e)||this.a("finished",Bt)}},{key:"toObject",value:function value(){return _get(_get_prototype_of(r.prototype),"toObject",this).call(this)}}]),r}(ae);a(md,"MatchProfileDtos");var Sn=md;Sn.addDefaults({id:"10",name:"Your Friend",photo:null,score:0,bestScore:0,finished:!1});var zy=Sn;Ludex.Dtos.Match={Data:wn,Profile:zy,CustomData:Wy};var qy=jy;_(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils42=Ludex.Utils,Kv=_Ludex_Utils42.Object,_Ludex_Configs9=Ludex.Configs,Yy=_Ludex_Configs9.ApiHost,Hv=a(function(){var w="players";return GameSDK.isGameSDK("MsGames")?w+="?platform=ms-games":GameSDK.isGameSDK("Yandex")&&(w+="?platform=yandex"),w},"getUrl"),Jy=a(function(w){return _async_to_generator(function(){var r;return _ts_generator(this,function(t){switch(t.label){case 0:return Yy?[4,Ae(Hv(),w,{},Yy,10)]:[2,{}];case 1:return r=t.sent(),[2,Kv.hasOwn(r,"data")&&r.data||{}]}})})()},"updatePlayerProfileAsync"),_Ludex_Utils43=Ludex.Utils,jv=_Ludex_Utils43.Array,bn=_Ludex_Utils43.Object,Wv=_Ludex_Utils43.Valid,Qy=_Ludex_Utils43.Function,_Ludex_Configs10=Ludex.Configs,zv=_Ludex_Configs10.AppId,_Ludex_Events=Ludex.Events,qv=_Ludex_Events.PLAYER_SETTINGS_CHANGED,fd=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"ci",Qy.mutex()),_define_property(t,"ls",!1),t}return _inherits(r,w),_create_class(r,[{key:"init",value:function value(){this.codex.storage.addStorage("player",De)}},{key:"receiveData",value:function value(e,n){var o=this.codex.storage,S=e.playerId,I=e.name,b=e.photo,D=e.locale;o.setStorageData("player","playerId",S),o.setStorageData("player","name",I),o.setStorageData("player","photo",b),o.setStorageData("player","locale",D),n&&(this.setPlayerData(n),this.ls=!n.isFirstLogin)}},{key:"syncDataToSDK",value:function value(){return _async_to_generator(function(){var e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return[4,this.ci.use("syncDataToSDK")];case 1:e=S.sent(),S.label=2;case 2:return S.trys.push([2,4,5,6]),n=this.getPlayerData(),[4,GameSDK.player.setDataAsync(n)];case 3:return S.sent(),[3,6];case 4:return o=S.sent(),[3,6];case 5:return e.release(),[7];case 6:return[2]}})}).call(this)}},{key:"syncProfileToServer",value:function value(){return _async_to_generator(function(){var e,n,o,S,I,b,D,k,E;return _ts_generator(this,function(L){switch(L.label){case 0:if(GameSDK.extra.isGuest)throw Error("Guest player cannot sync profile to server");return e=this.codex.storage,o=(n=this.getPlayer()).playerId,S=n.name,I=n.photo,b=n.locale,D=this.getPlayerASID(),!Wv.isString(D)&&"getASIDAsync"in GameSDK.player?[4,Qy.handleAsync(GameSDK.player.getASIDAsync(),1e4)]:[3,2];case 1:E=(k=_sliced_to_array.apply(void 0,[L.sent(),2]))[0],!k[1]&&E&&(D=E,e.setStorageData("player","ASID",D)),L.label=2;case 2:return[4,Jy({appId:zv,ASID:D,playerId:o,name:S,photo:I,locale:b})];case 3:return L.sent(),[2]}})}).call(this)}},{key:"setPlayerDataByName",value:function value(e,n){this.setPlayerData(_define_property({},e,n))}},{key:"setPlayerData",value:function value(e){this.codex.storage.setStorageData("player","data",e),this.syncDataToSDK()}},{key:"setBestScore",value:function value(e){this.setPlayerDataByName("score",e)}},{key:"setSetting",value:function value(e,n){var o=this.codex.event;this.setPlayerDataByName("settings",_define_property({},e,n)),o.emit(qv,{name:e,value:n})}},{key:"setGameData",value:function value(e){var n,o=null!=(n=this.getGameData())?n:{},S=bn.merge(o,e);this.setPlayerDataByName("gameData",S)}},{key:"requestConnectedPlayers",value:function value(){return _async_to_generator(function(){var e,n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:return e=this.codex.storage,[4,GameSDK.player.getConnectedPlayersAsync()];case 1:return n=I.sent().map(function(b){var D=b.getID(),k=b.getName(),E=b.getPhoto();return D&&k&&E?new It({playerId:D,name:k,photo:E}).toObject():null}),(o=jv.unique(n)).length<1||(S=bn.keyBy(o,"playerId"),e.setStorageData("player","connectedPlayers",S)),[2]}})}).call(this)}},{key:"getPlayer",value:function value(){return this.codex.storage.getStorage("player")}},{key:"getPlayerId",value:function value(){var e;return null!=(e=this.codex.storage.getStorageData("player","playerId"))?e:""}},{key:"getPlayerASID",value:function value(){var e;return null!=(e=this.codex.storage.getStorageData("player","ASID"))?e:null}},{key:"getPlayerLocale",value:function value(){var e;return null!=(e=this.codex.storage.getStorageData("player","locale"))?e:""}},{key:"getPlayerData",value:function value(){var e;return null!=(e=this.codex.storage.getStorageData("player","data"))?e:De.data}},{key:"getPlayerDataByKey",value:function value(e){var n=this.getPlayerData();return bn.hasOwn(n,e)?n[e]:null}},{key:"getGameData",value:function value(){return this.getPlayerDataByKey("gameData")}},{key:"getPlayerSetting",value:function value(e){var n=this.getPlayerSettings();return bn.hasOwn(n,e)?n[e]:null}},{key:"getPlayerSettings",value:function value(){return this.getPlayerData().settings}},{key:"isFirstLogin",value:function value(){var e;return null!=(e=this.getPlayerDataByKey("isFirstLogin"))?e:De.data.isFirstLogin}},{key:"isFirstSession",value:function value(){return!this.ls}},{key:"loggedIn",value:function value(){this.setPlayerDataByName("isFirstLogin",!1)}},{key:"getBestScore",value:function value(){return this.getPlayerData().score}},{key:"getConnectedPlayers",value:function value(){var e;return null!=(e=this.codex.storage.getStorageData("player","connectedPlayers"))?e:{}}},{key:"getConnectedPlayerIds",value:function value(e,n){return Object.keys(this.getConnectedPlayers()).slice(n,n+e)}},{key:"getNotificationData",value:function value(){var e;return null!=(e=this.getPlayerDataByKey("notificationData"))?e:De.data.notificationData}}]),r}(Ludex.Plugins.BasePlugin);a(fd,"PlayerPlugin");var hd=fd,Xy=hd;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Zy=Ludex.Dtos,_Ludex_Utils44=Ludex.Utils,de=_Ludex_Utils44.Valid,HDt=_Ludex_Utils44.Object,_De_data=De.data,Yv=_De_data.score,Jv=_De_data.settings,Qv=_De_data.gameData,Xv=_De_data.isFirstLogin,Zv=_De_data.missionsData,eS=_De_data.notificationData,tS=_De_data.dailyRewardedData,rS=_De_data.lastCallSwitchGame,ue="is invalid",yd=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"Ma",value:function value(e){de.isObject(e)&&(e.settings=new Zy.Player.Settings(e.settings).toObject(),e.gameData=new Zy.Player.GameData(e.gameData).toObject())}},{key:"Q",value:function value(e){this.Z(e)}},{key:"q",value:function value(e){this.J(e)}},{key:"o",value:function value(e){this.X(e)}},{key:"validateScore",value:function value(e){(!de.isNumber(e)||e<0)&&this.a("score",ue)}},{key:"validateSettings",value:function value(e){de.isObject(e)||this.a("settings",ue)}},{key:"validateMissionsData",value:function value(e){de.isObject(e)||this.a("missionsData",ue),"process"in e&&de.isObject(e.process)||this.a("missionsData.process",ue)}},{key:"validateNotificationData",value:function value(e){de.isObject(e)||this.a("notificationData",ue),"D1"in e&&de.isObject(e.D1)||this.a("notificationData.D1",ue),"D2"in e&&de.isObject(e.D2)||this.a("notificationData.D2",ue),"D3"in e&&de.isObject(e.D3)||this.a("notificationData.D3",ue),"D4"in e&&de.isObject(e.D4)||this.a("notificationData.D4",ue),"D5"in e&&de.isObject(e.D5)||this.a("notificationData.D5",ue),"D6"in e&&de.isObject(e.D6)||this.a("notificationData.D6",ue),"D7"in e&&de.isObject(e.D7)||this.a("notificationData.D7",ue)}},{key:"validateGameData",value:function value(e){de.isObject(e)||this.a("gameData",ue)}},{key:"validateIsFirstLogin",value:function value(e){de.isBoolean(e)||this.a("isFirstLogin",ue)}},{key:"validateDailyRewardedData",value:function value(e){de.isObject(e)||this.a("dailyRewardedData",ue)}},{key:"validateLastCallSwitchGame",value:function value(e){de.isNumber(e)||this.a("lastCallSwitchGame",ue),e<0&&this.a("lastCallSwitchGame",ue)}},{key:"toObject",value:function value(){return _get(_get_prototype_of(r.prototype),"toObject",this).call(this)}}]),r}(ae);a(yd,"PlayerDataDtos");var Dn=yd;Dn.addDefaults({score:Yv,settings:Jv,gameData:Qv,isFirstLogin:Xv,missionsData:Zv,notificationData:eS,dailyRewardedData:tS,lastCallSwitchGame:rS});var eg=Dn;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils45=Ludex.Utils,tg=_Ludex_Utils45.Valid,_De_data_gameData=De.data.gameData,nS=_De_data_gameData.level,aS=_De_data_gameData.coins,gd=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"Q",value:function value(e){this.Z(e)}},{key:"q",value:function value(e){this.J(e)}},{key:"o",value:function value(e){this.X(e)}},{key:"validateLevel",value:function value(e){(!tg.isNumber(e)||e<0)&&this.a("level","is invalid")}},{key:"validateCoins",value:function value(e){(!tg.isNumber(e)||e<0)&&this.a("coins","is invalid")}},{key:"toObject",value:function value(){return _get(_get_prototype_of(r.prototype),"toObject",this).call(this)}}]),r}(ae);a(gd,"PlayerGameDataDtos");var In=gd;In.addDefaults({level:nS,coins:aS});var rg=In;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils46=Ludex.Utils,En=_Ludex_Utils46.Valid,_De_data_settings=De.data.settings,oS=_De_data_settings.sound,sS=_De_data_settings.music,iS=_De_data_settings.vibrate,cS=_De_data_settings.language,Ln="is invalid",Pd=function(w){function r(){return _class_call_check(this,r),_call_super(this,r,arguments)}return _inherits(r,w),_create_class(r,[{key:"Q",value:function value(e){this.Z(e)}},{key:"q",value:function value(e){this.J(e)}},{key:"o",value:function value(e){this.X(e)}},{key:"validateSound",value:function value(e){En.isBoolean(e)||this.a("sound",Ln)}},{key:"validateMusic",value:function value(e){En.isBoolean(e)||this.a("music",Ln)}},{key:"validateVibrate",value:function value(e){En.isBoolean(e)||this.a("vibrate",Ln)}},{key:"validateLanguage",value:function value(e){En.isString(e)&&e||this.a("language",Ln)}},{key:"toObject",value:function value(){return _get(_get_prototype_of(r.prototype),"toObject",this).call(this)}}]),r}(ae);a(Pd,"PlayerSettingsDtos");var Cn=Pd;Cn.addDefaults({sound:oS,music:sS,vibrate:iS,language:cS});var ng=Cn;Ludex.Dtos.Player={Info:It,Data:eg,Settings:ng,GameData:rg};var ag=Xy;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Configs11=Ludex.Configs,og=_Ludex_Configs11.ApiHost,lS=_Ludex_Configs11.Mockup,_Ludex_Utils47=Ludex.Utils,dS=_Ludex_Utils47.Object,uS=_Ludex_Utils47.String,wd=function(){function w(){_class_call_check(this,w),_define_property(this,"I",void 0)}return _create_class(w,[{key:"ue",value:function value(){return _async_to_generator(function(){var t;return _ts_generator(this,function(e){switch(e.label){case 0:return this.I?[2]:[4,Promise.resolve().then(function(){return _(),Q})];case 1:if("function"!=typeof(t=e.sent().default))throw Error("Cannot load ProfileAPIMock");return this.I=new t,[2]}})}).call(this)}},{key:"getPlayersAsync",value:function value(t){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return e=uS.params(t),lS.Profile.Enabled?[4,this.ue()]:[3,3];case 1:return o.sent(),[4,this.I.getPlayersAsync(t)];case 2:return n=o.sent(),[3,5];case 3:return og?[4,qe("players?".concat(e),{},og)]:[2,[]];case 4:n=o.sent(),o.label=5;case 5:return[2,dS.hasOwn(n,"data")&&Array.isArray(n.data)?n.data:[]]}})}).call(this)}}]),w}();a(wd,"ProfileAPI");var xd=wd,sg=xd;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var pS={profiles:{},profileIds:[]},$d=pS,mS=Ludex.Utils,hS=Ludex.Dtos,ig=mS.Array,fS=mS.Valid,yS=mS.Object,gS=mS.Function,vd=function(w){function r(){var t;return _class_call_check(this,r),t=_call_super(this,r,arguments),_define_property(t,"di",new sg),t}return _inherits(r,w),_create_class(r,[{key:"init",value:function value(){this.codex.storage.addStorage("profile",$d)}},{key:"requestProfiles",value:function value(e){return _async_to_generator(function(){var n,o,S,I,b,D;return _ts_generator(this,function(k){switch(k.label){case 0:return n=this,o=this.getProfileIds(),(S=ig.difference(e,o)).length<1?[2]:(I=ig.chunk(S,400).map(function(E){return n.di.getPlayersAsync({playerIds:E})}),[4,gS.allSettled(I)]);case 1:return b=k.sent().reduce(function(E,L){return"fulfilled"===L.status?E.concat(L.value):E},[]),this.hi(b)&&(D=this.ui(b),this.pi(D)),[2]}})}).call(this)}},{key:"getProfile",value:function value(e){var n;return null!=(n=this.getProfiles()[e])?n:null}},{key:"getProfiles",value:function value(){var e;return null!=(e=this.codex.storage.getStorageData("profile","profiles"))?e:$d.profiles}},{key:"pi",value:function value(e){var n=this.codex.storage;n.setStorageData("profile","profiles",e),n.setStorageData("profile","profileIds",Object.keys(e))}},{key:"getProfileIds",value:function value(){var e;return null!=(e=this.codex.storage.getStorageData("profile","profileIds"))?e:[]}},{key:"hi",value:function value(e){return!(!Array.isArray(e)||e.length<1)}},{key:"ui",value:function value(e){var n={},o=!0,S=!1,I=void 0;try{for(var b,D=e[Symbol.iterator]();!(o=(b=D.next()).done);o=!0){var k=b.value;yS.hasOwn(k,"playerId")&&fS.isString(k.playerId)&&(n[k.playerId]=new hS.Player.Info(k).toObject())}}catch(E){S=!0,I=E}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}return n}}]),r}(Ludex.Plugins.BasePlugin);a(vd,"ProfilePlugin");var Ad=vd,cg=Ad,lg=cg;_(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var dg="Save The Pets",_Ludex_Utils48=Ludex.Utils,Sd=_Ludex_Utils48.Object,ug=_Ludex_Utils48.Valid,pg=_Ludex_Utils48.Browser,Dd=function(w){function r(t){var e;return _class_call_check(this,r),_define_property(e=_call_super(this,r,[t]),"Ee",void 0),_define_property(e,"cs",{}),e.Ee={},e}return _inherits(r,w),_create_class(r,[{key:"addStorage",value:function value(e,n){return _async_to_generator(function(o,S){var I,b,D=arguments;return _ts_generator(this,function(k){switch(k.label){case 0:return I=D.length>2&&void 0!==D[2]&&D[2],this.Ee[o]=S,(b=I)?[4,this.yi(o,S)]:[3,2];case 1:b=k.sent(),k.label=2;case 2:return[2]}})}).apply(this,arguments)}},{key:"yi",value:function value(e,n){return _async_to_generator(function(){var o,S,I,b,D,k,E,L;return _ts_generator(this,function(C){switch(C.label){case 0:return this.cs[e]=!0,[4,pg.getIndexedDB("".concat(dg,"_S_").concat(e))];case 1:if(o=C.sent(),!ug.isObject(o))return[2];S=Object.keys(n),I=!0,b=!1,D=void 0;try{for(k=S[Symbol.iterator]();!(I=(E=k.next()).done);I=!0)L=E.value,Sd.hasOwn(o,L)&&_type_of(n[L])==_type_of(o[L])&&this.setStorageData(e,L,o[L])}catch(R){b=!0,D=R}finally{try{I||null==k.return||k.return()}finally{if(b)throw D}}return[2]}})}).call(this)}},{key:"initStorageData",value:function value(e,n,o){this.Ee[e][n]=o}},{key:"setStorageData",value:function value(e,n,o){var S;if(ug.isObject(o)){var I=this.getStorageData(e,n);S=Sd.merge(I,o)}else S=o;this.Ee[e][n]=S}},{key:"getStorageData",value:function value(e,n){return this.getStorage(e)[n]}},{key:"getStorage",value:function value(e){return this.Ee[e]}},{key:"updateToWebStorage",value:function value(e){return _async_to_generator(function(n){var o,S,I=arguments;return _ts_generator(this,function(b){return o=this,S=I.length>1&&void 0!==I[1]&&I[1],this.cs[n]&&requestAnimationFrame(function(){return o.mi(n,S)}),[2]})}).apply(this,arguments)}},{key:"mi",value:function value(e){return _async_to_generator(function(n){var o,S,I=arguments;return _ts_generator(this,function(b){switch(b.label){case 0:return o=I.length>1&&void 0!==I[1]&&I[1],S=this.getStorage(n),[4,pg.setIndexedDB("".concat(dg,"_S_").concat(n),S)];case 1:return b.sent(),o&&Sd.assign(this.Ee[n],{}),[2]}})}).apply(this,arguments)}}]),r}(Ludex.Plugins.BasePlugin);a(Dd,"StoragePlugin");var bd=Dd,mg=bd,hg=mg;_(),_(),_(),_(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils49=Ludex.Utils,fg=_Ludex_Utils49.Object,_Ludex_Plugins6=Ludex.Plugins,_Ludex_Plugins_Ads=_Ludex_Plugins6.Ads,We=_Ludex_Plugins_Ads.Status,Je=_Ludex_Plugins_Ads.Types,Tn=_Ludex_Plugins_Ads.AdError,PS=_Ludex_Plugins_Ads.AdInstance,Ed=function(w){function r(t,e){var n;return _class_call_check(this,r),_define_property(n=_call_super(this,r,[t,e]),"R",void 0),_define_property(n,"B",void 0),_define_property(n,"Je",[]),n.R=GameSDK.getSDKName(),n.B=null,n}return _inherits(r,w),_create_class(r,[{key:"setInstance",value:function value(e){e||this.setStatus(We.IDLE),this.B=e}},{key:"loadAsync",value:function value(){return _async_to_generator(function(){var e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:if(this.B&&this.status===We.FILLED)return[3,5];if(this.status!==We.IDLE)throw new Tn("AD_NOT_READY","Ad is not ready.");S.label=1;case 1:return S.trys.push([1,4,,5]),[4,this.fi(this.type)];case 2:if(e=S.sent(),this.setInstance(e),null===this.B)throw new Tn("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");return this.setStatus(We.LOADING),[4,this.B.loadAsync()];case 3:return S.sent(),this.setStatus(We.FILLED),this.gi(),[3,5];case 4:throw n=S.sent(),this.setStatus(We.IDLE),_instanceof(n,Object)&&"code"in n&&"INVALID_PARAM"===n.code&&this.setInstance(null),this.B&&this.wi(this.B),null==(o=self.codex.analytics)||o.loadAdFail({type:this.type,service:this.R}),n;case 5:return[2]}})}).call(this)}},{key:"showAsync",value:function value(){return _async_to_generator(function(){var e,n,o,S;return _ts_generator(this,function(I){switch(I.label){case 0:if(this.status!==We.FILLED)throw new Tn("AD_NOT_FILLED","Ad is not filled.");if(null===this.B)throw new Tn("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");e=!1,I.label=1;case 1:return I.trys.push([1,3,4,5]),this.setStatus(We.SHOWING),null==(n=self.codex.analytics)||n.showingAd({type:this.type,service:this.R}),[4,this.B.showAsync()];case 2:return I.sent(),e=!0,this.setInstance(null),[3,5];case 3:throw o=I.sent(),fg.hasOwn(o,"code")&&("AD_NOT_LOADED"===o.code&&this.setStatus(We.IDLE),["INVALID_PARAM","INVALID_OPERATION","USER_INPUT"].indexOf("".concat(o.code))>-1&&this.setInstance(null),"USER_INPUT"===o.code&&(e=!0)),this.status===We.SHOWING&&this.setInstance(null),o;case 4:return e?this.xi():null==(S=self.codex.analytics)||S.showAdFail({type:this.type,service:this.R}),[7];case 5:return[2]}})}).call(this)}},{key:"fi",value:function value(e){return _async_to_generator(function(){var n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.Ai(e)];case 1:return[2,o.sent()];case 2:return n=o.sent(),[2,fg.hasOwn(n,"code")&&"ADS_TOO_MANY_INSTANCES"===n.code?this.vi():null];case 3:return[2]}})}).call(this)}},{key:"Ai",value:function value(e){return _async_to_generator(function(){return _ts_generator(this,function(n){switch(e){case Je.REWARDED_VIDEO:return[2,GameSDK.getRewardedVideoAsync(this.placementId)];case Je.INTERSTITIAL:return[2,GameSDK.getInterstitialAdAsync(this.placementId)];case Je.REWARDED_INTERSTITIAL:return[2,GameSDK.getRewardedInterstitialAsync(this.placementId)];default:return[2,null]}})}).call(this)}},{key:"vi",value:function value(){if(!("canLoadAd"in GameSDK.extra))return this.Je.shift()||null;var e=!0,n=!1,o=void 0;try{for(var S,I=this.Je[Symbol.iterator]();!(e=(S=I.next()).done);e=!0){var b=S.value;if(GameSDK.extra.canLoadAd(b))return this.Je.splice(this.Je.indexOf(b),1),b}}catch(D){n=!0,o=D}finally{try{e||null==I.return||I.return()}finally{if(n)throw o}}return null}},{key:"gi",value:function value(){var e,n,o;switch(this.type){case Je.INTERSTITIAL:null==(e=self.codex.analytics)||e.loadInterstitialAd({service:this.R});break;case Je.REWARDED_VIDEO:null==(n=self.codex.analytics)||n.loadRewardedVideoAd({service:this.R});break;case Je.REWARDED_INTERSTITIAL:null==(o=self.codex.analytics)||o.loadRewardedInterstitialAd({service:this.R})}}},{key:"xi",value:function value(){var e,n,o;switch(this.type){case Je.INTERSTITIAL:null==(e=self.codex.analytics)||e.showInterstitialAd({service:this.R});break;case Je.REWARDED_VIDEO:null==(n=self.codex.analytics)||n.showRewardedVideoAd({service:this.R});break;case Je.REWARDED_INTERSTITIAL:null==(o=self.codex.analytics)||o.showRewardedInterstitialAd({service:this.R})}}},{key:"wi",value:function value(e){this.Je.push(e)}}]),r}(PS);a(Ed,"NormalAdInstance");var Id=Ed,yg=Id;_(),_(),_(),_(),_(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Plugins_Analytics=Ludex.Plugins.Analytics,xS=_Ludex_Plugins_Analytics.BaseAnalytics,st=_Ludex_Plugins_Analytics.Events,wS=[st.SCREEN_OPEN],_Ludex_Utils50=Ludex.Utils,$S=_Ludex_Utils50.Array,Cd=function(w){function r(t,e){return _class_call_check(this,r),_call_super(this,r,[t,"GoogleAnalytics",be(N({},e),{color:"#E35335"})])}return _inherits(r,w),_create_class(r,[{key:"wr",value:function value(e,n){$S.has(wS,e)||(this.Pi(e,n),gtag("event",e,n))}},{key:"Pi",value:function value(e,n){switch(e){case st.AD_LOAD:case st.AD_LOAD_FAILED:case st.AD_SHOW:case st.AD_SHOW_FAILED:case st.AD_SHOWING:case st.USE_ITEM:case st.EARN_ITEM:this.Ii(n)}}},{key:"Ii",value:function value(e){if(e&&null!=(n=this.codex)&&n.match){var n,o=this.codex.match.getMatchState().customData.level;!o||o<0||(e.level_name=this.getLevelName(o))}}}]),r}(xS);a(Cd,"GoogleAnalytics");var Ld=Cd,Mn=Ld;_(),_(),_(),_(),wr();var gg="production",Td=7,AS=Ludex.Dtos,it=Ludex.Events,_Ludex_Configs12=Ludex.Configs,vS=_Ludex_Configs12.AppId,Qe=_Ludex_Configs12.Ads,SS=_Ludex_Configs12.Context,ze=_Ludex_Configs12.Debugger,Pg=_Ludex_Configs12.Firebase,ir=_Ludex_Configs12.Analytics,bS=_Ludex_Configs12.Notification,DS=_Ludex_Configs12.RemoteConfig,IS=_Ludex_Configs12.PerformanceMonitor,xg=_Ludex_Configs12.AdaptivePerformance,ES=Ludex.Plugins,_Ludex_Utils51=Ludex.Utils,LS=_Ludex_Utils51.Device,wg=_Ludex_Utils51.Object,cr=_Ludex_Utils51.Json,$g=_Ludex_Utils51.String,CS=_Ludex_Utils51.Valid,TS=_Ludex_Utils51.Time,Ag=_Ludex_Utils51.Function,vg=_Ludex_Utils51.Mark,Od=function(w){function r(){var t,e;return _class_call_check(this,r),t=_call_super(this,r,arguments),e=t,_define_property(t,"y","Core Initialize"),_define_property(t,"me",[]),_define_property(t,"ds",a(function(){return _async_to_generator(function(){var n,o,S,I,b,D,k,E;return _ts_generator(this,function(L){switch(L.label){case 0:if(!SS.Enabled)return[3,4];L.label=1;case 1:return L.trys.push([1,3,,4]),null==(n=e.mark)||n.putAttr(e.y,"Step","Process Context Payload"),[4,null==(o=e.context)?void 0:o.detectContextSessionType()];case 2:return L.sent(),null==(S=e.context)||S.detectContextGameMode(),D=null==(I=e.context)?void 0:I.getSessionContextType(),null==(b=e.mark)||b.putAttr(e.y,"Context Mode",null!=D?D:"unknown"),[3,4];case 3:return k=L.sent(),null==(E=e.monitorError)||E.sendException(Ag.toError(k)),[3,4];case 4:return[2]}})})()},"processContextSession$")),_define_property(t,"qi",a(function(){var n,o=ze.ListPlayerDevIds,S=null==(n=t.player)?void 0:n.getPlayerId();"development"!==gg&&S&&0>o.indexOf(S)||(t.eo(),t.to())},"addDevPlugins$")),_define_property(t,"ki",a(function(){t.event.getEventEmitCount(Ee.MODULE_PLUGIN_READY)<t.me.length||(window.codex=Object.freeze(window.codex),xt(window,"codex"))},"handleProtectGameInstance$")),_define_property(t,"Ki",a(function(){if(t.canvasRecorder){var n=ze.CanvasRecorder,o=n.Options,S=o.Type,I=o.Quality,b=o.RecordFps,D=o.SyncFps;t.canvasRecorder.configure({type:S,quality:I,syncFps:D,recordFps:b}),t.canvasRecorder.setPanelExpanded(n.PanelExpanded)}},"initCanvasRecorderPlugin$")),_define_property(t,"Bi",a(function(){if(t.monitorError){var n,o,S,I,b=ze.MonitorError,D=ze.ListPlayerDevIds,k=b.ApiKey,E=b.Service,L=b.TrackUser,C=b.FilterErrors,R=null!=(n=null==(o=t.player)?void 0:o.getPlayer())?n:{},$=R.playerId,z=R.name;$&&"0000"!==$&&D.indexOf($)>=0||(null==(S=(I=window).disableSimpleTrackErrors)||S.call(I),t.monitorError.configure({apiKey:k,service:E,trackUser:L,releaseStage:gg,buildVersion:"".concat(null!=Td?Td:1)}),t.monitorError.setUser({id:null!=$?$:null,name:null!=z?z:null}),t.monitorError.addFilterErrors(C),t.oo(),t.lo())}},"initMonitorErrorPlugin$")),_define_property(t,"oo",a(function(){t.event.catchUp(it.PLAYER_INFO_LOADED,t.co)},"updateMonitorErrorUserAndMetadata$")),_define_property(t,"lo",a(function(){if(t.monitorError&&Array.isArray(window.__errorQueue)){var n=!0,o=!1,S=void 0;try{for(var I,b=window.__errorQueue[Symbol.iterator]();!(n=(I=b.next()).done);n=!0){var D=I.value;if(_instanceof(D,Error))t.monitorError.sendException(D);else{var k=Ag.toError(D);t.monitorError.sendException(k)}}}catch(E){o=!0,S=E}finally{try{n||null==b.return||b.return()}finally{if(o)throw S}}window.__errorQueue=null}},"processErrorsQueue$")),_define_property(t,"co",a(function(){if(t.player&&t.monitorError){var n=t.player.getPlayer(),o=n.playerId,S=n.name;t.monitorError.setUser({id:o,name:S}),t.monitorError.addMetadata({isFirstSession:t.player.isFirstSession()})}},"processWhenPlayerInfoLoaded$")),_define_property(t,"ho",a(function(n){try{var o,S=_define_property({},n.type,n);null==(o=t.player)||o.setPlayerDataByName("remoteConfig",S)}catch(unused){}},"handleSaveRemoteConfig$")),_define_property(t,"uo",a(function(n){try{var o,S=n.id,I=n.type;if("Ludex"!==I)return;Ludex.Configs=wg.merge(Ludex.Configs,n.config);var b=Ludex.Configs.Ads;null==(o=t.ads)||o.configure(b),t.event.emit(Ee.REMOTE_CONFIG_UPDATED,{id:S,type:I})}catch(unused){}},"handleUpdateLudexConfig$")),_define_property(t,"po",a(function(){if(t.player&&t.remoteConfig){var n=t.player.getPlayerDataByKey("remoteConfig");if(n){for(var o in n)if(wg.hasOwn(n,o)){var S=n[o],I=cr.clone(S),b=new AS.RemoteConfig.Data(I).toObject();t.remoteConfig.setRemoteConfig(b),t.remoteConfig.processUpdateConfig(b.id,b.type)}}}},"handleStorageCurrentRemoteConfig$")),_define_property(t,"Wi",a(function(){if(t.adaptivePerformance){var n=cr.clone(xg);t.adaptivePerformance.configure(n)}},"initAdaptivePerformancePlugin$")),_define_property(t,"Yi",a(function(){if(t.inputRecorder){var n=ze.InputRecorder,o=cr.clone(n);o&&t.inputRecorder.configure(o)}},"initInputRecorderPlugin$")),_define_property(t,"yo",a(function(){bS.Enabled&&t.mo()},"processAfterSyncProfile$")),t}return _inherits(r,w),_create_class(r,[{key:"getBuildVersion",value:function value(){return parseInt(Td,10)||0}},{key:"boot",value:function value(){var e=this,n=this,o=function o(){return _get(_get_prototype_of(r.prototype),"boot",e)};return _async_to_generator(function(){var S,I,b,D;return _ts_generator(this,function(k){return o().call(n),this.Di(),this.Si(),this.event.emit(it.CORE_BOOTING),this.Ei(),this.bi(),this.Li(),ir.Enabled&&(null==(S=this.mark)||S.putAttr(this.y,"Step","Init Analytics"),this.Oi(),this._i(),this.Ni(),this.Ti(),this.Ci(),this.Ri(),this.Mi(),this.$i()),null==(I=this.mark)||I.putAttr(this.y,"Step","Init Plugins"),this.Gi(),this.Ui(),this.Fi(),null==(b=this.mark)||b.putAttr(this.y,"Step","Load Lazy Plugins"),CS.isDebugger()||this.event.on(it.MODULE_PLUGIN_READY,this.ki),this.ji().then(this.Bi),this.Hi().then(this.Ki),this.Vi().then(this.Wi),this.zi().then(this.Yi),null==(D=this.mark)||D.putAttr(this.y,"Step","Load Dev Plugins"),this.event.catchUp(it.GAME_SDK_READY,this.qi),[2]})}).call(this)}},{key:"Ei",value:function value(){return _async_to_generator(function(){return _ts_generator(this,function(e){switch(e.label){case 0:return[4,TS.sleepAsync(5e3)];case 1:return e.sent(),this.event.getEventListeners(it.CORE_BOOTING).length,[2]}})}).call(this)}},{key:"start",value:function value(){var e=this,n=this,o=function o(){return _get(_get_prototype_of(r.prototype),"start",e)};return _async_to_generator(function(){var S,I,b,D,k,E,L,C,R;return _ts_generator(this,function($){switch($.label){case 0:return o().call(n),null==(S=this.mark)||S.putAttr(this.y,"Step","Core Start"),this.event.emit(it.CORE_STARTING),null==(I=this.mark)||I.putAttr(this.y,"Step","Request Token"),[4,null==(b=this.auth)?void 0:b.requestToken()];case 1:return $.sent(),null==(D=this.mark)||D.putAttr(this.y,"Step","Init States"),[4,this.Qi()];case 2:return $.sent(),null==(k=this.mark)||k.putAttr(this.y,"Step","Process Player Profile"),this.Ji(),GameSDK.isGameSDK("FacebookInstant")&&LS.isIOS()?(R=this.event.catchUp(it.GAME_SDK_STARTED,this.ds),[3,5]):[3,3];case 3:return[4,this.ds()];case 4:R=$.sent(),$.label=5;case 5:return null==(E=this.mark)||E.putAttr(this.y,"Step","Core Ready"),null==(L=this.mark)||L.putAttr(this.y,"Success","true"),this.event.emit(it.CORE_READY),null==(C=this.mark)||C.stop(this.y),[2]}})}).call(this)}},{key:"Di",value:function value(){this.d("Storage",hg),this.d("Event",ff),this.d("Ads",dh),this.d("Auth",Dh),this.d("Audio",vh),this.d("Match",qy),this.d("Player",ag),this.d("Profile",lg),this.d("Context",cf),this.d("Language",$f),this.d("Missions",O),this.d("Analytics",gh),this.d("Visibility",O),this.d("Leaderboard",If),this.d("DailyRewards",O),this.d("FrameCapture",Pf),this.d("RemoteConfig",O),"Proxy"in window&&this.d("Firebase",O)}},{key:"d",value:function value(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],S=$g.toCamelCase($g.capitalize(e));this.plugins.install(e,n,!0,S)&&"Storage"!==e&&(o?this.Xi(e):this.Zi(e))}},{key:"ji",value:function value(){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),ze.MonitorError.Enabled?(this.me.push("MonitorError"),[4,Promise.resolve().then(function(){return _(),Q})]):[2];case 1:return"function"!=typeof(e=o.sent().default)?[2]:(this.d("MonitorError",e,!0),[3,3]);case 2:return n=o.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"Hi",value:function value(){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),ze.CanvasRecorder.Enabled?(this.me.push("CanvasRecorder"),[4,Promise.resolve().then(function(){return _(),Q})]):[2];case 1:if("function"!=typeof(e=o.sent().default))throw Error("CanvasRecorderPlugin is not a function");return this.d("CanvasRecorder",e,!0),[3,3];case 2:return n=o.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"Vi",value:function value(){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),xg.Enabled?(this.me.push("AdaptivePerformance"),[4,Promise.resolve().then(function(){return _(),Q})]):[2];case 1:return"function"!=typeof(e=o.sent().default)?[2]:(this.d("AdaptivePerformance",e,!0),[3,3]);case 2:return n=o.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"zi",value:function value(){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),ze.InputRecorder.Enabled?(this.me.push("InputRecorder"),[4,Promise.resolve().then(function(){return _(),Q})]):[2];case 1:return"function"!=typeof(e=o.sent().default)?[2]:(this.d("InputRecorder",e,!0),[3,3]);case 2:return n=o.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"eo",value:function value(){return _async_to_generator(function(){var e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),(e=ze.Console).Enabled&&e.UseInGameConsole?(this.me.push("Console"),[4,Promise.resolve().then(function(){return _(),Q})]):[2];case 1:if("function"!=typeof(n=S.sent().default))throw Error("ConsolePlugin is not a function");return this.d("Console",n,!0),this.ao(),[3,3];case 2:return o=S.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"to",value:function value(){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),ze.Profiler.Enabled?(this.me.push("Profiler"),[4,Promise.resolve().then(function(){return _(),Q})]):[2];case 1:if("function"!=typeof(e=o.sent().default))throw Error("ProfilerPlugin is not a function");return this.d("Profiler",e,!0),this.so(),[3,3];case 2:return n=o.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"Zi",value:function value(e){this.event.emit(Ee.CORE_PLUGIN_READY,{name:e})}},{key:"Xi",value:function value(e){this.event.emit(Ee.MODULE_PLUGIN_READY,{name:e})}},{key:"Si",value:function value(){ze.EventLogging.Enabled&&this.event.enableLogEvent()}},{key:"Ui",value:function value(){this.match&&this.match.setUseCPUProfile(!1)}},{key:"Gi",value:function value(){var e,n;Qe.Enabled&&(null==(e=this.ads)||e.configure(Qe),this.ro(),this.no(),this.io(),null==(n=this.analytics)||n.initAdEvent({adService:"platform",state:"loaded"}))}},{key:"ro",value:function value(){return _async_to_generator(function(){var e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),(e=Qe.AdServiceConfigs.AdSense).Enabled?[4,(n=new O(this)).initAsync({usePreload:e.UsePreload,dataAdHost:e.DataAdHost,dataAdClient:e.DataAdClient,dataAdChannel:e.DataAdChannel,dataAdBreakTest:e.DataAdBreakTest,dataAdFrequencyHint:e.DataAdFrequencyHint})]:[2];case 1:return S.sent(),window.GoogleAds=n,[3,3];case 2:return o=S.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"no",value:function value(){return _async_to_generator(function(){var e,n,o;return _ts_generator(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),(e=Qe.AdServiceConfigs.Savana).Enabled?[4,(n=new O(this)).initAsync({usePreload:e.UsePreload,dataAdHost:e.DataAdHost,dataAdClient:e.DataAdClient,dataAdChannel:e.DataAdChannel,dataAdBreakTest:e.DataAdBreakTest,dataAdFrequencyHint:e.DataAdFrequencyHint})]:[2];case 1:return S.sent(),window.TranssionH5Ads=n,[3,3];case 2:return o=S.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"vt",value:function value(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=Qe.AdServiceConfigs,S=o.AdSense,I=o.AppLovin,b=o.Savana;switch(e){case"adsense":if(S.Enabled)return O;break;case"applovin":I.Enabled;break;case"savana":if(b.Enabled)return O;break;default:return n?O:yg}return null}},{key:"io",value:function value(){var e=ES.Ads.Types,n="default",o=!0,S=!1,I=void 0;try{for(var b,D=Qe.InterstitialAdOptions[Symbol.iterator]();!(o=(b=D.next()).done);o=!0){var k,E=b.value,L=E.PlacementId,C=E.AdService,R=E.DeviceOS,$=void 0===R?n:R,z=this.vt(C);z&&(null==(k=this.ads)||k.setAdInstance(e.INTERSTITIAL,L,z,$))}}catch(jn){S=!0,I=jn}finally{try{o||null==D.return||D.return()}finally{if(S)throw I}}var ne=!0,ce=!1,ye=void 0;try{for(var Pe,ke=Qe.RewardedVideoAdOptions[Symbol.iterator]();!(ne=(Pe=ke.next()).done);ne=!0){var Jt,sn=Pe.value,qn=sn.PlacementId,sa=sn.AdService,Qn=sn.DeviceOS,la=void 0===Qn?n:Qn,ua=this.vt(sa);ua&&(null==(Jt=this.ads)||Jt.setAdInstance(e.REWARDED_VIDEO,qn,ua,la))}}catch(jn){ce=!0,ye=jn}finally{try{ne||null==ke.return||ke.return()}finally{if(ce)throw ye}}var na=!0,ta=!1,Sa=void 0;try{for(var fs,ha=Qe.RewardedInterstitialAdOptions[Symbol.iterator]();!(na=(fs=ha.next()).done);na=!0){var lf,ya=fs.value,c_=ya.PlacementId,u_=ya.AdService,e_=ya.DeviceOS,l_=void 0===e_?n:e_,t_=this.vt(u_);t_&&(null==(lf=this.ads)||lf.setAdInstance(e.REWARDED_INTERSTITIAL,c_,t_,l_))}}catch(jn){ta=!0,Sa=jn}finally{try{na||null==ha.return||ha.return()}finally{if(ta)throw Sa}}var h_=!0,wa=!0,n_=!1,r_=void 0;try{for(var a_,Aa=Qe.BannerDisplayAdOptions[Symbol.iterator]();!(wa=(a_=Aa.next()).done);wa=!0){var i_,Pa=a_.value,d_=Pa.PlacementId,f_=Pa.AdService,s_=Pa.DeviceOS,__=void 0===s_?n:s_,o_=this.vt(f_,h_);o_&&(null==(i_=this.ads)||i_.setAdInstance(e.BANNER,d_,o_,__))}}catch(jn){n_=!0,r_=jn}finally{try{wa||null==Aa.return||Aa.return()}finally{if(n_)throw r_}}}},{key:"Qi",value:function value(){return _async_to_generator(function(){var e,n;return _ts_generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),(e=new nh(this)).initContext(),[4,e.initPlayer()];case 1:return o.sent(),[3,3];case 2:return n=o.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"ao",value:function value(){this.console&&this.console.configure()}},{key:"so",value:function value(){this.profiler&&this.profiler.configure()}},{key:"Fi",value:function value(){if(this.remoteConfig){var e=cr.clone(DS);this.remoteConfig.configure(e),this.event.on(Ee.REQUEST_SAVE_CONFIG,this.ho),this.event.on(Ee.REQUEST_UPDATE_CONFIG,this.uo),this.event.catchUp(Ee.PLAYER_INFO_LOADED,this.po)}}},{key:"bi",value:function value(){if(Pg.Enabled&&this.firebase){var e=cr.clone(Pg);this.firebase.configure(e),vg.setService(this.firebase.services.performance)}}},{key:"mark",get:function get(){return IS.CoreFlows?vg:null}},{key:"Li",value:function value(){var e=this.mark;e&&(e.measure(this.y),e.putAttr(this.y,"Build","".concat(Td)),e.putAttr(this.y,"GameSDK",GameSDK.getSDKName()),e.putAttr(this.y,"Platform",GameSDK.getPlatform()),e.putAttr(this.y,"Success","false"),e.start(this.y))}},{key:"Ji",value:function value(){return _async_to_generator(function(){var e;return _ts_generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.player?[4,this.player.syncProfileToServer()]:[2];case 1:return n.sent(),this.yo(),[3,3];case 2:return e=n.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"mo",value:function value(){return _async_to_generator(function(){var e,n,o,S,I,b;return _ts_generator(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),this.player?(n=(e=this.player.getPlayer()).ASID,o=e.playerId,S=e.locale,I=!1,"isNEZP"in GameSDK.extra&&(I=GameSDK.extra.isNEZP()),!I&&"isRestricted"in GameSDK.extra&&(I=GameSDK.extra.isRestricted()),[4,th({appId:vS,ASID:n,playerId:o,locale:S,platform:GameSDK.getPlatform(),platformMode:I?"NEZP":"NORMAL"})]):[2];case 1:return D.sent(),[3,3];case 2:return b=D.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"Oi",value:function value(){if(this.analytics){var e,n=null!=(e=ir.GoogleAnalytics)?e:{},o=n.Enabled,S=n.ConsoleLog;o&&"function"==typeof Mn&&_instanceof(Mn.prototype,Object)&&this.analytics.add(new Mn(this.codex,{log:!!S}))}}},{key:"_i",value:function value(){if(this.analytics){var e,n,o,S,I,b=null!=(e=ir.ClarityAnalytics)?e:{},D=b.Enabled,k=b.ConsoleLog;if(D&&"function"==typeof O&&_instanceof(O.prototype,Object)){var E=new O(this.codex,{log:!!k}),C=(null!=(n=null==(S=this.player)?void 0:S.getPlayer())?n:{}).playerId;C&&E.setUser(C,null==(o=null==(I=GameSDK.extra)?void 0:I.isGuest)||o),this.analytics.add(E)}}}},{key:"Ni",value:function value(){var e,n=this;if(this.analytics){var o=null!=(e=ir.FirebaseAnalytics)?e:{},S=o.Enabled,I=o.ConsoleLog;if(S&&"function"==typeof O&&_instanceof(O.prototype,Object)){var b=new O(this.codex,{log:!!I});this.analytics.add(b);var D="no_entry";GameSDK.getEntryPointAsync().then(function(k){D=k}).catch(function(k){}).finally(function(){var k,E,L=null!=(k=null==(E=n.player)?void 0:E.getPlayer())?k:{},C=L.playerId,R=L.locale,$=GameSDK.getEntryPointData()||{},z=$.fbig_ad_id,ne=$.fbig_adset_id,ce=$.fbig_campaign_id,ye=$.fb_instant_game_adset_id,Pe=$.fb_instant_game_ad_id,ke=$.fb_instant_game_campaign_id,Jt=z||Pe,sn=ne||ye,qn=ce||ke;C&&b.setUser(C,{locale:R,ad_id:Jt,adset_id:sn,campaign_id:qn,traffic_source:D})})}}}},{key:"Ti",value:function value(){this.analytics&&GameSDK.isGameSDK("Yandex")&&"function"==typeof O&&_instanceof(O.prototype,Object)&&this.analytics.add(new O(this.codex))}},{key:"Ci",value:function value(){this.analytics&&GameSDK.isGameSDK("Xiaomi")&&"function"==typeof O&&_instanceof(O.prototype,Object)&&this.analytics.add(new O(this.codex))}},{key:"Mi",value:function value(){this.analytics&&GameSDK.isGameSDK("Playable")&&"function"==typeof O&&_instanceof(O.prototype,Object)&&this.analytics.add(new O(this.codex))}},{key:"Ri",value:function value(){if(this.analytics){var e,n=null!=(e=ir.FacebookAnalytics)?e:{},o=n.Enabled,S=n.Prefix,I=n.ConsoleLog;!o||!GameSDK.isGameSDK("FacebookInstant")||"string"==typeof S&&"function"==typeof O&&_instanceof(O.prototype,Object)&&this.analytics.add(new O(this.codex,{prefix:S,log:!!I}))}}},{key:"$i",value:function value(){this.analytics&&GameSDK.isGameSDK("TranssionH5")&&"function"==typeof O&&_instanceof(O.prototype,Object)&&this.analytics.add(new O(this.codex))}}]),r}(Qm);a(Od,"MagicCodex");var Md=Od,Sg=Md,_Ludex_Configs13=Ludex.Configs,_Ludex_Configs_GameEngine=_Ludex_Configs13.GameEngine,On=_Ludex_Configs_GameEngine.ForceDesktopDPR,_Ludex_Utils52=Ludex.Utils,MS=_Ludex_Utils52.Device,Nd=Ludex.Events,OS=a(function(){return _async_to_generator(function(){var w;return _ts_generator(this,function(r){switch(r.label){case 0:return w=new Sg,window.codex=w,("u"<("u"<typeof globalThis?"undefined":_type_of1(globalThis))?"undefined":_type_of(globalThis))<"u"&&(globalThis.codex=w),window.__sdkLoad.ensure(1),[4,w.boot()];case 1:return r.sent(),window.__sdkLoad.ensure(5),w.event.catchUp(Nd.REQUEST_CORE_START,Dg),[2]}})})()},"initGame"),bg=!1,Dg=a(function(){if(!bg){if(1>codex.event.getEventEmitCount(Nd.GAME_SDK_READY))return void codex.event.catchUp(Nd.GAME_SDK_READY,Dg);codex.start(),bg=!0,window.__sdkLoad.ensure(15)}},"startGame");!1!==On&&MS.isDesktop()&&"number"==typeof On&&On>0&&(window.devicePixelRatio=On),OS()}();