function asyncGeneratorStep(e,r,t,n,a,o,i){try{var l=e[o](i);var c=l.value}catch(e){t(e);return}if(l.done)r(c);else Promise.resolve(c).then(n,a)}function _async_to_generator(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var o=e.apply(r,t);function _next(e){asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)})}}function _class_call_check(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];if(n.enumerable=n.enumerable||false,n.configurable=true,"value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function _create_class(e,r,t){if(r)_defineProperties(e.prototype,r);if(t)_defineProperties(e,t);return e}function _define_property(e,r,t){if(r in e)Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true});else e[r]=t;return e}function _object_spread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};var n=Object.keys(t);if("function"==typeof Object.getOwnPropertySymbols)n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.forEach(function(r){_define_property(e,r,t[r])})}return e}function _ts_generator(e,r){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(e){return function(r){return step([e,r])}}function step(o){if(t)throw new TypeError("Generator is already executing.");while(i)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;if(n=0,a)o=[2&o[0],a.value];switch(o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:false};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}if(a[2])i.ops.pop();i.trys.pop();continue}o=r.call(e,i)}catch(e){o=[6,e],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:true}}}var L=Object.defineProperty;var m=function(e,r){return L(e,"name",{value:r,configurable:!0})};System.register(["./core.js"],function(e,r){"use strict";var t;return{setters:[function(e){t=e.G}],execute:m(function(){var r=t.Configs,n=t.Utils,a=r.Mockup.Profile,o=a.AvatarUrl,i=a.ErrorRate,l=a.RandomDelayMs,c=n.String,u=n.Valid,s=n.Browser,f=n.Time,y="ProfilesMockKey",p=["player","người chơi","玩家","игрок","プレーヤー","플레이어","παίχτης","ຜູ້​ຫຼິ້ນ","ကစားသမား"],v=/*#__PURE__*/function(){function d(){_class_call_check(this,d)}return _create_class(d,[{key:"getPlayersAsync",value:function(e){var r=this;return _async_to_generator(function(){var t,n,a,o,i,l,c,u,s,f;return _ts_generator(this,function(y){switch(y.label){case 0:return[4,r.awaitRandomDelay()];case 1:if(y.sent(),r.randomResponseError("Get players error"))return[2,{data:[]}];t=[],n=r.getProfilesData(),a=e.playerIds,o=true,i=false,l=void 0;try{for(c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=true)(f=n[s=u.value])||(f=r.createProfile(s)),t.push(f)}catch(e){i=true,l=e}finally{try{if(!o&&null!=c.return)c.return()}finally{if(i)throw l}}return[2,{data:t}]}})})()}},{key:"createProfile",value:function(e){var r=c.generateObjectId();var t=this.randomName(r),n=this.randomPhoto(r),a=this.randomScore(),o=this.randomLevel();var i=window.game.player;if(e===i.getPlayerId()){var l=i.getPlayer();t=l.name,n=l.photo,a=l.data.score,o=l.data.gameData.level}var u={_id:r,playerId:e,name:t,photo:n,score:a,level:o};return this.writeProfilesData(_define_property({},e,u)),u}},{key:"randomName",value:function(e){var r=Math.floor(Math.random()*p.length);return"".concat(p[r]," ").concat(e.substr(-5,5))}},{key:"randomPhoto",value:function(e){return o.replace("%1",e)}},{key:"randomScore",value:function(){return Math.floor(100*Math.random())}},{key:"randomLevel",value:function(){return Math.floor(10*Math.random())}},{key:"getProfilesData",value:function(){var e=s.getLocalStorage(y);return u.isObject(e)?e:{}}},{key:"writeProfilesData",value:function(e){var r=_object_spread({},this.getProfilesData(),e);s.writeLocalStorage(y,r)}},{key:"randomResponseError",value:function(e){return 100*Math.random()<i&&(console.warn("[ProfileAPIMock]",e),!0)}},{key:"awaitRandomDelay",value:function(){return _async_to_generator(function(){return _ts_generator(this,function(e){switch(e.label){case 0:return[4,f.sleepAsync(Math.random()*l)];case 1:return e.sent(),[2]}})})()}}]),d}();m(v,"ProfileAPIMock"),e("default",v)},"execute")}});