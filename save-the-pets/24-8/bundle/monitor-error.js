function _assert_this_initialized(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function asyncGeneratorStep(i,c,f,p,h,g,v){try{var _=i[g](v);var m=_.value}catch(i){f(i);return}if(_.done)c(m);else Promise.resolve(m).then(p,h)}function _async_to_generator(i){return function(){var c=this,f=arguments;return new Promise(function(p,h){var g=i.apply(c,f);function _next(i){asyncGeneratorStep(g,p,h,_next,_throw,"next",i)}function _throw(i){asyncGeneratorStep(g,p,h,_next,_throw,"throw",i)}_next(void 0)})}}function _call_super(i,c,f){return c=_get_prototype_of(c),_possible_constructor_return(i,_is_native_reflect_construct()?Reflect.construct(c,f||[],_get_prototype_of(i).constructor):c.apply(i,f))}function _class_call_check(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,c){for(var f=0;f<c.length;f++){var p=c[f];if(p.enumerable=p.enumerable||false,p.configurable=true,"value"in p)p.writable=true;Object.defineProperty(i,p.key,p)}}function _create_class(i,c,f){if(c)_defineProperties(i.prototype,c);if(f)_defineProperties(i,f);return i}function _get_prototype_of(i){return(_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)})(i)}function _inherits(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");if(i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:true,configurable:true}}),c)_set_prototype_of(i,c)}function _instanceof(i,c){if(null!=c&&"undefined"!=typeof Symbol&&c[Symbol.hasInstance])return!!c[Symbol.hasInstance](i);return i instanceof c}function _possible_constructor_return(i,c){if(c&&("object"===_type_of(c)||"function"==typeof c))return c;return _assert_this_initialized(i)}function _set_prototype_of(i,c){return(_set_prototype_of=Object.setPrototypeOf||function(i,c){return i.__proto__=c,i})(i,c)}function _type_of(i){return i&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i}function _is_native_reflect_construct(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(i){}return(_is_native_reflect_construct=function(){return!!i})()}function _ts_generator(i,c){var f,p,h,g,v={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(i){return function(c){return step([i,c])}}function step(g){if(f)throw new TypeError("Generator is already executing.");while(v)try{if(f=1,p&&(h=2&g[0]?p.return:g[0]?p.throw||((h=p.return)&&h.call(p),0):p.next)&&!(h=h.call(p,g[1])).done)return h;if(p=0,h)g=[2&g[0],h.value];switch(g[0]){case 0:case 1:h=g;break;case 4:return v.label++,{value:g[1],done:false};case 5:v.label++,p=g[1],g=[0];continue;case 7:g=v.ops.pop(),v.trys.pop();continue;default:if(!(h=(h=v.trys).length>0&&h[h.length-1])&&(6===g[0]||2===g[0])){v=0;continue}if(3===g[0]&&(!h||g[1]>h[0]&&g[1]<h[3])){v.label=g[1];break}if(6===g[0]&&v.label<h[1]){v.label=h[1],h=g;break}if(h&&v.label<h[2]){v.label=h[2],v.ops.push(g);break}if(h[2])v.ops.pop();v.trys.pop();continue}g=c.call(i,v)}catch(i){g=[6,i],p=0}finally{f=h=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:true}}}var mt=Object.defineProperty;var a=function(i,c){return mt(i,"name",{value:c,configurable:!0})};var x=function(i,c,f){return function(i,c,f){return c in i?mt(i,c,{enumerable:!0,configurable:!0,writable:!0,value:f}):i[c]=f}(i,(void 0===c?"undefined":_type_of(c))!="symbol"?c+"":c,f)};System.register(["./core.js","./__commonjsHelpers__.js"],function(i,c){"use strict";var f,p,h,g;return{setters:[function(i){f=i.P,p=i._,h=i.G},function(i){g=i.g}],execute:a(function(){var v={exports:{}};v.exports,function(i,c){(function(c){i.exports=c()})(function(){var i,c=["navigation","request","process","log","user","state","error","manual"],f=a(function(i,c,f){for(var p=f,h=0,g=i.length;h<g;h++)p=c(p,i[h],h,i);return p},"_$reduce_26"),p=a(function(i,c){return f(i,function(i,f,p,h){return c(f,p,h)?i.concat(f):i},[])},"_$filter_21"),h=a(function(i,c){return f(i,function(i,f,p,h){return!0===i||f===c},!1)},"_$includes_22"),g=a(function(i){return"[object Array]"===Object.prototype.toString.call(i)},"_$isArray_23"),v=!({toString:null}).propertyIsEnumerable("toString"),_=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],m=a(function(i){var c,f=[];for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&f.push(c);if(!v)return f;for(var p=0,h=_.length;p<h;p++)Object.prototype.hasOwnProperty.call(i,_[p])&&f.push(_[p]);return f},"_$keys_24"),y=a(function(i,c){return void 0===i&&(i=1),void 0===c&&(c=1/0),function(f){return"number"==typeof f&&parseInt(""+f,10)===f&&f>=i&&f<=c}},"_$intRange_33"),b=a(function(i){return"function"==typeof i||g(i)&&p(i,function(i){return"function"==typeof i}).length===i.length},"_$listOfFunctions_34"),S=a(function(i){return"string"==typeof i&&!!i.length},"_$stringWithLength_35"),E={},w=a(function(){return{unhandledExceptions:!0,unhandledRejections:!0}},"defaultErrorTypes");E.schema={apiKey:{defaultValue:a(function(){return null},"defaultValue"),message:"is required",validate:S},appVersion:{defaultValue:a(function(){},"defaultValue"),message:"should be a string",validate:a(function(i){return void 0===i||S(i)},"validate")},appType:{defaultValue:a(function(){},"defaultValue"),message:"should be a string",validate:a(function(i){return void 0===i||S(i)},"validate")},autoDetectErrors:{defaultValue:a(function(){return!0},"defaultValue"),message:"should be true|false",validate:a(function(i){return!0===i||!1===i},"validate")},enabledErrorTypes:{defaultValue:a(function(){return w()},"defaultValue"),message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:a(function(i){if((void 0===i?"undefined":_type_of(i))!="object"||!i)return!1;var c=m(i),f=m(w());return!(p(c,function(i){return h(f,i)}).length<c.length||p(m(i),function(c){return"boolean"!=typeof i[c]}).length>0)},"validate")},onError:{defaultValue:a(function(){return[]},"defaultValue"),message:"should be a function or array of functions",validate:b},onSession:{defaultValue:a(function(){return[]},"defaultValue"),message:"should be a function or array of functions",validate:b},onBreadcrumb:{defaultValue:a(function(){return[]},"defaultValue"),message:"should be a function or array of functions",validate:b},endpoints:{defaultValue:a(function(i){return(void 0===i?"undefined":_type_of(i))>"u"?{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}:{notify:null,sessions:null}},"defaultValue"),message:"should be an object containing endpoint URLs { notify, sessions }",validate:a(function(i){return i&&(void 0===i?"undefined":_type_of(i))=="object"&&S(i.notify)&&S(i.sessions)&&0===p(m(i),function(i){return!h(["notify","sessions"],i)}).length},"validate")},autoTrackSessions:{defaultValue:a(function(i){return!0},"defaultValue"),message:"should be true|false",validate:a(function(i){return!0===i||!1===i},"validate")},enabledReleaseStages:{defaultValue:a(function(){return null},"defaultValue"),message:"should be an array of strings",validate:a(function(i){return null===i||g(i)&&p(i,function(i){return"string"==typeof i}).length===i.length},"validate")},releaseStage:{defaultValue:a(function(){return"production"},"defaultValue"),message:"should be a string",validate:a(function(i){return"string"==typeof i&&i.length},"validate")},maxBreadcrumbs:{defaultValue:a(function(){return 25},"defaultValue"),message:"should be a number â‰¤100",validate:a(function(i){return y(0,100)(i)},"validate")},enabledBreadcrumbTypes:{defaultValue:a(function(){return c},"defaultValue"),message:"should be null or a list of available breadcrumb types ("+c.join(",")+")",validate:a(function(i){return null===i||g(i)&&f(i,function(i,f){return!1===i?i:h(c,f)},!0)},"validate")},context:{defaultValue:a(function(){},"defaultValue"),message:"should be a string",validate:a(function(i){return void 0===i||"string"==typeof i},"validate")},user:{defaultValue:a(function(){return{}},"defaultValue"),message:"should be an object with { id, email, name } properties",validate:a(function(i){return null===i||i&&f(m(i),function(i,c){return i&&h(["id","email","name"],c)},!0)},"validate")},metadata:{defaultValue:a(function(){return{}},"defaultValue"),message:"should be an object",validate:a(function(i){return(void 0===i?"undefined":_type_of(i))=="object"&&null!==i},"validate")},logger:{defaultValue:a(function(){},"defaultValue"),message:"should be null or an object with methods { debug, info, warn, error }",validate:a(function(i){return!i||i&&f(["debug","info","warn","error"],function(c,f){return c&&"function"==typeof i[f]},!0)},"validate")},redactedKeys:{defaultValue:a(function(){return["password"]},"defaultValue"),message:"should be an array of strings|regexes",validate:a(function(i){return g(i)&&i.length===p(i,function(i){return"string"==typeof i||i&&"function"==typeof i.test}).length},"validate")},plugins:{defaultValue:a(function(){return[]},"defaultValue"),message:"should be an array of plugin objects",validate:a(function(i){return g(i)&&i.length===p(i,function(i){return i&&(void 0===i?"undefined":_type_of(i))=="object"&&"function"==typeof i.load}).length},"validate")},featureFlags:{defaultValue:a(function(){return[]},"defaultValue"),message:'should be an array of objects that have a "name" property',validate:a(function(i){return g(i)&&i.length===p(i,function(i){return i&&(void 0===i?"undefined":_type_of(i))=="object"&&"string"==typeof i.name}).length},"validate")},reportUnhandledPromiseRejectionsAsHandled:{defaultValue:a(function(){return!1},"defaultValue"),message:"should be true|false",validate:a(function(i){return!0===i||!1===i},"validate")}};var O=a(function(i){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(i[p]=f[p])}return i},"_$assign_20"),P=a(function(i,c){return f(i,function(i,f,p,h){return i.concat(c(f,p,h))},[])},"_$map_25");function ye(){return(ye=Object.assign?Object.assign.bind():function(i){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(i[p]=f[p])}return i}).apply(this,arguments)}a(ye,"_extends");var j=E.schema,N={releaseStage:O({},j.releaseStage,{defaultValue:a(function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"},"defaultValue")}),appType:ye({},j.appType,{defaultValue:a(function(){return"browser"},"defaultValue")}),logger:O({},j.logger,{defaultValue:a(function(){return("undefined"==typeof console?"undefined":_type_of(console))<"u"&&"function"==typeof console.debug?B():void 0},"defaultValue")})},B=a(function(){var i={},c=console.log;return P(["debug","info","warn","error"],function(f){var p=console[f];i[f]="function"==typeof p?p.bind(console,"[bugsnag]"):c.bind(console,"[bugsnag]")}),i},"getPrefixedConsole"),C=function(){function e(i,c,f,p){void 0===p&&(p=new Date),this.type=f,this.message=i,this.metadata=c,this.timestamp=p}return a(e,"Breadcrumb"),e.prototype.toJSON=a(function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},"toJSON"),e}(),T={};(function(c,f){"function"==typeof i&&i.amd?i("stackframe",[],f):(void 0===T?"undefined":_type_of(T))=="object"?T=f():c.StackFrame=f()})(this,function(){function e(i){return!isNaN(parseFloat(i))&&isFinite(i)}function t(i){return i.charAt(0).toUpperCase()+i.substring(1)}function n(i){return function(){return this[i]}}a(e,"_isNumber"),a(t,"_capitalize"),a(n,"_getter");var i=["isConstructor","isEval","isNative","isToplevel"],c=["columnNumber","lineNumber"],f=["fileName","functionName","source"],p=i.concat(c,f,["args"],["evalOrigin"]);function l(i){if(i)for(var c=0;c<p.length;c++)void 0!==i[p[c]]&&this["set"+t(p[c])](i[p[c]])}a(l,"StackFrame"),l.prototype={getArgs:a(function(){return this.args},"getArgs"),setArgs:a(function(i){if("[object Array]"!==Object.prototype.toString.call(i))throw new TypeError("Args must be an Array");this.args=i},"setArgs"),getEvalOrigin:a(function(){return this.evalOrigin},"getEvalOrigin"),setEvalOrigin:a(function(i){if(_instanceof(i,l))this.evalOrigin=i;else if(_instanceof(i,Object))this.evalOrigin=new l(i);else throw new TypeError("Eval Origin must be an Object or StackFrame")},"setEvalOrigin"),toString:a(function(){var i=this.getFileName()||"",c=this.getLineNumber()||"",f=this.getColumnNumber()||"",p=this.getFunctionName()||"";return this.getIsEval()?i?"[eval] ("+i+":"+c+":"+f+")":"[eval]:"+c+":"+f:p?p+" ("+i+":"+c+":"+f+")":i+":"+c+":"+f},"toString")},l.fromString=a(function(i){var c=i.indexOf("("),f=i.lastIndexOf(")"),p=i.substring(0,c),h=i.substring(c+1,f).split(","),g=i.substring(f+1);if(0===g.indexOf("@"))var v=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(g,""),_=v[1],m=v[2],y=v[3];return new l({functionName:p,args:h||void 0,fileName:_,lineNumber:m||void 0,columnNumber:y||void 0})},"StackFrame$$fromString");for(var h=0;h<i.length;h++)l.prototype["get"+t(i[h])]=n(i[h]),l.prototype["set"+t(i[h])]=function(i){return function(c){this[i]=!!c}}(i[h]);for(var g=0;g<c.length;g++)l.prototype["get"+t(c[g])]=n(c[g]),l.prototype["set"+t(c[g])]=function(i){return function(c){if(!e(c))throw new TypeError(i+" must be a Number");this[i]=Number(c)}}(c[g]);for(var v=0;v<f.length;v++)l.prototype["get"+t(f[v])]=n(f[v]),l.prototype["set"+t(f[v])]=function(i){return function(c){this[i]=String(c)}}(f[v]);return l});var M={};(function(c,f){"function"==typeof i&&i.amd?i("stack-generator",["stackframe"],f):(void 0===M?"undefined":_type_of(M))=="object"?M=f(T):c.StackGenerator=f(c.StackFrame)})(this,function(i){return{backtrace:a(function(c){var f=[],p=10;(void 0===c?"undefined":_type_of(c))=="object"&&"number"==typeof c.maxStackSize&&(p=c.maxStackSize);for(var h=arguments.callee;h&&f.length<p&&h.arguments;){for(var g=new Array(h.arguments.length),v=0;v<g.length;++v)g[v]=h.arguments[v];/function(?:\s+([\w$]+))+\s*\(/.test(h.toString())?f.push(new i({functionName:RegExp.$1||void 0,args:g})):f.push(new i({args:g}));try{h=h.caller}catch(i){break}}return f},"StackGenerator$$backtrace")}});var L={};(function(c,f){"function"==typeof i&&i.amd?i("error-stack-parser",["stackframe"],f):(void 0===L?"undefined":_type_of(L))=="object"?L=f(T):c.ErrorStackParser=f(c.StackFrame)})(this,a(function(i){var c=/(^|@)\S+:\d+/,f=/^\s*at .*(\S+:\d+|\(native\))/m,p=/^(eval@)?(\[native code])?$/;return{parse:a(function(i){if(_type_of(i.stacktrace)<"u"||_type_of(i["opera#sourceloc"])<"u")return this.parseOpera(i);if(i.stack&&i.stack.match(f))return this.parseV8OrIE(i);if(i.stack)return this.parseFFOrSafari(i);throw new Error("Cannot parse given Error object")},"ErrorStackParser$$parse"),extractLocation:a(function(i){if(-1===i.indexOf(":"))return[i];var c=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i.replace(/[()]/g,""));return[c[1],c[2]||void 0,c[3]||void 0]},"ErrorStackParser$$extractLocation"),parseV8OrIE:a(function(c){return c.stack.split("\n").filter(function(i){return!!i.match(f)},this).map(function(c){c.indexOf("(eval ")>-1&&(c=c.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var f=c.replace(/^\s+/,"").replace(/\(eval code/g,"("),p=f.match(/ (\((.+):(\d+):(\d+)\)$)/);var h=(f=p?f.replace(p[0],""):f).split(/\s+/).slice(1),g=this.extractLocation(p?p[1]:h.pop());return new i({functionName:h.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(g[0])>-1?void 0:g[0],lineNumber:g[1],columnNumber:g[2],source:c})},this)},"ErrorStackParser$$parseV8OrIE"),parseFFOrSafari:a(function(c){return c.stack.split("\n").filter(function(i){return!i.match(p)},this).map(function(c){if(c.indexOf(" > eval")>-1&&(c=c.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===c.indexOf("@")&&-1===c.indexOf(":"))return new i({functionName:c});var f=/((.*".+"[^@]*)?[^@]*)(?:@)/,p=c.match(f),h=p&&p[1]?p[1]:void 0,g=this.extractLocation(c.replace(f,""));return new i({functionName:h,fileName:g[0],lineNumber:g[1],columnNumber:g[2],source:c})},this)},"ErrorStackParser$$parseFFOrSafari"),parseOpera:a(function(i){return!i.stacktrace||i.message.indexOf("\n")>-1&&i.message.split("\n").length>i.stacktrace.split("\n").length?this.parseOpera9(i):i.stack?this.parseOpera11(i):this.parseOpera10(i)},"ErrorStackParser$$parseOpera"),parseOpera9:a(function(c){for(var f=/Line (\d+).*script (?:in )?(\S+)/i,p=c.message.split("\n"),h=[],g=2,v=p.length;g<v;g+=2){var _=f.exec(p[g]);_&&h.push(new i({fileName:_[2],lineNumber:_[1],source:p[g]}))}return h},"ErrorStackParser$$parseOpera9"),parseOpera10:a(function(c){for(var f=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,p=c.stacktrace.split("\n"),h=[],g=0,v=p.length;g<v;g+=2){var _=f.exec(p[g]);_&&h.push(new i({functionName:_[3]||void 0,fileName:_[2],lineNumber:_[1],source:p[g]}))}return h},"ErrorStackParser$$parseOpera10"),parseOpera11:a(function(f){return f.stack.split("\n").filter(function(i){return!!i.match(c)&&!i.match(/^Error created at/)},this).map(function(c){var f,p=c.split("@"),h=this.extractLocation(p.pop()),g=p.shift()||"",v=g.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return g.match(/\(([^)]*)\)/)&&(f=g.replace(/^[^(]+\(([^)]*)\)$/,"$1")),new i({functionName:v,args:void 0===f||"[arguments not available]"===f?void 0:f.split(","),fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:c})},this)},"ErrorStackParser$$parseOpera11")}},"ErrorStackParser"));var F=L,R=a(function(i,c,f,p){return JSON.stringify(It(i,p&&p.redactedKeys?p.redactedKeys:[],p&&p.redactedPaths?p.redactedPaths:[]),c,f)},"_$safeJsonStringify_5");function Nt(i){return _instanceof(i,Error)||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(i))}function Ve(i){return"[Throws: "+(i?i.message:"?")+"]"}function Lt(i,c){for(var f=0,p=i.length;f<p;f++)if(i[f]===c)return!0;return!1}function $t(i,c){for(var f=0,p=i.length;f<p;f++)if(0===c.indexOf(i[f]))return!0;return!1}function Ct(i,c){for(var f=0,p=i.length;f<p;f++)if("string"==typeof i[f]&&i[f].toLowerCase()===c.toLowerCase()||i[f]&&"function"==typeof i[f].test&&i[f].test(c))return!0;return!1}function Mt(i){return"[object Array]"===Object.prototype.toString.call(i)}function Tt(i,c){try{return i[c]}catch(i){return Ve(i)}}function It(i,c,f){var p=[],h=0;function s(i,g){function u(){return g.length>8&&h>25e3}if(a(u,"edgesExceeded"),h++,g.length>20||u())return"...";if(null===i||(void 0===i?"undefined":_type_of(i))!="object")return i;if(Lt(p,i))return"[Circular]";if(p.push(i),"function"==typeof i.toJSON)try{h--;var v=s(i.toJSON(),g);return p.pop(),v}catch(i){return Ve(i)}if(Nt(i)){h--;var _=s({name:i.name,message:i.message},g);return p.pop(),_}if(Mt(i)){for(var m=[],y=0,b=i.length;y<b;y++){if(u()){m.push("...");break}m.push(s(i[y],g.concat("[]")))}return p.pop(),m}var S={};try{for(var E in i)if(Object.prototype.hasOwnProperty.call(i,E)){if($t(f,g.join("."))&&Ct(c,E)){S[E]="[REDACTED]";continue}if(u()){S[E]="...";break}S[E]=s(Tt(i,E),g.concat(E))}}catch(i){}return p.pop(),S}return a(s,"visit"),s(i,[])}function Ue(i,c,f,p){if("string"==typeof f){void 0===p?p=null:null!==p&&"string"!=typeof p&&(p=R(p));var h=c[f];if("number"==typeof h){i[h]={name:f,variant:p};return}i.push({name:f,variant:p}),c[f]=i.length-1}}function Dt(i,c,f){if(g(c)){for(var p=0;p<c.length;++p){var h=c[p];null===h||(void 0===h?"undefined":_type_of(h))!="object"||Ue(i,f,h.name,h.variant)}return i}}function Rt(i){return P(p(i,Boolean),function(i){var c=i.name,f=i.variant,p={featureFlag:c};return"string"==typeof f&&(p.variant=f),p})}function Ft(i,c,f){var p=c[f];"number"==typeof p&&(i[p]=null,delete c[f])}a(Nt,"isError"),a(Ve,"throwsMessage"),a(Lt,"find"),a($t,"isDescendent"),a(Ct,"shouldRedact"),a(Mt,"__isArray_5"),a(Tt,"safelyGetProp"),a(It,"prepareObjForSerialization"),a(Ue,"add"),a(Dt,"merge"),a(Rt,"toEventApi"),a(Ft,"clear");var I={add:Ue,clear:Ft,merge:Dt,toEventApi:Rt},$=a(function(i){return!!i&&(!!i.stack||!!i.stacktrace||!!i["opera#sourceloc"])&&"string"==typeof(i.stack||i.stacktrace||i["opera#sourceloc"])&&i.stack!==i.name+": "+i.message},"_$hasStack_28"),V=jt;function jt(i){switch(Object.prototype.toString.call(i)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return _instanceof(i,Error)}}a(jt,"__isError_7");var A=a(function(i,c,f,p){var h,g;if(c){if(null===f)return q(i,c);(void 0===f?"undefined":_type_of(f))=="object"&&(g=f),"string"==typeof f&&((h={})[f]=p,g=h),g&&("__proto__"===c||"constructor"===c||"prototype"===c||(i[c]||(i[c]={}),i[c]=O({},i[c],g)))}},"__add_31"),D=a(function(i,c,f){if("string"==typeof c){if(!f)return i[c];if(i[c])return i[c][f]}},"get"),q=a(function(i,c,f){if("string"==typeof c){if(!f){delete i[c];return}"__proto__"===c||"constructor"===c||"prototype"===c||i[c]&&delete i[c][f]}},"__clear_31"),H={add:A,get:D,clear:q};function Oe(){return(Oe=Object.assign?Object.assign.bind():function(i){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(i[p]=f[p])}return i}).apply(this,arguments)}a(Oe,"___extends_15");var U=function(){function e(i,c,f,p,h){void 0===f&&(f=[]),void 0===p&&(p=X()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=h,this._handledState=p,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this._correlation=void 0,this.errors=[ze(i,c,e.__type,f)]}a(e,"Event");var i=e.prototype;return i.addMetadata=a(function(i,c,f){return H.add(this._metadata,i,c,f)},"addMetadata"),i.setTraceCorrelation=a(function(i,c){"string"==typeof i&&(this._correlation=Oe({traceId:i},"string"==typeof c?{spanId:c}:{}))},"setTraceCorrelation"),i.getMetadata=a(function(i,c){return H.get(this._metadata,i,c)},"getMetadata"),i.clearMetadata=a(function(i,c){return H.clear(this._metadata,i,c)},"clearMetadata"),i.addFeatureFlag=a(function(i,c){void 0===c&&(c=null),I.add(this._features,this._featuresIndex,i,c)},"addFeatureFlag"),i.addFeatureFlags=a(function(i){I.merge(this._features,i,this._featuresIndex)},"addFeatureFlags"),i.getFeatureFlags=a(function(){return I.toEventApi(this._features)},"getFeatureFlags"),i.clearFeatureFlag=a(function(i){I.clear(this._features,this._featuresIndex,i)},"clearFeatureFlag"),i.clearFeatureFlags=a(function(){this._features=[],this._featuresIndex={}},"clearFeatureFlags"),i.getUser=a(function(){return this._user},"getUser"),i.setUser=a(function(i,c,f){this._user={id:i,email:c,name:f}},"setUser"),i.toJSON=a(function(){return{payloadVersion:"4",exceptions:P(this.errors,function(i){return O({},i,{message:i.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags(),correlation:this._correlation}},"toJSON"),e}(),K=a(function(i){var c={file:i.fileName,method:z(i.functionName),lineNumber:i.lineNumber,columnNumber:i.columnNumber,code:void 0,inProject:void 0};return!(c.lineNumber>-1)||c.file||c.method||(c.file="global code"),c},"formatStackframe"),z=a(function(i){return/^global code$/i.test(i)?"global code":i},"normaliseFunctionName"),X=a(function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},"defaultHandledState"),G=a(function(i){return"string"==typeof i?i:""},"ensureString");function ze(i,c,p,h){return{errorClass:G(i),errorMessage:G(c),type:p,stacktrace:f(h,function(i,c){var f=K(c);try{return"{}"===JSON.stringify(f)?i:i.concat(f)}catch(c){return i}},[])}}function Ge(i){return i.cause?[i].concat(Ge(i.cause)):[i]}a(ze,"createBugsnagError"),a(Ge,"getCauseStack"),U.getStacktrace=function(i,c,f){if($(i))return F.parse(i).slice(c);try{return p(M.backtrace(),function(i){return -1===(i.functionName||"").indexOf("StackGenerator$$")}).slice(1+f)}catch(i){return[]}},U.create=function(i,c,f,p,h,g){void 0===h&&(h=0);var v,_=W(i,c,p,g),m=_[0],y=_[1];try{var b=U.getStacktrace(m,y>0?1+y+h:0,1+h);v=new U(m.name,m.message,b,f,i)}catch(c){v=new U(m.name,m.message,[],f,i)}if("InvalidError"===m.name&&v.addMetadata(""+p,"non-error parameter",J(i)),m.cause){var S,E=P(Ge(m).slice(1),function(i){var c=V(i)&&$(i)?F.parse(i):[],f=W(i,!0,"error cause")[0];return"InvalidError"===f.name&&v.addMetadata("error cause",J(i)),ze(f.name,f.message,U.__type,c)});(S=v.errors).push.apply(S,E)}return v};var J=a(function(i){return null===i?"null":void 0===i?"undefined":i},"makeSerialisable"),W=a(function(i,c,f,p){var h,g=0,v=a(function(i){var c="error cause"===f?"was":"received";p&&p.warn(f+" "+c+' a non-error: "'+i+'"');var h=new Error(f+" "+c+' a non-error. See "'+f+'" tab for more detail.');return h.name="InvalidError",h},"createAndLogInputError");if(c)switch(void 0===i?"undefined":_type_of(i)){case"string":case"number":case"boolean":h=new Error(String(i)),g+=1;break;case"function":h=v("function"),g+=2;break;case"object":null!==i&&V(i)?h=i:null!==i&&Y(i)?((h=new Error(i.message||i.errorMessage)).name=i.name||i.errorClass,g+=1):(h=v(null===i?"null":"unsupported object"),g+=2);break;default:h=v("nothing"),g+=2}else V(i)?h=i:(h=v(void 0===i?"undefined":_type_of(i)),g+=2);if(!$(h))try{throw h}catch(i){$(i)&&(h=i,g=1)}return[h,g]},"normaliseError");U.__type="browserjs";var Y=a(function(i){return("string"==typeof i.name||"string"==typeof i.errorClass)&&("string"==typeof i.message||"string"==typeof i.errorMessage)},"hasNecessaryFields"),Z=a(function(i,c,f){var p=0,h=a(function(){if(p>=i.length)return f(null,!0);c(i[p],function(i,c){if(i)return f(i);if(!1===c)return f(null,!1);p++,h()})},"next");h()},"_$asyncEvery_16"),Q=a(function(i,c,f,p){Z(i,a(function(i,p){if("function"!=typeof i)return p(null);try{if(2!==i.length){var h=i(c);return h&&"function"==typeof h.then?h.then(function(i){return setTimeout(function(){return p(null,i)})},function(i){setTimeout(function(){return f(i),p(null,!0)})}):p(null,h)}i(c,function(i,c){if(i)return f(i),p(null);p(null,c)})}catch(i){f(i),p(null)}},"runMaybeAsyncCallback"),p)},"_$callbackRunner_18"),ee=a(function(i,c,f,p){for(var h=!1,g=i.slice();!h&&g.length;)try{h=!1===g.pop()(c)}catch(i){p.error("Error occurred in "+f+" callback, continuing anywayâ€¦"),p.error(i)}return h},"_$syncCallbackRunner_32"),et=a(function(i,c){var f="000000000"+i;return f.substr(f.length-c)},"pad"),en=("undefined"==typeof window?"undefined":_type_of(window))=="object"?window:self,er=0;for(var ea in en)Object.hasOwnProperty.call(en,ea)&&er++;var eo=et(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+er.toString(36),4),ei=a(function(){return eo},"fingerprint"),es=a(function(i){return"string"==typeof i&&/^c[a-z0-9]{20,32}$/.test(i)},"isCuid"),eu=0,ec=Math.pow(36,4);function rt(){return et((Math.random()*ec<<0).toString(36),4)}function Zt(){return eu=eu<ec?eu:0,++eu-1}function Ne(){return"c"+new Date().getTime().toString(36)+et(Zt().toString(36),4)+ei()+(rt()+rt())}a(rt,"randomBlock"),a(Zt,"safeCounter"),a(Ne,"cuid"),Ne.fingerprint=ei,Ne.isCuid=es;var el=Ne,ed=function(){function e(){this.id=el(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}a(e,"Session");var i=e.prototype;return i.getUser=a(function(){return this._user},"getUser"),i.setUser=a(function(i,c,f){this._user={id:i,email:c,name:f}},"setUser"),i.toJSON=a(function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},"toJSON"),i._track=a(function(i){this[i._handledState.unhandled?"_unhandled":"_handled"]+=1},"_track"),e}(),ef=I.add,ep=I.clear,eh=I.merge,eg=a(function(){},"noop"),ev=function(){function e(i,c,f,p){var h=this;void 0===c&&(c=E.schema),void 0===f&&(f=[]),this._notifier=p,this._config={},this._schema=c,this._delivery={sendSession:eg,sendEvent:eg},this._logger={debug:eg,info:eg,warn:eg,error:eg},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=U,this.Breadcrumb=C,this.Session=ed,this._config=this._configure(i,f),P(f.concat(this._config.plugins),function(i){i&&h._loadPlugin(i)}),this._depth=1;var g=this,v=this.notify;this.notify=function(){return v.apply(g,arguments)}}a(e,"Client");var i=e.prototype;return i.addMetadata=a(function(i,c,f){return H.add(this._metadata,i,c,f)},"addMetadata"),i.getMetadata=a(function(i,c){return H.get(this._metadata,i,c)},"getMetadata"),i.clearMetadata=a(function(i,c){return H.clear(this._metadata,i,c)},"clearMetadata"),i.addFeatureFlag=a(function(i,c){void 0===c&&(c=null),ef(this._features,this._featuresIndex,i,c)},"addFeatureFlag"),i.addFeatureFlags=a(function(i){eh(this._features,i,this._featuresIndex)},"addFeatureFlags"),i.clearFeatureFlag=a(function(i){ep(this._features,this._featuresIndex,i)},"clearFeatureFlag"),i.clearFeatureFlags=a(function(){this._features=[],this._featuresIndex={}},"clearFeatureFlags"),i.getContext=a(function(){return this._context},"getContext"),i.setContext=a(function(i){this._context=i},"setContext"),i._configure=a(function(i,c){var p=f(c,function(i,c){return c&&c.configSchema?O({},i,c.configSchema):i},this._schema),h=f(m(p),function(c,f){var h=p[f].defaultValue(i[f]);if(void 0!==i[f])p[f].validate(i[f])?p[f].allowPartialObject?c.config[f]=O(h,i[f]):c.config[f]=i[f]:(c.errors[f]=p[f].message,c.config[f]=h);else c.config[f]=h;return c},{errors:{},config:{}}),g=h.errors,v=h.config;if(p.apiKey){if(!v.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(v.apiKey)||(g.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=O({},v.metadata),eh(this._features,v.featureFlags,this._featuresIndex),this._user=O({},v.user),this._context=v.context,v.logger&&(this._logger=v.logger),v.onError&&(this._cbs.e=this._cbs.e.concat(v.onError)),v.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(v.onBreadcrumb)),v.onSession&&(this._cbs.s=this._cbs.s.concat(v.onSession)),m(g).length&&this._logger.warn(e_(g,i)),v},"_configure"),i.getUser=a(function(){return this._user},"getUser"),i.setUser=a(function(i,c,f){this._user={id:i,email:c,name:f}},"setUser"),i._loadPlugin=a(function(i){var c=i.load(this);i.name&&(this._plugins["~"+i.name+"~"]=c)},"_loadPlugin"),i.getPlugin=a(function(i){return this._plugins["~"+i+"~"]},"getPlugin"),i._setDelivery=a(function(i){this._delivery=i(this)},"_setDelivery"),i.startSession=a(function(){var i=new ed;return i.app.releaseStage=this._config.releaseStage,i.app.version=this._config.appVersion,i.app.type=this._config.appType,i._user=O({},this._user),ee(this._cbs.s,i,"onSession",this._logger)?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,i)},"startSession"),i.addOnError=a(function(i,c){void 0===c&&(c=!1),this._cbs.e[c?"unshift":"push"](i)},"addOnError"),i.removeOnError=a(function(i){this._cbs.e=p(this._cbs.e,function(c){return c!==i})},"removeOnError"),i._addOnSessionPayload=a(function(i){this._cbs.sp.push(i)},"_addOnSessionPayload"),i.addOnSession=a(function(i){this._cbs.s.push(i)},"addOnSession"),i.removeOnSession=a(function(i){this._cbs.s=p(this._cbs.s,function(c){return c!==i})},"removeOnSession"),i.addOnBreadcrumb=a(function(i,c){void 0===c&&(c=!1),this._cbs.b[c?"unshift":"push"](i)},"addOnBreadcrumb"),i.removeOnBreadcrumb=a(function(i){this._cbs.b=p(this._cbs.b,function(c){return c!==i})},"removeOnBreadcrumb"),i.pauseSession=a(function(){return this._sessionDelegate.pauseSession(this)},"pauseSession"),i.resumeSession=a(function(){return this._sessionDelegate.resumeSession(this)},"resumeSession"),i.leaveBreadcrumb=a(function(i,f,p){if(i="string"==typeof i?i:"",p="string"==typeof p&&h(c,p)?p:"manual",f=(void 0===f?"undefined":_type_of(f))=="object"&&null!==f?f:{},!!i){var g=new C(i,f,p);if(ee(this._cbs.b,g,"onBreadcrumb",this._logger)){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(g),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},"leaveBreadcrumb"),i._isBreadcrumbTypeEnabled=a(function(i){var c=this._config.enabledBreadcrumbTypes;return null===c||h(c,i)},"_isBreadcrumbTypeEnabled"),i.notify=a(function(i,c,f){void 0===f&&(f=eg);var p=U.create(i,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(p,c,f)},"notify"),i._notify=a(function(i,c,f){var p=this;if(void 0===f&&(f=eg),i.app=O({},i.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),i.context=i.context||this._context,i._metadata=O({},i._metadata,this._metadata),i._user=O({},i._user,this._user),i.breadcrumbs=this._breadcrumbs.slice(),eh(i._features,this._features,i._featuresIndex),null!==this._config.enabledReleaseStages&&!h(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),f(null,i);var g=i.severity,v=a(function(i){p._logger.error("Error occurred in onError callback, continuing anywayâ€¦"),p._logger.error(i)},"onCallbackError");Q([].concat(this._cbs.e).concat(c),i,v,function(c,h){if(c&&v(c),!h)return p._logger.debug("Event not sent due to onError callback"),f(null,i);p._isBreadcrumbTypeEnabled("error")&&e.prototype.leaveBreadcrumb.call(p,i.errors[0].errorClass,{errorClass:i.errors[0].errorClass,errorMessage:i.errors[0].errorMessage,severity:i.severity},"error"),g!==i.severity&&(i._handledState.severityReason={type:"userCallbackSetSeverity"}),i.unhandled!==i._handledState.unhandled&&(i._handledState.severityReason.unhandledOverridden=!0,i._handledState.unhandled=i.unhandled),p._session&&(p._session._track(i),i._session=p._session),p._delivery.sendEvent({apiKey:i.apiKey||p._config.apiKey,notifier:p._notifier,events:[i]},function(c){return f(c,i)})})},"_notify"),e}(),e_=a(function(i,c){return new Error("Invalid configuration\n"+P(m(i),function(f){return"  - "+f+" "+i[f]+", got "+em(c[f])}).join("\n\n"))},"generateConfigErrorMessage"),em=a(function(i){switch(void 0===i?"undefined":_type_of(i)){case"string":case"number":case"object":return JSON.stringify(i);default:return String(i)}},"stringify"),ey={},eb=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];ey.event=function(i,c){var f=R(i,null,null,{redactedPaths:eb,redactedKeys:c});return f.length>1e6&&(i.events[0]._metadata={notifier:"WARNING!\nSerialized payload was "+f.length/1e6+"MB (limit = 1MB)\nmetadata was removed"},f=R(i,null,null,{redactedPaths:eb,redactedKeys:c})),f},ey.session=function(i,c){return R(i,null,null)};var eS={};eS=a(function(i,c){return void 0===c&&(c=window),{sendEvent:a(function(f,p){if(void 0===p&&(p=a(function(){},"cb")),null===i._config.endpoints.notify){var h=new Error("Event not sent due to incomplete endpoint configuration");return p(h)}var g=ek(i._config,"notify","4",c),v=ey.event(f,i._config.redactedKeys),_=new c.XDomainRequest;_.onload=function(){p(null)},_.onerror=function(){var c=new Error("Event failed to send");i._logger.error("Event failed to sendâ€¦",c),v.length>1e6&&i._logger.warn("Event oversized ("+(v.length/1e6).toFixed(2)+" MB)"),p(c)},_.open("POST",g),setTimeout(function(){try{_.send(v)}catch(c){i._logger.error(c),p(c)}},0)},"sendEvent"),sendSession:a(function(f,p){if(void 0===p&&(p=a(function(){},"cb")),null===i._config.endpoints.sessions){var h=new Error("Session not sent due to incomplete endpoint configuration");return p(h)}var g=ek(i._config,"sessions","1",c),v=new c.XDomainRequest;v.onload=function(){p(null)},v.open("POST",g),setTimeout(function(){try{v.send(ey.session(f,i._config.redactedKeys))}catch(c){i._logger.error(c),p(c)}},0)},"sendSession")}},"_$delivery_37");var ek=a(function(i,c,f,p){var h=JSON.parse(JSON.stringify(new Date));return eE(i.endpoints[c],p.location.protocol)+"?apiKey="+encodeURIComponent(i.apiKey)+"&payloadVersion="+f+"&sentAt="+encodeURIComponent(h)},"getApiUrl"),eE=eS._matchPageProtocol=function(i,c){return"http:"===c?i.replace(/^https:/,"http:"):i},ew=a(function(i,c){return void 0===c&&(c=window),{sendEvent:a(function(f,p){void 0===p&&(p=a(function(){},"cb"));try{var h=i._config.endpoints.notify;if(null===h){var g=new Error("Event not sent due to incomplete endpoint configuration");return p(g)}var v=new c.XMLHttpRequest,_=ey.event(f,i._config.redactedKeys);v.onreadystatechange=function(){if(v.readyState===c.XMLHttpRequest.DONE){var f=v.status;if(0===f||f>=400){var h=new Error("Request failed with status "+f);i._logger.error("Event failed to sendâ€¦",h),_.length>1e6&&i._logger.warn("Event oversized ("+(_.length/1e6).toFixed(2)+" MB)"),p(h)}else p(null)}},v.open("POST",h),v.setRequestHeader("Content-Type","application/json"),v.setRequestHeader("Bugsnag-Api-Key",f.apiKey||i._config.apiKey),v.setRequestHeader("Bugsnag-Payload-Version","4"),v.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),v.send(_)}catch(c){i._logger.error(c)}},"sendEvent"),sendSession:a(function(f,p){void 0===p&&(p=a(function(){},"cb"));try{var h=i._config.endpoints.sessions;if(null===h){var g=new Error("Session not sent due to incomplete endpoint configuration");return p(g)}var v=new c.XMLHttpRequest;v.onreadystatechange=function(){if(v.readyState===c.XMLHttpRequest.DONE){var f=v.status;if(0===f||f>=400){var h=new Error("Request failed with status "+f);i._logger.error("Session failed to sendâ€¦",h),p(h)}else p(null)}},v.open("POST",h),v.setRequestHeader("Content-Type","application/json"),v.setRequestHeader("Bugsnag-Api-Key",i._config.apiKey),v.setRequestHeader("Bugsnag-Payload-Version","1"),v.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),v.send(ey.session(f,i._config.redactedKeys))}catch(c){i._logger.error(c)}},"sendSession")}},"_$delivery_38"),ex=new Date,eO=a(function(){ex=new Date},"reset"),eP={name:"appDuration",load:a(function(i){return i.addOnError(function(i){var c=new Date;i.app.duration=c-ex},!0),{reset:eO}},"load")},ej=a(function(i){return void 0===i&&(i=window),{load:a(function(c){c.addOnError(function(c){void 0===c.context&&(c.context=i.location.pathname)},!0)},"load")}},"_$context_40"),eN="bugsnag-anonymous-id",eB=a(function(i){try{var c=i.localStorage,f=c.getItem(eN);return f&&/^c[a-z0-9]{20,32}$/.test(f)||(f=el(),c.setItem(eN,f)),f}catch(i){}},"getDeviceId"),eC=a(function(i,c){return void 0===i&&(i=navigator),void 0===c&&(c=window),{load:a(function(f){var p={locale:i.browserLanguage||i.systemLanguage||i.userLanguage||i.language,userAgent:i.userAgent};c&&c.screen&&c.screen.orientation&&c.screen.orientation.type?p.orientation=c.screen.orientation.type:c&&c.document&&(p.orientation=c.document.documentElement.clientWidth>c.document.documentElement.clientHeight?"landscape":"portrait"),f._config.generateAnonymousId&&(p.id=eB(c)),f.addOnSession(function(i){i.device=O({},i.device,p),f._config.collectUserIp||eT(i)}),f.addOnError(function(i){i.device=O({},i.device,p,{time:new Date}),f._config.collectUserIp||eT(i)},!0)},"load"),configSchema:{generateAnonymousId:{validate:a(function(i){return!0===i||!1===i},"validate"),defaultValue:a(function(){return!0},"defaultValue"),message:"should be true|false"}}}},"_$device_41"),eT=a(function(i){var c=i.getUser();c&&c.id||i.setUser(i.device.id)},"setDefaultUserId"),eM=a(function(i){return void 0===i&&(i=window),{load:a(function(c){c.addOnError(function(c){c.request&&c.request.url||(c.request=O({},c.request,{url:i.location.href}))},!0)},"load")}},"_$request_42"),eL={load:a(function(i){i._sessionDelegate=eF},"load")},eF={startSession:a(function(i,c){return i._session=c,i._pausedSession=null,null===i._config.enabledReleaseStages||h(i._config.enabledReleaseStages,i._config.releaseStage)?(i._delivery.sendSession({notifier:i._notifier,device:c.device,app:c.app,sessions:[{id:c.id,startedAt:c.startedAt,user:c._user}]}),i):(i._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),i)},"startSession"),resumeSession:a(function(i){return i._session?i:i._pausedSession?(i._session=i._pausedSession,i._pausedSession=null,i):i.startSession()},"resumeSession"),pauseSession:a(function(i){i._pausedSession=i._session,i._session=null},"pauseSession")},eR={load:a(function(i){i._config.collectUserIp||i.addOnError(function(i){i._user&&_type_of(i._user.id)>"u"&&delete i._user.id,i._user=O({id:"[REDACTED]"},i._user),i.request=O({clientIp:"[REDACTED]"},i.request)})},"load"),configSchema:{collectUserIp:{defaultValue:a(function(){return!0},"defaultValue"),message:"should be true|false",validate:a(function(i){return!0===i||!1===i},"validate")}}},eI={};eI.load=function(i){/^(local-)?dev(elopment)?$/.test(i._config.releaseStage)||!i._isBreadcrumbTypeEnabled("log")||P(e$,function(c){var p=console[c];console[c]=function(){for(var h=arguments.length,g=new Array(h),v=0;v<h;v++)g[v]=arguments[v];i.leaveBreadcrumb("Console output",f(g,function(i,c,f){var p="[Unknown value]";try{p=String(c)}catch(i){}if("[object Object]"===p)try{p=JSON.stringify(c)}catch(i){}return i["["+f+"]"]=p,i},{severity:0===c.indexOf("group")?"log":c}),"log"),p.apply(console,g)},console[c]._restore=function(){console[c]=p}})};var e$=p(["log","debug","info","warn","error"],function(i){return("undefined"==typeof console?"undefined":_type_of(console))<"u"&&"function"==typeof console[i]}),eV=a(function(i,c){return void 0===i&&(i=document),void 0===c&&(c=window),{load:a(function(h){if(!h._config.trackInlineScripts)return;var g=c.location.href,v="",_=i.attachEvent?"complete"===i.readyState:"loading"!==i.readyState,m=a(function(){return i.documentElement.outerHTML},"getHtml");v=m();var y=i.onreadystatechange;i.onreadystatechange=function(){"interactive"===i.readyState&&(v=m(),_=!0);try{y.apply(this,arguments)}catch(i){}};var b=null,S=a(function(i){b=i},"updateLastScript"),E=a(function(){var c=i.currentScript||b;if(!c&&!_){var f=i.scripts||i.getElementsByTagName("script");c=f[f.length-1]}return c},"getCurrentScript"),w=a(function(i){_&&v||(v=m());var c=["<!-- DOC START -->"].concat(v.split("\n")),p=i-1,h=Math.max(p-3,0),g=Math.min(p+3,c.length);return f(c.slice(h,g),function(i,c,f){return i[h+1+f]=c.length<=200?c:c.substr(0,200),i},{})},"addSurroundingCode");h.addOnError(function(i){i.errors[0].stacktrace=p(i.errors[0].stacktrace,function(i){return!/__trace__$/.test(i.method)});var c=i.errors[0].stacktrace[0],f=a(function(i){return i.replace(/#.*$/,"").replace(/\?.*$/,"")},"cleanUrl");if(!(c&&c.file&&f(c.file)!==f(g))){var h=E();if(h){var v=h.innerHTML;i.addMetadata("script","content",v.length<=5e5?v:v.substr(0,5e5)),c&&c.lineNumber&&(c.code=w(c.lineNumber))}}},!0);var O=P(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(i){return Te(c,i,function(i){return k(i,function(i){return{get:a(function(){return i[0]},"get"),replace:a(function(c){i[0]=c},"replace")}})})})[0];function k(i,c,f){return void 0===f&&(f=!1),function(){var p=[].slice.call(arguments);try{var h=c(p),g=h.get();if(f&&i.apply(this,p),"function"!=typeof g)return i.apply(this,p);if(g.__trace__)h.replace(g.__trace__);else{var v=E();g.__trace__=a(function(){S(v),O(function(){S(null)},0);var i=g.apply(this,arguments);return S(null),i},"__trace__"),g.__trace__.__trace__=g.__trace__,h.replace(g.__trace__)}}catch(i){}if(i.apply)return i.apply(this,p);switch(p.length){case 1:return i(p[0]);case 2:return i(p[0],p[1]);default:return i()}}}P(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(i){c[i]&&c[i].prototype&&Object.prototype.hasOwnProperty.call(c[i].prototype,"addEventListener")&&(Te(c[i].prototype,"addEventListener",function(i){return k(i,lt)}),Te(c[i].prototype,"removeEventListener",function(i){return k(i,lt,!0)}))}),a(k,"__traceOriginalScript")},"load"),configSchema:{trackInlineScripts:{validate:a(function(i){return!0===i||!1===i},"validate"),defaultValue:a(function(){return!0},"defaultValue"),message:"should be true|false"}}}},"_$inlineScriptContent_46");function Te(i,c,f){var p=i[c];if(!p)return p;var h=f(p);return i[c]=h,p}function lt(i){var c=!!i[1]&&"function"==typeof i[1].handleEvent;return{get:a(function(){return c?i[1].handleEvent:i[1]},"get"),replace:a(function(f){c?i[1].handleEvent=f:i[1]=f},"replace")}}a(Te,"__proxy"),a(lt,"eventTargetCallbackAccessor");var eA=a(function(i){return void 0===i&&(i=window),{load:a(function(c){"addEventListener"in i&&c._isBreadcrumbTypeEnabled("user")&&i.addEventListener("click",function(f){var p,h;try{p=Sr(f.target),h=ht(f.target,i)}catch(i){p="[hidden]",h="[hidden]",c._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}c.leaveBreadcrumb("UI click",{targetText:p,targetSelector:h},"user")},!0)},"load")}},"_$interactionBreadcrumbs_47"),eD=/^\s*([^\s][\s\S]{0,139}[^\s])?\s*/;function Sr(i){var c=i.textContent||i.innerText||"";return c||"submit"!==i.type&&"button"!==i.type||(c=i.value),(c=c.replace(eD,"$1")).length>140?c.slice(0,135)+"(...)":c}function ht(i,c){var f=[i.tagName];if(i.id&&f.push("#"+i.id),i.className&&i.className.length&&f.push("."+i.className.split(" ").join(".")),!c.document.querySelectorAll||!Array.prototype.indexOf)return f.join("");try{if(1===c.document.querySelectorAll(f.join("")).length)return f.join("")}catch(i){return f.join("")}if(i.parentNode.childNodes.length>1){var p=Array.prototype.indexOf.call(i.parentNode.childNodes,i)+1;f.push(":nth-child("+p+")")}return 1===c.document.querySelectorAll(f.join("")).length?f.join(""):i.parentNode?ht(i.parentNode,c)+" > "+f.join(""):f.join("")}a(Sr,"getNodeText"),a(ht,"getNodeSelector");var eq={};eq=a(function(i){return void 0===i&&(i=window),{load:a(function(c){if("addEventListener"in i&&c._isBreadcrumbTypeEnabled("navigation")){var f=a(function(i){return function(){return c.leaveBreadcrumb(i,{},"navigation")}},"drop");i.addEventListener("pagehide",f("Page hidden"),!0),i.addEventListener("pageshow",f("Page shown"),!0),i.addEventListener("load",f("Page loaded"),!0),i.document.addEventListener("DOMContentLoaded",f("DOMContentLoaded"),!0),i.addEventListener("load",function(){return i.addEventListener("popstate",f("Navigated back"),!0)}),i.addEventListener("hashchange",function(f){var p=f.oldURL?{from:eH(f.oldURL,i),to:eH(f.newURL,i),state:ez(i)}:{to:eH(i.location.href,i)};c.leaveBreadcrumb("Hash changed",p,"navigation")},!0),i.history.pushState&&eK(c,i.history,"pushState",i,!0),i.history.replaceState&&eK(c,i.history,"replaceState",i)}},"load")}},"_$navigationBreadcrumbs_48");var eH=a(function(i,c){var f=c.document.createElement("A");return f.href=i,""+f.pathname+f.search+f.hash},"relativeLocation"),eU=a(function(i,c,f,p){var h=eH(i.location.href,i);return{title:f,state:c,prevState:ez(i),to:p||h,from:h}},"stateChangeToMetadata"),eK=a(function(i,c,f,p,h){void 0===h&&(h=!1);var g=c[f];c[f]=function(v,_,m){i.leaveBreadcrumb("History "+f,eU(p,v,_,m),"navigation"),h&&"function"==typeof i.resetEventCount&&i.resetEventCount(),g.apply(c,[v,_].concat(void 0!==m?m:[]))}},"wrapHistoryFn"),ez=a(function(i){try{return i.history.state}catch(i){}},"getCurrentState"),eX="request",eG=a(function(i,c){return void 0===i&&(i=[]),void 0===c&&(c=window),{load:a(function(f){if(!f._isBreadcrumbTypeEnabled("request"))return;var p=[f._config.endpoints.notify,f._config.endpoints.sessions].concat(i);function s(){if(!(!("addEventListener"in c.XMLHttpRequest.prototype)||!("WeakMap"in c))){var i=new WeakMap,f=new WeakMap,p=c.XMLHttpRequest.prototype.open;c.XMLHttpRequest.prototype.open=a(function(c,f){this&&i.set(this,{method:c,url:f}),p.apply(this,arguments)},"open");var h=c.XMLHttpRequest.prototype.send;c.XMLHttpRequest.prototype.send=a(function(c){var p=this,g=i.get(this);if(g){var v=f.get(this);v&&(this.removeEventListener("load",v.load),this.removeEventListener("error",v.error));var _=new Date,m=a(function(){return d(g.method,g.url,eJ(_))},"error"),y=a(function(){return o(g.method,g.url,p.status,eJ(_))},"load");this.addEventListener("load",y),this.addEventListener("error",m),this&&f.set(this,{load:y,error:m})}h.apply(this,arguments)},"send")}}function o(i,c,g,v){if(void 0===c){f._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}if(!("string"==typeof c&&h(p,c.replace(/\?.*$/,"")))){var _={status:g,method:String(i),url:String(c),duration:v};g>=400?f.leaveBreadcrumb("XMLHttpRequest failed",_,eX):f.leaveBreadcrumb("XMLHttpRequest succeeded",_,eX)}}function d(i,c,g){if(void 0===c){f._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}"string"==typeof c&&h(p,c.replace(/\?.*$/,""))||f.leaveBreadcrumb("XMLHttpRequest error",{method:String(i),url:String(c),duration:g},eX)}function u(){if(!(!("fetch"in c)||c.fetch.polyfill)){var i=c.fetch;c.fetch=a(function(c,f){var p,h=arguments,_=null;return c&&(void 0===c?"undefined":_type_of(c))=="object"?(_=c.url,f&&"method"in f?p=f.method:c&&"method"in c&&(p=c.method)):(_=c,f&&"method"in f&&(p=f.method)),void 0===p&&(p="GET"),new Promise(function(c,f){var m=new Date;i.apply(void 0,h).then(function(i){g(i,p,_,eJ(m)),c(i)}).catch(function(i){v(p,_,eJ(m)),f(i)})})},"fetch")}}s(),u(),a(s,"monkeyPatchXMLHttpRequest"),a(o,"handleXHRLoad"),a(d,"handleXHRError"),a(u,"monkeyPatchFetch");var g=a(function(i,c,p,h){var g={method:String(c),status:i.status,url:String(p),duration:h};i.status>=400?f.leaveBreadcrumb("fetch() failed",g,eX):f.leaveBreadcrumb("fetch() succeeded",g,eX)},"handleFetchSuccess"),v=a(function(i,c,p){f.leaveBreadcrumb("fetch() error",{method:String(i),url:String(c),duration:p},eX)},"handleFetchError")},"load")}},"_$networkBreadcrumbs_49"),eJ=a(function(i){return i&&new Date-i},"getDuration"),eW={load:a(function(i){var c=0;i.addOnError(function(f){if(c>=i._config.maxEvents)return i._logger.warn("Cancelling event send due to maxEvents per session limit of "+i._config.maxEvents+" being reached"),!1;c++}),i.resetEventCount=function(){c=0}},"load"),configSchema:{maxEvents:{defaultValue:a(function(){return 10},"defaultValue"),message:"should be a positive integer â‰¤100",validate:a(function(i){return y(1,100)(i)},"validate")}}},eY={};var eZ=(eY={load:a(function(i){i.addOnError(function(i){P(f(i.errors,function(i,c){return i.concat(c.stacktrace)},[]),function(i){i.file=eZ(i.file)})})},"load")})._strip=function(i){return"string"==typeof i?i.replace(/\?.*$/,"").replace(/#.*$/,""):i},eQ=a(function(i,c){return void 0===i&&(i=window),void 0===c&&(c="window onerror"),{load:a(function(f){if(!f._config.autoDetectErrors||!f._config.enabledErrorTypes.unhandledExceptions)return;function r(i,h,g,v,_){if(0===g&&/Script error\.?/.test(i))f._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var m,y={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}};if(_)e0((m=f.Event.create(_,!0,y,c,1)).errors[0].stacktrace,h,g,v);else if((void 0===i?"undefined":_type_of(i))!="object"||null===i||h&&"string"==typeof h||g||v||_)e0((m=f.Event.create(i,!0,y,c,1)).errors[0].stacktrace,h,g,v);else{var b=i.type?"Event: "+i.type:"Error",S=i.message||i.detail||"";(m=f.Event.create({name:b,message:S},!0,y,c,1)).originalError=i,m.addMetadata(c,{event:i,extraParameters:h})}f._notify(m)}"function"==typeof p&&p.apply(this,arguments)}a(r,"onerror");var p=i.onerror;i.onerror=r},"load")}},"_$onerror_52"),e0=a(function(i,c,f,p){i[0]||i.push({});var h=i[0];h.file||"string"!=typeof c||(h.file=c),!h.lineNumber&&e1(f)&&(h.lineNumber=f),h.columnNumber||(e1(p)?h.columnNumber=p:window.event&&e1(window.event.errorCharacter)&&(h.columnNumber=window.event.errorCharacter))},"decorateStack"),e1=a(function(i){return"number"==typeof i&&"NaN"!==String.call(i)},"isActualNumber"),e2=a(function(i){return void 0===i&&(i=window),{load:a(function(c){if(!(!c._config.autoDetectErrors||!c._config.enabledErrorTypes.unhandledRejections)){var f=a(function(i){var f=i.reason,p=!1;try{i.detail&&i.detail.reason&&(f=i.detail.reason,p=!0)}catch(i){}var h=!c._config.reportUnhandledPromiseRejectionsAsHandled,g=c.Event.create(f,!1,{severity:"error",unhandled:h,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,c._logger);p&&P(g.errors[0].stacktrace,e3(f)),c._notify(g,function(i){if(V(i.originalError)&&!i.originalError.stack){var c;i.addMetadata("unhandledRejection handler",((c={})[Object.prototype.toString.call(i.originalError)]={name:i.originalError.name,message:i.originalError.message,code:i.originalError.code},c))}})},"listener");"addEventListener"in i?i.addEventListener("unhandledrejection",f):i.onunhandledrejection=function(i,c){f({detail:{reason:i,promise:c}})}}},"load")}},"_$unhandledRejection_53"),e3=a(function(i){return function(c){c.file!==i.toString()&&c.method&&(c.method=c.method.replace(/^\s+/,""))}},"fixBluebirdStacktrace"),e4={},e5=O({},E.schema,N),e6={_client:null,createClient:a(function(i){"string"==typeof i&&(i={apiKey:i}),i||(i={});var c=new ev(i,e5,[eP,eC(),ej(),eM(),eW,eL,eR,eY,eQ(),e2(),eq(),eA(),eG(),eI,eV()],{name:"Bugsnag JavaScript",version:"8.1.2",url:"https://github.com/bugsnag/bugsnag-js"});return c._setDelivery(window.XDomainRequest?eS:ew),c._logger.debug("Loaded!"),c.leaveBreadcrumb("Bugsnag loaded",{},"state"),c._config.autoTrackSessions?c.startSession():c},"createClient"),start:a(function(i){return e6._client?(e6._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),e6._client):(e6._client=e6.createClient(i),e6._client)},"start"),isStarted:a(function(){return null!=e6._client},"isStarted")};return P(["resetEventCount"].concat(m(ev.prototype)),function(i){/^_/.test(i)||(e6[i]=function(){if(!e6._client)return console.log("Bugsnag."+i+"() was called before Bugsnag.start()");e6._client._depth+=1;var c=e6._client[i].apply(e6._client,arguments);return e6._client._depth-=1,c})}),(e4=e6).Client=ev,e4.Event=U,e4.Session=ed,e4.Breadcrumb=C,e4.default=e6,e4})}(v,v.exports);var _=v.exports;var m=g(_),y=/*#__PURE__*/function(){function pe(i){var c=this;_class_call_check(this,pe),x(this,"plugin"),x(this,"metadata",{}),x(this,"customMetaData"),x(this,"beforeSend",a(function(i){var f=i.originalError;return!(c.plugin.isErrorIgnoredByCode(f)||c.plugin.isErrorIgnoredByMessage(f))&&(i.clearMetadata("global"),i.addMetadata("global",c.metadata),c.customMetaData&&(i.clearMetadata("custom"),i.addMetadata("custom",c.customMetaData)),!0)},"beforeSend")),this.plugin=i}return _create_class(pe,[{key:"configure",value:function(i){var c=i.apiKey,f=i.buildVersion,p=i.releaseStage;m.start({apiKey:c,appVersion:f,releaseStage:p,autoDetectErrors:!0,autoTrackSessions:!0,onError:this.beforeSend})}},{key:"setUser",value:function(i){var c=i.id,f=i.name;m.setUser(null!=c?c:void 0,void 0,null!=f?f:void 0)}},{key:"sendException",value:function(i,c){c&&(this.customMetaData=c),_instanceof(i,Error)?m.notify(i):m.notify(new Error(JSON.stringify(i)))}},{key:"setMetaData",value:function(i){this.metadata=i}},{key:"addBreadcrumb",value:function(i){m.leaveBreadcrumb(i)}}]),pe}();a(y,"BugSnagAdapter");var b=/*#__PURE__*/function(){function ge(){_class_call_check(this,ge)}return _create_class(ge,[{key:"configure",value:function(i){}},{key:"setUser",value:function(i){}},{key:"sendException",value:function(i){}},{key:"addBreadcrumb",value:function(i){}},{key:"setMetaData",value:function(i){}}]),ge}();a(b,"SentryAdapter");var S=h.Utils,E=S.Valid,w=S.Object,O=/*#__PURE__*/function(i){function ve(){var i;return _class_call_check(this,ve),i=_call_super(this,ve,arguments),x(i,"config"),x(i,"adapter"),x(i,"metadata",{}),x(i,"feedbackPopup",null),x(i,"filterErrors",null),x(i,"feedbackAsync",a(/*#__PURE__*/function(){var c=_async_to_generator(function(c){var f;return _ts_generator(this,function(p){switch(p.label){case 0:if(p.trys.push([0,2,,3]),!i.feedbackPopup)return[2];return f="",c&&(f="error"in c?c.error:c.reason),[4,new Promise(function(c,p){i.feedbackPopup&&(i.feedbackPopup.onYes(i.handleOnYes(c,f)),i.feedbackPopup.onNo(i.handleOnNo(p)),i.feedbackPopup.onScreenshot(i.handleOnScreenshot()),i.feedbackPopup.show(f))})];case 1:return p.sent(),[3,3];case 2:return p.sent(),[3,3];case 3:return[2]}})});return function(i){return c.apply(this,arguments)}}(),"feedbackAsync")),x(i,"handleOnYes",a(function(c,f){return function(){if(!i.feedbackPopup)return;var p=i.feedbackPopup.getFeedback()||"",h=i.feedbackPopup.getScreenshot();p&&i.sendException(new Error("User feedback"),{feedback:p,screenshot:h,error:f}),i.feedbackPopup.hide(),c()}},"handleOnYes")),x(i,"handleOnNo",a(function(c){return function(){i.feedbackPopup&&(i.feedbackPopup.hide(),c(new Error("User canceled feedback")))}},"handleOnNo")),x(i,"handleOnScreenshot",a(function(){return function(){i.feedbackPopup&&i.getScreenshot().then(function(c){i.feedbackPopup&&i.feedbackPopup.setScreenshot(c)})}},"handleOnScreenshot")),x(i,"initFeedbackTrackErrors",a(/*#__PURE__*/_async_to_generator(function(){return _ts_generator(this,function(c){switch(c.label){case 0:if(!i.config.feedback)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,i.loadFeedbackPopup()];case 2:return c.sent(),[3,4];case 3:return c.sent(),[3,4];case 4:return[2]}})}),"initFeedbackTrackErrors")),i}return _inherits(ve,i),_create_class(ve,[{key:"configure",value:function(i){this.config=i,this.filterErrors={Codes:{Accepted:[],Ignored:[]},Messages:{Accepted:[],Ignored:[]}},this.adapter=this.getAdapterByService(),this.adapter.configure(this.config)}},{key:"getAdapterByService",value:function(){switch(this.config.service){case"BugSnag":return new y(this);case"Sentry":return new b}}},{key:"setUser",value:function(i){var c;this.config.trackUser&&(null==(c=this.adapter)||c.setUser(i))}},{key:"sendException",value:function(i,c){var f;if(this.isErrorIgnoredByCode(i)||this.isErrorIgnoredByMessage(i))return;var p=this.metadata;c&&(p=w.merge(p,c)),null==(f=this.adapter)||f.sendException(i,p)}},{key:"isErrorIgnoredByCode",value:function(i){if(!w.hasOwn(i,"code"))return!1;var c=i.code;if(!E.isString(c)||!this.filterErrors)return!1;var f=this.filterErrors.Codes,p=f.Accepted,h=f.Ignored;return!(p.indexOf(c)>-1)&&h.indexOf(c)>-1}},{key:"isErrorIgnoredByMessage",value:function(i){if(!w.hasOwn(i,"message"))return!1;var c=i.message;if(!E.isString(c)||!this.filterErrors)return!1;var f=this.filterErrors.Messages,p=f.Accepted,h=f.Ignored;return!(p.indexOf(c)>-1)&&h.indexOf(c)>-1}},{key:"addBreadcrumb",value:function(i){var c;null==(c=this.adapter)||c.addBreadcrumb(i)}},{key:"addFilterErrors",value:function(i){this.filterErrors=w.merge(this.filterErrors,i)}},{key:"addMetadata",value:function(i){var c;E.isObject(i)&&(this.metadata=w.merge(this.metadata,i),null==(c=this.adapter)||c.setMetaData(this.metadata))}},{key:"removeMetadata",value:function(i){var c;w.hasOwn(this.metadata,i)&&(this.metadata[i]=void 0,null==(c=this.adapter)||c.setMetaData(this.metadata))}},{key:"getScreenshot",value:function(){var i=document.getElementById("GameCanvas");return new Promise(function(c){requestAnimationFrame(function(){c(i.toDataURL("image/jpeg",.4))})})}},{key:"loadFeedbackPopup",value:function(){var i=this;return _async_to_generator(function(){var f;return _ts_generator(this,function(h){switch(h.label){case 0:if(!!i.feedbackPopup)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,p(/*#__PURE__*/_async_to_generator(function(){return _ts_generator(this,function(i){switch(i.label){case 0:return[4,Promise.resolve().then(function(){return N})];case 1:return[2,{default:i.sent().default}]}})}),void 0,c.meta.url)];case 2:if("function"!=typeof(f=h.sent().default))return console.error("FeedbackPopup is not a valid function"),[2];return i.feedbackPopup=new f,[3,4];case 3:return console.error("Error loading FeedbackPopup:",h.sent()),[3,4];case 4:return[2]}})})()}}]),ve}(f.Plugins.BasePlugin);a(O,"MonitorErrorPlugin"),i("default",O);var P=["Bug","Game is choppy","Audio issue","Deformed graphics","Low FPS","Other"],j=/*#__PURE__*/function(){function _e(){var i=this;var c=this;_class_call_check(this,_e),x(this,"popup"),x(this,"title"),x(this,"screenshot"),x(this,"feedback"),x(this,"okButton"),x(this,"noButton"),x(this,"screenshotButton"),x(this,"okCallback"),x(this,"noCallback"),x(this,"screenshotCallback"),x(this,"feedbackSelections",[]),x(this,"onYes",a(function(c){i.okButton.removeEventListener("click",i.okCallback),i.okCallback=i.handleCallback(c),i.okButton.addEventListener("click",i.okCallback,{once:!0})},"onYes")),x(this,"onNo",a(function(c){i.noButton.removeEventListener("click",i.noCallback),i.noCallback=i.handleCallback(c),i.noButton.addEventListener("click",i.noCallback,{once:!0})},"onNo")),x(this,"onScreenshot",a(function(c){i.screenshotButton.removeEventListener("click",i.screenshotCallback),i.screenshotCallback=i.handleCallback(c,!1),i.screenshotButton.addEventListener("click",i.screenshotCallback)},"onScreenshot")),x(this,"handleCallback",a(function(i,f){var p=!(arguments.length>1)||void 0===f||f;return function(f){f.stopImmediatePropagation(),p&&c.hide(),i(),c.disableScreenshotButton()}},"handleCallback")),this.createPopupElement(),this.addPopupElementStyle();var f=new MutationObserver(function(){document.getElementById("GameDiv")&&i.setupPopupElementSizeAndPosition()}),p=document.body;f.observe(p,{attributes:!0,childList:!0,subtree:!0})}return _create_class(_e,[{key:"createPopupElement",value:function(){var i=this.getPopupHTML(),c=this.createElement(i);this.setupPopupStyles(c),this.initializeElements(c)}},{key:"createElement",value:function(i){var c=document.createElement("div");return c.id=this.constructor.name,c.innerHTML=i,document.body.appendChild(c),c}},{key:"setupPopupStyles",value:function(i){i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.backgroundColor="#0000001f",i.style.alignItems="center",i.style.justifyContent="center",this.popup=i,this.popup.style.display="none",i.style.setProperty("--popup-bg-color","#161616"),i.style.setProperty("--popup-width","100%"),i.style.setProperty("--popup-height","100%")}},{key:"initializeElements",value:function(i){this.title=this.getElement(i,".popup__title"),this.screenshot=this.getElement(i,".popup__screenshot img"),this.feedback=this.getElement(i,".popup__field"),this.okButton=this.getElement(i,".popup__btns .btn:nth-child(2)"),this.noButton=this.getElement(i,".popup__close"),this.screenshotButton=this.getElement(i,".popup__btns .btn:first-child"),this.setInitialFeedbackText(),this.createFeedbackSelections(i)}},{key:"getElement",value:function(i,c){return i.querySelector(c)}},{key:"setInitialFeedbackText",value:function(){this.feedback.placeholder="Please enter your feedback here",this.title.innerText="Feedback"}},{key:"createFeedbackSelections",value:function(i){var c=this.getElement(i,".popup__selections");var f=true,p=false,h=void 0;try{for(var g,v=P[Symbol.iterator]();!(f=(g=v.next()).done);f=true){var _=g.value;var m=this.createFeedbackSelection(_);c.appendChild(m),this.feedbackSelections.push(m)}}catch(i){p=true,h=i}finally{try{if(!f&&null!=v.return)v.return()}finally{if(p)throw h}}}},{key:"createFeedbackSelection",value:function(i){var c=document.createElement("div");c.classList.add("selection"),c.innerHTML=this.getSelectionHTML(),c.querySelector(".label").innerText=i;var f=c.querySelector(".checkbox");return f.addEventListener("click",function(){f.classList.toggle("checked")}),c}},{key:"addPopupElementStyle",value:function(){var i=this.createStyleElement(),c=this.getPopupCSS();this.appendStyleToHead(i,c)}},{key:"createStyleElement",value:function(){var i=document.createElement("style");return i.id="feedback-async-popup-style",i}},{key:"appendStyleToHead",value:function(i,c){var f=document.head||document.getElementsByTagName("head")[0];i.appendChild(document.createTextNode(c)),f.appendChild(i)}},{key:"setupPopupElementSizeAndPosition",value:function(){var i=document.getElementById(this.constructor.name);if(!i)return;var c=i.querySelector(".popup");if(!c||!document.getElementById("GameDiv"))return;var f=document.body.getBoundingClientRect(),p=f.width,h=f.height;c.style.width="".concat(500,"px"),c.style.scale="".concat(Math.min(p<550?p/550:1,h<800?h/800:1))}},{key:"disableScreenshotButton",value:function(){this.screenshotButton.classList.add("disabled"),this.screenshotButton.innerHTML="<p>Captured</p>"}},{key:"getFeedback",value:function(){var i=this.feedbackSelections.reduce(function(i,c){if(!c.querySelector(".checkbox.checked"))return i;return i+(i?", ":"")+c.querySelector(".label").innerText},"");return this.feedback.value?"".concat(i,": ").concat(this.feedback.value):i}},{key:"getScreenshot",value:function(){return this.screenshot.src}},{key:"setScreenshot",value:function(i){this.screenshot.src=i}},{key:"show",value:function(i){var c=arguments.length>0&&void 0!==i?i:"";this.feedback.value=c,this.popup.style.display="flex";var f=true,p=false,h=void 0;try{for(var g,v=this.feedbackSelections[Symbol.iterator]();!(f=(g=v.next()).done);f=true)g.value.querySelector(".checkbox").classList.remove("checked")}catch(i){p=true,h=i}finally{try{if(!f&&null!=v.return)v.return()}finally{if(p)throw h}}}},{key:"hide",value:function(){this.popup.style.display="none"}},{key:"getPopupHTML",value:function(){return'\n        <div class="popup">\n            <h2 class="popup__title"></h2>\n            <div class="popup__screenshot">\n                <img src="" alt="Screenshot" />\n            </div>\n            <div class="popup__selections">\n                <!-- Feedback selections will be dynamically added here -->\n            </div>\n            <textarea class="popup__field" placeholder="Please enter your feedback here"></textarea>\n            <div class="popup__btns">\n                <button class="btn" id="screenshot-button"><p>Take a screenshot</p></button>\n                <button class="btn" id="ok"><p>Send</p></button>\n            </div>\n            <button class="popup__close"></button>\n        </div>'}},{key:"getSelectionHTML",value:function(){return'\n        <div class="checkbox">\n            <div class="check-mark"></div>\n        </div>\n        <div class="label"></div>'}},{key:"getPopupCSS",value:function(){return"\n        :root {\n            --popup-bg-color: rgba(26, 26, 26, 0.9);\n            --button-bg-color: #4f4f4f;\n            --button-disabled-bg-color: #7f7f7f;\n            --field-bg-color: #333;\n            --field-placeholder-color: #a27860;\n        }\n\n        .popup {\n            color: #fff;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            padding: 20px;\n            background-color: var(--popup-bg-color);\n            border-radius: 20px;\n        }\n\n        .popup__title {\n            font-size: 2rem;\n            font-weight: bold;\n            margin-bottom: 1rem;\n        }\n\n        .popup__btns {\n            display: flex;\n            flex-direction: column; /* Stack buttons vertically */\n            width: 100%;\n        }\n\n        .btn {\n            padding: 1rem;\n            border-radius: 0.5rem;\n            border: none;\n            cursor: pointer;\n            background-color: var(--button-bg-color);\n            margin-bottom: 0.5rem;\n        }\n\n        .btn p {\n            color: #fff;\n            margin: 0;\n            font-size: 1.5rem;\n            font-weight: bold;\n        }\n\n        .btn.disabled {\n            background-color: var(--button-disabled-bg-color);\n            cursor: not-allowed;\n        }\n\n        .popup__close {\n            position: absolute;\n            top: 1.5rem;\n            right: 1.5rem;\n            background-color: #4f4f4f;\n            border: none;\n            width: 2rem;\n            height: 2rem;\n        }\n\n        .popup__field {\n            width: 100%;\n            height: 150px;\n            font-size: 1rem;\n            padding: 1rem;\n            resize: none;\n            margin-bottom: 1rem;\n            border: none;\n            outline: none;\n            background-color: var(--field-bg-color);\n            color: #fff;\n            overflow: hidden;\n        }\n\n        .popup__field::placeholder {\n            color: var(--field-placeholder-color);\n        }\n\n        .popup__screenshot {\n            width: 100%;\n            display: none;\n            justify-content: center;\n            margin-bottom: 1rem;\n        }\n\n        .popup__screenshot img {\n            width: 100%;\n            aspect-ratio: 16 / 9;\n            object-fit: cover;\n            border-radius: 0.5rem;\n        }\n\n        .popup__selections {\n            display: flex;\n            flex-direction: column;\n            width: 100%;\n            margin-bottom: 1rem;\n        }\n\n        .selection {\n            display: flex;\n            align-items: center;\n            margin: 0.5rem 0;\n            font-size: 24px;\n        }\n\n        .selection .checkbox {\n            width: 1.5rem;\n            height: 1.5rem;\n            margin-right: 1rem;\n            cursor: pointer;\n            position: relative;\n            background-color: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .selection .checkbox .check-mark {\n            display: none;\n            width: 1rem;\n            height: 1rem;\n            background-color: green;\n            border-radius: 50%;\n        }\n\n        .selection .checkbox.checked .check-mark {\n            display: block;\n        }"}}]),_e}();a(j,"FeedbackAsyncPopup");var N=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"}))},"execute")}});