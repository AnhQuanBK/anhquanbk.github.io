"use strict";function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _assert_this_initialized(self1){if(void 0===self1)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return self1}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self1=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self1,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _call_super(_this,derived,args){return derived=_get_prototype_of(derived),_possible_constructor_return(_this,_is_native_reflect_construct()?Reflect.construct(derived,args||[],_get_prototype_of(_this).constructor):derived.apply(_this,args))}function _class_call_check(instance,Constructor){if(!(instance instanceof Constructor))throw TypeError("Cannot call a class as a function")}function _construct(Parent,args,Class){return(_construct=_is_native_reflect_construct()?Reflect.construct:function construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_set_prototype_of(instance,Class.prototype),instance}).apply(null,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _create_class(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function get(target,property,receiver){var base=_super_prop_base(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver||target):desc.value}})(target,property,receiver||target)}function _get_prototype_of(o){return(_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_set_prototype_of(subClass,superClass)}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?!!right[Symbol.hasInstance](left):left instanceof right}function _is_native_function(fn){return -1!==Function.toString.call(fn).indexOf("[native code]")}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _possible_constructor_return(self1,call){return call&&("object"===_type_of(call)||"function"==typeof call)?call:_assert_this_initialized(self1)}function set(target,property,value,receiver){return(set="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function set1(target,property,value,receiver){var desc,base=_super_prop_base(target,property);if(base){if((desc=Object.getOwnPropertyDescriptor(base,property)).set)return desc.set.call(receiver,value),!0;if(!desc.writable)return!1}if(desc=Object.getOwnPropertyDescriptor(receiver,property)){if(!desc.writable)return!1;desc.value=value,Object.defineProperty(receiver,property,desc)}else _define_property(receiver,property,value);return!0})(target,property,value,receiver)}function _set(target,property,value,receiver,isStrict){if(!set(target,property,value,receiver||target)&&isStrict)throw Error("failed to set property");return value}function _set_prototype_of(o,p){return(_set_prototype_of=Object.setPrototypeOf||function setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _super_prop_base(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_get_prototype_of(object)););return object}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _type_of(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function _wrap_native_super(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrap_native_super=function wrapNativeSuper(Class){if(null===Class||!_is_native_function(Class))return Class;if("function"!=typeof Class)throw TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_get_prototype_of(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_set_prototype_of(Wrapper,Class)})(Class)}function _is_native_reflect_construct(){try{var result=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return(_is_native_reflect_construct=function(){return!!result})()}function _ts_generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}!function(){var v,A,Ie,dr,gt,Ug,Vg,Ne,Kg,Wg,ur,pr,Vd,zg,Pt,qg,Yg,kn,mr,Jg,Gn,Ud,Qg,Xg,Zg,eP,tP,Kd,rP,nP,Fn,Bn,aP,oP,sP,iP,lP,dP,uP,Hd,Kn,Un,Hn,Vn,Hg=function Hg(){var n=["error","unhandledrejection"],e=null!=(_Ne___listeners=Ne.__listeners)?_Ne___listeners:[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _e_t,_Ne___listeners,_step,_iterator=n[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var t=_step.value;(null==(_e_t=e[t])?void 0:_e_t[0])&&Ne.removeEventListener(t,Ne.__listeners[t].shift())}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}},Bd=function Bd(n){Ne.__errorQueue&&(Ne.__errorQueue.length>=Kg&&(Ne.__errorQueue.length=0),Ne.__errorQueue.push("string"==typeof n?Error(n):n))},jg=function jg(){Ne.addEventListener("error",function(n){Bd(n.error)}),Ne.addEventListener("unhandledrejection",function(n){Bd(n.reason)})},pP=function pP(){var n=arguments;"event"===n[0]&&("object"!=_type_of(n[2])&&(n[2]={}),n[2].build=1,n[2].send_to="GA",n[2].extend_session=1),window.dataLayer.push(n)},mP=function mP(){try{return}catch(e){}},DP=function DP(n){for(var e=0,t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t)|0;return e},LP=function LP(){var n,e=window,t="GameSDK";return"FBInstant"in e?(t="FBInstant",n=new O(window.FBInstant)):"YaGames"in e?(t="Yandex",n=new O(window.YaGames)):"funmax"in e?(t="Xiaomi",n=new O(window.funmax)):"$msstart"in e?(t="MsGames",n=new O(window.$msstart)):"gdsdk"in e?(t="GameDistribution",n=new O(window.gdsdk)):"h5sdk"in e?(t="TranssionH5",n=new O(window.h5sdk)):"CrazyGames"in e?(t="CrazyGames",n=new O(window.CrazyGames.SDK)):"GlanceGamingAdInterface"in e?(t="Glance",n=new O(window.GlanceGamingAdInterface)):"mraid"in e?(t="Playable",n=new O(window.mraid)):"MetaHorizon"in e?(t="Horizon",n=new O(window.MetaHorizon)):"ytgame"in e?(t="YoutubePlayables",n=new du(window.ytgame)):n=new xr,n},s$=function s$(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=[],r=n.split(" "),o=r.length,w=o;w>=1;w--)for(var I=0;I<=o-w;I++){var D=r.slice(I,I+w).join(" ");n.split(D).length-1>=e&&0>t.indexOf(D)&&D.length>1&&t.push(D)}return t.sort(function(w,I){return w.length-I.length})},_m=function _m(n){var e=$$(n),t=e%Nm.length,r=(e>>8)%Rm.length,o=(e>>16)%1e4;return"".concat(Nm[t]).concat(Rm[r]).concat(o)},Hh=function Hh(n){codex.event.emit(SA.REQUEST_LANGUAGE,{locale:n})},bs=function bs(n){return JA.isEmpty(n)?null:n},Tg=Object.create,ft=Object.defineProperty,Mg=Object.defineProperties,kd=Object.getOwnPropertyDescriptor,Og=Object.getOwnPropertyDescriptors,Ng=Object.getOwnPropertyNames,lr=Object.getOwnPropertySymbols,Rg=Object.getPrototypeOf,Rn=Object.prototype.hasOwnProperty,Gd=Object.prototype.propertyIsEnumerable,yt=Math.pow,Nn=function(n,e,t){return e in n?ft(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t},N=function(n,e){for(var t in e||(e={}))Rn.call(e,t)&&Nn(n,t,e[t]);var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;if(lr)try{for(var _step,_iterator=lr(e)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var t=_step.value;Gd.call(e,t)&&Nn(n,t,e[t])}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return n},Se=function(n,e){return Mg(n,Og(e))},a=function(n,e){return ft(n,"name",{value:e,configurable:!0})},_n=function(n,e){var t={};for(var r in n)Rn.call(n,r)&&0>e.indexOf(r)&&(t[r]=n[r]);var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;if(null!=n&&lr)try{for(var _step,_iterator=lr(n)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var r=_step.value;0>e.indexOf(r)&&Gd.call(n,r)&&(t[r]=n[r])}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return t},W=function(n,e){return function(){return n&&(e=n(n=0)),e}},_g=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},Fd=function(n,e){for(var t in e)ft(n,t,{get:e[t],enumerable:!0})},kg=function(n,e,t,r){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;if(e&&(void 0===e?"undefined":_type_of(e))=="object"||"function"==typeof e)try{for(var _step,_loop=function(){var o=_step.value;Rn.call(n,o)||o===t||ft(n,o,{get:function(){return e[o]},enumerable:!(r=kd(e,o))||r.enumerable})},_iterator=Ng(e)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_loop()}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return n},Gg=function(n,e,t){return t=null!=n?Tg(Rg(n)):{},kg(!e&&n&&n.__esModule?t:ft(t,"default",{value:n,enumerable:!0}),n)},pe=function(n,e,t,r){for(var I,o=r>1?void 0:r?kd(e,t):e,w=n.length-1;w>=0;w--)(I=n[w])&&(o=(r?I(e,t,o):I(o))||o);return r&&o&&ft(e,t,o),o},Ge=function(n,e,t){return Nn(n,(void 0===e?"undefined":_type_of(e))!="symbol"?e+"":e,t)},s=W(function(){v={AppId:"save-the-pets",AppDescription:"",ApiHost:"https://igs-singleplay.suncs.app",OtherHost:"https://igs-leaderboard.suncs.app",Ads:{Enabled:!0,PreloadAds:!1,NotifyPlayerBeforeShow:!1,ShowAdOnLoad:{Enabled:!1,DelaySeconds:0,PlacementId:"ad_demo_01"},DegradationTracking:{ResetTimeMinutes:5,MaxFailedAttempts:8},AdServiceConfigs:{AdSense:{Enabled:!1,UsePreload:!1,DataAdClient:"ca-pub-1234567890",DataAdChannel:"1234567890",DataAdBreakTest:!1,DataAdFrequencyHint:30},Savana:{Enabled:!1,UsePreload:!1,DataAdClient:"ca-pub-1234567890",DataAdChannel:"1234567890",DataAdBreakTest:!1,DataAdFrequencyHint:45,BannerAdSlotId:"1234567890"},AppLovin:{Enabled:!1,UsePreload:!1}},InterstitialAdOptions:[{DeviceOS:"default",PlacementId:"interstitial_01",SecondsFirstTime:45,SecondsBetweenAds:60}],RewardedVideoAdOptions:[{DeviceOS:"default",PlacementId:"rewarded_video_01",SecondsFirstTime:0,SecondsBetweenAds:0}],RewardedInterstitialAdOptions:[],BannerDisplayAdOptions:[]},Languages:{Enabled:!0,DetectPlayerLocale:!0},GameSDKOptions:{AllowWithoutSDK:!1,UseNameGenerator:!0,MSGames:{LoginOnStart:!1,MaxLoginAttemptsPerDay:1},Yandex:{LoginOnStart:!1,MaxLoginAttemptsPerDay:1},Playable:{AppleAppStoreUrl:"",GooglePlayStoreUrl:""},TranssionH5:{GaId:"G-XXXXXXXXXX"}},Core:{InitAsync:!0,AverageLoadTime:5,StartSDKAfterLoadGame:!1,FastCheckTournamentContext:!0},GameEngine:{ForceDesktopDPR:2,AutoResizeCanvas:!0,PreferredFPS:{Mobile:60,Desktop:60},DynamicAtlas:{IOS:{Enabled:!0,MaxAtlasSize:8192,MaxFrameSize:2048,MaxAtlasCount:1},Android:{Enabled:!0,MaxAtlasSize:4096,MaxFrameSize:2048,MaxAtlasCount:1},Desktop:{Enabled:!0,MaxAtlasSize:8192,MaxFrameSize:2048,MaxAtlasCount:1},OptimizeAtlas:{Enabled:!0,AtlasDebug:!1,AutoAtlasSize:!0,UsePowerOfTwo:!1,TextureBleeding:!0,AllowNonePackable:!1,OnlyOptimizeWhenRenderTooLong:!0}},DynamicAssets:{Enabled:!1,Resolution:{Source:2,Available:[1,2]},Compression:{Debug:!1,Enabled:!1,PNG:{colors:256,quality:80,dither:.6,palette:!0,compressionLevel:6},JPEG:{quality:80,mozjpeg:!0},WEBP:{quality:80,lossless:!1,alphaQuality:60,smartSubsample:!0,preset:"drawing"}},IgnoreFiles:[]},HybridFileCache:{Enabled:!0,BuildMode:{Enabled:!0,InvalidateMode:"both",SupportedExtensions:[".json"]},PreviewMode:{Enabled:!1,CacheScene:!1,CachePrefab:!1,CacheUuidExtension:!1,InvalidateMode:"commitId",SupportedExtensions:[".json"]}}},Gameplay:{StartAdAtLevel:1,MaxRescueCount:1,Tutorial:{Enabled:!0,ForceUseTutorial:!1}},Firebase:{Enabled:!1,Options:{AppId:"",ApiKey:"",ProjectId:"",AuthDomain:"",StorageBucket:"",MeasurementId:"",MessagingSenderId:""},Services:{Analytics:{Enabled:!1},Performance:{Enabled:!1},RemoteConfig:{Enabled:!1}}},Analytics:{Enabled:!0,GoogleAnalytics:{Enabled:!0,ConsoleLog:!1},ClarityAnalytics:{Enabled:!1,ConsoleLog:!1,ScreenshotCanvas:{Interval:1500,ByEvent:["APP_READY","PAGE_VIEW","BUTTON_CLICK","AD_SHOWING","LEVEL_START","LEVEL_END"]}},FirebaseAnalytics:{Enabled:!1,ConsoleLog:!1},FacebookAnalytics:{Prefix:"fba",Enabled:!1,ConsoleLog:!1}},PerformanceMonitor:{CoreFlows:!1,EngineFlows:!1,GameSDKFlows:!1,LoadResources:!1,FpsTracking:{Enabled:!1,TrackingDuration:60,TrackingInterval:10}},RemoteConfig:{Enabled:!1,Options:{ForceReloadGame:!1,FetchIntervalInSeconds:300},ServiceType:"mockup",DefaultConfigId:"default",SupportedDataTypes:["Ludex","Gameplay"],MockupConfig:{Enabled:!0},SelfHostedConfig:{Enabled:!1,AppId:"",ApiKey:"",ApiUrl:""}},Network:{MaximumRequest:6,Timeout:15e3,Retries:3},Leaderboards:{Enabled:!0,LeaderboardList:[{Name:"Daily",Id:"5fed5ccff033f2477a624a66",Mode:"single",Limit:50},{Name:"Weekly",Id:"5fed5ccff033f2477a624a65",Mode:"single",Limit:50}]},Notification:{Enabled:!1,ApiUrl:"https://notifications.sunstudio.io"},DailyRewards:{Enabled:!1,MaxDays:7,MockTime:0,CheckInterrupt:!1},Mockup:{Ads:{Enabled:!1,ErrorRate:5,GiphyApiKey:"VmjHIRsfrwCAssDS4mDo9DoImxJm1lLM",SafeAreaBottom:0},Match:{Enabled:!1,ErrorRate:5,PlayerInfo:{Id:"player-mock",Name:"Player Mock",Photo:"",Signature:""},OpponentInfo:{Id:"opponent-mock",Name:"Opponent Mock",Photo:"",Signature:""}},GameSDK:{SlowAPI:{Enabled:!1,ErrorRate:5,StartDelay:1e3,InitialDelay:1e3,PlayerDataDelay:1e3},Context:{Enabled:!1},Player:{SubscribeBot:{Enabled:!1,CanSubscribeBot:!0},ConnectedPlayers:{Enabled:!1,ErrorRate:5,RandomDelayMs:1e3,NumOfPlayers:3}},AddShortcut:{Enabled:!1,CanCreateShortcut:!0},Tournament:{Enabled:!1,ErrorRates:5,RandomDelayMs:1e3,NumOfTournament:{Normal:10,HostPage:2}},Payments:{Enabled:!1,ErrorRates:5,RandomDelayMs:1e3,Products:[]}},Profile:{Enabled:!1,ErrorRate:5,RandomDelayMs:1e3,AvatarUrl:"https://picsum.photos/seed/%1/300/300",RandomNameApiKey:"a1f7164dc9d2468b953aef67b0a19355"},Leaderboards:{Enabled:!1,MinScore:10,MaxScore:100,ErrorRate:5,NumOfLeaders:{Min:10,Max:50},DefaultLimit:60,RandomDelayMs:1e3}},Debugger:{Console:{Enabled:!1,UseGroup:!0,UseInGameConsole:!1},Profiler:{Enabled:!1},EventLogging:{Enabled:!1},CanvasRecorder:{Enabled:!1,OnlyCore:!1,PanelExpanded:!1,Options:{Type:"png",Quality:.85,RecordFps:60,SyncFps:!0}},MonitorError:{Enabled:!1,ApiKey:"",Service:"BugSnag",TrackUser:!1,TrackPerformance:!1,FilterErrors:{Codes:{Accepted:[],Ignored:["USER_INPUT","NETWORK_FAILURE"]},Messages:{Accepted:[],Ignored:["Load image failed"]}},Feedback:!1},ListPlayerDevIds:[],InputRecorder:{Enabled:!1,Logging:!0,PlaybackDelay:0,TimeScale:1,UseVisualizer:!0,SkipInactivity:{Enabled:!0,MinTime:3e3},MouseEvents:{mousedown:!0,mouseup:!0,mousemove:!0,mouseenter:!0,mouseleave:!0,mouseout:!0,mouseover:!0}}},AdaptivePerformance:{Enabled:!1,Quality:{Min:1,Max:2,AdjustStep:.1},Options:{FpsThreshold:48,CheckInterval:2e3,AutoUpgradeQuality:!0,OnlyUpdateWhenSwitchScene:!1},TrackingSceneNames:["GameScene"]},FrameCapture:{Enabled:!0,Options:{Quality:.85,RenderType:"jpeg",UseBlobIfPossible:!0,FallbackWithWideframe:"Default"}},Auth:{Enabled:!0},Audio:{Enabled:!0},Match:{Enabled:!0},Player:{Enabled:!0},Profile:{Enabled:!0},Context:{Enabled:!0},Missions:{Enabled:!1},Visibility:{Enabled:!0}}}),i=W(function(){A={AllowWithoutSDK:!1,UseNameGenerator:!0}}),c=W(function(){(Ie=window.console).debug=function(){},Ie.info=Ie.log=Ie.dir=Ie.warn=Ie.error=Ie.debug=Ie.table=Ie.trace=Ie.group=Ie.groupEnd=Ie.groupCollapsed=function(){}}),l=W(function(){gt={},(dr=window).__listeners=gt,Ug=dr.addEventListener.bind(dr),Vg=100,dr.addEventListener=function(n,e,t){gt[n]||(gt[n]=[]),gt[n].length>=Vg&&(gt[n].length=0),gt[n].push(e),Ug(n,e,t)}}),d=W(function(){(Ne=window).__errorQueue=[],Kg=100,a(Hg,"disableSimpleTrackErrors"),a(Bd,"errorHandler"),a(jg,"init"),Ne.addEventListener("load",function(){Hg(),jg()})}),u=W(function(){Wg=a(function(n){return Math.max(0,Math.min(100,~~n))},"clamp"),ur=null,window.__sdkLoad={percent:0,ensure:function ensure(n){if(!(this.percent>n)){var e=Wg(n);e<=this.percent||(this.percent=e,ur||(ur=GameSDK),ur&&ur.setLoadingProgress(e))}}}}),p=W(function(){var _window___errorQueue;window.__errorQueue=null!=(_window___errorQueue=window.__errorQueue)?_window___errorQueue:[],pr=null,Vd=a(function(){pr&&clearInterval(pr),pr=null},"stopProgressTimer"),zg=a(function(n){var t=n-window.__sdkLoad.percent;if(!(t<=0)){var r=5e3/t,o=Math.max(r,50);pr=setInterval(function(){var I=window.__sdkLoad.percent+1;I>n?Vd():window.__sdkLoad.ensure(I)},o)}},"startProgressTimer"),Pt=a(function(n){var _Ludex,_window___errorQueue,_codex_monitorError,_codex,e=null==(_Ludex=Ludex)?void 0:_Ludex.Utils.Function.toError(n);(null==e?void 0:e.message)&&(kn("app_crash_handle",{error:e.message}),null==(_window___errorQueue=window.__errorQueue)||_window___errorQueue.push(e),null==(_codex=codex)||null==(_codex_monitorError=_codex.monitorError)||_codex_monitorError.sendException(e))},"logError"),qg="GameSDK Initialize",Yg=a(function(){var n=console.time,e=console.timeEnd,t=console.timeLog,r=a(function(o){return o[0]===qg},"skipMark");console.time=function(){for(var _n,_len=arguments.length,o=Array(_len),_key=0;_key<_len;_key++)o[_key]=arguments[_key];r(o)||(_n=n).call.apply(_n,[console].concat(_to_consumable_array(o)))},console.timeEnd=function(){for(var _e,_len=arguments.length,o=Array(_len),_key=0;_key<_len;_key++)o[_key]=arguments[_key];r(o)||(_e=e).call.apply(_e,[console].concat(_to_consumable_array(o)))},console.timeLog=function(){for(var _t,_len=arguments.length,o=Array(_len),_key=0;_key<_len;_key++)o[_key]=arguments[_key];r(o)||(_t=t).call.apply(_t,[console].concat(_to_consumable_array(o)))}},"monitorGameSDKFlows"),kn=a(function(n,e){var _codex_analytics,_codex;n&&(null==(_codex=codex)||null==(_codex_analytics=_codex.analytics)||_codex_analytics.event(n,e))},"logAnalyticsEvent"),mr=null,Jg=a(function(){Gn(),mr=setTimeout(function(){var _GameSDK_extra_displayWarnLoading,_GameSDK_extra,_GameSDK;window.__sdkLoad.percent<=5&&(null==(_GameSDK=GameSDK)||null==(_GameSDK_extra=_GameSDK.extra)||null==(_GameSDK_extra_displayWarnLoading=_GameSDK_extra.displayWarnLoading)||_GameSDK_extra_displayWarnLoading.call(_GameSDK_extra,!0))},8e3)},"startSlowLoadingCheck"),Gn=a(function(){var _GameSDK_extra_displayWarnLoading,_GameSDK_extra,_GameSDK;null!==mr&&(clearTimeout(mr),mr=null),null==(_GameSDK=GameSDK)||null==(_GameSDK_extra=_GameSDK.extra)||null==(_GameSDK_extra_displayWarnLoading=_GameSDK_extra.displayWarnLoading)||_GameSDK_extra_displayWarnLoading.call(_GameSDK_extra,!1)},"clearSlowLoadingCheck"),Ud=!1,Qg=a(function(n){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){return Ud?[2]:(Ud=!0,[2,((e=document.createElement("script")).src="https://www.googletagmanager.com/gtag/js?id=".concat(n),e.async=!0,new Promise(function(t,r){var o=!1,w=null,I=null,D=null,E=a(function(){null!==w&&clearTimeout(w),I&&e.removeEventListener("load",I),D&&e.removeEventListener("error",D)},"cleanup");w=setTimeout(function(){o||(o=!0,E(),r(Error("Timeout loading GA script after ".concat(10,"s"))))},1e4),I=a(function(){o||(o=!0,E(),t())},"loadHandler"),D=a(function(){o||(o=!0,E(),r(Error("Failed to load GA script")))},"errorHandler"),e.addEventListener("load",I),e.addEventListener("error",D),document.head.appendChild(e)}))])})})()},"loadGAScript"),Xg=a(function(n,e,t){try{if("function"!=typeof window.gtag)return;var _$r=(null==(_GameSDK=GameSDK)?void 0:_GameSDK.getEntryPointData())||{},o=_$r.fbig_ad_id,w=_$r.fbig_adset_id,I=_$r.fbig_campaign_id,D=_$r.fb_instant_game_adset_id,E=_$r.fb_instant_game_ad_id,S=_$r.fb_instant_game_campaign_id,b=null!=(_ref=null!=o?o:E)?_ref:void 0,L=null!=(_ref1=null!=w?w:D)?_ref1:void 0,_=null!=(_ref2=null!=I?I:S)?_ref2:void 0;window.dataLayer=window.dataLayer||[],window.gtag("js",new Date),window.gtag("set",{client_id:"100.".concat(n),user_id:n,send_page_view:!1});var C=1,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _GameSDK,_Ludex_Utils_Browser,_Ludex_Utils,_Ludex,_ref,_ref1,_ref2,_step,_iterator=t[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var $=_step.value;window.gtag("config",$,{cookie_flags:"SameSite=None;Secure",build:C,medium:e,campaign:_,groups:"GA"})}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var R=((null==(_Ludex=Ludex)||null==(_Ludex_Utils=_Ludex.Utils)||null==(_Ludex_Utils_Browser=_Ludex_Utils.Browser)?void 0:_Ludex_Utils_Browser.getQueryParams())||{}).entry_point||e,z={user_id:n,player_id:n,app_version:C,traffic_source:e,traffic_source_detail:R,ad_id:b,adset_id:L,campaign_id:_,new_user:void 0,coins:void 0,score:void 0};window.gtag("set","user_properties",z)}catch(r){Pt(r)}},"initGoogleAnalytics"),Zg=a(function(){return _async_to_generator(function(){var n;return _ts_generator(this,function(_state){n=[];try{return[2]}catch(t){Pt(t)}finally{tP()}return[2]})})()},"processGoogleAnalytics"),eP=a(function(){try{if(!(null==(_codex=codex)?void 0:_codex.player)||"function"!=typeof window.gtag)return;var _codex,_codex_player_getGameData,_GameSDK,_codex_player_getBestScore,_codex_player_getGameData_coins,_codex_player_isFirstSession,_$n=null!=(_codex_player_getBestScore=codex.player.getBestScore())?_codex_player_getBestScore:0,e=null!=(_codex_player_getGameData_coins=null==(_codex_player_getGameData=codex.player.getGameData())?void 0:_codex_player_getGameData.coins)?_codex_player_getGameData_coins:0,t=null!=(_codex_player_isFirstSession=codex.player.isFirstSession())?_codex_player_isFirstSession:void 0,r=(null==(_GameSDK=GameSDK)?void 0:_GameSDK.getEntryPointData())||{},o=r.content,w=r.notif_id,I={new_user:t,coins:e,score:_$n};(o||w)&&(I.traffic_source_detail=null!=o?o:"notif_".concat(w));var D=Object.entries(I).filter(function(param){var _param=_sliced_to_array(param,2),S=(_param[0],_param[1]);return void 0!==S}).reduce(function(E,param){var _param=_sliced_to_array(param,2),S=_param[0],b=_param[1];return E[S]=b,E},{});Object.keys(D).length>0&&window.gtag("set","user_properties",D)}catch(n){Pt(n)}},"updateUserProperties"),tP=a(function(){var n=Ludex.Events,tmp=Ludex.Plugins.Analytics,e=(void 0===tmp?{}:tmp).Events;if(e)try{kn(e.APP_LAUNCH),codex.event.catchUp(n.GAME_SDK_READY,function(){kn(e.APP_INITIALIZED)}),codex.event.catchUp(n.PLAYER_INFO_LOADED,eP)}catch(t){Pt(t)}finally{codex.event.emit(n.ANALYTICS_READY)}},"finalizeAnalyticsInitialization"),Kd=a(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _async_to_generator(function(){var _$e,e;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),Jg(),[4,GameSDK.initializeAsync()];case 1:return _state.sent(),Gn(),zg(100),_$e=Zg(),codex.event.emit(Ludex.Events.GAME_SDK_READY),[3,3];case 2:if(e=_state.sent(),Gn(),Vd(),n>=5)return Pt(e),[2];return setTimeout(function(){return Kd(n+1)},2e3),[3,3];case 3:return[2]}})})()},"initGameSDK"),rP=a(function(){var n=0,e=a(function(){"GameSDK"in window?Kd():n<1e4?(n+=50,setTimeout(e,50)):Pt(Error("GameSDK not found after ".concat(10,"s")))},"check");e()},"waitForGameSDKAndInitialize"),Yg(),rP()}),m=W(function(){nP=window.navigator.getGamepads,window.navigator.getGamepads=function(){try{return nP()}catch(e){return[]}}}),h=W(function(){window.performance=window.performance||{},("function"!=typeof performance.mark||"function"!=typeof performance.measure)&&(window.performance={mark:a(function(){},"mark"),measure:a(function(){},"measure")}),performance.mark("load-start")}),f=W(function(){Fn="0",Bn="0",aP=a(function(){if(URLSearchParams){var n=new URLSearchParams(window.location.search);Fn=n.get("no-toolbar")||Fn,Bn=n.get("no-vconsole")||Bn,"1"===Fn&&oP(),"1"===Bn&&sP()}},"initUtils"),oP=a(function(){var n=setInterval(function(){var e=document.querySelector(".toolbar");_instanceof(e,HTMLDivElement)&&(clearInterval(n),e.style.display="none")},100)},"setupNoToolbar"),sP=a(function(){Object.defineProperty(window,"VConsole",{value:void 0,writable:!1,configurable:!1});var n=document.querySelector('script[src="/node_modules/vconsole/dist/vconsole.min.js"]');n&&n.remove()},"setupNoVConsole"),aP(),iP=["Init Base","Init Infrastructure","Init SubSystem","Init Project"],a(function(){var n=console.time,e=console.timeEnd,t=console.timeLog,r=a(function(o){return!!iP.includes(o[0])},"skipMark");console.time=function(){for(var _n,_len=arguments.length,o=Array(_len),_key=0;_key<_len;_key++)o[_key]=arguments[_key];r(o)||(_n=n).call.apply(_n,[console].concat(_to_consumable_array(o)))},console.timeEnd=function(){for(var _e,_len=arguments.length,o=Array(_len),_key=0;_key<_len;_key++)o[_key]=arguments[_key];r(o)||(_e=e).call.apply(_e,[console].concat(_to_consumable_array(o)))},console.timeLog=function(){for(var _t,_len=arguments.length,o=Array(_len),_key=0;_key<_len;_key++)o[_key]=arguments[_key];r(o)||(_t=t).call.apply(_t,[console].concat(_to_consumable_array(o)))}},"monitorEngineFlows")()}),y=W(function(){lP=a(function(){System.register(["../application.js"],function(){var n,e=function e(r){return System.import(r)};function t(){var r=document.getElementById("GameCanvas"),o=null==r?void 0:r.parentElement;if(!o)return void setTimeout(t,300);r.style.position="relative";var w=o.getBoundingClientRect();r.width=w.width,r.height=w.height;var I=new n;e("cc").then(function(D){return new Promise(function(E){codex.event.catchUp(Ludex.Events.CORE_BOOTING,function(){window.__sdkLoad.ensure(20),E(I.init(D))})})}).then(function(){return window.__sdkLoad.ensure(30),I.start()}).then(function(){window.__sdkLoad.ensure(40)}).catch(function(D){var _codex_monitorError,E=Ludex.Utils.Function.toError(D);null==(_codex_monitorError=codex.monitorError)||_codex_monitorError.sendException(E)})}return a(e,"topLevelImport"),a(t,"execute"),{setters:[function(r){n=r.Application}],execute:t}})},"initCocos"),dP=a(function(){var _e,_t,n=System,e=n.import,t=n.register,r=a(function(o){setTimeout(function(){return n.delete(o)},8e3)},"deleteModule");n.import=function(){for(var _len=arguments.length,o=Array(_len),_key=0;_key<_len;_key++)o[_key]=arguments[_key];return r(o[0]),(_e=e).call.apply(_e,[n].concat(_to_consumable_array(o)))},n.register=function(){for(var _len=arguments.length,o=Array(_len),_key=0;_key<_len;_key++)o[_key]=arguments[_key];return(Array.isArray(o[0])?o[0]:[o[0]]).forEach(r),(_t=t).call.apply(_t,[n].concat(_to_consumable_array(o)))}},"injectFlushSystem"),uP=setInterval(function(){"System"in window&&(clearInterval(uP),dP(),lP())},5)}),g=W(function(){window.dataLayer=window.dataLayer||[],a(pP,"trace"),window.gtag=pP,a(mP,"addGoogleAnalyticsScript"),mP()}),P=W(function(){Hd=a(function(n){if(n.startsWith("http")||n.startsWith("data:"))return n;var _n_split=_sliced_to_array(n.split("?"),2),e=_n_split[0],t=_n_split[1],r=e.split("/").map(function(o){return o&&o.replace(/[^a-zA-Z0-9\-._]/g,".")}).join("/");return t?"".concat(r,"?").concat(t):r},"sanitizeUrl"),a(Kn=/*#__PURE__*/function(hP1){function Kn1(){return _class_call_check(this,Kn1),_call_super(this,Kn1,arguments)}return _inherits(Kn1,hP1),_create_class(Kn1,[{key:"open",value:function open(e,t,r,o,w){var I="string"==typeof t?Hd(t):t;_get(_get_prototype_of(Kn1.prototype),"open",this).call(this,e,I,!1!==r,o,w)}}]),Kn1}(window.XMLHttpRequest),"YoutubeAdapterRequest"),Un=Kn,window.XMLHttpRequest=Un,a(Hn=/*#__PURE__*/function(fP1){function Hn1(){return _class_call_check(this,Hn1),_call_super(this,Hn1,arguments)}return _inherits(Hn1,fP1),_create_class(Hn1,[{key:"src",get:function get(){return _get(_get_prototype_of(Hn1.prototype),"src",this)},set:function set(e){_set(_get_prototype_of(Hn1.prototype),"src",Hd(e),this,!0)}}]),Hn1}(window.Image),"YoutubeAdapterImage"),Vn=Hn,window.Image=Vn}),Q={};Fd(Q,{default:function(){return O}});var O,Wn,hr,Yn,fr,yP,Xn,yr,gr,gP,PP,xP,wP,jd,ea,ra,Wd,qd,Yd,aa,Pr,ia,Jd,Ut,$P,AP,vP,bP,SP,Xd,ca,da,Zd,pa,xr,fa,tu,nu,ga,au,xa,su,$a,cu,va,du,Sa,IP,xt,k=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),O=null}),zn=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),Wn=/*#__PURE__*/function(){function Wn1(e){var _this=this;_class_call_check(this,Wn1),_define_property(this,"c",void 0),_define_property(this,"t",void 0),_define_property(this,"H",null),_define_property(this,"K","SOLO"),_define_property(this,"bt",[]),_define_property(this,"ae",null),_define_property(this,"x",null),_define_property(this,"se",null),_define_property(this,"tt",void 0),_define_property(this,"Lt",[]),_define_property(this,"fe",void 0),_define_property(this,"V",a(function(e){return function(){_this.t.isPopupShown=!1,e(!0)}},"handleOnYes$")),_define_property(this,"W",a(function(e){return function(){_this.t.isPopupShown=!1;try{_this.t.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}}},"handleOnNo$")),this.c=e,this.t=e.extra}return _create_class(Wn1,[{key:"setCurrentContextId",value:function setCurrentContextId(e){this.ge(e),this.H=e,this.K="THREAD"}},{key:"initContextInfo",value:function initContextInfo(e,t){var _Ludex_Utils=Ludex.Utils,r=_Ludex_Utils.Array,o=_Ludex_Utils.String;this.tt={},this.fe={},this.Lt=r.fillWith(10,function(){return o.generateObjectId()}),!(!e||!t)&&(0>["SOLO","THREAD","POST","GROUP"].indexOf(t)||(this.H=e,this.K=t))}},{key:"getID",value:function getID(){return this.H}},{key:"getType",value:function getType(){return this.K}},{key:"xs",value:function xs(){return _async_to_generator(function(){var e,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.se)return[2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:if(!(_tmp="function"==typeof(e=_state.sent().default)))return[3,3];return this.se=new e,[4,this.se.setupTemplate()];case 2:_tmp=_state.sent(),_state.label=3;case 3:return[2]}})}).call(this)}},{key:"As",value:function As(){return _async_to_generator(function(){var e,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.ae)return[2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:if(!(_tmp="function"==typeof(e=_state.sent().default)))return[3,3];return this.ae=new e,[4,this.ae.setupTemplate()];case 2:_tmp=_state.sent(),_state.label=3;case 3:return[2]}})}).call(this)}},{key:"vs",value:function vs(){return _async_to_generator(function(){var e,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.x)return[2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:if(!(_tmp="function"==typeof(e=_state.sent().default)))return[3,3];return this.x=new e,[4,this.x.setupTemplate()];case 2:_tmp=_state.sent(),_state.label=3;case 3:return[2]}})}).call(this)}},{key:"switchAsync",value:function switchAsync(_0){return _async_to_generator(function(e){var _this,t,r,_arguments=arguments;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _this=this,t=_arguments.length>1&&void 0!==_arguments[1]&&_arguments[1],this.t.checkPopupShown(),[4,this.t.awaitRandomDelay()];case 1:if(_state.sent(),this.Ps(e),"SOLO"===e&&t)return this.H=null,this.K="SOLO",this.st([]),[2];return[4,this.xs()];case 2:return _state.sent(),[4,new Promise(function(o,w){_this.se||_this.c.extra.exceptionUnsupported(),_this.se.onYes(_this.V(o)),_this.se.onNo(_this.W(w)),_this.se.show(e),_this.t.isPopupShown=!0})];case 3:return _state.sent(),this.H=e,this.K="THREAD",this.Pa(e,10),r=this.fe[e].map(function(o){return _this.Ot(o)}),this.st(r),[2]}})}).apply(this,arguments)}},{key:"chooseAsync",value:function chooseAsync(e){return _async_to_generator(function(){var _this,t,r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _this=this,this.t.checkPopupShown(),[4,this.t.awaitRandomDelay()];case 1:return _state.sent(),[4,this.As()];case 2:return _state.sent(),[4,new Promise(function(w,I){_this.ae||_this.c.extra.exceptionUnsupported(),_this.ae.onYes(_this.V(w)),_this.ae.onNo(_this.W(I)),_this.ae.show(),_this.t.isPopupShown=!0})];case 3:return _state.sent(),t=Math.floor(Math.random()*this.Lt.length),r=this.Lt[t],this.ge(r),this.H=r,this.K="THREAD",this.Pa(r,2),o=this.fe[r].map(function(w){return _this.Ot(w)}),this.st(o),[2]}})}).call(this)}},{key:"createAsync",value:function createAsync(e){return _async_to_generator(function(){var _this,o,t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _this=this,this.t.checkPopupShown(),[4,this.t.awaitRandomDelay()];case 1:return _state.sent(),[4,this.Is(e)];case 2:return _state.sent(),[4,this.vs()];case 3:return _state.sent(),[4,new Promise(function(o,w){_this.x||_this.c.extra.exceptionUnsupported(),_this.x.onYes(_this.V(o)),_this.x.onNo(_this.W(w)),_this.x.show(e),_this.t.isPopupShown=!0})];case 4:return _state.sent(),this.tt[e]||(o=Ludex.Utils.String,this.tt[e]=o.generateObjectId()),t=this.tt[e],this.ge(t),this.H=t,this.K="THREAD",r=this.Ot(e),this.st([r]),[2]}})}).call(this)}},{key:"getPlayersAsync",value:function getPlayersAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.t.awaitRandomDelay()];case 1:return[2,(_state.sent(),this.bt)]}})}).call(this)}},{key:"Pa",value:function Pa(e,t){if(!this.fe[e]){var _Ludex_Utils=Ludex.Utils,r=_Ludex_Utils.Array,o=_Ludex_Utils.String,w=Math.floor(Math.random()*t),I=r.fillWith(w,function(){return o.generateObjectId()});this.fe[e]=I}return this.fe[e]}},{key:"Ot",value:function Ot(e){return{getID:a(function(){return e},"getID"),getName:a(function(){return"Player ".concat(e)},"getName"),getPhoto:a(function(){return""},"getPhoto")}}},{key:"st",value:function st(e){if("SOLO"===this.K){this.bt=[];return}this.bt=e}},{key:"ge",value:function ge(e){this.H===e&&this.t.exceptionSameContext()}},{key:"Is",value:function Is(e){return _async_to_generator(function(){var r,t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return(!e||Array.isArray(e))&&this.t.exceptionClientUnsupportedOperation("Client does not support no player IDS or multiple player IDs yet"),Ludex.Utils.Valid.isString(e)||(r="Array of type String contained a value of another type: ".concat(e),this.t.exceptionInvalidParam(r)),e===GameSDK.player.getID()&&this.t.exceptionInvalidParam("At least one player id besides the current player must be provided."),[4,GameSDK.player.getConnectedPlayersAsync()];case 1:if(_state.sent().some(function(r){return r.getID()===e}))return[2];return t="Provided ID ".concat(e," is not a connected player of the current player."),this.t.exceptionInvalidParam(t),[2]}})}).call(this)}},{key:"Ps",value:function Ps(e){this.ge(e),Ludex.Utils.Valid.isString(e)||this.t.exceptionClientUnsupportedOperation("Client requires update to support this operation")}}]),Wn1}(),a(Wn,"Context"),hr=Wn}),Jn=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),a(Yn=/*#__PURE__*/function(Error1){function Yn1(e,t){var _this;return _class_call_check(this,Yn1),_define_property(_this=_call_super(this,Yn1,[t]),"code",void 0),_this.code=e,_this}return _inherits(Yn1,Error1),Yn1}(_wrap_native_super(Error)),"SDKCommonError"),fr=Yn}),Zn=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),Jn(),yP=1e4,a(Xn=/*#__PURE__*/function(){function Xn1(e){_class_call_check(this,Xn1),_define_property(this,"c",void 0),_define_property(this,"isGuest",!1),_define_property(this,"isPopupShown",!1),_define_property(this,"z",null),this.c=e}return _create_class(Xn1,[{key:"checkAndSubscribeBotAsync",value:function checkAndSubscribeBotAsync(){return _async_to_generator(function(){var e,tmp,t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.c.player.canSubscribeBotAsync()];case 1:if(!_state.sent())return[2,!1];e=codex.analytics,(t=(void 0===(tmp=Ludex.Plugins.Analytics)?{}:tmp).Events)&&e.event(t.BOT_SUBSCRIBE_POPUP),_state.label=2;case 2:return _state.trys.push([2,5,,6]),[4,this.waitSDKInitiatedAsync()];case 3:return _state.sent(),[4,this.c.player.subscribeBotAsync()];case 4:return[2,(_state.sent(),t&&e.event(t.BOT_SUBSCRIBE,{success:!0}),!0)];case 5:return e1=_state.sent(),[2,(t&&e.event(t.BOT_SUBSCRIBE,{success:!1}),!1)];case 6:return[2]}})}).call(this)}},{key:"checkAndCreateShortcutAsync",value:function checkAndCreateShortcutAsync(){return _async_to_generator(function(){var e,tmp,t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.c.canCreateShortcutAsync()];case 1:if(!_state.sent())return[2];e=codex.analytics,(t=(void 0===(tmp=Ludex.Plugins.Analytics)?{}:tmp).Events)&&e.event(t.SHORTCUT_CREATE_POPUP),_state.label=2;case 2:return _state.trys.push([2,5,,6]),[4,this.waitSDKInitiatedAsync()];case 3:return _state.sent(),[4,this.c.createShortcutAsync()];case 4:return _state.sent(),t&&e.event(t.SHORTCUT_CREATE,{success:!0}),[3,6];case 5:return e1=_state.sent(),t&&e.event(t.SHORTCUT_CREATE,{success:!1}),[3,6];case 6:return[2]}})}).call(this)}},{key:"waitSDKInitiatedAsync",value:function waitSDKInitiatedAsync(){var e=Ludex.Events.GAME_SDK_READY;return new Promise(function(t){codex.event.catchUp(e,t)})}},{key:"waitLudexReadyAsync",value:function waitLudexReadyAsync(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){return e=0,[2,new Promise(function(t){var r=setInterval(function(){if("Ludex"in window){clearInterval(r),t();return}(e+=10)>yP&&(e=0)},10)})]})})()}},{key:"createLoadingElement",value:function createLoadingElement(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.z)return[2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:return"function"==typeof(e=_state.sent().default)&&(this.z=new e),[2]}})}).call(this)}},{key:"setLoadingElementProgress",value:function setLoadingElementProgress(e){this.z&&this.z.setLoadingProgress(e)}},{key:"displayWarnLoading",value:function displayWarnLoading(e){this.z&&this.z.displayWarnLoading(e)}},{key:"destroyLoadingElement",value:function destroyLoadingElement(){this.z&&this.z.removeLoadingElement()}},{key:"checkPopupShown",value:function checkPopupShown(){this.isPopupShown&&this.exceptionPendingRequest("Please wait for the popup to close")}},{key:"delayInitialAsync",value:function delayInitialAsync(){return _async_to_generator(function(){var e,t,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(e=Ludex.Utils.Time,_tmp=!(t=Ludex.Configs.Mockup.GameSDK.SlowAPI).Enabled||t.InitialDelay<=0)return[3,2];return[4,e.sleepAsync(t.InitialDelay)];case 1:_tmp=_state.sent(),_state.label=2;case 2:return[2]}})})()}},{key:"delayStartAsync",value:function delayStartAsync(){return _async_to_generator(function(){var e,t,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(e=Ludex.Configs.Mockup.GameSDK.SlowAPI,t=Ludex.Utils.Time,_tmp=!e.Enabled||e.StartDelay<=0)return[3,2];return[4,t.sleepAsync(e.StartDelay)];case 1:_tmp=_state.sent(),_state.label=2;case 2:return[2]}})})()}},{key:"delayPlayerDataAsync",value:function delayPlayerDataAsync(){return _async_to_generator(function(){var e,t,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(e=Ludex.Configs.Mockup.GameSDK.SlowAPI,t=Ludex.Utils.Time,_tmp=!e.Enabled||e.PlayerDataDelay<=0)return[3,2];return[4,t.sleepAsync(e.PlayerDataDelay)];case 1:_tmp=_state.sent(),_state.label=2;case 2:return[2]}})})()}},{key:"awaitRandomDelay",value:function awaitRandomDelay(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return Ludex.Utils.Time.sleepAsync(Math.random()*e)}},{key:"randomException",value:function randomException(e){var t=Math.floor(Math.random()*e.length),r=e[t];this["exception".concat(r)]()}},{key:"getErrorMessage",value:function getErrorMessage(e){var _Ludex_Utils=Ludex.Utils,t=_Ludex_Utils.Valid;return _Ludex_Utils.Object.hasOwn(e,"message")&&t.isString(e.message)?e.message:null}},{key:"A",value:function A(e,t){throw new fr(e,t)}},{key:"exceptionUserInput",value:function exceptionUserInput(e){this.A("USER_INPUT",e)}},{key:"exceptionUnsupported",value:function exceptionUnsupported(){this.A("UNSUPPORTED","Unsupported method")}},{key:"exceptionInvalidParam",value:function exceptionInvalidParam(e){this.A("INVALID_PARAM",e)}},{key:"exceptionPendingRequest",value:function exceptionPendingRequest(e){this.A("PENDING_REQUEST",e)}},{key:"exceptionMethodNotImplemented",value:function exceptionMethodNotImplemented(){this.A("METHOD_NOT_IMPLEMENTED","Method not implemented")}},{key:"exceptionTournamentNotFound",value:function exceptionTournamentNotFound(e){this.A("TOURNAMENT_NOT_FOUND",e)}},{key:"exceptionSameContext",value:function exceptionSameContext(){this.A("SAME_CONTEXT","Must specify a context other than the current one.")}},{key:"exceptionInvalidOperation",value:function exceptionInvalidOperation(e){this.A("INVALID_OPERATION",e)}},{key:"exceptionNetworkFailure",value:function exceptionNetworkFailure(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request failed to be processed";this.A("NETWORK_FAILURE",e)}},{key:"exceptionUnknown",value:function exceptionUnknown(e){this.A("UNKNOWN",e)}},{key:"exceptionClientUnsupportedOperation",value:function exceptionClientUnsupportedOperation(e){this.A("CLIENT_UNSUPPORTED_OPERATION",e)}},{key:"exceptionRateLimited",value:function exceptionRateLimited(e){this.A("RATE_LIMITED",e)}}]),Xn1}(),"Extra"),yr=Xn}),zd=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),gP=_to_consumable_array(gr=["Unsupported","NetworkFailure","PendingRequest","ClientUnsupportedOperation"]).concat(["InvalidParam"]),PP=_to_consumable_array(gr).concat(["InvalidParam","UserInput"]),xP=_to_consumable_array(gr).concat(["NetworkFailure"]),wP=_to_consumable_array(gr).concat(["InvalidParam","UserInput"]),jd="ProductsDataMockKey",ea="PurchasesDataMockKey",ra=/*#__PURE__*/function(){function ra1(e){var _this=this;_class_call_check(this,ra1),_define_property(this,"c",void 0),_define_property(this,"t",void 0),_define_property(this,"n",void 0),_define_property(this,"re",null),_define_property(this,"V",a(function(e){return function(){_this.t.isPopupShown=!1,e(!0)}},"handleOnYes$")),_define_property(this,"W",a(function(e){return function(){_this.t.isPopupShown=!1;try{_this.t.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}}},"handleOnNo$")),this.c=e,this.t=e.extra,this.n=e.context}return _create_class(ra1,[{key:"initPaymentInfoAsync",value:function initPaymentInfoAsync(){return _async_to_generator(function(){var _tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!(_tmp=Ludex.Configs.Mockup.GameSDK.Payments.Enabled))return[3,2];return[4,this.Ds()];case 1:_tmp=_state.sent(),_state.label=2;case 2:return[2]}})}).call(this)}},{key:"getCatalogAsync",value:function getCatalogAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.N()];case 1:return _state.sent(),this.rt(gP),[2,Object.values(this.Nt())]}})}).call(this)}},{key:"Es",value:function Es(){return _async_to_generator(function(){var e,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.re)return[2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:if(!(_tmp="function"==typeof(e=_state.sent().default)))return[3,3];return this.re=new e,[4,this.re.setupTemplate()];case 2:_tmp=_state.sent(),_state.label=3;case 3:return[2]}})}).call(this)}},{key:"purchaseAsync",value:function purchaseAsync(e){return _async_to_generator(function(){var _this;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _this=this,this.t.checkPopupShown(),[4,this.N()];case 1:return _state.sent(),this.Ss(e),this.rt(PP),[4,this.Es()];case 2:return _state.sent(),[4,new Promise(function(t,r){_this.re||_this.c.extra.exceptionUnsupported(),_this.re.onYes(_this.V(t)),_this.re.onNo(_this.W(r)),_this.re.show(e),_this.t.isPopupShown=!0})];case 3:return[2,(_state.sent(),this.bs(e))]}})}).call(this)}},{key:"getPurchasesAsync",value:function getPurchasesAsync(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.N()];case 1:return _state.sent(),this.rt(xP),[2,(e=this.c.player.getID())&&this._t()[e]||[]]}})}).call(this)}},{key:"consumePurchaseAsync",value:function consumePurchaseAsync(e){return _async_to_generator(function(){var t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.N()];case 1:if(_state.sent(),this.Ls(e),this.rt(wP),!(t=this.c.player.getID()))return[2];return r=(this._t()[t]||[]).filter(function(o){return o.purchaseToken!==e}),this.Ia(t,r),[2]}})}).call(this)}},{key:"onReady",value:function onReady(e){e()}},{key:"N",value:function N(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){return e=Ludex.Configs.Mockup.GameSDK.Payments.RandomDelayMs,[2,this.t.awaitRandomDelay(e)]})}).call(this)}},{key:"rt",value:function rt(e){100*Math.random()<Ludex.Configs.Mockup.GameSDK.Payments.ErrorRates&&this.t.randomException(e)}},{key:"Ss",value:function Ss(e){var _Ludex_Utils=Ludex.Utils,t=_Ludex_Utils.Object,r=_Ludex_Utils.Valid;r.isObject(e)||this.t.exceptionInvalidParam("Config must be an object"),t.hasOwn(e,"productID")||this.t.exceptionInvalidParam("Config must have productID");var o=e.productID;r.isString(o)||this.t.exceptionInvalidParam("productID must be a string"),t.hasOwn(e,"developerPayload")&&!r.isString(e.developerPayload)&&this.t.exceptionInvalidParam("developerPayload must be a string")}},{key:"Ls",value:function Ls(e){Ludex.Utils.Valid.isString(e)||this.t.exceptionInvalidParam("Purchase token must be a string")}},{key:"bs",value:function bs(e){var t=Ludex.Utils.String,r={productID:e.productID,paymentID:t.generateObjectId(),purchaseToken:t.generateObjectId(),purchaseTime:new Date().toISOString(),developerPayload:e.developerPayload,signedRequest:t.generateObjectId()},o=this.c.player.getID();if(o){var w=this._t()[o]||[];w.push(r),this.Ia(o,w)}return r}},{key:"Ds",value:function Ds(){return _async_to_generator(function(){var _Ludex_Configs_Mockup_GameSDK_Payments,e,t;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(e=(_Ludex_Configs_Mockup_GameSDK_Payments=Ludex.Configs.Mockup.GameSDK.Payments).Enabled,t=_Ludex_Configs_Mockup_GameSDK_Payments.Products,!e||Object.values(this.Nt()).length>=t.length)return[2];return[4,Promise.all(this.Os())];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"Os",value:function Os(){var _this=this;return Ludex.Configs.Mockup.GameSDK.Payments.Products.map(function(t){var r={productID:t.id,title:"Product ".concat(t.id),description:"Description for ".concat(t.id),price:t.price.toString(),priceCurrencyCode:"USD",priceAmount:t.price};return _this.Ns(t.id,r),r})}},{key:"Nt",value:function Nt(){var _Ludex_Utils=Ludex.Utils,e=_Ludex_Utils.Browser,t=_Ludex_Utils.Valid,r=e.getLocalStorage(jd);return t.isObject(r)?r:{}}},{key:"Ns",value:function Ns(e,t){var r=this.Nt();r[e]=t,this._s(r)}},{key:"_s",value:function _s(e){var _Ludex_Utils=Ludex.Utils,t=_Ludex_Utils.Browser;_Ludex_Utils.Valid.isObject(e)&&t.writeLocalStorage(jd,e)}},{key:"_t",value:function _t(){var _Ludex_Utils=Ludex.Utils,e=_Ludex_Utils.Browser,t=_Ludex_Utils.Valid,r=e.getLocalStorage(ea);return t.isObject(r)?r:{}}},{key:"Ia",value:function Ia(e,t){var _r_getLocalStorage,r=Ludex.Utils.Browser;if(Array.isArray(t)){var o=null!=(_r_getLocalStorage=r.getLocalStorage(ea))?_r_getLocalStorage:{};o[e]=t,r.writeLocalStorage(ea,o)}}}]),ra1}(),a(ra,"Payments"),Wd=ra}),oa=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),qd="Save The Pets".replace(/ /g,"-"),Yd="https://picsum.photos/seed/%1/300/300",aa=/*#__PURE__*/function(){function aa1(e){var _this=this;_class_call_check(this,aa1),_define_property(this,"c",void 0),_define_property(this,"t",void 0),_define_property(this,"Da",void 0),_define_property(this,"E",void 0),_define_property(this,"Ea","".concat(qd,"_PlayerInfo")),_define_property(this,"Sa","".concat(qd,"_PlayerData")),_define_property(this,"we",null),_define_property(this,"nt",null),_define_property(this,"Rs",a(function(){var _$e=_this.Fs();return Ludex.Utils.Valid.isString(_$e)?_$e:"default_token"},"getSignature$")),this.c=e,this.t=e.extra,this.Ts()}return _create_class(aa1,[{key:"Ts",value:function Ts(){var e="guest-007";this.Da={playerId:e,playerName:"Guest",playerPhoto:Yd.replace("%1",e)},this.t.isGuest=!0,this.E=N({},this.Da)}},{key:"initPlayerInfo",value:function initPlayerInfo(e){this.Cs(e),Ludex.Utils.Browser.writeLocalStorage(this.Ea,this.E)}},{key:"canSubscribeBotAsync",value:function canSubscribeBotAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.ba()];case 1:return[2,(_state.sent(),this.we||this.t.exceptionUnsupported(),this.we.canSubscribeBotAsync())]}})}).call(this)}},{key:"subscribeBotAsync",value:function subscribeBotAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.ba()];case 1:return[2,(_state.sent(),this.we||this.t.exceptionUnsupported(),this.we.subscribeBotAsync())]}})}).call(this)}},{key:"getID",value:function getID(){return this.E.playerId}},{key:"getName",value:function getName(){return this.E.playerName}},{key:"getPhoto",value:function getPhoto(){return this.E.playerPhoto}},{key:"getDataAsync",value:function getDataAsync(e){return _async_to_generator(function(){var _Ludex_Utils,t,r,o,w,I,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,D;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(e.length<1)return[2,{}];return[4,this.t.delayPlayerDataAsync()];case 1:if(_state.sent(),t=(_Ludex_Utils=Ludex.Utils).Browser,r=_Ludex_Utils.Valid,o=_Ludex_Utils.Object,w=t.getLocalStorage(this.Sa),!r.isObject(w))return[2,{}];I={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(_iterator=e[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)D=_step.value,o.hasOwn(w,D)&&(I[D]=w[D])}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return[2,I]}})}).call(this)}},{key:"setDataAsync",value:function setDataAsync(e){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.t.delayPlayerDataAsync()];case 1:return _state.sent(),Ludex.Utils.Browser.writeLocalStorage(this.Sa,e),[2]}})}).call(this)}},{key:"getSignedPlayerInfoAsync",value:function getSignedPlayerInfoAsync(){return _async_to_generator(function(){var _this;return _ts_generator(this,function(_state){return _this=this,[2,{getPlayerID:a(function(){var _this_getID;return null!=(_this_getID=_this.getID())?_this_getID:""},"getPlayerID"),getSignature:this.Rs}]})}).call(this)}},{key:"getConnectedPlayersAsync",value:function getConnectedPlayersAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.Ms()];case 1:return[2,(_state.sent(),this.nt||this.t.exceptionUnsupported(),this.nt.getConnectedPlayersAsync())]}})}).call(this)}},{key:"Cs",value:function Cs(e){var _Ludex_Utils=Ludex.Utils,t=_Ludex_Utils.Browser,r=_Ludex_Utils.Valid,o=_Ludex_Utils.Object,w=_Ludex_Utils.String,I=null!=e?e:"",D="Nameless";if(this.t.isGuest){var E=t.getLocalStorage(this.Ea);r.isObject(E)&&o.hasOwn(E,"playerId")&&r.isString(E.playerId)&&(I=E.playerId),r.isObject(E)&&o.hasOwn(E,"playerName")&&r.isString(E.playerName)&&(D=E.playerName)}r.isEmpty(I)&&(I=w.generateObjectId()),"Nameless"===D&&this.$s()&&(D=w.generateNameUsingString(I)),this.E.playerId=I,this.E.playerName=D,this.E.playerPhoto=Yd.replace("%1",I),this.Gs(I)}},{key:"$s",value:function $s(){return(null==A?void 0:A.UseNameGenerator)===!0}},{key:"Us",value:function Us(){var e=Ludex.Configs.Mockup.Match;return e.Enabled?e.PlayerInfo:null}},{key:"ks",value:function ks(){var e=Ludex.Configs.Mockup.Match;return e.Enabled?e.OpponentInfo:null}},{key:"Gs",value:function Gs(e){var t=this.ks();e!==(null==t?void 0:t.Id)&&(t=this.Us()),t&&(this.E.playerId=t.Id,t.Name&&(this.E.playerName=t.Name),t.Photo&&(this.E.playerPhoto=t.Photo))}},{key:"Fs",value:function Fs(){var e=Ludex.Configs.Mockup.Match,t=e.PlayerInfo.Id===this.getID(),r=e.OpponentInfo.Id===this.getID();return t?e.PlayerInfo.Signature:r?e.OpponentInfo.Signature:null}},{key:"ba",value:function ba(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.we)return[2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:return"function"==typeof(e=_state.sent().default)&&(this.we=new e(this.c)),[2]}})}).call(this)}},{key:"Ms",value:function Ms(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.nt)return[2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:return"function"==typeof(e=_state.sent().default)&&(this.nt=new e(this.t)),[2]}})}).call(this)}}]),aa1}(),a(aa,"Player"),Pr=aa}),Qd=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),a(ia=/*#__PURE__*/function(){function ia1(e,t){var _o_endTime,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_class_call_check(this,ia1),_define_property(this,"ne",void 0),_define_property(this,"Tt",void 0),_define_property(this,"Ct",void 0),_define_property(this,"e",void 0),_define_property(this,"Rt",void 0),_define_property(this,"Mt",void 0);var o=t.config,w=t.data;this.ne=e,this.Tt=o.title,this.Ct="0123".concat(this.ne),this.e=JSON.stringify(null!=w?w:{}),this.Rt=null!=(_o_endTime=o.endTime)?_o_endTime:this.js(),this.Mt=r?"PAGE_HOSTED":"DEFAULT"}return _create_class(ia1,[{key:"js",value:function js(){return Math.round((Date.now()+6048e5)/1e3)}},{key:"getID",value:function getID(){return this.ne}},{key:"getTitle",value:function getTitle(){return this.Tt}},{key:"getPayload",value:function getPayload(){return this.e}},{key:"getEndTime",value:function getEndTime(){return this.Rt}},{key:"getContextID",value:function getContextID(){return this.Ct}},{key:"getTournamentType",value:function getTournamentType(){return this.Mt}},{key:"toObject",value:function toObject(){return{id:this.ne,title:this.Tt,payload:this.e,endTime:this.Rt,contextId:this.Ct,tournamentType:this.Mt}}}]),ia1}(),"TournamentInstance"),Jd=ia}),eu=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),zn(),Qd(),$P=_to_consumable_array(Ut=["Unsupported","NetworkFailure","PendingRequest","ClientUnsupportedOperation"]).concat(["InvalidParam","UserInput"]),AP=_to_consumable_array(Ut).concat(["InvalidOperation","UserInput"]),vP=_to_consumable_array(Ut).concat(["InvalidParam","UserInput"]),bP=_to_consumable_array(Ut).concat(["InvalidParam","UserInput"]),SP=_to_consumable_array(Ut).concat(["NetworkFailure"]),Xd="TournamentsDataMockKey",ca="TournamentLeadersMockKey",da=/*#__PURE__*/function(){function da1(e){var _this=this;_class_call_check(this,da1),_define_property(this,"c",void 0),_define_property(this,"t",void 0),_define_property(this,"n",void 0),_define_property(this,"ie",null),_define_property(this,"x",null),_define_property(this,"Hs",a(function(e){return _async_to_generator(function(){var _tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!(_tmp=this.La(e)))return[3,2];return[4,this.joinAsync(e)];case 1:_tmp=_state.sent(),_state.label=2;case 2:return[2]}})}).call(_this)},"processEnterTournament$")),_define_property(this,"V",a(function(e){return function(){_this.t.isPopupShown=!1,e(!0)}},"handleOnYes$")),_define_property(this,"W",a(function(e){return function(){_this.t.isPopupShown=!1;try{_this.t.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}}},"handleOnNo$")),this.c=e,this.t=e.extra,this.n=e.context}return _create_class(da1,[{key:"initTournamentInfoAsync",value:function initTournamentInfoAsync(e){return _async_to_generator(function(){var _tmp,_tmp1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!(_tmp=Ludex.Configs.Mockup.GameSDK.Tournament.Enabled))return[3,4];return[4,this.Bs()];case 1:if(_state.sent(),!(_tmp1=e))return[3,3];return[4,this.Hs(e)];case 2:_tmp1=_state.sent(),_state.label=3;case 3:_tmp=_tmp1,_state.label=4;case 4:return[2]}})}).call(this)}},{key:"Bs",value:function Bs(){return _async_to_generator(function(){var e,_Ludex_Configs_Mockup_GameSDK_Tournament,t,r,o,w,I,D,E,S,b,L,_,C,R,z,$;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(e=Ludex.Utils.Object,t=(_Ludex_Configs_Mockup_GameSDK_Tournament=Ludex.Configs.Mockup.GameSDK.Tournament).Enabled,o=(r=_Ludex_Configs_Mockup_GameSDK_Tournament.NumOfTournament).Normal,w=r.HostPage,!t)return[2];return I=this.be(),D=e.vals(I),S=(E=this.Ks(D)).filter(function(Pe){return"DEFAULT"===Pe.tournamentType}),b=E.filter(function(Pe){return"PAGE_HOSTED"===Pe.tournamentType}),L=S.length,_=b.length,C=o-L,R=w-_,z=this.Vs(C),$=this.Ws(R),[4,Promise.all(_to_consumable_array(z).concat(_to_consumable_array($)))];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"Ks",value:function Ks(e){var t=Date.now()/1e3,r=e.filter(function(w){return w.endTime>t}),o={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=r[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var w=_step.value;o[w.id]=w}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return this.Oa(o),r}},{key:"Vs",value:function Vs(e){var _this=this,_Ludex_Utils=Ludex.Utils,t=_Ludex_Utils.String,r=_Ludex_Utils.Array,o=_Ludex_Utils.Number,w=Ludex.Configs.Mockup.GameSDK.Tournament.ExtraPlayerTournamentPayload,I=codex.leaderboard,D=GameSDK.player.getID(),E=GameSDK.player.getName();return r.length(e).map(function(){return _async_to_generator(function(){var S,b,L,_,C;return _ts_generator(this,function(_state){switch(_state.label){case 0:return S="".concat(E,"'s Tournament ").concat(t.generateObjectId()),[4,I.createLeaderboardAsync({name:S})];case 1:if(b=_state.sent(),L=this.$t({initialScore:0,config:{title:S,tournamentTitle:S},data:N({playerId:D,playerName:E,leaderboardId:b},w)}).getID().toString(),this.it(L))return[2];return _=o.random(2),(C=codex.player.getConnectedPlayerIds(_,0).map(function(R){return{playerId:R,score:o.random(4)}})).sort(function(R,z){return R.score-z.score}),this.Gt(L,C),[2]}})}).call(_this)})}},{key:"Ws",value:function Ws(e){var _this=this,_Ludex_Utils=Ludex.Utils,t=_Ludex_Utils.String,r=_Ludex_Utils.Array,o=_Ludex_Utils.Number,w=Ludex.Configs.Mockup.GameSDK.Tournament.ExtraGlobalTournamentPayload,I=codex.leaderboard;return r.length(e).map(function(){return _async_to_generator(function(){var D,E,S,b,L,_;return _ts_generator(this,function(_state){switch(_state.label){case 0:return E=N({leaderboardId:D=t.generateObjectId(),playerId:"global"},w),S="Global Tournament ".concat(D),[4,I.createLeaderboardAsync({name:S,_id:D,type:"world_tournament_leaderboard",description:JSON.stringify(E)})];case 1:if(_state.sent(),b=this.$t({initialScore:0,config:{title:S,tournamentTitle:S},data:E},!0).getID().toString(),this.it(b))return[2];return L=o.random(2),(_=r.length(L).map(function(){return{playerId:t.generateObjectId(),score:o.random(4)}})).sort(function(C,R){return C.score-R.score}),this.Gt(b,_),[2]}})}).call(_this)})}},{key:"N",value:function N1(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){return e=Ludex.Configs.Mockup.GameSDK.Tournament.RandomDelayMs,[2,this.t.awaitRandomDelay(e)]})}).call(this)}},{key:"randomError",value:function randomError(e){100*Math.random()<Ludex.Configs.Mockup.GameSDK.Tournament.ErrorRates&&this.t.randomException(e)}},{key:"zs",value:function zs(){return _async_to_generator(function(){var e,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.x)return[2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:if(!(_tmp="function"==typeof(e=_state.sent().default)))return[3,3];return this.x=new e,[4,this.x.setupTemplate()];case 2:_tmp=_state.sent(),_state.label=3;case 3:return[2]}})}).call(this)}},{key:"Ys",value:function Ys(){return _async_to_generator(function(){var e,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.ie)return[2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:if(!(_tmp="function"==typeof(e=_state.sent().default)))return[3,3];return this.ie=new e,[4,this.ie.setupTemplate()];case 2:_tmp=_state.sent(),_state.label=3;case 3:return[2]}})}).call(this)}},{key:"createAsync",value:function createAsync(e){return _async_to_generator(function(){var _this,t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _this=this,this.t.checkPopupShown(),[4,this.N()];case 1:return _state.sent(),null!==this.n.getID()&&this.t.exceptionInvalidOperation("Cannot create tournament while in a context"),this.qs(e),this.randomError($P),[4,this.zs()];case 2:return _state.sent(),[4,new Promise(function(o,w){_this.x||_this.c.extra.exceptionUnsupported(),_this.x.onYes(_this.V(o)),_this.x.onNo(_this.W(w)),_this.x.show(e),_this.t.isPopupShown=!0})];case 3:return _state.sent(),r=(t=this.$t(e)).getContextID(),[2,(this.Qs(r),t)]}})}).call(this)}},{key:"$t",value:function $t(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=Ludex.Utils.String.generateObjectId(),w=new Jd(o,e,t),I=w.toObject();return this.Js(o,I),w}},{key:"postScoreAsync",value:function postScoreAsync(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.N()];case 1:return _state.sent(),this.Na(),e<0&&this.t.exceptionInvalidParam("Score must be a positive number"),this.randomError(bP),t=codex.player.getPlayerId(),this._a(t,e),[2]}})}).call(this)}},{key:"shareAsync",value:function shareAsync(e){return _async_to_generator(function(){var _this,t,r,o,I,D,E,w;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _this=this,this.t.checkPopupShown(),[4,this.N()];case 1:return _state.sent(),this.Na(),this.Xs(e),this.randomError(vP),[4,this.Ys()];case 2:return _state.sent(),r=t=e.score,(o=this.Ut())&&(I=codex.player.getPlayerId(),D=o.getID().toString(),(E=this.Zs(D,I))&&E<t&&(r=E)),[4,new Promise(function(I,D){_this.ie||_this.c.extra.exceptionUnsupported(),_this.ie.onYes(_this.V(I)),_this.ie.onNo(_this.W(D)),_this.ie.show(r),_this.t.isPopupShown=!0})];case 3:return _state.sent(),w=codex.player.getPlayerId(),this._a(w,t),[2]}})}).call(this)}},{key:"getTournamentsAsync",value:function getTournamentsAsync(){return _async_to_generator(function(){var _this,e;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _this=this,[4,this.N()];case 1:return _state.sent(),this.randomError(SP),e=this.be(),[2,Ludex.Utils.Object.vals(e).map(function(r){return _this.kt(r.id)}).filter(function(r){return null!==r})]}})}).call(this)}},{key:"joinAsync",value:function joinAsync(e){return _async_to_generator(function(){var r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.N()];case 1:return _state.sent(),Ludex.Utils.Valid.isString(e)||this.t.exceptionInvalidParam("Tournament ID must be a string"),(r=this.kt(e))||this.t.exceptionTournamentNotFound("Tournament could not be found."),this.randomError(AP),o=r.getContextID(),[4,GameSDK.context.switchAsync(o)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"Qs",value:function Qs(e){_instanceof(this.n,hr)&&this.n.setCurrentContextId(e)}},{key:"Ut",value:function Ut1(){var e=this.n.getID();if(!e)return null;var t=this.be();for(var r in t)if(Object.hasOwn(t,r)&&t[r].contextId===e)return this.kt(r);return null}},{key:"qs",value:function qs(e){var _Ludex_Utils=Ludex.Utils,t=_Ludex_Utils.Object,r=_Ludex_Utils.Valid;r.isObject(e)||this.t.exceptionInvalidParam("Payload must be an object"),t.hasOwn(e,"initialScore")||this.t.exceptionInvalidParam("Payload must have initialScore"),t.hasOwn(e,"config")||this.t.exceptionInvalidParam("Payload must have config");var o=e.initialScore,w=e.config;r.isNumber(o)||this.t.exceptionInvalidParam("initialScore must be a number"),r.isObject(w)||this.t.exceptionInvalidParam("Config must be an object"),t.hasOwn(w,"title")||this.t.exceptionInvalidParam("Config must have title"),t.hasOwn(w,"tournamentTitle")||this.t.exceptionInvalidParam("Config must have tournamentTitle"),t.hasOwn(e,"data")&&!r.isObject(e.data)&&this.t.exceptionInvalidParam("Data must be an object")}},{key:"Xs",value:function Xs(e){var _Ludex_Utils=Ludex.Utils,t=_Ludex_Utils.Object,r=_Ludex_Utils.Valid;r.isObject(e)||this.t.exceptionInvalidParam("Payload must be an object"),t.hasOwn(e,"score")||this.t.exceptionInvalidParam("Payload must have score");var o=e.score;r.isNumber(o)||this.t.exceptionInvalidParam("Score must be a number"),t.hasOwn(e,"data")&&!r.isObject(e.data)&&this.t.exceptionInvalidParam("Data must be an object")}},{key:"Na",value:function Na(){this.Ut()||this.t.exceptionTournamentNotFound("There is no tournament for this context.")}},{key:"kt",value:function kt(e){var t=this.La(e);return t?{getID:a(function(){return t.id},"getID"),getTitle:a(function(){return t.title},"getTitle"),getPayload:a(function(){return t.payload},"getPayload"),getEndTime:a(function(){return t.endTime},"getEndTime"),getContextID:a(function(){return t.contextId},"getContextID"),getTournamentType:a(function(){return t.tournamentType},"getTournamentType")}:null}},{key:"La",value:function La(e){var t=this.be();return t[e]?t[e]:null}},{key:"Js",value:function Js(e,t){var r=this.be();r[e]=t,this.Oa(r)}},{key:"be",value:function be(){var _Ludex_Utils=Ludex.Utils,e=_Ludex_Utils.Browser,t=_Ludex_Utils.Valid,r=e.getLocalStorage(Xd);return t.isObject(r)?r:{}}},{key:"Oa",value:function Oa(e){var _Ludex_Utils=Ludex.Utils,t=_Ludex_Utils.Browser;_Ludex_Utils.Valid.isObject(e)&&t.writeLocalStorage(Xd,e)}},{key:"Zs",value:function Zs(e,t){var _r_score,r=this.Ta(e,t);return r&&null!=(_r_score=r.score)?_r_score:null}},{key:"_a",value:function _a(e,t){var r=this.Ut();if(r){var o=r.getID().toString();if(o){var w=this.Ta(o,e);if(!w)return void this.Ca(o,{playerId:e,score:t});w.score<t&&(w.score=t,this.Ca(o,w))}}}},{key:"Ta",value:function Ta(e,t){var _o_search,r=this.it(e);return r.length&&null!=(_o_search=Ludex.Utils.Array.search(r,function(w){return w.playerId===t}))?_o_search:null}},{key:"it",value:function it(e){var _Ludex_Utils=Ludex.Utils,t=_Ludex_Utils.Browser,r=_Ludex_Utils.Object,o=t.getLocalStorage(ca);if(!r.hasOwn(o,e))return[];var w=o[e];return Array.isArray(w)?(w.sort(function(I,D){return D.score-I.score}),w):[]}},{key:"Ca",value:function Ca(e,t){var r=Ludex.Utils.Array,o=this.it(e),w=r.searchIndex(o,function(I){return I.playerId===t.playerId});-1===w?o.push(t):o[w]=t,this.Gt(e,o)}},{key:"Gt",value:function Gt(e,t){var _r_getLocalStorage,_Ludex_Utils=Ludex.Utils,r=_Ludex_Utils.Browser,o=_Ludex_Utils.Object;if(Array.isArray(t)){var w=null!=(_r_getLocalStorage=r.getLocalStorage(ca))?_r_getLocalStorage:{};o.assign(w,_define_property({},e,t)),r.writeLocalStorage(ca,w)}}}]),da1}(),a(da,"Tournament"),Zd=da}),ma=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),zn(),Zn(),zd(),oa(),eu(),a(pa=/*#__PURE__*/function(){function pa1(){_class_call_check(this,pa1),_define_property(this,"extra",void 0),_define_property(this,"player",void 0),_define_property(this,"context",void 0),_define_property(this,"tournament",void 0),_define_property(this,"payments",void 0),_define_property(this,"xe",null),_define_property(this,"isInitialized",!1),_define_property(this,"Ae",{}),_define_property(this,"Ft",null),_define_property(this,"Le",null),_define_property(this,"jt",null)}return _create_class(pa1,[{key:"Bt",value:function Bt(){this.extra=new yr(this),this.player=new Pr(this),this.context=new hr(this),this.payments=new Wd(this),this.tournament=new Zd(this)}},{key:"Ra",value:function Ra(){return(null==A?void 0:A.AllowWithoutSDK)!==!0}},{key:"getLocale",value:function getLocale(){return Ludex.Utils.Browser.getLocale()}},{key:"getPlatform",value:function getPlatform(){var e=Ludex.Utils.Device;return e.isAndroid()?"ANDROID":e.isIOS()?"IOS":e.isDesktop()?"WEB":e.isMobile()?"MOBILE_WEB":null}},{key:"isGameSDK",value:function isGameSDK(e){return this.getSDKName()===e}},{key:"getSDKName",value:function getSDKName(){return"Ludex"}},{key:"getSDKVersion",value:function getSDKVersion(){return"1.0.0"}},{key:"initializeAsync",value:function initializeAsync(){return _async_to_generator(function(){var _tmp,e,t,r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.isInitialized)return[2];return this.Bt(),[4,this.extra.createLoadingElement()];case 1:if(_state.sent(),window.__sdkLoad.ensure(1),!(_tmp=this.Ra()))return[3,3];return[4,this.Ma()];case 2:_tmp=_state.sent(),_state.label=3;case 3:return[4,this.extra.waitLudexReadyAsync()];case 4:return _state.sent(),[4,this.extra.delayInitialAsync()];case 5:return _state.sent(),(e=Ludex.Utils.Browser.getQueryParams()).splashPreview&&this.extra.destroyLoadingElement(),t=e.playerId,this.player.initPlayerInfo(t),r=e.context_source_id,o=e.context_type,this.context.initContextInfo(r,o),this.isInitialized=!0,[2]}})}).call(this)}},{key:"Ma",value:function Ma(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return this.extra.exceptionInvalidOperation("GameSDK requires AllowWithoutSDK=true in game config"),[2]})}).call(this)}},{key:"startGameAsync",value:function startGameAsync(){return _async_to_generator(function(){var e,t,o,_arguments=arguments;return _ts_generator(this,function(_state){switch(_state.label){case 0:return e=!(_arguments.length>0)||void 0===_arguments[0]||_arguments[0],this.isInitialized||this.extra.exceptionInvalidOperation("GameSDK is not initialized"),[4,this.extra.delayStartAsync()];case 1:return _state.sent(),window.__sdkLoad.ensure(95),this.extra.destroyLoadingElement(),t=Ludex.Events,o=(0,Ludex.Utils.Browser.getQueryParams)().tournament_id,[4,this.tournament.initTournamentInfoAsync(o)];case 2:return _state.sent(),[4,this.payments.initPaymentInfoAsync()];case 3:return _state.sent(),e&&codex.event.emit(t.GAME_SDK_STARTED),[2]}})}).apply(this,arguments)}},{key:"setLoadingProgress",value:function setLoadingProgress(e){var _this_extra_setLoadingElementProgress,_this_extra;null==(_this_extra=this.extra)||null==(_this_extra_setLoadingElementProgress=_this_extra.setLoadingElementProgress)||_this_extra_setLoadingElementProgress.call(_this_extra,e)}},{key:"getEntryPointData",value:function getEntryPointData(){var _Ludex_Utils=Ludex.Utils,e=_Ludex_Utils.Browser,t=_Ludex_Utils.Json,tmp=e.getQueryParams().payload,r=void 0===tmp?"{}":tmp;return"string"!=typeof r?{}:t.decode(r)}},{key:"getEntryPointAsync",value:function getEntryPointAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,"no_entry"]})})()}},{key:"loadBannerAdAsync",value:function loadBannerAdAsync(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!e)return[3,5];if(this.Ae[e])return[3,2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:"function"!=typeof(t=_state.sent().default)&&this.extra.exceptionInvalidOperation("Banner ads mock is not enabled"),this.Ae[e]=new t("banner",e),_state.label=2;case 2:return[4,this.Ae[e].loadAsync()];case 3:return _state.sent(),[4,this.Ae[e].showAsync()];case 4:_state.sent(),_state.label=5;case 5:return[2]}})}).call(this)}},{key:"hideBannerAdAsync",value:function hideBannerAdAsync(e){return _async_to_generator(function(){var _tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!(_tmp=this.Ae[e]))return[3,2];return[4,this.Ae[e].hideAsync()];case 1:_tmp=_state.sent(),_state.label=2;case 2:return[2]}})}).call(this)}},{key:"getBannerHeight",value:function getBannerHeight(e){return e.BannerHeight}},{key:"getInterstitialAdAsync",value:function getInterstitialAdAsync(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.Le)return[3,2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:"function"!=typeof(t=_state.sent().default)&&this.extra.exceptionInvalidOperation("Interstitial ads mock is not enabled"),this.Le=new t("interstitial",e),_state.label=2;case 2:return[2,this.Le]}})}).call(this)}},{key:"getRewardedVideoAsync",value:function getRewardedVideoAsync(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.Ft)return[3,2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:"function"!=typeof(t=_state.sent().default)&&this.extra.exceptionInvalidOperation("Rewarded video ads mock is not enabled"),this.Ft=new t("rewarded",e),_state.label=2;case 2:return[2,this.Ft]}})}).call(this)}},{key:"getRewardedInterstitialAsync",value:function getRewardedInterstitialAsync(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.jt)return[3,2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:"function"!=typeof(t=_state.sent().default)&&this.extra.exceptionInvalidOperation("Rewarded interstitial ads mock is not enabled"),this.jt=new t("rewarded_interstitial",e),_state.label=2;case 2:return[2,this.jt]}})}).call(this)}},{key:"getTournamentAsync",value:function getTournamentAsync(){return _async_to_generator(function(){var e,_Ludex_Utils,t,o,w;return _ts_generator(this,function(_state){switch(_state.label){case 0:return this.tournament.randomError(["Unsupported","NetworkFailure"]),e=this.context.getID(),t=(_Ludex_Utils=Ludex.Utils).Array,_Ludex_Utils.Valid.isString(e)||this.extra.exceptionInvalidOperation("Not in a context"),[4,this.tournament.getTournamentsAsync()];case 1:return o=_state.sent(),[2,((w=t.search(o,function(I){return I.getContextID()===e}))||this.extra.exceptionTournamentNotFound("A Tournament with current context was not found"),w)]}})}).call(this)}},{key:"getSupportedAPIs",value:function getSupportedAPIs(){var _Ludex_Configs_Mockup_GameSDK=Ludex.Configs.Mockup.GameSDK,e=_Ludex_Configs_Mockup_GameSDK.Player.SubscribeBot.CanSubscribeBot,t=_Ludex_Configs_Mockup_GameSDK.AddShortcut.CanCreateShortcut,r=[];return e&&r.push("player.canSubscribeBotAsync"),t&&r.push("canCreateShortcutAsync"),r}},{key:"canCreateShortcutAsync",value:function canCreateShortcutAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.$a()];case 1:return[2,(_state.sent(),this.xe||this.extra.exceptionUnsupported(),this.xe.canCreateShortcutAsync())]}})}).call(this)}},{key:"createShortcutAsync",value:function createShortcutAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.$a()];case 1:return[2,(_state.sent(),this.xe||this.extra.exceptionUnsupported(),this.xe.createShortcutAsync())]}})}).call(this)}},{key:"$a",value:function $a(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.xe)return[2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:return"function"==typeof(e=_state.sent().default)&&(this.xe=new e(this)),[2]}})}).call(this)}}]),pa1}(),"GameSDK"),xr=pa}),ru=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),a(fa=/*#__PURE__*/function(){function fa1(e,t){_class_call_check(this,fa1),_define_property(this,"er",void 0),_define_property(this,"Ga",void 0),this.er=e,this.Ga=t}return _create_class(fa1,[{key:"getPlacementID",value:function getPlacementID(){return this.Ga}},{key:"hideAsync",value:function hideAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2]})})()}}]),fa1}(),"AdInstance"),tu=fa}),ou=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),Jn(),ru(),nu={AD_NOT_LOADED:"AD_NOT_LOADED",LOAD_ADS_FAILURE:"LOAD_ADS_FAILURE",INVALID_OPERATION:"INVALID_OPERATION",SHOW_ADS_FAILURE:"SHOW_ADS_FAILURE",SHOW_ADS_TIMEOUT:"SHOW_ADS_TIMEOUT",SHOW_ADS_COMPLETED_FAILURE:"SHOW_ADS_COMPLETED_FAILURE"},a(ga=/*#__PURE__*/function(tu1){function ga1(e){var _this;return _class_call_check(this,ga1),_define_property(_this=_call_super(this,ga1,["interstitial",""]),"g",void 0),_define_property(_this,"Ht",!1),_this.g=e,_this}return _inherits(ga1,tu1),_create_class(ga1,[{key:"loadAsync",value:function loadAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,Promise.resolve()]})})()}},{key:"showAsync",value:function showAsync(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.Ht)throw this.Ua(nu.INVALID_OPERATION,"Can't show ads while showing ads");_state.label=1;case 1:return _state.trys.push([1,3,4,5]),this.Ht=!0,[4,this.g.ads.requestInterstitialAd()];case 2:return _state.sent(),[3,5];case 3:throw e=_state.sent(),this.Ua(nu.SHOW_ADS_FAILURE,e);case 4:return this.Ht=!1,[7];case 5:return[2]}})}).call(this)}},{key:"Ua",value:function Ua(e,t){var r=Ludex.Utils.Object,o=e,w="";if("string"==typeof t)w=t;else if(r.hasOwn(t,"message")&&"string"==typeof t.message)w=t.message;else if(r.hasOwn(t,"description")&&"string"==typeof t.description)w=t.description;else try{w=JSON.stringify(t)}catch(e){w="Unknown error"}return r.hasOwn(t,"code")&&"string"==typeof t.code?o=t.code:r.hasOwn(t,"errorType")&&"string"==typeof t.errorType&&(o=t.errorType),new fr(o,w)}}]),ga1}(tu),"YTAdInstance"),au=ga}),iu=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),Zn(),a(xa=/*#__PURE__*/function(yr1){function xa1(e){var _this;return _class_call_check(this,xa1),_define_property(_this=_call_super(this,xa1,[e]),"g",void 0),_this.g=e.sdk,_this}return _inherits(xa1,yr1),_create_class(xa1,[{key:"logError",value:function logError(e){try{this.g.health.logError()}catch(e){}}},{key:"logWarning",value:function logWarning(e){try{this.g.health.logWarning()}catch(e){}}},{key:"openYTContent",value:function openYTContent(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,this.g.engagement.openYTContent({id:e})];case 1:return _state.sent(),[3,3];case 2:throw t=_state.sent(),this.logError(t),t;case 3:return[2]}})}).call(this)}},{key:"shareInviteCode",value:function shareInviteCode(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,this.g.game.shareInviteCode(e)];case 1:return _state.sent(),[3,3];case 2:throw t=_state.sent(),this.logError(t),t;case 3:return[2]}})}).call(this)}},{key:"onPause",value:function onPause(e){this.g.system.onPause(e)}},{key:"onResume",value:function onResume(e){this.g.system.onResume(e)}},{key:"isAudioEnabled",value:function isAudioEnabled(){return this.g.system.isAudioEnabled()}},{key:"onAudioEnabledChange",value:function onAudioEnabledChange(e){return this.g.system.onAudioEnabledChange(e)}}]),xa1}(yr),"YTExtra"),su=xa}),lu=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),oa(),a($a=/*#__PURE__*/function(Pr1){function $a1(e){var _this;return _class_call_check(this,$a1),(_this=_call_super(this,$a1,[e])).g=e.sdk,_this.t=e.extra,_this}return _inherits($a1,Pr1),_create_class($a1,[{key:"initPlayerAsync",value:function initPlayerAsync(){return this.tr()}},{key:"ka",value:function ka(){return!this.c.isInitialized||!this.g.IN_PLAYABLES_ENV}},{key:"tr",value:function tr(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){try{e=this.getID(),this.t.isGuest=!0,this.initPlayerInfo(e)}catch(e){}return[2]})}).call(this)}},{key:"getDataAsync",value:function getDataAsync(e){var _this=this,_this1=this,_superprop_get_getDataAsync=function(){return _get(_get_prototype_of($a1.prototype),"getDataAsync",_this)};return _async_to_generator(function(){var _$t,_Ludex_Utils,r,o,w,I,D,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,E,t;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.ka())return[2,_superprop_get_getDataAsync().call(_this1,e)];_state.label=1;case 1:return _state.trys.push([1,3,,4]),[4,this.g.game.loadData()];case 2:if(!(_$t=_state.sent())||(r=(_Ludex_Utils=Ludex.Utils).Json,o=_Ludex_Utils.Valid,w=_Ludex_Utils.Object,I=r.decode(_$t),!o.isObject(I)))return[2,{}];if(e.length<1)return[2,I];D={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(_iterator=e[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)E=_step.value,w.hasOwn(I,E)&&(D[E]=I[E])}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return[2,D];case 3:return t=_state.sent(),[2,(this.t.logWarning(t),{})];case 4:return[2]}})}).call(this)}},{key:"setDataAsync",value:function setDataAsync(e){var _this=this,_this1=this,_superprop_get_setDataAsync=function(){return _get(_get_prototype_of($a1.prototype),"setDataAsync",_this)};return _async_to_generator(function(){var _$t,_Ludex_Utils,r,o,w,I,S,D,E,t;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.ka())return[2,_superprop_get_setDataAsync().call(_this1,e)];_state.label=1;case 1:return _state.trys.push([1,4,,5]),[4,this.g.game.loadData()];case 2:return _$t=_state.sent(),r=(_Ludex_Utils=Ludex.Utils).Json,o=_Ludex_Utils.Valid,w=_Ludex_Utils.Object,I={},_$t&&(S=r.decode(_$t),o.isObject(S)&&(I=S)),D=w.merge(I,e),E=r.encode(D),[4,this.g.game.saveData(E)];case 3:return _state.sent(),[3,5];case 4:throw t=_state.sent(),this.t.logError(t),t;case 5:return[2]}})}).call(this)}},{key:"getSignedPlayerInfoAsync",value:function getSignedPlayerInfoAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return this.t.exceptionUnsupported(),[2]})}).call(this)}},{key:"getConnectedPlayersAsync",value:function getConnectedPlayersAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,[]]})})()}},{key:"canSubscribeBotAsync",value:function canSubscribeBotAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,!1]})})()}},{key:"subscribeBotAsync",value:function subscribeBotAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return this.t.exceptionUnsupported(),[2]})}).call(this)}}]),$a1}(Pr),"YTPlayer"),cu=$a}),uu=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),ma(),ou(),iu(),lu(),a(va=/*#__PURE__*/function(xr1){function va1(e){var _this;return _class_call_check(this,va1),_define_property(_this=_call_super(this,va1),"sdk",void 0),_define_property(_this,"Oe",null),_this.sdk=e,_this}return _inherits(va1,xr1),_create_class(va1,[{key:"Bt",value:function Bt(){_get(_get_prototype_of(va1.prototype),"Bt",this).call(this),this.extra=new su(this),this.player=new cu(this),this.Le=new au(this.sdk)}},{key:"ar",value:function ar(){return _async_to_generator(function(){var _,e;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),_=this,[4,this.sdk.system.getLanguage()];case 1:return _.Oe=_state.sent(),[3,3];case 2:return e=_state.sent(),this.extra.logError(e),[3,3];case 3:return[2]}})}).call(this)}},{key:"getSDKName",value:function getSDKName(){return"YoutubePlayables"}},{key:"getSDKVersion",value:function getSDKVersion(){return this.sdk.SDK_VERSION}},{key:"getLocale",value:function getLocale(){var _this_Oe;return null!=(_this_Oe=this.Oe)?_this_Oe:null}},{key:"Ma",value:function Ma(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return _type_of(this.sdk)>"u"&&this.extra.exceptionInvalidOperation("YouTube Playables SDK is not initialized"),[2]})}).call(this)}},{key:"initializeAsync",value:function initializeAsync(){var _this=this,_this1=this,_superprop_get_initializeAsync=function(){return _get(_get_prototype_of(va1.prototype),"initializeAsync",_this)};return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.isInitialized)return[3,5];return[4,_superprop_get_initializeAsync().call(_this1)];case 1:_state.sent(),this.isInitialized=!1,_state.label=2;case 2:return _state.trys.push([2,4,,5]),[4,this.player.initPlayerAsync()];case 3:return _state.sent(),this.ar(),this.sdk.game.firstFrameReady(),this.sr(),this.isInitialized=!0,[3,5];case 4:if(e=_state.sent(),this.Ra())throw Error("Youtube Playables SDK not initialized");return[3,5];case 5:return[2]}})}).call(this)}},{key:"startGameAsync",value:function startGameAsync(){var _this=this,_this1=this,_superprop_get_startGameAsync=function(){return _get(_get_prototype_of(va1.prototype),"startGameAsync",_this)};return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,_superprop_get_startGameAsync().call(_this1)];case 1:return _state.sent(),this.sdk.game.gameReady(),[2]}})}).call(this)}},{key:"sr",value:function sr(){var e=Ludex.Events,t=codex.event;this.extra.onPause(function(){t.emit(e.VISIBILITY_HIDDEN)}),this.extra.onResume(function(){t.emit(e.VISIBILITY_VISIBLE)})}},{key:"getInterstitialAdAsync",value:function getInterstitialAdAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,this.Le]})}).call(this)}},{key:"getRewardedVideoAsync",value:function getRewardedVideoAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return this.extra.exceptionUnsupported(),[2]})}).call(this)}},{key:"getRewardedInterstitialAsync",value:function getRewardedInterstitialAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return this.extra.exceptionUnsupported(),[2]})}).call(this)}},{key:"loadBannerAdAsync",value:function loadBannerAdAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return this.extra.exceptionUnsupported(),[2]})}).call(this)}},{key:"hideBannerAdAsync",value:function hideBannerAdAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,Promise.resolve()]})})()}},{key:"getBannerHeight",value:function getBannerHeight(){return 0}},{key:"getTournamentAsync",value:function getTournamentAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return this.extra.exceptionUnsupported(),[2]})}).call(this)}},{key:"canCreateShortcutAsync",value:function canCreateShortcutAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,!1]})})()}},{key:"createShortcutAsync",value:function createShortcutAsync(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return this.extra.exceptionUnsupported(),[2]})}).call(this)}},{key:"getSupportedAPIs",value:function getSupportedAPIs(){return["game.firstFrameReady","game.gameReady","game.loadData","game.saveData","engagement.sendScore","ads.requestInterstitialAd"]}}]),va1}(xr),"YTAdapter"),du=va}),wr=W(function(){s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),a(DP,"simpleHash"),a(Sa=/*#__PURE__*/function(){function Sa1(){_class_call_check(this,Sa1),_define_property(this,"Kt",void 0),this.Kt=new Set}return _create_class(Sa1,[{key:"rr",value:function rr(){var e=Error().stack;if(!e)return null;for(var t=0,w=0;w<4;w++){var I=e.indexOf("\n",t);if(-1===I)return null;t=I+1}var r=e.indexOf("\n",t),o=-1===r?e.substring(t):e.substring(t,r);return o?o.trim():null}},{key:"blockAccess",value:function blockAccess(){try{var e=this.rr();if(!e)return!1;var t=DP(e);if(this.Kt.has(t))return!1;if(["eval","at <","(<"].some(function(r){return e.includes(r)}))throw Error("Access blocked for the caller: ".concat(e));return this.Kt.add(t),!1}catch(e){return!0}}}]),Sa1}(),"AccessBlocker"),IP=new Sa,xt=a(function(n,e){var t=Object.getOwnPropertyDescriptor(n,e);if(t){var r=t.value,o=t.get,w=t.initializer;r&&(void 0===r?"undefined":_type_of(r))!="object"||o&&"function"!=typeof o||w&&"function"!=typeof w||Object.defineProperty(n,e,{enumerable:!1,get:function get(){var _ref;if(!IP.blockAccess())return null!=(_ref=null!=r?r:null==w?void 0:w.call(this))?_ref:null==o?void 0:o.call(this)},set:function set(){}})}},"wrapGetterToBlockObjectAccess")}),x=W(function(){k(),k(),k(),k(),k(),k(),k(),k(),k(),k(),uu(),ma(),wr(),a(LP,"autoDetectAndInitializeSDKAdapter"),window.GameSDK=Object.seal(LP()),xt(window,"GameSDK")}),pf=_g(function(n,e){var o=function o(){},w=function w(S,b,L){this.fn=S,this.context=b,this.once=L||!1},I=function I(S,b,L,_,C){if("function"!=typeof L)throw TypeError("The listener must be a function");var R=new w(L,_||S,C),z=r?r+b:b;return S._events[z]?S._events[z].fn?S._events[z]=[S._events[z],R]:S._events[z].push(R):(S._events[z]=R,S._eventsCount++),S},D=function D(S,b){0==--S._eventsCount?S._events=new o:delete S._events[b]},E=function E(){this._events=new o,this._eventsCount=0};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var t=Object.prototype.hasOwnProperty,r="~";a(o,"Events"),Object.create&&(o.prototype=Object.create(null),new o().__proto__||(r=!1)),a(w,"EE"),a(I,"addListener"),a(D,"clearEvent"),a(E,"EventEmitter"),E.prototype.eventNames=a(function(){var b,L,S=[];if(0===this._eventsCount)return S;for(L in b=this._events)t.call(b,L)&&S.push(r?L.slice(1):L);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(b)):S},"eventNames"),E.prototype.listeners=a(function(S){var b=r?r+S:S,L=this._events[b];if(!L)return[];if(L.fn)return[L.fn];for(var _=0,C=L.length,R=Array(C);_<C;_++)R[_]=L[_].fn;return R},"listeners"),E.prototype.listenerCount=a(function(S){var b=r?r+S:S,L=this._events[b];return L?L.fn?1:L.length:0},"listenerCount"),E.prototype.emit=a(function(S,b,L,_,C,R){var z=r?r+S:S;if(!this._events[z])return!1;var ke,ce,$=this._events[z],Pe=arguments.length;if($.fn){switch($.once&&this.removeListener(S,$.fn,void 0,!0),Pe){case 1:return $.fn.call($.context),!0;case 2:return $.fn.call($.context,b),!0;case 3:return $.fn.call($.context,b,L),!0;case 4:return $.fn.call($.context,b,L,_),!0;case 5:return $.fn.call($.context,b,L,_,C),!0;case 6:return $.fn.call($.context,b,L,_,C,R),!0}for(ce=1,ke=Array(Pe-1);ce<Pe;ce++)ke[ce-1]=arguments[ce];$.fn.apply($.context,ke)}else{var sn,Fg=$.length;for(ce=0;ce<Fg;ce++)switch($[ce].once&&this.removeListener(S,$[ce].fn,void 0,!0),Pe){case 1:$[ce].fn.call($[ce].context);break;case 2:$[ce].fn.call($[ce].context,b);break;case 3:$[ce].fn.call($[ce].context,b,L);break;case 4:$[ce].fn.call($[ce].context,b,L,_);break;default:if(!ke)for(sn=1,ke=Array(Pe-1);sn<Pe;sn++)ke[sn-1]=arguments[sn];$[ce].fn.apply($[ce].context,ke)}}return!0},"emit"),E.prototype.on=a(function(S,b,L){return I(this,S,b,L,!1)},"on"),E.prototype.once=a(function(S,b,L){return I(this,S,b,L,!0)},"once"),E.prototype.removeListener=a(function(S,b,L,_){var C=r?r+S:S;if(!this._events[C])return this;if(!b)return D(this,C),this;var R=this._events[C];if(R.fn)R.fn!==b||_&&!R.once||L&&R.context!==L||D(this,C);else{for(var z=0,$=[],Pe=R.length;z<Pe;z++)(R[z].fn!==b||_&&!R[z].once||L&&R[z].context!==L)&&$.push(R[z]);$.length?this._events[C]=1===$.length?$[0]:$:D(this,C)}return this},"removeListener"),E.prototype.removeAllListeners=a(function(S){var b;return S?(b=r?r+S:S,this._events[b]&&D(this,b)):(this._events=new o,this._eventsCount=0),this},"removeAllListeners"),E.prototype.off=E.prototype.removeListener,E.prototype.addListener=E.prototype.on,E.prefixed=r,E.EventEmitter=E,(void 0===e?"undefined":_type_of(e))<"u"&&(e.exports=E)});s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var CP={CORE_BOOTING:"core-booting",REQUEST_CORE_START:"core-start",CORE_STARTING:"core-starting",CORE_READY:"core-ready",ANALYTICS_READY:"analytics-ready",GAME_SDK_READY:"game-sdk-ready",GAME_SDK_STARTED:"game-sdk-started",CONTEXT_DATA_PROCESSED:"context-data-processed",CONTEXT_SESSION_TYPE_DETECTED:"context-session-type-detected",GAME_READY:"game-ready",BUNDLE_READY:"bundle-ready",PLAYER_INFO_LOADED:"player-info-loaded",PLAYER_SETTINGS_CHANGED:"player-settings-changed",REQUEST_SHOW_BANNER_ADS:"request-show-banner-ads",SWITCH_SCENE:"switch-scene",SCENE_LOADED:"scene-loaded",PRELOAD_SCENE:"preload-scene",SCENE_PROGRESS:"scene-progress",SCENE_LAUNCHED:"scene-launched",SCENE_RENDERED:"scene-rendered",SCENE_BEFORE_RENDERED:"scene-before-rendered",MARK_IS_TEST_SCENE:"mark-is-test-scene",PRELOAD_SCREEN:"preload-screen",PRELOAD_SCREENS:"preload-screens",LOADING_SCREEN:"loading-screen",SCREEN_LOADED:"screen-loaded",OPENING_SCREEN:"opening-screen",OPEN_SCREEN:"open-screen",OPENED_SCREEN:"opened-screen",CLOSING_SCREEN:"closing-screen",CLOSE_SCREEN:"close-screen",CLOSED_SCREEN:"closed-screen",CORE_PLUGIN_READY:"core-plugin-ready",MODULE_PLUGIN_READY:"module-plugin-ready",AD_LOADING:"ad-loading",AD_LOADED:"ad-loaded",AD_LOAD_FAILED:"ad-load-failed",AD_SHOWING:"ad-showing",AD_SHOW:"ad-show",AD_CLOSED:"ad-closed",AD_SHOW_FAILED:"ad-show-failed",LANGUAGE_CHANGED:"language-changed",REQUEST_LANGUAGE:"request-language",REQUEST_HOT_RELOAD:"request-hot-reload",REQUEST_SAVE_CONFIG:"request-save-config",REQUEST_UPDATE_CONFIG:"request-update-config",REMOTE_CONFIG_UPDATED:"remote-config-updated",VISIBILITY_HIDDEN:"visibility-hidden",VISIBILITY_VISIBLE:"visibility-visible",REQUEST_RESIZE_GAME:"request-resize-game",REQUEST_QUALITY_UPGRADED:"request-quality-upgraded",REQUEST_QUALITY_DOWNGRADED:"request-quality-downgraded",GAME_SDK_POPUP_RESPONDED:"game-sdk-popup-responded"},Ee=CP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var pu=function(n){return n.DRAFT="draft",n.SINGLE="single",n.TOURNAMENT="tournament",n.MATCHING_GROUP="matching-group",n.CHALLENGE_FRIEND="challenge-friend",n}(pu||{}),q=pu,TP=q,$r=TP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var MP=a(function(n){return n},"func"),mu=MP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var OP=a(function(){},"func"),hu=OP,fu={asConst:mu,noop:hu};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var NP=a(function(n,e){if(n)return e<0?n[n.length+e]:n[e]},"at"),yu=NP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var RP=a(function(n,e){for(var t=[],r=0;r<n;r++)t.push(e(r));return t},"func"),Ar=RP,_P=a(function(n){return Ar(n,function(){})},"func"),wt=_P,kP=a(function(n,e){return wt(Math.ceil(n.length/e)).map(function(r,o){return n.slice(o*e,o*e+e)})},"func"),gu=kP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var GP=a(function(n,e){return n.filter(function(t){return 0>e.indexOf(t)})},"func"),Pu=GP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var FP=a(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=n[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var r=_step.value;for(var o in r){var w=o;e.includes(w)&&(t[w]||(t[w]=[]),t[w].push(r[w]))}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return t},"func"),xu=FP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var BP=a(function(n){return n.reduce(function(e,t){return e.concat(t)},[])},"func"),wu=BP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var UP=a(function(n,e){return n.indexOf(e)>=0},"func"),$u=UP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var VP=a(function(n,e){return n.length=Math.min(n.length,e),n},"func"),Au=VP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var KP=a(function(n){for(var ref,e=0;e<n.length/2;e++)ref=[n[n.length-1-e],n[e]],n[e]=ref[0],n[n.length-1-e]=ref[1]},"func"),vu=KP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var HP=a(function(n,e){for(var t=0;t<n.length;t++)if(e(n[t],t))return n[t]},"func"),vr=HP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var jP=a(function(n,e){for(var t=0;t<n.length;t++)if(e(n[t],t))return t;return -1},"func"),br=jP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var WP=a(function(n){for(var e=n.length-1;e>0;e--){var ref,t=Math.floor(Math.random()*(e+1));ref=[n[t],n[e]],n[e]=ref[0],n[t]=ref[1]}},"func"),Sr=WP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var zP=a(function(n,e){return n.reduce(function(t,r,o){return e(r,o,n)?t.left.push(r):t.right.push(r),t},{left:[],right:[]})},"split"),bu=zP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var qP=a(function(n){var e=_to_consumable_array(n);return Sr(e),e},"func"),Su=qP;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var YP=a(function(n,e,t){return t.indexOf(n)===e&&null!=n},"unique"),JP=a(function(n){return n.filter(YP)},"func"),Du=JP,Iu={at:yu,chunk:gu,difference:Pu,dod:xu,fillWith:Ar,length:wt,limit:Au,reverse:vu,search:vr,searchIndex:br,has:$u,shuffle:Sr,toShuffled:Su,unique:Du,flatten:wu,split:bu};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var QP=a(function(){return"OffscreenCanvas"in window&&("undefined"==typeof OffscreenCanvas?"undefined":_type_of(OffscreenCanvas))<"u"},"isOffscreenCanvasSupported"),XP=a(function(n,e){var t=new OffscreenCanvas(0,0),r=t.getContext(n,e);return r?{canvas:t,context:r}:null},"createOffscreenCanvas"),ZP=a(function(n,e){var t=document.createElement("canvas"),r=t.getContext(n,e);return r?{canvas:t,context:r}:null},"createHTMLCanvas"),ex=a(function(n){var tmp=n.contextType,e=void 0===tmp?"2d":tmp,tmp1=n.contextAttributes,t=void 0===tmp1?{}:tmp1,tmp2=n.type,r=void 0===tmp2?"canvas":tmp2;return"canvas"===r?ZP(e,t):"offscreen"===r&&QP()?XP(e,t):null},"func"),xe=ex;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var tx=a(function(n){return!n||""===n||0===n||"number"==typeof n&&isNaN(n)},"func"),Dr=tx,rx=a(function(n){return Dr(n)?!1!==n&&0!==n:"string"==typeof n||Array.isArray(n)?0===n.length:(void 0===n?"undefined":_type_of(n))=="object"&&null!==n&&0===Object.keys(n).length},"func"),$t=rx,Eu="Save The Pets",Da={},Ir=a(function(n){var _GameSDK_getSDKName;return $t(n)?null!=(_GameSDK_getSDKName=GameSDK.getSDKName())?_GameSDK_getSDKName:"Storage":null!=n?n:"Storage"},"getDBName"),nx=a(function(n){var e="".concat(Eu,"_").concat(n);return Da[e]?Promise.resolve(Da[e]):new Promise(function(t,r){var w,o=1,I=a(function(D){(w=indexedDB.open(Eu,D)).onerror=function(E){var S=E.target.error;(null==S?void 0:S.name)==="VersionError"?I(++o):r(S)},w.onsuccess=function(E){var S=w.result;S.objectStoreNames.contains(n)?(Da[e]=S,t(S)):I(++o)},w.onupgradeneeded=function(E){var S=E.target.result;o=S.version,S.objectStoreNames.contains(n)||S.createObjectStore(n)}},"tryOpen");I(o)})},"openIndexedDB"),Er=nx,ax=a(function(n,e){return _async_to_generator(function(){var t,r,o,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,Er(t=Ir(e))];case 1:if(!(r=_state.sent()).objectStoreNames.contains(t))return[2,{}];return o=r.transaction(t,"readonly").objectStore(t),[2,new Promise(function(w,I){var D=o.get(n);D.onerror=function(){return I(D.error)},D.onsuccess=function(){return w(D.result)}})];case 2:return e1=_state.sent(),[2,{}];case 3:return[2]}})})()},"func"),Lu=ax;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ox=a(function(n){try{return JSON.parse(n)}catch(e){return null}},"func"),At=ox,sx=a(function(n){try{if(!localStorage)return null;var e=localStorage.getItem(n);return null===e?null:At(e)}catch(e){return null}},"func"),Lr=sx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ix=a(function(n){try{return JSON.stringify(n,null,0)}catch(e){return""}},"func"),vt=ix,cx=a(function(n){return At(vt(n))},"func"),Cr=cx,lx=a(function(){var n="en_US",t=vr(Cr(window.navigator.languages)||[],function(r){return r.indexOf("-")>-1});return t&&-1!==t.indexOf("-")?t.replace("-","_"):n},"func"),Cu=lx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var dx=a(function(){var n=window.location.search.substring(1);if(!n)return{};var e=n.split("&"),t={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=e[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var o=_step.value.split("=");t[o[0]]=decodeURIComponent(o[1])}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return t},"func"),Tu=dx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ux=a(function(){var n=document.body,e=document.documentElement,t=n.clientHeight;return Math.max(e.clientHeight,t)||0},"func"),Mu=ux;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var px=a(function(){var n=document.body,e=document.documentElement,t=n.clientWidth;return Math.max(e.clientWidth,t)||0},"func"),Ou=px;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var mx=a(function(n){try{localStorage.removeItem(n)}catch(e){}},"func"),Nu=mx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var hx=a(function(n,e,t){return _async_to_generator(function(){var r,o,w,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),$t(e))return[2];return[4,Er(r=Ir(t))];case 1:if(!(o=_state.sent()).objectStoreNames.contains(r))return[2];return w=o.transaction(r,"readwrite").objectStore(r),[2,new Promise(function(I,D){try{var _$E=w.put(e,n);_$E.onsuccess=function(){return I()},_$E.onerror=function(){return D(_$E.error)}}catch(E){D(E)}})];case 2:return e1=_state.sent(),[3,3];case 3:return[2]}})})()},"func"),Ru=hx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var fx=a(function(){var n="vibrate"in window.navigator;if(n)try{window.navigator.vibrate(0)}catch(e){return!1}return n},"isSupportVibrateApi"),yx=a(function(n){try{return!!fx()&&(window.navigator.vibrate(0),window.navigator.vibrate(n),!0)}catch(e){return!1}},"func"),_u=yx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var gx=a(function(n,e,t){var r,o=!1;return function(){for(var _this=this,_len=arguments.length,w=Array(_len),_key=0;_key<_len;_key++)w[_key]=arguments[_key];if(t&&!o){o=!0,n.apply(this,w);return}clearTimeout(r),r=setTimeout(function(){n.apply(_this,w)},e)}},"func"),Vt=gx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Px=a(function(n){var e=Object.create(null);return function(){for(var _len=arguments.length,t=Array(_len),_key=0;_key<_len;_key++)t[_key]=arguments[_key];var r="__memoize__".concat(JSON.stringify(t));if(r in e)return e[r];var o=n.apply(this,t);return e[r]=o,o}},"func"),Re=Px;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var xx=a(function(n,e,t){var r,o=!1,w=!1;return function(){for(var _len=arguments.length,I=Array(_len),_key=0;_key<_len;_key++)I[_key]=arguments[_key];if(t&&!w){w=!0,n.apply(this,I);return}o&&(o=!1,n.apply(this,I)),clearTimeout(r),r=setTimeout(function(){o=!0},e)}},"func"),Kt=xx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var wx=a(function(n,e){var t=n.value;return n.value=function(){for(var _len=arguments.length,r=Array(_len),_key=0;_key<_len;_key++)r[_key]=arguments[_key];return _async_to_generator(function(){var o,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,e.apply(this,r)];case 1:if(_state.sent(),!_instanceof(o=t.apply(this,r),Promise))return[3,3];return[4,o];case 2:return _tmp=_state.sent(),[3,4];case 3:_tmp=o,_state.label=4;case 4:return[2,_tmp]}})}).call(this)},n},"func"),ku=wx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Gu=Object,$x=a(function(n,e){if("assign"in Gu)return Gu.assign(n,e);var t=n;for(var r in e)t[r]=e[r];return t},"func"),Le=$x,Ax=a(function(n){if(_instanceof(n,Error))return n;if(null!==n&&(void 0===n?"undefined":_type_of(n))=="object"&&"message"in n&&"string"==typeof n.message){var e=Error(n.message);return"stack"in n&&"string"==typeof n.stack&&(e.stack=n.stack),"name"in n&&"string"==typeof n.name&&(e.name=n.name),"code"in n&&"string"==typeof n.code&&Le(e,{code:n.code}),e}if(null!==n&&(void 0===n?"undefined":_type_of(n))=="object")try{return Error(JSON.stringify(n,null,2))}catch(e){return Error("[Object conversion failed] ".concat(String(n)))}return Error(String(n))},"func"),we=Ax,vx=a(function(n,e){var t=n.value;return n.value=function(){for(var _len=arguments.length,r=Array(_len),_key=0;_key<_len;_key++)r[_key]=arguments[_key];return _async_to_generator(function(){var o,_$w,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,4,5,6]),!_instanceof(_$w=t.apply(this,r),Promise))return[3,2];return[4,_$w];case 1:return _tmp=_state.sent(),[3,3];case 2:_tmp=_$w,_state.label=3;case 3:return[2,_tmp];case 4:return o=we(_state.sent()),[3,6];case 5:return null==e||e(o),[7];case 6:return[2]}})}).call(this)},n},"func"),Fu=vx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var bx=a(function(n){var e=(void 0===n?"undefined":_type_of(n))=="object"||"function"==typeof n,t=Array.isArray(n);return null!==n&&e&&!t},"func"),j=bx,Bu=a(function(n,e){if((void 0===n?"undefined":_type_of(n))!==e)throw Error("Value ".concat(n," is not type of ").concat(e," (").concat(void 0===n?"undefined":_type_of(n),")"))},"checkType"),Sx=a(function(n,e,t){var r;return t||Bu(n,e),j(n)&&t?Object.defineProperty(n,t,{get:function get(){return r},set:function set(o){Bu(o,e),r=o}}):n},"func"),bt=Sx,Dx=a(function(n,e){var t=n.value;return n.value=function(){for(var _len=arguments.length,r=Array(_len),_key=0;_key<_len;_key++)r[_key]=arguments[_key];return e.forEach(function(o,w){try{bt(r[w],o)}catch(I){var D="[Decorator:validateParams]";throw _instanceof(I,Error)?(I.message="".concat(D,": ").concat(I.message),I):Error("".concat(D,": ").concat(I))}}),t.apply(this,r)},n},"func"),Uu=Dx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ix=a(function(n,e){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=e[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var t=_step.value;try{return bt(n,t),!1}catch(e){}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return!0},"isInvalidReturnType"),Ex=a(function(n,e){var t=n.value;return n.value=function(){for(var _len=arguments.length,r=Array(_len),_key=0;_key<_len;_key++)r[_key]=arguments[_key];var o=t.apply(this,r);if(Ix(o,e))throw Error("[Decorator:validateReturn] ".concat(o," (").concat(void 0===o?"undefined":_type_of(o),") is not type of ").concat(e.join(" | ")));return o},n},"func"),Vu=Ex,$e=/*#__PURE__*/function(){function Jt(){_class_call_check(this,Jt)}return _create_class(Jt,null,[{key:"nr",value:function nr(e,t,r){return!!(r&&("u">_type_of(r.value)||r.get||r.set))}},{key:"oe",value:function oe(e,t,r){return!!(r&&("function"==typeof r.value||"function"==typeof r.initializer))}},{key:"locked",value:function locked(e,t,r){return Se(N({},r),{value:a(function(){throw Error("Method is locked")},"value")})}},{key:"preStart",value:function preStart(e){return function(t,r,o){return Jt.oe("preStart",r,o)?ku(o,e):o}}},{key:"tryCatch",value:function tryCatch(e){return function(t,r,o){return Jt.oe("tryCatch",r,o)?Fu(o,e):o}}},{key:"debounce",value:function debounce(e){return function(t,r,o){if(!Jt.oe("debounce",r,o))return o;var w=o.value;return w?o.value=Vt(w,e):o.initializer&&(w=o.initializer,o.initializer=function(){return Vt(w.call(this),e)}),o}}},{key:"throttle",value:function throttle(e){return function(t,r,o){if(!Jt.oe("throttle",r,o))return o;var w=o.value;return w?o.value=Kt(w,e):o.initializer&&(w=o.initializer,o.initializer=function(){return Kt(w.call(this),e,!0)}),o}}},{key:"memoize",value:function memoize(e,t,r){if(!Jt.oe("memoize",t,r))return r;var o=r.value;return o?r.value=Re(o):r.initializer&&(o=r.initializer,r.initializer=function(){return Re(o.call(this))}),r}},{key:"validateValue",value:function validateValue(e){return function(t,r,o){if(!Jt.nr("validateValue",r,o))return o;try{return bt(t,e,r)}catch(w){return _instanceof(w,Error),o}}}}]),Jt}();a($e,"DecoratorUtils"),Ge($e,"trace",a(function(n,e,t){try{var _ref=null!=t?t:{},r=_ref.value,o=_ref.initializer,w=_ref.get,I=_ref.set;try{if(!(w||I)&&"function"!=typeof r)if("function"==typeof o){var D=null==o?void 0:o();if("function"!=typeof D&&(void 0===D?"undefined":_type_of(D))>"u")throw Error("Initializer returned undefined")}else if(r)void 0===r||_type_of(r);else throw Error("Unsupported decorator")}catch(e){}}catch(e){}return t},"trace")),Ge($e,"validateReturn",a(function(){for(var _len=arguments.length,n=Array(_len),_key=0;_key<_len;_key++)n[_key]=arguments[_key];return function(e,t,r){return $e.oe("validateReturn",t,r)?Vu(r,n):r}},"validateReturn")),Ge($e,"validateParams",a(function(){for(var _len=arguments.length,n=Array(_len),_key=0;_key<_len;_key++)n[_key]=arguments[_key];return function(e,t,r){return $e.oe("validateParams",t,r)?Uu(r,n):r}},"validateParams"));var Ia=$e,Ht=Ia,Lx=a(function(){var n=function n(r){},e=function e(r){},t=function t(r){};self.onmessage=function(r){var _r_data=r.data;_r_data.action,_r_data.payload},a(n,"drawImage"),a(e,"saveData"),a(t,"getData")},"workerCode"),Ce=/*#__PURE__*/function(){function fs(){_class_call_check(this,fs),_define_property(this,"Vt",null),this.init()}return _create_class(fs,[{key:"init",value:function init(){var e=new Blob(["(".concat(Lx.toString(),")()")],{type:"application/javascript"});this.Vt=new Worker(URL.createObjectURL(e))}}],[{key:"inst",get:function get(){return fs.Ne||(fs.Ne=new fs),fs.Ne}},{key:"postMessage",value:function postMessage(e,t){if(!fs.inst.Vt)throw Error("Worker is not initialized");fs.inst.Vt.postMessage({action:e,payload:t})}}]),fs}();a(Ce,"WebWorker"),Ge(Ce,"_inst$"),pe([Ht.tryCatch()],Ce.prototype,"init",1),pe([Ht.tryCatch()],Ce,"postMessage",1);var Ea=Ce,Ku=Ea;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Cx=a(function(n){return null==n},"isNotClear"),Hu=a(function(n){if(!j(n))return n;for(var e in n)if(Cx(n[e]))delete n[e];else{var t=n[e];j(t)&&(n[e]=Hu(t))}return n},"func"),Tr=Hu;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Tx=a(function(n){return(void 0===n?"undefined":_type_of(n))!="object"||null===n?null:Le(n,{})},"func"),Mr=Tx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ju=a(function(n,e){for(var t in e)j(n[t])&&j(e[t])?ju(n[t],e[t]):Le(n,_define_property({},t,e[t]));return n},"func"),Or=ju,Mx=a(function(n,e){try{if(!localStorage)return!1;var t=Lr(n),r={};j(t)&&(r=t);var o=Mr(e);if(!j(o))return!1;var w=Tr(o),I=Or(r,w),D=vt(I);return localStorage.setItem(n,D),!0}catch(e){return!1}},"func"),Wu=Mx,zu={createCanvas:xe,getLocale:Cu,getLocalStorage:Lr,getQueryParams:Tu,getScreenHeight:Mu,getScreenWidth:Ou,writeLocalStorage:Wu,vibrate:_u,getIndexedDB:Lu,WebWorker:Ku,setIndexedDB:Ru,removeKeyLocalStorage:Nu};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ox=a(function(){try{var n=window.AudioContext||window.webkitAudioContext;if(!n)return"unknown";var e=new n;e.resume();var t=e.state;return e.close(),t}catch(e){return"unknown"}},"func"),qu=Ox;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Nx=a(function(){var _window_devicePixelRatio;return Number((null!=(_window_devicePixelRatio=window.devicePixelRatio)?_window_devicePixelRatio:1).toFixed(1))},"func"),Nr=Nx,Rx=a(function(n){return n*Nr()},"func"),Yu=Rx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _x=a(function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},"func"),Rr=_x,kx=a(function(){try{var n=getComputedStyle(document.documentElement).getPropertyValue("--sab"),e=parseInt(n,10);if(!isNaN(e)&&e>0)return e}catch(e){}try{var n1=document.createElement("div");n1.style.cssText="position:absolute;top:0;left:0;z-index:-9999;visibility:hidden;padding-bottom:env(safe-area-inset-bottom);",document.body.appendChild(n1);var e1=window.getComputedStyle(n1).paddingBottom,t=parseInt(e1,10);if(document.body.removeChild(n1),!isNaN(t)&&t>0)return t}catch(e){}if(Rr()){var _window_screen=window.screen,n2=_window_screen.width,e2=_window_screen.height,t1=Math.min(n2,e2),r=Math.max(n2,e2);if(["375,812","360,780","414,896","390,844","428,926","393,852","430,932"].includes("".concat(t1,",").concat(r))||r/t1>2)return 34}return 0},"func"),Ju=kx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Gx=a(function(){try{var _xe,_ref=null!=(_xe=xe({contextType:"webgl",type:"canvas"}))?_xe:{},n=_ref.context,e=_ref.canvas;if(!n||!e)return"unknown";var t=n.getParameter(n.RENDERER);return e.remove(),t.substring(0,70)}catch(e){return"unknown"}},"func"),Qu=Gx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Fx=a(function(){try{var n=window.navigator;return"hardwareConcurrency"in n&&"number"==typeof n.hardwareConcurrency?n.hardwareConcurrency:0}catch(e){return 0}},"func"),Xu=Fx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Bx=a(function(){try{var n=window.performance;if(!("memory"in n)||"object"!=_type_of(n.memory))return"unknown";var _n_memory=n.memory,e=_n_memory.usedJSHeapSize,t=_n_memory.jsHeapSizeLimit;if(!e||!t)return"unknown";var r=Math.round(t/1024/1024),o=Math.round(e/1024/1024),w=r-o;return"T:".concat(r,"MB U:").concat(o,"MB F:").concat(w,"MB")}catch(e){return"unknown"}},"func"),Zu=Bx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ux=a(function(){return/Android/i.test(navigator.userAgent)},"func"),ep=Ux;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Vx=a(function(){return!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)},"func"),tp=Vx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Kx=a(function(){try{return eval("try{const func = ()=>{}}catch(e){}"),!1}catch(n){return!0}},"func"),rp=Kx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Hx=a(function(){return/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)},"func"),np=Hx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var jx=a(function(){try{var _xe,_ref=null!=(_xe=xe({contextType:"2d",type:"canvas"}))?_xe:{},n=_ref.canvas,e=_ref.context;if(!n||!e)return!1;var t=n.toDataURL("image/webp").startsWith("data:image/webp");return n.remove(),t}catch(e){return!1}},"func"),ap=jx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Wx=a(function(){try{var _xe,_ref=null!=(_xe=xe({contextType:"webgl",type:"canvas"}))?_xe:{},n=_ref.context,e=_ref.canvas;if(!n||!e)return -1;var t=n.getParameter(n.MAX_TEXTURE_SIZE);return e.remove(),t<1?-1:t}catch(e){return -1}},"func"),op=Wx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var zx=a(function(){var _window_screen_orientation,_window_screen;if(null==(_window_screen=window.screen)||null==(_window_screen_orientation=_window_screen.orientation)?void 0:_window_screen_orientation.type)return window.screen.orientation.type;if("matchMedia"in window){if(window.matchMedia("(orientation: portrait)").matches)return"portrait-primary";if(window.matchMedia("(orientation: landscape)").matches)return"landscape-primary"}return window.innerHeight>window.innerWidth?"portrait-primary":window.innerWidth>window.innerHeight?"landscape-primary":"unknown"},"func"),sp=zx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var qx=a(function(){try{var _xe,_ref=null!=(_xe=xe({contextType:"webgl",type:"canvas"}))?_xe:{},n=_ref.context,e=_ref.canvas;if(!n||!e)return"unknown";var t=n.getParameter(n.VERSION);return e.remove(),t.substring(0,70)}catch(e){return"unknown"}},"func"),ip=qx,cp={isES5:rp,isIOS:Rr,isMobile:np,isAndroid:ep,isDesktop:tp,heapMemory:Zu,audioState:qu,pixelRatio:Nr,orientation:sp,gpuRenderer:Qu,webglVersion:ip,isSupportWebp:ap,maxTextureSize:op,getPhysicPixels:Yu,getSafeAreaBottom:Ju,hardwareConcurrency:Xu};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Yx=a(function(n){return[null,n]},"failure"),Xe=Yx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Jx=a(function(n){return null!==n[1]},"isFailure"),St=Jx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Qx=a(function(n){return[n,null]},"success"),Te=Qx,Xx=a(function(n){return function(e){if(St(e))return e;try{return Te(n(e[0]))}catch(t){return Xe(we(t))}}},"apply"),_r=Xx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Zx=a(function(n){return function(e){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:if(St(e))return[2,e];_state.label=1;case 1:return _state.trys.push([1,3,,4]),[4,n(e[0])];case 2:return[2,Te.apply(void 0,[_state.sent()])];case 3:return[2,Xe(we(_state.sent()))];case 4:return[2]}})})()}},"applyAsync"),kr=Zx;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ew=a(function(n){try{return Te(n())}catch(e){return Xe(we(e))}},"applyImmediate"),lp=ew;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var tw=a(function(n){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,n()];case 1:return[2,Te.apply(void 0,[_state.sent()])];case 2:return[2,Xe(we(_state.sent()))];case 3:return[2]}})})()},"applyImmediateAsync"),dp=tw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var rw=a(function(n){return n[1]},"extractFailure"),up=rw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var nw=a(function(n){return n[0]},"extractSuccess"),pp=nw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var aw=a(function(n){return null===n[1]},"isSuccess"),mp=aw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ow=Te,hp=ow;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var sw=a(function(){for(var _len=arguments.length,n=Array(_len),_key=0;_key<_len;_key++)n[_key]=arguments[_key];return function(e){return n.reduce(function(t,r){return _r(r)(t)},e)}},"pipe"),fp=sw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var iw=a(function(){for(var _len=arguments.length,n=Array(_len),_key=0;_key<_len;_key++)n[_key]=arguments[_key];return function(e){return _async_to_generator(function(){var t,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,err;return _ts_generator(this,function(_state){switch(_state.label){case 0:t=e,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_state.label=1;case 1:_state.trys.push([1,6,7,8]),_iterator=n[Symbol.iterator](),_state.label=2;case 2:if(_iteratorNormalCompletion=(_step=_iterator.next()).done)return[3,5];return[4,kr(_step.value)(t)];case 3:t=_state.sent(),_state.label=4;case 4:return _iteratorNormalCompletion=!0,[3,2];case 5:return[3,8];case 6:return err=_state.sent(),_didIteratorError=!0,_iteratorError=err,[3,8];case 7:try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}return[7];case 8:return[2,t]}})})()}},"pipeAsync"),yp=iw,gp={apply:_r,applyAsync:kr,applyImmediate:lp,applyImmediateAsync:dp,lift:hp,success:Te,pipe:fp,pipeAsync:yp,extractSuccess:pp,extractFailure:up,isFailure:St,isSuccess:mp};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),wr(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var cw=a(function(n){return Promise.all(n.map(function(t){return Promise.resolve(t).then(function(r){return{status:"fulfilled",value:r}},function(r){return{status:"rejected",reason:r}})}))},"func"),Gr=cw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var lw=a(function(n){return"function"==typeof Promise.any?Promise.any(n):new Promise(function(e,t){var r=[],o=0,w=a(function(I){if(!(I<n.length))if(r.length>0)e(r[0]);else{var D=Error("All promises were rejected");D.errors=r,t(D)}},"check");n.forEach(function(I,D){I.then(function(E){r[D]=E,w(++o)}).catch(function(E){r[D]=E,w(++o)})})})},"func"),Pp=lw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var dw=a(function(n,e){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,4,,5]),!e)return[3,2];return[4,Promise.race([n,new Promise(function(r,o){return setTimeout(function(){return o(Error("Timeout"))},e)})])];case 1:case 3:return[2,[_state.sent(),null]];case 2:return[4,n];case 4:return[2,[null,we(_state.sent())]];case 5:return[2]}})})()},"func"),xp=dw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var uw=a(function(){var n=null,e=new Set,t=a(function(w){e.add(w)},"defer"),r=a(function(w){e.delete(w)},"cancel"),o=a(function(){e.clear()},"clear");return{defer:t,cancel:r,successor:a(function(w){if(void 0===w)throw Error("Latch cannot be its own successor");n=w},"successor"),trigger:a(function(){return _async_to_generator(function(){var _tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:return e.add(o),[4,Gr(_to_consumable_array(e).map(function(I){return Promise.resolve().then(I)}))];case 1:if(_state.sent(),!(_tmp=n))return[3,3];return[4,n.trigger()];case 2:_state.sent(),_tmp=n=null,_state.label=3;case 3:return[2]}})})()},"trigger"),clear:o}},"func"),wp=uw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var pw=a(function(){var n={},e=a(function(t){var _n_t,r=null==(_n_t=n[t])?void 0:_n_t.shift();r?r():delete n[t]},"release");return{use:a(function(t){var r=!1,o={release:a(function(){r||(r=!0,e(t))},"release")};return n[t]?new Promise(function(w){n[t].push(function(){return w(o)})}):(n[t]=[],Promise.resolve(o))},"use")}},"mutex"),$p=pw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var mw=a(function(n,e){try{return n()}catch(t){try{return e()}catch(e){throw t}}},"func"),Ap=mw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var hw=a(function(n,e){return _async_to_generator(function(){var t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,7]),[4,n()];case 1:return[2,_state.sent()];case 2:t=_state.sent(),_state.label=3;case 3:return _state.trys.push([3,5,,6]),[4,e()];case 4:return[2,_state.sent()];case 5:throw e1=_state.sent(),t;case 6:return[3,7];case 7:return[2]}})})()},"func"),vp=hw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var fw=a(function(n){var e=n.generate,tmp=n.generateSeed,t=void 0===tmp?a(function(){return 1e6*Math.random()},"generateSeed"):tmp,tmp1=n.seed,o=void 0===tmp1?Date.now():tmp1;return function(){for(var _len=arguments.length,w=Array(_len),_key=0;_key<_len;_key++)w[_key]=arguments[_key];return o=t(o),e.apply(void 0,[o].concat(_to_consumable_array(w)))}},"func"),bp=fw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Sp=a(function(n,e){n.__proto__.valueOf=function(){return e},n.__proto__.toString=function(){return"".concat(e)}},"makeMutableTrick"),yw=a(function(n){return n.constructor(Se(N({},n),{__proto__:n.__proto__}))},"makeTypeTrick"),Dp=a(function(n){var e=Object.keys(n),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_loop=function(){var _Object_getOwnPropertyDescriptor,t=_step.value,r=null==(_Object_getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor(n,t))?void 0:_Object_getOwnPropertyDescriptor.value;if(j(r))return Dp(r),"continue";try{var o=r;Sp(o,r),Object.defineProperty(n,t,{enumerable:!1,configurable:!0,get:function get(){return yw(o)},set:function set(w){Le(o,w),Sp(o,w)}})}catch(e){}},_iterator=e[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_loop()}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}},"func"),Ip=Dp;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var gw=a(function(n,e){return e<=0?n:Promise.race([n,new Promise(function(t,r){setTimeout(function(){return r(Error("Timeout"))},e)})])},"func"),Ep=gw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Pw=a(function(n){var e=performance.now();return function(){return _async_to_generator(function(){var _tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!(_tmp=performance.now()-e>n))return[3,2];return[4,new Promise(function(t){return requestAnimationFrame(t)})];case 1:_state.sent(),_tmp=e=performance.now(),_state.label=2;case 2:return[2]}})})()}},"func"),Lp=Pw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var xw=a(function(n){return n.reduce(function(e,t){return"fulfilled"===t.status?e.successes.push(t.value):e.failures.push(t.reason),e},{successes:[],failures:[]})},"unwrapAllSettled"),Cp=xw,Tp={accessBlocker:xt,allSettled:Gr,any:Pp,debounce:Vt,handleAsync:xp,latch:wp,memoize:Re,mutex:$p,retry:Ap,retryAsync:vp,rng:bp,syncVars:Ip,throttle:Kt,timeOut:Ep,timeSlice:Lp,toError:we,unwrapAllSettled:Cp};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ww=a(function(n){var e={};for(var t in n)e[n[t]]=t;return e},"func"),Fr=ww,$w=Re(function(n,e){var t=n.toLowerCase();if("string"==typeof n){var r=e[t];if("string"==typeof r)return r}return"?"}),Aw=Re(function(n){for(var e=[],t=/:([A-Z0-9?]+)/gm,r=null;null!==(r=t.exec(n));)e.push(r[1]);return e}),vw=Re(function(n){for(var _loop=function(){var o=r[0];if(o.length>=2){var _e,w=o.length,I=o.slice(0,w-1),D=o[w-1],E=wt(+I).map(function(){return D});return(_e=e).push.apply(_e,_to_consumable_array(E)),"continue"}e.push(o)},e=[],t=/(\d+[A-Z?]|[A-Z?])/gm,r=null;null!==(r=t.exec(n));)_loop();return e}),bw=a(function(n,e){var t=n,r=Fr(e),o={},w=0,I=0,D=Aw(t),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=D[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var E=_step.value;w=0,o[++I]||(o[I]={});var S=vw(E),_iteratorNormalCompletion1=!0,_didIteratorError1=!1,_iteratorError1=void 0;try{for(var _step1,_iterator1=S[Symbol.iterator]();!(_iteratorNormalCompletion1=(_step1=_iterator1.next()).done);_iteratorNormalCompletion1=!0){var b=_step1.value;w++;var L=$w(b,r);o[I][w]=L}}catch(err){_didIteratorError1=!0,_iteratorError1=err}finally{try{_iteratorNormalCompletion1||null==_iterator1.return||_iterator1.return()}finally{if(_didIteratorError1)throw _iteratorError1}}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return o},"func"),Mp=bw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Sw=a(function(n,e){if(!j(n))return!1;try{if(j(n[e]))return!0}catch(e){return!1}return"function"==typeof Object.hasOwn?Object.hasOwn(n,e):Object.prototype.hasOwnProperty.call(n,e)},"func"),me=Sw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Dw=a(function(n){return"string"==typeof n},"func"),Br=Dw,Iw=Re(function(n,e){if(!j(e)||!me(e,n))return"?";var t=e[n];return"string"==typeof t?"".concat(t.toUpperCase()):"?"}),Op=a(function(n,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r="";if(!j(n))return r;var o="",w=1;for(var I in n)if(me(n,I)){var D=n[I];if(j(D)){r+=":".concat(Op(D,e,!0));continue}if(Br(D)){var E=Iw(D,e);E===o?(w++,r=r.slice(0,-2)):w=1,r+="".concat(w).concat(E),o=E}}return r.replace(/1([A-Z])/g,"$1")},"func"),Np=Op;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ew=a(function(n,e){try{if(!n)return"";if(e){var t=atob(n),r=btoa(e);return t=t.replace(r,"="),atob(t)}return atob(n)}catch(e){return""}},"func"),Rp=Ew;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Lw=a(function(){return{}},"createCompressDict"),La={},jt=a(function(n){return La[n]||(La[n]=Lw()),La[n]},"getCompressionDict"),_p=a(function(n,e){var t=jt(e),r=Object.keys(t).length;t[n]=r+1},"setCompressionDict"),Cw=a(function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=n[0],o=[],w=jt(t);if(e)for(var E in e)_p(E,t);for(var E1=1;E1<n.length;E1++){var S=n[E1],b="".concat(r).concat(S);r=n[++E1],void 0===w[b]&&(_p(b,t),w=jt(t))}r=n[0];for(var I=1,D=0;I<n.length;){var E2=n[I],S1="".concat(r).concat(E2),b1=Tw(n.slice(D),w);if(null!==b1){o.push(w[b1]),I+=b1.length-S1.length,r="",D=I+1,I++;continue}void 0===w[S1]?r=S1:(o.push(w[S1]),r="",D=I+1),I++}return o},"func"),Tw=a(function(n,e){var t=Object.keys(e);return 0===(t=t.filter(function(r){return n.indexOf(r)>-1&&n!==r})).length?null:t.sort(function(r,o){return o.length-r.length})[0]},"getLongestAvailableKeyInCompressDict"),kp=Cw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Mw=a(function(n){var e={};for(var t in n)e[n[t]]=t;return e},"createDecompressDict"),Ow=a(function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r="",o="",w=jt(t);e&&(w=N(N({},e),w));var I=Mw(w);for(var D in n){var E=n[D];o+=r=void 0!==I[E]?I[E]:"?"}return o},"func"),Gp=Ow;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Nw=a(function(n,e){try{if(!n)return"";if(e){var t=btoa(n),r=btoa(e);return t=t.replace("=",r),btoa(t)}return btoa(n)}catch(e){return""}},"func"),Fp=Nw,Bp={decodeMap:Mp,encodeMap:Np,hashToString:Rp,stringToHash:Fp,lwzCompress:kp,lwzDecompress:Gp};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Rw=a(function(n,e){var t=n.split(","),r=t[0].match(/:(.*?);/);if(!r)return null;for(var o=r[1],w=atob(t[t.length-1]),I=w.length,D=new Uint8Array(I);I--;)D[I]=w.charCodeAt(I);return new File([D],e,{type:o})},"base64ToFile"),Up=Rw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _w=a(function(n){return new Promise(function(e,t){var r=new FileReader;r.onloadend=function(){return e(r.result)},r.onerror=t,r.readAsDataURL(n)})},"func"),Vp=_w;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Dt=new Image,kw=a(function(n){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],t=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return new Promise(function(r){e&&(Dt=new Image),Dt.onload=function(){r(Dt),t&&URL.revokeObjectURL(Dt.src)},Dt.onerror=function(){r(null)},Dt.src=URL.createObjectURL(n)})},"func"),Kp=kw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Gw=a(function(n,e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,fetch(n).then(function(r){return r.blob()}).catch(function(){return null})];case 1:return[2,(t=_state.sent())?new File([t],e):null]}})})()},"func"),Hp=Gw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ct=xe({contextType:"2d",contextAttributes:{willReadFrequently:!0}}),Fw=a(function(n){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,new Promise(function(e,t){var r=new FileReader;r.onload=function(){return e(r.result)},r.onerror=t,r.readAsDataURL(n)})]})})()},"convertBlobToBase64"),Bw=a(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png";return _async_to_generator(function(){var t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(t=n.width,r=n.height,!t||!r)throw Error("Element has no width or height");if(!ct)throw Error("Failed to create canvas");if(ct.canvas.width=t,ct.canvas.height=r,ct.context.drawImage(n,0,0,t,r),_instanceof(ct.canvas,HTMLCanvasElement))return[2,ct.canvas.toDataURL("image/".concat(e),.85)];return[4,ct.canvas.convertToBlob({type:"image/".concat(e)})];case 1:return[2,Fw(_state.sent())]}})})()},"func"),jp=Bw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Wp=xe({contextType:"2d",contextAttributes:{willReadFrequently:!0}}),Uw=a(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png";return _async_to_generator(function(){var t,r;return _ts_generator(this,function(_state){try{if(!Wp)throw Error("Failed to create canvas");return t=Wp.canvas,r=Wp.context,[2,(t.width=n.width,t.height=n.height,r.drawImage(n,0,0,n.width,n.height),_instanceof(t,HTMLCanvasElement)?new Promise(function(o){t.toBlob(function(w){return o(w)},"image/".concat(e),.9)}):t.convertToBlob({type:"image/".concat(e),quality:.9}))]}catch(e){return[2,null]}})})()},"func"),zp=Uw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Vw=a(function(n){return _async_to_generator(function(){var _$e,e;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!n)throw Error("url is empty");_state.label=1;case 1:return _state.trys.push([1,4,,5]),[4,fetch(n)];case 2:if(!(_$e=_state.sent()).ok)throw Error("Network response was not ok");return[4,_$e.blob()];case 3:return[2,_state.sent()];case 4:throw _instanceof(e=_state.sent(),Error)?e:Error("Failed to fetch image");case 5:return[2]}})})()},"func"),qp=Vw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Kw=a(function(n){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,new Promise(function(e,t){n||t(Error("url is empty"));var r=new Image;r.crossOrigin="anonymous",r.onload=function(){e(r)},r.onerror=function(o){t(o)},r.src=n})]})})()},"func"),Yp=Kw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Hw=a(function(n,e){if(isNaN(n)||isNaN(e))throw Error("width and height must be numbers");return{string:"+",style:"font-size: 1px; padding: ".concat(Math.floor(e/2),"px ").concat(Math.floor(n/2),"px;")}},"getBox"),jw=a(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise(function(t){var r=new Image;r.onerror=function(){t(!1)},r.onload=function(){Hw(r.width*e,r.height*e),t(!0)},r.src=n})},"func"),Jp=jw,Qp={base64ToFile:Up,blobToDataImage:Vp,blobToHtmlImage:Kp,blobUrlToFile:Hp,elementToBase64:jp,elementToBlob:zp,fetchImage:qp,loadImage:Yp,logImage:Jp};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Xp={clone:Cr,decode:At,encode:vt};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var V=/*#__PURE__*/function(){function ne(){_class_call_check(this,ne),_define_property(this,"Y",console)}return _create_class(ne,null,[{key:"inst",get:function get(){return ne.Ne||(ne.Ne=new ne),ne.Ne}},{key:"le",value:function le(e){return e===console}},{key:"Wt",value:function Wt(e){return _instanceof(e,Performance)}},{key:"ce",value:function ce(e){return!ne.le(e)&&!ne.Wt(e)}},{key:"setService",value:function setService(e){e&&(ne.inst.Y=e)}},{key:"measure",value:function measure(e){var t=ne.inst.Y;ne.ce(t)&&t.measure(e)}},{key:"start",value:function start(e){var t=ne.inst.Y;ne.le(t)?t.time(e):ne.Wt(t)?t.mark("".concat(e,"_start")):ne.ce(t)&&t.start(e)}},{key:"stop",value:function stop(e){var t=ne.inst.Y;if(ne.le(t))t.timeEnd(e);else if(ne.Wt(t)){try{t.mark("".concat(e,"_end")),t.measure(e,"".concat(e,"_start"),"".concat(e,"_end"))}catch(e){}try{t.clearMarks("".concat(e,"_start")),t.clearMarks("".concat(e,"_end"))}catch(e){}}else ne.ce(t)&&t.stop(e)}},{key:"putMetric",value:function putMetric(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),o=ne.inst.Y;ne.le(o)?o.timeLog(e,"".concat(t,": ").concat(r)):ne.ce(o)&&o.putMetric(e,t,r)}},{key:"incMetric",value:function incMetric(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=ne.inst.Y;ne.le(o)?o.timeLog(e,"".concat(t,": increment by ").concat(r)):ne.ce(o)&&o.incrementMetric(e,t,r)}},{key:"putAttr",value:function putAttr(e,t,r){var o=ne.inst.Y,w=r.slice(0,100);ne.le(o)?o.timeLog(e,"".concat(t,": ").concat(w)):ne.ce(o)&&o.putAttr(e,t,w)}},{key:"rmAttr",value:function rmAttr(e,t){var r=ne.inst.Y;ne.le(r)?r.timeLog(e,"".concat(t,": removed")):ne.ce(r)&&r.removeAttr(e,t)}}]),ne}();a(V,"Mark"),Ge(V,"_inst$");var Ca=V,Zp=Ca,em={Mark:Zp};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ww=a(function(n,e){if("number"!=typeof n)return"0";for(var t=yt(10,e),r=n,o=0;r>=t;)r=Math.floor(r/1e3),o++;var w=r.toString(),I=["","K","M","B","T","Qa","Qi","Sx","Sp","Oc","No","Dc","Ud","Dd","Td","Qad","Qid","Sxd","Spd"][o];return"".concat(w).concat(I)},"func"),tm=Ww;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var zw=a(function(n,e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=n.toString(),o=r.length,w=0;w<e-o;w++)r+=t;return r},"padEnd"),rm=zw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var qw=a(function(n,e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=n.toString(),o=r.length,w=0;w<e-o;w++)r=t+r;return r},"padStart"),nm=qw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Yw=a(function(n,e){return Math.floor(Math.random()*n)*(e?Math.random()>.5?1:-1:1)},"func"),Wt=Yw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Jw=a(function(n){return n>0?1:n<0?-1:0===n?0:NaN},"func"),am=Jw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Qw=a(function(n,e){var _ref=e||{},tmp=_ref.fractionalDigits,t=void 0===tmp?0:tmp,tmp1=_ref.startAbbreviate,r=void 0===tmp1?1e3:tmp1,tmp2=_ref.abbreviateStep,o=void 0===tmp2?3:tmp2,tmp3=_ref.maxLength,w=void 0===tmp3?-1:tmp3,tmp4=_ref.removeLastZero,I=void 0===tmp4||tmp4,tmp5=_ref.suffixes,D=void 0===tmp5?["","k","m","b","t","q"]:tmp5,E=-1===w?0x5f5e0ff:w;if(n>=r){var C=Math.floor((Math.floor(n/yt(10,o)).toString().length-1)/o)+1,R=(n/yt(yt(10,o),C)).toFixed(t),z=E-D[C].length,$=R.substring(0,z);return(I?om($):$)+D[C]}var S=n.toFixed(t),b=E-D[0].length,L=S.substring(0,b);return I?om(L):L+D[0]},"toAbbreviatedString"),om=a(function(n){if(0>n.indexOf("."))return n;for(var e=n.length-1;e>=0;e--){if("."===n[e])return n.substring(0,e);if("0"!==n[e])return n.substring(0,e+1)}return n},"removeZero"),sm=Qw,im={getShortNumber:tm,sign:am,padEnd:rm,padStart:nm,random:Wt,toAbbreviatedString:sm};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var cm=a(function(n){var e=n.replace(/[-_\s.]+(.)?/g,function(t,r){return r?r.toUpperCase():""});return e.substring(0,1).toUpperCase()+e.substring(1)},"toUpperCamelCase"),Ur=a(function(n){var e=n.replace(/[-_\s.]+(.)?/g,function(t,r){return r?r.toUpperCase():""});return e.substring(0,1).toLowerCase()+e.substring(1)},"toCamelCase"),Ta=a(function(n){var e={};for(var t in n){var r=n[t],o=Ur(t);Array.isArray(r)?e[o]=r.map(function(w){return(void 0===w?"undefined":_type_of(w))=="object"?Ta(w):w}):(void 0===r?"undefined":_type_of(r))=="object"?e[o]=Ta(r):e[o]=n[t]}return e},"func"),lm=Ta;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Xw=a(function(n,e){return n===e?0!==n||1/n==1/e:n!=n&&e!=e},"func"),Vr=Xw,dm=a(function(n,e,t){var _t_get,_t_get1,r={};if(t.has(n)&&(null==(_t_get=t.get(n))?void 0:_t_get.has(e)))return r;for(var o in t.has(n)||t.set(n,new WeakSet),null==(_t_get1=t.get(n))||_t_get1.add(e),e)if(me(e,o)){var w=void 0;try{w=e[o]}catch(e){continue}if(me(n,o)){var I=void 0;try{I=n[o]}catch(e){r[o]=w;continue}if(j(I)&&j(w)&&null!==I&&null!==w&&"function"!=typeof I&&"function"!=typeof w){var D=dm(I,w,t);Object.keys(D).length>0&&(r[o]=D)}else Vr(I,w)||(r[o]=w)}else r[o]=w}for(var o1 in n)me(n,o1)&&!me(e,o1)&&(r[o1]=void 0);return r},"diffRecursive"),Zw=a(function(n,e){return dm(n,e,new WeakMap)},"func"),um=Zw;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var e$=a(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=Object.values(n)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var r=_step.value;for(var o in r){var w=o;e.includes(w)&&(t[w]||(t[w]=[]),t[w].push(r[w]))}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return t},"func"),pm=e$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var mm=a(function(n,e){var t={};for(var r in e)if(me(e,r))if(j(e[r])&&null!==e[r])if(j(n[r])&&null!==n[r]){if("function"==typeof e[r])continue;var o=mm(n[r],e[r]);Object.keys(o).length>0&&(t[r]=o)}else me(n,r)||(t[r]=Le({},e[r]));else me(n,r)||(t[r]=e[r]);return t},"func"),hm=mm;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var t$=a(function(n,e){return Object.values(e).includes(n)},"func"),fm=t$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var r$=a(function(n){return["string","number","symbol"].indexOf(void 0===n?"undefined":_type_of(n))>-1},"func"),Kr=r$,n$=a(function(n,e){var t={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=n[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var r=_step.value,o=r[e];Kr(o)&&(t[o]=r)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return t},"func"),ym=n$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Hr=a(function(n){return n.replace(/([a-z])([A-Z])/g,"$1_$2").replace(/\s+/g,"_").toLowerCase()},"toSnakeCase"),Ma=a(function(n){var e={};for(var t in n){var r=n[t],o=Hr(t);Array.isArray(r)?e[o]=r.map(function(w){return(void 0===w?"undefined":_type_of(w))=="object"?Ma(w):w}):(void 0===r?"undefined":_type_of(r))=="object"?e[o]=Ma(r):e[o]=n[t]}return e},"func"),gm=Ma;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var a$=a(function(n){return Object.keys(n).map(function(e){return n[e]})},"func"),Pm=a$,xm={assign:Le,camelCaseKeys:lm,clone:Mr,clear:Tr,diff:um,dod:pm,hasOwn:me,invert:Fr,is:Vr,isIn:fm,keyBy:ym,merge:Or,snakeCaseKeys:gm,vals:Pm,filterDeep:hm};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Na={};Fd(Na,{Signal:function(){return jr},SignalAbortedError:function(){return zt},SignalController:function(){return Oa}}),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ra=/*#__PURE__*/function(Error1){function Ra(){var _this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Signal aborted with no reason";return _class_call_check(this,Ra),(_this=_call_super(this,Ra,[e])).name="SignalAbortedStopped",_this}return _inherits(Ra,Error1),Ra}(_wrap_native_super(Error));a(Ra,"SignalAbortedError");var zt=Ra,Wr=/*#__PURE__*/function(){function uf(){_class_call_check(this,uf),_define_property(this,"ot",{type:"running"}),_define_property(this,"_e",[])}return _create_class(uf,[{key:"once",value:function once(e){this._e.push(e)}},{key:"off",value:function off(e){this._e=this._e.filter(function(t){return t!==e})}},{key:"abort",value:function abort(e){var t=this.constructReason(e);this.ot={type:"stopped",reason:t};var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this._e[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)(0,_step.value)(t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this._e=[]}},{key:"aborted",get:function get(){return"stopped"===this.ot.type}},{key:"reason",get:function get(){if("stopped"===this.ot.type)return this.ot.reason}},{key:"wrap",value:function wrap(e){if(!this.aborted)return e}},{key:"chain",value:function chain(e){var _this=this;_instanceof(e,uf)?e.once(function(t){return _this.abort(t)}):e.addEventListener("abort",function(){return _this.abort(e.reason)},{once:!0})}},{key:"promise",value:function promise(){var _this=this;return this.aborted?Promise.resolve(this.reason):new Promise(function(e){_this.once(function(t){return e(t)})})}},{key:"constructReason",value:function constructReason(e){return _instanceof(e,Error)?e:"string"==typeof e?new zt(e):new zt}}]),uf}();a(Wr,"Signal");var jr=Wr,_a=/*#__PURE__*/function(){function _a(){_class_call_check(this,_a),_define_property(this,"Te",void 0)}return _create_class(_a,[{key:"renew",value:function renew(){null==(_this_Te=this.Te)||_this_Te.abort();var _this_Te,e=new jr;return this.Te=e,e}},{key:"abort",value:function abort(){var _this_Te;null==(_this_Te=this.Te)||_this_Te.abort()}},{key:"promise",value:function promise(){return void 0===this.Te?Promise.resolve(void 0):this.Te.promise()}}]),_a}();a(_a,"SignalController");var Oa=_a,wm=Na;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var o$=a(function(n){return n&&n[0].toUpperCase()+n.slice(1)},"func"),$m=o$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),a(s$,"fun");var Am=s$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var lt=null,i$="Anonymous",c$=a(function(){return _async_to_generator(function(){var t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,fetch("https://randommer.io/api/Name",{method:"GET",headers:{"X-Api-Key":Ludex.Configs.Mockup.Profile.RandomNameApiKey,"Content-Type":"application/json"},body:JSON.stringify({nameType:"surname",quantity:1e3})})];case 1:if(!(t=_state.sent()).ok)throw Error("Can't fetch names");return[4,t.json()];case 2:if(!j(r=_state.sent())||!me(r,"data")||!Array.isArray(r.data))throw Error("Invalid names response");return[2,r.data]}})})()},"fetchNames"),l$=a(function(){return _async_to_generator(function(){var _tmp,n,e,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,3,,4]),!(_tmp=!lt))return[3,2];return[4,c$()];case 1:_tmp=!(lt=_state.sent()),_state.label=2;case 2:if(_tmp)throw Error("Cannot fetch names");return n=lt[Wt(lt.length)],e=lt[Wt(lt.length)],[2,"".concat(n," ").concat(e)];case 3:return e1=_state.sent(),[2,i$];case 4:return[2]}})})()},"func"),vm=l$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var d$=a(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=a(function(o){return Math.floor(o).toString(n)},"s");return e(Date.now()/1e3)+Array(n+1).join(" ").replace(/./g,function(){return e(Math.random()*n)})},"func"),bm=d$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var u$=a(function(n){var e=n?n.split("_"):[],t=e.length>0?e[0]:"en_US";switch(t){case"id":case"in":t="id"}return t},"func"),Sm=u$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var p$=a(function(n,e){var t=n.split(" "),r=(t.length<=1?_to_consumable_array(t):[t[0],t.pop()]).join(" "),o=r.lastIndexOf(" ")||0,w=o>=0?o:e;return(r.length>e?r.substring(0,w):r).substring(0,e)},"func"),Dm=p$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var m$=a(function(n){var e=0;if(0===n.length)return e;for(var t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e&=e;return e},"func"),Im=m$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var h$=a(function(n,e){for(var t=0;t<e.length;t++)if(n[t]!==e[t])return!1;return!0},"fn"),Em=h$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var f$=a(function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",r=Math.floor(e);if(n.length>=r)return n;for(var o=r-n.length,w="",I=0;I<o;I++)w+=t;return w.slice(0,o)+n},"func"),Lm=f$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var y$=a(function(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return void 0!==r&&e.push("".concat(t,"=").concat(r)),e},[]).join("&")},"func"),Cm=y$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var g$=a(function(n,e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*#%&!",r="",o=n;void 0!==e&&(o-=e.length,r+=e);for(var w=0;w<o;w++){var I=Math.floor(Math.random()*t.length);r+=t.charAt(I)}return r},"func"),Tm=g$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var P$="0123456789ABCDEF",x$=a(function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0x",e=n,t=0;t<6;t++)e+=P$[Math.floor(16*Math.random())];return e},"func"),Mm=x$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var w$=a(function(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[]/g,function(e){return""===e?"d":"D"})},"func"),Om=w$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),a(_m,"generateNameUsingString");var $$=a(function(n){for(var e=0,t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t)|0;return Math.abs(e)},"createHash"),Nm=["James","Mary","John","Patricia","Robert","Jennifer","Michael","Linda","William","Elizabeth","David","Susan","Richard","Jessica","Joseph","Sarah","Thomas","Karen","Charles","Nancy","Christopher","Lisa","Daniel","Margaret","Matthew","Betty","Anthony","Sandra","Mark","Ashley","Donald","Dorothy","Steven","Kimberly","Paul","Emily","Andrew","Donna","Joshua","Michelle","Kenneth","Carol","Kevin","Amanda","Brian","Melissa","George","Deborah"],Rm=["Smith","Johnson","Williams","Jones","Brown","Davis","Miller","Wilson","Moore","Taylor","Anderson","Thomas","Jackson","White","Harris","Martin","Thompson","Garcia","Martinez","Robinson","Clark","Rodriguez","Lewis","Lee","Walker","Hall","Allen","Young","Hernandez","King","Wright","Lopez","Hill","Scott","Green","Adams","Baker","Gonzalez","Nelson","Carter","Mitchell","Perez","Roberts","Turner","Phillips","Campbell","Parker","Evans"],km={toCamelCase:Ur,toUpperCamelCase:cm,capitalize:$m,generateObjectId:bm,getLanguageCode:Sm,getShortName:Dm,hashCode:Im,matchStart:Em,padStart:Lm,params:Cm,random:Tm,randomColor:Mm,removeDiacritics:Om,findDuplicateSubstrings:Am,generateNameAsync:vm,toSnakeCase:Hr,generateNameUsingString:_m};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Gm=[60,3600,86400,604800,2592e3,31536e3,1/0],A$=["second","minute","hour","day","week","month","year"],v$=a(function(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Soon";try{var _$o=null!=e?e:"en",w=null!=t?t:{numeric:"auto"},I=Math.round((1e3*n-Date.now())/1e3),D=Math.abs(Math.round((1e3*n-Date.now())/1e3)),E=br(Gm,function(b){return b>D}),S=E?Gm[E-1]:1;return new Intl.RelativeTimeFormat(_$o,w).format(Math.floor(I/S),A$[E])}catch(o){if(void 0!==r)return"Soon";throw o}},"func"),Fm=v$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var b$=a(function(n){var e=new Date(n),t=e.getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),w=e.getUTCMilliseconds(),I=t<10?"0".concat(t):"".concat(t),D=r<10?"0".concat(r):"".concat(r),E=o<10?"0".concat(o):"".concat(o),S="".concat(w);return w<10?S="00".concat(w):w<100&&(S="0".concat(w)),"".concat(I,":").concat(D,":").concat(E,":").concat(S)},"func"),Bm=b$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var S$=a(function(n){var e=new Date(n),t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},"func"),Um=S$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var D$=a(function(n){return new Promise(function(e){return setTimeout(e,n)})},"func"),Vm=D$,Km={isToday:Um,sleepAsync:Vm,getRelativeTime:Fm,getTimeString:Bm};s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var I$=a(function(n){return"boolean"==typeof n},"func"),Hm=I$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var E$=a(function(){var _codex_player,_codex;return!!(null==(_codex=codex)||null==(_codex_player=_codex.player)?void 0:_codex_player.getPlayerDataByKey("debug"))},"func"),jm=E$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var L$=a(function(n){return"function"==typeof n},"func"),zr=L$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var C$=a(function(n){return"number"==typeof n},"func"),Wm=C$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var T$=a(function(n){return!!zr(n)&&(!!_instanceof(n,Promise)||"then"in n&&"function"==typeof n.then||"AsyncFunction"===n.constructor.name)},"func"),zm=T$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var M$=a(function(n,e,t){var w,I,_ref=null!=t?t:{},tmp=_ref.timeout,r=void 0===tmp?1e3:tmp,tmp1=_ref.checkInterval,o=void 0===tmp1?16:tmp1;return new Promise(function(D,E){if("function"!=typeof n)throw Error("Input from must be a function");I=setInterval(function(){n()===("function"==typeof e?e():e)&&(clearTimeout(w),clearInterval(I),D(!0))},o),r>0&&(clearTimeout(w),w=setTimeout(function(){clearInterval(I),E(Error("Timeout"))},r))})},"func"),qm=M$,Ym={isBoolean:Hm,isDebugger:jm,isEmpty:$t,isFalsy:Dr,isFunction:zr,isNumber:Wm,isObject:j,isPromise:zm,isPropertyKey:Kr,isString:Br,isValueChangeAsync:qm},O$={Array:Iu,Browser:zu,Decorator:Ht,Device:cp,Function:Tp,Hash:Bp,Image:Qp,Json:Xp,Mark:em.Mark,Object:xm,Signal:wm,String:km,Number:im,Time:Km,Valid:Ym,Error:gp},Jm=O$,N$=Object.preventExtensions({Dtos:{},Utils:Object.freeze(Jm),Match:Object.freeze({Modes:Object.freeze($r)}),Events:Object.freeze(Ee),Configs:Object.seal(v),Plugins:Object.seal({Ads:null,Audio:null,Analytics:null})});window.Ludex=N$,window.TypeGuard=fu,window.GameName="Save The Pets",window.CommitId="15844efa-74049ace",window.BuildVersion=1,s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils=Ludex.Utils,dt=_Ludex_Utils.Valid,Ze=_Ludex_Utils.Object,ka=_Ludex_Utils.String,Ga=_Ludex_Utils.Json,Fa="is invalid",Fe={},ee=/*#__PURE__*/function(){function ye(e){_class_call_check(this,ye),this.ir(e)}return _create_class(ye,[{key:"Ce",value:function Ce(){return this.constructor}},{key:"ir",value:function ir(e){dt.isObject(e)||this.a("input data","is not an object");var t=this.Ce().getDefaults(),r=Ze.merge(t,e);this.Fa(r),this.q(r),this.o(r),this.Q(r)}},{key:"Fa",value:function Fa1(e){}},{key:"J",value:function J(e){dt.isObject(e)||this.a("structure","is not an object");var t=this.lt(),r=Object.keys(e),o=this.Ce(),w=o._();if(!o.loose[w]){var I=r.filter(function(D){return!t.includes(D)}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;if(I.length>0&&dt.isObject(e))try{for(var _step,_iterator=I[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var D=_step.value;Ze.assign(e,_define_property({},D,null))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}var _iteratorNormalCompletion1=!0,_didIteratorError1=!1,_iteratorError1=void 0;try{for(var _step1,_iterator1=t[Symbol.iterator]();!(_iteratorNormalCompletion1=(_step1=_iterator1.next()).done);_iteratorNormalCompletion1=!0){var I1=_step1.value;Ze.hasOwn(e,I1)||this.a("structure","is missing key: ".concat(I1))}}catch(err){_didIteratorError1=!0,_iteratorError1=err}finally{try{_iteratorNormalCompletion1||null==_iterator1.return||_iterator1.return()}finally{if(_didIteratorError1)throw _iteratorError1}}}},{key:"X",value:function X(e){var t=this.Ce(),r=t._(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.lt()[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var o=_step.value,w=e[o],I=ka.removeDiacritics(o).replace(/[^a-zA-Z0-9]/g,""),E=this["validate".concat(ka.capitalize(I))];if("function"==typeof E)try{E.call(this,w)}catch(S){if(!t.loose[r])throw S;var _Fe_r,b=null==(_Fe_r=Fe[r])?void 0:_Fe_r[o];void 0!==b&&(e[o]=Ga.clone(b))}else t.loose[r]||this.a("validator","is missing for key '".concat(o,"'"))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"Z",value:function Z(e){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.lt()[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var t=_step.value;Ze.assign(this,_define_property({},t,e[t]))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"a",value:function a(e,t){var r=this.Ce()._();throw Error("".concat(r,": ").concat(e," ").concat(t))}},{key:"toObject",value:function toObject(){var e={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.lt()[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var t=_step.value;e[t]=this[t]}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return e}},{key:"lt",value:function lt(){var t=Fe[this.Ce()._()];return dt.isObject(t)?Object.keys(t):[]}}],[{key:"_",value:function _(){var _ye_name,e=Object.getOwnPropertyNames(ye.prototype).join("");return"string"!=typeof e?null!=(_ye_name=ye.name)?_ye_name:"unknown":e.replaceAll("validate","").replaceAll("constructor","").replaceAll("toObject","")}},{key:"addDefaults",value:function addDefaults(e){dt.isObject(e)||ye.prototype.a("default data",Fa);var t=Ga.clone(e),r=ye._();dt.isObject(Fe[r])||(Fe[r]={});var o=Fe[r];Fe[r]=Ze.merge(o,t)}},{key:"getDefaults",value:function getDefaults(){var _Ga_clone,e=ye._();return null!=(_Ga_clone=Ga.clone(Fe[e]))?_Ga_clone:{}}},{key:"addValidator",value:function addValidator(e,t){dt.isString(e)||ye.prototype.a("validate key",Fa),"function"!=typeof t&&ye.prototype.a("validate function",Fa);var r=ye._(),o=Fe[r],w=ye.loose[r];Ze.assign(ye.loose,_define_property({},r,null)),Ze.assign(Fe,_define_property({},r,null));var I="validate".concat(ka.capitalize(e));Ze.assign(ye.prototype,_define_property({},I,t)),r=ye._(),ye.loose[r]=w,Fe[r]=o}},{key:"makeStrict",value:function makeStrict(){var e=ye._();ye.loose[e]=!1}},{key:"makeLoose",value:function makeLoose(){var e=ye._();ye.loose[e]=!0}}]),ye}();a(ee,"BaseDtos"),Ge(ee,"loose",{});var Ba=ee,ae=Ba;Ludex.Dtos={Base:ae},s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Va=/*#__PURE__*/function(){function Va(e){_class_call_check(this,Va),_define_property(this,"codex",void 0),_define_property(this,"zt",void 0),this.codex=e,this.zt={}}return _create_class(Va,[{key:"install",value:function install(e,t,r,o){if("function"!=typeof t)return!1;var w=new t(this.codex);return this.zt[e]=w,r&&Object.defineProperty(this.codex,o,{get:a(function(){return w},"get")}),w.init(),!0}},{key:"get",value:function get(e){return this.zt[e]}}]),Va}();a(Va,"Plugins");var Ua=Va,Qm=Ua;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ha=/*#__PURE__*/function(){function Ha(e){_class_call_check(this,Ha),_define_property(this,"codex",void 0),this.codex=e}return _create_class(Ha,[{key:"init",value:function init(){}}]),Ha}();a(Ha,"BasePlugin");var Ka=Ha,Xm=Ka,Wa=/*#__PURE__*/function(){function Wa(){_class_call_check(this,Wa),_define_property(this,"codex",void 0),_define_property(this,"plugins",void 0),_define_property(this,"ads",void 0),_define_property(this,"auth",void 0),_define_property(this,"audio",void 0),_define_property(this,"event",void 0),_define_property(this,"match",void 0),_define_property(this,"player",void 0),_define_property(this,"profile",void 0),_define_property(this,"context",void 0),_define_property(this,"storage",void 0),_define_property(this,"language",void 0),_define_property(this,"missions",void 0),_define_property(this,"analytics",void 0),_define_property(this,"visibility",void 0),_define_property(this,"leaderboard",void 0),_define_property(this,"dailyRewards",void 0),_define_property(this,"remoteConfig",void 0),_define_property(this,"frameCapture",void 0),_define_property(this,"firebase",void 0),_define_property(this,"monitorError",void 0),_define_property(this,"adaptivePerformance",void 0),_define_property(this,"inputRecorder",void 0),_define_property(this,"console",void 0),_define_property(this,"profiler",void 0),_define_property(this,"canvasRecorder",void 0),this.codex=this,this.plugins=new Qm(this.codex)}return _create_class(Wa,[{key:"boot",value:function boot(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2]})})()}},{key:"start",value:function start(){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2]})})()}},{key:"getBuildVersion",value:function getBuildVersion(){return 0}}]),Wa}();a(Wa,"Game");var ja=Wa;window.Ludex.Plugins={BasePlugin:Xm};var Zm=ja;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var qa=/*#__PURE__*/function(Error1){function qa(e,t){var _this;return _class_call_check(this,qa),_define_property(_this=_call_super(this,qa,[e]),"payload",void 0),_this.name="BadRequest",_this.message=null!=e?e:"This request is bad",_this.payload=t,_this}return _inherits(qa,Error1),qa}(_wrap_native_super(Error));a(qa,"BadRequest");var za=qa,qr=za;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ja=/*#__PURE__*/function(Error1){function Ja(e,t){var _this;return _class_call_check(this,Ja),_define_property(_this=_call_super(this,Ja,[e]),"payload",void 0),_this.name="RequestTimeout",_this.message=null!=e?e:"This request is timeout",_this.payload=t,_this}return _inherits(Ja,Error1),Ja}(_wrap_native_super(Error));a(Ja,"RequestTimeout");var Ya=Ja,Yr=Ya,_Ludex_Utils1=Ludex.Utils,R$=_Ludex_Utils1.Valid,_$=_Ludex_Utils1.Time,_Ludex_Configs=Ludex.Configs,eh=_Ludex_Configs.AppId,Qa=_Ludex_Configs.Network,k$=a(function(n){if(!n.ok)throw new qr(void 0,{response:n})},"validateResponse"),th=a(function(){var _codex_auth,n=null==(_codex_auth=codex.auth)?void 0:_codex_auth.getToken();return{token:n,timeout:Qa.Timeout,headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}}},"defaultConfig"),rh=a(function(n,e,t,r){return function(){return _async_to_generator(function(){var _$o,w,I,D,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,3,,4]),!eh)throw new qr("AppId is not defined");return _$o="".concat(n,"/apps/").concat(eh,"/").concat(e),t.signal=(w=new AbortController).signal,I=setTimeout(function(){w.abort()},t.timeout),R$.isObject(r)&&(t.body=JSON.stringify(r)),[4,fetch(_$o,t)];case 1:return D=_state.sent(),clearTimeout(I),k$(D),[4,D.json()];case 2:return[2,_state.sent()||{}];case 3:if(_instanceof(o=_state.sent(),qr))return[2,null];throw _instanceof(o,Object)&&"name"in o&&"AbortError"===o.name?new Yr:o;case 4:return[2]}})})()}},"requester"),Xa=a(function(n,e){return _async_to_generator(function(){var t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,1,,7]),[2,n()];case 1:if(!(_instanceof(t=_state.sent(),Yr)&&e>0))return[3,6];_state.label=2;case 2:return _state.trys.push([2,5,,6]),[4,_$.sleepAsync(600)];case 3:return _state.sent(),[4,Xa(n,e-1)];case 4:return[2,_state.sent()];case 5:return e1=_state.sent(),[2,{}];case 6:return[2,(_instanceof(t,Yr),{})];case 7:return[2]}})})()},"handleRequest"),qe=a(function(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qa.Retries;return _async_to_generator(function(){var e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,Xa(rh(t,n,Se(N(N({},th()),e),{method:"GET"})),r)];case 1:return[2,_state.sent()];case 2:return e1=_state.sent(),[2,{}];case 3:return[2]}})})()},"get"),Ae=a(function(n,e,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qa.Retries;return _async_to_generator(function(){var e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,Xa(rh(r,n,Se(N(N({},th()),t),{method:"POST"}),e),o)];case 1:return[2,_state.sent()];case 2:return e1=_state.sent(),[2,{}];case 3:return[2]}})})()},"post"),_Ludex_Configs1=Ludex.Configs,_Ludex_Configs_Notification=_Ludex_Configs1.Notification,G$=_Ludex_Configs_Notification.ApiUrl,_Ludex_Utils2=Ludex.Utils,F$=_Ludex_Utils2.Object,nh=a(function(n){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!F$.hasOwn(n,"playerId"))throw Error("Missing playerId");return e=n.playerId,[4,Ae("players/".concat(e),n,{},G$,10)];case 1:return _state.sent(),[2]}})})()},"updatePlayerProfileNotificationAsync");s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var B$={score:"score",settings:"settings",isFirstLogin:"isFirstLogin",gameData:"gameData",missionsData:"missionsData",notificationData:"notificationData",dailyRewardedData:"dailyRewardedData",lastCallSwitchGame:"lastCallSwitchGame",remoteConfig:"remoteConfig"},ah=B$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var U$={ASID:null,playerId:"0000",name:"Guest",photo:"",locale:"en_US",connectedPlayers:{},data:{score:0,isFirstLogin:!0,settings:{sound:!0,music:!0,vibrate:!0,language:"en"},gameData:{coins:0,level:1},notificationData:{D1:{arrivalDate:0},D2:{arrivalDate:0},D3:{arrivalDate:0},D4:{arrivalDate:0},D5:{arrivalDate:0},D6:{arrivalDate:0},D7:{arrivalDate:0}},missionsData:{process:{}},dailyRewardedData:{logDays:[],firstReward:0,lastReward:0},lastCallSwitchGame:0}},De=U$,_Ludex_Utils3=Ludex.Utils,qt=_Ludex_Utils3.Valid,V$=De.playerId,K$=De.name,H$=De.photo,j$=De.locale,Yt="is invalid",Za=/*#__PURE__*/function(ae){function Za(){return _class_call_check(this,Za),_call_super(this,Za,arguments)}return _inherits(Za,ae),_create_class(Za,[{key:"Q",value:function Q(e){this.Z(e)}},{key:"q",value:function q(e){this.J(e)}},{key:"o",value:function o(e){this.X(e)}},{key:"validateId",value:function validateId(e){qt.isString(e)&&e||this.a("_id",Yt)}},{key:"validatePlayerId",value:function validatePlayerId(e){qt.isString(e)&&e||this.a("playerId",Yt)}},{key:"validateName",value:function validateName(e){qt.isString(e)&&e||this.a("name",Yt)}},{key:"validatePhoto",value:function validatePhoto(e){qt.isString(e)||this.a("photo",Yt)}},{key:"validateLocale",value:function validateLocale(e){qt.isString(e)&&e||this.a("locale",Yt)}},{key:"toObject",value:function toObject(){return _get(_get_prototype_of(Za.prototype),"toObject",this).call(this)}}]),Za}(ae);a(Za,"PlayerInfoDtos");var Jr=Za;Jr.addDefaults({playerId:V$,name:K$,photo:H$,locale:j$});var It=Jr,W$=new It({playerId:"10",name:"Your Friend"}).toObject(),he=W$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var to=/*#__PURE__*/function(Error1){function to(e){var _this;return _class_call_check(this,to),_define_property(_this=_call_super(this,to,[e]),"code",void 0),_this.code="CREATE_MATCH_FAILED",_this}return _inherits(to,Error1),to}(_wrap_native_super(Error));a(to,"ACreateMatchFailed");var eo=to,oe=eo,no=/*#__PURE__*/function(oe){function no(e){var _this;return _class_call_check(this,no),(_this=_call_super(this,no,[e])).name="PlayerIdNotValid",_this.message=null!=e?e:"Player id is not valid",_this}return _inherits(no,oe),no}(oe);a(no,"PlayerIdNotValid");var ro=no,B=ro,ao=Ludex.Dtos,_Ludex_Utils4=Ludex.Utils,z$=_Ludex_Utils4.Array,q$=_Ludex_Utils4.Object,RDe=_Ludex_Utils4.Json,oo=_Ludex_Utils4.Valid,Y$=Ludex.Events,_Ludex_Configs2=Ludex.Configs,J$=_Ludex_Configs2.Context,Q$=_Ludex_Configs2.Player,io=function io(e){var _this=this;_class_call_check(this,io),_define_property(this,"r",void 0),_define_property(this,"initContext",a(function(){if(J$.Enabled){var _GameSDK_context_getID,_$e={contextId:null!=(_GameSDK_context_getID=GameSDK.context.getID())?_GameSDK_context_getID:"",contextType:GameSDK.context.getType(),entryPointData:GameSDK.getEntryPointData()},t=new ao.Context.Info(_$e),_t_toObject=t.toObject(),r=_t_toObject.contextId,o=_t_toObject.contextType,w=_t_toObject.entryPointData;_this.r.context.receiveContext(r,o,w)}},"initContext")),_define_property(this,"initPlayer",a(function(){return _async_to_generator(function(){var _$e,t,r,o,w,e;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,3,4]),!Q$.Enabled)return[2];return _$e=this.r.player,t=this.or(),r=z$.unique(q$.vals(ah)),[4,GameSDK.player.getDataAsync(r)];case 1:return o=_state.sent(),w=new ao.Player.Data(o).toObject(),_$e.receiveData(t,w),[3,4];case 2:return e=_state.sent(),[3,4];case 3:return this.r.event.emit(Y$.PLAYER_INFO_LOADED),[7];case 4:return[2]}})}).call(_this)},"initPlayer")),_define_property(this,"or",a(function(){try{var _$e=GameSDK.player.getID(),t=GameSDK.player.getName(),r=GameSDK.player.getPhoto(),o=GameSDK.getLocale();if(!oo.isString(_$e))throw new B;return oo.isString(t)||(t="You"),oo.isString(o)&&o||(o="en"),new ao.Player.Info({playerId:_$e,name:t,photo:r,locale:o}).toObject()}catch(e){return he}},"getPlayerInfo$")),this.r=e};a(io,"StateInitiator");var so=io,oh=so;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var sh=function(n){return n.IDLE="idle",n.LOADING="loading",n.FILLED="filled",n.SHOWING="showing",n}(sh||{}),Qr=sh;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ih=function(n){return n.BANNER="banner",n.INTERSTITIAL="interstitial",n.REWARDED_VIDEO="rewarded_video",n.REWARDED_INTERSTITIAL="rewarded_interstitial",n}(ih||{}),se=ih;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var lo=/*#__PURE__*/function(Error1){function lo(e,t){var _this;return _class_call_check(this,lo),_define_property(_this=_call_super(this,lo,[t]),"code",void 0),_this.code=e,_this.message=t,_this}return _inherits(lo,Error1),lo}(_wrap_native_super(Error));a(lo,"AdError");var co=lo,Et=co;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var po=/*#__PURE__*/function(){function po(e,t){_class_call_check(this,po),_define_property(this,"type",void 0),_define_property(this,"service",void 0),_define_property(this,"placementId",void 0),_define_property(this,"ct",void 0),this.type=e,this.ct=Qr.IDLE,this.placementId=t}return _create_class(po,[{key:"setStatus",value:function setStatus(e){this.ct!==e&&(this.ct=e)}},{key:"status",get:function get(){return this.ct}},{key:"a",value:function a(e){throw new Et("AD_INSTANCE_ERROR",e)}}]),po}();a(po,"BaseInstance");var uo=po,ch=uo,ho=/*#__PURE__*/function(ch){function ho(){return _class_call_check(this,ho),_call_super(this,ho,arguments)}return _inherits(ho,ch),_create_class(ho,[{key:"loadAsync",value:function loadAsync(){this.a("This method is not implemented")}},{key:"showAsync",value:function showAsync(){this.a("This method is not implemented")}},{key:"hideAsync",value:function hideAsync(){this.a("Unsupported method")}}]),ho}(ch);a(ho,"AdInstance");var mo=ho,lh=mo;Ludex.Plugins.Ads={Types:se,Status:Qr,AdError:Et,AdInstance:lh};var _Ludex_Utils5=Ludex.Utils,fo=_Ludex_Utils5.Array,dh=_Ludex_Utils5.Object,X$=_Ludex_Utils5.Function,Lt=_Ludex_Utils5.Device,go=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function go(){var _this;return _class_call_check(this,go),_this=_call_super(this,go,arguments),_define_property(_this,"enabled",void 0),_define_property(_this,"de",void 0),_define_property(_this,"dt",void 0),_define_property(_this,"ve",void 0),_define_property(_this,"ht",void 0),_define_property(_this,"Re",{}),_define_property(_this,"he",void 0),_define_property(_this,"Me",{failedAttempts:0,lastSuccessTime:0}),_this}return _inherits(go,_Ludex_Plugins_BasePlugin),_create_class(go,[{key:"getAdsInstances",value:function getAdsInstances(){return this.Re}},{key:"getDeviceOS",value:function getDeviceOS(){return this.dt}},{key:"getDegradationTracking",value:function getDegradationTracking(){return this.Me}},{key:"getLastCallAdShownTime",value:function getLastCallAdShownTime(){return this.ve}},{key:"init",value:function init(){var _obj,e=Date.now()/1e3;this.dt=this.lr(),this.ve=(_define_property(_obj={},se.BANNER,e),_define_property(_obj,se.INTERSTITIAL,e),_define_property(_obj,se.REWARDED_VIDEO,e),_define_property(_obj,se.REWARDED_INTERSTITIAL,e),_obj),this.ht=!1,this.Yt(),this.he=Lt.getSafeAreaBottom()}},{key:"lr",value:function lr(){var e=GameSDK.getPlatform();return"IOS"===e?"ios":"WEB"===e?"desktop":"ANDROID"===e?"android":Lt.isIOS()?"ios":Lt.isAndroid()?"android":Lt.isDesktop()?"desktop":"default"}},{key:"configure",value:function configure(e){this.de=e,this.enabled=this.de.Enabled}},{key:"Pe",value:function Pe(){if(!this.enabled)throw new Et("ADS_NOT_ENABLED","Ads is't enabled")}},{key:"isAdFullSizeShowing",value:function isAdFullSizeShowing(){return this.ht}},{key:"setAdInstance",value:function setAdInstance(e,t,r,o){var _this=this;if(o===this.dt||"default"===o){var w="".concat(e,"-").concat(t,"-").concat(o);if(!this.Re[w]){var I=this.cr(e,o,t);if(I){var D=this.getAdsByType(e);if(!fo.search(D,function(E){var _E_config=E.config,S=_E_config.AdService,b=_E_config.DeviceOS;return S===I.AdService&&b!==o&&b===_this.dt}))try{var E=new r(e,t);this.Re[w]={type:e,config:I,deviceOS:o,placementId:t,interval:null,instance:E}}catch(e){return}}}}}},{key:"loadAdAsync",value:function loadAdAsync(e,t){return _async_to_generator(function(){var r,o,w,I;return _ts_generator(this,function(_state){switch(_state.label){case 0:this.Pe(),r=this.codex.event,o={type:e,placementId:t},w=this.getAd(e,t),o.placementId=w.placementId,_state.label=1;case 1:return _state.trys.push([1,3,,4]),r.emit(Ludex.Events.AD_LOADING,o),[4,w.instance.loadAsync()];case 2:return _state.sent(),r.emit(Ludex.Events.AD_LOADED,o),[3,4];case 3:throw I=_state.sent(),r.emit(Ludex.Events.AD_LOAD_FAILED,o),this.Me.failedAttempts++,I;case 4:return[2]}})}).call(this)}},{key:"showAdAsync",value:function showAdAsync(e,t){return _async_to_generator(function(){var r,o,w,I;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.Pe(),!this.canShowAd(e,t))return[2];r=this.codex.event,o={type:e,placementId:t},w=this.getAd(e,t),o.placementId=w.placementId,_state.label=1;case 1:return _state.trys.push([1,3,4,5]),r.emit(Ludex.Events.AD_SHOWING,o),this.ht=!0,[4,w.instance.showAsync()];case 2:return _state.sent(),r.emit(Ludex.Events.AD_SHOW,o),this.Yt(),this.ve[e]=Date.now()/1e3,[3,5];case 3:throw I=_state.sent(),r.emit(Ludex.Events.AD_SHOW_FAILED,o),this.Me.failedAttempts++,I;case 4:return r.emit(Ludex.Events.AD_CLOSED,o),this.ht=!1,[7];case 5:return[2]}})}).call(this)}},{key:"getAdStatus",value:function getAdStatus(e,t){this.Pe();try{return this.getAd(e,t).instance.status}catch(e){return!1}}},{key:"getAd",value:function getAd(e,t){var r=null;if(!(r=t?this.getAdByPlacementId(t,e):this.ja(e)))throw new Et("AD_INSTANCE_NOT_INITIATED","The instance ads not yet initiated");return r}},{key:"getAdsByType",value:function getAdsByType(e){return dh.vals(this.Re).filter(function(t){return t.type===e})}},{key:"getAdByPlacementId",value:function getAdByPlacementId(e,t){var r=dh.vals(this.Re);return fo.search(r,function(w){return w.placementId===e&&(!t||w.type===t)})||null}},{key:"ja",value:function ja(e){var t=this.getAdsByType(e);return t.length>0?t[0]:null}},{key:"canShowAd",value:function canShowAd(e,t){return this.dr(e,t)}},{key:"dr",value:function dr(e,t){try{var o,r=Date.now()/1e3;if(t)o=this.getAd(e,t);else{var L=this.ja(e);if(!L)return!1;o=L}var w=o.config,tmp=w.SecondsBetweenAds,I=void 0===tmp?0:tmp,tmp1=w.SecondsFirstTime,D=void 0===tmp1?0:tmp1,E=r-this.ve[e],S=E>I,b=E>D;return this.ve[e]>0?S:b}catch(e){return!1}}},{key:"canShowBannerAd",value:function canShowBannerAd(e){try{return!!this.getAdByPlacementId(e,se.BANNER)}catch(e){return!1}}},{key:"showBannerAdAsync",value:function showBannerAdAsync(_0){return _async_to_generator(function(e){var t,r,_tmp,_arguments=arguments;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(t=!(_arguments.length>1)||void 0===_arguments[1]||_arguments[1],this.Pe(),r=this.getAd(se.BANNER,e),!this.canShowBannerAd(r.placementId))throw Error("Banner ad can not be shown");if(this.Ba(r),!t)return[3,2];return[4,this.Ha(r)];case 1:return _tmp=_state.sent(),[3,4];case 2:return[4,this.Ka(r)];case 3:_tmp=_state.sent(),_state.label=4;case 4:return[2]}})}).apply(this,arguments)}},{key:"Ka",value:function Ka(e){return _async_to_generator(function(){var t,r,o,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(t=this.codex.event,this.isAdFullSizeShowing())return[2];r={type:se.BANNER,placementId:e.placementId},_state.label=1;case 1:return _state.trys.push([1,4,,9]),[4,e.instance.loadAsync()];case 2:return _state.sent(),t.emit(Ludex.Events.AD_SHOWING,r),[4,e.instance.showAsync()];case 3:return _state.sent(),t.emit(Ludex.Events.AD_SHOW,r),this.ve[se.BANNER]=Date.now()/1e3,[3,9];case 4:if(o=_state.sent(),"AD_NOT_FILLED"===X$.toError(o).code)return[3,8];_state.label=5;case 5:return _state.trys.push([5,7,,8]),[4,e.instance.hideAsync()];case 6:return _state.sent(),[3,8];case 7:return e1=_state.sent(),[3,8];case 8:return t.emit(Ludex.Events.AD_SHOW_FAILED,r),[3,9];case 9:return[2]}})}).call(this)}},{key:"Ha",value:function Ha(e){return _async_to_generator(function(){var _this,tmp,r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _this=this,[4,this.Ka(e)];case 1:if(_state.sent(),(r=void 0===(tmp=e.config.SecondsReload)?0:tmp)<=0||!r)return[2];return o=a(function(){return _this.Ha(e)},"cb"),e.interval=setTimeout(o,1e3*r),[2]}})}).call(this)}},{key:"hideBannerAdAsync",value:function hideBannerAdAsync(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return this.Pe(),t=this.getAd(se.BANNER,e),this.Ba(t),[4,t.instance.hideAsync()];case 1:return _state.sent(),this.codex.event.emit(Ludex.Events.AD_CLOSED,{type:se.BANNER,placementId:e}),[2]}})}).call(this)}},{key:"Ba",value:function Ba(e){try{var t=e.interval;if(!t)return;clearInterval(t)}catch(e){}}},{key:"cr",value:function cr(e,t,r){var o;switch(e){case se.BANNER:o=this.de.BannerDisplayAdOptions;break;case se.INTERSTITIAL:o=this.de.InterstitialAdOptions;break;case se.REWARDED_VIDEO:o=this.de.RewardedVideoAdOptions;break;case se.REWARDED_INTERSTITIAL:o=this.de.RewardedInterstitialAdOptions;break;default:return null}return fo.search(o,function(w){var I=w.PlacementId,D=w.DeviceOS;return I===r&&(D===t||"default"===D)})||null}},{key:"getBannerConfig",value:function getBannerConfig(e){var t=this.getAdByPlacementId(e,se.BANNER);if(!t)throw Error("Banner ad instance with placementId ".concat(e," not found"));return t.config}},{key:"getBannerHeight",value:function getBannerHeight(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];this.Pe();var o=this.getAdByPlacementId(e,se.BANNER);if(!o)throw Error("Banner ad instance with placementId ".concat(e," not found"));var w=o.config,I=GameSDK.getBannerHeight(w);return r?(this.he<=0&&(this.he=Lt.getSafeAreaBottom()),(I+this.he)*t):I*t}},{key:"getSafeAreaBottom",value:function getSafeAreaBottom(e){return this.he<=0&&(this.he=Lt.getSafeAreaBottom()),this.he*e}},{key:"Yt",value:function Yt(){this.Me={failedAttempts:0,lastSuccessTime:Date.now()}}},{key:"isServiceDegraded",value:function isServiceDegraded(){var e=Date.now(),_this_de_DegradationTracking=this.de.DegradationTracking,t=_this_de_DegradationTracking.MaxFailedAttempts,r=_this_de_DegradationTracking.ResetTimeMinutes,_this_Me=this.Me,o=_this_Me.lastSuccessTime,w=_this_Me.failedAttempts;return e-o>60*r*1e3&&this.Yt(),w>=t}}]),go}(Ludex.Plugins.BasePlugin);a(go,"AdsPlugin");var yo=go,uh=yo,ph=uh;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Z$={APP_LAUNCH:"app_launch",APP_INITIALIZED:"app_initialized",ENGINE_READY:"engine_ready",LOAD_START:"load_start",LOAD_COMPLETE:"load_complete",APP_READY:"app_ready",PAGE_VIEW:"page_view",SCREEN_OPEN:"screen_open",BUTTON_CLICK:"button_click",TUTORIAL_BEGIN:"tutorial_begin",TUTORIAL_STEP:"tutorial_step",TUTORIAL_COMPLETE:"tutorial_complete",MATCH_START:"match_start",MATCH_END:"match_end",LEVEL_START:"level_start",LEVEL_RESCUE:"level_rescue",LEVEL_END:"level_end",USE_ITEM:"use_item",EARN_ITEM:"earn_item",SHARE:"share",INVITE:"invite",MESSAGE:"message",SHORTCUT_CREATE:"shortcut_create",SHORTCUT_CREATE_POPUP:"shortcut_create_popup",BOT_SUBSCRIBE:"bot_subscribe",BOT_SUBSCRIBE_POPUP:"bot_subscribe_popup",AD_INIT:"ad_init",AD_LOAD:"ad_load",AD_LOAD_FAILED:"ad_load_failed",AD_SHOWING:"ad_showing",AD_SHOW:"ad_show",AD_SHOW_FAILED:"ad_show_failed",AD_REWARD:"ad_reward",NEW_USER:"new_user",RETURNING_USER:"returning_user",JOIN_GROUP:"join_group",TOURNAMENT_START:"tournament_start",TOURNAMENT_SHARE:"tournament_share",TOURNAMENT_CREATE:"tournament_create",TOURNAMENT_POST_SCORE:"tournament_post_score",SWITCH_GAME_POPUP:"switch_game_popup",SWITCH_GAME:"switch_game"},T=Z$;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var xo=/*#__PURE__*/function(){function xo(){_class_call_check(this,xo),_define_property(this,"T",[]),_define_property(this,"$e",[]),_define_property(this,"qt",[]),_define_property(this,"Qt",!1),_define_property(this,"Jt",!1),_define_property(this,"Va",[]),_define_property(this,"Ge",!1),_define_property(this,"Wa",!1)}return _create_class(xo,[{key:"addEvent",value:function addEvent(e,t){this.Qt||this.Jt?this.hr("Skip event:",e):(this.T.push(e),this.ur(e))}},{key:"ur",value:function ur(e){var t=this.pr();if(t.hasFailed){this.Jt=!0,this.yr();return}t.hasWarnings&&this.mr(t.warnings),this.fr(e)}},{key:"pr",value:function pr(){for(var e={hasFailed:!1,hasWarnings:!1,warnings:[]},t=this.gr().filter(function(o){return o.i}),o=0;o<t.length;o++){var w=t[o],I=this.T.indexOf(w.name);if(-1===I)return this.$e=[w.name],e.hasFailed=!0,e;if(o>0){var D=t[o-1];if(this.T.indexOf(D.name)>I)return this.$e=[D.name],e.hasFailed=!0,e}}var r=this.wr();return r.length>0&&(e.hasWarnings=!0,e.warnings=r,this.qt=r),e}},{key:"gr",value:function gr(){var e=this.T[this.T.length-1],t=this.M.findIndex(function(r){return r.name===e});return this.M.slice(0,t+1)}},{key:"wr",value:function wr(){var _this=this,e=[];return this.T.forEach(function(t,r){var _o_m,o=_this.M.find(function(I){return I.name===t});if(null==o||null==(_o_m=o.m)?void 0:_o_m.length){var w=o.m.find(function(I){return!_this.T.includes(I)||_this.T.indexOf(I)>r});w&&!_this.Va.includes(t)&&(e.push({event:t,missingDependency:w}),_this.Va.push(t))}}),e}},{key:"fr",value:function fr(e){var _this=this;e===this.M[this.M.length-1].name&&this.M.filter(function(r){return r.i}).every(function(r){return _this.T.includes(r.name)})&&(this.Qt=!0,this.xr())}},{key:"mr",value:function mr(e){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=e[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"yr",value:function yr(){var e=this.constructor.name;if(this.$e.length,this.Wa)throw Error("[".concat(e,"] Funnel is required to be completed ! (missing: ").concat(this.$e.join(", "),")"))}},{key:"xr",value:function xr(){this.constructor.name,this.qt.length}},{key:"hr",value:function hr(){for(var _len=arguments.length,e=Array(_len),_key=0;_key<_len;_key++)e[_key]=arguments[_key];this.Ge}},{key:"isFunnelCompleted",value:function isFunnelCompleted(){return this.Qt}},{key:"isFunnelFailed",value:function isFunnelFailed(){return this.Jt}},{key:"getEventHistory",value:function getEventHistory(){return _to_consumable_array(this.T)}},{key:"getMissingEvents",value:function getMissingEvents(){return _to_consumable_array(this.$e)}},{key:"getOutOfOrderEvents",value:function getOutOfOrderEvents(){return _to_consumable_array(this.qt)}}]),xo}();a(xo,"BaseFunnel");var Po=xo,Be=Po,$o=/*#__PURE__*/function(Be){function $o(){var _this;return _class_call_check(this,$o),_this=_call_super(this,$o,arguments),_define_property(_this,"Ge",!1),_define_property(_this,"M",[{name:T.AD_INIT,i:!0,e:{service:"adsense"},l:"Init adsense ad"},{name:T.AD_LOAD_FAILED,i:!1,e:{service:_this.service},l:"Platform ad load failed (trigger for adsense)"},{name:T.AD_LOAD,i:!0,e:{service:"adsense"},l:"Start loading adsense ad"},{name:T.AD_LOAD_FAILED,i:!1,m:[T.AD_LOAD],e:{service:"adsense"},l:"Adsense ad load failed"},{name:T.AD_SHOWING,i:!0,m:[T.AD_LOAD],e:{service:"adsense"},l:"Adsense ad is showing"},{name:T.AD_SHOW,i:!1,m:[T.AD_SHOWING],e:{service:"adsense"},l:"Adsense ad shown successfully"},{name:T.AD_SHOW_FAILED,i:!1,m:[T.AD_SHOWING],e:{service:"adsense"},l:"Adsense ad show failed"},{name:T.AD_LOAD,i:!1,e:{service:"adsense"},l:"Preload adsense ad"}]),_this}return _inherits($o,Be),_create_class($o,[{key:"service",get:function get(){var _GameSDK,_GameSDK_getSDKName;return null!=(_GameSDK_getSDKName=null==(_GameSDK=GameSDK)?void 0:_GameSDK.getSDKName())?_GameSDK_getSDKName:"Ludex"}},{key:"addEvent",value:function addEvent(e,t){var r=(null!=t?t:{}).service;r&&("adsense"===r||e===T.AD_LOAD_FAILED&&"platform"===r)&&_get(_get_prototype_of($o.prototype),"addEvent",this).call(this,e,t)}}]),$o}(Be);a($o,"AdsenseFunnel");var wo=$o,mh=wo;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var vo=/*#__PURE__*/function(Be){function vo(){var _this;return _class_call_check(this,vo),_this=_call_super(this,vo,arguments),_define_property(_this,"Ge",!1),_define_property(_this,"Wa",!1),_define_property(_this,"M",[{name:T.APP_LAUNCH,i:!0,l:"Application launched"},{name:T.APP_INITIALIZED,i:!0,m:[T.APP_LAUNCH],l:"Application initialized"},{name:T.ENGINE_READY,i:!0,m:[T.APP_INITIALIZED],l:"Game engine initialized"},{name:T.LOAD_START,i:!0,m:[T.ENGINE_READY],l:"Start loading game assets"},{name:T.LOAD_COMPLETE,i:!0,m:[T.LOAD_START],l:"Game assets loaded completely"},{name:T.APP_READY,i:!0,m:[T.LOAD_COMPLETE],l:"Game is ready to play"}]),_this}return _inherits(vo,Be),vo}(Be);a(vo,"LudexFunnel");var Ao=vo,hh=Ao;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var So=/*#__PURE__*/function(Be){function So(){var _this;return _class_call_check(this,So),_this=_call_super(this,So,arguments),_define_property(_this,"Ge",!1),_define_property(_this,"M",[{name:T.AD_INIT,i:!0,e:{service:_this.service},l:"Init platform ad"},{name:T.AD_LOAD,i:!0,e:{service:_this.service},l:"Start loading platform ad"},{name:T.AD_LOAD_FAILED,i:!1,m:[T.AD_LOAD],e:{service:_this.service},l:"Platform ad load failed"},{name:T.AD_SHOWING,i:!0,m:[T.AD_LOAD],e:{service:_this.service},l:"Platform ad is showing"},{name:T.AD_SHOW,i:!1,m:[T.AD_SHOWING],e:{service:_this.service},l:"Platform ad shown successfully"},{name:T.AD_SHOW_FAILED,i:!1,m:[T.AD_SHOWING],e:{service:_this.service},l:"Platform ad show failed"},{name:T.AD_LOAD,i:!1,e:{service:_this.service},l:"Preload platform ad"}]),_this}return _inherits(So,Be),_create_class(So,[{key:"service",get:function get(){return"platform"}},{key:"addEvent",value:function addEvent(e,t){(null==t?void 0:t.service)===this.service&&_get(_get_prototype_of(So.prototype),"addEvent",this).call(this,e,t)}}]),So}(Be);a(So,"PlatformAdsFunnel");var bo=So,fh=bo;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Match=Ludex.Match,Ct=_Ludex_Match.Modes,Io=/*#__PURE__*/function(Be){function Io(){var _this;return _class_call_check(this,Io),_this=_call_super(this,Io,arguments),_define_property(_this,"Ge",!1),_define_property(_this,"M",[{name:T.MATCH_START,i:!0,e:{game_mode:Ct.SINGLE},l:"Match started"},{name:T.LEVEL_START,i:!0,m:[T.MATCH_START],e:{game_mode:Ct.SINGLE},l:"Level started"},{name:T.LEVEL_RESCUE,i:!1,m:[T.LEVEL_START],e:{game_mode:Ct.SINGLE},l:"User was rescued"},{name:T.LEVEL_END,i:!0,m:[T.LEVEL_START],e:{game_mode:Ct.SINGLE},l:"Level ended"},{name:T.MATCH_END,i:!0,m:[T.LEVEL_START],e:{game_mode:Ct.SINGLE},l:"Match ended"}]),_this}return _inherits(Io,Be),_create_class(Io,[{key:"addEvent",value:function addEvent(e,t){var r=(null!=t?t:{}).game_mode;r&&r.toLowerCase()===Ct.SINGLE&&_get(_get_prototype_of(Io.prototype),"addEvent",this).call(this,e,t)}}]),Io}(Be);a(Io,"SingleMatchFunnel");var Do=Io,yh=Do;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils6=Ludex.Utils,ut=_Ludex_Utils6.String,eA=_Ludex_Utils6.Valid,Lo=/*#__PURE__*/function(){function Lo(e,t,r){_class_call_check(this,Lo),_define_property(this,"codex",void 0),_define_property(this,"name",void 0),_define_property(this,"Ar",void 0),_define_property(this,"vr",void 0),_define_property(this,"za",void 0),_define_property(this,"Pr",void 0),this.codex=e,this.name=t,this.vr=r,this.Ar=r.color||"#FFF",this.za=r.log,this.Pr="/"}return _create_class(Lo,[{key:"event",value:function event(e,t){this.Ir("event",{name:e,payload:t});var r=this.Dr(e);this.Er(r,t)}},{key:"Ir",value:function Ir(e,t){this.za}},{key:"pageview",value:function pageview(e){var t=this.Sr(e);t=this.br(t),document.title=t,this.event(T.PAGE_VIEW,{page_path:e,page_title:t})}},{key:"levelStart",value:function levelStart(e,t,r){this.event(T.LEVEL_START,{level:e,score:t,level_name:this.getLevelName(e),game_mode:r?ut.toUpperCamelCase(r):void 0})}},{key:"levelFail",value:function levelFail(e,t,r){this.event(T.LEVEL_END,{level:e,score:t,success:!1,level_name:this.getLevelName(e),game_mode:r?ut.toUpperCamelCase(r):void 0})}},{key:"levelRescue",value:function levelRescue(e,t,r){this.event(T.LEVEL_RESCUE,{level:e,score:t,level_name:this.getLevelName(e),game_mode:r?ut.toUpperCamelCase(r):void 0})}},{key:"levelComplete",value:function levelComplete(e,t,r){this.event(T.LEVEL_END,{level:e,score:t,success:!0,level_name:this.getLevelName(e),game_mode:r?ut.toUpperCamelCase(r):void 0})}},{key:"initAdEvent",value:function initAdEvent(e){var t=e.adService,r=e.state;this.event(T.AD_INIT,{ad_service:t,state:r})}},{key:"Xt",value:function Xt(e){var t=e.type,r=e.placement,o=e.service;this.event(T.AD_LOAD,{ad_type:t,screen_name:r,ad_service:o})}},{key:"Zt",value:function Zt(e){var t=e.type,r=e.placement,o=e.service;this.event(T.AD_SHOW,{ad_type:t,screen_name:r,ad_service:o})}},{key:"loadInterstitialAd",value:function loadInterstitialAd(e){var t=e.placement,r=e.service;this.Xt({type:"interstitial",placement:t,service:r})}},{key:"showInterstitialAd",value:function showInterstitialAd(e){var t=e.placement,r=e.service;this.Zt({type:"interstitial",placement:t,service:r})}},{key:"loadRewardedVideoAd",value:function loadRewardedVideoAd(e){var t=e.placement,r=e.service;this.Xt({type:"rewarded_video",placement:t,service:r})}},{key:"showRewardedVideoAd",value:function showRewardedVideoAd(e){var t=e.placement,r=e.service;this.Zt({type:"rewarded_video",placement:t,service:r})}},{key:"receiveVideoReward",value:function receiveVideoReward(e){var t=e.placement,r=e.service;this.event(T.AD_REWARD,{screen_name:t,ad_service:r})}},{key:"loadRewardedInterstitialAd",value:function loadRewardedInterstitialAd(e){var t=e.placement,r=e.service;this.Xt({type:"rewarded_interstitial",placement:t,service:r})}},{key:"showRewardedInterstitialAd",value:function showRewardedInterstitialAd(e){var t=e.placement,r=e.service;this.Zt({type:"rewarded_interstitial",placement:t,service:r})}},{key:"receiveInterstitialReward",value:function receiveInterstitialReward(e){var t=e.placement,r=e.service;this.event(T.AD_REWARD,{screen_name:t,ad_service:r})}},{key:"loadAdFail",value:function loadAdFail(e){var t=e.type,r=e.placement,o=e.service;this.event(T.AD_LOAD_FAILED,{ad_type:t,screen_name:r,ad_service:o})}},{key:"showAdFail",value:function showAdFail(e){var t=e.type,r=e.placement,o=e.service;this.event(T.AD_SHOW_FAILED,{ad_type:t,screen_name:r,ad_service:o})}},{key:"showingAd",value:function showingAd(e){var t=e.type,r=e.placement,o=e.service;this.event(T.AD_SHOWING,{ad_type:t,screen_name:r,ad_service:o})}},{key:"Dr",value:function Dr(e){return e.toLowerCase().replace(/:/g,"_")}},{key:"getLevelName",value:function getLevelName(e){return"Level ".concat(ut.padStart(e.toString(),5,"0"))}},{key:"Sr",value:function Sr(e){var t=e.split("/").pop();if(!eA.isString(t))return e;var r=t.replace(/([-_\s.])/g," $1");return ut.toUpperCamelCase(r)}},{key:"br",value:function br(e){var t=this.codex.match;if(!t)return e;var o=t.getMatchState().mode;return o||(o="Normal"),"".concat(ut.toUpperCamelCase(o),"::").concat(e)}}]),Lo}();a(Lo,"BaseAnalytics");var Eo=Lo,gh=Eo;Ludex.Plugins.Analytics={Events:T,BaseFunnel:Be,BaseAnalytics:gh};var To=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function To(e){var _this;return _class_call_check(this,To),_define_property(_this=_call_super(this,To,[e]),"h",[]),_define_property(_this,"v","unknown"),_define_property(_this,"Ya",[]),_define_property(_this,"pageview",a(function(e){if(_this.f()){_this.v=e;var t=_this.Or(e),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=_this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.pageview(t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}_this.w(T.PAGE_VIEW)}},"pageview")),_this.Lr(),_this}return _inherits(To,_Ludex_Plugins_BasePlugin),_create_class(To,[{key:"S",value:function S(e,t){return Ludex.Utils.Object.merge(e,t)}},{key:"add",value:function add(e){var t=this.h.findIndex(function(r){return r.name===e.name});-1!==t?this.h[t]=e:this.h.push(e)}},{key:"f",value:function f(){return this.h.length>=1}},{key:"Lr",value:function Lr(){this.addFunnel(new hh),this.addFunnel(new mh),this.addFunnel(new fh),this.addFunnel(new yh)}},{key:"addFunnel",value:function addFunnel(e){this.Ya.push(e)}},{key:"w",value:function w(e,t){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.Ya[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.addEvent(e,t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"event",value:function event(e,t){if(this.f()){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.event(e,t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(e,t)}}},{key:"levelStart",value:function levelStart(e,t,r){if(this.f()){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.levelStart(e,t,r)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.LEVEL_START,{score:t,game_mode:r})}}},{key:"levelRescue",value:function levelRescue(e,t,r){if(this.f()){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.levelRescue(e,t,r)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.LEVEL_RESCUE,{score:t,game_mode:r})}}},{key:"levelFail",value:function levelFail(e,t,r){if(this.f()){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.levelFail(e,t,r)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.LEVEL_END,{score:t,game_mode:r})}}},{key:"levelComplete",value:function levelComplete(e,t,r){if(this.f()){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.levelComplete(e,t,r)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.LEVEL_END,{score:t,game_mode:r})}}},{key:"initAdEvent",value:function initAdEvent(e){return _async_to_generator(function(){var _this,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_this=this,!this.f())return[3,2];return[4,new Promise(function(t){var r=Ludex.Events;_this.codex.event.catchUp(r.GAME_READY,t)})];case 1:_state.sent(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.initAdEvent(e)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}_state.label=2;case 2:return[2]}})}).call(this)}},{key:"loadInterstitialAd",value:function loadInterstitialAd(e){if(this.f()){var t=this.S(e,{placement:this.v}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.loadInterstitialAd(t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.AD_LOAD,t)}}},{key:"showInterstitialAd",value:function showInterstitialAd(e){if(this.f()){var t=this.S(e,{placement:this.v}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.showInterstitialAd(t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.AD_SHOW,t)}}},{key:"loadRewardedVideoAd",value:function loadRewardedVideoAd(e){if(this.f()){var t=this.S(e,{placement:this.v}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.loadRewardedVideoAd(t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.AD_LOAD,t)}}},{key:"showRewardedVideoAd",value:function showRewardedVideoAd(e){if(this.f()){var t=this.S(e,{placement:this.v}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.showRewardedVideoAd(t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.AD_SHOW,t)}}},{key:"receiveVideoReward",value:function receiveVideoReward(e){if(this.f()){var t=this.S(e,{placement:this.v}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.receiveVideoReward(t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.AD_REWARD,t)}}},{key:"loadRewardedInterstitialAd",value:function loadRewardedInterstitialAd(e){if(this.f()){var t=this.S(e,{placement:this.v}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.loadRewardedInterstitialAd(t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.AD_LOAD,t)}}},{key:"showRewardedInterstitialAd",value:function showRewardedInterstitialAd(e){if(this.f()){var t=this.S(e,{placement:this.v}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.showRewardedInterstitialAd(t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.AD_SHOW,t)}}},{key:"receiveInterstitialReward",value:function receiveInterstitialReward(e){if(this.f()){var t=this.S(e,{placement:this.v}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.receiveInterstitialReward(t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.AD_REWARD,t)}}},{key:"loadAdFail",value:function loadAdFail(e){if(this.f()){var t=this.S(e,{placement:this.v}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.loadAdFail(t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.AD_LOAD_FAILED,t)}}},{key:"showAdFail",value:function showAdFail(e){if(this.f()){var t=this.S(e,{placement:this.v}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.showAdFail(t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.AD_SHOW_FAILED,t)}}},{key:"showingAd",value:function showingAd(e){if(this.f()){var t=this.S(e,{placement:this.v}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.h[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.showingAd(t)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.w(T.AD_SHOWING,t)}}},{key:"Or",value:function Or(e){var t=e;if(t.indexOf("_")>-1)return t.replace(/_/g,"-").toLowerCase();for(var r=t.length-1,o="";r>0;){var w1=isNaN(parseInt(o=t.charAt(r),10)),I=o===o.toUpperCase();w1&&I&&(t="".concat(t.slice(0,r),"-").concat(t.slice(r))),r--}return t.toLowerCase()}}]),To}(Ludex.Plugins.BasePlugin);a(To,"AnalyticsPlugin");var Co=To,Ph=Co,xh=Ph;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Oo=/*#__PURE__*/function(){function Oo(e){_class_call_check(this,Oo),_define_property(this,"qa",void 0),this.qa=e}return _create_class(Oo,[{key:"getKey",value:function getKey(){return this.qa}}]),Oo}();a(Oo,"BaseAudioPlayer");var Mo=Oo,wh=Mo;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils7=Ludex.Utils,$h=_Ludex_Utils7.Decorator,Xr=/*#__PURE__*/function(){function Xr(e){_class_call_check(this,Xr),_define_property(this,"ne",void 0),_define_property(this,"Ue",void 0),_define_property(this,"ke",void 0),_define_property(this,"Ie",void 0),this.ne=e,this.ke=1,this.Ue=!1,this.Ie={}}return _create_class(Xr,[{key:"getId",value:function getId(){return this.ne}},{key:"getAudioClip",value:function getAudioClip(e){return this.Ie[e]?this.Ie[e]:null}},{key:"setAudioClip",value:function setAudioClip(e,t){this.Ie[e]=N(N({},this.Ie[e]),t)}},{key:"play",value:function play(e,t){return _async_to_generator(function(){var r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!(r=this.getAudioClip(e)))return[3,1];return o=r.audioPlayer,this.Qa(o,t),[3,3];case 1:return[4,this.loadAndPlay(e,t)];case 2:_state.sent(),_state.label=3;case 3:return[2]}})}).call(this)}},{key:"loadAndPlay",value:function loadAndPlay(e,t){return _async_to_generator(function(){var r,tmp,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.onLoadAudio(e,t)];case 1:if(!(r=_state.sent()))return[2];return o=void 0===(tmp=(t||{}).volume)?1:tmp,this.setAudioClip(e,{volume:o,audioPlayer:r}),this.Qa(r,t),[2]}})}).call(this)}},{key:"Qa",value:function Qa(e,t){if(t){var tmp=t.volume,r=void 0===tmp?1:tmp;t.volume=this.ke*r}e.play(t)}},{key:"pause",value:function pause(e){var t=this.getAudioClip(e);return!!t&&(t.audioPlayer.pause(),!0)}},{key:"resume",value:function resume(e){var t=this.getAudioClip(e);return!!t&&(t.audioPlayer.resume(),!0)}},{key:"stop",value:function stop(e){var t=this.getAudioClip(e);return!!t&&(t.audioPlayer.stop(),!0)}},{key:"stopAll",value:function stopAll(){this.ut("stop")}},{key:"muteAll",value:function muteAll(){this.Ue||(this.Ue=!0,this.ut("mute"))}},{key:"unmuteAll",value:function unmuteAll(){this.Ue&&(this.Ue=!1,this.ut("unmute"))}},{key:"setVolume",value:function setVolume(e){this.ke=e,this.ut("setVolume")}},{key:"getVolume",value:function getVolume(){return this.ke}},{key:"Nr",value:function Nr(e,t){try{var r=e.audioPlayer,tmp=e.volume,o=void 0===tmp?1:tmp;switch(t){case"play":r.play();break;case"pause":r.pause();break;case"resume":r.resume();break;case"stop":r.stop();break;case"mute":r.setVolume(0);break;case"unmute":case"setVolume":r.setVolume(this.ke*o);break;default:throw Error("Unsupported function: ".concat(t))}}catch(e){}}},{key:"ut",value:function ut(e){var r=Ludex.Utils.Object.vals(this.Ie),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=r[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var o=_step.value;this.Nr(o,e)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}}]),Xr}();a(Xr,"BaseChannelManager"),pe([$h.tryCatch(),$h.validateParams("string")],Xr.prototype,"loadAndPlay",1);var No=Xr,Ah=No;Ludex.Plugins.Audio={BaseAudioPlayer:wh,BaseChannelManager:Ah};var _Ludex_Utils8=Ludex.Utils,vh=_Ludex_Utils8.Decorator,Zr=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function Zr(){var _this;return _class_call_check(this,Zr),_this=_call_super(this,Zr,arguments),_define_property(_this,"ea",void 0),_define_property(_this,"ta",{}),_this}return _inherits(Zr,_Ludex_Plugins_BasePlugin),_create_class(Zr,[{key:"addChannel",value:function addChannel(e){var t=e.getId();this.ta[t]=e,this.ea||(this.ea=t)}},{key:"$",value:function $(e){if(void 0===e)return this.ta[this.ea];var t=this.ta[e];if(!t)throw Error("Channel ".concat(e," not found"));return t}},{key:"play",value:function play(e,t,r){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.$(r).play(e,t)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"pause",value:function pause(e,t){try{this.$(t).pause(e)}catch(e){}}},{key:"resume",value:function resume(e,t){try{this.$(t).resume(e)}catch(e){}}},{key:"stop",value:function stop(e,t){try{this.$(t).stop(e)}catch(e){}}},{key:"stopAll",value:function stopAll(e){try{this.$(e).stopAll()}catch(e){}}},{key:"mute",value:function mute(e){try{this.$(e).muteAll()}catch(e){}}},{key:"unmute",value:function unmute(e){try{this.$(e).unmuteAll()}catch(e){}}},{key:"setVolume",value:function setVolume(e,t){try{this.$(t).setVolume(e)}catch(e){}}},{key:"getVolume",value:function getVolume(e){try{return this.$(e).getVolume()}catch(e){return -1}}}]),Zr}(Ludex.Plugins.BasePlugin);a(Zr,"AudioPlugin"),pe([vh.tryCatch(),vh.validateParams("string")],Zr.prototype,"play",1);var Ro=Zr,bh=Ro,Sh=bh;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var tA={token:"",isRequesting:!1},Dh=tA,_Ludex_Utils9=Ludex.Utils,rA=_Ludex_Utils9.Object,ko=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function ko(){return _class_call_check(this,ko),_call_super(this,ko,arguments)}return _inherits(ko,_Ludex_Plugins_BasePlugin),_create_class(ko,[{key:"init",value:function init(){this.codex.storage.addStorage("auth",Dh)}},{key:"requestToken",value:function requestToken(){return _async_to_generator(function(){var e,_$t,t;return _ts_generator(this,function(_state){switch(_state.label){case 0:e=this.codex.storage,_state.label=1;case 1:if(_state.trys.push([1,3,4,5]),e.getStorageData("auth","isRequesting")||""!==e.getStorageData("auth","token"))return[2];return e.setStorageData("auth","isRequesting",!0),[4,GameSDK.player.getSignedPlayerInfoAsync()];case 2:return _$t=_state.sent().getSignature(),e.setStorageData("auth","token",_$t),[3,5];case 3:if(t=_state.sent(),rA.hasOwn(t,"code")&&"PENDING_REQUEST"===t.code)return[2];return e.setStorageData("auth","token",""),[3,5];case 4:return e.setStorageData("auth","isRequesting",!1),[7];case 5:return[2]}})}).call(this)}},{key:"getToken",value:function getToken(){var _e_getStorageData;return null!=(_e_getStorageData=this.codex.storage.getStorageData("auth","token"))?_e_getStorageData:""}}]),ko}(Ludex.Plugins.BasePlugin);a(ko,"AuthPlugin");var _o=ko,Ih=_o,Eh=Ih;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Lh=function(n){return n.SOLO="solo",n.TOURNAMENT="tournament",n.SHARE_INVITE="share_invite",n.MATCHING_GROUP="matching_group_match",n.CHALLENGE_FRIEND="challenge_friend_match",n}(Lh||{}),le=Lh;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var nA=$r,Ye=nA,aA=Ludex.Configs,_Ludex_Utils10=Ludex.Utils,oA=_Ludex_Utils10.Array,sA=_Ludex_Utils10.Valid,iA=_Ludex_Utils10.Browser,Fo=/*#__PURE__*/function(){function Fo(e){_class_call_check(this,Fo),_define_property(this,"r",void 0),this.r=e}return _create_class(Fo,[{key:"_r",value:function _r(e){return["THREAD","POST","SOLO","GROUP"].indexOf(e)>=0}},{key:"Tr",value:function Tr(e){return sA.isObject(e)}},{key:"Cr",value:function Cr(e){return oA.has(["facebook~game_list~tournaments","fb_feed_tournament_unit","messenger~bot_thread~tournaments"],e)}},{key:"receiveContext",value:function receiveContext(e,t,r){var o=this.r.storage;o.setStorageData("context","contextId",e),this.Tr(r)&&o.setStorageData("context","entryPointData",r),this._r(t)&&o.setStorageData("context","contextType",t)}},{key:"getContextId",value:function getContextId(){var _e_getStorageData;return null!=(_e_getStorageData=this.r.storage.getStorageData("context","contextId"))?_e_getStorageData:""}},{key:"getContextType",value:function getContextType(){var _e_getStorageData;return null!=(_e_getStorageData=this.r.storage.getStorageData("context","contextType"))?_e_getStorageData:"SOLO"}},{key:"getContextData",value:function getContextData(){var _e_getStorageData;return null!=(_e_getStorageData=this.r.storage.getStorageData("context","entryPointData"))?_e_getStorageData:{}}},{key:"getSessionContextType",value:function getSessionContextType(){var _e_getStorageData;return null!=(_e_getStorageData=this.r.storage.getStorageData("context","sessionContextType"))?_e_getStorageData:"unknown"}},{key:"detectContextSessionType",value:function detectContextSessionType(){return _async_to_generator(function(){var e,t,r,o,w,I,D,E,S,_tmp,_tmp1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(e=this.r.storage,r=(null!=(t=this.getContextData())?t:{}).type,o=le.SOLO,w=le.TOURNAMENT,I=le.MATCHING_GROUP,D=le.SHARE_INVITE,E=le.CHALLENGE_FRIEND,S=o,r===w&&(S=w),r===I&&(S=I),(r===E||r===D)&&(S=E),!(_tmp=S===o))return[3,4];if(!aA.Core.FastCheckTournamentContext)return[3,1];return _tmp1=S=this.Rr()||S,[3,3];case 1:return[4,this.Mr()];case 2:_tmp1=S=_state.sent()||S,_state.label=3;case 3:_tmp=_tmp1,_state.label=4;case 4:return e.setStorageData("context","sessionContextType",S),[2]}})}).call(this)}},{key:"Rr",value:function Rr(){var e=iA.getQueryParams().entry_point;return"string"==typeof e&&!!this.Cr(e)&&le.TOURNAMENT}},{key:"Mr",value:function Mr(){return _async_to_generator(function(){var e,t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(e=this.r.storage,!("getTournamentAsync"in GameSDK))return[2,!1];_state.label=1;case 1:return _state.trys.push([1,3,,4]),[4,GameSDK.getTournamentAsync()];case 2:return t=_state.sent(),[2,(e.setStorageData("context","contextId",t.getContextID()),t.getEndTime()>Date.now()/1e3&&le.TOURNAMENT)];case 3:return e1=_state.sent(),[2,!1];case 4:return[2]}})}).call(this)}},{key:"detectContextGameMode",value:function detectContextGameMode(){var _this_r=this.r,e=_this_r.player,t=_this_r.storage,r=this.getContextData(),o=this.getSessionContextType(),w=e.getPlayerId(),_ref=null!=r?r:{},I=_ref.matchId,D=_ref.playerId,tmp=_ref.opponentId,E=void 0===tmp?he.playerId:tmp,S=w===D,b=E===he.playerId||[E,D].indexOf(w)>=0,L=le.TOURNAMENT,_=le.MATCHING_GROUP,C=le.SHARE_INVITE,R=le.CHALLENGE_FRIEND,z=Ye.SINGLE;o===L&&(z=Ye.TOURNAMENT),o!==C||S||(z=Ye.CHALLENGE_FRIEND),o===R&&I&&b&&(z=Ye.CHALLENGE_FRIEND),o===_&&(z=Ye.MATCHING_GROUP),t.setStorageData("context","contextGameMode",z)}}]),Fo}();a(Fo,"Context");var Go=Fo,Ch=Go;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Th=function(n){return n.StartID="__start__",n}(Th||{}),en=Th;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Uo=/*#__PURE__*/function(Error1){function Uo(e){return _class_call_check(this,Uo),_call_super(this,Uo,["Duplicate step id: ".concat(e)])}return _inherits(Uo,Error1),Uo}(_wrap_native_super(Error));a(Uo,"StepIdDuplicate");var Bo=Uo,Mh=Bo;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ko=/*#__PURE__*/function(Error1){function Ko(e){return _class_call_check(this,Ko),_call_super(this,Ko,["Invalid step id: ".concat(e)])}return _inherits(Ko,Error1),Ko}(_wrap_native_super(Error));a(Ko,"StepIdInvalid");var Vo=Ko,Oh=Vo;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var jo=/*#__PURE__*/function(Error1){function jo(e){return _class_call_check(this,jo),_call_super(this,jo,["Step not found: ".concat(e)])}return _inherits(jo,Error1),jo}(_wrap_native_super(Error));a(jo,"StepNotFound");var Ho=jo,Nh=Ho,zo=/*#__PURE__*/function(){function zo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_class_call_check(this,zo),_define_property(this,"b",void 0),this.b=[];var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=e[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var t=_step.value;this.addAfter(en.StartID,t)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}return _create_class(zo,[{key:"addBefore",value:function addBefore(e,t){if(this.pt(t.id),this.Ja(t.id),e===en.StartID)return void this.b.unshift(t);var r=this.yt(e);this.b.splice(r,0,t)}},{key:"addAfter",value:function addAfter(e,t){if(this.pt(t.id),this.Ja(t.id),e===en.StartID)return void this.b.push(t);var r=this.yt(e);this.b.splice(r+1,0,t)}},{key:"replace",value:function replace(e,t){this.pt(e);var r=this.yt(e),o=this.b[r];this.b[r]=N(N({},o),t)}},{key:"remove",value:function remove(e){var t=this.yt(e);this.b.splice(t,1)}},{key:"runAsync",value:function runAsync(e){return _async_to_generator(function(){var t,r,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,o,w,_ref,I,D,err;return _ts_generator(this,function(_state){switch(_state.label){case 0:t=performance.now(),r=[],_state.label=1;case 1:_state.trys.push([1,,10,11]),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_state.label=2;case 2:_state.trys.push([2,7,8,9]),_iterator=this.b[Symbol.iterator](),_state.label=3;case 3:if(_iteratorNormalCompletion=(_step=_iterator.next()).done)return[3,6];return o=_step.value,w=performance.now(),[4,this.$r(o,e)];case 4:if(I=(_ref=_state.sent()).shouldContinue,D=_ref.targetScene,I&&r.push({stepId:o.id,targetScene:D,ms:this.Fe(w)}),!I)return[2,!0];_state.label=5;case 5:return _iteratorNormalCompletion=!0,[3,3];case 6:return[3,9];case 7:return err=_state.sent(),_didIteratorError=!0,_iteratorError=err,[3,9];case 8:try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}return[7];case 9:return[3,11];case 10:return this.aa(r,t),[7];case 11:return[2,!1]}})}).call(this)}},{key:"$r",value:function $r(e,t){return _async_to_generator(function(){var _t_sceneName;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,e.runAsync(t)];case 1:return[2,{shouldContinue:_state.sent(),targetScene:null!=(_t_sceneName=t.sceneName)?_t_sceneName:null}]}})})()}},{key:"aa",value:function aa(e,t){this.Fe(t)}},{key:"pt",value:function pt(e){if("string"!=typeof e||0===e.trim().length)throw new Oh("".concat(e))}},{key:"Ja",value:function Ja(e){if(this.b.some(function(t){return t.id===e}))throw new Mh(e)}},{key:"sa",value:function sa(e){return this.pt(e),this.b.findIndex(function(t){return t.id===e})}},{key:"yt",value:function yt(e){var t=this.sa(e);if(t<0)throw new Nh(e);return t}},{key:"Fe",value:function Fe(e){return Math.round((performance.now()-e)*100)/100}}]),zo}();a(zo,"StepRegistry");var Wo=zo,fe=Wo;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var cA=a(function(){return{id:"ChallengeFromPost",runAsync:a(function(n){return _async_to_generator(function(){var e,t,o,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if("string"!=typeof(e=n.contextData.playerId))return[2,!0];if(t=codex.match,(o=codex.player.getPlayerId())!==e)return[3,2];return[4,t.single.start.processAsync({playerId:o})];case 1:case 3:case 5:return _state.sent(),[3,6];case 2:return _state.trys.push([2,4,,6]),[4,t.challenge.friend.processAsync({playerId:o,opponentId:e})];case 4:return e1=_state.sent(),[4,t.single.start.processAsync({playerId:o})];case 6:return[2,(n.sceneName="GameScene",!0)]}})})()},"runAsync")}},"createChallengeFromPostStep"),Rh=cA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var lA=a(function(){return{id:"SwitchScene",runAsync:a(function(n){return _async_to_generator(function(){var e,t;return _ts_generator(this,function(_state){return(e=n.sceneName)?(t={isFromLoader:!0},[2,(codex.event.emit(Ludex.Events.SWITCH_SCENE,{sceneName:e,sceneData:t}),!1)]):[2,!0]})})()},"runAsync")}},"createSwitchSceneStep"),Me=lA,dA=le.SHARE_INVITE,uA=le.CHALLENGE_FRIEND,pA=a(function(){return{id:"ChallengeFromPostFlow",when:a(function(n){var _n_contextData=n.contextData,e=_n_contextData.type,t=_n_contextData.playerId,r=n.contextSessionType;return e===dA&&"string"==typeof t&&r===uA},"when"),do:new fe([Rh(),Me()])}},"createChallengeFromPostFlow"),_h=pA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Yo=/*#__PURE__*/function(Error1){function Yo(e){var _this;return _class_call_check(this,Yo),(_this=_call_super(this,Yo,[e])).name="PlayerHasFinishedMatch",_this.message=null!=e?e:"Player has finished match",_this}return _inherits(Yo,Error1),Yo}(_wrap_native_super(Error));a(Yo,"PlayerHasFinishedMatch");var qo=Yo,tn=qo;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Qo=/*#__PURE__*/function(Error1){function Qo(e){var _this;return _class_call_check(this,Qo),(_this=_call_super(this,Qo,[e])).name="PlayerNotJoinInMatch",_this.message=e||"Player is not join in match",_this}return _inherits(Qo,Error1),Qo}(_wrap_native_super(Error));a(Qo,"PlayerNotJoinInMatch");var Jo=Qo,Tt=Jo,mA=a(function(n){return _async_to_generator(function(){var e,t,r,o,w,I,D,E;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(e=codex.match,t=codex.player,r=n.contextId,o=n.matchId,w=n.playerId,I=n.opponentId,D=t.getPlayerId(),w!==D)return[3,2];return[4,e.challenge.continue.processAsync({contextId:r,matchId:o,playerId:D,opponentId:I})];case 1:return _state.sent(),[3,4];case 2:return E=I===he.playerId,[4,e.challenge.continue.processAsync({contextId:r,matchId:o,playerId:D,opponentId:E?I:w})];case 3:_state.sent(),_state.label=4;case 4:return[2]}})})()},"processContinueChallengeFromMessageAsync"),hA=a(function(n){return _async_to_generator(function(){var e,t,r,o,w,I,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:e=codex.match,t=codex.player,r=n.contextId,o=n.matchId,w=n.playerId,I=t.getPlayerId(),_state.label=1;case 1:return _state.trys.push([1,3,,4]),[4,e.challenge.join.processAsync({contextId:r,matchId:o,playerId:I,opponentId:w})];case 2:return[2,(_state.sent(),"GameScene")];case 3:return e1=_state.sent(),[2,"DashboardScene"];case 4:return[2]}})})()},"processJoinChallengeFromMessageAsync"),fA=a(function(n){return _async_to_generator(function(){var e,t,r,o,w,I,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:e=codex.match,t=codex.player,r=n.contextId,o=n.matchId,w=n.playerId,I=t.getPlayerId(),_state.label=1;case 1:return _state.trys.push([1,3,,4]),[4,e.challenge.result.processAsync({contextId:r,matchId:o,playerId:I,opponentId:w})];case 2:return[2,(_state.sent(),"ChallengeResultScene")];case 3:return e1=_state.sent(),[2,"DashboardScene"];case 4:return[2]}})})()},"processResultChallengeFromMessageAsync"),yA=a(function(n){return _async_to_generator(function(){var e,t,r,o,w,I,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:e=codex.match,t=codex.player,r=n.contextId,o=n.matchId,w=n.playerId,I=t.getPlayerId(),_state.label=1;case 1:return _state.trys.push([1,3,,5]),[4,e.challenge.await.processAsync({contextId:r,matchId:o,playerId:I,opponentId:w})];case 2:return[2,(_state.sent(),"ChallengeResultScene")];case 3:return e1=_state.sent(),[4,fA(n)];case 4:return[2,_state.sent()];case 5:return[2]}})})()},"processAwaitChallengeFromMessageAsync"),gA=a(function(n){return _async_to_generator(function(){var e,_tmp,_tmp1;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,9]),[4,mA(n)];case 1:return _state.sent(),[3,9];case 2:if(!_instanceof(e=_state.sent(),tn))return[3,4];return[4,yA(n)];case 3:return _tmp=_state.sent(),[3,8];case 4:if(!_instanceof(e,Tt))return[3,6];return[4,hA(n)];case 5:return _tmp1=_state.sent(),[3,7];case 6:_tmp1="DashboardScene",_state.label=7;case 7:_tmp=_tmp1,_state.label=8;case 8:return[2,_tmp];case 9:return[2,"GameScene"]}})})()},"processChallengeFromMessageAsync"),PA=a(function(){return{id:"ChallengeFromMessage",runAsync:a(function(n){return _async_to_generator(function(){var e,t,r,o,w;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(e=n.contextId,r=(t=n.contextData).matchId,o=t.playerId,w=t.opponentId,"string"!=typeof r||"string"!=typeof o||"string"!=typeof w)return[2,!0];return[4,gA({contextId:e,matchId:r,playerId:o,opponentId:w})];case 1:return[2,(n.sceneName=_state.sent(),!0)]}})})()},"runAsync")}},"createChallengeFromMessageStep"),kh=PA,Gh=le.CHALLENGE_FRIEND,xA=a(function(){return{id:"ChallengeFromMessageFlow",when:a(function(n){var _n_contextData=n.contextData,e=_n_contextData.type,t=_n_contextData.matchId,r=_n_contextData.playerId,o=_n_contextData.opponentId,w=n.contextSessionType;return e===Gh&&"string"==typeof t&&"string"==typeof r&&"string"==typeof o&&w===Gh},"when"),do:new fe([kh(),Me()])}},"createChallengeFromMessageFlow"),Fh=xA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var wA=a(function(){return{id:"StartSingleForFirstSession",runAsync:a(function(n){return _async_to_generator(function(){var e,t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return e=codex.match,r=(t=codex.player).getPlayerId(),[4,e.handler.setMatchCustomData({playerId:r,contextId:"SOLO"})];case 1:return _state.sent(),[4,e.single.start.processAsync({playerId:r})];case 2:return[2,(_state.sent(),t.loggedIn(),n.sceneName="GameScene",!0)]}})})()},"runAsync")}},"createStartSingleForFirstSessionStep"),Bh=wA,$A=a(function(){return{id:"FirstSessionFlow",when:a(function(n){return n.isFirstSession},"when"),do:new fe([Bh(),Me()])}},"createFirstSessionFlow"),Uh=$A;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var AA=a(function(){return{id:"MatchingGroupJoin",runAsync:a(function(n){return _async_to_generator(function(){var _n_contextData,e,t,r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(e=(_n_contextData=n.contextData).playerId,t=_n_contextData.playerScore,"string"!=typeof e||"number"!=typeof t)return[2,!0];return r=codex.match,o=codex.player,[4,r.group.join.processAsync({playerId:o.getPlayerId(),opponentId:e,opponentScore:t})];case 1:return[2,(_state.sent(),n.sceneName="GameScene",!0)]}})})()},"runAsync")}},"createMatchingGroupJoinStep"),Vh=AA,vA=le.MATCHING_GROUP,bA=a(function(){return{id:"MatchingGroupFlow",when:a(function(n){var _n_contextData=n.contextData,e=_n_contextData.playerId,t=_n_contextData.playerScore,r=n.contextSessionType;return"string"==typeof e&&"number"==typeof t&&r===vA},"when"),do:new fe([Vh(),Me()])}},"createMatchingGroupFlow"),Kh=bA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var SA=Ludex.Events,_Ludex_Utils11=Ludex.Utils,DA=_Ludex_Utils11.Valid;a(Hh,"requestSetLocale$");var IA=a(function(n){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:switch(e=codex.player,n){case"reset_data":return[3,1];case"enable_debug":return[3,3];case"set_locale_en":return[3,4];case"set_locale_ru":return[3,5]}return[3,6];case 1:return e.setPlayerDataByName("score",0),e.setGameData({coins:0,level:1}),[4,e.syncProfileToServer()];case 2:return _state.sent(),[3,6];case 3:return e.setPlayerDataByName("debug",!0),[3,6];case 4:return Hh("en"),[3,6];case 5:return Hh("ru"),[3,6];case 6:return[2]}})})()},"processEntryPointActionAsync"),EA=a(function(){return{id:"EntryPointAction",runAsync:a(function(n){return _async_to_generator(function(){var e,_tmp,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,3,,4]),e=n.contextData.action,!(_tmp=DA.isString(e)))return[3,2];return[4,IA(e)];case 1:_tmp=_state.sent(),_state.label=2;case 2:return[2,!0];case 3:return e1=_state.sent(),[2,!0];case 4:return[2]}})})()},"runAsync")}},"createEntryPointActionStep"),jh=EA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Plugins=Ludex.Plugins,Wh=_Ludex_Plugins.Analytics,LA=a(function(n){try{var e=codex.player,t=codex.analytics;if(!t)return;if(n)t.event(Wh.Events.NEW_USER);else{var r=e.getPlayerData().gameData.coins;t.event(Wh.Events.RETURNING_USER,{coins:r})}}catch(e){}},"logUserAnalytics$"),CA=a(function(){return{id:"LogUserAnalytics",runAsync:a(function(n){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,(setTimeout(function(){LA(n.isFirstSession)},1e3),!0)]})})()},"runAsync")}},"createLogUserAnalyticsStep"),zh=CA,TA=a(function(){return{id:"PreFlow",when:a(function(n){return!0},"when"),do:new fe([jh(),zh()])}},"createPreFlow"),qh=TA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var MA=a(function(){return{id:"PrepareDashboardScene",runAsync:a(function(n){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,(n.sceneName="DashboardScene",!0)]})})()},"runAsync")}},"createPrepareDashboardSceneStep"),Yh=MA,OA=a(function(){return{id:"NormalFlow",when:a(function(n){return!0},"when"),do:new fe([Yh(),Me()])}},"createNormalFlow"),Jh=OA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Zo=/*#__PURE__*/function(Error1){function Zo(){return _class_call_check(this,Zo),_call_super(this,Zo,["ContextIdInvalid"])}return _inherits(Zo,Error1),Zo}(_wrap_native_super(Error));a(Zo,"ContextIdInvalid");var Xo=Zo,Qh=Xo,_Ludex_Utils12=Ludex.Utils,NA=_Ludex_Utils12.Valid,RA=a(function(){return{id:"ContinueTournament",runAsync:a(function(n){return _async_to_generator(function(){var e,r,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),e=codex.match,r=codex.player.getPlayerId(),NA.isEmpty(n.contextId))throw new Qh;return[4,e.tournament.continue.processAsync({playerId:r,contextId:n.contextId})];case 1:return _state.sent(),n.sceneName="GameScene",[3,3];case 2:return e1=_state.sent(),[3,3];case 3:return[2,!0]}})})()},"runAsync")}},"createContinueTournamentStep"),Xh=RA,_A=le.TOURNAMENT,kA=a(function(){return{id:"TournamentFlow",when:a(function(n){return n.contextSessionType===_A},"when"),do:new fe([Xh(),Me()])}},"createTournamentFlow"),Zh=kA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ef=function(n){return n.StartID="__start__",n}(ef||{}),rn=ef;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ts=/*#__PURE__*/function(Error1){function ts(e){return _class_call_check(this,ts),_call_super(this,ts,["Duplicate flow id: ".concat(e)])}return _inherits(ts,Error1),ts}(_wrap_native_super(Error));a(ts,"FlowIdDuplicate");var es=ts,tf=es;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ns=/*#__PURE__*/function(Error1){function ns(e){return _class_call_check(this,ns),_call_super(this,ns,["Invalid flow id: ".concat(e)])}return _inherits(ns,Error1),ns}(_wrap_native_super(Error));a(ns,"FlowIdInvalid");var rs=ns,rf=rs;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var os=/*#__PURE__*/function(Error1){function os(e){return _class_call_check(this,os),_call_super(this,os,["Flow not found: ".concat(e)])}return _inherits(os,Error1),os}(_wrap_native_super(Error));a(os,"FlowNotFound");var as=os,nf=as,is=/*#__PURE__*/function(){function is(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_class_call_check(this,is),_define_property(this,"L",void 0),this.L=[];var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=e[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var t=_step.value;this.addAfter(rn.StartID,t)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}return _create_class(is,[{key:"createSteps",value:function createSteps(e){return new fe(e)}},{key:"addBefore",value:function addBefore(e,t){if(this.mt(t.id),this.Xa(t.id),e===rn.StartID)return void this.L.unshift(t);var r=this.ft(e);this.L.splice(r,0,t)}},{key:"addAfter",value:function addAfter(e,t){if(this.mt(t.id),this.Xa(t.id),e===rn.StartID)return void this.L.push(t);var r=this.ft(e);this.L.splice(r+1,0,t)}},{key:"replace",value:function replace(e,t){this.mt(e);var r=this.ft(e),o=this.L[r];this.L[r]=N(N({},o),t)}},{key:"remove",value:function remove(e){var t=this.ft(e);this.L.splice(t,1)}},{key:"runAsync",value:function runAsync(e){return _async_to_generator(function(){var t,r,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,o,w,_ref,I,D,err;return _ts_generator(this,function(_state){switch(_state.label){case 0:t=performance.now(),r=[],_state.label=1;case 1:_state.trys.push([1,,10,11]),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_state.label=2;case 2:_state.trys.push([2,7,8,9]),_iterator=this.L[Symbol.iterator](),_state.label=3;case 3:if(_iteratorNormalCompletion=(_step=_iterator.next()).done)return[3,6];return o=_step.value,w=performance.now(),[4,this.Gr(o,e)];case 4:if(I=(_ref=_state.sent()).matched,D=_ref.done,r.push({flowId:o.id,matched:I,done:D,ms:this.Fe(w)}),D)return[2,!0];_state.label=5;case 5:return _iteratorNormalCompletion=!0,[3,3];case 6:return[3,9];case 7:return err=_state.sent(),_didIteratorError=!0,_iteratorError=err,[3,9];case 8:try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}return[7];case 9:return[3,11];case 10:return this.aa(r,t),[7];case 11:return[2,!1]}})}).call(this)}},{key:"Gr",value:function Gr(e,t){return _async_to_generator(function(){var r,_tmp,_tmp1;return _ts_generator(this,function(_state){switch(_state.label){case 0:r=!1;try{r=e.when(t)}catch(e){}if(!r)return[3,2];return _tmp1={matched:!0},[4,e.do.runAsync(t)];case 1:return _tmp1.done=_state.sent(),_tmp=_tmp1,[3,3];case 2:_tmp={matched:!1,done:!1},_state.label=3;case 3:return[2,_tmp]}})})()}},{key:"aa",value:function aa(e,t){this.Fe(t)}},{key:"mt",value:function mt(e){if("string"!=typeof e||0===e.trim().length)throw new rf("".concat(e))}},{key:"Xa",value:function Xa(e){if(this.L.some(function(t){return t.id===e}))throw new tf(e)}},{key:"sa",value:function sa(e){return this.mt(e),this.L.findIndex(function(t){return t.id===e})}},{key:"ft",value:function ft(e){var t=this.sa(e);if(t<0)throw new nf(e);return t}},{key:"Fe",value:function Fe(e){return Math.round((performance.now()-e)*100)/100}}]),is}();a(is,"FlowRegistry");var ss=is,af=ss,ls=/*#__PURE__*/function(){function ls(e){_class_call_check(this,ls),_define_property(this,"codex",void 0),_define_property(this,"flows",void 0),this.codex=e,this.flows=new af([qh(),Zh(),_h(),Fh(),Kh(),Uh(),Jh()])}return _create_class(ls,[{key:"processContextData",value:function processContextData(){return _async_to_generator(function(){var _this_codex,e,t,r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:return e=(_this_codex=this.codex).player,r=(t=_this_codex.context).getContextData(),o={contextId:t.getContextId(),contextData:r,contextSessionType:t.getSessionContextType(),isFirstSession:e.isFirstSession()},[4,this.flows.runAsync(o)];case 1:return _state.sent()||this.codex.event.emit(Ludex.Events.SWITCH_SCENE,{sceneName:"DashboardScene",sceneData:{isFromLoader:!0}}),[2]}})}).call(this)}},{key:"configureFlows",value:function configureFlows(e){try{e(this.flows)}catch(e){}}}]),ls}();a(ls,"Loader");var cs=ls,of=cs;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var GA={processed:!1,contextId:"",contextType:"SOLO",entryPointData:{},contextGameMode:"",sessionContextType:""},nn=GA,an=Ludex.Events,_Ludex_Utils13=Ludex.Utils,sf=_Ludex_Utils13.Function,us=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function us(e){var _this;return _class_call_check(this,us),_define_property(_this=_call_super(this,us,[e]),"n",void 0),_define_property(_this,"ra",void 0),_this.ra=new of(e),_this.n=new Ch(e),_this}return _inherits(us,_Ludex_Plugins_BasePlugin),_create_class(us,[{key:"init",value:function init(){this.codex.storage.addStorage("context",nn)}},{key:"getSessionContextTypes",value:function getSessionContextTypes(){return le}},{key:"processContextData",value:function processContextData(){return _async_to_generator(function(){var _this,_this_codex,e,t;return _ts_generator(this,function(_state){return _this=this,e=(_this_codex=this.codex).event,t=_this_codex.monitorError,e.catchUp(an.CONTEXT_SESSION_TYPE_DETECTED,function(){return _async_to_generator(function(){var r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,this.ra.processContextData()];case 1:return _state.sent(),e.emit(an.CONTEXT_DATA_PROCESSED),[3,3];case 2:return r=_state.sent(),this.Ur(),null==t||t.sendException(sf.toError(r)),[3,3];case 3:return[2]}})}).call(_this)}),[2]})}).call(this)}},{key:"configureFlows",value:function configureFlows(e){this.ra.configureFlows(e)}},{key:"detectContextSessionType",value:function detectContextSessionType(){return _async_to_generator(function(){var _this_codex,e,t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:e=(_this_codex=this.codex).event,t=_this_codex.monitorError,_state.label=1;case 1:return _state.trys.push([1,3,4,5]),[4,this.n.detectContextSessionType()];case 2:return _state.sent(),[3,5];case 3:return r=_state.sent(),null==t||t.sendException(sf.toError(r)),[3,5];case 4:return e.emit(an.CONTEXT_SESSION_TYPE_DETECTED),[7];case 5:return[2]}})}).call(this)}},{key:"detectContextGameMode",value:function detectContextGameMode(){this.n.detectContextGameMode()}},{key:"receiveContext",value:function receiveContext(e,t,r){this.n.receiveContext(e,t,r)}},{key:"getContextId",value:function getContextId(){return this.n.getContextId()}},{key:"getContextType",value:function getContextType(){return this.n.getContextType()}},{key:"getContextData",value:function getContextData(){return this.n.getContextData()}},{key:"getSessionContextType",value:function getSessionContextType(){return this.n.getSessionContextType()}},{key:"Ur",value:function Ur(){this.codex.event.emit(an.SWITCH_SCENE,{sceneName:"DashboardScene"})}}]),us}(Ludex.Plugins.BasePlugin);a(us,"ContextPlugin");var ds=us,cf=ds;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils14=Ludex.Utils,ps=_Ludex_Utils14.Valid,FA=nn.contextId,BA=nn.contextType,UA=nn.entryPointData,ms="is invalid",hs=/*#__PURE__*/function(ae){function hs(){var _this;return _class_call_check(this,hs),_this=_call_super(this,hs,arguments),_define_property(_this,"je",void 0),_this}return _inherits(hs,ae),_create_class(hs,[{key:"Q",value:function Q(e){this.Z(e)}},{key:"q",value:function q(e){this.J(e)}},{key:"o",value:function o(e){this.X(e)}},{key:"validateContextId",value:function validateContextId(e){ps.isString(e)||this.a("contextId",ms)}},{key:"validateContextType",value:function validateContextType(e){ps.isString(e)&&e||this.a("contextType",ms)}},{key:"validateEntryPointData",value:function validateEntryPointData(e){ps.isObject(e)||this.a("entryPointData",ms)}},{key:"toObject",value:function toObject(){return _get(_get_prototype_of(hs.prototype),"toObject",this).call(this)}}]),hs}(ae);a(hs,"ContextInfoDtos");var on=hs;on.addDefaults({contextId:FA,contextType:BA,entryPointData:UA});var lf=on;Ludex.Dtos.Context={Info:lf};var df=cf;k(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var mf=Gg(pf(),1),hf=mf.default,HA=new hf,et=HA;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var jA={names:[],history:[]},ff=jA,_Ludex_Utils15=Ludex.Utils,tt=_Ludex_Utils15.Decorator,WA=_Ludex_Utils15.Array,_e=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function _e(){var _this;return _class_call_check(this,_e),_this=_call_super(this,_e,arguments),_define_property(_this,"Za",!1),_define_property(_this,"gt",[]),_this}return _inherits(_e,_Ludex_Plugins_BasePlugin),_create_class(_e,[{key:"init",value:function init(){this.codex.storage.addStorage("event",ff)}},{key:"enableLogEvent",value:function enableLogEvent(){this.Za=!0}},{key:"on",value:function on(e,t){this.es(e),this.De(e,"on","listening"),et.on(e,t)}},{key:"once",value:function once(e,t){this.es(e),this.De(e,"once","listening"),et.once(e,t)}},{key:"waitTo",value:function waitTo(e,t){var _this=this;return new Promise(function(r,o){var w,I=a(function(D){clearTimeout(w),r(D)},"callback");_this.once(e,I),t&&t>0&&(w=setTimeout(function(){_this.off(e,I),o(Error("Event ".concat(e," timeout")))},t))})}},{key:"catchUp",value:function catchUp(e,t){var r=this.getLastEventInfo(e,"called");if(!r)return void this.once(e,t);if(!(this.gt.indexOf(e)>-1)){var o=r.payload;this.De(e,"once","catchup"),t(o)}}},{key:"off",value:function off(e,t){et.off(e,t),this.De(e,"action","removed")}},{key:"mute",value:function mute(e){this.gt.indexOf(e)>-1||this.gt.push(e)}},{key:"clear",value:function clear(e){et.removeAllListeners(e),this.De(e,"action","removed")}},{key:"emit",value:function emit(e,t){if(!(this.gt.indexOf(e)>-1)){var _et,r=[];t&&(r=[t]),this.De(e,"action","called",t),(_et=et).emit.apply(_et,[e].concat(_to_consumable_array(r)))}}},{key:"es",value:function es(e){var r=this.codex.storage.getStorageData("event","names");r&&0>r.indexOf(e)&&r.push(e)}},{key:"kr",value:function kr(e){return e.length<=1e4?e:WA.limit(e,1e4)}},{key:"getEventListeners",value:function getEventListeners(e){return this.getHistory().filter(function(t){return t.name===e&&["listening","catchup"].includes(t.status)}).map(function(t){return t.name})}},{key:"getHistory",value:function getHistory(){var _e_getStorageData,t=null!=(_e_getStorageData=this.codex.storage.getStorageData("event","history"))?_e_getStorageData:[];return this.kr(t)}},{key:"getEventEmitCount",value:function getEventEmitCount(e){return this.getHistory().filter(function(t){return t.name===e&&"called"===t.status}).length}},{key:"getLastEventInfo",value:function getLastEventInfo(e,t){for(var r=this.getHistory(),o=r.length-1;o>=0;o--){var w=r[o];if(w.name===e&&(!t||w.status===t))return w}return null}},{key:"Fr",value:function Fr(e){var _this_getLastEventInfo,_this_getLastEventInfo_type;return null!=(_this_getLastEventInfo_type=null==(_this_getLastEventInfo=this.getLastEventInfo(e))?void 0:_this_getLastEventInfo.type)?_this_getLastEventInfo_type:null}},{key:"jr",value:function jr(e){var _this_getLastEventInfo,_this_getLastEventInfo_called;return null!=(_this_getLastEventInfo_called=null==(_this_getLastEventInfo=this.getLastEventInfo(e))?void 0:_this_getLastEventInfo.called)?_this_getLastEventInfo_called:0}},{key:"De",value:function De(e,t,r,o){var _this_Fr,w=null!=(_this_Fr=this.Fr(e))?_this_Fr:t,I=this.jr(e),D="called"===r?I+1:I;this.getHistory().push({type:w,status:r,name:e,called:D,payload:null!=o?o:{}}),this.Br(e,w,r,D)}},{key:"Br",value:function Br(e,t,r,o){this.Za&&("listening"===r&&et.listenerCount(e),"called"===r&&et.listenerCount(e))}}]),_e}(Ludex.Plugins.BasePlugin);a(_e,"EventPlugin"),pe([tt.validateParams("string","function")],_e.prototype,"on",1),pe([tt.validateParams("string","function")],_e.prototype,"once",1),pe([tt.validateParams("string")],_e.prototype,"waitTo",1),pe([tt.validateParams("string","function")],_e.prototype,"catchUp",1),pe([tt.validateParams("string","function")],_e.prototype,"off",1),pe([tt.validateParams("string")],_e.prototype,"mute",1),pe([tt.validateParams("string")],_e.prototype,"clear",1),pe([tt.validateParams("string")],_e.prototype,"emit",1);var ys=_e,yf=ys,gf=yf;k(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Pf='nunito,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif',_Ludex_Configs3=Ludex.Configs,_Ludex_Configs_FrameCapture=_Ludex_Configs3.FrameCapture,zA=_Ludex_Configs_FrameCapture.Enabled,gs=_Ludex_Configs_FrameCapture.Options,_Ludex_Utils16=Ludex.Utils,qA=_Ludex_Utils16.Browser,cn=_Ludex_Utils16.Image,Qt=_Ludex_Utils16.Object,Xt=_Ludex_Utils16.Valid,xs=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function xs(){var _this;return _class_call_check(this,xs),_this=_call_super(this,xs,arguments),_define_property(_this,"na",void 0),_define_property(_this,"ia",void 0),_define_property(_this,"P",null),_define_property(_this,"n",null),_define_property(_this,"oa",null),_define_property(_this,"wt",{}),_define_property(_this,"la",{}),_this}return _inherits(xs,_Ludex_Plugins_BasePlugin),_create_class(xs,[{key:"preloadAsync",value:function preloadAsync(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return t=e.renderOptions,[4,this.ts(t)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"captureAsync",value:function captureAsync(e){return _async_to_generator(function(){var t,r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:return t=e.width,r=e.height,o=e.renderOptions,[4,this.ts(o)];case 1:return[2,(_state.sent(),this.na=t,this.ia=r,this.Hr(),this.Kr(o),this.Vr())]}})}).call(this)}},{key:"renderAsync",value:function renderAsync(e,t){return _async_to_generator(function(){var r;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!zA)return[2,null];if(void 0===(r=this.la[e]))throw Error("Renderer ".concat(e," has not been set"));return[4,r(t)];case 1:return[2,_state.sent()]}})}).call(this)}},{key:"setRenderer",value:function setRenderer(e,t){this.la[e]=t}},{key:"unsetRenderer",value:function unsetRenderer(e){delete this.la[e]}},{key:"setTestRenderOptions",value:function setTestRenderOptions(e){if(!e){this.oa=null;return}var t=Qt.camelCaseKeys(e);this.oa=Qt.merge(this.oa,t)}},{key:"Hr",value:function Hr(){if(!this.P){var e=qA.createCanvas({type:"canvas",contextAttributes:{alpha:!1,desynchronized:!0,willReadFrequently:!0},contextType:"2d"});this.P=null==e?void 0:e.canvas,this.n=null==e?void 0:e.context}if(!this.P)throw Error("Failed to create canvas");this.n&&this.n.clearRect(0,0,this.na,this.ia),this.P.width=this.na,this.P.height=this.ia}},{key:"ts",value:function ts(e){return _async_to_generator(function(){var t,r,o,w;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(t=this.Wr(e),r=this.zr(t),(o=Qt.vals(r)).length<1)return[2];return[4,Promise.all(o)];case 1:return w=_state.sent(),this.Yr(r,w),[2]}})}).call(this)}},{key:"Wr",value:function Wr(e){var t=Qt.vals(e).filter(function(r){return"image"===r.type}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=t[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var r=_step.value,o=r.name,w=r.image,I=r.fallbackImage,D=Xt.isString(w)&&""!==w;if(!o){var E=D?w:I;E&&(r.name=E)}!D&&I&&(r.image=I)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return t}},{key:"zr",value:function zr(e){var t={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _this,_step,_loop=function(){var r=_step.value,o=r.name,w=r.image,I=r.fallbackImage,D=_this.wt[o];!Xt.isString(w)||D||(""===w&&Xt.isString(I)&&(r.image=I),t[o]=new Promise(function(E){cn.loadImage(w).then(function(S){E(S)}).catch(function(){Xt.isString(I)?(r.image=I,cn.loadImage(r.image).then(function(S){E(S)}).catch(function(){E(null)})):E(null)})}))},_iterator=e[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_this=this,_loop()}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return t}},{key:"Yr",value:function Yr(e,t){for(var r in e){var o=t.shift();o&&(this.wt[r]=o)}}},{key:"Kr",value:function Kr(e){var t=Qt.vals(e).sort(function(r,o){return r.depth-o.depth}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=t[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var r=_step.value;switch(r.type){case"text":this.qr(r);break;case"image":this.Qr(r)}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"qr",value:function qr(e){if(this.P&&this.n){var t=e.position,r=e.font,o=e.text,w=e.color,I=e.lineWidth,D=e.textAlign;this.n.font="".concat(r," ").concat(Pf),this.n.fillStyle=null!=w?w:"#ffffff",I&&(this.n.lineWidth=I),D&&(this.n.textAlign=D);var _t=_sliced_to_array(t,2),E=_t[0],S=_t[1];this.n.fillText(o,E,S)}}},{key:"Qr",value:function Qr(e){if(this.P&&this.n){var t=e.name,r=e.size,o=e.position,w=e.fallbackImage,I=this.wt[t];if(!I&&w&&(I=this.wt[w]),!I)throw Error("Image ".concat(t," not found"));var _o=_sliced_to_array(o,2),D=_o[0],E=_o[1],_r=_sliced_to_array(r,2),S=_r[0],b=_r[1];this.n.drawImage(I,D,E,S,b)}}},{key:"Vr",value:function Vr(){return _async_to_generator(function(){var e,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!this.P)return[2,null];if(e=null,!(gs.UseBlobIfPossible&&"toBlob"in this.P))return[3,2];return[4,this.Jr()];case 1:return _tmp=e=_state.sent(),[3,3];case 2:_tmp=e=this.Xr(),_state.label=3;case 3:if(!e)throw Error("Image data is null");return[2,(Xt.isDebugger()&&cn.logImage(e),e)]}})}).call(this)}},{key:"Xr",value:function Xr(){if(!this.P||!this.n)return null;var e=gs.Quality,t=gs.RenderType;return this.n.canvas.toDataURL("image/".concat(t),e)}},{key:"Jr",value:function Jr(){var _this=this;return new Promise(function(e){if(!_this.P)return void e(null);var t=gs.Quality,r=gs.RenderType;_this.P.toBlob(function(o){o?cn.blobToDataImage(o).then(function(w){e(w)}):e(null)},"image/".concat(r),t)})}}]),xs}(Ludex.Plugins.BasePlugin);a(xs,"FrameCapturePlugin");var Ps=xs,xf=Ps,wf=xf;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var $s=/*#__PURE__*/function(Error1){function $s(e){var _this;return _class_call_check(this,$s),_define_property(_this=_call_super(this,$s,['Locale "'.concat(e,'" not found')]),"locale",void 0),_this.name="LocaleNotFoundError",_this.locale=e,_this}return _inherits($s,Error1),$s}(_wrap_native_super(Error));a($s,"LocaleNotFoundError");var ws=$s,ln=ws;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var vs=/*#__PURE__*/function(Error1){function vs(e,t){_class_call_check(this,vs);var _this,r=String(e);return _define_property(_this=_call_super(this,vs,['Text with key "'.concat(r,'" not found in locale "').concat(t,'"')]),"key",void 0),_define_property(_this,"locale",void 0),_this.name="MissingKeyInLocaleError",_this.key=r,_this.locale=t,_this}return _inherits(vs,Error1),vs}(_wrap_native_super(Error));a(vs,"MissingKeyInLocaleError");var As=vs,Zt=As,_Ludex_Utils17=Ludex.Utils,dn=_Ludex_Utils17.Object,$f=_Ludex_Utils17.Function,YA=_Ludex_Utils17.Browser,JA=_Ludex_Utils17.Valid,_Ludex_Configs4=Ludex.Configs,_Ludex_Configs_Languages=_Ludex_Configs4.Languages,QA=_Ludex_Configs_Languages.DetectPlayerLocale;a(bs,"nullOrNotEmpty");var Ds=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function Ds(){var _this;return _class_call_check(this,Ds),_this=_call_super(this,Ds,arguments),_define_property(_this,"Oe",void 0),_define_property(_this,"Be",void 0),_define_property(_this,"je",{}),_this}return _inherits(Ds,_Ludex_Plugins_BasePlugin),_create_class(Ds,[{key:"setFallbackLocale",value:function setFallbackLocale(e){this.Be=e}},{key:"hasLocale",value:function hasLocale(e){return dn.hasOwn(this.je,e)}},{key:"hasTextKey",value:function hasTextKey(e,t){var r=null!=t?t:this.getCurrentLocale(),o=this.xt(r).text;return dn.hasOwn(o,e)}},{key:"hasTextureKey",value:function hasTextureKey(e,t){var r=null!=t?t:this.getCurrentLocale(),o=this.xt(r).texture;return dn.hasOwn(o,e)}},{key:"add",value:function add(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.je[e]=t,r&&this.setFallbackLocale(e)}},{key:"choose",value:function choose(e){this.Oe=e,this.codex.event.emit(Ludex.Events.LANGUAGE_CHANGED,{locale:e})}},{key:"getText",value:function getText(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{return this.Zr(e,t,r,!o)}catch(w){return _instanceof(w,Zt)||_instanceof(w,ln),String(e)}}},{key:"getTexture",value:function getTexture(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.en(e,t,!r)}},{key:"Zr",value:function Zr(e){var _this=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,o=!(arguments.length>3)||void 0===arguments[3]||arguments[3];if(!o||void 0===this.Be){var D=this.ca(e,null!=r?r:this.getCurrentLocale());return this.as(D,t)}var w=this.Be,I=$f.retry(function(){return _this.ca(e,null!=r?r:_this.getCurrentLocale())},function(){return _this.ca(e,w)});return this.as(I,t)}},{key:"ca",value:function ca(e,t){if(!this.hasTextKey(e,t))throw new Zt(e,t);return this.xt(t).text[e]}},{key:"en",value:function en(e,t){var _this=this,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!r||void 0===this.Be)return this.da(e,null!=t?t:this.getCurrentLocale());var o=this.Be;return $f.retry(function(){return _this.da(e,null!=t?t:_this.getCurrentLocale())},function(){return _this.da(e,o)})}},{key:"da",value:function da(e,t){if(!this.hasTextureKey(e,t))throw new Zt(e,t);return this.xt(t).texture[e]}},{key:"getCurrentLocale",value:function getCurrentLocale(){var _this_Oe;return null!=(_this_Oe=this.Oe)?_this_Oe:"en"}},{key:"xt",value:function xt(e){var t=null!=e?e:this.getCurrentLocale();if(!dn.hasOwn(this.je,t))throw new ln(t);return this.je[t]}},{key:"as",value:function as(e,t){var r=t.length;if(0===r)return e;for(var o=e,w=0;w<r;w++){var I=t[w],D="%{".concat(w,"}");o=o.replace(D,I)}return o}},{key:"getPlayerLanguage",value:function getPlayerLanguage(){var _ref,_bs,_ref1,_ref2,e=this.codex.player,t=GameSDK.getLocale(),r=bs(null==t?void 0:t.trim().split(/[-_]/)[0]),o=bs(this.getBrowserLanguage());return e.isFirstSession()?null!=(_ref=null!=r?r:o)?_ref:"en":null!=(_ref2=null!=(_ref1=null!=(_bs=bs(e.getPlayerSetting("language")))?_bs:r)?_ref1:o)?_ref2:"en"}},{key:"getBrowserLanguage",value:function getBrowserLanguage(){var _YA_getLocale_trim,_YA_getLocale;return!1===QA?"en":null==(_YA_getLocale=YA.getLocale())||null==(_YA_getLocale_trim=_YA_getLocale.trim())?void 0:_YA_getLocale_trim.split(/[-_]/)[0]}}]),Ds}(Ludex.Plugins.BasePlugin);a(Ds,"LanguagePlugin");var Ss=Ds,Af=Ss,vf=Af;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var XA={_id:"",name:"",createdBy:"",description:"",expireTime:6048e5,type:"app_leaderboard",timezone:"utc+0",createdAt:"2024-01-01T09:00:00.000Z",sortOrder:"desc",statistics:"max",resettable:"manually",resetScore:0,numberOfLeaders:15,amountPlayer:15},bf=XA,_Ludex_Configs5=Ludex.Configs,er=_Ludex_Configs5.OtherHost,tr=_Ludex_Configs5.Mockup,ZA=_Ludex_Configs5.AppId,_Ludex_Utils18=Ludex.Utils,rr=_Ludex_Utils18.Object,Is=_Ludex_Utils18.String,ev=_Ludex_Utils18.Valid,Ls=/*#__PURE__*/function(){function Ls(){_class_call_check(this,Ls),_define_property(this,"I",void 0)}return _create_class(Ls,[{key:"ue",value:function ue(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.I)return[2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:if("function"!=typeof(e=_state.sent().default))throw Error("Cannot load LeaderboardAPIMock");return this.I=new e,[2]}})}).call(this)}},{key:"getLeadersAsync",value:function getLeadersAsync(e,t,r){return _async_to_generator(function(){var o,w,_tmp,_tmp1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(o=Is.params(r),!tr.Leaderboards.Enabled)return[3,6];return[4,this.ue()];case 1:if(_state.sent(),!("playerIds"in r))return[3,3];return[4,this.I.getPlayers(e,r)];case 2:return _tmp1=w=_state.sent(),[3,5];case 3:return[4,this.I.getLeaders(e,r)];case 4:_tmp1=w=_state.sent(),_state.label=5;case 5:return _tmp=_tmp1,[3,8];case 6:return[4,qe("".concat(t,"?").concat(o),{},er)];case 7:_tmp=w=_state.sent(),_state.label=8;case 8:return[2,rr.hasOwn(w,"data")&&Array.isArray(w.data)?w.data:[]]}})}).call(this)}},{key:"getLeaderboardAsync",value:function getLeaderboardAsync(e){return _async_to_generator(function(){var t,r,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(r="leaderboards/".concat(e),!tr.Leaderboards.Enabled)return[3,3];return[4,this.ue()];case 1:return _state.sent(),[4,this.I.getLeaderboardAsync(e)];case 2:return _tmp=t=_state.sent(),[3,5];case 3:return[4,qe(r,{},er)];case 4:t=_state.sent(),_tmp=rr.hasOwn(t,"data")&&"object"==_type_of(t.data)&&(t=t.data),_state.label=5;case 5:return[2,t]}})}).call(this)}},{key:"getLeaderboardsAsync",value:function getLeaderboardsAsync(e){return _async_to_generator(function(){var t,r,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(r=Is.params(e),!tr.Leaderboards.Enabled)return[3,3];return[4,this.ue()];case 1:return _state.sent(),[4,this.I.getLeaderboardsAsync(e)];case 2:return _tmp=t=_state.sent(),[3,5];case 3:return[4,qe("leaderboards?".concat(r),{},er)];case 4:t=_state.sent(),_tmp=t=rr.hasOwn(t,"data")&&Array.isArray(t.data)?t.data:[],_state.label=5;case 5:return[2,t]}})}).call(this)}},{key:"setLeaderboardScoreAsync",value:function setLeaderboardScoreAsync(e){return _async_to_generator(function(){var t,r,o,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(t=e.leaderboardId,r=e.playerId,o=e.score,!tr.Leaderboards.Enabled)return[3,3];return[4,this.ue()];case 1:return _state.sent(),[4,this.I.setScoreAsync(t,r,o)];case 2:return _tmp=_state.sent(),[3,5];case 3:return[4,Ae("leaderboards/".concat(t,"/players/").concat(r),{score:o},{},er)];case 4:_tmp=_state.sent(),_state.label=5;case 5:return[2]}})}).call(this)}},{key:"createLeaderboardAsync",value:function createLeaderboardAsync(e){return _async_to_generator(function(){var _e__id,t,r,o,w,I,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(t=null!=(_e__id=e._id)?_e__id:Is.generateObjectId(),r=e.numberOfLeaders,o=Se(N(N({},bf),e),{_id:t,appId:ZA,numberOfLeaders:r}),w="leaderboards",!tr.Leaderboards.Enabled)return[3,3];return[4,this.ue()];case 1:return _state.sent(),[4,this.I.createLeaderboard(o)];case 2:return _tmp=I=_state.sent(),[3,5];case 3:return[4,Ae(w,o,{},er)];case 4:I=_state.sent(),_tmp=rr.hasOwn(I,"data")&&ev.isObject(I.data)&&(I=I.data),_state.label=5;case 5:if(!rr.hasOwn(I,"_id")||I._id!==t)throw Error("Create leaderboard failed");return[2,t]}})}).call(this)}}]),Ls}();a(Ls,"LeaderboardAPI");var Es=Ls,Sf=Es;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var tv={limit:0,offset:0,leaders:{},isRequesting:!1,amountPlayer:0},Cs=tv;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var rv={leaderboards:{}},Df=rv,_Ludex_Utils19=Ludex.Utils,nv=_Ludex_Utils19.Array,av=_Ludex_Utils19.Valid,If=_Ludex_Utils19.Json,pt=_Ludex_Utils19.Object,_Ludex_Configs6=Ludex.Configs,_Ludex_Configs_Mockup=_Ludex_Configs6.Mockup,ov=_Ludex_Configs_Mockup.Leaderboards,Ms=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function Ms(){var _this;return _class_call_check(this,Ms),_this=_call_super(this,Ms,arguments),_define_property(_this,"G",new Sf),_define_property(_this,"D",void 0),_this}return _inherits(Ms,_Ludex_Plugins_BasePlugin),_create_class(Ms,[{key:"init",value:function init(){this.codex.storage.addStorage("leaderboard",Df),this.D={}}},{key:"addLeaderboard",value:function addLeaderboard(e){var t=e.name,r=e.type,o=e.leaderboardId,w=e.autoSortRank;if(!this.getLeaderboard(t)){var I="leaderboards/".concat(o,"/");("global"===r||"tournament"===r)&&(I+="leaders"),"friends"===r&&(I+="players"),this.D[t]={id:o,name:t,type:r,host:I,autoSortRank:w};var D=If.clone(Cs);this.C(t,D)}}},{key:"requestLeaderboardsAsync",value:function requestLeaderboardsAsync(e){return _async_to_generator(function(){var e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,this.G.getLeaderboardsAsync(e)];case 1:return[2,_state.sent()];case 2:return e1=_state.sent(),[2,[]];case 3:return[2]}})}).call(this)}},{key:"requestLeaderboardAsync",value:function requestLeaderboardAsync(e,t){return _async_to_generator(function(){var _this_D_e,r,o,w,I,D,b,r1,o1,w1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,,6,8]),this.He(e),this.clearLeaderboard(e),this.C(e,{isRequesting:!0}),r=(_this_D_e=this.D[e]).id,o=_this_D_e.type,w=_this_D_e.host,I=[],"friends"!==o)return[3,2];return b=[(D=this.codex.player).getPlayerId()].concat(_to_consumable_array(D.getConnectedPlayerIds(t,0))),this.D[e].playerIds=_to_consumable_array(b),[4,this.G.getLeadersAsync(r,w,{playerIds:b})];case 1:return I=_state.sent(),[3,4];case 2:return[4,this.G.getLeadersAsync(r,w,{limit:t,offset:0})];case 3:I=_state.sent(),_state.label=4;case 4:if(0===I.length)return[2];return[4,this.ss(e,I)];case 5:return _state.sent(),this.C(e,{limit:t,offset:0}),[3,8];case 6:return[4,this.G.getLeaderboardAsync(this.D[e].id)];case 7:return o1=(r1=_state.sent())?r1.resettable:"",w1=r1?r1.amountPlayer:0,this.C(e,{isRequesting:!1,resettable:o1,amountPlayer:w1}),[7];case 8:return[2]}})}).call(this)}},{key:"loadMoreLeaderboardAsync",value:function loadMoreLeaderboardAsync(e,t){return _async_to_generator(function(){var r,_this_D_e,o,w,E,S;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!((r=this.getLeaderboard(e))&&"friends"!==this.D[e].type))return[3,4];_state.label=1;case 1:return _state.trys.push([1,,3,4]),this.C(e,{isRequesting:!0}),o=(_this_D_e=this.D[e]).id,w=_this_D_e.host,E=r.offset+r.limit,[4,this.G.getLeadersAsync(o,w,{limit:t,offset:E})];case 2:if(0===(S=_state.sent()).length)return[2];return this.ss(e,S),this.C(e,{limit:t,offset:E}),[3,4];case 3:return this.C(e,{isRequesting:!1}),[7];case 4:return[2]}})}).call(this)}},{key:"getLeaderboard",value:function getLeaderboard(e){var r=this.codex.storage.getStorageData("leaderboard","leaderboards");return r&&r[e]?r[e]:null}},{key:"getLeadersByPlayerIdsAsync",value:function getLeadersByPlayerIdsAsync(e,t){return _async_to_generator(function(){var r,o,w,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),this.He(e),r=this.D[e].id,o="leaderboards/".concat(r,"/players"),[4,this.G.getLeadersAsync(r,o,{playerIds:t})];case 1:return[2,0===(w=_state.sent()).length?[]:this.rs(w)];case 2:return e1=_state.sent(),[2,[]];case 3:return[2]}})}).call(this)}},{key:"getLeaderboardResponseAsync",value:function getLeaderboardResponseAsync(e){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,this.G.getLeaderboardAsync(e)]})}).call(this)}},{key:"clearLeaderboard",value:function clearLeaderboard(e){try{this.He(e);var t=If.clone(Cs);this.C(e,null),this.C(e,t)}catch(e){}}},{key:"isLeaderboardEmpty",value:function isLeaderboardEmpty(e){var t=this.getLeaderboard(e);return!t||0===Object.keys(t.leaders).length}},{key:"isExistLeaderboardId",value:function isExistLeaderboardId(e){var _this=this,t=_this.D;return pt.vals(t).some(function(r){return r.id===e})}},{key:"getLeaderboardName",value:function getLeaderboardName(e){var _this=this,t=_this.D,r=nv.search(pt.vals(t),function(o){return o.id===e});return r?r.name:null}},{key:"setLeaderboardScoreAsync",value:function setLeaderboardScoreAsync(e,t,r){return _async_to_generator(function(){var o,w,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,3,,4]),GameSDK.extra.isGuest&&!ov.Enabled)return[2];return this.He(e),o=this.D[e].id,[4,this.tn(e,t)];case 1:if((w=_state.sent())&&r<=w)return[2];return[4,this.G.setLeaderboardScoreAsync({leaderboardId:o,playerId:t,score:r})];case 2:return _state.sent(),[3,4];case 3:return e1=_state.sent(),[3,4];case 4:return[2]}})}).call(this)}},{key:"tn",value:function tn(e,t){return _async_to_generator(function(){var r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.getLeadersByPlayerIdsAsync(e,[t])];case 1:return[2,0===(r=_state.sent()).length?null:r[0].score]}})}).call(this)}},{key:"createLeaderboardAsync",value:function createLeaderboardAsync(e){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,this.G.createLeaderboardAsync(e)]})}).call(this)}},{key:"He",value:function He(e){var t=this.getLeaderboard(e);if(!av.isObject(t))throw Error("Leaderboard with name ".concat(e," not found"))}},{key:"C",value:function C(e,t){if(t){var _this_codex=this.codex,r=_this_codex.storage;r.setStorageData("leaderboard","leaderboards",_define_property({},e,t))}}},{key:"ss",value:function ss(e,t){return _async_to_generator(function(){var _I,_this_getLeaderboard,r,tmp,o,w,I,D,E;return _ts_generator(this,function(_state){switch(_state.label){case 0:return this.He(e),[4,this.rs(t)];case 1:return r=_state.sent().filter(function(S){return S.name&&S.photo}),o=void 0===(tmp=(null!=(_this_getLeaderboard=this.getLeaderboard(e))?_this_getLeaderboard:{}).leaders)?{}:tmp,w=r.filter(function(S){return!o[S.playerId]||(o[S.playerId]=S,!1)}),I=pt.vals(o),w.length>0&&(_I=I).unshift.apply(_I,_to_consumable_array(w)),D=I.sort(function(S,b){return b.score-S.score}),this.D[e].autoSortRank&&(D=D.map(function(S,b){return pt.merge(S,{rank:b+1})})),E=pt.keyBy(D,"playerId"),this.C(e,{leaders:E}),[2]}})}).call(this)}},{key:"rs",value:function rs(e){return _async_to_generator(function(){var _this,t,r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _this=this,t=this.codex.profile,r=e.map(function(w){return w.playerId}),[4,t.requestProfiles(r)];case 1:return _state.sent(),o=t.getProfiles(),[2,e.map(function(w){var D=o[w.playerId];if(!D){var _E_getText,S=null!=(_E_getText=_this.codex.language.getText("core.nameless"))?_E_getText:"Nameless";return pt.merge(w,{name:S,photo:"default"})}return pt.merge(w,{name:D.name,photo:D.photo})}).map(function(w){return Se(N({},w),{score:parseInt(w.score,10)})})]}})}).call(this)}}]),Ms}(Ludex.Plugins.BasePlugin);a(Ms,"LeaderboardPlugin");var Ts=Ms,Ef=Ts,Lf=Ef;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ns=/*#__PURE__*/function(){function Ns(){_class_call_check(this,Ns),_define_property(this,"ns",void 0)}return _create_class(Ns,[{key:"setAPIHost",value:function setAPIHost(e){this.ns=e}},{key:"getAPIHost",value:function getAPIHost(){return this.ns}}]),Ns}();a(Ns,"BaseAPI");var Os=Ns,Cf=Os,Tf=Ludex.Utils,_s=/*#__PURE__*/function(Cf){function _s(){return _class_call_check(this,_s),_call_super(this,_s,arguments)}return _inherits(_s,Cf),_create_class(_s,[{key:"createSingleMatchAsync",value:function createSingleMatchAsync(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,Ae("single-matches",e,{},this.getAPIHost())];case 1:return t=_state.sent(),[2,this.ee(t)]}})}).call(this)}},{key:"getSingleMatchDetailAsync",value:function getSingleMatchDetailAsync(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,qe("single-matches/active",{},this.getAPIHost())];case 1:return e=_state.sent(),[2,this.ee(e)]}})}).call(this)}},{key:"updateSingleMatchMoveAsync",value:function updateSingleMatchMoveAsync(e,t){return _async_to_generator(function(){var o;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,Ae("single-matches/".concat(e,"/move"),t,{},this.getAPIHost())];case 1:return o=_state.sent(),[2,this.ee(o)]}})}).call(this)}},{key:"finishSingleMatchAsync",value:function finishSingleMatchAsync(e){return _async_to_generator(function(){var r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,Ae("single-matches/".concat(e,"/finish"),{},{},this.getAPIHost())];case 1:return r=_state.sent(),[2,this.ee(r)]}})}).call(this)}},{key:"createMatchAsync",value:function createMatchAsync(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,Ae("matches",e,{},this.getAPIHost())];case 1:return t=_state.sent(),[2,this.ee(t)]}})}).call(this)}},{key:"joinMatchAsync",value:function joinMatchAsync(e){return _async_to_generator(function(){var r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,Ae("matches/".concat(e,"/join"),{},{},this.getAPIHost())];case 1:return r=_state.sent(),[2,this.ee(r)]}})}).call(this)}},{key:"getMatchDetailByIdAsync",value:function getMatchDetailByIdAsync(e){return _async_to_generator(function(){var r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,qe("matches/".concat(e),{},this.getAPIHost())];case 1:return r=_state.sent(),[2,this.ee(r)]}})}).call(this)}},{key:"finishMatchAsync",value:function finishMatchAsync(e){return _async_to_generator(function(){var tmp,t,tmp1,r,tmp2,o,tmp3,w,D;return _ts_generator(this,function(_state){switch(_state.label){case 0:return t=void 0===(tmp=e.matchId)?"":tmp,r=void 0===(tmp1=e.score)?0:tmp1,o=void 0===(tmp2=e.level)?0:tmp2,w=void 0===(tmp3=e.extraData)?{}:tmp3,[4,Ae("matches/".concat(t,"/finish"),{matchId:t,score:r,level:o,extraData:w},{},this.getAPIHost())];case 1:return D=_state.sent(),[2,this.ee(D)]}})}).call(this)}},{key:"ee",value:function ee(e){var _e_data;return Tf.Valid.isObject(e)&&Tf.Object.hasOwn(e,"data")&&null!=(_e_data=e.data)?_e_data:{}}}]),_s}(Cf);a(_s,"MatchAPI");var Rs=_s,Mf=Rs,Gs=/*#__PURE__*/function(){function Gs(e){_class_call_check(this,Gs),_define_property(this,"At",void 0),this.an(),this.setAPIConfig(e)}return _create_class(Gs,[{key:"an",value:function an(){this.At=new Mf}},{key:"setAPIConfig",value:function setAPIConfig(e){e.matchAPIHost&&this.At.setAPIHost(e.matchAPIHost)}},{key:"setMatchAPIInstance",value:function setMatchAPIInstance(e){this.At=e}},{key:"getMatchAPI",value:function getMatchAPI(){return this.At}}]),Gs}();a(Gs,"APIHandler");var ks=Gs,Of=ks;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Bs=/*#__PURE__*/function(){function Bs(e,t){_class_call_check(this,Bs),_define_property(this,"codex",void 0),_define_property(this,"match",void 0),this.codex=e,this.match=t}return _create_class(Bs,[{key:"u",value:function u(e){this.match.useCPUProfile}},{key:"p",value:function p(){this.match.useCPUProfile}},{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){return _ts_generator(this,function(_state){throw Error("Not implemented")})})()}}]),Bs}();a(Bs,"BaseConcrete");var Fs=Bs,G=Fs;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils20=Ludex.Utils,sv=_Ludex_Utils20.Object,nr=_Ludex_Utils20.Valid,iv=_Ludex_Utils20.Json,Vs=/*#__PURE__*/function(){function Vs(e){_class_call_check(this,Vs),_define_property(this,"r",void 0),_define_property(this,"te",void 0),_define_property(this,"Ee",void 0),_define_property(this,"Ke",void 0),this.r=e.codex,this.te=e.match,this.Ee=null,this.Ke={Before:null,After:null}}return _create_class(Vs,[{key:"setNext",value:function setNext(e){return this.Ee=e,e}},{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){return _ts_generator(this,function(_state){return this.os("Before",e),[2]})}).call(this)}},{key:"s",value:function s(e){return _async_to_generator(function(){var _tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.os("After",e),this.sn(),!(_tmp=this.Ee))return[3,2];return[4,this.Ee.processAsync(e)];case 1:_tmp=_state.sent(),_state.label=2;case 2:return[2]}})}).call(this)}},{key:"os",value:function os(e,t){if(nr.isDebugger()){this.Ke[e]=iv.clone(t);var r=t,o=r.profiles,w=r.customData,I=_n(r,["profiles","customData"])}}},{key:"sn",value:function sn(){var _this_Ke=this.Ke,e=_this_Ke.After,t=_this_Ke.Before;if(e&&t){var r=sv.diff(t,e);if(!nr.isEmpty(r)){var o=r,tmp=o.profiles,w=void 0===tmp?{}:tmp,tmp1=o.customData,I=void 0===tmp1?{}:tmp1,D=_n(o,["profiles","customData"]);nr.isEmpty(D),nr.isEmpty(w),nr.isEmpty(I)}this.Ke.After=null,this.Ke.Before=null}}}]),Vs}();a(Vs,"BaseHandler");var Us=Vs,M=Us,Hs=/*#__PURE__*/function(M){function Hs(){return _class_call_check(this,Hs),_call_super(this,Hs,arguments)}return _inherits(Hs,M),_create_class(Hs,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.s(e)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"s",value:function s(e){return _async_to_generator(function(){var _tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!(_tmp=this.Ee))return[3,2];return[4,this.Ee.processAsync(e)];case 1:_tmp=_state.sent(),_state.label=2;case 2:return[2]}})}).call(this)}}]),Hs}(M);a(Hs,"NothingHandler");var Ks=Hs,F=Ks;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ws=/*#__PURE__*/function(oe){function Ws(e){var _this;return _class_call_check(this,Ws),(_this=_call_super(this,Ws,[e])).name="LevelNotDefined",_this.message=null!=e?e:"Level is not defined",_this}return _inherits(Ws,oe),Ws}(oe);a(Ws,"LevelNotDefined");var js=Ws,un=js;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var qs=/*#__PURE__*/function(oe){function qs(e){var _this;return _class_call_check(this,qs),(_this=_call_super(this,qs,[e])).name="MatchModeNotDefined",_this.message=null!=e?e:"Match id is not defined",_this}return _inherits(qs,oe),qs}(oe);a(qs,"MatchModeNotDefined");var zs=qs,Mt=zs,_Ludex_Plugins1=Ludex.Plugins,tmp=_Ludex_Plugins1.Analytics,_ref=void 0===tmp?{}:tmp,Nf=_ref.Events,_Ludex_Utils21=Ludex.Utils,Rf=_Ludex_Utils21.String,_f=_Ludex_Utils21.Valid,Js=/*#__PURE__*/function(M){function Js(){return _class_call_check(this,Js),_call_super(this,Js,arguments)}return _inherits(Js,M),_create_class(Js,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Js.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,o,w;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),t=e.mode,o=e.customData.level,this.Ve(t),this.ha(o),w=this.r.analytics,Nf&&w.event(Nf.MATCH_START,{level:o,game_mode:Rf.toUpperCamelCase(t),level_name:this.ua(o)}),[4,this.s(e)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"Ve",value:function Ve(e){if(!_f.isString(e))throw new Mt}},{key:"ha",value:function ha(e){if(!_f.isNumber(e))throw new un}},{key:"ua",value:function ua(e){return"Level ".concat(Rf.padStart(e.toString(),5,"0"))}}]),Js}(M);a(Js,"LogMatchStartHandler");var Ys=Js,Z=Ys;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var cv={OPEN:"open",ACTIVE:"active",FINISHED:"finished"},Y=cv,Xs=/*#__PURE__*/function(M){function Xs(){return _class_call_check(this,Xs),_call_super(this,Xs,arguments)}return _inherits(Xs,M),_create_class(Xs,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Xs.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),t=e.mode,r=e.status,o=null!=t?t:Ye.SINGLE,r===Y.FINISHED&&(o=Ye.SINGLE),this.rn(o),[4,this.s(e)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"rn",value:function rn(e){this.r.storage.setStorageData("context","contextGameMode",e)}}]),Xs}(M);a(Xs,"ContextGameModeHandler");var Qs=Xs,U=Qs;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ei=/*#__PURE__*/function(Error1){function ei(e){var _this;return _class_call_check(this,ei),(_this=_call_super(this,ei,[e])).name="GetMatchDetailFailed",_this.message=null!=e?e:"Get match detail failed",_this}return _inherits(ei,Error1),ei}(_wrap_native_super(Error));a(ei,"GetMatchDetailFailed");var Zs=ei,Ot=Zs;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ri=/*#__PURE__*/function(Error1){function ri(e){var _this;return _class_call_check(this,ri),(_this=_call_super(this,ri,[e])).name="MatchAreNotActive",_this.message=null!=e?e:"Match are not active",_this}return _inherits(ri,Error1),ri}(_wrap_native_super(Error));a(ri,"MatchAreNotActive");var ti=ri,pn=ti;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ai=/*#__PURE__*/function(oe){function ai(e){var _this;return _class_call_check(this,ai),(_this=_call_super(this,ai,[e])).name="MatchIdNotValid",_this.message=null!=e?e:"Match id is not valid",_this}return _inherits(ai,oe),ai}(oe);a(ai,"MatchIdNotValid");var ni=ai,ie=ni;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var si=/*#__PURE__*/function(Error1){function si(e){var _this;return _class_call_check(this,si),(_this=_call_super(this,si,[e])).name="OpponentHasFinishedMatch",_this.message=e||"Opponent has finished match",_this}return _inherits(si,Error1),si}(_wrap_native_super(Error));a(si,"OpponentHasFinishedMatch");var oi=si,kf=oi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ci=/*#__PURE__*/function(oe){function ci(e){var _this;return _class_call_check(this,ci),(_this=_call_super(this,ci,[e])).name="OpponentIdNotValid",_this.message=null!=e?e:"Opponent id is not valid",_this}return _inherits(ci,oe),ci}(oe);a(ci,"OpponentIdNotValid");var ii=ci,X=ii;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var di=/*#__PURE__*/function(Error1){function di(e){var _this;return _class_call_check(this,di),(_this=_call_super(this,di,[e])).name="PlayerNotCurrentInMatch",_this.message=null!=e?e:"The player is not currently in this match",_this}return _inherits(di,Error1),di}(_wrap_native_super(Error));a(di,"PlayerNotCurrentInMatch");var li=di,Nt=li;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var pi=/*#__PURE__*/function(Error1){function pi(e){var _this;return _class_call_check(this,pi),(_this=_call_super(this,pi,[e])).name="PlayerNotFinishedMatch",_this.message=e||"Player not finished match",_this}return _inherits(pi,Error1),pi}(_wrap_native_super(Error));a(pi,"PlayerNotFinishedMatch");var ui=pi,mn=ui,lv=Ludex.Dtos,_Ludex_Utils22=Ludex.Utils,dv=_Ludex_Utils22.Object,hi=/*#__PURE__*/function(M){function hi(){return _class_call_check(this,hi),_call_super(this,hi,arguments)}return _inherits(hi,M),_create_class(hi,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(hi.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.U(e),[4,this.We(e)];case 1:return t=_state.sent(),r=new lv.Match.Data(t).toObject(),this.nn(e,r),this.O(e,r),this.ln(e),this.ze(e),this.pa(e),[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"U",value:function U(e){if("string"!=typeof e.id)throw new ie}},{key:"ln",value:function ln(e){if(e.status!==Y.ACTIVE)throw new pn}},{key:"nn",value:function nn(e,t){var r=e.id,o=e.customData,w=t._id,I=t.whitePlayerId,D=t.blackPlayerId;if("string"!=typeof w||w!==r)throw new Ot;var E=o.playerId,S=I===E,b=D===E;if(!S&&D===he.playerId)throw new Tt;if(!S&&!b)throw new Nt}},{key:"ze",value:function ze(e){var t=e.profiles,o=e.customData.playerId;if("string"!=typeof o)throw new B;if(!t[o].finished)throw new mn}},{key:"pa",value:function pa(e){var t=e.profiles,o=e.customData.opponentId;if("string"!=typeof o)throw new X;if(t[o].finished)throw new kf}},{key:"We",value:function We(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){return[2,(t=e.id)?this.te.api.getMatchAPI().getMatchDetailByIdAsync(t):{}]})}).call(this)}},{key:"O",value:function O(e,t){this.k(e,t),this.F(e,t),this.j(e),this.pe(e,t)}},{key:"k",value:function k(e,t){var r=t.status,o=t.extraData;e.status=r,e.customData=dv.merge(e.customData,o)}},{key:"F",value:function F(e,t){var r=t.whitePlayerId,o=t.blackPlayerId,w=r===e.customData.playerId;e.customData.playerId=w?r:o,e.customData.opponentId=w?o:r}},{key:"j",value:function j(e){var _e_customData=e.customData,t=_e_customData.playerId,r=_e_customData.opponentId;if(t&&r){var o={name:"",photo:"",finished:!1};e.profiles[t]||(e.profiles[t]=N({id:t},o)),e.profiles[r]||(e.profiles[r]=N({id:r},o))}}},{key:"pe",value:function pe(e,t){var _e_customData=e.customData,r=_e_customData.playerId,o=_e_customData.opponentId;if(r&&o){var w=t.whitePlayerId,I=t.whitePlayerScore,D=t.whitePlayerFinish,E=t.blackPlayerScore,S=t.blackPlayerFinish,b=w===r;e.profiles[r].score=b?I:E,e.profiles[o].score=b?E:I,e.profiles[r].finished=b?D:S,e.profiles[o].finished=b?S:D}}}]),hi}(M);a(hi,"AwaitMatchHandler");var mi=hi,Gf=mi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var uv={level:1,rescued:0,contextId:null,playerId:null,opponentId:null,tournamentId:null,leaderboardId:null},Rt=uv,yi=/*#__PURE__*/function(M){function yi(e,t){var _this;return _class_call_check(this,yi),_define_property(_this=_call_super(this,yi,[e]),"e",void 0),_this.e=t,_this}return _inherits(yi,M),_create_class(yi,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(yi.prototype),"processAsync",_this)};return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.cn(e),[4,this.s(e)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"cn",value:function cn(e){var _this_e=this.e,t=_this_e.id,r=_this_e.mode,o=_this_e.customData;e.id=null!=t?t:null,e.mode=r||null,e.status=Y.OPEN,e.startAt=0,e.finishAt=0,e.profiles={},e.customData=N(N(N({},Rt),e.customData),o)}}]),yi}(M);a(yi,"PrepareMatchHandler");var fi=yi,J=fi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var pv=le,Oe=pv;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Pi=/*#__PURE__*/function(Error1){function Pi(e){var _this;return _class_call_check(this,Pi),(_this=_call_super(this,Pi,[e])).name="UnavailableFeature",_this.message="Unavailable feature: ".concat(e),_this}return _inherits(Pi,Error1),Pi}(_wrap_native_super(Error));a(Pi,"UnavailableFeature");var gi=Pi,K=gi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var wi=/*#__PURE__*/function(oe){function wi(e){var _this;return _class_call_check(this,wi),(_this=_call_super(this,wi,[e])).name="ContextIdNotValid",_this.message=null!=e?e:"Context id is not valid",_this}return _inherits(wi,oe),wi}(oe);a(wi,"ContextIdNotValid");var xi=wi,te=xi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ai=/*#__PURE__*/function(oe){function Ai(e){var _this;return _class_call_check(this,Ai),(_this=_call_super(this,Ai,[e])).name="ProfileNotFound",_this.message=null!=e?e:"Profile not found",_this}return _inherits(Ai,oe),Ai}(oe);a(Ai,"ProfileNotFound");var $i=Ai,H=$i,bi=/*#__PURE__*/function(M){function bi(){return _class_call_check(this,bi),_call_super(this,bi,arguments)}return _inherits(bi,M),_create_class(bi,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(bi.prototype),"processAsync",_this)};return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.o(e),[4,this.dn(e)];case 1:return(t=_state.sent())&&this.ye(e,t),[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"o",value:function o(e){var t=e.id,r=e.customData,o=r.contextId,w=r.opponentId;if(!t||"string"!=typeof t)throw new ie;if(!o||"string"!=typeof o)throw new te;if(!w||"string"!=typeof w)throw new X}},{key:"dn",value:function dn(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,tmp,b,_,tmp1,C,_tmp,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,4,,5]),t=this.r.frameCapture,r=e.profiles,w=(o=e.customData).playerId,I=o.opponentId,!w||!I||(D=r[w],E=r[I],!D||!E)||(S=D.photo,b=void 0===(tmp=D.score)?0:tmp,!D.finished))return[2,null];if(_=E.photo,C=void 0===(tmp1=E.score)?0:tmp1,!E.finished)return[3,1];return _tmp=null,[3,3];case 1:return[4,t.renderAsync("result-challenge",{playerId:w,playerPhoto:S,playerScore:b,opponentId:I,opponentPhoto:_,opponentScore:C,isPlayerFinished:!0,isOpponentFinished:!1})];case 2:_tmp=_state.sent(),_state.label=3;case 3:return[2,_tmp];case 4:return e1=_state.sent(),[2,null];case 5:return[2]}})}).call(this)}},{key:"ye",value:function ye(e,t){return _async_to_generator(function(){var r,o,w,I,D,E,S,b;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(r=e.id,o=e.profiles,I=(w=e.customData).playerId,D=w.opponentId,!I||"string"!=typeof I)throw new B;if(!("updateAsync"in GameSDK.extra))throw new K("updateAsync");if(!(E=o[I]))throw new H;return S=E.name,b={data:{type:Oe.CHALLENGE_FRIEND,matchId:r,playerId:I,opponentId:D},action:"CUSTOM",template:"challenge",cta:{default:"Play",localizations:{vi_VN:"Chi ngay"}},text:{default:"".concat(S," is waiting for you to finish this game. Play now!"),localizations:{vi_VN:"".concat(S," ang ch bn kt th\xfac trn u. Chi ngay!")}},image:t,strategy:"LAST",notification:"PUSH"},[4,GameSDK.extra.updateAsync(b)];case 1:return _state.sent(),[2]}})})()}}]),bi}(M);a(bi,"SendAwaitingMessageHandler");var vi=bi,Ff=vi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var mv=Ludex.Dtos,Di=/*#__PURE__*/function(M){function Di(){return _class_call_check(this,Di),_call_super(this,Di,arguments)}return _inherits(Di,M),_create_class(Di,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Di.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,r,o,w,I,D;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.o(e),r=(t=e.customData).playerId,o=t.opponentId,w=r,[4,this.ls(w)];case 1:if(!(I=_state.sent()))throw new H;if(this.ya(e,w,I),(w=o)===he.playerId)return[3,3];return[4,this.ls(w)];case 2:if(!(D=_state.sent()))throw new H;return this.ya(e,w,D),[3,4];case 3:this.ya(e,w),_state.label=4;case 4:return[4,this.s(e)];case 5:return _state.sent(),[2]}})}).call(this)}},{key:"o",value:function o(e){var t=e.customData,r=t.playerId,o=t.opponentId;if(!r||"string"!=typeof r)throw new B;if(!o||"string"!=typeof o)throw new X}},{key:"ls",value:function ls(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,(t=this.r.profile).requestProfiles([e])];case 1:return[2,(_state.sent(),t.getProfiles()[e])]}})}).call(this)}},{key:"ya",value:function ya(e,t,r){var _ref=null!=r?r:he,o=_ref.name,w=_ref.photo,I=new mv.Match.Profile({id:t,name:o,photo:w}).toObject();e.profiles[t]?(e.profiles[t].name=I.name,e.profiles[t].photo=I.photo):e.profiles[t]=I}}]),Di}(M);a(Di,"GetMatchProfilesHandler");var Si=Di,ge=Si,Ei=/*#__PURE__*/function(G){function Ei(){return _class_call_check(this,Ei),_call_super(this,Ei,arguments)}return _inherits(Ei,G),_create_class(Ei,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,b,L,_;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.matchId,r=e.playerId,o=e.opponentId,w=new F(this),I=new J(this,{id:t,mode:q.CHALLENGE_FRIEND,customData:{playerId:r,opponentId:o}}),w.setNext(I),D=new Gf(this),I.setNext(D),E=new ge(this),D.setNext(E),S=new Ff(this),E.setNext(S),b=new Z(this),S.setNext(b),L=new U(this),b.setNext(L),_=this.match.getMatchState(),[4,w.processAsync(_)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),Ei}(G);a(Ei,"AwaitChallengeMatchConcrete");var Ii=Ei,Bf=Ii;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ci=/*#__PURE__*/function(oe){function Ci(e){var _this;return _class_call_check(this,Ci),(_this=_call_super(this,Ci,[e])).name="CreateContextFailed",_this.message=null!=e?e:"Create context failed",_this}return _inherits(Ci,oe),Ci}(oe);a(Ci,"CreateContextFailed");var Li=Ci,_t=Li,_Ludex_Utils23=Ludex.Utils,Uf=_Ludex_Utils23.Valid,Vf=_Ludex_Utils23.Object,Mi=/*#__PURE__*/function(M){function Mi(e,t){var _this;return _class_call_check(this,Mi),_define_property(_this=_call_super(this,Mi,[e]),"e",void 0),_this.e=t,_this}return _inherits(Mi,M),_create_class(Mi,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Mi.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),t=this.e.opponentId,[4,this.hn(t)];case 1:return r=_state.sent(),e.customData.contextId=r,[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"hn",value:function hn(e){return _async_to_generator(function(){var r,t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,GameSDK.context.createAsync(e)];case 1:return _state.sent(),[3,3];case 2:return r=_state.sent(),this.un(r),[3,3];case 3:if(t=GameSDK.context.getID(),!Uf.isString(t))throw new _t;return[2,t]}})}).call(this)}},{key:"un",value:function un(e){if(!Vf.hasOwn(e,"code"))throw e;if("SAME_CONTEXT"!==e.code){if("INVALID_PARAM"===e.code){if(!this.pn(e))throw e;return}throw e}}},{key:"yn",value:function yn(e){if(!Vf.hasOwn(e,"message")||!Uf.isString(e.message))throw e}},{key:"pn",value:function pn(e){return this.yn(e),e.message.indexOf("is not a connected player of the current player")>-1}}]),Mi}(M);a(Mi,"CreateContextHandler");var Ti=Mi,Kf=Ti;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ni=/*#__PURE__*/function(oe){function Ni(e){var _this;return _class_call_check(this,Ni),(_this=_call_super(this,Ni,[e])).name="MatchAreNotOpen",_this.message=null!=e?e:"Match are not open",_this}return _inherits(Ni,oe),Ni}(oe);a(Ni,"MatchAreNotOpen");var Oi=Ni,rt=Oi,hv=Ludex.Dtos,_Ludex_Utils24=Ludex.Utils,fv=_Ludex_Utils24.Object,_i=/*#__PURE__*/function(M){function _i(e,t){var _this;return _class_call_check(this,_i),_define_property(_this=_call_super(this,_i,[e]),"e",void 0),_this.e=t,_this}return _inherits(_i,M),_create_class(_i,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(_i.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.o(e),[4,this.mn(e)];case 1:return t=_state.sent(),r=new hv.Match.Data(t).toObject(),this.ma(e,r),[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"o",value:function o(e){var t=e.status;if("string"!=typeof e.customData.opponentId)throw new X;if(t!==Y.OPEN)throw new rt}},{key:"mn",value:function mn(e){return _async_to_generator(function(){var t,r,o;return _ts_generator(this,function(_state){return(t=e.customData.opponentId,r=this.e.extraData,t)?(o={opponentPlayerId:t,extraData:r},[2,this.te.api.getMatchAPI().createMatchAsync(o)]):[2,{}]})}).call(this)}},{key:"ma",value:function ma(e,t){this.k(e,t),this.F(e,t),this.j(e),this.gn(e,t)}},{key:"k",value:function k(e,t){var r=t._id,o=t.extraData;e.id=r||null,e.customData=fv.merge(e.customData,o)}},{key:"F",value:function F(e,t){var r=t.whitePlayerId,o=t.blackPlayerId,I=r===e.customData.opponentId,D=I?o:r,E=I?r:o;e.customData.playerId=D,e.customData.opponentId=E}},{key:"j",value:function j(e){var _e_customData=e.customData,t=_e_customData.playerId,r=_e_customData.opponentId;if(t&&r){var o={name:"",photo:"",finished:!1};e.profiles[t]||(e.profiles[t]=N({id:t},o)),e.profiles[r]||(e.profiles[r]=N({id:r},o))}}},{key:"gn",value:function gn(e,t){var _e_customData=e.customData,r=_e_customData.playerId,o=_e_customData.opponentId;if(r&&o){var w=t.whitePlayerId,I=t.whitePlayerFinish,D=t.blackPlayerFinish,E=w===e.customData.opponentId,S=E?D:I,b=E?I:D;e.profiles[r].finished=S,e.profiles[o].finished=b}}}]),_i}(M);a(_i,"CreateMatchHandler");var Ri=_i,hn=Ri;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Gi=/*#__PURE__*/function(M){function Gi(){return _class_call_check(this,Gi),_call_super(this,Gi,arguments)}return _inherits(Gi,M),_create_class(Gi,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Gi.prototype),"processAsync",_this)};return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_superprop_get_processAsync().call(_this1,e),e.status!==Y.OPEN)throw new rt;return this.wn(e),[4,this.s(e)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"wn",value:function wn(e){e.status=Y.ACTIVE,e.startAt=Date.now()}}]),Gi}(M);a(Gi,"StartMatchHandler");var ki=Gi,re=ki;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Bi=/*#__PURE__*/function(M){function Bi(){return _class_call_check(this,Bi),_call_super(this,Bi,arguments)}return _inherits(Bi,M),_create_class(Bi,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Bi.prototype),"processAsync",_this)};return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.o(e),[4,this.xn(e)];case 1:return(t=_state.sent())&&this.ye(e,t),[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"o",value:function o(e){var t=e.id,r=e.customData,o=r.contextId,w=r.opponentId;if(!t||"string"!=typeof t)throw new ie;if(!o||"string"!=typeof o)throw new te;if(!w||"string"!=typeof w)throw new X}},{key:"xn",value:function xn(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,tmp,b,L,tmp1,_,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),t=this.r.frameCapture,r=e.profiles,w=(o=e.customData).playerId,I=o.opponentId,!w||!I||(D=r[w],E=r[I],!D||!E))return[2,null];return S=D.photo,b=void 0===(tmp=D.score)?0:tmp,L=E.photo,_=void 0===(tmp1=E.score)?0:tmp1,[4,t.renderAsync("result-challenge",{playerId:w,playerPhoto:S,playerScore:b,opponentId:I,opponentPhoto:L,opponentScore:_,isPlayerFinished:!1,isOpponentFinished:!1})];case 1:return[2,_state.sent()];case 2:return e1=_state.sent(),[2,null];case 3:return[2]}})}).call(this)}},{key:"ye",value:function ye(e,t){return _async_to_generator(function(){var r,o,w,I,D,E,S;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(r=e.id,o=e.profiles,I=(w=e.customData).playerId,D=w.opponentId,!I||"string"!=typeof I)throw new B;if(!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return E=o[I].name,S={data:{type:Oe.CHALLENGE_FRIEND,matchId:r,playerId:I,opponentId:D},action:"CUSTOM",template:"challenge",cta:{default:"Play",localizations:{vi_VN:"Chi ngay"}},text:{default:"".concat(E," challenges you"),localizations:{vi_VN:"".concat(E," th th\xe1ch bn trong trn u n\xe0y. Chi ngay!")}},image:t,strategy:"IMMEDIATE",notification:"PUSH"},[4,GameSDK.extra.updateAsync(S)];case 1:return _state.sent(),[2]}})})()}}]),Bi}(M);a(Bi,"SendChallengeMessageHandler");var Fi=Bi,fn=Fi,Vi=/*#__PURE__*/function(G){function Vi(){return _class_call_check(this,Vi),_call_super(this,Vi,arguments)}return _inherits(Vi,G),_create_class(Vi,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,b,L,_,C,R;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.playerId,r=e.opponentId,o=e.extraData,w=new F(this),I=new Kf(this,{opponentId:r}),w.setNext(I),D=new J(this,{mode:q.CHALLENGE_FRIEND,customData:{playerId:t,opponentId:r}}),I.setNext(D),E=new hn(this,{extraData:o}),D.setNext(E),S=new ge(this),E.setNext(S),b=new re(this),S.setNext(b),L=new Z(this),b.setNext(L),_=new fn(this),L.setNext(_),C=new U(this),_.setNext(C),R=this.match.getMatchState(),[4,w.processAsync(R)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),Vi}(G);a(Vi,"ChallengeFriendConcrete");var Ui=Vi,Hf=Ui;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ji=/*#__PURE__*/function(Error1){function ji(e){var _this;return _class_call_check(this,ji),(_this=_call_super(this,ji,[e])).name="ContextNotValid",_this.message=null!=e?e:"Context is not valid",_this}return _inherits(ji,Error1),ji}(_wrap_native_super(Error));a(ji,"ContextNotValid");var Ki=ji,Hi=Ki;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var zi=/*#__PURE__*/function(Error1){function zi(e){var _this;return _class_call_check(this,zi),(_this=_call_super(this,zi,[e])).name="SameContext",_this.message=null!=e?e:"Same context",_this}return _inherits(zi,Error1),zi}(_wrap_native_super(Error));a(zi,"SameContext");var Wi=zi,yn=Wi,jf=Ludex.Utils,Yi=/*#__PURE__*/function(M){function Yi(e,t){var _this;return _class_call_check(this,Yi),_define_property(_this=_call_super(this,Yi,[e]),"e",void 0),_this.e=t,_this}return _inherits(Yi,M),_create_class(Yi,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Yi.prototype),"processAsync",_this)};return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),t=this.e.contextId,[4,this.An(t)];case 1:return _state.sent(),e.customData.contextId=t,[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"ge",value:function ge(e){var t="SOLO"===e,r=GameSDK.context.getID();if(r===e||t&&null===r)throw new yn}},{key:"vn",value:function vn(e){var t=GameSDK.context.getID();if("SOLO"===e&&(null!==t||""!==t))throw new Hi}},{key:"An",value:function An(e){return _async_to_generator(function(){var t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:t="SOLO"===e,_state.label=1;case 1:return _state.trys.push([1,3,,4]),this.ge(e),this.vn(e),[4,GameSDK.context.switchAsync(e,t)];case 2:return _state.sent(),[3,4];case 3:if(_instanceof(r=_state.sent(),yn)||_instanceof(r,Hi))return[2];if(!jf.Object.hasOwn(r,"code"))throw r;if(jf.Device.isAndroid()&&t&&"INVALID_PARAM"===r.code)return[2];if("SAME_CONTEXT"!==r.code)throw r;return[3,4];case 4:return[2]}})}).call(this)}}]),Yi}(M);a(Yi,"SwitchContextHandler");var qi=Yi,nt=qi;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var yv=Ludex.Dtos,_Ludex_Utils25=Ludex.Utils,gv=_Ludex_Utils25.Object,Qi=/*#__PURE__*/function(M){function Qi(){return _class_call_check(this,Qi),_call_super(this,Qi,arguments)}return _inherits(Qi,M),_create_class(Qi,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Qi.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.U(e),[4,this.We(e)];case 1:return t=_state.sent(),r=new yv.Match.Data(t).toObject(),this.Pn(e,r),this.O(e,r),this.ze(e),[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"U",value:function U(e){var t=e.id,r=e.status;if("string"!=typeof t)throw new ie;if(r!==Y.OPEN)throw new rt}},{key:"Pn",value:function Pn(e,t){var r=e.id,o=e.customData,w=t._id,I=t.whitePlayerId,D=t.blackPlayerId;if("string"!=typeof w||w!==r)throw new Ot;var E=o.playerId,S=I===E,b=D===E;if(!S&&D===he.playerId)throw new Tt;if(!S&&!b)throw new Nt}},{key:"ze",value:function ze(e){var t=e.profiles,o=e.customData.playerId;if("string"!=typeof o)throw new B;if(t[o].finished)throw new tn}},{key:"We",value:function We(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){return[2,(t=e.id)?this.te.api.getMatchAPI().getMatchDetailByIdAsync(t):{}]})}).call(this)}},{key:"O",value:function O(e,t){this.k(e,t),this.F(e,t),this.j(e),this.pe(e,t)}},{key:"k",value:function k(e,t){var r=t.extraData;e.customData=gv.merge(e.customData,r)}},{key:"F",value:function F(e,t){var r=t.whitePlayerId,o=t.blackPlayerId,w=r===e.customData.playerId;e.customData.playerId=w?r:o,e.customData.opponentId=w?o:r}},{key:"j",value:function j(e){var _e_customData=e.customData,t=_e_customData.playerId,r=_e_customData.opponentId;if(t&&r){var o={name:"",photo:"",finished:!1};e.profiles[t]||(e.profiles[t]=N({id:t},o)),e.profiles[r]||(e.profiles[r]=N({id:r},o))}}},{key:"pe",value:function pe(e,t){var _e_customData=e.customData,r=_e_customData.playerId,o=_e_customData.opponentId;if(r&&o){var w=t.whitePlayerId,I=t.whitePlayerScore,D=t.whitePlayerFinish,E=t.blackPlayerScore,S=t.blackPlayerFinish,b=w===r;e.profiles[r].score=b?I:E,e.profiles[o].score=b?E:I,e.profiles[r].finished=b?D:S,e.profiles[o].finished=b?S:D}}}]),Qi}(M);a(Qi,"ContinueMatchHandler");var Ji=Qi,Wf=Ji;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Zi=/*#__PURE__*/function(M){function Zi(e,t){var _this;return _class_call_check(this,Zi),_define_property(_this=_call_super(this,Zi,[e]),"e",void 0),_this.e=t,_this}return _inherits(Zi,M),_create_class(Zi,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Zi.prototype),"processAsync",_this)};return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_superprop_get_processAsync().call(_this1,e),!this.e.ignore)return[3,2];return[4,this.s(e)];case 1:case 4:return _state.sent(),[2];case 2:return this.o(e),[4,this.In(e)];case 3:return(t=_state.sent())&&this.ye(e,t),[4,this.s(e)]}})}).call(this)}},{key:"o",value:function o(e){var t=e.id,r=e.customData,o=r.contextId,w=r.opponentId;if(!t||"string"!=typeof t)throw new ie;if(!o||"string"!=typeof o)throw new te;if(!w||"string"!=typeof w)throw new X}},{key:"In",value:function In(e){return _async_to_generator(function(){var _this_r,t,r,_t_getPlayer,o,w,I,D,E,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),t=(_this_r=this.r).player,r=_this_r.frameCapture,o=(_t_getPlayer=t.getPlayer()).playerId,w=_t_getPlayer.photo,null==(I=e.customData.opponentId)||!(D=e.profiles[I]))return[2,null];return E=D.photo,[4,r.renderAsync("update-challenge",{playerId:o,playerPhoto:w,opponentId:I,opponentPhoto:E})];case 1:return[2,_state.sent()];case 2:return e1=_state.sent(),[2,null];case 3:return[2]}})}).call(this)}},{key:"ye",value:function ye(e,t){return _async_to_generator(function(){var r,o,w,I,D,E,S,b;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(r=e.id,o=e.profiles,I=(w=e.customData).playerId,D=w.opponentId,!I||"string"!=typeof I)throw new B;if(!("updateAsync"in GameSDK.extra))throw new K("updateAsync");if(!(E=o[I]))throw new H;if(S=E.name,b={data:{type:Oe.CHALLENGE_FRIEND,matchId:r,playerId:I,opponentId:D},action:"CUSTOM",template:"challenge",cta:{default:"Play",localizations:{vi_VN:"Chi ngay"}},text:{default:"".concat(S," made an update."),localizations:{vi_VN:"".concat(S," \xe3 cp nht trn u. Chi ngay!")}},image:t,strategy:"LAST",notification:"PUSH"},!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return[4,GameSDK.extra.updateAsync(b)];case 1:return _state.sent(),[2]}})})()}}]),Zi}(M);a(Zi,"SendUpdateMessageHandler");var Xi=Zi,zf=Xi,tc=/*#__PURE__*/function(G){function tc(){return _class_call_check(this,tc),_call_super(this,tc,arguments)}return _inherits(tc,G),_create_class(tc,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,tmp,I,D,E,S,b,L,_,C,R,z,$;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.contextId,r=e.matchId,o=e.playerId,w=e.opponentId,I=void 0===(tmp=e.sendUpdateMessage)||tmp,D=new F(this),E=new nt(this,{contextId:t}),D.setNext(E),S=new J(this,{id:r,mode:q.CHALLENGE_FRIEND,customData:{playerId:o,opponentId:w}}),E.setNext(S),b=new Wf(this),S.setNext(b),L=new ge(this),b.setNext(L),_=new re(this),L.setNext(_),C=new zf(this,{ignore:!I}),_.setNext(C),R=new Z(this),C.setNext(R),z=new U(this),R.setNext(z),$=this.match.getMatchState(),[4,D.processAsync($)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),tc}(G);a(tc,"ContinueChallengeMatchConcrete");var ec=tc,qf=ec;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Plugins2=Ludex.Plugins,tmp1=_Ludex_Plugins2.Analytics,_ref1=void 0===tmp1?{}:tmp1,Yf=_ref1.Events,_Ludex_Utils26=Ludex.Utils,Jf=_Ludex_Utils26.String,Qf=_Ludex_Utils26.Valid,nc=/*#__PURE__*/function(M){function nc(){return _class_call_check(this,nc),_call_super(this,nc,arguments)}return _inherits(nc,M),_create_class(nc,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(nc.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,r,o,w,I,D,E;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),t=e.customData,r=e.mode,o=e.startAt,w=e.finishAt,I=t.level,this.Ve(r),this.ha(I),D=Math.floor((w-o)/1e3),E=this.r.analytics,Yf&&E.event(Yf.MATCH_END,{level:I,game_mode:Jf.toUpperCamelCase(r),level_name:this.ua(I),time_played:D}),[4,this.s(e)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"Ve",value:function Ve(e){if(!Qf.isString(e))throw new Mt}},{key:"ha",value:function ha(e){if(!Qf.isNumber(e))throw new un}},{key:"ua",value:function ua(e){return"Level ".concat(Jf.padStart(e.toString(),5,"0"))}}]),nc}(M);a(nc,"LogMatchFinishedHandler");var rc=nc,Ue=rc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var oc=/*#__PURE__*/function(Error1){function oc(e){var _this;return _class_call_check(this,oc),(_this=_call_super(this,oc,[e])).name="LeaderboardNotExist",_this.message=null!=e?e:"Leaderboard not exist in game",_this}return _inherits(oc,Error1),oc}(_wrap_native_super(Error));a(oc,"LeaderboardNotExist");var ac=oc,gn=ac;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var ic=/*#__PURE__*/function(Error1){function ic(e){var _this;return _class_call_check(this,ic),(_this=_call_super(this,ic,[e])).name="ScoreNotValid",_this.message=null!=e?e:"Score is not valid",_this}return _inherits(ic,Error1),ic}(_wrap_native_super(Error));a(ic,"ScoreNotValid");var sc=ic,kt=sc,_Ludex_Utils27=Ludex.Utils,Pv=_Ludex_Utils27.Valid,_Ludex_Configs7=Ludex.Configs,_Ludex_Configs_Leaderboards=_Ludex_Configs7.Leaderboards,xv=_Ludex_Configs_Leaderboards.LeaderboardList,lc=/*#__PURE__*/function(M){function lc(e,t){var _this;return _class_call_check(this,lc),_define_property(_this=_call_super(this,lc,[e]),"e",void 0),_define_property(_this,"cs",void 0),_this.e={score:0,playerId:""},_this.cs=!!(null==t?void 0:t.ignore),_this}return _inherits(lc,M),_create_class(lc,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(lc.prototype),"processAsync",_this)};return _async_to_generator(function(){var _tmp,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,t,r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_superprop_get_processAsync().call(_this1,e),!this.cs)return[3,2];return[4,this.s(e)];case 1:return _state.sent(),[2];case 2:if(this.Ye(e),!(_tmp="submitGameResultsAsync"in GameSDK.extra))return[3,4];return[4,GameSDK.extra.submitGameResultsAsync(this.e.score)];case 3:_tmp=_state.sent(),_state.label=4;case 4:_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(_iterator=xv[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)r=(t=_step.value).Id,o=t.Mode,e.mode&&this.Dn(o,e.mode)&&this.fa(N({leaderboardId:r},this.e))}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return[4,this.s(e)];case 5:return _state.sent(),[2]}})}).call(this)}},{key:"Dn",value:function Dn(e,t){return e===t}},{key:"Ye",value:function Ye(e){return _async_to_generator(function(){var t,o,w;return _ts_generator(this,function(_state){if(t=e.profiles,!(o=e.customData.playerId)||!t[o])throw new H;if(w=t[o].score,!Pv.isNumber(w))throw new kt;return this.e={score:w,playerId:o},[2]})}).call(this)}},{key:"fa",value:function fa(e){return _async_to_generator(function(){var t,r,o,w,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),t=e.playerId,r=e.score,o=e.leaderboardId,!(w=this.r.leaderboard.getLeaderboardName(o)))throw new gn;return[4,this.r.leaderboard.setLeaderboardScoreAsync(w,t,r)];case 1:return _state.sent(),[3,3];case 2:return e1=_state.sent(),[3,3];case 3:return[2]}})}).call(this)}}]),lc}(M);a(lc,"PostGlobalLeaderboardsScoreHandler");var cc=lc,at=cc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var wv=Ludex.Dtos,$v=Ludex.Utils,Pn=$v.Valid,Av=$v.Object,uc=/*#__PURE__*/function(M){function uc(e,t){var _this;return _class_call_check(this,uc),_define_property(_this=_call_super(this,uc,[e]),"e",void 0),_this.e=t,_this}return _inherits(uc,M),_create_class(uc,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(uc.prototype),"processAsync",_this)};return _async_to_generator(function(){var r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_superprop_get_processAsync().call(_this1,e),this.U(e),!this.e.useAPI)return[3,2];return[4,this.En(e)];case 1:return r=_state.sent(),o=new wv.Match.Data(r).toObject(),this.Sn(e,o),[3,3];case 2:this.O(e),_state.label=3;case 3:return this.ma(e),[4,this.s(e)];case 4:return _state.sent(),[2]}})}).call(this)}},{key:"U",value:function U(e){var t=e.status,r=e.profiles,o=e.customData;if(t!==Y.ACTIVE)throw new pn;var w=o.playerId;if(!w||!Av.hasOwn(r,w))throw new Nt}},{key:"O",value:function O(e){var t=e.customData.playerId;if(!Pn.isString(t))throw new B;e.profiles[t].finished=!0}},{key:"ma",value:function ma(e){e.status=Y.FINISHED,e.finishAt=Date.now()}},{key:"En",value:function En(e){return _async_to_generator(function(){var t,r,o,w,I,S;return _ts_generator(this,function(_state){if(t=e.id,r=e.profiles,w=(o=e.customData).level,I=o.playerId,!Pn.isString(I))throw new B;return S={matchId:null!=t?t:"",score:r[I].score,level:w,extraData:this.e.extraData},[2,this.te.api.getMatchAPI().finishMatchAsync(S)]})}).call(this)}},{key:"Sn",value:function Sn(e,t){var _e_customData=e.customData,r=_e_customData.playerId,o=_e_customData.opponentId;if(!Pn.isString(r))throw new B;if(!Pn.isString(o))throw new X;var w=t.whitePlayerId,I=t.whitePlayerScore,D=t.blackPlayerScore,E=t.whitePlayerFinish,S=t.blackPlayerFinish,b=r===w,L=b?I:D,_=b?D:I,C=b?E:S,R=b?S:E;e.profiles[r].score=L,e.profiles[o].score=_,e.profiles[r].finished=C,e.profiles[o].finished=R}}]),uc}(M);a(uc,"FinishMatchHandler");var dc=uc,Ve=dc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var mc=/*#__PURE__*/function(M){function mc(){return _class_call_check(this,mc),_call_super(this,mc,arguments)}return _inherits(mc,M),_create_class(mc,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(mc.prototype),"processAsync",_this)};return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.o(e),[4,this.bn(e)];case 1:return(t=_state.sent())&&this.Ln(e,t),[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"o",value:function o(e){var t=e.id,r=e.customData,o=r.contextId,w=r.opponentId;if(!t||"string"!=typeof t)throw new ie;if(!o||"string"!=typeof o)throw new te;if(!w||"string"!=typeof w)throw new X}},{key:"bn",value:function bn(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,tmp,b,L,_,tmp1,C,R,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),t=this.r.frameCapture,r=e.profiles,w=(o=e.customData).playerId,I=o.opponentId,!w||!I||(D=r[w],E=r[I],!D||!E))return[2,null];return S=D.photo,b=void 0===(tmp=D.score)?0:tmp,L=D.finished,_=E.photo,C=void 0===(tmp1=E.score)?0:tmp1,R=E.finished,[4,t.renderAsync("result-challenge",{playerId:w,playerPhoto:S,playerScore:b,opponentId:I,opponentPhoto:_,opponentScore:C,isPlayerFinished:!!L,isOpponentFinished:!!R})];case 1:return[2,_state.sent()];case 2:return e1=_state.sent(),[2,null];case 3:return[2]}})}).call(this)}},{key:"Ln",value:function Ln(e,t){var r=e.profiles,o=e.customData,w=o.playerId,I=o.opponentId;if(!w||"string"!=typeof w)throw new B;if(!I||"string"!=typeof I)throw new X;if(!r[w]||!r[I])throw new H;var _r_w=r[w],tmp=_r_w.score,D=void 0===tmp?0:tmp,E=_r_w.finished,_r_I=r[I],tmp1=_r_I.score,S=void 0===tmp1?0:tmp1,b=_r_I.finished;E?this.On(e,t):b&&D>S?this.ga(e,t):this.Nn(e,t)}},{key:"On",value:function On(e,t){return _async_to_generator(function(){var r,o,w,I,D,E,S,b;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(r=e.id,o=e.profiles,I=(w=e.customData).playerId,D=w.opponentId,!I||"string"!=typeof I)throw new B;if(!("updateAsync"in GameSDK.extra))throw new K("updateAsync");if(!(E=o[I]))throw new H;if(S=E.name,b={data:{type:Oe.CHALLENGE_FRIEND,matchId:r,playerId:I,opponentId:D,status:Y.FINISHED},action:"CUSTOM",template:"finished",cta:{default:"See result",localizations:{vi_VN:"Xem kt qu"}},text:{default:"".concat(S," just finished. Check them now."),localizations:{vi_VN:"".concat(S," va ho\xe0n th\xe0nh m\xe0n chi. Nhn  xem kt qu trn u.")}},image:t,strategy:"IMMEDIATE",notification:"PUSH"},!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return[4,GameSDK.extra.updateAsync(b)];case 1:return _state.sent(),[2]}})})()}},{key:"Nn",value:function Nn(e,t){return _async_to_generator(function(){var r,o,w,I,D,E,S,b,L;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(r=e.id,o=e.profiles,I=(w=e.customData).playerId,D=w.opponentId,!I||"string"!=typeof I)throw new B;if(!(E=o[I]))throw new H;if(S=E.name,b=E.score,L={data:{type:Oe.CHALLENGE_FRIEND,matchId:r,playerId:I,opponentId:D,status:Y.ACTIVE},action:"CUSTOM",template:"finished",cta:{default:"Play",localizations:{vi_VN:"Chi ngay"}},text:{default:"".concat(S," got ").concat(b," scores. So easy! Can you?"),localizations:{vi_VN:"".concat(S," \xe3 t ").concat(b," im! Nhn Chi  so t\xe0i!")}},image:t,strategy:"IMMEDIATE",notification:"PUSH"},!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return[4,GameSDK.extra.updateAsync(L)];case 1:return _state.sent(),[2]}})})()}},{key:"ga",value:function ga(e,t){return _async_to_generator(function(){var r,o,w,I,D,E,S,b,L;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(r=e.id,o=e.profiles,I=(w=e.customData).playerId,D=w.opponentId,!I||"string"!=typeof I)throw new B;if(!(E=o[I]))throw new H;if(S=E.name,b=E.score,L={data:{type:Oe.CHALLENGE_FRIEND,matchId:r,playerId:I,opponentId:D,status:Y.FINISHED},action:"CUSTOM",template:"pass_score",cta:{default:"See result",localizations:{vi_VN:"Xem kt qu"}},text:{default:"".concat(S," beat your high score. Their score: ").concat(b),localizations:{vi_VN:"".concat(S," \xe3 vt qua im s ca bn, vi ").concat(b," im!")}},image:t,strategy:"IMMEDIATE",notification:"PUSH"},!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return[4,GameSDK.extra.updateAsync(L)];case 1:return _state.sent(),[2]}})})()}}]),mc}(M);a(mc,"SendFinishedMessageHandler");var pc=mc,Xf=pc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var fc=/*#__PURE__*/function(M){function fc(e,t){var _this;return _class_call_check(this,fc),_define_property(_this=_call_super(this,fc,[e]),"ds",void 0),_this.ds=!!(null==t?void 0:t.ignore),_this}return _inherits(fc,M),_create_class(fc,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(fc.prototype),"processAsync",_this)};return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this._n(e),[4,this.s(e)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"_n",value:function _n(e){if(!this.ds){var t=e.profiles,r=e.customData,o=r.playerId;if(!o||!t[o])throw new H;var _this_r=this.r,w=_this_r.player,I=w.getBestScore()||0,_t_o=t[o],tmp=_t_o.score,D=void 0===tmp?0:tmp;D<=I||(w.setBestScore(D),t[o].bestScore=D)}}}]),fc}(M);a(fc,"SetPlayerBestScoreHandler");var hc=fc,Ke=hc,gc=/*#__PURE__*/function(G){function gc(){return _class_call_check(this,gc),_call_super(this,gc,arguments)}return _inherits(gc,G),_create_class(gc,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,b;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=(null!=e?e:{}).extraData,r=new F(this),o=new Ve(this,{useAPI:!0,extraData:t}),r.setNext(o),w=new Xf(this),o.setNext(w),I=new Ue(this),w.setNext(I),D=new Ke(this),I.setNext(D),E=new at(this),D.setNext(E),S=new U(this),E.setNext(S),b=this.match.getMatchState(),[4,r.processAsync(b)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),gc}(G);a(gc,"FinishChallengeMatchConcrete");var yc=gc,Zf=yc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var xc=/*#__PURE__*/function(Error1){function xc(e){var _this;return _class_call_check(this,xc),(_this=_call_super(this,xc,[e])).name="ContextAreSolo",_this.message=null!=e?e:"Context are solo",_this}return _inherits(xc,Error1),xc}(_wrap_native_super(Error));a(xc,"ContextAreSolo");var Pc=xc,ey=Pc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var $c=/*#__PURE__*/function(Error1){function $c(e){var _this;return _class_call_check(this,$c),(_this=_call_super(this,$c,[e])).name="ContextNotChallenge",_this.message=null!=e?e:"Context is not a challenge",_this}return _inherits($c,Error1),$c}(_wrap_native_super(Error));a($c,"ContextNotChallenge");var wc=$c,ty=wc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var vc=/*#__PURE__*/function(Error1){function vc(e){var _this;return _class_call_check(this,vc),(_this=_call_super(this,vc,[e])).name="NetworkFailure",_this.message=null!=e?e:"Network failure",_this}return _inherits(vc,Error1),vc}(_wrap_native_super(Error));a(vc,"NetworkFailure");var Ac=vc,ry=Ac,vv=Ludex.Utils,bv=Ludex.Dtos,Sv=vv.Array,Dv=vv.Object,Sc=/*#__PURE__*/function(M){function Sc(e,t){var _this;return _class_call_check(this,Sc),_define_property(_this=_call_super(this,Sc,[e]),"e",void 0),_this.e=t,_this}return _inherits(Sc,M),_create_class(Sc,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Sc.prototype),"processAsync",_this)};return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.Tn(),[4,this.Cn()];case 1:return t=_state.sent(),e.customData.opponentId=t,[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"Tn",value:function Tn(){var e=GameSDK.context.getID();if("string"!=typeof e)throw new te;if("SOLO"===e)throw new ey}},{key:"Cn",value:function Cn(){return _async_to_generator(function(){var e,t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return e=this.e.ignoreId,[4,this.Rn([e])];case 1:if((t=_state.sent()).length>1)throw new ty;return r=he,[2,(1===t.length&&(r=t[0]),r.playerId)]}})}).call(this)}},{key:"Rn",value:function Rn(e){return _async_to_generator(function(){var _$t,r,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,o,w,I,D,t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,GameSDK.context.getPlayersAsync()];case 1:_$t=_state.sent(),r=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(_iterator=_$t[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)w=(o=_step.value).getID(),!(e.indexOf(w)>-1)&&(I=o.getName())&&(D=o.getPhoto(),r.push(new bv.Player.Info({playerId:w,name:I,photo:D}).toObject()))}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return[2,Sv.unique(r)];case 2:if(t=_state.sent(),Dv.hasOwn(t,"code")&&"NETWORK_FAILURE"===t.code)throw new ry;return[2,[]];case 3:return[2]}})})()}}]),Sc}(M);a(Sc,"GetOpponentChallengeContextHandler");var bc=Sc,xn=bc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ic=/*#__PURE__*/function(Error1){function Ic(e){var _this;return _class_call_check(this,Ic),(_this=_call_super(this,Ic,[e])).name="ContextIsTournament",_this.message=null!=e?e:"Context is a tournament",_this}return _inherits(Ic,Error1),Ic}(_wrap_native_super(Error));a(Ic,"ContextIsTournament");var Dc=Ic,ar=Dc,_Ludex_Utils28=Ludex.Utils,Iv=_Ludex_Utils28.Object,Lc=/*#__PURE__*/function(M){function Lc(){return _class_call_check(this,Lc),_call_super(this,Lc,arguments)}return _inherits(Lc,M),_create_class(Lc,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Lc.prototype),"processAsync",_this)};return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),[4,this.Mn()];case 1:return t=_state.sent(),[4,this.$n()];case 2:return _state.sent(),e.customData.contextId=t,[4,this.s(e)];case 3:return _state.sent(),[2]}})}).call(this)}},{key:"Mn",value:function Mn(){return _async_to_generator(function(){var t,e;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,GameSDK.context.chooseAsync({filters:["INCLUDE_EXISTING_CHALLENGES"],minSize:2,maxSize:2})];case 1:return _state.sent(),[3,3];case 2:if(t=_state.sent(),!Iv.hasOwn(t,"code")||"SAME_CONTEXT"!==t.code)throw t;return[3,3];case 3:if("string"!=typeof(e=GameSDK.context.getID()))throw new _t;return[2,e]}})})()}},{key:"$n",value:function $n(){return _async_to_generator(function(){var _tmp,e;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,4,,5]),!GameSDK.context.getID())return[2];if(!("getTournamentAsync"in GameSDK))return[3,2];return[4,GameSDK.getTournamentAsync()];case 1:return _state.sent(),_tmp=new ar,[3,3];case 2:_tmp=new K("getTournamentAsync"),_state.label=3;case 3:throw _tmp;case 4:if(_instanceof(e=_state.sent(),ar))throw e;return[3,5];case 5:return[2]}})})()}}]),Lc}(M);a(Lc,"ChooseContextHandler");var Ec=Lc,ny=Ec,Tc=/*#__PURE__*/function(G){function Tc(){return _class_call_check(this,Tc),_call_super(this,Tc,arguments)}return _inherits(Tc,G),_create_class(Tc,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,b,L,_,C,R;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.playerId,r=e.extraData,o=new F(this),w=new ny(this),o.setNext(w),I=new J(this,{mode:q.CHALLENGE_FRIEND,customData:{playerId:t}}),w.setNext(I),D=new xn(this,{ignoreId:t}),I.setNext(D),E=new hn(this,{extraData:r}),D.setNext(E),S=new ge(this),E.setNext(S),b=new re(this),S.setNext(b),L=new Z(this),b.setNext(L),_=new fn(this),L.setNext(_),C=new U(this),_.setNext(C),R=this.match.getMatchState(),[4,o.processAsync(R)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),Tc}(G);a(Tc,"InviteFriendsConcrete");var Cc=Tc,ay=Cc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Oc=/*#__PURE__*/function(Error1){function Oc(e){var _this;return _class_call_check(this,Oc),(_this=_call_super(this,Oc,[e])).name="JoinMatchFailed",_this.message=null!=e?e:"Join match failed",_this}return _inherits(Oc,Error1),Oc}(_wrap_native_super(Error));a(Oc,"JoinMatchFailed");var Mc=Oc,oy=Mc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Rc=/*#__PURE__*/function(Error1){function Rc(e){var _this;return _class_call_check(this,Rc),(_this=_call_super(this,Rc,[e])).name="MatchAreFinished",_this.message=null!=e?e:"Match are finished",_this}return _inherits(Rc,Error1),Rc}(_wrap_native_super(Error));a(Rc,"MatchAreFinished");var Nc=Rc,sy=Nc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var kc=/*#__PURE__*/function(Error1){function kc(e){var _this;return _class_call_check(this,kc),(_this=_call_super(this,kc,[e])).name="OtherPlayerHasJoinedMatch",_this.message=null!=e?e:"Other player has joined match",_this}return _inherits(kc,Error1),kc}(_wrap_native_super(Error));a(kc,"OtherPlayerHasJoinedMatch");var _c=kc,iy=_c,Ev=Ludex.Dtos,_Ludex_Utils29=Ludex.Utils,Lv=_Ludex_Utils29.Object,Fc=/*#__PURE__*/function(M){function Fc(){return _class_call_check(this,Fc),_call_super(this,Fc,arguments)}return _inherits(Fc,M),_create_class(Fc,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Fc.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.U(e),[4,this.Gn(e)];case 1:return t=_state.sent(),r=new Ev.Match.Data(t).toObject(),this.Un(e,r),this.O(e,r),[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"U",value:function U(e){if(e.status!==Y.OPEN)throw new rt}},{key:"Un",value:function Un(e,t){var r=e.id,o=e.customData,w=t._id,I=t.blackPlayerId,D=t.whitePlayerId,E=t.whitePlayerFinish,S=t.blackPlayerFinish,b=I===o.playerId,L=D===o.opponentId;if("string"!=typeof w||w!==r||!L)throw new oy;if(E&&S)throw new sy;if(!b)throw new iy}},{key:"Gn",value:function Gn(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){return[2,(t=e.id)?this.te.api.getMatchAPI().joinMatchAsync(t):{}]})}).call(this)}},{key:"O",value:function O(e,t){this.k(e,t),this.F(e,t),this.j(e),this.pe(e,t)}},{key:"k",value:function k(e,t){var r=t.extraData;e.customData=Lv.merge(e.customData,r)}},{key:"F",value:function F(e,t){var r=t.whitePlayerId,o=t.blackPlayerId,I=r===e.customData.playerId,D=I?r:o,E=I?o:r;e.customData.playerId=D,e.customData.opponentId=E}},{key:"j",value:function j(e){var _e_customData=e.customData,t=_e_customData.playerId,r=_e_customData.opponentId;if(t&&r){var o={name:"",photo:"",finished:!1};e.profiles[t]||(e.profiles[t]=N({id:t},o)),e.profiles[r]||(e.profiles[r]=N({id:r},o))}}},{key:"pe",value:function pe(e,t){var _e_customData=e.customData,r=_e_customData.playerId,o=_e_customData.opponentId;if(r&&o){var w=t.whitePlayerId,I=t.whitePlayerScore,D=t.whitePlayerFinish,E=t.blackPlayerScore,S=t.blackPlayerFinish,b=w===e.customData.playerId;e.profiles[r].score=b?I:E,e.profiles[o].score=b?E:I,e.profiles[r].finished=b?D:S,e.profiles[o].finished=b?S:D}}}]),Fc}(M);a(Fc,"JoinMatchHandler");var Gc=Fc,cy=Gc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Uc=/*#__PURE__*/function(M){function Uc(){return _class_call_check(this,Uc),_call_super(this,Uc,arguments)}return _inherits(Uc,M),_create_class(Uc,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Uc.prototype),"processAsync",_this)};return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.o(e),[4,this.kn(e)];case 1:return(t=_state.sent())&&this.ye(e,t),[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"o",value:function o(e){var t=e.id,r=e.customData,o=r.contextId,w=r.opponentId;if(!t||"string"!=typeof t)throw new ie;if(!o||"string"!=typeof o)throw new te;if(!w||"string"!=typeof w)throw new X}},{key:"kn",value:function kn(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,tmp,b,_,tmp1,C,_tmp,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,4,,5]),t=this.r.frameCapture,r=e.profiles,w=(o=e.customData).playerId,I=o.opponentId,!w||!I||(D=r[w],E=r[I],!D||!E)||(S=D.photo,b=void 0===(tmp=D.score)?0:tmp,D.finished))return[2,null];if(_=E.photo,C=void 0===(tmp1=E.score)?0:tmp1,!E.finished)return[3,2];return[4,t.renderAsync("result-challenge",{playerId:w,playerPhoto:S,playerScore:b,opponentId:I,opponentPhoto:_,opponentScore:C,isPlayerFinished:!1,isOpponentFinished:!0})];case 1:return _tmp=_state.sent(),[3,3];case 2:_tmp=null,_state.label=3;case 3:return[2,_tmp];case 4:return e1=_state.sent(),[2,null];case 5:return[2]}})}).call(this)}},{key:"ye",value:function ye(e,t){return _async_to_generator(function(){var r,o,w,I,D,E,S,b;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(r=e.id,o=e.profiles,I=(w=e.customData).playerId,D=w.opponentId,!I||"string"!=typeof I)throw new B;if(!("updateAsync"in GameSDK.extra))throw new K("updateAsync");if(!(E=o[I]))throw new H;return S=E.name,b={data:{type:Oe.CHALLENGE_FRIEND,matchId:r,playerId:I,opponentId:D},action:"CUSTOM",template:"challenge",cta:{default:"Play",localizations:{vi_VN:"Chi ngay"}},text:{default:"".concat(S," accepted the challenge."),localizations:{vi_VN:"".concat(S," \xe3 chp nhn tham gia trn u.")}},image:t,strategy:"LAST",notification:"PUSH"},[4,GameSDK.extra.updateAsync(b)];case 1:return _state.sent(),[2]}})})()}}]),Uc}(M);a(Uc,"SendAcceptedMessageHandler");var Bc=Uc,ly=Bc,Kc=/*#__PURE__*/function(G){function Kc(){return _class_call_check(this,Kc),_call_super(this,Kc,arguments)}return _inherits(Kc,G),_create_class(Kc,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,b,L,_,C;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.matchId,r=e.playerId,o=e.opponentId,w=new F(this),I=new J(this,{id:t,mode:q.CHALLENGE_FRIEND,customData:{playerId:r,opponentId:o}}),w.setNext(I),D=new cy(this),I.setNext(D),E=new ge(this),D.setNext(E),S=new re(this),E.setNext(S),b=new ly(this),S.setNext(b),L=new Z(this),b.setNext(L),_=new U(this),L.setNext(_),C=this.match.getMatchState(),[4,w.processAsync(C)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),Kc}(G);a(Kc,"JoinChallengeMatchConcrete");var Vc=Kc,dy=Vc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Cv={_id:"",status:"",appId:"",createdAt:"",startedAt:null,finishedAt:null,winnerId:"",whitePlayerId:"",blackPlayerId:"",whitePlayerScore:0,blackPlayerScore:0,whitePlayerFinish:!1,blackPlayerFinish:!1,extraData:{}},uy=Cv,_Ludex_Configs8=Ludex.Configs,Tv=_Ludex_Configs8.AppId,_Ludex_Utils30=Ludex.Utils,ve=_Ludex_Utils30.Valid,be="is invalid",Hc=/*#__PURE__*/function(ae){function Hc(){return _class_call_check(this,Hc),_call_super(this,Hc,arguments)}return _inherits(Hc,ae),_create_class(Hc,[{key:"Q",value:function Q(e){this.Z(e)}},{key:"q",value:function q(e){this.J(e)}},{key:"o",value:function o(e){this.X(e)}},{key:"validateId",value:function validateId(e){ve.isString(e)&&e||this.a("_id",be)}},{key:"validateStatus",value:function validateStatus(e){ve.isString(e)&&e||this.a("status",be)}},{key:"validateAppId",value:function validateAppId(e){ve.isString(e)&&e===Tv||this.a("appId",be)}},{key:"validateCreatedAt",value:function validateCreatedAt(e){ve.isString(e)||this.a("createdAt",be)}},{key:"validateStartedAt",value:function validateStartedAt(e){null!==e&&(ve.isString(e)||this.a("startedAt",be))}},{key:"validateFinishedAt",value:function validateFinishedAt(e){null!==e&&(ve.isString(e)||this.a("finishedAt",be))}},{key:"validateExtraData",value:function validateExtraData(e){null!==e&&(ve.isObject(e)||this.a("extraData",be))}},{key:"validateWinnerId",value:function validateWinnerId(e){null===e||ve.isString(e)&&e||this.a("winnerId",be)}},{key:"validateWhitePlayerId",value:function validateWhitePlayerId(e){ve.isString(e)&&e||this.a("whitePlayerId",be)}},{key:"validateBlackPlayerId",value:function validateBlackPlayerId(e){ve.isString(e)&&e||this.a("blackPlayerId",be)}},{key:"validateWhitePlayerScore",value:function validateWhitePlayerScore(e){ve.isNumber(e)||this.a("whitePlayerScore",be)}},{key:"validateBlackPlayerScore",value:function validateBlackPlayerScore(e){ve.isNumber(e)||this.a("blackPlayerScore",be)}},{key:"validateWhitePlayerFinish",value:function validateWhitePlayerFinish(e){ve.isBoolean(e)||this.a("whitePlayerFinish",be)}},{key:"validateBlackPlayerFinish",value:function validateBlackPlayerFinish(e){ve.isBoolean(e)||this.a("blackPlayerFinish",be)}},{key:"toObject",value:function toObject(){return _get(_get_prototype_of(Hc.prototype),"toObject",this).call(this)}}]),Hc}(ae);a(Hc,"RespMatchDataDtos");var or=Hc;or.makeStrict(),or.addDefaults(uy);var wn=or;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Wc=/*#__PURE__*/function(Error1){function Wc(e){var _this;return _class_call_check(this,Wc),(_this=_call_super(this,Wc,[e])).name="MatchAreNotFinished",_this.message=e||"Match are not finished",_this}return _inherits(Wc,Error1),Wc}(_wrap_native_super(Error));a(Wc,"MatchAreNotFinished");var jc=Wc,py=jc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var qc=/*#__PURE__*/function(Error1){function qc(e){var _this;return _class_call_check(this,qc),(_this=_call_super(this,qc,[e])).name="OpponentNotFinishedMatch",_this.message=e||"Opponent not finished match",_this}return _inherits(qc,Error1),qc}(_wrap_native_super(Error));a(qc,"OpponentNotFinishedMatch");var zc=qc,my=zc,_Ludex_Utils31=Ludex.Utils,Mv=_Ludex_Utils31.Object,Jc=/*#__PURE__*/function(M){function Jc(){return _class_call_check(this,Jc),_call_super(this,Jc,arguments)}return _inherits(Jc,M),_create_class(Jc,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Jc.prototype),"processAsync",_this)};return _async_to_generator(function(){var r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.U(e),[4,this.We(e)];case 1:return r=new wn(_state.sent()).toObject(),this.Fn(e,r),this.O(e,r),this.ze(e),this.pa(e),[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"U",value:function U(e){if("string"!=typeof e.id)throw new ie}},{key:"Fn",value:function Fn(e,t){var r=e.id,o=t._id,w=t.whitePlayerFinish,I=t.blackPlayerFinish;if("string"!=typeof o||o!==r)throw new Ot;if(!w&&!I)throw new py}},{key:"ze",value:function ze(e){var t=e.profiles,o=e.customData.playerId;if("string"!=typeof o)throw new B;if(!t[o].finished)throw new mn}},{key:"pa",value:function pa(e){var t=e.profiles,o=e.customData.opponentId;if("string"!=typeof o)throw new X;if(!t[o].finished)throw new my}},{key:"We",value:function We(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){return[2,(t=e.id)?this.te.api.getMatchAPI().getMatchDetailByIdAsync(t):null]})}).call(this)}},{key:"O",value:function O(e,t){this.k(e,t),this.F(e,t),this.j(e),this.pe(e,t)}},{key:"k",value:function k(e,t){var r=t.extraData;e.status=Y.FINISHED,e.customData=Mv.merge(e.customData,r)}},{key:"F",value:function F(e,t){var r=t.whitePlayerId,o=t.blackPlayerId,I=r===e.customData.playerId,D=I?r:o,E=I?o:r;e.customData.playerId=D,e.customData.opponentId=E}},{key:"j",value:function j(e){var _e_customData=e.customData,t=_e_customData.playerId,r=_e_customData.opponentId;if(t&&r){var o={name:"",photo:"",finished:!0};e.profiles[t]||(e.profiles[t]=N({id:t},o)),e.profiles[r]||(e.profiles[r]=N({id:r},o))}}},{key:"pe",value:function pe(e,t){var _e_customData=e.customData,r=_e_customData.playerId,o=_e_customData.opponentId;if(r&&o){var w=t.whitePlayerId,I=t.whitePlayerScore,D=t.whitePlayerFinish,E=t.blackPlayerScore,S=t.blackPlayerFinish,b=w===e.customData.playerId;e.profiles[r].score=b?I:E,e.profiles[o].score=b?E:I,e.profiles[r].finished=b?D:S,e.profiles[o].finished=b?S:D}}}]),Jc}(M);a(Jc,"ResultMatchHandler");var Yc=Jc,hy=Yc,Xc=/*#__PURE__*/function(G){function Xc(){return _class_call_check(this,Xc),_call_super(this,Xc,arguments)}return _inherits(Xc,G),_create_class(Xc,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,b;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.matchId,r=e.playerId,o=e.opponentId,w=new F(this),I=new J(this,{id:t,mode:q.CHALLENGE_FRIEND,customData:{playerId:r,opponentId:o}}),w.setNext(I),D=new hy(this),I.setNext(D),E=new ge(this),D.setNext(E),S=new U(this),E.setNext(S),b=this.match.getMatchState(),[4,w.processAsync(b)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),Xc}(G);a(Xc,"ResultChallengeMatchConcrete");var Qc=Xc,fy=Qc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var el=/*#__PURE__*/function(G){function el(){var _this,_this1;return _class_call_check(this,el),_this=_call_super(this,el,arguments),_define_property(_this1=_this,"hs",void 0),_define_property(_this1,"jn",a(function(e){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,_this1.match.challenge.invite.processAsync(e)];case 1:return[2,(_state.sent(),!0)];case 2:return[2,_state.sent()];case 3:return[2]}})})()},"startFLowChallengeFriend$")),_define_property(_this1,"Bn",a(function(e){return _async_to_generator(function(){var t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,4]),"string"!=typeof(t=GameSDK.context.getID()))throw new te;return[4,_this1.match.tournament.continue.processAsync({playerId:e,contextId:t})];case 1:case 3:return _state.sent(),[3,4];case 2:return e1=_state.sent(),[4,_this1.us(e)];case 4:return[2]}})})()},"startFlowTournament$")),_define_property(_this1,"us",a(function(e){return _async_to_generator(function(){return _ts_generator(this,function(_state){return[2,_this1.match.single.start.processAsync({playerId:e})]})})()},"startFlowSingle$")),_this}return _inherits(el,G),_create_class(el,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,7,8]),this.u(e),t=e.playerId,r=e.extraData,o=e.fallbackSingleMode,this.hs=o,[4,this.jn({playerId:t,extraData:r})];case 1:if(!0===(w=_state.sent()))return[2];if(!_instanceof(w,ar))return[3,3];return[4,this.Bn(t)];case 2:case 4:return _state.sent(),[3,6];case 3:if(!this.hs)return[3,5];return[4,this.us(t)];case 5:throw w;case 6:return[3,8];case 7:return this.p(),[7];case 8:return[2]}})}).call(this)}}]),el}(G);a(el,"ChooseContextConcrete");var Zc=el,yy=Zc;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var rl=/*#__PURE__*/function(Error1){function rl(e){var _this;return _class_call_check(this,rl),(_this=_call_super(this,rl,[e])).name="LeaderboardIdNotValid",_this.message=null!=e?e:"Leaderboard id is not valid",_this}return _inherits(rl,Error1),rl}(_wrap_native_super(Error));a(rl,"LeaderboardIdNotValid");var tl=rl,He=tl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils32=Ludex.Utils,gy=_Ludex_Utils32.Valid,al=/*#__PURE__*/function(M){function al(e,t){var _this;return _class_call_check(this,al),_define_property(_this=_call_super(this,al,[e]),"e",void 0),_define_property(_this,"qe",void 0),_this.e=t,_this}return _inherits(al,M),_create_class(al,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(al.prototype),"processAsync",_this)};return _async_to_generator(function(){var _tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_superprop_get_processAsync().call(_this1,e),this.Ye(e),!(_tmp="submitGameResultsAsync"in GameSDK.extra))return[3,2];return[4,GameSDK.extra.submitGameResultsAsync(this.e.score)];case 1:_tmp=_state.sent(),_state.label=2;case 2:return this.fa(),[4,this.s(e)];case 3:return _state.sent(),[2]}})}).call(this)}},{key:"Ye",value:function Ye(e){return _async_to_generator(function(){var t,o,_this_e,w,I;return _ts_generator(this,function(_state){if(t=e.profiles,!(o=e.customData.playerId)||!t[o])throw new H;if(w=(_this_e=this.e).score,I=_this_e.leaderboardId,!gy.isNumber(w))throw new kt;if(!gy.isString(I))throw new He;return this.qe={score:w,playerId:o,leaderboardId:I},[2]})}).call(this)}},{key:"fa",value:function fa(){return _async_to_generator(function(){var _this_qe,e,t,r,o,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),e=(_this_qe=this.qe).playerId,t=_this_qe.score,r=_this_qe.leaderboardId,!(o=this.r.leaderboard.getLeaderboardName(r)))throw new gn;return[4,this.r.leaderboard.setLeaderboardScoreAsync(o,e,t)];case 1:return _state.sent(),[3,3];case 2:return e1=_state.sent(),[3,3];case 3:return[2]}})}).call(this)}}]),al}(M);a(al,"SetLeaderboardScoreHandler");var nl=al,$n=nl,_Ludex_Utils33=Ludex.Utils,Ov=_Ludex_Utils33.Valid,sl=/*#__PURE__*/function($n){function sl(e){return _class_call_check(this,sl),_call_super(this,sl,[e,{score:0,leaderboardId:""}])}return _inherits(sl,$n),_create_class(sl,[{key:"Ye",value:function Ye(e){var _this=this,_this1=this,_superprop_get_Ye=function(){return _get(_get_prototype_of(sl.prototype),"Ye",_this)};return _async_to_generator(function(){var t,r,o,w,I;return _ts_generator(this,function(_state){if(t=e.profiles,o=(r=e.customData).playerId,!(w=r.leaderboardId))throw new He;if(!o||!t[o])throw new H;if(I=t[o].score,!Ov.isNumber(I))throw new kt;return this.e.score=I,this.e.leaderboardId=w,_superprop_get_Ye().call(_this1,e),[2]})}).call(this)}}]),sl}($n);a(sl,"PostLeaderboardScoreHandler");var ol=sl,Gt=ol;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var cl=/*#__PURE__*/function(M){function cl(){return _class_call_check(this,cl),_call_super(this,cl,arguments)}return _inherits(cl,M),_create_class(cl,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(cl.prototype),"processAsync",_this)};return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.o(e),this.Hn(e),[4,this.s(e)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"o",value:function o(e){var t=e.id,r=e.customData,o=r.contextId,w=r.opponentId;if(!t||"string"!=typeof t)throw new ie;if(!o||"string"!=typeof o)throw new te;if(!w||"string"!=typeof w)throw new X}},{key:"Kn",value:function Kn(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,tmp,b,L,tmp1,_,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),t=this.r.frameCapture,r=e.profiles,w=(o=e.customData).playerId,I=o.opponentId,!w||!I||(D=r[w],E=r[I],!D||!E))return[2,null];return S=D.photo,b=void 0===(tmp=D.score)?0:tmp,L=E.photo,_=void 0===(tmp1=E.score)?0:tmp1,[4,t.renderAsync("result-challenge",{playerId:w,playerPhoto:S,playerScore:b,opponentId:I,opponentPhoto:L,opponentScore:_,isPlayerFinished:!0,isOpponentFinished:!0})];case 1:return[2,_state.sent()];case 2:return e1=_state.sent(),[2,null];case 3:return[2]}})}).call(this)}},{key:"Vn",value:function Vn(e){return _async_to_generator(function(){var _this_r,t,r,o,_t_getPlayer,w,I,D,E,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),t=(_this_r=this.r).player,r=_this_r.frameCapture,o=e.customData.playerId,w=(_t_getPlayer=t.getPlayer()).playerId,I=_t_getPlayer.photo,D=_t_getPlayer.data,o!==w)return[2,null];return E=(D||{}).score,[4,r.renderAsync("share-score",{playerId:w,playerPhoto:I,playerScore:E})];case 1:return[2,_state.sent()];case 2:return e1=_state.sent(),[2,null];case 3:return[2]}})}).call(this)}},{key:"Hn",value:function Hn(e){return _async_to_generator(function(){var t,r,o,w,D,E,tmp,tmp1,L,I;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(t=e.profiles,o=(r=e.customData).playerId,!((w=r.opponentId)&&"string"==typeof w))return[3,2];if(!o||"string"!=typeof o)throw new B;if(D=t[o],E=t[w],!D||!E)return[2];if(!((void 0===(tmp=D.score)?0:tmp)>(void 0===(tmp1=E.score)?0:tmp1)))return[3,2];return[4,this.Kn(e)];case 1:if(!(L=_state.sent()))return[2];return this.ga(e,L),[2];case 2:return[4,this.Vn(e)];case 3:return(I=_state.sent())&&this.Wn(e,I),[2]}})}).call(this)}},{key:"ga",value:function ga(e,t){return _async_to_generator(function(){var r,w,I,D,E,S;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(r=e.profiles,!(w=e.customData.playerId)||"string"!=typeof w)throw new B;if(!("updateAsync"in GameSDK.extra))throw new K("updateAsync");if(!(I=r[w]))throw new H;if(D=I.name,E=I.score,S={data:{type:this.r.context.getSessionContextTypes().MATCHING_GROUP,playerId:w,playerName:D,playerScore:E},action:"CUSTOM",template:"play_turn",cta:{default:"Play",localizations:{vi_VN:"Chi"}},text:{default:"".concat(D," beats your high score. Their score: ").concat(E,"."),localizations:{vi_VN:"".concat(D," va vt im s cao nht ca bn! Chi ln na ch?")}},image:t,strategy:"IMMEDIATE",notification:"PUSH"},!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return[4,GameSDK.extra.updateAsync(S)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"Wn",value:function Wn(e,t){return _async_to_generator(function(){var r,w,I,D,E,S;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(r=e.profiles,!(w=e.customData.playerId)||"string"!=typeof w)throw new B;if(!(I=r[w]))throw new H;if(D=I.name,E=I.score,S={data:{type:this.r.context.getSessionContextTypes().MATCHING_GROUP,playerId:w,playerName:D,playerScore:E},action:"CUSTOM",template:"play_turn",cta:{default:"Play",localizations:{vi_VN:"Chi ngay"}},text:{default:"".concat(D," got ").concat(E," scores. So easy! Can you?"),localizations:{vi_VN:"".concat(D," \xe3 t ").concat(E," im! Qu\xe1 d lu\xf4n. Chi li n\xe0o!")}},image:t,strategy:"IMMEDIATE",notification:"PUSH"},!("updateAsync"in GameSDK.extra))throw new K("updateAsync");return[4,GameSDK.extra.updateAsync(S)];case 1:return _state.sent(),[2]}})}).call(this)}}]),cl}(M);a(cl,"SendGroupMessageHandler");var il=cl,Py=il,dl=/*#__PURE__*/function(G){function dl(){return _class_call_check(this,dl),_call_super(this,dl,arguments)}return _inherits(dl,G),_create_class(dl,[{key:"processAsync",value:function processAsync(){return _async_to_generator(function(){var e,t,r,o,w,I,D,E;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(),e=new F(this),t=new Ve(this,{useAPI:!1}),e.setNext(t),r=new Py(this),t.setNext(r),o=new Ue(this),r.setNext(o),w=new Ke(this),o.setNext(w),I=new Gt(this),w.setNext(I),D=new U(this),I.setNext(D),E=this.match.getMatchState(),[4,e.processAsync(E)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),dl}(G);a(dl,"FinishGroupConcrete");var ll=dl,xy=ll;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Nv=Ludex.Dtos,_Ludex_Utils34=Ludex.Utils,Rv=_Ludex_Utils34.Object,pl=/*#__PURE__*/function(M){function pl(e,t){var _this;return _class_call_check(this,pl),_define_property(_this=_call_super(this,pl,[e]),"e",void 0),_this.e=t,_this}return _inherits(pl,M),_create_class(pl,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(pl.prototype),"processAsync",_this)};return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.zn(e),[4,this.s(e)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"zn",value:function zn(e){var t=this.e.id,r=e.profiles;if(!r[t])throw new H;var o=Rv.merge(r[t],this.e),w=new Nv.Match.Profile(o).toObject();r[w.id]=w}}]),pl}(M);a(pl,"SetProfileDataHandler");var ul=pl,ot=ul,hl=/*#__PURE__*/function(G){function hl(){return _class_call_check(this,hl),_call_super(this,hl,arguments)}return _inherits(hl,G),_create_class(hl,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,b,L,_;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.playerId,r=e.opponentId,o=e.opponentScore,w=new F(this),I=new J(this,{id:"7749",mode:q.MATCHING_GROUP,customData:{playerId:t,opponentId:r}}),w.setNext(I),D=new ge(this),I.setNext(D),E=new ot(this,{id:t,score:o}),D.setNext(E),S=new re(this),E.setNext(S),b=new Z(this),S.setNext(b),L=new U(this),b.setNext(L),_=this.match.getMatchState(),[4,w.processAsync(_)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),hl}(G);a(hl,"JoinGroupConcrete");var ml=hl,wy=ml;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var gl=/*#__PURE__*/function(Error1){function gl(e){var _this;return _class_call_check(this,gl),(_this=_call_super(this,gl,[e])).name="MatchGroupNotSupported",_this.message=null!=e?e:"Match group is not supported",_this}return _inherits(gl,Error1),gl}(_wrap_native_super(Error));a(gl,"MatchGroupNotSupported");var fl=gl,yl=fl,xl=/*#__PURE__*/function(M){function xl(e,t){var _this;return _class_call_check(this,xl),_define_property(_this=_call_super(this,xl,[e]),"e",void 0),_this.e=t,_this}return _inherits(xl,M),_create_class(xl,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(xl.prototype),"processAsync",_this)};return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),[4,this.Yn()];case 1:return _state.sent(),[4,this.qn()];case 2:return t=_state.sent(),e.customData.contextId=t,[4,this.s(e)];case 3:return _state.sent(),[2]}})}).call(this)}},{key:"Yn",value:function Yn(){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!("getSupportedAPIs"in GameSDK))throw new K("getSupportedAPIs");if(!("checkCanPlayerMatchAsync"in GameSDK.extra))throw new K("checkCanPlayerMatchAsync");if(!(GameSDK.getSupportedAPIs().indexOf("checkCanPlayerMatchAsync")>-1))throw new yl;return[4,GameSDK.extra.checkCanPlayerMatchAsync()];case 1:if(!_state.sent())throw new yl;return[2]}})})()}},{key:"qn",value:function qn(){return _async_to_generator(function(){var _this_e,e,tmp,t,tmp1,r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!("matchPlayerAsync"in GameSDK.extra))throw new K("matchPlayerAsync");return e=(_this_e=this.e).matchTag,t=void 0!==(tmp=_this_e.autoSwitch)&&tmp,r=void 0!==(tmp1=_this_e.onlyExisting)&&tmp1,[4,GameSDK.extra.matchPlayerAsync(e,t,r)];case 1:if(_state.sent(),"string"!=typeof(o=GameSDK.context.getID()))throw new _t;return[2,o]}})}).call(this)}}]),xl}(M);a(xl,"GroupContextHandler");var Pl=xl,$y=Pl,$l=/*#__PURE__*/function(G){function $l(){return _class_call_check(this,$l),_call_super(this,$l,arguments)}return _inherits($l,G),_create_class($l,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,b,L,_,C;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.matchTag,r=e.playerId,o=e.options,w=new F(this),I=new $y(this,N({matchTag:t},o)),w.setNext(I),D=new J(this,{id:"7749",mode:q.MATCHING_GROUP,customData:{playerId:r}}),I.setNext(D),E=new xn(this,{ignoreId:r}),D.setNext(E),S=new re(this),E.setNext(S),b=new ge(this),S.setNext(b),L=new Z(this),b.setNext(L),_=new U(this),L.setNext(_),C=this.match.getMatchState(),[4,w.processAsync(C)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),$l}(G);a($l,"StartGroupConcrete");var wl=$l,Ay=wl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var vl=/*#__PURE__*/function(G){function vl(){return _class_call_check(this,vl),_call_super(this,vl,arguments)}return _inherits(vl,G),_create_class(vl,[{key:"processAsync",value:function processAsync(){return _async_to_generator(function(){var e,t,r,o,w,I,D;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(),e=new F(this),t=new Ve(this,{useAPI:!1}),e.setNext(t),r=new Ue(this),t.setNext(r),o=new Ke(this),r.setNext(o),w=new at(this),o.setNext(w),I=new U(this),w.setNext(I),D=this.match.getMatchState(),[4,e.processAsync(D)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),vl}(G);a(vl,"FinishSingleConcrete");var Al=vl,vy=Al;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Sl=/*#__PURE__*/function(Error1){function Sl(e){var _this;return _class_call_check(this,Sl),(_this=_call_super(this,Sl,[e])).name="ProfileIdNotDefined",_this.message=null!=e?e:"Profile id is not defined",_this}return _inherits(Sl,Error1),Sl}(_wrap_native_super(Error));a(Sl,"ProfileIdNotDefined");var bl=Sl,by=bl,_v=Ludex.Dtos,Il=/*#__PURE__*/function(M){function Il(e,t){var _this;return _class_call_check(this,Il),_define_property(_this=_call_super(this,Il,[e]),"e",void 0),_this.e=t,_this}return _inherits(Il,M),_create_class(Il,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Il.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,o,w;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_superprop_get_processAsync().call(_this1,e),!(t=this.e.profileId))throw new by;if(o=this.r.player.getPlayerId(),t!==o)return[3,1];return w=this.vt(),[3,3];case 1:return[4,this.Qn(t)];case 2:if(!(w=_state.sent()))throw new H;_state.label=3;case 3:return this.O(w,e),[4,this.s(e)];case 4:return _state.sent(),[2]}})}).call(this)}},{key:"vt",value:function vt(){var _e_getPlayer=this.r.player.getPlayer();return{playerId:_e_getPlayer.playerId,name:_e_getPlayer.name,photo:_e_getPlayer.photo,locale:_e_getPlayer.locale}}},{key:"Qn",value:function Qn(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,(t=this.r.profile).requestProfiles([e])];case 1:return[2,(_state.sent(),t.getProfiles()[e])]}})}).call(this)}},{key:"O",value:function O(e,t){var r=e.playerId,o=e.name,w=e.photo,I=new _v.Match.Profile({id:r,name:o,photo:w}).toObject();t.profiles[r]=I}}]),Il}(M);a(Il,"GetProfileHandler");var Dl=Il,je=Dl,Ll=/*#__PURE__*/function(G){function Ll(){return _class_call_check(this,Ll),_call_super(this,Ll,arguments)}return _inherits(Ll,G),_create_class(Ll,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,b;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.playerId,r=new F(this),o=new nt(this,{contextId:"SOLO"}),r.setNext(o),w=new J(this,{id:"123456",mode:q.SINGLE,customData:{playerId:t}}),o.setNext(w),I=new re(this),w.setNext(I),D=new je(this,{profileId:t}),I.setNext(D),E=new Z(this),D.setNext(E),S=new U(this),E.setNext(S),b=this.match.getMatchState(),[4,r.processAsync(b)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),Ll}(G);a(Ll,"StartSingleConcrete");var El=Ll,Sy=El;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Tl=/*#__PURE__*/function(G){function Tl(){return _class_call_check(this,Tl),_call_super(this,Tl,arguments)}return _inherits(Tl,G),_create_class(Tl,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var _ref,tmp,t,tmp1,r,o,w,I,D,E,S,b;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=void 0!==(tmp=(_ref=null!=e?e:{}).setPlayerBestScore)&&tmp,r=void 0!==(tmp1=_ref.postGlobalLeaderboard)&&tmp1,o=new F(this),w=new Ve(this,{useAPI:!1}),o.setNext(w),I=new Ue(this),w.setNext(I),D=new Ke(this,{ignore:!t}),I.setNext(D),E=new at(this,{ignore:!r}),D.setNext(E),S=new U(this),E.setNext(S),b=this.match.getMatchState(),[4,o.processAsync(b)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),Tl}(G);a(Tl,"FinishStrategyConcrete");var Cl=Tl,Dy=Cl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ol=/*#__PURE__*/function(G){function Ol(){return _class_call_check(this,Ol),_call_super(this,Ol,arguments)}return _inherits(Ol,G),_create_class(Ol,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,tmp,w,I,D,E,S,b,L,_,C;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.matchId,r=e.playerId,o=e.gameMode,w=void 0===(tmp=e.extraData)?{}:tmp,I=new F(this),D=new nt(this,{contextId:"SOLO"}),I.setNext(D),E=new J(this,{id:t,mode:o,customData:N({playerId:r},w)}),D.setNext(E),S=new re(this),E.setNext(S),b=new je(this,{profileId:r}),S.setNext(b),L=new Z(this),b.setNext(L),_=new U(this),L.setNext(_),C=this.match.getMatchState(),[4,I.processAsync(C)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),Ol}(G);a(Ol,"StartStrategyConcrete");var Ml=Ol,Iy=Ml;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Plugins3=Ludex.Plugins,tmp2=_Ludex_Plugins3.Analytics,_ref2=void 0===tmp2?{}:tmp2,Ey=_ref2.Events,_Ludex_Utils35=Ludex.Utils,kv=_Ludex_Utils35.String,Gv=_Ludex_Utils35.Valid,Rl=/*#__PURE__*/function(M){function Rl(){return _class_call_check(this,Rl),_call_super(this,Rl,arguments)}return _inherits(Rl,M),_create_class(Rl,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Rl.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,r,o,w,I;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),t=e.mode,r=e.customData,this.Ve(t),o=this.r.analytics,w=r.tournamentId,I=r.leaderboardId,Ey&&(null==o||o.event(Ey.TOURNAMENT_START,{success:!0,game_mode:kv.toUpperCamelCase(t),tournament_id:w,leaderboard_id:I})),[4,this.s(e)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"Ve",value:function Ve(e){if(!Gv.isString(e))throw new Mt}}]),Rl}(M);a(Rl,"LogTournamentStartHandler");var Nl=Rl,An=Nl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var kl=/*#__PURE__*/function(Error1){function kl(e){var _this;return _class_call_check(this,kl),(_this=_call_super(this,kl,[e])).name="TournamentIdNotValid",_this.message=null!=e?e:"Tournament id is not valid",_this}return _inherits(kl,Error1),kl}(_wrap_native_super(Error));a(kl,"TournamentIdNotValid");var _l=kl,vn=_l,_Ludex_Utils36=Ludex.Utils,Gl=_Ludex_Utils36.Valid,Bl=/*#__PURE__*/function(M){function Bl(e,t){var _this;return _class_call_check(this,Bl),_define_property(_this=_call_super(this,Bl,[e]),"e",void 0),_this.e=t,_this}return _inherits(Bl,M),_create_class(Bl,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Bl.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,r,o,w,D;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),t=this.e.contextId,this.wa(t),[4,GameSDK.getTournamentAsync()];case 1:return o=(r=_state.sent()).getID().toString(),w=r.getTournamentType(),this.xa(o),e.customData.contextId=t,e.customData.tournamentId=o,"DAILY"!==w&&(D=JSON.parse(r.getPayload()||"{}").leaderboardId,this.Aa(D),e.customData.leaderboardId=D),[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"wa",value:function wa(e){if(!Gl.isString(e))throw new te}},{key:"xa",value:function xa(e){if(!Gl.isString(e))throw new vn}},{key:"Aa",value:function Aa(e){if(!Gl.isString(e)||""===e)throw new He}}]),Bl}(M);a(Bl,"ContinueTournamentHandler");var Fl=Bl,Ly=Fl,Vl=/*#__PURE__*/function(G){function Vl(){return _class_call_check(this,Vl),_call_super(this,Vl,arguments)}return _inherits(Vl,G),_create_class(Vl,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,b,L,_;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.playerId,r=e.contextId,o=new F(this),w=new Ly(this,{contextId:r}),o.setNext(w),I=new J(this,{id:"1997",mode:q.TOURNAMENT,customData:{playerId:t}}),w.setNext(I),D=new re(this),I.setNext(D),E=new je(this,{profileId:t}),D.setNext(E),S=new Z(this),E.setNext(S),b=new An(this),S.setNext(b),L=new U(this),S.setNext(L),_=this.match.getMatchState(),[4,o.processAsync(_)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),Vl}(G);a(Vl,"ContinueTournamentConcrete");var Ul=Vl,Cy=Ul;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Plugins4=Ludex.Plugins,tmp3=_Ludex_Plugins4.Analytics,_ref3=void 0===tmp3?{}:tmp3,Ty=_ref3.Events,Hl=/*#__PURE__*/function(M){function Hl(){return _class_call_check(this,Hl),_call_super(this,Hl,arguments)}return _inherits(Hl,M),_create_class(Hl,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Hl.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,r,o,w;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),t=e.customData,r=this.r.analytics,o=t.tournamentId,w=t.leaderboardId,Ty&&r.event(Ty.TOURNAMENT_CREATE,{success:!0,tournament_id:o,leaderboard_id:w}),[4,this.s(e)];case 1:return _state.sent(),[2]}})}).call(this)}}]),Hl}(M);a(Hl,"LogTournamentCreateHandler");var Kl=Hl,My=Kl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Wl=/*#__PURE__*/function(M){function Wl(e,t){var _this;return _class_call_check(this,Wl),_define_property(_this=_call_super(this,Wl,[e]),"e",void 0),_this.e=t,_this}return _inherits(Wl,M),_create_class(Wl,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Wl.prototype),"processAsync",_this)};return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),[4,this.Jn()];case 1:return _state.sent(),[4,this.Xn(e)];case 2:return _state.sent(),[4,this.s(e)];case 3:return _state.sent(),[2]}})}).call(this)}},{key:"Jn",value:function Jn(){return _async_to_generator(function(){var _this_e,e,t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:return e=(_this_e=this.e).name,t=_this_e.score,r=_this_e.customData,[4,GameSDK.tournament.createAsync({initialScore:t,config:{title:e,tournamentTitle:e},data:r})];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"Xn",value:function Xn(e){return _async_to_generator(function(){var _$t,r,o,w;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),!("getTournamentAsync"in GameSDK))throw new K("getTournamentAsync");return[4,GameSDK.getTournamentAsync()];case 1:return r=(_$t=_state.sent()).getContextID(),o=_$t.getID().toString(),w=this.e.playerId,e.customData.playerId=w,e.customData.contextId=r,e.customData.tournamentId=o,[3,3];case 2:if(_instanceof(_state.sent(),K))return[2];return[3,3];case 3:return[2]}})}).call(this)}}]),Wl}(M);a(Wl,"CreateTournamentHandler");var jl=Wl,Oy=jl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils37=Ludex.Utils,Ny=_Ludex_Utils37.Valid,ql=/*#__PURE__*/function(M){function ql(e,t){var _this;return _class_call_check(this,ql),_define_property(_this=_call_super(this,ql,[e]),"e",void 0),_define_property(_this,"qe",void 0),_this.e=t,_this}return _inherits(ql,M),_create_class(ql,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(ql.prototype),"processAsync",_this)};return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.Zn(),[4,this.ei(e)];case 1:return _state.sent(),[4,this.ti(e)];case 2:return _state.sent(),[4,this.s(e)];case 3:return _state.sent(),[2]}})}).call(this)}},{key:"Zn",value:function Zn(){var e=this.e.leaderboardId;if(!Ny.isString(e))throw new He}},{key:"Pt",value:function Pt(e){if(!Ny.isString(e))throw new B}},{key:"ei",value:function ei(e){return _async_to_generator(function(){var t,_this_e,r,o,w;return _ts_generator(this,function(_state){return t=e.customData.playerId,this.Pt(t),r=(_this_e=this.e).name,o=_this_e.leaderboardId,w=_this_e.customData,this.qe={_id:o,name:null!=r?r:"",createdBy:t,description:JSON.stringify(w)},[2]})}).call(this)}},{key:"ti",value:function ti(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.r.leaderboard.createLeaderboardAsync(this.qe)];case 1:return t=_state.sent(),e.customData.leaderboardId=t,[2]}})}).call(this)}}]),ql}(M);a(ql,"CreateLeaderboardHandler");var zl=ql,Ry=zl,Jl=/*#__PURE__*/function(G){function Jl(){return _class_call_check(this,Jl),_call_super(this,Jl,arguments)}return _inherits(Jl,G),_create_class(Jl,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,b,L,_,C,R,z;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.playerId,r=e.name,o=e.score,w=e.leaderboardId,I=e.payload,D=new F(this),E=new nt(this,{contextId:"SOLO"}),D.setNext(E),S=new Oy(this,{name:r,score:o,playerId:t,customData:I}),E.setNext(S),b=new je(this,{profileId:t}),S.setNext(b),L=new ot(this,{id:t,score:o}),b.setNext(L),_=new Ry(this,{name:r,customData:I,leaderboardId:w}),L.setNext(_),C=new Gt(this),_.setNext(C),R=new My(this),C.setNext(R),z=this.match.getMatchState(),[4,D.processAsync(z)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),Jl}(G);a(Jl,"CreateTournamentConcrete");var Yl=Jl,_y=Yl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Plugins5=Ludex.Plugins,ky=_Ludex_Plugins5.Analytics,_Ludex_Utils38=Ludex.Utils,Gy=_Ludex_Utils38.Valid,Xl=/*#__PURE__*/function(M){function Xl(e,t){var _this;return _class_call_check(this,Xl),_define_property(_this=_call_super(this,Xl,[e]),"e",void 0),_this.e=t,_this}return _inherits(Xl,M),_create_class(Xl,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(Xl.prototype),"processAsync",_this)};return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.o(e),[4,this.ai(e)];case 1:return _state.sent(),[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"o",value:function o(e){var t=e.profiles,o=e.customData.playerId;if(this.Pt(o),!t[o])throw new H}},{key:"Pt",value:function Pt(e){if(!Gy.isString(e))throw new B}},{key:"vt",value:function vt(e){var t=e.profiles,o=e.customData.playerId;return this.Pt(o),t[o]}},{key:"Lo",value:function Lo(e){var t=this.vt(e),tmp=t.score,r=void 0===tmp?0:tmp,tmp1=t.bestScore;return r>(void 0===tmp1?0:tmp1)}},{key:"ai",value:function ai(e){return _async_to_generator(function(){var t,tmp,o,e1,tmp1,w,I,_tmp,D;return _ts_generator(this,function(_state){switch(_state.label){case 0:t=codex.analytics,o=void 0===(tmp=this.vt(e).score)?0:tmp,_state.label=1;case 1:return _state.trys.push([1,3,,4]),[4,this.assertSupportedTournamentContext()];case 2:return _state.sent(),[3,4];case 3:return e1=_state.sent(),[2];case 4:I=(w=void 0===(tmp1=this.e.openShareScorePopup)||tmp1)?ky.Events.TOURNAMENT_SHARE:ky.Events.TOURNAMENT_POST_SCORE,_state.label=5;case 5:if(_state.trys.push([5,10,,11]),!w)return[3,7];return[4,GameSDK.tournament.shareAsync({score:o})];case 6:return _tmp=_state.sent(),[3,9];case 7:return[4,GameSDK.tournament.postScoreAsync(o)];case 8:_tmp=_state.sent(),_state.label=9;case 9:return null==t||t.event(I,{success:!0}),[3,11];case 10:return D=_state.sent(),null==t||t.event(I,{success:!1}),Gy.isObject(D)&&"code"in D&&"USER_INPUT"===D.code&&codex.event.emit(Ee.GAME_SDK_POPUP_RESPONDED,{type:"cancelled",extra:D}),[3,11];case 11:return[2]}})}).call(this)}},{key:"assertSupportedTournamentContext",value:function assertSupportedTournamentContext(){if(!("getTournamentAsync"in GameSDK))throw new K("getTournamentAsync");return GameSDK.getTournamentAsync()}}]),Xl}(M);a(Xl,"PostScoreTournamentHandler");var Ql=Xl,Fy=Ql,ed=/*#__PURE__*/function(G){function ed(){return _class_call_check(this,ed),_call_super(this,ed,arguments)}return _inherits(ed,G),_create_class(ed,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,b,L,_,C;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.playerId,r=e.bestScore,o=new F(this),w=new Ve(this,{useAPI:!1}),o.setNext(w),I=new ot(this,{id:t,bestScore:r}),w.setNext(I),D=new Fy(this,e),I.setNext(D),E=new Ue(this),D.setNext(E),S=new Ke(this),E.setNext(S),b=new Gt(this),S.setNext(b),L=new at(this),b.setNext(L),_=new U(this),L.setNext(_),C=this.match.getMatchState(),[4,o.processAsync(C)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),ed}(G);a(ed,"FinishTournamentConcrete");var Zl=ed,By=Zl;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils39=Ludex.Utils,td=_Ludex_Utils39.Valid,Fv=_Ludex_Utils39.Object,nd=/*#__PURE__*/function(M){function nd(e,t){var _this;return _class_call_check(this,nd),_define_property(_this=_call_super(this,nd,[e]),"e",void 0),_this.e=t,_this}return _inherits(nd,M),_create_class(nd,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(nd.prototype),"processAsync",_this)};return _async_to_generator(function(){var t,r,o,I;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),t=this.e.tournamentId,this.xa(t),[4,this.si(t)];case 1:return _state.sent(),[4,GameSDK.getTournamentAsync()];case 2:return o=(r=_state.sent()).getContextID(),this.wa(o),I=JSON.parse(r.getPayload()||"{}").leaderboardId,this.Aa(I),e.customData.contextId=o,e.customData.tournamentId=t,e.customData.leaderboardId=I,[4,this.s(e)];case 3:return _state.sent(),[2]}})}).call(this)}},{key:"xa",value:function xa(e){if(!td.isString(e))throw new vn}},{key:"wa",value:function wa(e){if(!td.isString(e))throw new te}},{key:"Aa",value:function Aa(e){if(!td.isString(e)||""===e)throw new He}},{key:"si",value:function si(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!("tournament"in GameSDK))throw new K("tournament");_state.label=1;case 1:return _state.trys.push([1,3,,4]),[4,GameSDK.tournament.joinAsync(e)];case 2:return _state.sent(),[3,4];case 3:if(t=_state.sent(),!Fv.hasOwn(t,"code")||"SAME_CONTEXT"!==t.code)throw t;return[3,4];case 4:return[2]}})})()}}]),nd}(M);a(nd,"JoinTournamentHandler");var rd=nd,Uy=rd,od=/*#__PURE__*/function(G){function od(){return _class_call_check(this,od),_call_super(this,od,arguments)}return _inherits(od,G),_create_class(od,[{key:"processAsync",value:function processAsync(e){return _async_to_generator(function(){var t,r,o,w,I,D,E,S,b,L,_;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,,2,3]),this.u(e),t=e.playerId,r=e.tournamentId,o=new F(this),w=new Uy(this,{tournamentId:r}),o.setNext(w),I=new J(this,{id:"1997",mode:q.TOURNAMENT,customData:{playerId:t}}),w.setNext(I),D=new re(this),I.setNext(D),E=new je(this,{profileId:t}),D.setNext(E),S=new Z(this),E.setNext(S),b=new An(this),S.setNext(b),L=new U(this),b.setNext(L),_=this.match.getMatchState(),[4,o.processAsync(_)];case 1:return _state.sent(),[3,3];case 2:return this.p(),[7];case 3:return[2]}})}).call(this)}}]),od}(G);a(od,"JoinTournamentConcrete");var ad=od,Vy=ad;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Bv=Ludex.Dtos,Uv=Ludex.Utils,Vv=Uv.Object,id=/*#__PURE__*/function(M){function id(){return _class_call_check(this,id),_call_super(this,id,arguments)}return _inherits(id,M),_create_class(id,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(id.prototype),"processAsync",_this)};return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),[4,this.ri(e)];case 1:return t=_state.sent(),this.va(e,t),[4,this.s(e)];case 2:return _state.sent(),[2]}})}).call(this)}},{key:"ri",value:function ri(e){return _async_to_generator(function(){var _this,t,_extraData,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!(t=e.id))return[3,2];return[4,this.te.api.getMatchAPI().getMatchDetailByIdAsync(t)];case 1:return _tmp=null!=(_extraData=null==(_this=_state.sent())?void 0:_this.extraData)?_extraData:{},[3,3];case 2:_tmp={},_state.label=3;case 3:return[2,_tmp]}})}).call(this)}},{key:"va",value:function va(e,t){var r=Vv.merge(e.customData,t);e.customData=new Bv.Match.CustomData(r).toObject()}}]),id}(M);a(id,"GetMatchCustomDataHandler");var sd=id,Ky=sd;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Kv=Ludex.Dtos,Hv=Ludex.Utils,jv=Hv.Object,ld=/*#__PURE__*/function(M){function ld(e,t){var _this;return _class_call_check(this,ld),_define_property(_this=_call_super(this,ld,[e]),"e",void 0),_this.e=t,_this}return _inherits(ld,M),_create_class(ld,[{key:"processAsync",value:function processAsync(e){var _this=this,_this1=this,_superprop_get_processAsync=function(){return _get(_get_prototype_of(ld.prototype),"processAsync",_this)};return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_processAsync().call(_this1,e),this.va(e),[4,this.s(e)];case 1:return _state.sent(),[2]}})}).call(this)}},{key:"va",value:function va(e){var t=jv.merge(e.customData,this.e);e.customData=new Kv.Match.CustomData(t).toObject()}}]),ld}(M);a(ld,"SetMatchCustomDataHandler");var cd=ld,Hy=cd;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Wv={id:null,mode:null,status:null,startAt:0,finishAt:0,profiles:{},customData:N({},Rt)},jy=Wv,Wy=Ludex.Configs,ud=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function ud(){var _this;return _class_call_check(this,ud),_this=_call_super(this,ud,arguments),_define_property(_this,"Qe",void 0),_define_property(_this,"group",void 0),_define_property(_this,"single",void 0),_define_property(_this,"context",void 0),_define_property(_this,"strategy",void 0),_define_property(_this,"challenge",void 0),_define_property(_this,"tournament",void 0),_define_property(_this,"api",void 0),_define_property(_this,"handler",void 0),_define_property(_this,"useCPUProfile",void 0),_this}return _inherits(ud,_Ludex_Plugins_BasePlugin),_create_class(ud,[{key:"init",value:function init(){this.ni(),this.ii(),this.oi(),this.li(),this.ci()}},{key:"setUseCPUProfile",value:function setUseCPUProfile(e){this.useCPUProfile=e}},{key:"ni",value:function ni(){this.codex.storage.addStorage("match",jy)}},{key:"getMatchState",value:function getMatchState(){return this.codex.storage.getStorage("match")}},{key:"oi",value:function oi(){this.Qe=new G(this.codex,this)}},{key:"li",value:function li(){this.di(),this.hi(),this.ui(),this.pi(),this.yi(),this.mi()}},{key:"ci",value:function ci(){var _this=this;this.handler={setProfileData:a(function(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return t=new ot(this.Qe,e),[4,this.It(t)];case 1:return _state.sent(),[2]}})}).call(_this)},"setProfileData"),setMatchCustomData:a(function(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return t=new Hy(this.Qe,e),[4,this.It(t)];case 1:return _state.sent(),[2]}})}).call(_this)},"setMatchCustomData"),getMatchCustomData:a(function(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:return e=new Ky(this.Qe),[4,this.It(e)];case 1:return _state.sent(),[2]}})}).call(_this)},"getMatchCustomData"),setLeaderboardScore:a(function(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return t=new $n(this.Qe,e),[4,this.It(t)];case 1:return _state.sent(),[2]}})}).call(_this)},"setLeaderboardScore")}}},{key:"ii",value:function ii(){var e={appId:Wy.AppId,matchAPIHost:Wy.ApiHost};this.api=new Of(e)}},{key:"di",value:function di(){this.group={join:new wy(this.codex,this),start:new Ay(this.codex,this),finish:new xy(this.codex,this)}}},{key:"hi",value:function hi(){this.single={start:new Sy(this.codex,this),finish:new vy(this.codex,this)}}},{key:"pi",value:function pi(){this.strategy={start:new Iy(this.codex,this),finish:new Dy(this.codex,this)}}},{key:"ui",value:function ui(){this.context={choose:new yy(this.codex,this)}}},{key:"yi",value:function yi(){this.challenge={invite:new ay(this.codex,this),friend:new Hf(this.codex,this),join:new dy(this.codex,this),await:new Bf(this.codex,this),result:new fy(this.codex,this),finish:new Zf(this.codex,this),continue:new qf(this.codex,this)}}},{key:"mi",value:function mi(){this.tournament={join:new Vy(this.codex,this),create:new _y(this.codex,this),finish:new By(this.codex,this),continue:new Cy(this.codex,this)}}},{key:"It",value:function It(e){var t=this.getMatchState();return e.processAsync(t)}}]),ud}(Ludex.Plugins.BasePlugin);a(ud,"MatchPlugin");var dd=ud,zy=dd;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils40=Ludex.Utils,mt=_Ludex_Utils40.Valid,ht="is invalid",pd=/*#__PURE__*/function(ae){function pd(){return _class_call_check(this,pd),_call_super(this,pd,arguments)}return _inherits(pd,ae),_create_class(pd,[{key:"Q",value:function Q(e){this.Z(e)}},{key:"q",value:function q(e){this.J(e)}},{key:"o",value:function o(e){this.X(e)}},{key:"validateLevel",value:function validateLevel(e){(!mt.isNumber(e)||e<0)&&this.a("level",ht)}},{key:"validateRescued",value:function validateRescued(e){(!mt.isNumber(e)||e<0)&&this.a("rescued",ht)}},{key:"validateContextId",value:function validateContextId(e){mt.isString(e)||this.a("contextId",ht)}},{key:"validatePlayerId",value:function validatePlayerId(e){mt.isString(e)||this.a("playerId",ht)}},{key:"validateOpponentId",value:function validateOpponentId(e){mt.isString(e)||null===e||this.a("opponentId",ht)}},{key:"validateTournamentId",value:function validateTournamentId(e){mt.isString(e)||null===e||this.a("tournamentId",ht)}},{key:"validateLeaderboardId",value:function validateLeaderboardId(e){mt.isString(e)||null===e||this.a("leaderboardId",ht)}},{key:"toObject",value:function toObject(){return _get(_get_prototype_of(pd.prototype),"toObject",this).call(this)}}]),pd}(ae);a(pd,"MatchCustomDataDtos");var sr=pd;sr.makeStrict(),sr.addDefaults(Rt);var qy=sr;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils41=Ludex.Utils,Ft=_Ludex_Utils41.Valid,Bt="is invalid",md=/*#__PURE__*/function(ae){function md(){return _class_call_check(this,md),_call_super(this,md,arguments)}return _inherits(md,ae),_create_class(md,[{key:"Q",value:function Q(e){this.Z(e)}},{key:"q",value:function q(e){this.J(e)}},{key:"o",value:function o(e){this.X(e)}},{key:"validateId",value:function validateId(e){Ft.isString(e)&&e||this.a("id",Bt)}},{key:"validateName",value:function validateName(e){Ft.isString(e)&&e||this.a("name",Bt)}},{key:"validatePhoto",value:function validatePhoto(e){Ft.isString(e)||this.a("photo",Bt)}},{key:"validateScore",value:function validateScore(e){(!Ft.isNumber(e)||e<0)&&this.a("score",Bt)}},{key:"validateBestScore",value:function validateBestScore(e){(!Ft.isNumber(e)||e<0)&&this.a("bestScore",Bt)}},{key:"validateFinished",value:function validateFinished(e){Ft.isBoolean(e)||this.a("finished",Bt)}},{key:"toObject",value:function toObject(){return _get(_get_prototype_of(md.prototype),"toObject",this).call(this)}}]),md}(ae);a(md,"MatchProfileDtos");var bn=md;bn.addDefaults({id:"10",name:"Your Friend",photo:null,score:0,bestScore:0,finished:!1});var Yy=bn;Ludex.Dtos.Match={Data:wn,Profile:Yy,CustomData:qy};var Jy=zy;k(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils42=Ludex.Utils,zv=_Ludex_Utils42.Object,_Ludex_Configs9=Ludex.Configs,Qy=_Ludex_Configs9.ApiHost,qv=a(function(){var n="players";return GameSDK.isGameSDK("MsGames")?n+="?platform=ms-games":GameSDK.isGameSDK("Yandex")&&(n+="?platform=yandex"),n},"getUrl"),Xy=a(function(n){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!Qy)return[2,{}];return[4,Ae(qv(),n,{},Qy,10)];case 1:return t=_state.sent(),[2,zv.hasOwn(t,"data")&&t.data||{}]}})})()},"updatePlayerProfileAsync"),_Ludex_Utils43=Ludex.Utils,Yv=_Ludex_Utils43.Array,Sn=_Ludex_Utils43.Object,Jv=_Ludex_Utils43.Valid,Zy=_Ludex_Utils43.Function,_Ludex_Configs10=Ludex.Configs,Qv=_Ludex_Configs10.AppId,_Ludex_Events=Ludex.Events,Xv=_Ludex_Events.PLAYER_SETTINGS_CHANGED,fd=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function fd(){var _this;return _class_call_check(this,fd),_this=_call_super(this,fd,arguments),_define_property(_this,"fi",Zy.mutex()),_define_property(_this,"ps",!1),_this}return _inherits(fd,_Ludex_Plugins_BasePlugin),_create_class(fd,[{key:"init",value:function init(){this.codex.storage.addStorage("player",De)}},{key:"receiveData",value:function receiveData(e,t){var r=this.codex.storage,o=e.playerId,w=e.name,I=e.photo,D=e.locale;r.setStorageData("player","playerId",o),r.setStorageData("player","name",w),r.setStorageData("player","photo",I),r.setStorageData("player","locale",D),t&&(this.setPlayerData(t),this.ps=!t.isFirstLogin)}},{key:"syncDataToSDK",value:function syncDataToSDK(){return _async_to_generator(function(){var e,t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,this.fi.use("syncDataToSDK")];case 1:e=_state.sent(),_state.label=2;case 2:return _state.trys.push([2,4,5,6]),t=this.getPlayerData(),[4,GameSDK.player.setDataAsync(t)];case 3:return _state.sent(),[3,6];case 4:return e1=_state.sent(),[3,6];case 5:return e.release(),[7];case 6:return[2]}})}).call(this)}},{key:"syncProfileToServer",value:function syncProfileToServer(){return _async_to_generator(function(){var e,t,r,o,w,I,D,_ref,E;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(GameSDK.extra.isGuest)throw Error("Guest player cannot sync profile to server");if(e=this.codex.storage,r=(t=this.getPlayer()).playerId,o=t.name,w=t.photo,I=t.locale,D=this.getPlayerASID(),!(!Jv.isString(D)&&"getASIDAsync"in GameSDK.player))return[3,2];return[4,Zy.handleAsync(GameSDK.player.getASIDAsync(),1e4)];case 1:E=(_ref=_sliced_to_array.apply(void 0,[_state.sent(),2]))[0],!_ref[1]&&E&&(D=E,e.setStorageData("player","ASID",D)),_state.label=2;case 2:return[4,Xy({appId:Qv,ASID:D,playerId:r,name:o,photo:w,locale:I})];case 3:return _state.sent(),[2]}})}).call(this)}},{key:"setPlayerDataByName",value:function setPlayerDataByName(e,t){this.setPlayerData(_define_property({},e,t))}},{key:"setPlayerData",value:function setPlayerData(e){this.codex.storage.setStorageData("player","data",e),this.syncDataToSDK()}},{key:"setBestScore",value:function setBestScore(e){this.setPlayerDataByName("score",e)}},{key:"setSetting",value:function setSetting(e,t){var r=this.codex.event;this.setPlayerDataByName("settings",_define_property({},e,t)),r.emit(Xv,{name:e,value:t})}},{key:"setGameData",value:function setGameData(e){var _this_getGameData,t=null!=(_this_getGameData=this.getGameData())?_this_getGameData:{},r=Sn.merge(t,e);this.setPlayerDataByName("gameData",r)}},{key:"requestConnectedPlayers",value:function requestConnectedPlayers(){return _async_to_generator(function(){var e,t,r,o;return _ts_generator(this,function(_state){switch(_state.label){case 0:return e=this.codex.storage,[4,GameSDK.player.getConnectedPlayersAsync()];case 1:if(t=_state.sent().map(function(w){var I=w.getID(),D=w.getName(),E=w.getPhoto();return I&&D&&E?new It({playerId:I,name:D,photo:E}).toObject():null}),(r=Yv.unique(t)).length<1)return[2];return o=Sn.keyBy(r,"playerId"),e.setStorageData("player","connectedPlayers",o),[2]}})}).call(this)}},{key:"getPlayer",value:function getPlayer(){return this.codex.storage.getStorage("player")}},{key:"getPlayerId",value:function getPlayerId(){var _e_getStorageData;return null!=(_e_getStorageData=this.codex.storage.getStorageData("player","playerId"))?_e_getStorageData:""}},{key:"getPlayerASID",value:function getPlayerASID(){var _e_getStorageData;return null!=(_e_getStorageData=this.codex.storage.getStorageData("player","ASID"))?_e_getStorageData:null}},{key:"getPlayerLocale",value:function getPlayerLocale(){var _e_getStorageData;return null!=(_e_getStorageData=this.codex.storage.getStorageData("player","locale"))?_e_getStorageData:""}},{key:"getPlayerData",value:function getPlayerData(){var _e_getStorageData;return null!=(_e_getStorageData=this.codex.storage.getStorageData("player","data"))?_e_getStorageData:De.data}},{key:"getPlayerDataByKey",value:function getPlayerDataByKey(e){var t=this.getPlayerData();return Sn.hasOwn(t,e)?t[e]:null}},{key:"getGameData",value:function getGameData(){return this.getPlayerDataByKey("gameData")}},{key:"getPlayerSetting",value:function getPlayerSetting(e){var t=this.getPlayerSettings();return Sn.hasOwn(t,e)?t[e]:null}},{key:"getPlayerSettings",value:function getPlayerSettings(){return this.getPlayerData().settings}},{key:"isFirstLogin",value:function isFirstLogin(){var _this_getPlayerDataByKey;return null!=(_this_getPlayerDataByKey=this.getPlayerDataByKey("isFirstLogin"))?_this_getPlayerDataByKey:De.data.isFirstLogin}},{key:"isFirstSession",value:function isFirstSession(){return!this.ps}},{key:"loggedIn",value:function loggedIn(){this.setPlayerDataByName("isFirstLogin",!1)}},{key:"getBestScore",value:function getBestScore(){return this.getPlayerData().score}},{key:"getConnectedPlayers",value:function getConnectedPlayers(){var _e_getStorageData;return null!=(_e_getStorageData=this.codex.storage.getStorageData("player","connectedPlayers"))?_e_getStorageData:{}}},{key:"getConnectedPlayerIds",value:function getConnectedPlayerIds(e,t){return Object.keys(this.getConnectedPlayers()).slice(t,t+e)}},{key:"getNotificationData",value:function getNotificationData(){var _this_getPlayerDataByKey;return null!=(_this_getPlayerDataByKey=this.getPlayerDataByKey("notificationData"))?_this_getPlayerDataByKey:De.data.notificationData}}]),fd}(Ludex.Plugins.BasePlugin);a(fd,"PlayerPlugin");var hd=fd,eg=hd;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var tg=Ludex.Dtos,_Ludex_Utils44=Ludex.Utils,de=_Ludex_Utils44.Valid,qDt=_Ludex_Utils44.Object,_De_data=De.data,Zv=_De_data.score,eb=_De_data.settings,tb=_De_data.gameData,rb=_De_data.isFirstLogin,nb=_De_data.missionsData,ab=_De_data.notificationData,ob=_De_data.dailyRewardedData,sb=_De_data.lastCallSwitchGame,ue="is invalid",yd=/*#__PURE__*/function(ae){function yd(){return _class_call_check(this,yd),_call_super(this,yd,arguments)}return _inherits(yd,ae),_create_class(yd,[{key:"Fa",value:function Fa(e){de.isObject(e)&&(e.settings=new tg.Player.Settings(e.settings).toObject(),e.gameData=new tg.Player.GameData(e.gameData).toObject())}},{key:"Q",value:function Q(e){this.Z(e)}},{key:"q",value:function q(e){this.J(e)}},{key:"o",value:function o(e){this.X(e)}},{key:"validateScore",value:function validateScore(e){(!de.isNumber(e)||e<0)&&this.a("score",ue)}},{key:"validateSettings",value:function validateSettings(e){de.isObject(e)||this.a("settings",ue)}},{key:"validateMissionsData",value:function validateMissionsData(e){de.isObject(e)||this.a("missionsData",ue),"process"in e&&de.isObject(e.process)||this.a("missionsData.process",ue)}},{key:"validateNotificationData",value:function validateNotificationData(e){de.isObject(e)||this.a("notificationData",ue),"D1"in e&&de.isObject(e.D1)||this.a("notificationData.D1",ue),"D2"in e&&de.isObject(e.D2)||this.a("notificationData.D2",ue),"D3"in e&&de.isObject(e.D3)||this.a("notificationData.D3",ue),"D4"in e&&de.isObject(e.D4)||this.a("notificationData.D4",ue),"D5"in e&&de.isObject(e.D5)||this.a("notificationData.D5",ue),"D6"in e&&de.isObject(e.D6)||this.a("notificationData.D6",ue),"D7"in e&&de.isObject(e.D7)||this.a("notificationData.D7",ue)}},{key:"validateGameData",value:function validateGameData(e){de.isObject(e)||this.a("gameData",ue)}},{key:"validateIsFirstLogin",value:function validateIsFirstLogin(e){de.isBoolean(e)||this.a("isFirstLogin",ue)}},{key:"validateDailyRewardedData",value:function validateDailyRewardedData(e){de.isObject(e)||this.a("dailyRewardedData",ue)}},{key:"validateLastCallSwitchGame",value:function validateLastCallSwitchGame(e){de.isNumber(e)||this.a("lastCallSwitchGame",ue),e<0&&this.a("lastCallSwitchGame",ue)}},{key:"toObject",value:function toObject(){return _get(_get_prototype_of(yd.prototype),"toObject",this).call(this)}}]),yd}(ae);a(yd,"PlayerDataDtos");var Dn=yd;Dn.addDefaults({score:Zv,settings:eb,gameData:tb,isFirstLogin:rb,missionsData:nb,notificationData:ab,dailyRewardedData:ob,lastCallSwitchGame:sb});var rg=Dn;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils45=Ludex.Utils,ng=_Ludex_Utils45.Valid,_De_data_gameData=De.data.gameData,ib=_De_data_gameData.level,cb=_De_data_gameData.coins,gd=/*#__PURE__*/function(ae){function gd(){return _class_call_check(this,gd),_call_super(this,gd,arguments)}return _inherits(gd,ae),_create_class(gd,[{key:"Q",value:function Q(e){this.Z(e)}},{key:"q",value:function q(e){this.J(e)}},{key:"o",value:function o(e){this.X(e)}},{key:"validateLevel",value:function validateLevel(e){(!ng.isNumber(e)||e<0)&&this.a("level","is invalid")}},{key:"validateCoins",value:function validateCoins(e){(!ng.isNumber(e)||e<0)&&this.a("coins","is invalid")}},{key:"toObject",value:function toObject(){return _get(_get_prototype_of(gd.prototype),"toObject",this).call(this)}}]),gd}(ae);a(gd,"PlayerGameDataDtos");var In=gd;In.addDefaults({level:ib,coins:cb});var ag=In;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils46=Ludex.Utils,En=_Ludex_Utils46.Valid,_De_data_settings=De.data.settings,lb=_De_data_settings.sound,db=_De_data_settings.music,ub=_De_data_settings.vibrate,pb=_De_data_settings.language,Ln="is invalid",Pd=/*#__PURE__*/function(ae){function Pd(){return _class_call_check(this,Pd),_call_super(this,Pd,arguments)}return _inherits(Pd,ae),_create_class(Pd,[{key:"Q",value:function Q(e){this.Z(e)}},{key:"q",value:function q(e){this.J(e)}},{key:"o",value:function o(e){this.X(e)}},{key:"validateSound",value:function validateSound(e){En.isBoolean(e)||this.a("sound",Ln)}},{key:"validateMusic",value:function validateMusic(e){En.isBoolean(e)||this.a("music",Ln)}},{key:"validateVibrate",value:function validateVibrate(e){En.isBoolean(e)||this.a("vibrate",Ln)}},{key:"validateLanguage",value:function validateLanguage(e){En.isString(e)&&e||this.a("language",Ln)}},{key:"toObject",value:function toObject(){return _get(_get_prototype_of(Pd.prototype),"toObject",this).call(this)}}]),Pd}(ae);a(Pd,"PlayerSettingsDtos");var Cn=Pd;Cn.addDefaults({sound:lb,music:db,vibrate:ub,language:pb});var og=Cn;Ludex.Dtos.Player={Info:It,Data:rg,Settings:og,GameData:ag};var sg=eg;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Configs11=Ludex.Configs,ig=_Ludex_Configs11.ApiHost,mb=_Ludex_Configs11.Mockup,_Ludex_Utils47=Ludex.Utils,hb=_Ludex_Utils47.Object,fb=_Ludex_Utils47.String,wd=/*#__PURE__*/function(){function wd(){_class_call_check(this,wd),_define_property(this,"I",void 0)}return _create_class(wd,[{key:"ue",value:function ue(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.I)return[2];return[4,Promise.resolve().then(function(){return k(),Q})];case 1:if("function"!=typeof(e=_state.sent().default))throw Error("Cannot load ProfileAPIMock");return this.I=new e,[2]}})}).call(this)}},{key:"getPlayersAsync",value:function getPlayersAsync(e){return _async_to_generator(function(){var t,r;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(t=fb.params(e),!mb.Profile.Enabled)return[3,3];return[4,this.ue()];case 1:return _state.sent(),[4,this.I.getPlayersAsync(e)];case 2:return r=_state.sent(),[3,5];case 3:if(!ig)return[2,[]];return[4,qe("players?".concat(t),{},ig)];case 4:r=_state.sent(),_state.label=5;case 5:return[2,hb.hasOwn(r,"data")&&Array.isArray(r.data)?r.data:[]]}})}).call(this)}}]),wd}();a(wd,"ProfileAPI");var xd=wd,cg=xd;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var yb={profiles:{},profileIds:[]},$d=yb,gb=Ludex.Utils,Pb=Ludex.Dtos,lg=gb.Array,xb=gb.Valid,wb=gb.Object,$b=gb.Function,vd=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function vd(){var _this;return _class_call_check(this,vd),_this=_call_super(this,vd,arguments),_define_property(_this,"gi",new cg),_this}return _inherits(vd,_Ludex_Plugins_BasePlugin),_create_class(vd,[{key:"init",value:function init(){this.codex.storage.addStorage("profile",$d)}},{key:"requestProfiles",value:function requestProfiles(e){return _async_to_generator(function(){var _this,t,r,o,w,I;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_this=this,t=this.getProfileIds(),(r=lg.difference(e,t)).length<1)return[2];return o=lg.chunk(r,400).map(function(D){return _this.gi.getPlayersAsync({playerIds:D})}),[4,$b.allSettled(o)];case 1:if(w=_state.sent().reduce(function(D,E){return"fulfilled"===E.status?D.concat(E.value):D},[]),!this.wi(w))return[2];return I=this.xi(w),this.Ai(I),[2]}})}).call(this)}},{key:"getProfile",value:function getProfile(e){var _this_getProfiles_e;return null!=(_this_getProfiles_e=this.getProfiles()[e])?_this_getProfiles_e:null}},{key:"getProfiles",value:function getProfiles(){var _e_getStorageData;return null!=(_e_getStorageData=this.codex.storage.getStorageData("profile","profiles"))?_e_getStorageData:$d.profiles}},{key:"Ai",value:function Ai(e){var t=this.codex.storage;t.setStorageData("profile","profiles",e),t.setStorageData("profile","profileIds",Object.keys(e))}},{key:"getProfileIds",value:function getProfileIds(){var _e_getStorageData;return null!=(_e_getStorageData=this.codex.storage.getStorageData("profile","profileIds"))?_e_getStorageData:[]}},{key:"wi",value:function wi(e){return!(!Array.isArray(e)||e.length<1)}},{key:"xi",value:function xi(e){var t={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=e[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var r=_step.value;wb.hasOwn(r,"playerId")&&xb.isString(r.playerId)&&(t[r.playerId]=new Pb.Player.Info(r).toObject())}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return t}}]),vd}(Ludex.Plugins.BasePlugin);a(vd,"ProfilePlugin");var Ad=vd,dg=Ad,ug=dg;k(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var pg="Save The Pets",_Ludex_Utils48=Ludex.Utils,bd=_Ludex_Utils48.Object,mg=_Ludex_Utils48.Valid,hg=_Ludex_Utils48.Browser,Dd=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function Dd(e){var _this;return _class_call_check(this,Dd),_define_property(_this=_call_super(this,Dd,[e]),"Se",void 0),_define_property(_this,"ys",{}),_this.Se={},_this}return _inherits(Dd,_Ludex_Plugins_BasePlugin),_create_class(Dd,[{key:"addStorage",value:function addStorage(_0,_1){return _async_to_generator(function(e,t){var r,_tmp,_arguments=arguments;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(r=_arguments.length>2&&void 0!==_arguments[2]&&_arguments[2],this.Se[e]=t,!(_tmp=r))return[3,2];return[4,this.vi(e,t)];case 1:_tmp=_state.sent(),_state.label=2;case 2:return[2]}})}).apply(this,arguments)}},{key:"vi",value:function vi(e,t){return _async_to_generator(function(){var r,o,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,w;return _ts_generator(this,function(_state){switch(_state.label){case 0:return this.ys[e]=!0,[4,hg.getIndexedDB("".concat(pg,"_S_").concat(e))];case 1:if(r=_state.sent(),!mg.isObject(r))return[2];o=Object.keys(t),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(_iterator=o[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)w=_step.value,bd.hasOwn(r,w)&&_type_of(t[w])==_type_of(r[w])&&this.setStorageData(e,w,r[w])}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return[2]}})}).call(this)}},{key:"initStorageData",value:function initStorageData(e,t,r){this.Se[e][t]=r}},{key:"setStorageData",value:function setStorageData(e,t,r){var o;if(mg.isObject(r)){var w=this.getStorageData(e,t);o=bd.merge(w,r)}else o=r;this.Se[e][t]=o}},{key:"getStorageData",value:function getStorageData(e,t){return this.getStorage(e)[t]}},{key:"getStorage",value:function getStorage(e){return this.Se[e]}},{key:"updateToWebStorage",value:function updateToWebStorage(_0){return _async_to_generator(function(e){var _this,t,_arguments=arguments;return _ts_generator(this,function(_state){return _this=this,t=_arguments.length>1&&void 0!==_arguments[1]&&_arguments[1],this.ys[e]&&requestAnimationFrame(function(){return _this.Pi(e,t)}),[2]})}).apply(this,arguments)}},{key:"Pi",value:function Pi(_0){return _async_to_generator(function(e){var t,r,_arguments=arguments;return _ts_generator(this,function(_state){switch(_state.label){case 0:return t=_arguments.length>1&&void 0!==_arguments[1]&&_arguments[1],r=this.getStorage(e),[4,hg.setIndexedDB("".concat(pg,"_S_").concat(e),r)];case 1:return _state.sent(),t&&bd.assign(this.Se[e],{}),[2]}})}).apply(this,arguments)}}]),Dd}(Ludex.Plugins.BasePlugin);a(Dd,"StoragePlugin");var Sd=Dd,fg=Sd,yg=fg;s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var Ed=/*#__PURE__*/function(_Ludex_Plugins_BasePlugin){function Ed(){var _this;return _class_call_check(this,Ed),_this=_call_super(this,Ed,arguments),_define_property(_this,"Je",!0),_define_property(_this,"Ii",["moz","ms","o","","webkit"]),_define_property(_this,"Et",a(function(e){var t={focus:_this.Xe.bind(_this),pageshow:_this.Xe.bind(_this),nativeResume:_this.Xe.bind(_this),blur:_this.Ze.bind(_this),pagehide:_this.Ze.bind(_this),nativePause:_this.Ze.bind(_this)};if(t[e])return void t[e]();if(document.visibilityState)return void("hidden"===document.visibilityState?_this.Ze():_this.Xe());var r=_this.fs(),o=_this.gs(r);o in document&&(document[o]?_this.Ze():_this.Xe())},"handleVisibilityChange$")),_this}return _inherits(Ed,_Ludex_Plugins_BasePlugin),_create_class(Ed,[{key:"init",value:function init(){this.Di(),this.Ei(),this.Si()}},{key:"Di",value:function Di(){var e=this.fs(),t=[this.bi(e),"focus","blur"],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=t[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var r=_step.value;this.Dt(window,r),this.Dt(document,r)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.Dt(window,"pageshow"),this.Dt(window,"pagehide")}},{key:"Ei",value:function Ei(){var _this=this;GameSDK.extra&&("onPause"in GameSDK.extra&&GameSDK.extra.onPause(function(){return _this.Et("blur")}),"onResume"in GameSDK.extra&&GameSDK.extra.onResume(function(){return _this.Et("focus")}))}},{key:"Si",value:function Si(){var _this=this;window.addEventListener("message",function(e){("nativePause"===e.data||"nativeResume"===e.data)&&_this.Et(e.data)},!1)}},{key:"isGameVisible",value:function isGameVisible(){return this.Je}},{key:"gs",value:function gs(e){return e?"".concat(e,"Hidden"):"hidden"}},{key:"bi",value:function bi(e){return"".concat(e||"","visibilitychange")}},{key:"fs",value:function fs(){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.Ii[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var e=_step.value;if(this.gs(e)in document)return e}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return""}},{key:"Xe",value:function Xe(){this.Je||(this.Je=!0,this.codex.event.emit(Ludex.Events.VISIBILITY_VISIBLE))}},{key:"Ze",value:function Ze(){this.Je&&(this.Je=!1,this.codex.event.emit(Ludex.Events.VISIBILITY_HIDDEN))}},{key:"Dt",value:function Dt(e,t){var _this=this;e.addEventListener(t,function(){_this.Et(t)},!1)}}]),Ed}(Ludex.Plugins.BasePlugin);a(Ed,"VisibilityPlugin");var Id=Ed,gg=Id,Pg=gg;k(),k(),k(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Utils49=Ludex.Utils,xg=_Ludex_Utils49.Object,_Ludex_Plugins6=Ludex.Plugins,_Ludex_Plugins_Ads=_Ludex_Plugins6.Ads,We=_Ludex_Plugins_Ads.Status,Je=_Ludex_Plugins_Ads.Types,Tn=_Ludex_Plugins_Ads.AdError,Ab=_Ludex_Plugins_Ads.AdInstance,Cd=/*#__PURE__*/function(Ab){function Cd(e,t){var _this;return _class_call_check(this,Cd),_define_property(_this=_call_super(this,Cd,[e,t]),"R",void 0),_define_property(_this,"B",void 0),_define_property(_this,"et",[]),_this.R=GameSDK.getSDKName(),_this.B=null,_this}return _inherits(Cd,Ab),_create_class(Cd,[{key:"setInstance",value:function setInstance(e){e||this.setStatus(We.IDLE),this.B=e}},{key:"loadAsync",value:function loadAsync(){return _async_to_generator(function(){var _$e,e,_self_codex_analytics;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.B&&this.status===We.FILLED)return[3,5];if(this.status!==We.IDLE)throw new Tn("AD_NOT_READY","Ad is not ready.");_state.label=1;case 1:return _state.trys.push([1,4,,5]),[4,this.Li(this.type)];case 2:if(_$e=_state.sent(),this.setInstance(_$e),null===this.B)throw new Tn("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");return this.setStatus(We.LOADING),[4,this.B.loadAsync()];case 3:return _state.sent(),this.setStatus(We.FILLED),this.Oi(),[3,5];case 4:throw e=_state.sent(),this.setStatus(We.IDLE),_instanceof(e,Object)&&"code"in e&&"INVALID_PARAM"===e.code&&this.setInstance(null),this.B&&this.Ni(this.B),null==(_self_codex_analytics=self.codex.analytics)||_self_codex_analytics.loadAdFail({type:this.type,service:this.R}),e;case 5:return[2]}})}).call(this)}},{key:"showAsync",value:function showAsync(){return _async_to_generator(function(){var e,_self_codex_analytics,t,_self_codex_analytics1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(this.status!==We.FILLED)throw new Tn("AD_NOT_FILLED","Ad is not filled.");if(null===this.B)throw new Tn("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");e=!1,_state.label=1;case 1:return _state.trys.push([1,3,4,5]),this.setStatus(We.SHOWING),null==(_self_codex_analytics=self.codex.analytics)||_self_codex_analytics.showingAd({type:this.type,service:this.R}),[4,this.B.showAsync()];case 2:return _state.sent(),e=!0,this.setInstance(null),[3,5];case 3:throw t=_state.sent(),xg.hasOwn(t,"code")&&("AD_NOT_LOADED"===t.code&&this.setStatus(We.IDLE),["INVALID_PARAM","INVALID_OPERATION","USER_INPUT"].indexOf("".concat(t.code))>-1&&this.setInstance(null),"USER_INPUT"===t.code&&(e=!0)),this.status===We.SHOWING&&this.setInstance(null),t;case 4:return e?this._i():null==(_self_codex_analytics1=self.codex.analytics)||_self_codex_analytics1.showAdFail({type:this.type,service:this.R}),[7];case 5:return[2]}})}).call(this)}},{key:"Li",value:function Li(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),[4,this.Ti(e)];case 1:return[2,_state.sent()];case 2:return t=_state.sent(),[2,xg.hasOwn(t,"code")&&"ADS_TOO_MANY_INSTANCES"===t.code?this.Ci():null];case 3:return[2]}})}).call(this)}},{key:"Ti",value:function Ti(e){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(e){case Je.REWARDED_VIDEO:return[2,GameSDK.getRewardedVideoAsync(this.placementId)];case Je.INTERSTITIAL:return[2,GameSDK.getInterstitialAdAsync(this.placementId)];case Je.REWARDED_INTERSTITIAL:return[2,GameSDK.getRewardedInterstitialAsync(this.placementId)];default:return[2,null]}})}).call(this)}},{key:"Ci",value:function Ci(){if(!("canLoadAd"in GameSDK.extra))return this.et.shift()||null;var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.et[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var e=_step.value;if(GameSDK.extra.canLoadAd(e))return this.et.splice(this.et.indexOf(e),1),e}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return null}},{key:"Oi",value:function Oi(){var _self_codex_analytics,_self_codex_analytics1,_self_codex_analytics2;switch(this.type){case Je.INTERSTITIAL:null==(_self_codex_analytics=self.codex.analytics)||_self_codex_analytics.loadInterstitialAd({service:this.R});break;case Je.REWARDED_VIDEO:null==(_self_codex_analytics1=self.codex.analytics)||_self_codex_analytics1.loadRewardedVideoAd({service:this.R});break;case Je.REWARDED_INTERSTITIAL:null==(_self_codex_analytics2=self.codex.analytics)||_self_codex_analytics2.loadRewardedInterstitialAd({service:this.R})}}},{key:"_i",value:function _i(){var _self_codex_analytics,_self_codex_analytics1,_self_codex_analytics2;switch(this.type){case Je.INTERSTITIAL:null==(_self_codex_analytics=self.codex.analytics)||_self_codex_analytics.showInterstitialAd({service:this.R});break;case Je.REWARDED_VIDEO:null==(_self_codex_analytics1=self.codex.analytics)||_self_codex_analytics1.showRewardedVideoAd({service:this.R});break;case Je.REWARDED_INTERSTITIAL:null==(_self_codex_analytics2=self.codex.analytics)||_self_codex_analytics2.showRewardedInterstitialAd({service:this.R})}}},{key:"Ni",value:function Ni(e){this.et.push(e)}}]),Cd}(Ab);a(Cd,"NormalAdInstance");var Ld=Cd,wg=Ld;k(),k(),k(),k(),k(),s(),i(),c(),l(),d(),x(),u(),p(),m(),h(),f(),y(),g(),P();var _Ludex_Plugins_Analytics=Ludex.Plugins.Analytics,vb=_Ludex_Plugins_Analytics.BaseAnalytics,st=_Ludex_Plugins_Analytics.Events,bb=[st.SCREEN_OPEN],_Ludex_Utils50=Ludex.Utils,Sb=_Ludex_Utils50.Array,Md=/*#__PURE__*/function(vb){function Md(e,t){return _class_call_check(this,Md),_call_super(this,Md,[e,"GoogleAnalytics",Se(N({},t),{color:"#E35335"})])}return _inherits(Md,vb),_create_class(Md,[{key:"Er",value:function Er(e,t){Sb.has(bb,e)||(this.Ri(e,t),gtag("event",e,t))}},{key:"Ri",value:function Ri(e,t){switch(e){case st.AD_LOAD:case st.AD_LOAD_FAILED:case st.AD_SHOW:case st.AD_SHOW_FAILED:case st.AD_SHOWING:case st.USE_ITEM:case st.EARN_ITEM:this.Mi(t)}}},{key:"Mi",value:function Mi(e){if(e&&(null==(_this_codex=this.codex)?void 0:_this_codex.match)){var _this_codex,t=this.codex.match.getMatchState().customData.level;!t||t<0||(e.level_name=this.getLevelName(t))}}}]),Md}(vb);a(Md,"GoogleAnalytics");var Td=Md,Mn=Td;k(),k(),k(),k(),wr();var $g="production",Od=1,Db=Ludex.Dtos,it=Ludex.Events,_Ludex_Configs12=Ludex.Configs,Ib=_Ludex_Configs12.AppId,Qe=_Ludex_Configs12.Ads,Eb=_Ludex_Configs12.Context,ze=_Ludex_Configs12.Debugger,Ag=_Ludex_Configs12.Firebase,ir=_Ludex_Configs12.Analytics,Lb=_Ludex_Configs12.Notification,Cb=_Ludex_Configs12.RemoteConfig,Tb=_Ludex_Configs12.PerformanceMonitor,vg=_Ludex_Configs12.AdaptivePerformance,Mb=Ludex.Plugins,_Ludex_Utils51=Ludex.Utils,Ob=_Ludex_Utils51.Device,bg=_Ludex_Utils51.Object,cr=_Ludex_Utils51.Json,Sg=_Ludex_Utils51.String,Nb=_Ludex_Utils51.Valid,Rb=_Ludex_Utils51.Time,Dg=_Ludex_Utils51.Function,Ig=_Ludex_Utils51.Mark,Rd=/*#__PURE__*/function(Zm){function Rd(){var _this,_this1;return _class_call_check(this,Rd),_this=_call_super(this,Rd,arguments),_define_property(_this1=_this,"y","Core Initialize"),_define_property(_this1,"me",[]),_define_property(_this1,"ws",a(function(){return _async_to_generator(function(){var _this_mark,_this_context,_this_context1,_this_context2,_this_mark1,_$e,e,_this_monitorError;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(!Eb.Enabled)return[3,4];_state.label=1;case 1:return _state.trys.push([1,3,,4]),null==(_this_mark=_this1.mark)||_this_mark.putAttr(_this1.y,"Step","Process Context Payload"),[4,null==(_this_context=_this1.context)?void 0:_this_context.detectContextSessionType()];case 2:return _state.sent(),null==(_this_context1=_this1.context)||_this_context1.detectContextGameMode(),_$e=null==(_this_context2=_this1.context)?void 0:_this_context2.getSessionContextType(),null==(_this_mark1=_this1.mark)||_this_mark1.putAttr(_this1.y,"Context Mode",null!=_$e?_$e:"unknown"),[3,4];case 3:return e=_state.sent(),null==(_this_monitorError=_this1.monitorError)||_this_monitorError.sendException(Dg.toError(e)),[3,4];case 4:return[2]}})})()},"processContextSession$")),_define_property(_this1,"oo",a(function(){var _this_player,e=ze.ListPlayerDevIds,t=null==(_this_player=_this1.player)?void 0:_this_player.getPlayerId();"development"!==$g&&t&&0>e.indexOf(t)||(_this1.po(),_this1.yo())},"addDevPlugins$")),_define_property(_this1,"Xi",a(function(){_this1.event.getEventEmitCount(Ee.MODULE_PLUGIN_READY)<_this1.me.length||(window.codex=Object.freeze(window.codex),xt(window,"codex"))},"handleProtectGameInstance$")),_define_property(_this1,"ao",a(function(){if(_this1.canvasRecorder){var e=ze.CanvasRecorder,_e_Options=e.Options,t=_e_Options.Type,r=_e_Options.Quality,o=_e_Options.RecordFps,w=_e_Options.SyncFps;_this1.canvasRecorder.configure({type:t,quality:r,syncFps:w,recordFps:o}),_this1.canvasRecorder.setPanelExpanded(e.PanelExpanded)}},"initCanvasRecorderPlugin$")),_define_property(_this1,"eo",a(function(){if(_this1.monitorError){var _this_player,_window_disableSimpleTrackErrors,_window,_this_player_getPlayer,e=ze.MonitorError,t=ze.ListPlayerDevIds,r=e.ApiKey,o=e.Service,w=e.TrackUser,I=e.FilterErrors,_ref=null!=(_this_player_getPlayer=null==(_this_player=_this1.player)?void 0:_this_player.getPlayer())?_this_player_getPlayer:{},D=_ref.playerId,E=_ref.name;D&&t.indexOf(D)>=0||(null==(_window_disableSimpleTrackErrors=(_window=window).disableSimpleTrackErrors)||_window_disableSimpleTrackErrors.call(_window),_this1.monitorError.configure({apiKey:r,service:o,trackUser:w,releaseStage:$g,buildVersion:"".concat(null!=Od?Od:1)}),_this1.monitorError.setUser({id:null!=D?D:null,name:null!=E?E:null}),_this1.monitorError.addFilterErrors(I),_this1.Ao(),_this1.vo())}},"initMonitorErrorPlugin$")),_define_property(_this1,"Ao",a(function(){_this1.event.catchUp(it.PLAYER_INFO_LOADED,_this1.Po)},"updateMonitorErrorUserAndMetadata$")),_define_property(_this1,"vo",a(function(){if(_this1.monitorError&&Array.isArray(window.__errorQueue)){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=window.__errorQueue[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var e=_step.value;if(_instanceof(e,Error))_this1.monitorError.sendException(e);else{var t=Dg.toError(e);_this1.monitorError.sendException(t)}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}window.__errorQueue=null}},"processErrorsQueue$")),_define_property(_this1,"Po",a(function(){if(_this1.player&&_this1.monitorError){var _this_player_getPlayer=_this1.player.getPlayer(),e=_this_player_getPlayer.playerId,t=_this_player_getPlayer.name;_this1.monitorError.setUser({id:e,name:t}),_this1.monitorError.addMetadata({isFirstSession:_this1.player.isFirstSession()})}},"processWhenPlayerInfoLoaded$")),_define_property(_this1,"Io",a(function(e){try{var _this_player,t=_define_property({},e.type,e);null==(_this_player=_this1.player)||_this_player.setPlayerDataByName("remoteConfig",t)}catch(e){}},"handleSaveRemoteConfig$")),_define_property(_this1,"Do",a(function(e){try{var _this_ads,t=e.id,r=e.type;if("Ludex"!==r)return;Ludex.Configs=bg.merge(Ludex.Configs,e.config);var o=Ludex.Configs.Ads;null==(_this_ads=_this1.ads)||_this_ads.configure(o),_this1.event.emit(Ee.REMOTE_CONFIG_UPDATED,{id:t,type:r})}catch(e){}},"handleUpdateLudexConfig$")),_define_property(_this1,"Eo",a(function(){if(_this1.player&&_this1.remoteConfig){var e=_this1.player.getPlayerDataByKey("remoteConfig");if(e){for(var t in e)if(bg.hasOwn(e,t)){var r=e[t],o=cr.clone(r),w=new Db.RemoteConfig.Data(o).toObject();_this1.remoteConfig.setRemoteConfig(w),_this1.remoteConfig.processUpdateConfig(w.id,w.type)}}}},"handleStorageCurrentRemoteConfig$")),_define_property(_this1,"ro",a(function(){if(_this1.adaptivePerformance){var e=cr.clone(vg);_this1.adaptivePerformance.configure(e)}},"initAdaptivePerformancePlugin$")),_define_property(_this1,"io",a(function(){if(_this1.inputRecorder){var e=ze.InputRecorder,t=cr.clone(e);t&&_this1.inputRecorder.configure(t)}},"initInputRecorderPlugin$")),_define_property(_this1,"So",a(function(){Lb.Enabled&&_this1.bo()},"processAfterSyncProfile$")),_this}return _inherits(Rd,Zm),_create_class(Rd,[{key:"getBuildVersion",value:function getBuildVersion(){return parseInt(Od,10)||0}},{key:"boot",value:function boot(){var _this=this,_this1=this,_superprop_get_boot=function(){return _get(_get_prototype_of(Rd.prototype),"boot",_this)};return _async_to_generator(function(){var _this_mark,_this_mark1,_this_mark2,_this_mark3;return _ts_generator(this,function(_state){return _superprop_get_boot().call(_this1),this.$i(),this.Gi(),this.event.emit(it.CORE_BOOTING),this.Ui(),this.ki(),this.Fi(),ir.Enabled&&(null==(_this_mark=this.mark)||_this_mark.putAttr(this.y,"Step","Init Analytics"),this.ji(),this.Bi(),this.Hi(),this.Ki(),this.Vi(),this.Wi(),this.zi(),this.Yi()),null==(_this_mark1=this.mark)||_this_mark1.putAttr(this.y,"Step","Init Plugins"),this.qi(),this.Qi(),this.Ji(),null==(_this_mark2=this.mark)||_this_mark2.putAttr(this.y,"Step","Load Lazy Plugins"),Nb.isDebugger()||this.event.on(it.MODULE_PLUGIN_READY,this.Xi),this.Zi().then(this.eo),this.to().then(this.ao),this.so().then(this.ro),this.no().then(this.io),null==(_this_mark3=this.mark)||_this_mark3.putAttr(this.y,"Step","Load Dev Plugins"),this.event.catchUp(it.GAME_SDK_READY,this.oo),[2]})}).call(this)}},{key:"Ui",value:function Ui(){return _async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,Rb.sleepAsync(5e3)];case 1:return _state.sent(),this.event.getEventListeners(it.CORE_BOOTING).length,[2]}})}).call(this)}},{key:"start",value:function start(){var _this=this,_this1=this,_superprop_get_start=function(){return _get(_get_prototype_of(Rd.prototype),"start",_this)};return _async_to_generator(function(){var _this_mark,_this_mark1,_this_auth,_this_mark2,_this_mark3,_this_mark4,_this_mark5,_this_mark6,_tmp;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _superprop_get_start().call(_this1),null==(_this_mark=this.mark)||_this_mark.putAttr(this.y,"Step","Core Start"),this.event.emit(it.CORE_STARTING),null==(_this_mark1=this.mark)||_this_mark1.putAttr(this.y,"Step","Request Token"),[4,null==(_this_auth=this.auth)?void 0:_this_auth.requestToken()];case 1:return _state.sent(),null==(_this_mark2=this.mark)||_this_mark2.putAttr(this.y,"Step","Init States"),[4,this.lo()];case 2:if(_state.sent(),null==(_this_mark3=this.mark)||_this_mark3.putAttr(this.y,"Step","Process Player Profile"),this.co(),!(GameSDK.isGameSDK("FacebookInstant")&&Ob.isIOS()))return[3,3];return _tmp=this.event.catchUp(it.GAME_SDK_STARTED,this.ws),[3,5];case 3:return[4,this.ws()];case 4:_tmp=_state.sent(),_state.label=5;case 5:return null==(_this_mark4=this.mark)||_this_mark4.putAttr(this.y,"Step","Core Ready"),null==(_this_mark5=this.mark)||_this_mark5.putAttr(this.y,"Success","true"),this.event.emit(it.CORE_READY),null==(_this_mark6=this.mark)||_this_mark6.stop(this.y),[2]}})}).call(this)}},{key:"$i",value:function $i(){this.d("Storage",yg),this.d("Event",gf),this.d("Ads",ph),this.d("Auth",Eh),this.d("Audio",Sh),this.d("Match",Jy),this.d("Player",sg),this.d("Profile",ug),this.d("Context",df),this.d("Language",vf),this.d("Missions",O),this.d("Analytics",xh),this.d("Visibility",Pg),this.d("Leaderboard",Lf),this.d("DailyRewards",O),this.d("FrameCapture",wf),this.d("RemoteConfig",O),"Proxy"in window&&this.d("Firebase",O)}},{key:"d",value:function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Sg.toCamelCase(Sg.capitalize(e));this.plugins.install(e,t,!0,o)&&"Storage"!==e&&(r?this.ho(e):this.uo(e))}},{key:"Zi",value:function Zi(){return _async_to_generator(function(){var t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),!ze.MonitorError.Enabled)return[2];return this.me.push("MonitorError"),[4,Promise.resolve().then(function(){return k(),Q})];case 1:if("function"!=typeof(t=_state.sent().default))return[2];return this.d("MonitorError",t,!0),[3,3];case 2:return e1=_state.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"to",value:function to(){return _async_to_generator(function(){var t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),!ze.CanvasRecorder.Enabled)return[2];return this.me.push("CanvasRecorder"),[4,Promise.resolve().then(function(){return k(),Q})];case 1:if("function"!=typeof(t=_state.sent().default))throw Error("CanvasRecorderPlugin is not a function");return this.d("CanvasRecorder",t,!0),[3,3];case 2:return e1=_state.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"so",value:function so(){return _async_to_generator(function(){var e,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),!vg.Enabled)return[2];return this.me.push("AdaptivePerformance"),[4,Promise.resolve().then(function(){return k(),Q})];case 1:if("function"!=typeof(e=_state.sent().default))return[2];return this.d("AdaptivePerformance",e,!0),[3,3];case 2:return e1=_state.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"no",value:function no(){return _async_to_generator(function(){var t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),!ze.InputRecorder.Enabled)return[2];return this.me.push("InputRecorder"),[4,Promise.resolve().then(function(){return k(),Q})];case 1:if("function"!=typeof(t=_state.sent().default))return[2];return this.d("InputRecorder",t,!0),[3,3];case 2:return e1=_state.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"po",value:function po(){return _async_to_generator(function(){var e,t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),!(e=ze.Console).Enabled||!e.UseInGameConsole)return[2];return this.me.push("Console"),[4,Promise.resolve().then(function(){return k(),Q})];case 1:if("function"!=typeof(t=_state.sent().default))throw Error("ConsolePlugin is not a function");return this.d("Console",t,!0),this.mo(),[3,3];case 2:return e1=_state.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"yo",value:function yo(){return _async_to_generator(function(){var t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),!ze.Profiler.Enabled)return[2];return this.me.push("Profiler"),[4,Promise.resolve().then(function(){return k(),Q})];case 1:if("function"!=typeof(t=_state.sent().default))throw Error("ProfilerPlugin is not a function");return this.d("Profiler",t,!0),this.fo(),[3,3];case 2:return e1=_state.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"uo",value:function uo(e){this.event.emit(Ee.CORE_PLUGIN_READY,{name:e})}},{key:"ho",value:function ho(e){this.event.emit(Ee.MODULE_PLUGIN_READY,{name:e})}},{key:"Gi",value:function Gi(){ze.EventLogging.Enabled&&this.event.enableLogEvent()}},{key:"Qi",value:function Qi(){this.match&&this.match.setUseCPUProfile(!1)}},{key:"qi",value:function qi(){var _this_ads,_this_analytics;Qe.Enabled&&(null==(_this_ads=this.ads)||_this_ads.configure(Qe),this.go(),this.wo(),this.xo(),null==(_this_analytics=this.analytics)||_this_analytics.initAdEvent({adService:"platform",state:"loaded"}))}},{key:"go",value:function go(){return _async_to_generator(function(){var e,t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),!(e=Qe.AdServiceConfigs.AdSense).Enabled)return[2];return[4,(t=new O(this)).initAsync({usePreload:e.UsePreload,dataAdHost:e.DataAdHost,dataAdClient:e.DataAdClient,dataAdChannel:e.DataAdChannel,dataAdBreakTest:e.DataAdBreakTest,dataAdFrequencyHint:e.DataAdFrequencyHint})];case 1:return _state.sent(),window.GoogleAds=t,[3,3];case 2:return e1=_state.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"wo",value:function wo(){return _async_to_generator(function(){var e,t,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),!(e=Qe.AdServiceConfigs.Savana).Enabled)return[2];return[4,(t=new O(this)).initAsync({usePreload:e.UsePreload,dataAdHost:e.DataAdHost,dataAdClient:e.DataAdClient,dataAdChannel:e.DataAdChannel,dataAdBreakTest:e.DataAdBreakTest,dataAdFrequencyHint:e.DataAdFrequencyHint})];case 1:return _state.sent(),window.TranssionH5Ads=t,[3,3];case 2:return e1=_state.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"St",value:function St(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_Qe_AdServiceConfigs=Qe.AdServiceConfigs,r=_Qe_AdServiceConfigs.AdSense,o=_Qe_AdServiceConfigs.AppLovin,w=_Qe_AdServiceConfigs.Savana;switch(e){case"adsense":if(r.Enabled)return O;break;case"applovin":o.Enabled;break;case"savana":if(w.Enabled)return O;break;default:return t?O:wg}return null}},{key:"xo",value:function xo(){var e=Mb.Ads.Types,t="default",_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=Qe.InterstitialAdOptions[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _this_ads,o=_step.value,w=o.PlacementId,I=o.AdService,tmp=o.DeviceOS,D=void 0===tmp?t:tmp,E=this.St(I);E&&(null==(_this_ads=this.ads)||_this_ads.setAdInstance(e.INTERSTITIAL,w,E,D))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion1=!0,_didIteratorError1=!1,_iteratorError1=void 0;try{for(var _step1,_iterator1=Qe.RewardedVideoAdOptions[Symbol.iterator]();!(_iteratorNormalCompletion1=(_step1=_iterator1.next()).done);_iteratorNormalCompletion1=!0){var _this_ads1,o1=_step1.value,w1=o1.PlacementId,I1=o1.AdService,tmp1=o1.DeviceOS,D1=void 0===tmp1?t:tmp1,E1=this.St(I1);E1&&(null==(_this_ads1=this.ads)||_this_ads1.setAdInstance(e.REWARDED_VIDEO,w1,E1,D1))}}catch(err){_didIteratorError1=!0,_iteratorError1=err}finally{try{_iteratorNormalCompletion1||null==_iterator1.return||_iterator1.return()}finally{if(_didIteratorError1)throw _iteratorError1}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=Qe.RewardedInterstitialAdOptions[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _this_ads2,o2=_step2.value,w2=o2.PlacementId,I2=o2.AdService,tmp2=o2.DeviceOS,D2=void 0===tmp2?t:tmp2,E2=this.St(I2);E2&&(null==(_this_ads2=this.ads)||_this_ads2.setAdInstance(e.REWARDED_INTERSTITIAL,w2,E2,D2))}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}var r=!0,_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=Qe.BannerDisplayAdOptions[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var _this_ads3,o3=_step3.value,w3=o3.PlacementId,I3=o3.AdService,tmp3=o3.DeviceOS,D3=void 0===tmp3?t:tmp3,E3=this.St(I3,r);E3&&(null==(_this_ads3=this.ads)||_this_ads3.setAdInstance(e.BANNER,w3,E3,D3))}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}},{key:"lo",value:function lo(){return _async_to_generator(function(){var e,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:return _state.trys.push([0,2,,3]),(e=new oh(this)).initContext(),[4,e.initPlayer()];case 1:return _state.sent(),[3,3];case 2:return e1=_state.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"mo",value:function mo(){this.console&&this.console.configure()}},{key:"fo",value:function fo(){this.profiler&&this.profiler.configure()}},{key:"Ji",value:function Ji(){if(this.remoteConfig){var e=cr.clone(Cb);this.remoteConfig.configure(e),this.event.on(Ee.REQUEST_SAVE_CONFIG,this.Io),this.event.on(Ee.REQUEST_UPDATE_CONFIG,this.Do),this.event.catchUp(Ee.PLAYER_INFO_LOADED,this.Eo)}}},{key:"ki",value:function ki(){if(Ag.Enabled&&this.firebase){var e=cr.clone(Ag);this.firebase.configure(e),Ig.setService(this.firebase.services.performance)}}},{key:"mark",get:function get(){return Tb.CoreFlows?Ig:null}},{key:"Fi",value:function Fi(){var e=this.mark;e&&(e.measure(this.y),e.putAttr(this.y,"Build","".concat(Od)),e.putAttr(this.y,"GameSDK",GameSDK.getSDKName()),e.putAttr(this.y,"Platform",GameSDK.getPlatform()),e.putAttr(this.y,"Success","false"),e.start(this.y))}},{key:"co",value:function co(){return _async_to_generator(function(){var e;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),!this.player)return[2];return[4,this.player.syncProfileToServer()];case 1:return _state.sent(),this.So(),[3,3];case 2:return e=_state.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"bo",value:function bo(){return _async_to_generator(function(){var e,t,r,o,w,e1;return _ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,2,,3]),!this.player)return[2];return t=(e=this.player.getPlayer()).ASID,r=e.playerId,o=e.locale,w=!1,"isNEZP"in GameSDK.extra&&(w=GameSDK.extra.isNEZP()),!w&&"isRestricted"in GameSDK.extra&&(w=GameSDK.extra.isRestricted()),[4,nh({appId:Ib,ASID:t,playerId:r,locale:o,platform:GameSDK.getPlatform(),platformMode:w?"NEZP":"NORMAL"})];case 1:return _state.sent(),[3,3];case 2:return e1=_state.sent(),[3,3];case 3:return[2]}})}).call(this)}},{key:"ji",value:function ji(){if(this.analytics){var _ir_GoogleAnalytics,_ref=null!=(_ir_GoogleAnalytics=ir.GoogleAnalytics)?_ir_GoogleAnalytics:{},e=_ref.Enabled,t=_ref.ConsoleLog;e&&"function"==typeof Mn&&_instanceof(Mn.prototype,Object)&&this.analytics.add(new Mn(this.codex,{log:!!t}))}}},{key:"Bi",value:function Bi(){if(this.analytics){var _this_player,_GameSDK_extra,_ir_ClarityAnalytics,_this_player_getPlayer,_GameSDK_extra_isGuest,_ref=null!=(_ir_ClarityAnalytics=ir.ClarityAnalytics)?_ir_ClarityAnalytics:{},e=_ref.Enabled,t=_ref.ConsoleLog;if(e&&"function"==typeof O&&_instanceof(O.prototype,Object)){var r=new O(this.codex,{log:!!t}),_ref1=null!=(_this_player_getPlayer=null==(_this_player=this.player)?void 0:_this_player.getPlayer())?_this_player_getPlayer:{},o=_ref1.playerId;o&&r.setUser(o,null==(_GameSDK_extra_isGuest=null==(_GameSDK_extra=GameSDK.extra)?void 0:_GameSDK_extra.isGuest)||_GameSDK_extra_isGuest),this.analytics.add(r)}}}},{key:"Hi",value:function Hi(){var _ir_FirebaseAnalytics,_this=this;if(this.analytics){var _ref=null!=(_ir_FirebaseAnalytics=ir.FirebaseAnalytics)?_ir_FirebaseAnalytics:{},e=_ref.Enabled,t=_ref.ConsoleLog;if(e&&"function"==typeof O&&_instanceof(O.prototype,Object)){var r=new O(this.codex,{log:!!t});this.analytics.add(r);var o="no_entry";GameSDK.getEntryPointAsync().then(function(w){o=w}).catch(function(w){}).finally(function(){var _this_player,_this_player_getPlayer,_ref=null!=(_this_player_getPlayer=null==(_this_player=_this.player)?void 0:_this_player.getPlayer())?_this_player_getPlayer:{},w=_ref.playerId,I=_ref.locale,_ref1=GameSDK.getEntryPointData()||{},D=_ref1.fbig_ad_id,E=_ref1.fbig_adset_id,S=_ref1.fbig_campaign_id,b=_ref1.fb_instant_game_adset_id,L=_ref1.fb_instant_game_ad_id,_=_ref1.fb_instant_game_campaign_id,C=D||L,R=E||b,z=S||_;w&&r.setUser(w,{locale:I,ad_id:C,adset_id:R,campaign_id:z,traffic_source:o})})}}}},{key:"Ki",value:function Ki(){this.analytics&&GameSDK.isGameSDK("Yandex")&&"function"==typeof O&&_instanceof(O.prototype,Object)&&this.analytics.add(new O(this.codex))}},{key:"Vi",value:function Vi(){this.analytics&&GameSDK.isGameSDK("Xiaomi")&&"function"==typeof O&&_instanceof(O.prototype,Object)&&this.analytics.add(new O(this.codex))}},{key:"zi",value:function zi(){this.analytics&&GameSDK.isGameSDK("Playable")&&"function"==typeof O&&_instanceof(O.prototype,Object)&&this.analytics.add(new O(this.codex))}},{key:"Wi",value:function Wi(){if(this.analytics){var _ir_FacebookAnalytics,_ref=null!=(_ir_FacebookAnalytics=ir.FacebookAnalytics)?_ir_FacebookAnalytics:{},e=_ref.Enabled,t=_ref.Prefix,r=_ref.ConsoleLog;!e||!GameSDK.isGameSDK("FacebookInstant")||"string"==typeof t&&"function"==typeof O&&_instanceof(O.prototype,Object)&&this.analytics.add(new O(this.codex,{prefix:t,log:!!r}))}}},{key:"Yi",value:function Yi(){this.analytics&&GameSDK.isGameSDK("TranssionH5")&&"function"==typeof O&&_instanceof(O.prototype,Object)&&this.analytics.add(new O(this.codex))}}]),Rd}(Zm);a(Rd,"MagicCodex");var Nd=Rd,Eg=Nd,_Ludex_Configs13=Ludex.Configs,_Ludex_Configs_GameEngine=_Ludex_Configs13.GameEngine,On=_Ludex_Configs_GameEngine.ForceDesktopDPR,_Ludex_Utils52=Ludex.Utils,_b=_Ludex_Utils52.Device,_d=Ludex.Events,kb=a(function(){return _async_to_generator(function(){var n;return _ts_generator(this,function(_state){switch(_state.label){case 0:return n=new Eg,window.codex=n,("undefined"==typeof globalThis?"undefined":_type_of(globalThis))<"u"&&(globalThis.codex=n),window.__sdkLoad.ensure(1),[4,n.boot()];case 1:return _state.sent(),window.__sdkLoad.ensure(5),n.event.catchUp(_d.REQUEST_CORE_START,Cg),[2]}})})()},"initGame"),Lg=!1,Cg=a(function(){if(!Lg){if(1>codex.event.getEventEmitCount(_d.GAME_SDK_READY))return void codex.event.catchUp(_d.GAME_SDK_READY,Cg);codex.start(),Lg=!0,window.__sdkLoad.ensure(15)}},"startGame");!1!==On&&_b.isDesktop()&&"number"==typeof On&&On>0&&(window.devicePixelRatio=On),kb()}();