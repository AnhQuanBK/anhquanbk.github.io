"use strict";
function _instanceof1(left, right) {
    return null != right && "u" > typeof Symbol && right[Symbol.hasInstance] ? !!right[Symbol.hasInstance](left) : left instanceof right;
}
function _type_of1(obj) {
    return obj && "u" > typeof Symbol && obj.constructor === Symbol ? "symbol" : typeof obj;
}
function _array_like_to_array(arr, len) {
    (null == len || len > arr.length) && (len = arr.length);
    for(var i = 0, arr2 = Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _array_with_holes(arr) {
    if (Array.isArray(arr)) return arr;
}
function _array_without_holes(arr) {
    if (Array.isArray(arr)) return _array_like_to_array(arr);
}
function _assert_this_initialized(self1) {
    if (void 0 === self1) throw ReferenceError("this hasn't been initialised - super() hasn't been called");
    return self1;
}
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
    try {
        var info = gen[key](arg), value = info.value;
    } catch (error) {
        reject(error);
        return;
    }
    info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
}
function _async_to_generator(fn) {
    return function() {
        var self1 = this, args = arguments;
        return new Promise(function(resolve, reject) {
            var gen = fn.apply(self1, args);
            function _next(value) {
                asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
            }
            function _throw(err) {
                asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
            }
            _next(void 0);
        });
    };
}
function _call_super(_this, derived, args) {
    return derived = _get_prototype_of(derived), _possible_constructor_return(_this, _is_native_reflect_construct() ? Reflect.construct(derived, args || [], _get_prototype_of(_this).constructor) : derived.apply(_this, args));
}
function _class_call_check(instance, Constructor) {
    if (!_instanceof1(instance, Constructor)) throw TypeError("Cannot call a class as a function");
}
function _construct(Parent, args, Class) {
    return (_construct = _is_native_reflect_construct() ? Reflect.construct : function construct(Parent, args, Class) {
        var a = [
            null
        ];
        a.push.apply(a, args);
        var instance = new (Function.bind.apply(Parent, a))();
        return Class && _set_prototype_of(instance, Class.prototype), instance;
    }).apply(null, arguments);
}
function _defineProperties(target, props) {
    for(var i = 0; i < props.length; i++){
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor);
    }
}
function _create_class(Constructor, protoProps, staticProps) {
    return protoProps && _defineProperties(Constructor.prototype, protoProps), staticProps && _defineProperties(Constructor, staticProps), Constructor;
}
function _define_property(obj, key, value) {
    return key in obj ? Object.defineProperty(obj, key, {
        value: value,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : obj[key] = value, obj;
}
function _get(target, property, receiver) {
    return (_get = "u" > ("u" < typeof Reflect ? "undefined" : _type_of1(Reflect)) && Reflect.get ? Reflect.get : function get(target, property, receiver) {
        var base = _super_prop_base(target, property);
        if (base) {
            var desc = Object.getOwnPropertyDescriptor(base, property);
            return desc.get ? desc.get.call(receiver || target) : desc.value;
        }
    })(target, property, receiver || target);
}
function _get_prototype_of(o) {
    return (_get_prototype_of = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {
        return o.__proto__ || Object.getPrototypeOf(o);
    })(o);
}
function _inherits(subClass, superClass) {
    if ("function" != typeof superClass && null !== superClass) throw TypeError("Super expression must either be null or a function");
    subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
            value: subClass,
            writable: !0,
            configurable: !0
        }
    }), superClass && _set_prototype_of(subClass, superClass);
}
function _instanceof(left, right) {
    return null != right && "u" > ("u" < typeof Symbol ? "undefined" : _type_of1(Symbol)) && right[Symbol.hasInstance] ? !!right[Symbol.hasInstance](left) : _instanceof1(left, right);
}
function _is_native_function(fn) {
    return -1 !== Function.toString.call(fn).indexOf("[native code]");
}
function _iterable_to_array(iter) {
    if ("u" > ("u" < typeof Symbol ? "undefined" : _type_of1(Symbol)) && null != iter[Symbol.iterator] || null != iter["@@iterator"]) return Array.from(iter);
}
function _iterable_to_array_limit(arr, i) {
    var _s, _e, _i = null == arr ? null : "u" > ("u" < typeof Symbol ? "undefined" : _type_of1(Symbol)) && arr[Symbol.iterator] || arr["@@iterator"];
    if (null != _i) {
        var _arr = [], _n = !0, _d = !1;
        try {
            for(_i = _i.call(arr); !(_n = (_s = _i.next()).done) && (_arr.push(_s.value), !i || _arr.length !== i); _n = !0);
        } catch (err) {
            _d = !0, _e = err;
        } finally{
            try {
                _n || null == _i.return || _i.return();
            } finally{
                if (_d) throw _e;
            }
        }
        return _arr;
    }
}
function _non_iterable_rest() {
    throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _non_iterable_spread() {
    throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _possible_constructor_return(self1, call) {
    return call && ("object" === _type_of(call) || "function" == typeof call) ? call : _assert_this_initialized(self1);
}
function set(target, property, value, receiver) {
    return (set = "u" > ("u" < typeof Reflect ? "undefined" : _type_of1(Reflect)) && Reflect.set ? Reflect.set : function set1(target, property, value, receiver) {
        var desc, base = _super_prop_base(target, property);
        if (base) {
            if ((desc = Object.getOwnPropertyDescriptor(base, property)).set) return desc.set.call(receiver, value), !0;
            if (!desc.writable) return !1;
        }
        if (desc = Object.getOwnPropertyDescriptor(receiver, property)) {
            if (!desc.writable) return !1;
            desc.value = value, Object.defineProperty(receiver, property, desc);
        } else _define_property(receiver, property, value);
        return !0;
    })(target, property, value, receiver);
}
function _set(target, property, value, receiver, isStrict) {
    if (!set(target, property, value, receiver || target) && isStrict) throw Error("failed to set property");
    return value;
}
function _set_prototype_of(o, p) {
    return (_set_prototype_of = Object.setPrototypeOf || function setPrototypeOf(o, p) {
        return o.__proto__ = p, o;
    })(o, p);
}
function _sliced_to_array(arr, i) {
    return _array_with_holes(arr) || _iterable_to_array_limit(arr, i) || _unsupported_iterable_to_array(arr, i) || _non_iterable_rest();
}
function _super_prop_base(object, property) {
    for(; !Object.prototype.hasOwnProperty.call(object, property) && null !== (object = _get_prototype_of(object)););
    return object;
}
function _to_consumable_array(arr) {
    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();
}
function _type_of(obj) {
    return obj && "u" > typeof Symbol && obj.constructor === Symbol ? "symbol" : typeof obj;
}
function _unsupported_iterable_to_array(o, minLen) {
    if (o) {
        if ("string" == typeof o) return _array_like_to_array(o, minLen);
        var n = Object.prototype.toString.call(o).slice(8, -1);
        if ("Object" === n && o.constructor && (n = o.constructor.name), "Map" === n || "Set" === n) return Array.from(n);
        if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);
    }
}
function _wrap_native_super(Class) {
    var _cache = "function" == typeof Map ? new Map() : void 0;
    return (_wrap_native_super = function wrapNativeSuper(Class) {
        if (null === Class || !_is_native_function(Class)) return Class;
        if ("function" != typeof Class) throw TypeError("Super expression must either be null or a function");
        if (void 0 !== _cache) {
            if (_cache.has(Class)) return _cache.get(Class);
            _cache.set(Class, Wrapper);
        }
        function Wrapper() {
            return _construct(Class, arguments, _get_prototype_of(this).constructor);
        }
        return Wrapper.prototype = Object.create(Class.prototype, {
            constructor: {
                value: Wrapper,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), _set_prototype_of(Wrapper, Class);
    })(Class);
}
function _is_native_reflect_construct() {
    try {
        var result = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
    } catch (_) {}
    return (_is_native_reflect_construct = function _is_native_reflect_construct1() {
        return !!result;
    })();
}
function _ts_generator(thisArg, body) {
    var f, y, t, _ = {
        label: 0,
        sent: function sent() {
            if (1 & t[0]) throw t[1];
            return t[1];
        },
        trys: [],
        ops: []
    }, g = Object.create(("function" == typeof Iterator ? Iterator : Object).prototype), d = Object.defineProperty;
    return d(g, "next", {
        value: verb(0)
    }), d(g, "throw", {
        value: verb(1)
    }), d(g, "return", {
        value: verb(2)
    }), "function" == typeof Symbol && d(g, Symbol.iterator, {
        value: function value() {
            return this;
        }
    }), g;
    function verb(n) {
        return function(v) {
            return step([
                n,
                v
            ]);
        };
    }
    function step(op) {
        if (f) throw TypeError("Generator is already executing.");
        for(; g && (g = 0, op[0] && (_ = 0)), _;)try {
            if (f = 1, y && (t = 2 & op[0] ? y.return : op[0] ? y.throw || ((t = y.return) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            switch(y = 0, t && (op = [
                2 & op[0],
                t.value
            ]), op[0]){
                case 0:
                case 1:
                    t = op;
                    break;
                case 4:
                    return _.label++, {
                        value: op[1],
                        done: !1
                    };
                case 5:
                    _.label++, y = op[1], op = [
                        0
                    ];
                    continue;
                case 7:
                    op = _.ops.pop(), _.trys.pop();
                    continue;
                default:
                    if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                        _ = 0;
                        continue;
                    }
                    if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                        _.label = op[1];
                        break;
                    }
                    if (6 === op[0] && _.label < t[1]) {
                        _.label = t[1], t = op;
                        break;
                    }
                    if (t && _.label < t[2]) {
                        _.label = t[2], _.ops.push(op);
                        break;
                    }
                    t[2] && _.ops.pop(), _.trys.pop();
                    continue;
            }
            op = body.call(thisArg, _);
        } catch (e) {
            op = [
                6,
                e
            ], y = 0;
        } finally{
            f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
            value: op[0] ? op[1] : void 0,
            done: !0
        };
    }
}
!function() {
    var define_GAME_CONFIG_default, define_GAME_SDK_CONFIG_default, wc, wev, listeners, originalAddEventListener, MAX_LISTENERS_SIZE, wer, MAX_QUEUE_SIZE, clamp, sdk, AVG_LOAD_MS, MAX_RETRY, RETRY_DELAY, MIN_INTERVAL, SLOW_LOADING_MS, GA_TIMEOUT_MS, INITIAL_PERCENT, TARGET_PERCENT, SDK_WAIT_MS, SDK_MAX_WAIT, progressTimer, stopProgressTimer, startProgressTimer, logError, MARK_NAME, monitorGameSDKFlows, logAnalyticsEvent, slowLoadingTimer, startSlowLoadingCheck, clearSlowLoadingCheck, isGAScriptInit, loadGAScript, initGoogleAnalytics, processGoogleAnalytics, updateUserProperties, finalizeAnalyticsInitialization, initGameSDK, waitForGameSDKAndInitialize, getGamepads, noToolbar, noVConsole, initUtils, setupNoToolbar, setupNoVConsole, MARK_NAMES, initCocos, injectFlushSystem, waitSystemForInitCocos, sanitizeUrl, _YoutubeAdapterRequest, YoutubeAdapterRequest, _YoutubeAdapterImage, YoutubeAdapterImage, empty_script_default, _Context, Context_default, _SDKCommonError, SDKCommonError_default, MAX_WAIT_LUDEX_READY_TIME, _Extra, Extra_default, CommonErrorList, GetCatalogErrorList, PurchaseErrorList, GetPurchasesErrorList, ConsumePurchaseErrorList, PRODUCTS_DATA_MOCK_KEY, PURCHASES_DATA_MOCK_KEY, _Payments, Payments_default, GameName, avatarUrl, _Player, Player_default, _TournamentInstance, TournamentInstance_default, CommonErrorList2, CreateErrorList, JoinErrorList, ShareErrorList, PostScoreErrorList, GetTournamentsErrorList, TOURNAMENTS_DATA_MOCK_KEY, TOURNAMENT_LEADERS_MOCK_KEY, _Tournament, Tournament_default, _GameSDK, GameSDK_default2, _AdInstance, AdInstance_default, ErrorCodes, _YTAdInstance, YTAdInstance_default, _YTExtra, YTExtra_default, _YTPlayer, YTPlayer_default, _YTAdapter, YTAdapter_default, _AccessBlocker, accessBlocker, accessBlocker_default, disableSimpleTrackErrors = function disableSimpleTrackErrors() {
        var list = [
            "error",
            "unhandledrejection"
        ], listeners2 = null != (_wer___listeners = wer.__listeners) ? _wer___listeners : [], _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
        try {
            for(var _wer___listeners, _step, _iterator = list[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                var _listeners2_name2, name2 = _step.value;
                (null == (_listeners2_name2 = listeners2[name2]) ? void 0 : _listeners2_name2[0]) && wer.removeEventListener(name2, wer.__listeners[name2].shift());
            }
        } catch (err) {
            _didIteratorError = !0, _iteratorError = err;
        } finally{
            try {
                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
            } finally{
                if (_didIteratorError) throw _iteratorError;
            }
        }
    }, errorHandler = function errorHandler(error) {
        wer.__errorQueue && (wer.__errorQueue.length >= MAX_QUEUE_SIZE && (wer.__errorQueue.length = 0), wer.__errorQueue.push("string" == typeof error ? Error(error) : error));
    }, init = function init() {
        wer.addEventListener("error", function(event) {
            errorHandler(event.error);
        }), wer.addEventListener("unhandledrejection", function(event) {
            errorHandler(event.reason);
        });
    }, trace = function trace() {
        var args = arguments;
        "event" === args[0] && ("object" !== _type_of(args[2]) && (args[2] = {}), args[2].build = 5, args[2].send_to = "GA", args[2].extend_session = 1), window.dataLayer.push(args);
    }, addGoogleAnalyticsScript = function addGoogleAnalyticsScript() {
        try {
            return;
        } catch (error) {
            console.warn("Error adding preload google analytics script", error);
        }
    }, simpleHash = function simpleHash(str) {
        for(var hash = 0, i = 0; i < str.length; i++)hash = (hash << 5) - hash + str.charCodeAt(i) | 0;
        return hash;
    }, autoDetectAndInitializeSDKAdapter = function autoDetectAndInitializeSDKAdapter() {
        var sdkAdapter, w = window, sdkName = "GameSDK";
        return "FBInstant" in w ? (sdkName = "FBInstant", sdkAdapter = new empty_script_default(window.FBInstant)) : "YaGames" in w ? (sdkName = "Yandex", sdkAdapter = new empty_script_default(window.YaGames)) : "funmax" in w ? (sdkName = "Xiaomi", sdkAdapter = new empty_script_default(window.funmax)) : "$msstart" in w ? (sdkName = "MsGames", sdkAdapter = new empty_script_default(window.$msstart)) : "gdsdk" in w ? (sdkName = "GameDistribution", sdkAdapter = new empty_script_default(window.gdsdk)) : "h5sdk" in w ? (sdkName = "TranssionH5", sdkAdapter = new empty_script_default(window.h5sdk)) : "CrazyGames" in w ? (sdkName = "CrazyGames", sdkAdapter = new empty_script_default(window.CrazyGames.SDK)) : "GlanceGamingAdInterface" in w ? (sdkName = "Glance", sdkAdapter = new empty_script_default(window.GlanceGamingAdInterface)) : "mraid" in w ? (sdkName = "Playable", sdkAdapter = new empty_script_default(window.mraid)) : "MetaHorizon" in w ? (sdkName = "Horizon", sdkAdapter = new empty_script_default(window.MetaHorizon)) : "ytgame" in w ? (sdkName = "YoutubePlayables", sdkAdapter = new YTAdapter_default(window.ytgame)) : sdkAdapter = new GameSDK_default2(), console.info("GameSDK loaded (".concat(sdkName, ")")), console.groupEnd(), sdkAdapter;
    }, fun = function fun(input) {
        for(var minLength = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2, result3 = [], words = input.split(" "), n = words.length, len = n; len >= 1; len--)for(var i = 0; i <= n - len; i++){
            var substr = words.slice(i, i + len).join(" ");
            input.split(substr).length - 1 >= minLength && 0 > result3.indexOf(substr) && substr.length > 1 && result3.push(substr);
        }
        return result3.sort(function(a, b) {
            return a.length - b.length;
        });
    }, generateNameUsingString = function generateNameUsingString(seed) {
        var hash = createHash(seed), firstNameIndex = hash % firstNames.length, lastNameIndex = (hash >> 8) % lastNames.length, numberValue = (hash >> 16) % 1e4;
        return "".concat(firstNames[firstNameIndex]).concat(lastNames[lastNameIndex]).concat(numberValue);
    }, requestSetLocale$ = function requestSetLocale$(locale2) {
        codex.event.emit(Events2.REQUEST_LANGUAGE, {
            locale: locale2
        });
    }, nullOrNotEmpty = function nullOrNotEmpty(value) {
        return V11.isEmpty(value) ? null : value;
    }, __create = Object.create, __defProp = Object.defineProperty, __defProps = Object.defineProperties, __getOwnPropDesc = Object.getOwnPropertyDescriptor, __getOwnPropDescs = Object.getOwnPropertyDescriptors, __getOwnPropNames = Object.getOwnPropertyNames, __getOwnPropSymbols = Object.getOwnPropertySymbols, __getProtoOf = Object.getPrototypeOf, __hasOwnProp = Object.prototype.hasOwnProperty, __propIsEnum = Object.prototype.propertyIsEnumerable, __pow = Math.pow, __defNormalProp = function __defNormalProp(obj, key, value) {
        return key in obj ? __defProp(obj, key, {
            enumerable: !0,
            configurable: !0,
            writable: !0,
            value: value
        }) : obj[key] = value;
    }, __spreadValues = function __spreadValues(a, b) {
        for(var prop in b || (b = {}))__hasOwnProp.call(b, prop) && __defNormalProp(a, prop, b[prop]);
        var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
        if (__getOwnPropSymbols) try {
            for(var _step, _iterator = __getOwnPropSymbols(b)[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                var prop = _step.value;
                __propIsEnum.call(b, prop) && __defNormalProp(a, prop, b[prop]);
            }
        } catch (err) {
            _didIteratorError = !0, _iteratorError = err;
        } finally{
            try {
                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
            } finally{
                if (_didIteratorError) throw _iteratorError;
            }
        }
        return a;
    }, __spreadProps = function __spreadProps(a, b) {
        return __defProps(a, __getOwnPropDescs(b));
    }, __name = function __name(target, value) {
        return __defProp(target, "name", {
            value: value,
            configurable: !0
        });
    }, __objRest = function __objRest(source, exclude) {
        var target = {};
        for(var prop in source)__hasOwnProp.call(source, prop) && 0 > exclude.indexOf(prop) && (target[prop] = source[prop]);
        var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
        if (null != source && __getOwnPropSymbols) try {
            for(var _step, _iterator = __getOwnPropSymbols(source)[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                var prop = _step.value;
                0 > exclude.indexOf(prop) && __propIsEnum.call(source, prop) && (target[prop] = source[prop]);
            }
        } catch (err) {
            _didIteratorError = !0, _iteratorError = err;
        } finally{
            try {
                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
            } finally{
                if (_didIteratorError) throw _iteratorError;
            }
        }
        return target;
    }, __esm = function __esm(fn2, res) {
        return function __init() {
            return fn2 && (res = (0, fn2[__getOwnPropNames(fn2)[0]])(fn2 = 0)), res;
        };
    }, __commonJS = function __commonJS(cb, mod) {
        return function __require() {
            return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = {
                exports: {}
            }).exports, mod), mod.exports;
        };
    }, __export = function __export(target, all) {
        for(var name2 in all)__defProp(target, name2, {
            get: all[name2],
            enumerable: !0
        });
    }, __copyProps = function __copyProps(to, from, except, desc) {
        if (from && (void 0 === from ? "undefined" : _type_of(from)) === "object" || "function" == typeof from) {
            var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
            try {
                for(var _step, _loop = function _loop() {
                    var key = _step.value;
                    __hasOwnProp.call(to, key) || key === except || __defProp(to, key, {
                        get: function get() {
                            return from[key];
                        },
                        enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable
                    });
                }, _iterator = __getOwnPropNames(from)[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_loop();
            } catch (err) {
                _didIteratorError = !0, _iteratorError = err;
            } finally{
                try {
                    _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                } finally{
                    if (_didIteratorError) throw _iteratorError;
                }
            }
        }
        return to;
    }, __toESM = function __toESM(mod, isNodeMode, target) {
        return target = null != mod ? __create(__getProtoOf(mod)) : {}, __copyProps(!isNodeMode && mod && mod.__esModule ? target : __defProp(target, "default", {
            value: mod,
            enumerable: !0
        }), mod);
    }, __decorateClass = function __decorateClass(decorators, target, key, kind) {
        for(var decorator, result3 = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target, i = decorators.length - 1; i >= 0; i--)(decorator = decorators[i]) && (result3 = (kind ? decorator(target, key, result3) : decorator(result3)) || result3);
        return kind && result3 && __defProp(target, key, result3), result3;
    }, __publicField = function __publicField(obj, key, value) {
        return __defNormalProp(obj, (void 0 === key ? "undefined" : _type_of(key)) !== "symbol" ? key + "" : key, value);
    }, init_define_GAME_CONFIG = __esm({
        "<define:__GAME_CONFIG__>": function() {
            define_GAME_CONFIG_default = {
                AppId: "save-the-pets",
                AppDescription: "",
                ApiHost: "https://i\
gs-singleplay.suncs.app",
                OtherHost: "https://igs-leaderboard.suncs.app",
                Ads: {
                    Enabled: !0,
                    PreloadAds: !1,
                    NotifyPlayerBeforeShow: !1,
                    ShowAdOnLoad: {
                        Enabled: !1,
                        DelaySeconds: 0,
                        PlacementId: "\
ad_demo_01"
                    },
                    DegradationTracking: {
                        ResetTimeMinutes: 5,
                        MaxFailedAttempts: 8
                    },
                    AdServiceConfigs: {
                        AdSense: {
                            Enabled: !1,
                            UsePreload: !1,
                            DataAdClient: "ca-pub-1234567890",
                            DataAdChannel: "\
1234567890",
                            DataAdBreakTest: !1,
                            DataAdFrequencyHint: 30
                        },
                        Savana: {
                            Enabled: !1,
                            UsePreload: !1,
                            DataAdClient: "ca-pub-1234567890",
                            DataAdChannel: "1234567890",
                            DataAdBreakTest: !1,
                            DataAdFrequencyHint: 45,
                            BannerAdSlotId: "1234567890"
                        },
                        AppLovin: {
                            Enabled: !1,
                            UsePreload: !1
                        }
                    },
                    InterstitialAdOptions: [
                        {
                            DeviceOS: "default",
                            PlacementId: "interstitial_01",
                            SecondsFirstTime: 45,
                            SecondsBetweenAds: 60
                        }
                    ],
                    RewardedVideoAdOptions: [
                        {
                            DeviceOS: "default",
                            PlacementId: "rewarded_video_01",
                            SecondsFirstTime: 0,
                            SecondsBetweenAds: 0
                        }
                    ],
                    RewardedInterstitialAdOptions: [],
                    BannerDisplayAdOptions: []
                },
                Languages: {
                    Enabled: !0,
                    DetectPlayerLocale: !0
                },
                GameSDKOptions: {
                    AllowWithoutSDK: !1,
                    UseNameGenerator: !0,
                    MSGames: {
                        LoginOnStart: !1,
                        MaxLoginAttemptsPerDay: 1
                    },
                    Yandex: {
                        LoginOnStart: !1,
                        MaxLoginAttemptsPerDay: 1
                    },
                    Playable: {
                        AppleAppStoreUrl: "",
                        GooglePlayStoreUrl: ""
                    },
                    TranssionH5: {
                        GaId: "G-XXXXXXXXXX"
                    }
                },
                Core: {
                    InitAsync: !0,
                    AverageLoadTime: 5,
                    StartSDKAfterLoadGame: !1,
                    FastCheckTournamentContext: !0
                },
                GameEngine: {
                    ForceDesktopDPR: 2,
                    AutoResizeCanvas: !0,
                    PreferredFPS: {
                        Mobile: 60,
                        Desktop: 60
                    },
                    DynamicAtlas: {
                        IOS: {
                            Enabled: !0,
                            MaxAtlasSize: 8192,
                            MaxFrameSize: 2048,
                            MaxAtlasCount: 1
                        },
                        Android: {
                            Enabled: !0,
                            MaxAtlasSize: 4096,
                            MaxFrameSize: 2048,
                            MaxAtlasCount: 1
                        },
                        Desktop: {
                            Enabled: !0,
                            MaxAtlasSize: 8192,
                            MaxFrameSize: 2048,
                            MaxAtlasCount: 1
                        },
                        OptimizeAtlas: {
                            Enabled: !0,
                            AtlasDebug: !1,
                            AutoAtlasSize: !0,
                            UsePowerOfTwo: !1,
                            TextureBleeding: !0,
                            AllowNonePackable: !1,
                            OnlyOptimizeWhenRenderTooLong: !0
                        }
                    },
                    DynamicAssets: {
                        Enabled: !1,
                        Resolution: {
                            Source: 2,
                            Available: [
                                1,
                                2
                            ]
                        },
                        Compression: {
                            Debug: !1,
                            Enabled: !1,
                            PNG: {
                                colors: 256,
                                quality: 80,
                                dither: 0.6,
                                palette: !0,
                                compressionLevel: 6
                            },
                            JPEG: {
                                quality: 80,
                                mozjpeg: !0
                            },
                            WEBP: {
                                quality: 80,
                                lossless: !1,
                                alphaQuality: 60,
                                smartSubsample: !0,
                                preset: "drawing"
                            }
                        },
                        IgnoreFiles: []
                    },
                    HybridFileCache: {
                        Enabled: !0,
                        BuildMode: {
                            Enabled: !0,
                            InvalidateMode: "both",
                            SupportedExtensions: [
                                ".json"
                            ]
                        },
                        PreviewMode: {
                            Enabled: !1,
                            CacheScene: !1,
                            CachePrefab: !1,
                            CacheUuidExtension: !1,
                            InvalidateMode: "commitId",
                            SupportedExtensions: [
                                ".json"
                            ]
                        }
                    }
                },
                Gameplay: {
                    StartAdAtLevel: 1,
                    MaxRescueCount: 1,
                    Tutorial: {
                        Enabled: !0,
                        ForceUseTutorial: !1
                    }
                },
                Firebase: {
                    Enabled: !1,
                    Options: {
                        AppId: "",
                        ApiKey: "",
                        ProjectId: "",
                        AuthDomain: "",
                        StorageBucket: "",
                        MeasurementId: "",
                        MessagingSenderId: ""
                    },
                    Services: {
                        Analytics: {
                            Enabled: !1
                        },
                        Performance: {
                            Enabled: !1
                        },
                        RemoteConfig: {
                            Enabled: !1
                        }
                    }
                },
                Analytics: {
                    Enabled: !0,
                    GoogleAnalytics: {
                        Enabled: !0,
                        ConsoleLog: !1
                    },
                    ClarityAnalytics: {
                        Enabled: !1,
                        ConsoleLog: !1,
                        ScreenshotCanvas: {
                            Interval: 1500,
                            ByEvent: [
                                "APP_READY",
                                "PAGE_VIEW",
                                "BUTTON_CLICK",
                                "AD_SHOWING",
                                "LEVEL_START",
                                "LEVEL_END"
                            ]
                        }
                    },
                    FirebaseAnalytics: {
                        Enabled: !1,
                        ConsoleLog: !1
                    },
                    FacebookAnalytics: {
                        Prefix: "fba",
                        Enabled: !1,
                        ConsoleLog: !1
                    }
                },
                PerformanceMonitor: {
                    CoreFlows: !1,
                    EngineFlows: !1,
                    GameSDKFlows: !1,
                    LoadResources: !1,
                    FpsTracking: {
                        Enabled: !1,
                        TrackingDuration: 60,
                        TrackingInterval: 10
                    }
                },
                RemoteConfig: {
                    Enabled: !1,
                    Options: {
                        ForceReloadGame: !1,
                        FetchIntervalInSeconds: 300
                    },
                    ServiceType: "mockup",
                    DefaultConfigId: "default",
                    SupportedDataTypes: [
                        "Ludex",
                        "Gameplay"
                    ],
                    MockupConfig: {
                        Enabled: !0
                    },
                    SelfHostedConfig: {
                        Enabled: !1,
                        AppId: "",
                        ApiKey: "",
                        ApiUrl: ""
                    }
                },
                Network: {
                    MaximumRequest: 6,
                    Timeout: 15e3,
                    Retries: 3
                },
                Leaderboards: {
                    Enabled: !0,
                    LeaderboardList: [
                        {
                            Name: "Daily",
                            Id: "5fed5ccff033f2477a624a66",
                            Mode: "single",
                            Limit: 50
                        },
                        {
                            Name: "Weekly",
                            Id: "5fed5ccff033f2477a624a65",
                            Mode: "single",
                            Limit: 50
                        }
                    ]
                },
                Notification: {
                    Enabled: !1,
                    ApiUrl: "https://notifications.sunstudio.io"
                },
                DailyRewards: {
                    Enabled: !1,
                    MaxDays: 7,
                    MockTime: 0,
                    CheckInterrupt: !1
                },
                Mockup: {
                    Ads: {
                        Enabled: !1,
                        ErrorRate: 5,
                        GiphyApiKey: "VmjHIRsf\
rwCAssDS4mDo9DoImxJm1lLM",
                        SafeAreaBottom: 0
                    },
                    Match: {
                        Enabled: !1,
                        ErrorRate: 5,
                        PlayerInfo: {
                            Id: "player-mock",
                            Name: "Player Mock",
                            Photo: "",
                            Signature: ""
                        },
                        OpponentInfo: {
                            Id: "oppon\
ent-mock",
                            Name: "Opponent Mock",
                            Photo: "",
                            Signature: ""
                        }
                    },
                    GameSDK: {
                        SlowAPI: {
                            Enabled: !1,
                            ErrorRate: 5,
                            StartDelay: 1e3,
                            InitialDelay: 1e3,
                            PlayerDataDelay: 1e3
                        },
                        Context: {
                            Enabled: !1
                        },
                        Player: {
                            SubscribeBot: {
                                Enabled: !1,
                                CanSubscribeBot: !0
                            },
                            ConnectedPlayers: {
                                Enabled: !1,
                                ErrorRate: 5,
                                RandomDelayMs: 1e3,
                                NumOfPlayers: 3
                            }
                        },
                        AddShortcut: {
                            Enabled: !1,
                            CanCreateShortcut: !0
                        },
                        Tournament: {
                            Enabled: !1,
                            ErrorRates: 5,
                            RandomDelayMs: 1e3,
                            NumOfTournament: {
                                Normal: 10,
                                HostPage: 2
                            }
                        },
                        Payments: {
                            Enabled: !1,
                            ErrorRates: 5,
                            RandomDelayMs: 1e3,
                            Products: []
                        }
                    },
                    Profile: {
                        Enabled: !1,
                        ErrorRate: 5,
                        RandomDelayMs: 1e3,
                        AvatarUrl: "https://picsum.photos\
/seed/%1/300/300",
                        RandomNameApiKey: "a1f7164dc9d2468b953aef67b0a19355"
                    },
                    Leaderboards: {
                        Enabled: !1,
                        MinScore: 10,
                        MaxScore: 100,
                        ErrorRate: 5,
                        NumOfLeaders: {
                            Min: 10,
                            Max: 50
                        },
                        DefaultLimit: 60,
                        RandomDelayMs: 1e3
                    }
                },
                Debugger: {
                    Console: {
                        Enabled: !1,
                        UseGroup: !0,
                        UseInGameConsole: !1
                    },
                    Profiler: {
                        Enabled: !1
                    },
                    EventLogging: {
                        Enabled: !1
                    },
                    CanvasRecorder: {
                        Enabled: !1,
                        OnlyCore: !1,
                        PanelExpanded: !1,
                        Options: {
                            Type: "png",
                            Quality: 0.85,
                            RecordFps: 60,
                            SyncFps: !0
                        }
                    },
                    MonitorError: {
                        Enabled: !1,
                        ApiKey: "",
                        Service: "BugSnag",
                        TrackUser: !1,
                        TrackPerformance: !1,
                        FilterErrors: {
                            Codes: {
                                Accepted: [],
                                Ignored: [
                                    "USER_INPUT",
                                    "NETWORK_FAILURE"
                                ]
                            },
                            Messages: {
                                Accepted: [],
                                Ignored: [
                                    "Load image failed"
                                ]
                            }
                        },
                        Feedback: !1
                    },
                    ListPlayerDevIds: [],
                    InputRecorder: {
                        Enabled: !1,
                        Logging: !0,
                        PlaybackDelay: 0,
                        TimeScale: 1,
                        UseVisualizer: !0,
                        SkipInactivity: {
                            Enabled: !0,
                            MinTime: 3e3
                        },
                        MouseEvents: {
                            mousedown: !0,
                            mouseup: !0,
                            mousemove: !0,
                            mouseenter: !0,
                            mouseleave: !0,
                            mouseout: !0,
                            mouseover: !0
                        }
                    }
                },
                AdaptivePerformance: {
                    Enabled: !1,
                    Quality: {
                        Min: 1,
                        Max: 2,
                        AdjustStep: 0.1
                    },
                    Options: {
                        FpsThreshold: 48,
                        CheckInterval: 2e3,
                        AutoUpgradeQuality: !0,
                        OnlyUpdateWhenSwitchScene: !1
                    },
                    TrackingSceneNames: [
                        "GameScene"
                    ]
                },
                FrameCapture: {
                    Enabled: !0,
                    Options: {
                        Quality: 0.85,
                        RenderType: "jpeg",
                        UseBlobIfPossible: !0,
                        FallbackWithWideframe: "Default"
                    }
                },
                Auth: {
                    Enabled: !0
                },
                Audio: {
                    Enabled: !0
                },
                Match: {
                    Enabled: !0
                },
                Player: {
                    Enabled: !0
                },
                Profile: {
                    Enabled: !0
                },
                Context: {
                    Enabled: !0
                },
                Missions: {
                    Enabled: !1
                },
                Visibility: {
                    Enabled: !1
                }
            };
        }
    }), init_define_GAME_SDK_CONFIG = __esm({
        "<define:__GAME_SDK_CONFIG__>": function() {
            define_GAME_SDK_CONFIG_default = {
                AllowWithoutSDK: !1,
                UseNameGenerator: !0
            };
        }
    }), init_console = __esm({
        "extensions/ludex/libs/common/console.ts": function() {
            (wc = window.console).info = wc.log = wc.dir = wc.warn = wc.error = wc.debug = wc.table = wc.trace = wc.group = wc.groupEnd = wc.groupCollapsed = function() {};
        }
    }), init_track_events = __esm({
        "extensions/ludex/libs/common/track-events.ts": function() {
            listeners = {}, (wev = window).__listeners = listeners, originalAddEventListener = wev.addEventListener.bind(wev), MAX_LISTENERS_SIZE = 100, wev.addEventListener = function(name2, listener, options) {
                listeners[name2] || (listeners[name2] = []), listeners[name2].length >= MAX_LISTENERS_SIZE && (listeners[name2].length = 0), listeners[name2].push(listener), originalAddEventListener(name2, listener, options);
            };
        }
    }), init_track_errors = __esm({
        "extensions/ludex/libs/common/track-errors.ts": function() {
            (wer = window).__errorQueue = [], MAX_QUEUE_SIZE = 100, __name(disableSimpleTrackErrors, "disableSimpleTrackErrors"), __name(errorHandler, "errorHandler"), __name(init, "init"), wer.addEventListener("load", function() {
                disableSimpleTrackErrors(), init();
            });
        }
    }), init_progress = __esm({
        "extensions/ludex/libs/progress.ts": function() {
            clamp = __name(function(value) {
                return Math.max(0, Math.min(100, ~~value));
            }, "clamp"), sdk = null, window.__sdkLoad = {
                percent: 0,
                ensure: function ensure(minPercent) {
                    if (!(this.percent > minPercent)) {
                        var clamped = clamp(minPercent);
                        clamped <= this.percent ? console.debug("[Progress] set: skipped (clamped <= current)", {
                            clamped: clamped,
                            currentPercent: this.percent
                        }) : (this.percent = clamped, sdk || (sdk = GameSDK), sdk && sdk.setLoadingProgress(clamped));
                    }
                }
            };
        }
    }), init_init_core = __esm({
        "extensions/ludex/libs/init-core.ts": function() {
            var _window___errorQueue;
            AVG_LOAD_MS = 5000, MAX_RETRY = 5, RETRY_DELAY = 2e3, MIN_INTERVAL = 50, SLOW_LOADING_MS = 8e3, GA_TIMEOUT_MS = 1e4, INITIAL_PERCENT = 5, TARGET_PERCENT = 100, SDK_WAIT_MS = 50, SDK_MAX_WAIT = 1e4, window.__errorQueue = null != (_window___errorQueue = window.__errorQueue) ? _window___errorQueue : [], progressTimer = null, stopProgressTimer = __name(function() {
                progressTimer && clearInterval(progressTimer), progressTimer = null;
            }, "stopProgressTimer"), startProgressTimer = __name(function(target) {}, "startProgressTimer"), logError = __name(function(error) {
                var _Ludex, _window___errorQueue, _codex_monitorError, _codex, errorInfo = null == (_Ludex = Ludex) ? void 0 : _Ludex.Utils.Function.toError(error);
                (null == errorInfo ? void 0 : errorInfo.message) && (logAnalyticsEvent("app_crash_handle", {
                    error: errorInfo.message
                }), null == (_window___errorQueue = window.__errorQueue) || _window___errorQueue.push(errorInfo), null == (_codex = codex) || null == (_codex_monitorError = _codex.monitorError) || _codex_monitorError.sendException(errorInfo));
            }, "logError"), MARK_NAME = "GameSDK Initialize", monitorGameSDKFlows = __name(function() {
                var originalTime = console.time, originalTimeEnd = console.timeEnd, originalTimeLog = console.timeLog, skipMark = __name(function(args) {
                    return args[0] === MARK_NAME;
                }, "skipMark");
                console.time = function() {
                    for(var _originalTime, _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
                    skipMark(args) || (_originalTime = originalTime).call.apply(_originalTime, [
                        console
                    ].concat(_to_consumable_array(args)));
                }, console.timeEnd = function() {
                    for(var _originalTimeEnd, _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
                    skipMark(args) || (_originalTimeEnd = originalTimeEnd).call.apply(_originalTimeEnd, [
                        console
                    ].concat(_to_consumable_array(args)));
                }, console.timeLog = function() {
                    for(var _originalTimeLog, _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
                    skipMark(args) || (_originalTimeLog = originalTimeLog).call.apply(_originalTimeLog, [
                        console
                    ].concat(_to_consumable_array(args)));
                };
            }, "monitorGameSDKFlows"), logAnalyticsEvent = __name(function(eventName, eventData) {
                var _codex_analytics, _codex;
                eventName && (null == (_codex = codex) || null == (_codex_analytics = _codex.analytics) || _codex_analytics.event(eventName, eventData));
            }, "logAnalyticsEvent"), slowLoadingTimer = null, startSlowLoadingCheck = __name(function() {
                clearSlowLoadingCheck(), slowLoadingTimer = setTimeout(function() {
                    var _GameSDK_extra_displayWarnLoading, _GameSDK_extra, _GameSDK;
                    window.__sdkLoad.percent <= INITIAL_PERCENT && (null == (_GameSDK = GameSDK) || null == (_GameSDK_extra = _GameSDK.extra) || null == (_GameSDK_extra_displayWarnLoading = _GameSDK_extra.displayWarnLoading) || _GameSDK_extra_displayWarnLoading.call(_GameSDK_extra, !0));
                }, SLOW_LOADING_MS);
            }, "startSlowLoadingCheck"), clearSlowLoadingCheck = __name(function() {
                var _GameSDK_extra_displayWarnLoading, _GameSDK_extra, _GameSDK;
                null !== slowLoadingTimer && (clearTimeout(slowLoadingTimer), slowLoadingTimer = null), null == (_GameSDK = GameSDK) || null == (_GameSDK_extra = _GameSDK.extra) || null == (_GameSDK_extra_displayWarnLoading = _GameSDK_extra.displayWarnLoading) || _GameSDK_extra_displayWarnLoading.call(_GameSDK_extra, !1);
            }, "clearSlowLoadingCheck"), isGAScriptInit = !1, loadGAScript = __name(function(tagId) {
                return _async_to_generator(function() {
                    var gaScript;
                    return _ts_generator(this, function(_state) {
                        return isGAScriptInit ? [
                            2
                        ] : (isGAScriptInit = !0, (gaScript = document.createElement("script")).src = "https://www.googletagmanager.com/gtag/js?id=".concat(tagId), gaScript.async = !0, [
                            2,
                            new Promise(function(resolve, reject) {
                                var isHandled = !1, timeout = null, loadHandler = null, errorHandler2 = null, cleanup = __name(function() {
                                    null !== timeout && clearTimeout(timeout), loadHandler && gaScript.removeEventListener("load", loadHandler), errorHandler2 && gaScript.removeEventListener("error", errorHandler2);
                                }, "cleanup");
                                timeout = setTimeout(function() {
                                    isHandled || (isHandled = !0, cleanup(), reject(Error("Timeout loading GA script after ".concat(GA_TIMEOUT_MS / 1e3, "s"))));
                                }, GA_TIMEOUT_MS), loadHandler = __name(function() {
                                    isHandled || (isHandled = !0, cleanup(), resolve());
                                }, "loadHandler"), errorHandler2 = __name(function() {
                                    isHandled || (isHandled = !0, cleanup(), reject(Error("Failed to load GA script")));
                                }, "errorHandler"), gaScript.addEventListener("load", loadHandler), gaScript.addEventListener("error", errorHandler2), document.head.appendChild(gaScript);
                            })
                        ]);
                    });
                })();
            }, "loadGAScript"), initGoogleAnalytics = __name(function(userId, entryPoint, tagIds) {
                try {
                    if ("function" != typeof window.gtag) return;
                    var entryPointData2 = (null == (_GameSDK = GameSDK) ? void 0 : _GameSDK.getEntryPointData()) || {}, fbig_ad_id = entryPointData2.fbig_ad_id, fbig_adset_id = entryPointData2.fbig_adset_id, fbig_campaign_id = entryPointData2.fbig_campaign_id, fb_instant_game_adset_id = entryPointData2.fb_instant_game_adset_id, fb_instant_game_ad_id = entryPointData2.fb_instant_game_ad_id, fb_instant_game_campaign_id = entryPointData2.fb_instant_game_campaign_id, ad_id = null != (_ref = null != fbig_ad_id ? fbig_ad_id : fb_instant_game_ad_id) ? _ref : void 0, adset_id = null != (_ref1 = null != fbig_adset_id ? fbig_adset_id : fb_instant_game_adset_id) ? _ref1 : void 0, campaign_id = null != (_ref2 = null != fbig_campaign_id ? fbig_campaign_id : fb_instant_game_campaign_id) ? _ref2 : void 0;
                    window.dataLayer = window.dataLayer || [], window.gtag("js", new Date()), window.gtag("set", {
                        client_id: "100.".concat(userId),
                        user_id: userId,
                        send_page_view: !1
                    });
                    var buildVersion = 5, _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _ref, _ref1, _ref2, _GameSDK, _Ludex_Utils_Browser, _Ludex_Utils, _Ludex, _step, _iterator = tagIds[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                            var tagId = _step.value;
                            window.gtag("config", tagId, {
                                cookie_flags: "SameSite=None;Secure",
                                build: buildVersion,
                                medium: entryPoint,
                                campaign: campaign_id,
                                groups: "GA"
                            });
                        }
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                    var trafficSourceDetail = ((null == (_Ludex = Ludex) || null == (_Ludex_Utils = _Ludex.Utils) || null == (_Ludex_Utils_Browser = _Ludex_Utils.Browser) ? void 0 : _Ludex_Utils_Browser.getQueryParams()) || {}).entry_point || entryPoint, initialUserProperties = {
                        user_id: userId,
                        player_id: userId,
                        app_version: buildVersion,
                        traffic_source: entryPoint,
                        traffic_source_detail: trafficSourceDetail,
                        ad_id: ad_id,
                        adset_id: adset_id,
                        campaign_id: campaign_id,
                        new_user: void 0,
                        coins: void 0,
                        score: void 0
                    };
                    window.gtag("set", "user_properties", initialUserProperties);
                } catch (error) {
                    logError(error);
                }
            }, "initGoogleAnalytics"), processGoogleAnalytics = __name(function() {
                return _async_to_generator(function() {
                    var tagIdsRaw, tagList, primaryTagId, _GameSDK_player, _GameSDK, userId, entryPoint, _ref;
                    return _ts_generator(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                tagIdsRaw = null, tagList = [], _state.label = 1;
                            case 1:
                                if (_state.trys.push([
                                    1,
                                    9,
                                    10,
                                    11
                                ]), !tagIdsRaw) return console.warn("GA_TAGS_IDS not defined, skipping GA initialization."), [
                                    2
                                ];
                                if (0 === (tagList = tagIdsRaw.split(" ").filter(Boolean)).length && tagList.push("G-3ZG4F3ZNXH"), !(primaryTagId = tagList[0]) || "null" === primaryTagId) throw Error("Primary GA Tag ID is invalid.");
                                return [
                                    4,
                                    loadGAScript(primaryTagId)
                                ];
                            case 2:
                                if (_state.sent(), (userId = null == (_GameSDK = GameSDK) || null == (_GameSDK_player = _GameSDK.player) ? void 0 : _GameSDK_player.getID()) || console.warn("User ID not available from GameSDK when initializing GA."), entryPoint = "no_entry", !GameSDK) return [
                                    3,
                                    7
                                ];
                                _state.label = 3;
                            case 3:
                                return _state.trys.push([
                                    3,
                                    5,
                                    ,
                                    6
                                ]), [
                                    4,
                                    GameSDK.getEntryPointAsync()
                                ];
                            case 4:
                                return entryPoint = null != (_ref = _state.sent()) ? _ref : entryPoint, [
                                    3,
                                    6
                                ];
                            case 5:
                                return console.warn("Failed to get entry point asynchronously.", _state.sent()), [
                                    3,
                                    6
                                ];
                            case 6:
                                return [
                                    3,
                                    8
                                ];
                            case 7:
                                console.warn("GameSDK not available to get entry point."), _state.label = 8;
                            case 8:
                                return initGoogleAnalytics(userId || "unknown_user", entryPoint, tagList), [
                                    3,
                                    11
                                ];
                            case 9:
                                return logError(_state.sent()), [
                                    3,
                                    11
                                ];
                            case 10:
                                return finalizeAnalyticsInitialization(), [
                                    7
                                ];
                            case 11:
                                return [
                                    2
                                ];
                        }
                    });
                })();
            }, "processGoogleAnalytics"), updateUserProperties = __name(function() {
                try {
                    if (!(null == (_codex = codex) ? void 0 : _codex.player) || "function" != typeof window.gtag) return void console.warn("Cannot update user properties: codex.player or gtag not available.");
                    var _codex_player_getBestScore, _ref, _codex_player_isFirstSession, _codex, _codex_player_getGameData, _GameSDK, score2 = null != (_codex_player_getBestScore = codex.player.getBestScore()) ? _codex_player_getBestScore : 0, coins2 = null != (_ref = null == (_codex_player_getGameData = codex.player.getGameData()) ? void 0 : _codex_player_getGameData.coins) ? _ref : 0, isNewUser = null != (_codex_player_isFirstSession = codex.player.isFirstSession()) ? _codex_player_isFirstSession : void 0, entryPointData2 = (null == (_GameSDK = GameSDK) ? void 0 : _GameSDK.getEntryPointData()) || {}, content = entryPointData2.content, notif_id = entryPointData2.notif_id, propertiesToUpdate = {
                        new_user: isNewUser,
                        coins: coins2,
                        score: score2
                    };
                    (content || notif_id) && (propertiesToUpdate.traffic_source_detail = null != content ? content : "notif_".concat(notif_id));
                    var filteredProps = Object.entries(propertiesToUpdate).filter(function(param) {
                        var _param = _sliced_to_array(param, 2), value = (_param[0], _param[1]);
                        return void 0 !== value;
                    }).reduce(function(obj, param) {
                        var _param = _sliced_to_array(param, 2), key = _param[0], value = _param[1];
                        return obj[key] = value, obj;
                    }, {});
                    Object.keys(filteredProps).length > 0 && window.gtag("set", "user_properties", filteredProps);
                } catch (error) {
                    logError(error);
                }
            }, "updateUserProperties"), finalizeAnalyticsInitialization = __name(function() {
                var Events11 = Ludex.Events, tmp = Ludex.Plugins.Analytics, AnalyticsEvents2 = (void 0 === tmp ? {} : tmp).Events;
                if (AnalyticsEvents2) try {
                    logAnalyticsEvent(AnalyticsEvents2.APP_LAUNCH), codex.event.catchUp(Events11.GAME_SDK_READY, function() {
                        logAnalyticsEvent(AnalyticsEvents2.APP_INITIALIZED);
                    }), codex.event.catchUp(Events11.PLAYER_INFO_LOADED, updateUserProperties);
                } catch (error) {
                    logError(error);
                } finally{
                    codex.event.emit(Events11.ANALYTICS_READY);
                }
            }, "finalizeAnalyticsInitialization"), initGameSDK = __name(function() {
                var retryCount = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                return _async_to_generator(function() {
                    var gaPromise, error;
                    return _ts_generator(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                return _state.trys.push([
                                    0,
                                    4,
                                    5,
                                    6
                                ]), console.time(MARK_NAME), startSlowLoadingCheck(), [
                                    4,
                                    GameSDK.initializeAsync()
                                ];
                            case 1:
                                return _state.sent(), console.timeLog(MARK_NAME, "GameSDK initialized"), clearSlowLoadingCheck(), startProgressTimer(TARGET_PERCENT), gaPromise = processGoogleAnalytics(), [
                                    3,
                                    3
                                ];
                            case 2:
                                _state.sent(), _state.label = 3;
                            case 3:
                                return codex.event.emit(Ludex.Events.GAME_SDK_READY), [
                                    3,
                                    6
                                ];
                            case 4:
                                if (error = _state.sent(), clearSlowLoadingCheck(), stopProgressTimer(), retryCount >= MAX_RETRY) return logError(error), [
                                    2
                                ];
                                return console.warn("GameSDK initialize failed (Attempt ".concat(retryCount + 1, "), retrying in ").concat(RETRY_DELAY / 1e3, "s...")), setTimeout(function() {
                                    return initGameSDK(retryCount + 1);
                                }, RETRY_DELAY), [
                                    3,
                                    6
                                ];
                            case 5:
                                return console.timeEnd(MARK_NAME), [
                                    7
                                ];
                            case 6:
                                return [
                                    2
                                ];
                        }
                    });
                })();
            }, "initGameSDK"), waitForGameSDKAndInitialize = __name(function() {
                var elapsedTime = 0, check = __name(function() {
                    "GameSDK" in window ? initGameSDK() : elapsedTime < SDK_MAX_WAIT ? (elapsedTime += SDK_WAIT_MS, setTimeout(check, SDK_WAIT_MS)) : logError(Error("GameSDK not found after ".concat(SDK_MAX_WAIT / 1e3, "s")));
                }, "check");
                check();
            }, "waitForGameSDKAndInitialize"), monitorGameSDKFlows(), waitForGameSDKAndInitialize();
        }
    }), init_navigator = __esm({
        "extensions/ludex/libs/polyfill/navigator.ts": function() {
            getGamepads = window.navigator.getGamepads, window.navigator.getGamepads = function() {
                try {
                    return getGamepads();
                } catch (e) {
                    return [];
                }
            };
        }
    }), init_performance = __esm({
        "extensions/ludex/libs/polyfill/performance.ts": function() {
            window.performance = window.performance || {}, ("function" != typeof performance.mark || "function" != typeof performance.measure) && (window.performance = {
                mark: __name(function() {}, "mark"),
                measure: __name(function() {}, "measure")
            }), performance.mark("load-start");
        }
    }), init_browser = __esm({
        "extensions/ludex/libs/cocos/browser.ts": function() {
            noToolbar = "0", noVConsole = "0", initUtils = __name(function() {
                if (URLSearchParams) {
                    var urlParams = new URLSearchParams(window.location.search);
                    noToolbar = urlParams.get("no-toolbar") || noToolbar, noVConsole = urlParams.get("no-vconsole") || noVConsole, "1" === noToolbar && setupNoToolbar(), "1" === noVConsole && setupNoVConsole();
                }
            }, "initUtils"), setupNoToolbar = __name(function() {
                var wait = setInterval(function() {
                    var toolbar = document.querySelector(".toolbar");
                    _instanceof(toolbar, HTMLDivElement) && (clearInterval(wait), toolbar.style.display = "none");
                }, 100);
            }, "setupNoToolbar"), setupNoVConsole = __name(function() {
                Object.defineProperty(window, "VConsole", {
                    value: void 0,
                    writable: !1,
                    configurable: !1
                });
                var script = document.querySelector('script[src="/node_modules/vconsole/dist/vconsole.min.js"]');
                script && script.remove();
            }, "setupNoVConsole"), initUtils(), MARK_NAMES = [
                "Init Base",
                "Init Infrastructure",
                "Init SubSystem",
                "Init Project"
            ], __name(function() {
                var originalTime = console.time, originalTimeEnd = console.timeEnd, originalTimeLog = console.timeLog, skipMark = __name(function(args) {
                    return !!MARK_NAMES.includes(args[0]);
                }, "skipMark");
                console.time = function() {
                    for(var _originalTime, _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
                    skipMark(args) || (_originalTime = originalTime).call.apply(_originalTime, [
                        console
                    ].concat(_to_consumable_array(args)));
                }, console.timeEnd = function() {
                    for(var _originalTimeEnd, _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
                    skipMark(args) || (_originalTimeEnd = originalTimeEnd).call.apply(_originalTimeEnd, [
                        console
                    ].concat(_to_consumable_array(args)));
                }, console.timeLog = function() {
                    for(var _originalTimeLog, _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
                    skipMark(args) || (_originalTimeLog = originalTimeLog).call.apply(_originalTimeLog, [
                        console
                    ].concat(_to_consumable_array(args)));
                };
            }, "monitorEngineFlows")();
        }
    }), init_init = __esm({
        "extensions/ludex/libs/cocos/init.ts": function() {
            initCocos = __name(function() {
                System.register([
                    "../application.js"
                ], function() {
                    var Application2, topLevelImport = function topLevelImport(url) {
                        return System.import(url);
                    };
                    function execute() {
                        var canvas = document.getElementById("GameCanvas"), $p = null == canvas ? void 0 : canvas.parentElement;
                        if (!$p) return void setTimeout(execute, 300);
                        canvas.style.position = "relative";
                        var bcr = $p.getBoundingClientRect();
                        canvas.width = bcr.width, canvas.height = bcr.height;
                        var application = new Application2();
                        topLevelImport("cc").then(function(engine) {
                            return console.warn("Cocos loaded"), new Promise(function(resolve) {
                                codex.event.catchUp(Ludex.Events.CORE_BOOTING, function() {
                                    window.__sdkLoad.ensure(20), console.warn("Cocos initializing"), resolve(application.init(engine));
                                });
                            });
                        }).then(function() {
                            return window.__sdkLoad.ensure(30), console.warn("Cocos application starting"), application.start();
                        }).then(function() {
                            window.__sdkLoad.ensure(40), console.warn("Cocos application started");
                        }).catch(function(error) {
                            var _codex_monitorError, err = Ludex.Utils.Function.toError(error);
                            null == (_codex_monitorError = codex.monitorError) || _codex_monitorError.sendException(err);
                        });
                    }
                    return __name(topLevelImport, "topLevelImport"), __name(execute, "execute"), {
                        setters: [
                            function(applicationJs) {
                                Application2 = applicationJs.Application;
                            }
                        ],
                        execute: execute
                    };
                });
            }, "initCocos"), injectFlushSystem = __name(function() {
                var S9 = System, originalImport = S9.import, originalRegister = S9.register, deleteModule = __name(function(name2) {
                    setTimeout(function() {
                        return S9.delete(name2);
                    }, 8e3);
                }, "deleteModule");
                S9.import = function() {
                    for(var _originalImport, _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
                    return deleteModule(args[0]), (_originalImport = originalImport).call.apply(_originalImport, [
                        S9
                    ].concat(_to_consumable_array(args)));
                }, S9.register = function() {
                    for(var _originalRegister, _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
                    return (Array.isArray(args[0]) ? args[0] : [
                        args[0]
                    ]).forEach(deleteModule), (_originalRegister = originalRegister).call.apply(_originalRegister, [
                        S9
                    ].concat(_to_consumable_array(args)));
                };
            }, "injectFlushSystem"), waitSystemForInitCocos = setInterval(function() {
                "System" in window && (clearInterval(waitSystemForInitCocos), injectFlushSystem(), initCocos());
            }, 5);
        }
    }), init_google_analytics = __esm({
        "extensions/ludex/libs/platforms/google-analytics.ts": function() {
            window.dataLayer = window.dataLayer || [], __name(trace, "trace"), window.gtag = trace, __name(addGoogleAnalyticsScript, "addGoogleAnalyticsScript"), addGoogleAnalyticsScript();
        }
    }), init_youtube = __esm({
        "extensions/ludex/libs/polyfill/youtube.ts": function() {
            sanitizeUrl = __name(function(url) {
                if (url.startsWith("http") || url.startsWith("data:")) return url;
                var _url_split = _sliced_to_array(url.split("?"), 2), path = _url_split[0], query = _url_split[1], sanitizedPath = path.split("/").map(function(part) {
                    return part ? part.replace(/[^a-zA-Z0-9\-._]/g, ".") : part;
                }).join("/");
                return query ? "".concat(sanitizedPath, "?").concat(query) : sanitizedPath;
            }, "sanitizeUrl"), __name(_YoutubeAdapterRequest = function(OriginalXHR1) {
                function _YoutubeAdapterRequest1() {
                    return _class_call_check(this, _YoutubeAdapterRequest1), _call_super(this, _YoutubeAdapterRequest1, arguments);
                }
                return _inherits(_YoutubeAdapterRequest1, OriginalXHR1), _create_class(_YoutubeAdapterRequest1, [
                    {
                        key: "open",
                        value: function open(method, url, async, user, password) {
                            var sanitizedUrl = "string" == typeof url ? sanitizeUrl(url) : url;
                            _get(_get_prototype_of(_YoutubeAdapterRequest1.prototype), "open", this).call(this, method, sanitizedUrl, !1 !== async, user, password);
                        }
                    }
                ]), _YoutubeAdapterRequest1;
            }(window.XMLHttpRequest), "YoutubeAdapterRequest"), YoutubeAdapterRequest = _YoutubeAdapterRequest, window.XMLHttpRequest = YoutubeAdapterRequest, __name(_YoutubeAdapterImage = function(OriginalImage1) {
                function _YoutubeAdapterImage1() {
                    return _class_call_check(this, _YoutubeAdapterImage1), _call_super(this, _YoutubeAdapterImage1, arguments);
                }
                return _inherits(_YoutubeAdapterImage1, OriginalImage1), _create_class(_YoutubeAdapterImage1, [
                    {
                        key: "src",
                        get: function get() {
                            return _get(_get_prototype_of(_YoutubeAdapterImage1.prototype), "src", this);
                        },
                        set: function set1(url) {
                            _set(_get_prototype_of(_YoutubeAdapterImage1.prototype), "src", sanitizeUrl(url), this, !0);
                        }
                    }
                ]), _YoutubeAdapterImage1;
            }(window.Image), "YoutubeAdapterImage"), YoutubeAdapterImage = _YoutubeAdapterImage, window.Image = YoutubeAdapterImage;
        }
    }), empty_script_exports = {};
    __export(empty_script_exports, {
        default: function _default() {
            return empty_script_default;
        }
    });
    var init_empty_script = __esm({
        "extensions/ludex/libs/empty-script.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), empty_script_default = null;
        }
    }), init_Context = __esm({
        "extensions/ludex/src/game-sdk/sdk/Context.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), _Context = function() {
                function _Context1(adapter) {
                    var _this = this;
                    _class_call_check(this, _Context1), _define_property(this, "adapter$", void 0), _define_property(this, "extra$", void 0), _define_property(this, "currentContextID$", null), _define_property(this, "currentContextType$", "SOLO"), _define_property(this, "currentContextPlayers$", []), _define_property(this, "chooseAsyncPopup$", null), _define_property(this, "createAsyncPopup$", null), _define_property(this, "switchAsyncPopup$", null), _define_property(this, "contextIdsByCreate$", void 0), _define_property(this, "contextIdsByChoose$", []), _define_property(this, "playerIdsInContexts$", void 0), _define_property(this, "handleOnYes$", __name(function(resolve) {
                        return function() {
                            _this.extra$.isPopupShown = !1, resolve(!0);
                        };
                    }, "handleOnYes$")), _define_property(this, "handleOnNo$", __name(function(reject) {
                        return function() {
                            _this.extra$.isPopupShown = !1;
                            try {
                                _this.extra$.exceptionUserInput("Player closed the context menu");
                            } catch (error) {
                                reject(error);
                            }
                        };
                    }, "handleOnNo$")), this.adapter$ = adapter, this.extra$ = adapter.extra;
                }
                return _create_class(_Context1, [
                    {
                        key: "setCurrentContextId",
                        value: function setCurrentContextId(contextId2) {
                            this.checkSameContext$(contextId2), this.currentContextID$ = contextId2, this.currentContextType$ = "THREAD";
                        }
                    },
                    {
                        key: "initContextInfo",
                        value: function initContextInfo(contextId2, contextType2) {
                            var _Ludex_Utils = Ludex.Utils, A10 = _Ludex_Utils.Array, S9 = _Ludex_Utils.String;
                            if (this.contextIdsByCreate$ = {}, this.playerIdsInContexts$ = {}, this.contextIdsByChoose$ = A10.fillWith(10, function() {
                                return S9.generateObjectId();
                            }), contextId2 && contextType2) {
                                if (0 > [
                                    "SOLO",
                                    "THREAD",
                                    "POST",
                                    "GROUP"
                                ].indexOf(contextType2)) return void console.warn("Invalid context type: ".concat(contextType2));
                                this.currentContextID$ = contextId2, this.currentContextType$ = contextType2;
                            }
                        }
                    },
                    {
                        key: "getID",
                        value: function getID() {
                            return this.currentContextID$;
                        }
                    },
                    {
                        key: "getType",
                        value: function getType() {
                            return this.currentContextType$;
                        }
                    },
                    {
                        key: "loadSwitchAsyncPopup$",
                        value: function loadSwitchAsyncPopup$() {
                            return _async_to_generator(function() {
                                var SwitchAsyncPopup;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.switchAsyncPopup$) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            if ("function" != typeof (SwitchAsyncPopup = _state.sent().default)) return [
                                                2
                                            ];
                                            return this.switchAsyncPopup$ = new SwitchAsyncPopup(), [
                                                4,
                                                this.switchAsyncPopup$.setupTemplate()
                                            ];
                                        case 2:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "loadChooseAsyncPopup$",
                        value: function loadChooseAsyncPopup$() {
                            return _async_to_generator(function() {
                                var ChooseAsyncPopup;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.chooseAsyncPopup$) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            if ("function" != typeof (ChooseAsyncPopup = _state.sent().default)) return [
                                                2
                                            ];
                                            return this.chooseAsyncPopup$ = new ChooseAsyncPopup(), [
                                                4,
                                                this.chooseAsyncPopup$.setupTemplate()
                                            ];
                                        case 2:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "loadCreateAsyncPopup$",
                        value: function loadCreateAsyncPopup$() {
                            return _async_to_generator(function() {
                                var CreateAsyncPopup;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.createAsyncPopup$) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            if ("function" != typeof (CreateAsyncPopup = _state.sent().default)) return [
                                                2
                                            ];
                                            return this.createAsyncPopup$ = new CreateAsyncPopup(), [
                                                4,
                                                this.createAsyncPopup$.setupTemplate()
                                            ];
                                        case 2:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "switchAsync",
                        value: function switchAsync(contextId2) {
                            var switchSilentlyIfSolo = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            return _async_to_generator(function() {
                                var _this, players;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return _this = this, this.extra$.checkPopupShown(), [
                                                4,
                                                this.extra$.awaitRandomDelay()
                                            ];
                                        case 1:
                                            if (_state.sent(), this.validateSwitchAsyncContextId$(contextId2), "SOLO" === contextId2 && switchSilentlyIfSolo) return this.currentContextID$ = null, this.currentContextType$ = "SOLO", this.updatePlayers$([]), [
                                                2
                                            ];
                                            return [
                                                4,
                                                this.loadSwitchAsyncPopup$()
                                            ];
                                        case 2:
                                            return _state.sent(), [
                                                4,
                                                new Promise(function(resolve, reject) {
                                                    _this.switchAsyncPopup$ || _this.adapter$.extra.exceptionUnsupported(), _this.switchAsyncPopup$.onYes(_this.handleOnYes$(resolve)), _this.switchAsyncPopup$.onNo(_this.handleOnNo$(reject)), _this.switchAsyncPopup$.show(contextId2), _this.extra$.isPopupShown = !0;
                                                })
                                            ];
                                        case 3:
                                            return _state.sent(), this.currentContextID$ = contextId2, this.currentContextType$ = "THREAD", this.createPlayerIdsInContext$(contextId2, 10), players = this.playerIdsInContexts$[contextId2].map(function(playerId2) {
                                                return _this.createPlayerInfo$(playerId2);
                                            }), this.updatePlayers$(players), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "chooseAsync",
                        value: function chooseAsync(_options) {
                            return _async_to_generator(function() {
                                var _this, rand, contextId2, players;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return _this = this, this.extra$.checkPopupShown(), [
                                                4,
                                                this.extra$.awaitRandomDelay()
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                4,
                                                this.loadChooseAsyncPopup$()
                                            ];
                                        case 2:
                                            return _state.sent(), [
                                                4,
                                                new Promise(function(resolve, reject) {
                                                    _this.chooseAsyncPopup$ || _this.adapter$.extra.exceptionUnsupported(), _this.chooseAsyncPopup$.onYes(_this.handleOnYes$(resolve)), _this.chooseAsyncPopup$.onNo(_this.handleOnNo$(reject)), _this.chooseAsyncPopup$.show(), _this.extra$.isPopupShown = !0;
                                                })
                                            ];
                                        case 3:
                                            return _state.sent(), rand = Math.floor(Math.random() * this.contextIdsByChoose$.length), contextId2 = this.contextIdsByChoose$[rand], this.checkSameContext$(contextId2), this.currentContextID$ = contextId2, this.currentContextType$ = "THREAD", this.createPlayerIdsInContext$(contextId2, 2), players = this.playerIdsInContexts$[contextId2].map(function(playerId2) {
                                                return _this.createPlayerInfo$(playerId2);
                                            }), this.updatePlayers$(players), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "createAsync",
                        value: function createAsync(playerId2) {
                            return _async_to_generator(function() {
                                var _this, S9, contextId2, player;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return _this = this, this.extra$.checkPopupShown(), [
                                                4,
                                                this.extra$.awaitRandomDelay()
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                4,
                                                this.validateCreateAsyncPlayerId$(playerId2)
                                            ];
                                        case 2:
                                            return _state.sent(), [
                                                4,
                                                this.loadCreateAsyncPopup$()
                                            ];
                                        case 3:
                                            return _state.sent(), [
                                                4,
                                                new Promise(function(resolve, reject) {
                                                    _this.createAsyncPopup$ || _this.adapter$.extra.exceptionUnsupported(), _this.createAsyncPopup$.onYes(_this.handleOnYes$(resolve)), _this.createAsyncPopup$.onNo(_this.handleOnNo$(reject)), _this.createAsyncPopup$.show(playerId2), _this.extra$.isPopupShown = !0;
                                                })
                                            ];
                                        case 4:
                                            return _state.sent(), this.contextIdsByCreate$[playerId2] || (S9 = Ludex.Utils.String, this.contextIdsByCreate$[playerId2] = S9.generateObjectId()), contextId2 = this.contextIdsByCreate$[playerId2], this.checkSameContext$(contextId2), this.currentContextID$ = contextId2, this.currentContextType$ = "THREAD", player = this.createPlayerInfo$(playerId2), this.updatePlayers$([
                                                player
                                            ]), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getPlayersAsync",
                        value: function getPlayersAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.extra$.awaitRandomDelay()
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                2,
                                                this.currentContextPlayers$
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "createPlayerIdsInContext$",
                        value: function createPlayerIdsInContext$(contextId2, maxPlayers) {
                            if (!this.playerIdsInContexts$[contextId2]) {
                                var _Ludex_Utils = Ludex.Utils, A10 = _Ludex_Utils.Array, S9 = _Ludex_Utils.String, rand = Math.floor(Math.random() * maxPlayers), playerIds = A10.fillWith(rand, function() {
                                    return S9.generateObjectId();
                                });
                                this.playerIdsInContexts$[contextId2] = playerIds;
                            }
                            return this.playerIdsInContexts$[contextId2];
                        }
                    },
                    {
                        key: "createPlayerInfo$",
                        value: function createPlayerInfo$(playerId2) {
                            return {
                                getID: __name(function() {
                                    return playerId2;
                                }, "getID"),
                                getName: __name(function() {
                                    return "Player ".concat(playerId2);
                                }, "getName"),
                                getPhoto: __name(function() {
                                    return "";
                                }, "getPhoto")
                            };
                        }
                    },
                    {
                        key: "updatePlayers$",
                        value: function updatePlayers$(players) {
                            if ("SOLO" === this.currentContextType$) {
                                this.currentContextPlayers$ = [];
                                return;
                            }
                            this.currentContextPlayers$ = players;
                        }
                    },
                    {
                        key: "checkSameContext$",
                        value: function checkSameContext$(contextId2) {
                            this.currentContextID$ === contextId2 && this.extra$.exceptionSameContext();
                        }
                    },
                    {
                        key: "validateCreateAsyncPlayerId$",
                        value: function validateCreateAsyncPlayerId$(playerId2) {
                            return _async_to_generator(function() {
                                var message2, message21, message22, message;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return (!playerId2 || Array.isArray(playerId2)) && (message2 = "Client does not support no player IDS or multiple player IDs yet", this.extra$.exceptionClientUnsupportedOperation(message2)), Ludex.Utils.Valid.isString(playerId2) || (message21 = "Array of type String contained a value of another type: ".concat(playerId2), this.extra$.exceptionInvalidParam(message21)), playerId2 === GameSDK.player.getID() && (message22 = "At least one player id besides the current player must be provided.", this.extra$.exceptionInvalidParam(message22)), [
                                                4,
                                                GameSDK.player.getConnectedPlayersAsync()
                                            ];
                                        case 1:
                                            if (_state.sent().some(function(connectedPlayer) {
                                                return connectedPlayer.getID() === playerId2;
                                            })) return [
                                                2
                                            ];
                                            return message = "Provided ID ".concat(playerId2, " is not a connected player of the current player."), this.extra$.exceptionInvalidParam(message), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "validateSwitchAsyncContextId$",
                        value: function validateSwitchAsyncContextId$(contextId2) {
                            if (this.checkSameContext$(contextId2), !Ludex.Utils.Valid.isString(contextId2)) {
                                var message = "Client requires update to support this operation";
                                this.extra$.exceptionClientUnsupportedOperation(message);
                            }
                        }
                    }
                ]), _Context1;
            }(), __name(_Context, "Context"), Context_default = _Context;
        }
    }), init_SDKCommonError = __esm({
        "extensions/ludex/src/game-sdk/exceptions/SDKCommonError.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), __name(_SDKCommonError = function(Error1) {
                function _SDKCommonError1(code, message) {
                    var _this;
                    return _class_call_check(this, _SDKCommonError1), _define_property(_this = _call_super(this, _SDKCommonError1, [
                        message
                    ]), "code", void 0), _this.code = code, _this;
                }
                return _inherits(_SDKCommonError1, Error1), _SDKCommonError1;
            }(_wrap_native_super(Error)), "SDKCommonError"), SDKCommonError_default = _SDKCommonError;
        }
    }), init_Extra = __esm({
        "extensions/ludex/src/game-sdk/sdk/Extra.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_SDKCommonError(), MAX_WAIT_LUDEX_READY_TIME = 1e4, __name(_Extra = function() {
                function _Extra1(adapter) {
                    _class_call_check(this, _Extra1), _define_property(this, "adapter$", void 0), _define_property(this, "isGuest", !1), _define_property(this, "isPopupShown", !1), _define_property(this, "loadingElement$", null), this.adapter$ = adapter;
                }
                return _create_class(_Extra1, [
                    {
                        key: "checkAndSubscribeBotAsync",
                        value: function checkAndSubscribeBotAsync() {
                            return _async_to_generator(function() {
                                var analytics, tmp, Events11;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.adapter$.player.canSubscribeBotAsync()
                                            ];
                                        case 1:
                                            if (!_state.sent()) return [
                                                2,
                                                !1
                                            ];
                                            analytics = codex.analytics, (Events11 = (void 0 === (tmp = Ludex.Plugins.Analytics) ? {} : tmp).Events) && analytics.event(Events11.BOT_SUBSCRIBE_POPUP), _state.label = 2;
                                        case 2:
                                            return _state.trys.push([
                                                2,
                                                5,
                                                ,
                                                6
                                            ]), [
                                                4,
                                                this.waitSDKInitiatedAsync()
                                            ];
                                        case 3:
                                            return _state.sent(), [
                                                4,
                                                this.adapter$.player.subscribeBotAsync()
                                            ];
                                        case 4:
                                            return _state.sent(), Events11 && analytics.event(Events11.BOT_SUBSCRIBE, {
                                                success: !0
                                            }), [
                                                2,
                                                !0
                                            ];
                                        case 5:
                                            return console.warn(_state.sent()), Events11 && analytics.event(Events11.BOT_SUBSCRIBE, {
                                                success: !1
                                            }), [
                                                2,
                                                !1
                                            ];
                                        case 6:
                                            return [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "checkAndCreateShortcutAsync",
                        value: function checkAndCreateShortcutAsync() {
                            return _async_to_generator(function() {
                                var analytics, tmp, Events11;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.adapter$.canCreateShortcutAsync()
                                            ];
                                        case 1:
                                            if (!_state.sent()) return [
                                                2
                                            ];
                                            analytics = codex.analytics, (Events11 = (void 0 === (tmp = Ludex.Plugins.Analytics) ? {} : tmp).Events) && analytics.event(Events11.SHORTCUT_CREATE_POPUP), _state.label = 2;
                                        case 2:
                                            return _state.trys.push([
                                                2,
                                                5,
                                                ,
                                                6
                                            ]), [
                                                4,
                                                this.waitSDKInitiatedAsync()
                                            ];
                                        case 3:
                                            return _state.sent(), [
                                                4,
                                                this.adapter$.createShortcutAsync()
                                            ];
                                        case 4:
                                            return _state.sent(), Events11 && analytics.event(Events11.SHORTCUT_CREATE, {
                                                success: !0
                                            }), [
                                                3,
                                                6
                                            ];
                                        case 5:
                                            return console.warn(_state.sent()), Events11 && analytics.event(Events11.SHORTCUT_CREATE, {
                                                success: !1
                                            }), [
                                                3,
                                                6
                                            ];
                                        case 6:
                                            return [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "waitSDKInitiatedAsync",
                        value: function waitSDKInitiatedAsync() {
                            var GAME_SDK_READY = Ludex.Events.GAME_SDK_READY;
                            return new Promise(function(resolve) {
                                codex.event.catchUp(GAME_SDK_READY, resolve);
                            });
                        }
                    },
                    {
                        key: "waitLudexReadyAsync",
                        value: function waitLudexReadyAsync() {
                            return _async_to_generator(function() {
                                var waitTime;
                                return _ts_generator(this, function(_state) {
                                    return waitTime = 0, [
                                        2,
                                        new Promise(function(resolve) {
                                            var waitInterval = setInterval(function() {
                                                if ("Ludex" in window) {
                                                    clearInterval(waitInterval), resolve();
                                                    return;
                                                }
                                                (waitTime += 10) > MAX_WAIT_LUDEX_READY_TIME && (waitTime = 0, console.warn("Ludex is slow to load, please check your network connection."));
                                            }, 10);
                                        })
                                    ];
                                });
                            })();
                        }
                    },
                    {
                        key: "createLoadingElement",
                        value: function createLoadingElement() {
                            return _async_to_generator(function() {
                                var LoadingScreenElement;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.loadingElement$) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            if ("function" != typeof (LoadingScreenElement = _state.sent().default)) return [
                                                2
                                            ];
                                            return this.loadingElement$ = new LoadingScreenElement(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "setLoadingElementProgress",
                        value: function setLoadingElementProgress(progress) {
                            this.loadingElement$ && this.loadingElement$.setLoadingProgress(progress);
                        }
                    },
                    {
                        key: "displayWarnLoading",
                        value: function displayWarnLoading(enable) {
                            this.loadingElement$ && this.loadingElement$.displayWarnLoading(enable);
                        }
                    },
                    {
                        key: "destroyLoadingElement",
                        value: function destroyLoadingElement() {
                            this.loadingElement$ && this.loadingElement$.removeLoadingElement();
                        }
                    },
                    {
                        key: "checkPopupShown",
                        value: function checkPopupShown() {
                            this.isPopupShown && this.exceptionPendingRequest("Please wait for the popup to close");
                        }
                    },
                    {
                        key: "delayInitialAsync",
                        value: function delayInitialAsync() {
                            return _async_to_generator(function() {
                                var T3, SlowAPI;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (T3 = Ludex.Utils.Time, !(SlowAPI = Ludex.Configs.Mockup.GameSDK.SlowAPI).Enabled || SlowAPI.InitialDelay <= 0) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                T3.sleepAsync(SlowAPI.InitialDelay)
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            })();
                        }
                    },
                    {
                        key: "delayStartAsync",
                        value: function delayStartAsync() {
                            return _async_to_generator(function() {
                                var SlowAPI, T3;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (SlowAPI = Ludex.Configs.Mockup.GameSDK.SlowAPI, T3 = Ludex.Utils.Time, !SlowAPI.Enabled || SlowAPI.StartDelay <= 0) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                T3.sleepAsync(SlowAPI.StartDelay)
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            })();
                        }
                    },
                    {
                        key: "delayPlayerDataAsync",
                        value: function delayPlayerDataAsync() {
                            return _async_to_generator(function() {
                                var SlowAPI, T3;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (SlowAPI = Ludex.Configs.Mockup.GameSDK.SlowAPI, T3 = Ludex.Utils.Time, !SlowAPI.Enabled || SlowAPI.PlayerDataDelay <= 0) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                T3.sleepAsync(SlowAPI.PlayerDataDelay)
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            })();
                        }
                    },
                    {
                        key: "awaitRandomDelay",
                        value: function awaitRandomDelay() {
                            var randomDelayMs = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1e3;
                            return Ludex.Utils.Time.sleepAsync(Math.random() * randomDelayMs);
                        }
                    },
                    {
                        key: "randomException",
                        value: function randomException(exceptions) {
                            var rand = Math.floor(Math.random() * exceptions.length), exception = exceptions[rand];
                            console.warn("Random exception", exception), this["exception".concat(exception)]();
                        }
                    },
                    {
                        key: "getErrorMessage",
                        value: function getErrorMessage(error) {
                            var _Ludex_Utils = Ludex.Utils, V37 = _Ludex_Utils.Valid;
                            return _Ludex_Utils.Object.hasOwn(error, "message") && V37.isString(error.message) ? error.message : null;
                        }
                    },
                    {
                        key: "throwNewCommonError$",
                        value: function throwNewCommonError$(code, message) {
                            throw new SDKCommonError_default(code, message);
                        }
                    },
                    {
                        key: "exceptionUserInput",
                        value: function exceptionUserInput(message) {
                            this.throwNewCommonError$("USER_INPUT", message);
                        }
                    },
                    {
                        key: "exceptionUnsupported",
                        value: function exceptionUnsupported() {
                            this.throwNewCommonError$("UNSUPPORTED", "Unsupported method");
                        }
                    },
                    {
                        key: "exceptionInvalidParam",
                        value: function exceptionInvalidParam(message) {
                            this.throwNewCommonError$("INVALID_PARAM", message);
                        }
                    },
                    {
                        key: "exceptionPendingRequest",
                        value: function exceptionPendingRequest(message) {
                            this.throwNewCommonError$("PENDING_REQUEST", message);
                        }
                    },
                    {
                        key: "exceptionMethodNotImplemented",
                        value: function exceptionMethodNotImplemented() {
                            this.throwNewCommonError$("METHOD_NOT_IMPLEMENTED", "Method n\
ot implemented");
                        }
                    },
                    {
                        key: "exceptionTournamentNotFound",
                        value: function exceptionTournamentNotFound(message) {
                            this.throwNewCommonError$("TOURNAMENT_NOT_FOUND", message);
                        }
                    },
                    {
                        key: "exceptionSameContext",
                        value: function exceptionSameContext() {
                            this.throwNewCommonError$("SAME_CONTEXT", "Must specify a context other\
 than the current one.");
                        }
                    },
                    {
                        key: "exceptionInvalidOperation",
                        value: function exceptionInvalidOperation(message) {
                            this.throwNewCommonError$("INVALID_OPERATION", message);
                        }
                    },
                    {
                        key: "exceptionNetworkFailure",
                        value: function exceptionNetworkFailure() {
                            var message = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "Request failed to be processed";
                            this.throwNewCommonError$("NETWORK_FAILURE", message);
                        }
                    },
                    {
                        key: "exceptionUnknown",
                        value: function exceptionUnknown(message) {
                            this.throwNewCommonError$("UNKNOWN", message);
                        }
                    },
                    {
                        key: "exceptionClientUnsupportedOperation",
                        value: function exceptionClientUnsupportedOperation(message) {
                            this.throwNewCommonError$("CLIENT_UNSUPPORTED_OPERATION", message);
                        }
                    },
                    {
                        key: "exceptionRateLimited",
                        value: function exceptionRateLimited(message) {
                            this.throwNewCommonError$("RATE_LIMITED", message);
                        }
                    }
                ]), _Extra1;
            }(), "Extra"), Extra_default = _Extra;
        }
    }), init_Payments = __esm({
        "extensions/ludex/src/game-sdk/sdk/Payments.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), GetCatalogErrorList = _to_consumable_array(CommonErrorList = [
                "Unsupported",
                "NetworkFailure",
                "PendingRequest",
                "ClientUnsupportedOperat\
ion"
            ]).concat([
                "InvalidParam"
            ]), PurchaseErrorList = _to_consumable_array(CommonErrorList).concat([
                "InvalidParam",
                "UserInput"
            ]), GetPurchasesErrorList = _to_consumable_array(CommonErrorList).concat([
                "NetworkFailure"
            ]), ConsumePurchaseErrorList = _to_consumable_array(CommonErrorList).concat([
                "InvalidParam",
                "UserInput"
            ]), PRODUCTS_DATA_MOCK_KEY = "ProductsDataMockKey", PURCHASES_DATA_MOCK_KEY = "PurchasesDataMockKey", _Payments = function() {
                function _Payments1(adapter) {
                    var _this = this;
                    _class_call_check(this, _Payments1), _define_property(this, "adapter$", void 0), _define_property(this, "extra$", void 0), _define_property(this, "context$", void 0), _define_property(this, "purchaseAsyncPopup$", null), _define_property(this, "handleOnYes$", __name(function(resolve) {
                        return function() {
                            _this.extra$.isPopupShown = !1, resolve(!0);
                        };
                    }, "handleOnYes$")), _define_property(this, "handleOnNo$", __name(function(reject) {
                        return function() {
                            _this.extra$.isPopupShown = !1;
                            try {
                                _this.extra$.exceptionUserInput("Player closed the context menu");
                            } catch (error) {
                                reject(error);
                            }
                        };
                    }, "handleOnNo$")), this.adapter$ = adapter, this.extra$ = adapter.extra, this.context$ = adapter.context;
                }
                return _create_class(_Payments1, [
                    {
                        key: "initPaymentInfoAsync",
                        value: function initPaymentInfoAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (!Ludex.Configs.Mockup.GameSDK.Payments.Enabled) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                this.createMockProductsData$()
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getCatalogAsync",
                        value: function getCatalogAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.awaitRandomDelay$()
                                            ];
                                        case 1:
                                            return _state.sent(), this.randomError$(GetCatalogErrorList), [
                                                2,
                                                Object.values(this.getProductsData$())
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "loadPurchasePopupAsync$",
                        value: function loadPurchasePopupAsync$() {
                            return _async_to_generator(function() {
                                var PurchaseAsyncPopup;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.purchaseAsyncPopup$) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            if ("function" != typeof (PurchaseAsyncPopup = _state.sent().default)) return [
                                                2
                                            ];
                                            return this.purchaseAsyncPopup$ = new PurchaseAsyncPopup(), [
                                                4,
                                                this.purchaseAsyncPopup$.setupTemplate()
                                            ];
                                        case 2:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "purchaseAsync",
                        value: function purchaseAsync(purchaseConfig) {
                            return _async_to_generator(function() {
                                var _this;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return _this = this, this.extra$.checkPopupShown(), [
                                                4,
                                                this.awaitRandomDelay$()
                                            ];
                                        case 1:
                                            return _state.sent(), this.validatePurchaseConfig$(purchaseConfig), this.randomError$(PurchaseErrorList), [
                                                4,
                                                this.loadPurchasePopupAsync$()
                                            ];
                                        case 2:
                                            return _state.sent(), [
                                                4,
                                                new Promise(function(resolve, reject) {
                                                    _this.purchaseAsyncPopup$ || _this.adapter$.extra.exceptionUnsupported(), _this.purchaseAsyncPopup$.onYes(_this.handleOnYes$(resolve)), _this.purchaseAsyncPopup$.onNo(_this.handleOnNo$(reject)), _this.purchaseAsyncPopup$.show(purchaseConfig), _this.extra$.isPopupShown = !0;
                                                })
                                            ];
                                        case 3:
                                            return _state.sent(), [
                                                2,
                                                this.createMockPurchaseAsync$(purchaseConfig)
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getPurchasesAsync",
                        value: function getPurchasesAsync() {
                            return _async_to_generator(function() {
                                var playerId2;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.awaitRandomDelay$()
                                            ];
                                        case 1:
                                            if (_state.sent(), this.randomError$(GetPurchasesErrorList), !(playerId2 = this.adapter$.player.getID())) return [
                                                2,
                                                []
                                            ];
                                            return [
                                                2,
                                                this.getPurchasesData$()[playerId2] || []
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "consumePurchaseAsync",
                        value: function consumePurchaseAsync(purchaseToken) {
                            return _async_to_generator(function() {
                                var playerId2, updatedPurchases;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.awaitRandomDelay$()
                                            ];
                                        case 1:
                                            if (_state.sent(), this.validatePurchaseToken$(purchaseToken), this.randomError$(ConsumePurchaseErrorList), !(playerId2 = this.adapter$.player.getID())) return [
                                                2
                                            ];
                                            return updatedPurchases = (this.getPurchasesData$()[playerId2] || []).filter(function(purchase) {
                                                return purchase.purchaseToken !== purchaseToken;
                                            }), this.writePurchasesData$(playerId2, updatedPurchases), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "onReady",
                        value: function onReady(callback) {
                            callback();
                        }
                    },
                    {
                        key: "awaitRandomDelay$",
                        value: function awaitRandomDelay$() {
                            return _async_to_generator(function() {
                                var RandomDelayMs;
                                return _ts_generator(this, function(_state) {
                                    return RandomDelayMs = Ludex.Configs.Mockup.GameSDK.Payments.RandomDelayMs, [
                                        2,
                                        this.extra$.awaitRandomDelay(RandomDelayMs)
                                    ];
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "randomError$",
                        value: function randomError$(errors) {
                            100 * Math.random() < Ludex.Configs.Mockup.GameSDK.Payments.ErrorRates && this.extra$.randomException(errors);
                        }
                    },
                    {
                        key: "validatePurchaseConfig$",
                        value: function validatePurchaseConfig$(config) {
                            var _Ludex_Utils = Ludex.Utils, O32 = _Ludex_Utils.Object, V37 = _Ludex_Utils.Valid;
                            V37.isObject(config) || this.extra$.exceptionInvalidParam("Config must be an object"), O32.hasOwn(config, "productID") || this.extra$.exceptionInvalidParam("Config must have productID");
                            var productID = config.productID;
                            V37.isString(productID) || this.extra$.exceptionInvalidParam("productID must be a string"), O32.hasOwn(config, "developerPayload") && !V37.isString(config.developerPayload) && this.extra$.exceptionInvalidParam("developerPayload must be a string");
                        }
                    },
                    {
                        key: "validatePurchaseToken$",
                        value: function validatePurchaseToken$(token) {
                            Ludex.Utils.Valid.isString(token) || this.extra$.exceptionInvalidParam("Purchase token must be a string");
                        }
                    },
                    {
                        key: "createMockPurchaseAsync$",
                        value: function createMockPurchaseAsync$(config) {
                            var S9 = Ludex.Utils.String, purchase = {
                                productID: config.productID,
                                paymentID: S9.generateObjectId(),
                                purchaseToken: S9.generateObjectId(),
                                purchaseTime: new Date().toISOString(),
                                developerPayload: config.developerPayload,
                                signedRequest: S9.generateObjectId()
                            }, playerId2 = this.adapter$.player.getID();
                            if (playerId2) {
                                var playerPurchases = this.getPurchasesData$()[playerId2] || [];
                                playerPurchases.push(purchase), this.writePurchasesData$(playerId2, playerPurchases);
                            }
                            return purchase;
                        }
                    },
                    {
                        key: "createMockProductsData$",
                        value: function createMockProductsData$() {
                            return _async_to_generator(function() {
                                var _Ludex_Configs_Mockup_GameSDK_Payments, Enabled2, Products;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (Enabled2 = (_Ludex_Configs_Mockup_GameSDK_Payments = Ludex.Configs.Mockup.GameSDK.Payments).Enabled, Products = _Ludex_Configs_Mockup_GameSDK_Payments.Products, !Enabled2 || Object.values(this.getProductsData$()).length >= Products.length) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.all(this.createDefaultProducts$())
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "createDefaultProducts$",
                        value: function createDefaultProducts$() {
                            var _this = this;
                            return Ludex.Configs.Mockup.GameSDK.Payments.Products.map(function(product) {
                                var mockProduct = {
                                    productID: product.id,
                                    title: "Product ".concat(product.id),
                                    description: "Description for ".concat(product.id),
                                    price: product.price.toString(),
                                    priceCurrencyCode: "USD",
                                    priceAmount: product.price
                                };
                                return _this.writeProductData$(product.id, mockProduct), mockProduct;
                            });
                        }
                    },
                    {
                        key: "getProductsData$",
                        value: function getProductsData$() {
                            var _Ludex_Utils = Ludex.Utils, B5 = _Ludex_Utils.Browser, V37 = _Ludex_Utils.Valid, data = B5.getLocalStorage(PRODUCTS_DATA_MOCK_KEY);
                            return V37.isObject(data) ? data : {};
                        }
                    },
                    {
                        key: "writeProductData$",
                        value: function writeProductData$(id, data) {
                            var products = this.getProductsData$();
                            products[id] = data, this.writeProductsData$(products);
                        }
                    },
                    {
                        key: "writeProductsData$",
                        value: function writeProductsData$(products) {
                            var _Ludex_Utils = Ludex.Utils, B5 = _Ludex_Utils.Browser;
                            _Ludex_Utils.Valid.isObject(products) && B5.writeLocalStorage(PRODUCTS_DATA_MOCK_KEY, products);
                        }
                    },
                    {
                        key: "getPurchasesData$",
                        value: function getPurchasesData$() {
                            var _Ludex_Utils = Ludex.Utils, B5 = _Ludex_Utils.Browser, V37 = _Ludex_Utils.Valid, data = B5.getLocalStorage(PURCHASES_DATA_MOCK_KEY);
                            return V37.isObject(data) ? data : {};
                        }
                    },
                    {
                        key: "writePurchasesData$",
                        value: function writePurchasesData$(playerId2, purchases) {
                            var _B5_getLocalStorage, B5 = Ludex.Utils.Browser;
                            if (Array.isArray(purchases)) {
                                var data = null != (_B5_getLocalStorage = B5.getLocalStorage(PURCHASES_DATA_MOCK_KEY)) ? _B5_getLocalStorage : {};
                                data[playerId2] = purchases, B5.writeLocalStorage(PURCHASES_DATA_MOCK_KEY, data);
                            }
                        }
                    }
                ]), _Payments1;
            }(), __name(_Payments, "Payments"), Payments_default = _Payments;
        }
    }), init_Player = __esm({
        "extensions/ludex/src/game-sdk/sdk/Player.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), GameName = "Save The Pets".replace(/ /g, "-"), avatarUrl = "https://picsum.photos/seed/%1/300/300", _Player = function() {
                function _Player1(adapter) {
                    var _this = this;
                    _class_call_check(this, _Player1), _define_property(this, "adapter$", void 0), _define_property(this, "extra$", void 0), _define_property(this, "defaultPlayerInfo$", void 0), _define_property(this, "currentPlayerInfo$", void 0), _define_property(this, "infoKey$", "".concat(GameName, "_PlayerInfo")), _define_property(this, "dataKey$", "".concat(GameName, "_PlayerData")), _define_property(this, "subscribeBot$", null), _define_property(this, "connectedPlayers$", null), _define_property(this, "getSignature$", __name(function() {
                        var token = _this.getSignatureFormMockup$();
                        return Ludex.Utils.Valid.isString(token) ? token : "default_token";
                    }, "getSignature$")), this.adapter$ = adapter, this.extra$ = adapter.extra, this.initDefaultPlayerInfo$();
                }
                return _create_class(_Player1, [
                    {
                        key: "initDefaultPlayerInfo$",
                        value: function initDefaultPlayerInfo$() {
                            var playerId2 = "guest-007";
                            this.defaultPlayerInfo$ = {
                                playerId: playerId2,
                                playerName: "Guest",
                                playerPhoto: avatarUrl.replace("%1", playerId2)
                            }, this.extra$.isGuest = !0, this.currentPlayerInfo$ = __spreadValues({}, this.defaultPlayerInfo$);
                        }
                    },
                    {
                        key: "initPlayerInfo",
                        value: function initPlayerInfo(playerId2) {
                            this.updateCurrentPlayerInfo$(playerId2), Ludex.Utils.Browser.writeLocalStorage(this.infoKey$, this.currentPlayerInfo$);
                        }
                    },
                    {
                        key: "canSubscribeBotAsync",
                        value: function canSubscribeBotAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.loadMockSubscribeBot$()
                                            ];
                                        case 1:
                                            return _state.sent(), this.subscribeBot$ || this.extra$.exceptionUnsupported(), [
                                                2,
                                                this.subscribeBot$.canSubscribeBotAsync()
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "subscribeBotAsync",
                        value: function subscribeBotAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.loadMockSubscribeBot$()
                                            ];
                                        case 1:
                                            return _state.sent(), this.subscribeBot$ || this.extra$.exceptionUnsupported(), [
                                                2,
                                                this.subscribeBot$.subscribeBotAsync()
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getID",
                        value: function getID() {
                            return this.currentPlayerInfo$.playerId;
                        }
                    },
                    {
                        key: "getName",
                        value: function getName() {
                            return this.currentPlayerInfo$.playerName;
                        }
                    },
                    {
                        key: "getPhoto",
                        value: function getPhoto() {
                            return this.currentPlayerInfo$.playerPhoto;
                        }
                    },
                    {
                        key: "getDataAsync",
                        value: function getDataAsync(keys) {
                            return _async_to_generator(function() {
                                var _Ludex_Utils, B5, V37, O32, data, dataObject, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, key;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (keys.length < 1) return [
                                                2,
                                                {}
                                            ];
                                            return [
                                                4,
                                                this.extra$.delayPlayerDataAsync()
                                            ];
                                        case 1:
                                            if (_state.sent(), B5 = (_Ludex_Utils = Ludex.Utils).Browser, V37 = _Ludex_Utils.Valid, O32 = _Ludex_Utils.Object, data = B5.getLocalStorage(this.dataKey$), !V37.isObject(data)) return [
                                                2,
                                                {}
                                            ];
                                            dataObject = {}, _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                                            try {
                                                for(_iterator = keys[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)key = _step.value, O32.hasOwn(data, key) && (dataObject[key] = data[key]);
                                            } catch (err) {
                                                _didIteratorError = !0, _iteratorError = err;
                                            } finally{
                                                try {
                                                    _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                                                } finally{
                                                    if (_didIteratorError) throw _iteratorError;
                                                }
                                            }
                                            return [
                                                2,
                                                dataObject
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "setDataAsync",
                        value: function setDataAsync(data) {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.extra$.delayPlayerDataAsync()
                                            ];
                                        case 1:
                                            return _state.sent(), Ludex.Utils.Browser.writeLocalStorage(this.dataKey$, data), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getSignedPlayerInfoAsync",
                        value: function getSignedPlayerInfoAsync() {
                            return _async_to_generator(function() {
                                var _this;
                                return _ts_generator(this, function(_state) {
                                    return _this = this, [
                                        2,
                                        {
                                            getPlayerID: __name(function() {
                                                var _this_getID;
                                                return null != (_this_getID = _this.getID()) ? _this_getID : "";
                                            }, "getPlayerID"),
                                            getSignature: this.getSignature$
                                        }
                                    ];
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getConnectedPlayersAsync",
                        value: function getConnectedPlayersAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.loadMockConnectedPlayers$()
                                            ];
                                        case 1:
                                            return _state.sent(), this.connectedPlayers$ || this.extra$.exceptionUnsupported(), [
                                                2,
                                                this.connectedPlayers$.getConnectedPlayersAsync()
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "updateCurrentPlayerInfo$",
                        value: function updateCurrentPlayerInfo$(playerId2) {
                            var _Ludex_Utils = Ludex.Utils, B5 = _Ludex_Utils.Browser, V37 = _Ludex_Utils.Valid, O32 = _Ludex_Utils.Object, S9 = _Ludex_Utils.String, currentId = null != playerId2 ? playerId2 : "", currentName = "Nameless";
                            if (this.extra$.isGuest) {
                                var data = B5.getLocalStorage(this.infoKey$);
                                V37.isObject(data) && O32.hasOwn(data, "playerId") && V37.isString(data.playerId) && (currentId = data.playerId), V37.isObject(data) && O32.hasOwn(data, "playerName") && V37.isString(data.playerName) && (currentName = data.playerName);
                            }
                            V37.isEmpty(currentId) && (currentId = S9.generateObjectId()), "Nameless" === currentName && this.isUseNameGenerator$() && (currentName = S9.generateNameUsingString(currentId)), this.currentPlayerInfo$.playerId = currentId, this.currentPlayerInfo$.playerName = currentName, this.currentPlayerInfo$.playerPhoto = avatarUrl.replace("%1", currentId), this.updateMockupPlayerInfo$(currentId);
                        }
                    },
                    {
                        key: "isUseNameGenerator$",
                        value: function isUseNameGenerator$() {
                            var gameConfig = define_GAME_SDK_CONFIG_default;
                            return (null == gameConfig ? void 0 : gameConfig.UseNameGenerator) === !0;
                        }
                    },
                    {
                        key: "getMockPlayerInfo$",
                        value: function getMockPlayerInfo$() {
                            var Match = Ludex.Configs.Mockup.Match;
                            return Match.Enabled ? Match.PlayerInfo : null;
                        }
                    },
                    {
                        key: "getMockOpponentInfo$",
                        value: function getMockOpponentInfo$() {
                            var Match = Ludex.Configs.Mockup.Match;
                            return Match.Enabled ? Match.OpponentInfo : null;
                        }
                    },
                    {
                        key: "updateMockupPlayerInfo$",
                        value: function updateMockupPlayerInfo$(playerId2) {
                            var info = this.getMockOpponentInfo$();
                            playerId2 !== (null == info ? void 0 : info.Id) && (info = this.getMockPlayerInfo$()), info && (this.currentPlayerInfo$.playerId = info.Id, info.Name && (this.currentPlayerInfo$.playerName = info.Name), info.Photo && (this.currentPlayerInfo$.playerPhoto = info.Photo));
                        }
                    },
                    {
                        key: "getSignatureFormMockup$",
                        value: function getSignatureFormMockup$() {
                            var Match = Ludex.Configs.Mockup.Match, isPlayer = Match.PlayerInfo.Id === this.getID(), isOpponent = Match.OpponentInfo.Id === this.getID();
                            return isPlayer ? Match.PlayerInfo.Signature : isOpponent ? Match.OpponentInfo.Signature : null;
                        }
                    },
                    {
                        key: "loadMockSubscribeBot$",
                        value: function loadMockSubscribeBot$() {
                            return _async_to_generator(function() {
                                var MockSubscribeBot;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.subscribeBot$) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            if ("function" != typeof (MockSubscribeBot = _state.sent().default)) return [
                                                2
                                            ];
                                            return this.subscribeBot$ = new MockSubscribeBot(this.adapter$), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "loadMockConnectedPlayers$",
                        value: function loadMockConnectedPlayers$() {
                            return _async_to_generator(function() {
                                var MockConnectedPlayers;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.connectedPlayers$) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            if ("function" != typeof (MockConnectedPlayers = _state.sent().default)) return [
                                                2
                                            ];
                                            return this.connectedPlayers$ = new MockConnectedPlayers(this.extra$), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    }
                ]), _Player1;
            }(), __name(_Player, "Player"), Player_default = _Player;
        }
    }), init_TournamentInstance = __esm({
        "extensions/ludex/src/game-sdk/sdk/TournamentInstance.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), __name(_TournamentInstance = function() {
                function _TournamentInstance1(id, payload) {
                    var _config_endTime, isPageHosted = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    _class_call_check(this, _TournamentInstance1), _define_property(this, "id$", void 0), _define_property(this, "title$", void 0), _define_property(this, "contextId$", void 0), _define_property(this, "payload$", void 0), _define_property(this, "endTime$", void 0), _define_property(this, "tournamentType$", void 0);
                    var config = payload.config, data = payload.data;
                    this.id$ = id, this.title$ = config.title, this.contextId$ = "0123".concat(this.id$), this.payload$ = JSON.stringify(null != data ? data : {}), this.endTime$ = null != (_config_endTime = config.endTime) ? _config_endTime : this.defaultEndTime$(), this.tournamentType$ = isPageHosted ? "PAGE_HOSTED" : "DEFAULT";
                }
                return _create_class(_TournamentInstance1, [
                    {
                        key: "defaultEndTime$",
                        value: function defaultEndTime$() {
                            return Math.round((Date.now() + 604800000) / 1e3);
                        }
                    },
                    {
                        key: "getID",
                        value: function getID() {
                            return this.id$;
                        }
                    },
                    {
                        key: "getTitle",
                        value: function getTitle() {
                            return this.title$;
                        }
                    },
                    {
                        key: "getPayload",
                        value: function getPayload() {
                            return this.payload$;
                        }
                    },
                    {
                        key: "getEndTime",
                        value: function getEndTime() {
                            return this.endTime$;
                        }
                    },
                    {
                        key: "getContextID",
                        value: function getContextID() {
                            return this.contextId$;
                        }
                    },
                    {
                        key: "getTournamentType",
                        value: function getTournamentType() {
                            return this.tournamentType$;
                        }
                    },
                    {
                        key: "toObject",
                        value: function toObject() {
                            return {
                                id: this.id$,
                                title: this.title$,
                                payload: this.payload$,
                                endTime: this.endTime$,
                                contextId: this.contextId$,
                                tournamentType: this.tournamentType$
                            };
                        }
                    }
                ]), _TournamentInstance1;
            }(), "TournamentInstance"), TournamentInstance_default = _TournamentInstance;
        }
    }), init_Tournament = __esm({
        "extensions/ludex/src/game-sdk/sdk/Tournament.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_Context(), init_TournamentInstance(), CreateErrorList = _to_consumable_array(CommonErrorList2 = [
                "Unsupported",
                "NetworkFailure",
                "PendingRequest",
                "ClientUnsupportedOpera\
tion"
            ]).concat([
                "InvalidParam",
                "UserInput"
            ]), JoinErrorList = _to_consumable_array(CommonErrorList2).concat([
                "InvalidOperation",
                "UserInput"
            ]), ShareErrorList = _to_consumable_array(CommonErrorList2).concat([
                "InvalidParam",
                "UserInput"
            ]), PostScoreErrorList = _to_consumable_array(CommonErrorList2).concat([
                "InvalidParam",
                "UserInput"
            ]), GetTournamentsErrorList = _to_consumable_array(CommonErrorList2).concat([
                "NetworkFailure"
            ]), TOURNAMENTS_DATA_MOCK_KEY = "TournamentsDataMockKey", TOURNAMENT_LEADERS_MOCK_KEY = "TournamentLeadersMockKey", _Tournament = function() {
                function _Tournament1(adapter) {
                    var _this = this;
                    _class_call_check(this, _Tournament1), _define_property(this, "adapter$", void 0), _define_property(this, "extra$", void 0), _define_property(this, "context$", void 0), _define_property(this, "shareAsyncPopup$", null), _define_property(this, "createAsyncPopup$", null), _define_property(this, "processEnterTournament$", __name(function(tournamentId) {
                        return _async_to_generator(function() {
                            return _ts_generator(this, function(_state) {
                                switch(_state.label){
                                    case 0:
                                        if (!this.getTournamentData$(tournamentId)) return [
                                            2
                                        ];
                                        return [
                                            4,
                                            this.joinAsync(tournamentId)
                                        ];
                                    case 1:
                                        return _state.sent(), [
                                            2
                                        ];
                                }
                            });
                        }).call(_this);
                    }, "processEnterTournament$")), _define_property(this, "handleOnYes$", __name(function(resolve) {
                        return function() {
                            _this.extra$.isPopupShown = !1, resolve(!0);
                        };
                    }, "handleOnYes$")), _define_property(this, "handleOnNo$", __name(function(reject) {
                        return function() {
                            _this.extra$.isPopupShown = !1;
                            try {
                                _this.extra$.exceptionUserInput("Player closed the context menu");
                            } catch (error) {
                                reject(error);
                            }
                        };
                    }, "handleOnNo$")), this.adapter$ = adapter, this.extra$ = adapter.extra, this.context$ = adapter.context;
                }
                return _create_class(_Tournament1, [
                    {
                        key: "initTournamentInfoAsync",
                        value: function initTournamentInfoAsync(tournamentId) {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (!Ludex.Configs.Mockup.GameSDK.Tournament.Enabled) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                this.createMockTournamentsData$()
                                            ];
                                        case 1:
                                            if (_state.sent(), !tournamentId) return [
                                                3,
                                                3
                                            ];
                                            return [
                                                4,
                                                this.processEnterTournament$(tournamentId)
                                            ];
                                        case 2:
                                            _state.sent(), _state.label = 3;
                                        case 3:
                                            return [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "createMockTournamentsData$",
                        value: function createMockTournamentsData$() {
                            return _async_to_generator(function() {
                                var O32, _Ludex_Configs_Mockup_GameSDK_Tournament, Enabled2, NumOfTournament, NumOfNormal, NumOfHostPaged, tournamentsData, allTournaments, tournaments, currentDefaultTournaments, currentHostPageTournaments, defaultTournamentsLength, hostPageTournamentsLength, remainingDefaultTournaments, remainingHostPageTournaments, defaultTournaments, hostPageTournaments;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (O32 = Ludex.Utils.Object, Enabled2 = (_Ludex_Configs_Mockup_GameSDK_Tournament = Ludex.Configs.Mockup.GameSDK.Tournament).Enabled, NumOfNormal = (NumOfTournament = _Ludex_Configs_Mockup_GameSDK_Tournament.NumOfTournament).Normal, NumOfHostPaged = NumOfTournament.HostPage, !Enabled2) return [
                                                2
                                            ];
                                            return tournamentsData = this.getTournamentsData$(), allTournaments = O32.vals(tournamentsData), currentDefaultTournaments = (tournaments = this.filterExpiredTournaments$(allTournaments)).filter(function(tournament) {
                                                return "DEFAULT" === tournament.tournamentType;
                                            }), currentHostPageTournaments = tournaments.filter(function(tournament) {
                                                return "PAGE_HOSTED" === tournament.tournamentType;
                                            }), defaultTournamentsLength = currentDefaultTournaments.length, hostPageTournamentsLength = currentHostPageTournaments.length, remainingDefaultTournaments = NumOfNormal - defaultTournamentsLength, remainingHostPageTournaments = NumOfHostPaged - hostPageTournamentsLength, defaultTournaments = this.createDefaultTournaments$(remainingDefaultTournaments), hostPageTournaments = this.createGlobalTournaments$(remainingHostPageTournaments), [
                                                4,
                                                Promise.all(_to_consumable_array(defaultTournaments).concat(_to_consumable_array(hostPageTournaments)))
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "filterExpiredTournaments$",
                        value: function filterExpiredTournaments$(tournaments) {
                            var now = Date.now() / 1e3, validTournaments = tournaments.filter(function(tournament) {
                                return tournament.endTime > now;
                            }), newTournamentData = {}, _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                            try {
                                for(var _step, _iterator = validTournaments[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                                    var tournament = _step.value;
                                    newTournamentData[tournament.id] = tournament;
                                }
                            } catch (err) {
                                _didIteratorError = !0, _iteratorError = err;
                            } finally{
                                try {
                                    _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                                } finally{
                                    if (_didIteratorError) throw _iteratorError;
                                }
                            }
                            return this.writeTournamentsData$(newTournamentData), validTournaments;
                        }
                    },
                    {
                        key: "createDefaultTournaments$",
                        value: function createDefaultTournaments$(length) {
                            var _this = this, _Ludex_Utils = Ludex.Utils, S9 = _Ludex_Utils.String, A10 = _Ludex_Utils.Array, N = _Ludex_Utils.Number, ExtraPlayerTournamentPayload = Ludex.Configs.Mockup.GameSDK.Tournament.ExtraPlayerTournamentPayload, leaderboard = codex.leaderboard, playerId2 = GameSDK.player.getID(), playerName = GameSDK.player.getName();
                            return A10.length(length).map(function() {
                                return _async_to_generator(function() {
                                    var title, leaderboardId, tournamentId, playerLimit, leaders;
                                    return _ts_generator(this, function(_state) {
                                        switch(_state.label){
                                            case 0:
                                                return title = "".concat(playerName, "'s Tournament ").concat(S9.generateObjectId()), [
                                                    4,
                                                    leaderboard.createLeaderboardAsync({
                                                        name: title
                                                    })
                                                ];
                                            case 1:
                                                if (leaderboardId = _state.sent(), tournamentId = this.createMockTournamentAsync$({
                                                    initialScore: 0,
                                                    config: {
                                                        title: title,
                                                        tournamentTitle: title
                                                    },
                                                    data: __spreadValues({
                                                        playerId: playerId2,
                                                        playerName: playerName,
                                                        leaderboardId: leaderboardId
                                                    }, ExtraPlayerTournamentPayload)
                                                }).getID().toString(), this.getTournamentLeadersData$(tournamentId)) return [
                                                    2
                                                ];
                                                return playerLimit = N.random(2), (leaders = codex.player.getConnectedPlayerIds(playerLimit, 0).map(function(playerId3) {
                                                    return {
                                                        playerId: playerId3,
                                                        score: N.random(4)
                                                    };
                                                })).sort(function(a, b) {
                                                    return a.score - b.score;
                                                }), this.writeTournamentLeadersData$(tournamentId, leaders), [
                                                    2
                                                ];
                                        }
                                    });
                                }).call(_this);
                            });
                        }
                    },
                    {
                        key: "createGlobalTournaments$",
                        value: function createGlobalTournaments$(length) {
                            var _this = this, _Ludex_Utils = Ludex.Utils, S9 = _Ludex_Utils.String, A10 = _Ludex_Utils.Array, N = _Ludex_Utils.Number, ExtraGlobalTournamentPayload = Ludex.Configs.Mockup.GameSDK.Tournament.ExtraGlobalTournamentPayload, leaderboard = codex.leaderboard;
                            return A10.length(length).map(function() {
                                return _async_to_generator(function() {
                                    var id, payload, title, tournamentId, leaderLength, leaders;
                                    return _ts_generator(this, function(_state) {
                                        switch(_state.label){
                                            case 0:
                                                return payload = __spreadValues({
                                                    leaderboardId: id = S9.generateObjectId(),
                                                    playerId: "global"
                                                }, ExtraGlobalTournamentPayload), title = "Global Tournament ".concat(id), [
                                                    4,
                                                    leaderboard.createLeaderboardAsync({
                                                        name: title,
                                                        _id: id,
                                                        type: "world_tournament_leaderboard",
                                                        description: JSON.stringify(payload)
                                                    })
                                                ];
                                            case 1:
                                                if (_state.sent(), tournamentId = this.createMockTournamentAsync$({
                                                    initialScore: 0,
                                                    config: {
                                                        title: title,
                                                        tournamentTitle: title
                                                    },
                                                    data: payload
                                                }, !0).getID().toString(), this.getTournamentLeadersData$(tournamentId)) return [
                                                    2
                                                ];
                                                return leaderLength = N.random(2), (leaders = A10.length(leaderLength).map(function() {
                                                    return {
                                                        playerId: S9.generateObjectId(),
                                                        score: N.random(4)
                                                    };
                                                })).sort(function(a, b) {
                                                    return a.score - b.score;
                                                }), this.writeTournamentLeadersData$(tournamentId, leaders), [
                                                    2
                                                ];
                                        }
                                    });
                                }).call(_this);
                            });
                        }
                    },
                    {
                        key: "awaitRandomDelay$",
                        value: function awaitRandomDelay$() {
                            return _async_to_generator(function() {
                                var RandomDelayMs;
                                return _ts_generator(this, function(_state) {
                                    return RandomDelayMs = Ludex.Configs.Mockup.GameSDK.Tournament.RandomDelayMs, [
                                        2,
                                        this.extra$.awaitRandomDelay(RandomDelayMs)
                                    ];
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "randomError",
                        value: function randomError(errors) {
                            100 * Math.random() < Ludex.Configs.Mockup.GameSDK.Tournament.ErrorRates && this.extra$.randomException(errors);
                        }
                    },
                    {
                        key: "loadCreateTournamentPopupAsync$",
                        value: function loadCreateTournamentPopupAsync$() {
                            return _async_to_generator(function() {
                                var CreateAsyncPopup;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.createAsyncPopup$) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            if ("function" != typeof (CreateAsyncPopup = _state.sent().default)) return [
                                                2
                                            ];
                                            return this.createAsyncPopup$ = new CreateAsyncPopup(), [
                                                4,
                                                this.createAsyncPopup$.setupTemplate()
                                            ];
                                        case 2:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "loadSharePopupAsync$",
                        value: function loadSharePopupAsync$() {
                            return _async_to_generator(function() {
                                var ShareAsyncPopup;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.shareAsyncPopup$) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            if ("function" != typeof (ShareAsyncPopup = _state.sent().default)) return [
                                                2
                                            ];
                                            return this.shareAsyncPopup$ = new ShareAsyncPopup(), [
                                                4,
                                                this.shareAsyncPopup$.setupTemplate()
                                            ];
                                        case 2:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "createAsync",
                        value: function createAsync(payload) {
                            return _async_to_generator(function() {
                                var _this, tournament, contextId2;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return _this = this, this.extra$.checkPopupShown(), [
                                                4,
                                                this.awaitRandomDelay$()
                                            ];
                                        case 1:
                                            return _state.sent(), null !== this.context$.getID() && this.extra$.exceptionInvalidOperation("Cannot create tournament while in a context"), this.validateCreatePayload$(payload), this.randomError(CreateErrorList), [
                                                4,
                                                this.loadCreateTournamentPopupAsync$()
                                            ];
                                        case 2:
                                            return _state.sent(), [
                                                4,
                                                new Promise(function(resolve, reject) {
                                                    _this.createAsyncPopup$ || _this.adapter$.extra.exceptionUnsupported(), _this.createAsyncPopup$.onYes(_this.handleOnYes$(resolve)), _this.createAsyncPopup$.onNo(_this.handleOnNo$(reject)), _this.createAsyncPopup$.show(payload), _this.extra$.isPopupShown = !0;
                                                })
                                            ];
                                        case 3:
                                            return _state.sent(), contextId2 = (tournament = this.createMockTournamentAsync$(payload)).getContextID(), this.setCurrentContextID$(contextId2), [
                                                2,
                                                tournament
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "createMockTournamentAsync$",
                        value: function createMockTournamentAsync$(payload) {
                            var isPageHosted = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], id = Ludex.Utils.String.generateObjectId(), tournament = new TournamentInstance_default(id, payload, isPageHosted), tournamentData = tournament.toObject();
                            return this.writeTournamentData$(id, tournamentData), tournament;
                        }
                    },
                    {
                        key: "postScoreAsync",
                        value: function postScoreAsync(score2) {
                            return _async_to_generator(function() {
                                var playerId2;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.awaitRandomDelay$()
                                            ];
                                        case 1:
                                            return _state.sent(), this.validateAvailableTournament$(), score2 < 0 && this.extra$.exceptionInvalidParam("Score must be a positive number"), this.randomError(PostScoreErrorList), playerId2 = codex.player.getPlayerId(), this.updateBestScore$(playerId2, score2), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "shareAsync",
                        value: function shareAsync(payload) {
                            return _async_to_generator(function() {
                                var _this, score2, bestScore, tournament, playerId3, tournamentId, lastBestScore, playerId2;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return _this = this, this.extra$.checkPopupShown(), [
                                                4,
                                                this.awaitRandomDelay$()
                                            ];
                                        case 1:
                                            return _state.sent(), this.validateAvailableTournament$(), this.validateSharePayload$(payload), this.randomError(ShareErrorList), [
                                                4,
                                                this.loadSharePopupAsync$()
                                            ];
                                        case 2:
                                            return _state.sent(), bestScore = score2 = payload.score, (tournament = this.getCurrentTournament$()) && (playerId3 = codex.player.getPlayerId(), tournamentId = tournament.getID().toString(), (lastBestScore = this.getBestScore$(tournamentId, playerId3)) && lastBestScore < score2 && (bestScore = lastBestScore)), [
                                                4,
                                                new Promise(function(resolve, reject) {
                                                    _this.shareAsyncPopup$ || _this.adapter$.extra.exceptionUnsupported(), _this.shareAsyncPopup$.onYes(_this.handleOnYes$(resolve)), _this.shareAsyncPopup$.onNo(_this.handleOnNo$(reject)), _this.shareAsyncPopup$.show(bestScore), _this.extra$.isPopupShown = !0;
                                                })
                                            ];
                                        case 3:
                                            return _state.sent(), playerId2 = codex.player.getPlayerId(), this.updateBestScore$(playerId2, score2), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getTournamentsAsync",
                        value: function getTournamentsAsync() {
                            return _async_to_generator(function() {
                                var _this, tournamentsData;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return _this = this, [
                                                4,
                                                this.awaitRandomDelay$()
                                            ];
                                        case 1:
                                            return _state.sent(), this.randomError(GetTournamentsErrorList), tournamentsData = this.getTournamentsData$(), [
                                                2,
                                                Ludex.Utils.Object.vals(tournamentsData).map(function(tournament) {
                                                    return _this.getTournamentInstance$(tournament.id);
                                                }).filter(function(tournament) {
                                                    return null !== tournament;
                                                })
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "joinAsync",
                        value: function joinAsync(tournamentId) {
                            return _async_to_generator(function() {
                                var tournament, tournamentContextId;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.awaitRandomDelay$()
                                            ];
                                        case 1:
                                            return _state.sent(), Ludex.Utils.Valid.isString(tournamentId) || this.extra$.exceptionInvalidParam("Tournament ID must be a string"), (tournament = this.getTournamentInstance$(tournamentId)) || this.extra$.exceptionTournamentNotFound("Tournament could not be found."), this.randomError(JoinErrorList), tournamentContextId = tournament.getContextID(), [
                                                4,
                                                GameSDK.context.switchAsync(tournamentContextId)
                                            ];
                                        case 2:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "setCurrentContextID$",
                        value: function setCurrentContextID$(contextId2) {
                            _instanceof(this.context$, Context_default) && this.context$.setCurrentContextId(contextId2);
                        }
                    },
                    {
                        key: "getCurrentTournament$",
                        value: function getCurrentTournament$() {
                            var contextId2 = this.context$.getID();
                            if (!contextId2) return null;
                            var tournamentsData = this.getTournamentsData$();
                            for(var tournamentId in tournamentsData)if (Object.hasOwn(tournamentsData, tournamentId) && tournamentsData[tournamentId].contextId === contextId2) return this.getTournamentInstance$(tournamentId);
                            return null;
                        }
                    },
                    {
                        key: "validateCreatePayload$",
                        value: function validateCreatePayload$(payload) {
                            var _Ludex_Utils = Ludex.Utils, O32 = _Ludex_Utils.Object, V37 = _Ludex_Utils.Valid;
                            V37.isObject(payload) || this.extra$.exceptionInvalidParam("Payload must be an object"), O32.hasOwn(payload, "initialScore") || this.extra$.exceptionInvalidParam("Payload must have initialScore"), O32.hasOwn(payload, "config") || this.extra$.exceptionInvalidParam("Payload must have config");
                            var initialScore = payload.initialScore, config = payload.config;
                            V37.isNumber(initialScore) || this.extra$.exceptionInvalidParam("initialScore must be a number"), V37.isObject(config) || this.extra$.exceptionInvalidParam("Config must be an object"), O32.hasOwn(config, "title") || this.extra$.exceptionInvalidParam("Config must have title"), O32.hasOwn(config, "tournamentTitle") || this.extra$.exceptionInvalidParam("Config must have tournamentTitle"), O32.hasOwn(payload, "data") && !V37.isObject(payload.data) && this.extra$.exceptionInvalidParam("Data must be an object");
                        }
                    },
                    {
                        key: "validateSharePayload$",
                        value: function validateSharePayload$(payload) {
                            var _Ludex_Utils = Ludex.Utils, O32 = _Ludex_Utils.Object, V37 = _Ludex_Utils.Valid;
                            V37.isObject(payload) || this.extra$.exceptionInvalidParam("Payload must be an object"), O32.hasOwn(payload, "score") || this.extra$.exceptionInvalidParam("Payload must have score");
                            var score2 = payload.score;
                            V37.isNumber(score2) || this.extra$.exceptionInvalidParam("Score must be a number"), O32.hasOwn(payload, "data") && !V37.isObject(payload.data) && this.extra$.exceptionInvalidParam("Data must be an object");
                        }
                    },
                    {
                        key: "validateAvailableTournament$",
                        value: function validateAvailableTournament$() {
                            this.getCurrentTournament$() || this.extra$.exceptionTournamentNotFound("There is no tournament for this context.");
                        }
                    },
                    {
                        key: "getTournamentInstance$",
                        value: function getTournamentInstance$(id) {
                            var tournamentData = this.getTournamentData$(id);
                            return tournamentData ? {
                                getID: __name(function() {
                                    return tournamentData.id;
                                }, "getID"),
                                getTitle: __name(function() {
                                    return tournamentData.title;
                                }, "getTitle"),
                                getPayload: __name(function() {
                                    return tournamentData.payload;
                                }, "getPayload"),
                                getEndTime: __name(function() {
                                    return tournamentData.endTime;
                                }, "getEndTime"),
                                getContextID: __name(function() {
                                    return tournamentData.contextId;
                                }, "getContextID"),
                                getTournamentType: __name(function() {
                                    return tournamentData.tournamentType;
                                }, "getTourn\
amentType")
                            } : null;
                        }
                    },
                    {
                        key: "getTournamentData$",
                        value: function getTournamentData$(id) {
                            var tournaments = this.getTournamentsData$();
                            return tournaments[id] ? tournaments[id] : null;
                        }
                    },
                    {
                        key: "writeTournamentData$",
                        value: function writeTournamentData$(id, data) {
                            var tournaments = this.getTournamentsData$();
                            tournaments[id] = data, this.writeTournamentsData$(tournaments);
                        }
                    },
                    {
                        key: "getTournamentsData$",
                        value: function getTournamentsData$() {
                            var _Ludex_Utils = Ludex.Utils, B5 = _Ludex_Utils.Browser, V37 = _Ludex_Utils.Valid, data = B5.getLocalStorage(TOURNAMENTS_DATA_MOCK_KEY);
                            return V37.isObject(data) ? data : {};
                        }
                    },
                    {
                        key: "writeTournamentsData$",
                        value: function writeTournamentsData$(tournaments) {
                            var _Ludex_Utils = Ludex.Utils, B5 = _Ludex_Utils.Browser;
                            _Ludex_Utils.Valid.isObject(tournaments) && B5.writeLocalStorage(TOURNAMENTS_DATA_MOCK_KEY, tournaments);
                        }
                    },
                    {
                        key: "getBestScore$",
                        value: function getBestScore$(tournamentId, playerId2) {
                            var _leader_score, leader = this.getTournamentLeader$(tournamentId, playerId2);
                            return leader && null != (_leader_score = leader.score) ? _leader_score : null;
                        }
                    },
                    {
                        key: "updateBestScore$",
                        value: function updateBestScore$(playerId2, score2) {
                            var tournament = this.getCurrentTournament$();
                            if (tournament) {
                                var tournamentId = tournament.getID().toString();
                                if (tournamentId) {
                                    var leader = this.getTournamentLeader$(tournamentId, playerId2);
                                    if (!leader) return void this.writeTournamentLeader$(tournamentId, {
                                        playerId: playerId2,
                                        score: score2
                                    });
                                    leader.score < score2 && (leader.score = score2, this.writeTournamentLeader$(tournamentId, leader));
                                }
                            }
                        }
                    },
                    {
                        key: "getTournamentLeader$",
                        value: function getTournamentLeader$(tournamentId, playerId2) {
                            var _A10_search, tournamentLeaders = this.getTournamentLeadersData$(tournamentId);
                            return tournamentLeaders.length && null != (_A10_search = Ludex.Utils.Array.search(tournamentLeaders, function(leader) {
                                return leader.playerId === playerId2;
                            })) ? _A10_search : null;
                        }
                    },
                    {
                        key: "getTournamentLeadersData$",
                        value: function getTournamentLeadersData$(tournamentId) {
                            var _Ludex_Utils = Ludex.Utils, B5 = _Ludex_Utils.Browser, O32 = _Ludex_Utils.Object, data = B5.getLocalStorage(TOURNAMENT_LEADERS_MOCK_KEY);
                            if (!O32.hasOwn(data, tournamentId)) return [];
                            var tournamentLeaders = data[tournamentId];
                            return Array.isArray(tournamentLeaders) ? (tournamentLeaders.sort(function(a, b) {
                                return b.score - a.score;
                            }), tournamentLeaders) : [];
                        }
                    },
                    {
                        key: "writeTournamentLeader$",
                        value: function writeTournamentLeader$(tournamentId, leader) {
                            var A10 = Ludex.Utils.Array, tournamentLeaders = this.getTournamentLeadersData$(tournamentId), leaderIndex = A10.searchIndex(tournamentLeaders, function(tournamentLeader) {
                                return tournamentLeader.playerId === leader.playerId;
                            });
                            -1 === leaderIndex ? tournamentLeaders.push(leader) : tournamentLeaders[leaderIndex] = leader, this.writeTournamentLeadersData$(tournamentId, tournamentLeaders);
                        }
                    },
                    {
                        key: "writeTournamentLeadersData$",
                        value: function writeTournamentLeadersData$(tournamentId, tournamentLeaders) {
                            var _B5_getLocalStorage, _Ludex_Utils = Ludex.Utils, B5 = _Ludex_Utils.Browser, O32 = _Ludex_Utils.Object;
                            if (Array.isArray(tournamentLeaders)) {
                                var data = null != (_B5_getLocalStorage = B5.getLocalStorage(TOURNAMENT_LEADERS_MOCK_KEY)) ? _B5_getLocalStorage : {};
                                O32.assign(data, _define_property({}, tournamentId, tournamentLeaders)), B5.writeLocalStorage(TOURNAMENT_LEADERS_MOCK_KEY, data);
                            }
                        }
                    }
                ]), _Tournament1;
            }(), __name(_Tournament, "Tournament"), Tournament_default = _Tournament;
        }
    }), init_GameSDK = __esm({
        "extensions/ludex/src/game-sdk/sdk/GameSDK.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_Context(), init_Extra(), init_Payments(), init_Player(), init_Tournament(), __name(_GameSDK = function() {
                function _GameSDK1() {
                    _class_call_check(this, _GameSDK1), _define_property(this, "extra", void 0), _define_property(this, "player", void 0), _define_property(this, "context", void 0), _define_property(this, "tournament", void 0), _define_property(this, "payments", void 0), _define_property(this, "shortcut$", null), _define_property(this, "isInitialized", !1), _define_property(this, "bannerAdInstances$", {}), _define_property(this, "rewardedVideoInstance$", null), _define_property(this, "interstitialAdInstance$", null), _define_property(this, "rewardedInterstitialInstance$", null);
                }
                return _create_class(_GameSDK1, [
                    {
                        key: "initialize$",
                        value: function initialize$() {
                            this.extra = new Extra_default(this), this.player = new Player_default(this), this.context = new Context_default(this), this.payments = new Payments_default(this), this.tournament = new Tournament_default(this);
                        }
                    },
                    {
                        key: "isNeedSDK$",
                        value: function isNeedSDK$() {
                            var gameConfig = define_GAME_SDK_CONFIG_default;
                            return (null == gameConfig ? void 0 : gameConfig.AllowWithoutSDK) !== !0;
                        }
                    },
                    {
                        key: "getLocale",
                        value: function getLocale() {
                            return Ludex.Utils.Browser.getLocale();
                        }
                    },
                    {
                        key: "getPlatform",
                        value: function getPlatform() {
                            var D4 = Ludex.Utils.Device;
                            return D4.isAndroid() ? "ANDROID" : D4.isIOS() ? "IOS" : D4.isDesktop() ? "WEB" : D4.isMobile() ? "MOBILE_WEB" : null;
                        }
                    },
                    {
                        key: "isGameSDK",
                        value: function isGameSDK(name2) {
                            return this.getSDKName() === name2;
                        }
                    },
                    {
                        key: "getSDKName",
                        value: function getSDKName() {
                            return "Ludex";
                        }
                    },
                    {
                        key: "getSDKVersion",
                        value: function getSDKVersion() {
                            return "1.0.0";
                        }
                    },
                    {
                        key: "initializeAsync",
                        value: function initializeAsync() {
                            return _async_to_generator(function() {
                                var params, playerIdInQuery, contextIdInQuery, contextTypeInQuery;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.isInitialized) return [
                                                2
                                            ];
                                            return this.initialize$(), [
                                                4,
                                                this.extra.createLoadingElement()
                                            ];
                                        case 1:
                                            if (_state.sent(), window.__sdkLoad.ensure(1), !this.isNeedSDK$()) return [
                                                3,
                                                3
                                            ];
                                            return [
                                                4,
                                                this.checkSDKInitialized$()
                                            ];
                                        case 2:
                                            _state.sent(), _state.label = 3;
                                        case 3:
                                            return [
                                                4,
                                                this.extra.waitLudexReadyAsync()
                                            ];
                                        case 4:
                                            return _state.sent(), [
                                                4,
                                                this.extra.delayInitialAsync()
                                            ];
                                        case 5:
                                            return _state.sent(), console.debug("Browser params:", params = Ludex.Utils.Browser.getQueryParams()), params.splashPreview && this.extra.destroyLoadingElement(), playerIdInQuery = params.playerId, this.player.initPlayerInfo(playerIdInQuery), contextIdInQuery = params.context_source_id, contextTypeInQuery = params.context_type, this.context.initContextInfo(contextIdInQuery, contextTypeInQuery), this.isInitialized = !0, [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "checkSDKInitialized$",
                        value: function checkSDKInitialized$() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return this.extra.exceptionInvalidOperation("GameSDK requires AllowWithoutSDK=true in game config"), [
                                        2
                                    ];
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "startGameAsync",
                        value: function startGameAsync() {
                            var withEvent = !(arguments.length > 0) || void 0 === arguments[0] || arguments[0];
                            return _async_to_generator(function() {
                                var Events11, tournamentIdInQuery;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return this.isInitialized || this.extra.exceptionInvalidOperation("GameSDK is not initialized"), [
                                                4,
                                                this.extra.delayStartAsync()
                                            ];
                                        case 1:
                                            return _state.sent(), window.__sdkLoad.ensure(95), this.extra.destroyLoadingElement(), Events11 = Ludex.Events, tournamentIdInQuery = (0, Ludex.Utils.Browser.getQueryParams)().tournament_id, [
                                                4,
                                                this.tournament.initTournamentInfoAsync(tournamentIdInQuery)
                                            ];
                                        case 2:
                                            return _state.sent(), [
                                                4,
                                                this.payments.initPaymentInfoAsync()
                                            ];
                                        case 3:
                                            return _state.sent(), withEvent && codex.event.emit(Events11.GAME_SDK_STARTED), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "setLoadingProgress",
                        value: function setLoadingProgress(percentage) {
                            var _this_extra_setLoadingElementProgress, _this_extra;
                            null == (_this_extra = this.extra) || null == (_this_extra_setLoadingElementProgress = _this_extra.setLoadingElementProgress) || _this_extra_setLoadingElementProgress.call(_this_extra, percentage);
                        }
                    },
                    {
                        key: "getEntryPointData",
                        value: function getEntryPointData() {
                            var _Ludex_Utils = Ludex.Utils, B5 = _Ludex_Utils.Browser, J6 = _Ludex_Utils.Json, _B5_getQueryParams_payload = B5.getQueryParams().payload, payload = void 0 === _B5_getQueryParams_payload ? "{}" : _B5_getQueryParams_payload;
                            return "string" != typeof payload ? {} : J6.decode(payload);
                        }
                    },
                    {
                        key: "getEntryPointAsync",
                        value: function getEntryPointAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return [
                                        2,
                                        "no_entry"
                                    ];
                                });
                            })();
                        }
                    },
                    {
                        key: "loadBannerAdAsync",
                        value: function loadBannerAdAsync(placementId) {
                            return _async_to_generator(function() {
                                var MockBannerInstance;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (!placementId) return [
                                                2
                                            ];
                                            if (this.bannerAdInstances$[placementId]) return [
                                                3,
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            "function" != typeof (MockBannerInstance = _state.sent().default) && this.extra.exceptionInvalidOperation("Banner ads mock is not enabled"), this.bannerAdInstances$[placementId] = new MockBannerInstance("banner", placementId), _state.label = 2;
                                        case 2:
                                            return [
                                                4,
                                                this.bannerAdInstances$[placementId].loadAsync()
                                            ];
                                        case 3:
                                            return _state.sent(), [
                                                4,
                                                this.bannerAdInstances$[placementId].showAsync()
                                            ];
                                        case 4:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "hideBannerAdAsync",
                        value: function hideBannerAdAsync(placementId) {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (!this.bannerAdInstances$[placementId]) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                this.bannerAdInstances$[placementId].hideAsync()
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getBannerHeight",
                        value: function getBannerHeight(bannerConfig) {
                            return bannerConfig.BannerHeight;
                        }
                    },
                    {
                        key: "getInterstitialAdAsync",
                        value: function getInterstitialAdAsync(placementId) {
                            return _async_to_generator(function() {
                                var MockAdInstance;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.interstitialAdInstance$) return [
                                                3,
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            "function" != typeof (MockAdInstance = _state.sent().default) && this.extra.exceptionInvalidOperation("Interstitial ads mock is not enabled"), this.interstitialAdInstance$ = new MockAdInstance("interstitial", placementId), _state.label = 2;
                                        case 2:
                                            return [
                                                2,
                                                this.interstitialAdInstance$
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getRewardedVideoAsync",
                        value: function getRewardedVideoAsync(placementId) {
                            return _async_to_generator(function() {
                                var MockAdInstance;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.rewardedVideoInstance$) return [
                                                3,
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            "function" != typeof (MockAdInstance = _state.sent().default) && this.extra.exceptionInvalidOperation("Rewarded video ads mock is not enabled"), this.rewardedVideoInstance$ = new MockAdInstance("rewarded", placementId), _state.label = 2;
                                        case 2:
                                            return [
                                                2,
                                                this.rewardedVideoInstance$
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getRewardedInterstitialAsync",
                        value: function getRewardedInterstitialAsync(placementId) {
                            return _async_to_generator(function() {
                                var MockAdInstance;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.rewardedInterstitialInstance$) return [
                                                3,
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            "function" != typeof (MockAdInstance = _state.sent().default) && this.extra.exceptionInvalidOperation("Rewarded interstitial ads mock is not enabled"), this.rewardedInterstitialInstance$ = new MockAdInstance("rewarded_interstitial", placementId), _state.label = 2;
                                        case 2:
                                            return [
                                                2,
                                                this.rewardedInterstitialInstance$
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getTournamentAsync",
                        value: function getTournamentAsync() {
                            return _async_to_generator(function() {
                                var currentContextID, _Ludex_Utils, A10, tournaments, wantedTournament;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return this.tournament.randomError([
                                                "Unsupported",
                                                "NetworkFailure"
                                            ]), currentContextID = this.context.getID(), A10 = (_Ludex_Utils = Ludex.Utils).Array, _Ludex_Utils.Valid.isString(currentContextID) || this.extra.exceptionInvalidOperation("Not in a context"), [
                                                4,
                                                this.tournament.getTournamentsAsync()
                                            ];
                                        case 1:
                                            return tournaments = _state.sent(), (wantedTournament = A10.search(tournaments, function(tournament) {
                                                return tournament.getContextID() === currentContextID;
                                            })) || this.extra.exceptionTournamentNotFound("A Tournament with current context was not found"), [
                                                2,
                                                wantedTournament
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getSupportedAPIs",
                        value: function getSupportedAPIs() {
                            var _Ludex_Configs_Mockup_GameSDK = Ludex.Configs.Mockup.GameSDK, CanSubscribeBot = _Ludex_Configs_Mockup_GameSDK.Player.SubscribeBot.CanSubscribeBot, CanCreateShortcut = _Ludex_Configs_Mockup_GameSDK.AddShortcut.CanCreateShortcut, apis = [];
                            return CanSubscribeBot && apis.push("player.canSubscribeBotAsync"), CanCreateShortcut && apis.push("canCreateShortcutAsync"), apis;
                        }
                    },
                    {
                        key: "canCreateShortcutAsync",
                        value: function canCreateShortcutAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.loadMockAddShortcut$()
                                            ];
                                        case 1:
                                            return _state.sent(), this.shortcut$ || this.extra.exceptionUnsupported(), [
                                                2,
                                                this.shortcut$.canCreateShortcutAsync()
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "createShortcutAsync",
                        value: function createShortcutAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                this.loadMockAddShortcut$()
                                            ];
                                        case 1:
                                            return _state.sent(), this.shortcut$ || this.extra.exceptionUnsupported(), [
                                                2,
                                                this.shortcut$.createShortcutAsync()
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "loadMockAddShortcut$",
                        value: function loadMockAddShortcut$() {
                            return _async_to_generator(function() {
                                var MockAddShortcut;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.shortcut$) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                Promise.resolve().then(function() {
                                                    return init_empty_script(), empty_script_exports;
                                                })
                                            ];
                                        case 1:
                                            if ("function" != typeof (MockAddShortcut = _state.sent().default)) return [
                                                2
                                            ];
                                            return this.shortcut$ = new MockAddShortcut(this), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    }
                ]), _GameSDK1;
            }(), "GameSDK"), GameSDK_default2 = _GameSDK;
        }
    }), init_AdInstance = __esm({
        "extensions/ludex/src/game-sdk/sdk/AdInstance.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), __name(_AdInstance = function() {
                function _AdInstance1(type, placementId) {
                    _class_call_check(this, _AdInstance1), _define_property(this, "type$", void 0), _define_property(this, "placementId$", void 0), this.type$ = type, this.placementId$ = placementId;
                }
                return _create_class(_AdInstance1, [
                    {
                        key: "getPlacementID",
                        value: function getPlacementID() {
                            return this.placementId$;
                        }
                    },
                    {
                        key: "hideAsync",
                        value: function hideAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return [
                                        2
                                    ];
                                });
                            })();
                        }
                    }
                ]), _AdInstance1;
            }(), "AdInstance"), AdInstance_default = _AdInstance;
        }
    }), init_YTAdInstance = __esm({
        "extensions/ludex/src/game-sdk/adapters/youtube-playables/YTAdInstance.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_SDKCommonError(), init_AdInstance(), ErrorCodes = {
                AD_NOT_LOADED: "AD_NOT_LOADED",
                LOAD_ADS_FAILURE: "LOAD_ADS_FAILURE",
                INVALID_OPERATION: "INVALID_OPERATION",
                SHOW_ADS_FAILURE: "SHOW_ADS_FAILURE",
                SHOW_ADS_TIMEOUT: "SHOW_ADS_TIMEOUT",
                SHOW_ADS_COMPLETED_FAILURE: "SHOW_ADS_COMPLETED_FAILURE"
            }, __name(_YTAdInstance = function(AdInstance_default1) {
                function _YTAdInstance1(sdk2) {
                    var _this;
                    return _class_call_check(this, _YTAdInstance1), _define_property(_this = _call_super(this, _YTAdInstance1, [
                        "interstitial",
                        ""
                    ]), "sdk$", void 0), _define_property(_this, "isAdShowInProgress$", !1), _this.sdk$ = sdk2, _this;
                }
                return _inherits(_YTAdInstance1, AdInstance_default1), _create_class(_YTAdInstance1, [
                    {
                        key: "loadAsync",
                        value: function loadAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return [
                                        2,
                                        Promise.resolve()
                                    ];
                                });
                            })();
                        }
                    },
                    {
                        key: "showAsync",
                        value: function showAsync() {
                            return _async_to_generator(function() {
                                var error;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.isAdShowInProgress$) throw this.makeErrorWithCode$(ErrorCodes.INVALID_OPERATION, "Can't show ads while showin\
g ads");
                                            _state.label = 1;
                                        case 1:
                                            return _state.trys.push([
                                                1,
                                                3,
                                                4,
                                                5
                                            ]), this.isAdShowInProgress$ = !0, [
                                                4,
                                                this.sdk$.ads.requestInterstitialAd()
                                            ];
                                        case 2:
                                            return _state.sent(), console.debug("YTAdInstance showAsync completed"), [
                                                3,
                                                5
                                            ];
                                        case 3:
                                            throw error = _state.sent(), this.makeErrorWithCode$(ErrorCodes.SHOW_ADS_FAILURE, error);
                                        case 4:
                                            return this.isAdShowInProgress$ = !1, [
                                                7
                                            ];
                                        case 5:
                                            return [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "makeErrorWithCode$",
                        value: function makeErrorWithCode$(code, error) {
                            var O32 = Ludex.Utils.Object, errCode = code, message = "";
                            if ("string" == typeof error) message = error;
                            else if (O32.hasOwn(error, "message") && "string" == typeof error.message) message = error.message;
                            else if (O32.hasOwn(error, "description") && "string" == typeof error.description) message = error.description;
                            else try {
                                message = JSON.stringify(error);
                            } catch (e) {
                                message = "Unknown error";
                            }
                            return O32.hasOwn(error, "code") && "string" == typeof error.code ? errCode = error.code : O32.hasOwn(error, "errorType") && "string" == typeof error.errorType && (errCode = error.errorType), new SDKCommonError_default(errCode, message);
                        }
                    }
                ]), _YTAdInstance1;
            }(AdInstance_default), "YTAdInstance"), YTAdInstance_default = _YTAdInstance;
        }
    }), init_YTExtra = __esm({
        "extensions/ludex/src/game-sdk/adapters/youtube-playables/YTExtra.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_Extra(), __name(_YTExtra = function(Extra_default1) {
                function _YTExtra1(adapter) {
                    var _this;
                    return _class_call_check(this, _YTExtra1), _define_property(_this = _call_super(this, _YTExtra1, [
                        adapter
                    ]), "sdk$", void 0), _this.sdk$ = adapter.sdk, _this;
                }
                return _inherits(_YTExtra1, Extra_default1), _create_class(_YTExtra1, [
                    {
                        key: "logError",
                        value: function logError(error) {
                            try {
                                this.sdk$.health.logError(), console.error("YT Health Error:", error);
                            } catch (e) {
                                console.error("Failed to log error to YT health:", e);
                            }
                        }
                    },
                    {
                        key: "logWarning",
                        value: function logWarning(warning) {
                            try {
                                this.sdk$.health.logWarning(), console.warn("YT Health Warning:", warning);
                            } catch (e) {
                                console.warn("Failed to log warning to YT health:", e);
                            }
                        }
                    },
                    {
                        key: "sendScore",
                        value: function sendScore(score2) {
                            return _async_to_generator(function() {
                                var error;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return _state.trys.push([
                                                0,
                                                2,
                                                ,
                                                3
                                            ]), [
                                                4,
                                                this.sdk$.engagement.sendScore({
                                                    value: score2
                                                })
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                3,
                                                3
                                            ];
                                        case 2:
                                            throw error = _state.sent(), this.logError(error), console.error("Failed to send score to YT engagement:", error), error;
                                        case 3:
                                            return [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "openYTContent",
                        value: function openYTContent(id) {
                            return _async_to_generator(function() {
                                var error;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return _state.trys.push([
                                                0,
                                                2,
                                                ,
                                                3
                                            ]), [
                                                4,
                                                this.sdk$.engagement.openYTContent({
                                                    id: id
                                                })
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                3,
                                                3
                                            ];
                                        case 2:
                                            throw error = _state.sent(), this.logError(error), console.error("Failed to open YT content:", error), error;
                                        case 3:
                                            return [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "shareInviteCode",
                        value: function shareInviteCode(inviteCode) {
                            return _async_to_generator(function() {
                                var error;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return _state.trys.push([
                                                0,
                                                2,
                                                ,
                                                3
                                            ]), [
                                                4,
                                                this.sdk$.game.shareInviteCode(inviteCode)
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                3,
                                                3
                                            ];
                                        case 2:
                                            throw error = _state.sent(), this.logError(error), error;
                                        case 3:
                                            return [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "onPause",
                        value: function onPause(callback) {
                            this.sdk$.system.onPause(callback);
                        }
                    },
                    {
                        key: "onResume",
                        value: function onResume(callback) {
                            this.sdk$.system.onResume(callback);
                        }
                    },
                    {
                        key: "isAudioEnabled",
                        value: function isAudioEnabled() {
                            return this.sdk$.system.isAudioEnabled();
                        }
                    },
                    {
                        key: "onAudioEnabledChange",
                        value: function onAudioEnabledChange(callback) {
                            return this.sdk$.system.onAudioEnabledChange(callback);
                        }
                    }
                ]), _YTExtra1;
            }(Extra_default), "YTExtra"), YTExtra_default = _YTExtra;
        }
    }), init_YTPlayer = __esm({
        "extensions/ludex/src/game-sdk/adapters/youtube-playables/YTPlayer.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_Player(), __name(_YTPlayer = function(Player_default1) {
                function _YTPlayer1(adapter) {
                    var _this;
                    return _class_call_check(this, _YTPlayer1), (_this = _call_super(this, _YTPlayer1, [
                        adapter
                    ])).sdk$ = adapter.sdk, _this.extra$ = adapter.extra, _this;
                }
                return _inherits(_YTPlayer1, Player_default1), _create_class(_YTPlayer1, [
                    {
                        key: "initPlayerAsync",
                        value: function initPlayerAsync() {
                            return this.initGuestMode$();
                        }
                    },
                    {
                        key: "isFallback$",
                        value: function isFallback$() {
                            return !this.adapter$.isInitialized || !this.sdk$.IN_PLAYABLES_ENV;
                        }
                    },
                    {
                        key: "initGuestMode$",
                        value: function initGuestMode$() {
                            return _async_to_generator(function() {
                                var playerId2;
                                return _ts_generator(this, function(_state) {
                                    try {
                                        playerId2 = this.getID(), this.extra$.isGuest = !0, this.initPlayerInfo(playerId2);
                                    } catch (e) {}
                                    return [
                                        2
                                    ];
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getDataAsync",
                        value: function getDataAsync(keys) {
                            var _this = this, _this1 = this, _superprop_get_getDataAsync = function _superprop_get_getDataAsync() {
                                return _get(_get_prototype_of(_YTPlayer1.prototype), "getDataAsync", _this);
                            };
                            return _async_to_generator(function() {
                                var dataString, _Ludex_Utils, J6, V37, O32, data, dataObject, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, key, error;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.isFallback$()) return [
                                                2,
                                                _superprop_get_getDataAsync().call(_this1, keys)
                                            ];
                                            _state.label = 1;
                                        case 1:
                                            return _state.trys.push([
                                                1,
                                                3,
                                                ,
                                                4
                                            ]), [
                                                4,
                                                this.sdk$.game.loadData()
                                            ];
                                        case 2:
                                            if (!(dataString = _state.sent()) || (J6 = (_Ludex_Utils = Ludex.Utils).Json, V37 = _Ludex_Utils.Valid, O32 = _Ludex_Utils.Object, data = J6.decode(dataString), !V37.isObject(data))) return [
                                                2,
                                                {}
                                            ];
                                            if (keys.length < 1) return [
                                                2,
                                                data
                                            ];
                                            dataObject = {}, _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                                            try {
                                                for(_iterator = keys[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)key = _step.value, O32.hasOwn(data, key) && (dataObject[key] = data[key]);
                                            } catch (err) {
                                                _didIteratorError = !0, _iteratorError = err;
                                            } finally{
                                                try {
                                                    _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                                                } finally{
                                                    if (_didIteratorError) throw _iteratorError;
                                                }
                                            }
                                            return [
                                                2,
                                                dataObject
                                            ];
                                        case 3:
                                            return error = _state.sent(), this.extra$.logWarning(error), [
                                                2,
                                                {}
                                            ];
                                        case 4:
                                            return [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "setDataAsync",
                        value: function setDataAsync(data) {
                            var _this = this, _this1 = this, _superprop_get_setDataAsync = function _superprop_get_setDataAsync() {
                                return _get(_get_prototype_of(_YTPlayer1.prototype), "setDataAsync", _this);
                            };
                            return _async_to_generator(function() {
                                var currentDataString, _Ludex_Utils, J6, V37, O32, currentData, decoded, newData, serialized, error;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.isFallback$()) return [
                                                2,
                                                _superprop_get_setDataAsync().call(_this1, data)
                                            ];
                                            _state.label = 1;
                                        case 1:
                                            return _state.trys.push([
                                                1,
                                                4,
                                                ,
                                                5
                                            ]), [
                                                4,
                                                this.sdk$.game.loadData()
                                            ];
                                        case 2:
                                            return currentDataString = _state.sent(), J6 = (_Ludex_Utils = Ludex.Utils).Json, V37 = _Ludex_Utils.Valid, O32 = _Ludex_Utils.Object, currentData = {}, currentDataString && (decoded = J6.decode(currentDataString), V37.isObject(decoded) && (currentData = decoded)), newData = O32.merge(currentData, data), serialized = J6.encode(newData), [
                                                4,
                                                this.sdk$.game.saveData(serialized)
                                            ];
                                        case 3:
                                            return _state.sent(), [
                                                3,
                                                5
                                            ];
                                        case 4:
                                            throw error = _state.sent(), this.extra$.logError(error), error;
                                        case 5:
                                            return [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getSignedPlayerInfoAsync",
                        value: function getSignedPlayerInfoAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return this.extra$.exceptionUnsupported(), [
                                        2
                                    ];
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getConnectedPlayersAsync",
                        value: function getConnectedPlayersAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return [
                                        2,
                                        []
                                    ];
                                });
                            })();
                        }
                    },
                    {
                        key: "canSubscribeBotAsync",
                        value: function canSubscribeBotAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return [
                                        2,
                                        !1
                                    ];
                                });
                            })();
                        }
                    },
                    {
                        key: "subscribeBotAsync",
                        value: function subscribeBotAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return this.extra$.exceptionUnsupported(), [
                                        2
                                    ];
                                });
                            }).call(this);
                        }
                    }
                ]), _YTPlayer1;
            }(Player_default), "YTPlayer"), YTPlayer_default = _YTPlayer;
        }
    }), init_YTAdapter = __esm({
        "extensions/ludex/src/game-sdk/adapters/youtube-playables/YTAdapter.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_GameSDK(), init_YTAdInstance(), init_YTExtra(), init_YTPlayer(), __name(_YTAdapter = function(GameSDK_default21) {
                function _YTAdapter1(sdk2) {
                    var _this;
                    return _class_call_check(this, _YTAdapter1), _define_property(_this = _call_super(this, _YTAdapter1), "sdk", void 0), _define_property(_this, "locale$", null), _this.sdk = sdk2, _this;
                }
                return _inherits(_YTAdapter1, GameSDK_default21), _create_class(_YTAdapter1, [
                    {
                        key: "initialize$",
                        value: function initialize$() {
                            _get(_get_prototype_of(_YTAdapter1.prototype), "initialize$", this).call(this), this.extra = new YTExtra_default(this), this.player = new YTPlayer_default(this), this.interstitialAdInstance$ = new YTAdInstance_default(this.sdk);
                        }
                    },
                    {
                        key: "tryGetLocale$",
                        value: function tryGetLocale$() {
                            return _async_to_generator(function() {
                                var _, error;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return _state.trys.push([
                                                0,
                                                2,
                                                ,
                                                3
                                            ]), _ = this, [
                                                4,
                                                this.sdk.system.getLanguage()
                                            ];
                                        case 1:
                                            return _.locale$ = _state.sent(), [
                                                3,
                                                3
                                            ];
                                        case 2:
                                            return error = _state.sent(), this.extra.logError(error), [
                                                3,
                                                3
                                            ];
                                        case 3:
                                            return [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getSDKName",
                        value: function getSDKName() {
                            return "YoutubePlayables";
                        }
                    },
                    {
                        key: "getSDKVersion",
                        value: function getSDKVersion() {
                            return this.sdk.SDK_VERSION;
                        }
                    },
                    {
                        key: "getLocale",
                        value: function getLocale() {
                            var _this_locale$;
                            return null != (_this_locale$ = this.locale$) ? _this_locale$ : null;
                        }
                    },
                    {
                        key: "checkSDKInitialized$",
                        value: function checkSDKInitialized$() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return void 0 !== this.sdk || this.extra.exceptionInvalidOperation("YouTube Playables SDK is not initialized"), [
                                        2
                                    ];
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "initializeAsync",
                        value: function initializeAsync() {
                            var _this = this, _this1 = this, _superprop_get_initializeAsync = function _superprop_get_initializeAsync() {
                                return _get(_get_prototype_of(_YTAdapter1.prototype), "initializeAsync", _this);
                            };
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            if (this.isInitialized) return [
                                                2
                                            ];
                                            return [
                                                4,
                                                _superprop_get_initializeAsync().call(_this1)
                                            ];
                                        case 1:
                                            _state.sent(), this.isInitialized = !1, _state.label = 2;
                                        case 2:
                                            return _state.trys.push([
                                                2,
                                                4,
                                                ,
                                                5
                                            ]), [
                                                4,
                                                this.player.initPlayerAsync()
                                            ];
                                        case 3:
                                            return _state.sent(), this.tryGetLocale$(), this.sdk.game.firstFrameReady(), this.setupLifecycleListeners$(), this.isInitialized = !0, [
                                                3,
                                                5
                                            ];
                                        case 4:
                                            if (console.debug(_state.sent()), this.isNeedSDK$()) throw Error("Youtube Playables SDK not initialized");
                                            return console.warn("Youtube Playables SDK not initialized, running without platform sdk"), [
                                                3,
                                                5
                                            ];
                                        case 5:
                                            return [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "startGameAsync",
                        value: function startGameAsync() {
                            var _this = this, _this1 = this, _superprop_get_startGameAsync = function _superprop_get_startGameAsync() {
                                return _get(_get_prototype_of(_YTAdapter1.prototype), "startGameAsync", _this);
                            };
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return [
                                                4,
                                                _superprop_get_startGameAsync().call(_this1)
                                            ];
                                        case 1:
                                            return _state.sent(), this.sdk.game.gameReady(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "setupLifecycleListeners$",
                        value: function setupLifecycleListeners$() {
                            var Events11 = Ludex.Events, event = codex.event;
                            this.extra.onPause(function() {
                                event.emit(Events11.VISIBILITY_HIDDEN);
                            }), this.extra.onResume(function() {
                                event.emit(Events11.VISIBILITY_VISIBLE);
                            });
                        }
                    },
                    {
                        key: "getInterstitialAdAsync",
                        value: function getInterstitialAdAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return [
                                        2,
                                        this.interstitialAdInstance$
                                    ];
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getRewardedVideoAsync",
                        value: function getRewardedVideoAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return this.extra.exceptionUnsupported(), [
                                        2
                                    ];
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getRewardedInterstitialAsync",
                        value: function getRewardedInterstitialAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return this.extra.exceptionUnsupported(), [
                                        2
                                    ];
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "loadBannerAdAsync",
                        value: function loadBannerAdAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return this.extra.exceptionUnsupported(), [
                                        2
                                    ];
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "hideBannerAdAsync",
                        value: function hideBannerAdAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return [
                                        2,
                                        Promise.resolve()
                                    ];
                                });
                            })();
                        }
                    },
                    {
                        key: "getBannerHeight",
                        value: function getBannerHeight() {
                            return 0;
                        }
                    },
                    {
                        key: "getTournamentAsync",
                        value: function getTournamentAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return this.extra.exceptionUnsupported(), [
                                        2
                                    ];
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "canCreateShortcutAsync",
                        value: function canCreateShortcutAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return [
                                        2,
                                        !1
                                    ];
                                });
                            })();
                        }
                    },
                    {
                        key: "createShortcutAsync",
                        value: function createShortcutAsync() {
                            return _async_to_generator(function() {
                                return _ts_generator(this, function(_state) {
                                    return this.extra.exceptionUnsupported(), [
                                        2
                                    ];
                                });
                            }).call(this);
                        }
                    },
                    {
                        key: "getSupportedAPIs",
                        value: function getSupportedAPIs() {
                            return [
                                "game.firstFrameReady",
                                "game.gameReady",
                                "game.loadData",
                                "game.saveData",
                                "engagement.sendScore",
                                "ads.requestInterstitialAd"
                            ];
                        }
                    }
                ]), _YTAdapter1;
            }(GameSDK_default2), "YTAdapter"), YTAdapter_default = _YTAdapter;
        }
    }), init_accessBlocker = __esm({
        "extensions/ludex/src/utils/function/accessBlocker.ts": function() {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), __name(simpleHash, "simpleHash"), __name(_AccessBlocker = function() {
                function _AccessBlocker1() {
                    _class_call_check(this, _AccessBlocker1), _define_property(this, "usedCallLocationHashes$", void 0), this.usedCallLocationHashes$ = new Set();
                }
                return _create_class(_AccessBlocker1, [
                    {
                        key: "getCallerLine$",
                        value: function getCallerLine$() {
                            var stack = Error().stack;
                            if (!stack) return null;
                            for(var lineStart = 0, i = 0; i < 4; i++){
                                var nextNl = stack.indexOf("\n", lineStart);
                                if (-1 === nextNl) return null;
                                lineStart = nextNl + 1;
                            }
                            var lineEnd = stack.indexOf("\n", lineStart), callerLine = -1 === lineEnd ? stack.substring(lineStart) : stack.substring(lineStart, lineEnd);
                            return callerLine ? callerLine.trim() : null;
                        }
                    },
                    {
                        key: "blockAccess",
                        value: function blockAccess() {
                            try {
                                var callerLine = this.getCallerLine$();
                                if (!callerLine) return !1;
                                var locationHash = simpleHash(callerLine);
                                if (this.usedCallLocationHashes$.has(locationHash)) return !1;
                                if ([
                                    "eval",
                                    "at <",
                                    "(<"
                                ].some(function(keyword) {
                                    return callerLine.includes(keyword);
                                })) throw Error("Access blocked for the caller: ".concat(callerLine));
                                return this.usedCallLocationHashes$.add(locationHash), !1;
                            } catch (error) {
                                return console.warn("Block access encountered an error:", error), !0;
                            }
                        }
                    }
                ]), _AccessBlocker1;
            }(), "AccessBlocker"), accessBlocker = new _AccessBlocker(), accessBlocker_default = __name(function(source, key) {}, "wrapGetterToBlockObjectAccess");
        }
    }), init_GameSDK2 = __esm({
        "extensions/ludex/src/GameSDK.ts": function() {
            init_empty_script(), init_empty_script(), init_empty_script(), init_empty_script(), init_empty_script(), init_empty_script(), init_empty_script(), init_empty_script(), init_empty_script(), init_empty_script(), init_YTAdapter(), init_GameSDK(), init_accessBlocker(), console.groupCollapsed("\u26A1\uFE0F Ludex initialized"), __name(autoDetectAndInitializeSDKAdapter, "autoDetectAndInitializeSDKAdapter"), console.groupCollapsed("\uD83D\uDD79 GameSDK"), window.GameSDK = Object.seal(autoDetectAndInitializeSDKAdapter()), accessBlocker_default(window, "GameSDK");
        }
    }), require_eventemitter3 = __commonJS({
        "node_modules/eventemitter3/index.js": function(exports, module) {
            init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
            var has = Object.prototype.hasOwnProperty, prefix = "~";
            function Events11() {}
            function EE(fn2, context, once) {
                this.fn = fn2, this.context = context, this.once = once || !1;
            }
            function addListener(emitter, event, fn2, context, once) {
                if ("function" != typeof fn2) throw TypeError("The listener must be a function");
                var listener = new EE(fn2, context || emitter, once), evt = prefix ? prefix + event : event;
                return emitter._events[evt] ? emitter._events[evt].fn ? emitter._events[evt] = [
                    emitter._events[evt],
                    listener
                ] : emitter._events[evt].push(listener) : (emitter._events[evt] = listener, emitter._eventsCount++), emitter;
            }
            function clearEvent(emitter, evt) {
                0 == --emitter._eventsCount ? emitter._events = new Events11() : delete emitter._events[evt];
            }
            function EventEmitter2() {
                this._events = new Events11(), this._eventsCount = 0;
            }
            __name(Events11, "Events"), Object.create && (Events11.prototype = Object.create(null), new Events11().__proto__ || (prefix = !1)), __name(EE, "EE"), __name(addListener, "addListener"), __name(clearEvent, "clearEvent"), __name(EventEmitter2, "EventEmitter"), EventEmitter2.prototype.eventNames = __name(function eventNames() {
                var events, name2, names2 = [];
                if (0 === this._eventsCount) return names2;
                for(name2 in events = this._events)has.call(events, name2) && names2.push(prefix ? name2.slice(1) : name2);
                return Object.getOwnPropertySymbols ? names2.concat(Object.getOwnPropertySymbols(events)) : names2;
            }, "eventNames"), EventEmitter2.prototype.listeners = __name(function listeners2(event) {
                var evt = prefix ? prefix + event : event, handlers = this._events[evt];
                if (!handlers) return [];
                if (handlers.fn) return [
                    handlers.fn
                ];
                for(var i = 0, l = handlers.length, ee = Array(l); i < l; i++)ee[i] = handlers[i].fn;
                return ee;
            }, "listeners"), EventEmitter2.prototype.listenerCount = __name(function listenerCount(event) {
                var evt = prefix ? prefix + event : event, listeners2 = this._events[evt];
                return listeners2 ? listeners2.fn ? 1 : listeners2.length : 0;
            }, "listenerCount"), EventEmitter2.prototype.emit = __name(function emit(event, a1, a2, a3, a4, a5) {
                var evt = prefix ? prefix + event : event;
                if (!this._events[evt]) return !1;
                var args, i, listeners2 = this._events[evt], len = arguments.length;
                if (listeners2.fn) {
                    switch(listeners2.once && this.removeListener(event, listeners2.fn, void 0, !0), len){
                        case 1:
                            return listeners2.fn.call(listeners2.context), !0;
                        case 2:
                            return listeners2.fn.call(listeners2.context, a1), !0;
                        case 3:
                            return listeners2.fn.call(listeners2.context, a1, a2), !0;
                        case 4:
                            return listeners2.fn.call(listeners2.context, a1, a2, a3), !0;
                        case 5:
                            return listeners2.fn.call(listeners2.context, a1, a2, a3, a4), !0;
                        case 6:
                            return listeners2.fn.call(listeners2.context, a1, a2, a3, a4, a5), !0;
                    }
                    for(i = 1, args = Array(len - 1); i < len; i++)args[i - 1] = arguments[i];
                    listeners2.fn.apply(listeners2.context, args);
                } else {
                    var j, length = listeners2.length;
                    for(i = 0; i < length; i++)switch(listeners2[i].once && this.removeListener(event, listeners2[i].fn, void 0, !0), len){
                        case 1:
                            listeners2[i].fn.call(listeners2[i].context);
                            break;
                        case 2:
                            listeners2[i].fn.call(listeners2[i].context, a1);
                            break;
                        case 3:
                            listeners2[i].fn.call(listeners2[i].context, a1, a2);
                            break;
                        case 4:
                            listeners2[i].fn.call(listeners2[i].context, a1, a2, a3);
                            break;
                        default:
                            if (!args) for(j = 1, args = Array(len - 1); j < len; j++)args[j - 1] = arguments[j];
                            listeners2[i].fn.apply(listeners2[i].context, args);
                    }
                }
                return !0;
            }, "emit"), EventEmitter2.prototype.on = __name(function on(event, fn2, context) {
                return addListener(this, event, fn2, context, !1);
            }, "on"), EventEmitter2.prototype.once = __name(function once(event, fn2, context) {
                return addListener(this, event, fn2, context, !0);
            }, "once"), EventEmitter2.prototype.removeListener = __name(function removeListener(event, fn2, context, once) {
                var evt = prefix ? prefix + event : event;
                if (!this._events[evt]) return this;
                if (!fn2) return clearEvent(this, evt), this;
                var listeners2 = this._events[evt];
                if (listeners2.fn) listeners2.fn !== fn2 || once && !listeners2.once || context && listeners2.context !== context || clearEvent(this, evt);
                else {
                    for(var i = 0, events = [], length = listeners2.length; i < length; i++)(listeners2[i].fn !== fn2 || once && !listeners2[i].once || context && listeners2[i].context !== context) && events.push(listeners2[i]);
                    events.length ? this._events[evt] = 1 === events.length ? events[0] : events : clearEvent(this, evt);
                }
                return this;
            }, "removeListener"), EventEmitter2.prototype.removeAllListeners = __name(function removeAllListeners(event) {
                var evt;
                return event ? (evt = prefix ? prefix + event : event, this._events[evt] && clearEvent(this, evt)) : (this._events = new Events11(), this._eventsCount = 0), this;
            }, "removeAllListeners"), EventEmitter2.prototype.off = EventEmitter2.prototype.removeListener, EventEmitter2.prototype.addListener = EventEmitter2.prototype.on, EventEmitter2.prefixed = prefix, EventEmitter2.EventEmitter = EventEmitter2, void 0 !== module && (module.exports = EventEmitter2);
        }
    });
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var CoreEvents = {
        CORE_BOOTING: "core-booting",
        REQUEST_CORE_START: "core-start",
        CORE_STARTING: "core-starting",
        CORE_READY: "core-ready",
        ANALYTICS_READY: "analytics-ready",
        GAME_SDK_READY: "game-sdk-ready",
        GAME_SDK_STARTED: "game-sdk-started",
        CONTEXT_DATA_PROCESSED: "context-data-processed",
        CONTEXT_SESSION_TYPE_DETECTED: "context-session-type-detected",
        GAME_READY: "game-ready",
        BUNDLE_READY: "bundle-ready",
        PLAYER_INFO_LOADED: "player-info-loaded",
        PLAYER_SETTINGS_CHANGED: "player-settings-changed",
        REQUEST_SHOW_BANNER_ADS: "request-show-banner-ads",
        SWITCH_SCENE: "switch-scene",
        SCENE_LOADED: "scene-loaded",
        PRELOAD_SCENE: "preload-scene",
        SCENE_PROGRESS: "scene-progress",
        SCENE_LAUNCHED: "scene-launched",
        SCENE_RENDERED: "scene-rendered",
        SCENE_BEFORE_RENDERED: "scene-before-rendered",
        MARK_IS_TEST_SCENE: "mark-is-test-scene",
        PRELOAD_SCREEN: "preload-screen",
        PRELOAD_SCREENS: "preload-screens",
        LOADING_SCREEN: "loading-screen",
        SCREEN_LOADED: "screen-loaded",
        OPENING_SCREEN: "opening-screen",
        OPEN_SCREEN: "open-screen",
        OPENED_SCREEN: "opened-screen",
        CLOSING_SCREEN: "closing-screen",
        CLOSE_SCREEN: "close-screen",
        CLOSED_SCREEN: "closed-screen",
        CORE_PLUGIN_READY: "core-plugin-ready",
        MODULE_PLUGIN_READY: "module-plugin-ready",
        AD_LOADING: "ad-loading",
        AD_LOADED: "ad-loaded",
        AD_LOAD_FAILED: "ad-load-failed",
        AD_SHOWING: "ad-showing",
        AD_SHOW: "ad-show",
        AD_CLOSED: "ad-closed",
        AD_SHOW_FAILED: "ad-show-failed",
        LANGUAGE_CHANGED: "language-changed",
        REQUEST_LANGUAGE: "request-language",
        REQUEST_HOT_RELOAD: "request-hot-reload",
        REQUEST_SAVE_CONFIG: "request-save-config",
        REQUEST_UPDATE_CONFIG: "request-update-config",
        REMOTE_CONFIG_UPDATED: "remote-config-updated",
        VISIBILITY_HIDDEN: "visibility-hidden",
        VISIBILITY_VISIBLE: "visibility-visible",
        REQUEST_RESIZE_GAME: "request-resize-game",
        REQUEST_QUALITY_UPGRADED: "request-quality-upgraded",
        REQUEST_QUALITY_DOWNGRADED: "request-quality-downgraded",
        GAME_SDK_POPUP_RESPONDED: "game-sdk-popup-responded"
    }, CoreEvents_default = CoreEvents;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var MatchModes = function(MatchModes3) {
        return MatchModes3.DRAFT = "draft", MatchModes3.SINGLE = "single", MatchModes3.TOURNAMENT = "tournament", MatchModes3.MATCHING_GROUP = "matching-group", MatchModes3.CHALLENGE_FRIEND = "challenge-friend", MatchModes3;
    }(MatchModes || {}), MatchModes_default = MatchModes, MatchModes2 = MatchModes_default, MatchModes_default2 = MatchModes2;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func = __name(function(data) {
        return data;
    }, "func"), asConst_default = func;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func2 = __name(function() {}, "func"), noop_default = func2, type_guard_default = {
        asConst: asConst_default,
        noop: noop_default
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var at = __name(function(arr, idx) {
        if (arr) return idx < 0 ? arr[arr.length + idx] : arr[idx];
    }, "at"), at_default = at;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func3 = __name(function(size, mapFn) {
        for(var result3 = [], i = 0; i < size; i++)result3.push(mapFn(i));
        return result3;
    }, "func"), fillWith_default = func3, func4 = __name(function(length) {
        return fillWith_default(length, function() {});
    }, "func"), length_default = func4, func5 = __name(function(array, size) {
        return length_default(Math.ceil(array.length / size)).map(function(_v, i) {
            return array.slice(i * size, i * size + size);
        });
    }, "func"), chunk_default = func5;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func6 = __name(function(source, target) {
        return source.filter(function(x) {
            return 0 > target.indexOf(x);
        });
    }, "func"), difference_default = func6;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func7 = __name(function(data) {
        var keys = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], result3 = {}, _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
        try {
            for(var _step, _iterator = data[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                var value = _step.value;
                for(var key in value){
                    var K = key;
                    keys.includes(K) && (result3[K] || (result3[K] = []), result3[K].push(value[K]));
                }
            }
        } catch (err) {
            _didIteratorError = !0, _iteratorError = err;
        } finally{
            try {
                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
            } finally{
                if (_didIteratorError) throw _iteratorError;
            }
        }
        return result3;
    }, "func"), dod_default = func7;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func8 = __name(function(array) {
        return array.reduce(function(acc, val) {
            return acc.concat(val);
        }, []);
    }, "func"), flatten_default = func8;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func9 = __name(function(array, target) {
        return array.indexOf(target) >= 0;
    }, "func"), has_default = func9;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func10 = __name(function(array, limit) {
        return array.length = Math.min(array.length, limit), array;
    }, "func"), limit_default = func10;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func11 = __name(function(array) {
        for(var ref, i = 0; i < array.length / 2; i++)ref = [
            array[array.length - 1 - i],
            array[i]
        ], array[i] = ref[0], array[array.length - 1 - i] = ref[1];
    }, "func"), reverse_default = func11;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func12 = __name(function(array, predicate) {
        for(var i = 0; i < array.length; i++)if (predicate(array[i], i)) return array[i];
    }, "func"), search_default = func12;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func13 = __name(function(array, predicate) {
        for(var i = 0; i < array.length; i++)if (predicate(array[i], i)) return i;
        return -1;
    }, "func"), searchIndex_default = func13;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func14 = __name(function(array) {
        for(var i = array.length - 1; i > 0; i--){
            var ref, j = Math.floor(Math.random() * (i + 1));
            ref = [
                array[j],
                array[i]
            ], array[i] = ref[0], array[j] = ref[1];
        }
    }, "func"), shuffle_default = func14;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var split = __name(function(array, isLeft) {
        return array.reduce(function(acc, item, index) {
            return isLeft(item, index, array) ? acc.left.push(item) : acc.right.push(item), acc;
        }, {
            left: [],
            right: []
        });
    }, "split"), split_default = split;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func15 = __name(function(array) {
        var copy = _to_consumable_array(array);
        return shuffle_default(copy), copy;
    }, "func"), toShuffled_default = func15;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var unique = __name(function(value, index, self2) {
        return self2.indexOf(value) === index && null != value;
    }, "unique"), func16 = __name(function(array) {
        return array.filter(unique);
    }, "func"), unique_default = func16, array_default = {
        at: at_default,
        chunk: chunk_default,
        difference: difference_default,
        dod: dod_default,
        fillWith: fillWith_default,
        length: length_default,
        limit: limit_default,
        reverse: reverse_default,
        search: search_default,
        searchIndex: searchIndex_default,
        has: has_default,
        shuffle: shuffle_default,
        toShuffled: toShuffled_default,
        unique: unique_default,
        flatten: flatten_default,
        split: split_default
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var isOffscreenCanvasSupported = __name(function() {
        return "OffscreenCanvas" in window && "u" > ("u" < typeof OffscreenCanvas ? "undefined" : _type_of1(OffscreenCanvas));
    }, "isOffscreenCanvasSupported"), createOffscreenCanvas = __name(function(contextType2, contextAttributes) {
        var canvas = new OffscreenCanvas(0, 0), context = canvas.getContext(contextType2, contextAttributes);
        return context ? {
            canvas: canvas,
            context: context
        } : (console.warn("Failed to get ".concat(contextType2, " context from OffscreenCanvas")), null);
    }, "createOffscreenCanvas"), createHTMLCanvas = __name(function(contextType2, contextAttributes) {
        var canvas = document.createElement("canvas"), context = canvas.getContext(contextType2, contextAttributes);
        return context ? {
            canvas: canvas,
            context: context
        } : (console.warn("Failed to get ".concat(contextType2, " context from HTMLCanvas")), null);
    }, "createHTMLCanvas"), func17 = __name(function(options) {
        var tmp = options.contextType, contextType2 = void 0 === tmp ? "2d" : tmp, _options_contextAttributes = options.contextAttributes, contextAttributes = void 0 === _options_contextAttributes ? {} : _options_contextAttributes, _options_type = options.type, type = void 0 === _options_type ? "canvas" : _options_type;
        return "canvas" === type ? createHTMLCanvas(contextType2, contextAttributes) : "offscreen" === type && isOffscreenCanvasSupported() ? createOffscreenCanvas(contextType2, contextAttributes) : null;
    }, "func"), createCanvas_default = func17;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func18 = __name(function(value) {
        return !value || "" === value || 0 === value || "number" == typeof value && isNaN(value);
    }, "func"), isFalsy_default = func18, func19 = __name(function(value) {
        return isFalsy_default(value) ? !1 !== value && 0 !== value : "string" == typeof value || Array.isArray(value) ? 0 === value.length : (void 0 === value ? "undefined" : _type_of(value)) === "object" && null !== value && 0 === Object.keys(value).length;
    }, "func"), isEmpty_default = func19, gameName = "Save The Pets", dbInstances = {}, getDBName = __name(function(dbName) {
        if (isEmpty_default(dbName)) {
            var _GameSDK_getSDKName;
            return null != (_GameSDK_getSDKName = GameSDK.getSDKName()) ? _GameSDK_getSDKName : "Storage";
        }
        return null != dbName ? dbName : "Storage";
    }, "getDBName"), openIndexedDB = __name(function(dbName) {
        var fullDBName = "".concat(gameName, "_").concat(dbName);
        return dbInstances[fullDBName] ? Promise.resolve(dbInstances[fullDBName]) : new Promise(function(resolve, reject) {
            var request, latestVersion = 1, tryOpen = __name(function(version) {
                (request = indexedDB.open(gameName, version)).onerror = function(event) {
                    var error = event.target.error;
                    (null == error ? void 0 : error.name) === "VersionError" ? tryOpen(++latestVersion) : reject(error);
                }, request.onsuccess = function(_event) {
                    var db = request.result;
                    db.objectStoreNames.contains(dbName) ? (dbInstances[fullDBName] = db, resolve(db)) : tryOpen(++latestVersion);
                }, request.onupgradeneeded = function(event) {
                    var db = event.target.result;
                    latestVersion = db.version, db.objectStoreNames.contains(dbName) || db.createObjectStore(dbName);
                };
            }, "tryOpen");
            tryOpen(latestVersion);
        });
    }, "openIndexedDB"), openIndexedDB_default = openIndexedDB, func20 = __name(function(key, dbName) {
        return _async_to_generator(function() {
            var correctDbName, db, store;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        return _state.trys.push([
                            0,
                            2,
                            ,
                            3
                        ]), [
                            4,
                            openIndexedDB_default(correctDbName = getDBName(dbName))
                        ];
                    case 1:
                        if (!(db = _state.sent()).objectStoreNames.contains(correctDbName)) return [
                            2,
                            {}
                        ];
                        return store = db.transaction(correctDbName, "readonly").objectStore(correctDbName), [
                            2,
                            new Promise(function(resolve, reject) {
                                var getRequest = store.get(key);
                                getRequest.onerror = function() {
                                    return reject(getRequest.error);
                                }, getRequest.onsuccess = function() {
                                    return resolve(getRequest.result);
                                };
                            })
                        ];
                    case 2:
                        return console.error(_state.sent()), [
                            2,
                            {}
                        ];
                    case 3:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "func"), getIndexedDB_default = func20;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func21 = __name(function(string) {
        try {
            return JSON.parse(string);
        } catch (e) {
            return null;
        }
    }, "func"), decode_default = func21, func22 = __name(function(key) {
        try {
            if (!localStorage) return null;
            var data = localStorage.getItem(key);
            if (null === data) return null;
            return decode_default(data);
        } catch (error) {
            return console.error("getLocalStorage error", error), null;
        }
    }, "func"), getLocalStorage_default = func22;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func23 = __name(function(data) {
        try {
            return JSON.stringify(data, null, 0);
        } catch (e) {
            return "";
        }
    }, "func"), encode_default = func23, func24 = __name(function(object) {
        return decode_default(encode_default(object));
    }, "func"), clone_default = func24, func25 = __name(function() {
        var defaultLocale = "en_US", locale2 = search_default(clone_default(window.navigator.languages) || [], function(lang) {
            return lang.indexOf("-") > -1;
        });
        return locale2 && -1 !== locale2.indexOf("-") ? locale2.replace("-", "_") : defaultLocale;
    }, "func"), getLocale_default = func25;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func26 = __name(function() {
        var query = window.location.search.substring(1);
        if (!query) return {};
        var vars = query.split("&"), result3 = {}, _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
        try {
            for(var _step, _iterator = vars[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                var pair = _step.value.split("=");
                result3[pair[0]] = decodeURIComponent(pair[1]);
            }
        } catch (err) {
            _didIteratorError = !0, _iteratorError = err;
        } finally{
            try {
                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
            } finally{
                if (_didIteratorError) throw _iteratorError;
            }
        }
        return result3;
    }, "func"), getQueryParams_default = func26;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func27 = __name(function() {
        var body = document.body, documentElement = document.documentElement, bodyClientHeight = body.clientHeight;
        return Math.max(documentElement.clientHeight, bodyClientHeight) || 0;
    }, "func"), getScreenHeight_default = func27;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func28 = __name(function() {
        var body = document.body, documentElement = document.documentElement, bodyClientWidth = body.clientWidth;
        return Math.max(documentElement.clientWidth, bodyClientWidth) || 0;
    }, "func"), getScreenWidth_default = func28;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func29 = __name(function(key) {
        try {
            localStorage.removeItem(key);
        } catch (error) {
            console.error("removeKeyLocalStorage error", error);
        }
    }, "func"), removeKeyLocalStorage_default = func29;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func30 = __name(function(key, data, dbName) {
        return _async_to_generator(function() {
            var correctDbName, db, store;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        if (_state.trys.push([
                            0,
                            2,
                            ,
                            3
                        ]), isEmpty_default(data)) return [
                            2
                        ];
                        return [
                            4,
                            openIndexedDB_default(correctDbName = getDBName(dbName))
                        ];
                    case 1:
                        if (!(db = _state.sent()).objectStoreNames.contains(correctDbName)) return console.warn("SetIndexedDB: db not found", correctDbName), [
                            2
                        ];
                        return store = db.transaction(correctDbName, "readwrite").objectStore(correctDbName), [
                            2,
                            new Promise(function(resolve, reject) {
                                try {
                                    var request = store.put(data, key);
                                    request.onsuccess = function() {
                                        return resolve();
                                    }, request.onerror = function() {
                                        return reject(request.error);
                                    };
                                } catch (error) {
                                    reject(error);
                                }
                            })
                        ];
                    case 2:
                        return console.warn("SetIndexedDB", _state.sent()), [
                            3,
                            3
                        ];
                    case 3:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "func"), setIndexedDB_default = func30;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var isSupportVibrateApi = __name(function() {
        var hasAPI = "vibrate" in window.navigator;
        if (hasAPI) try {
            window.navigator.vibrate(0);
        } catch (e) {
            return !1;
        }
        return hasAPI;
    }, "isSupportVibrateApi"), func31 = __name(function(value) {
        try {
            if (!isSupportVibrateApi()) return !1;
            return window.navigator.vibrate(0), window.navigator.vibrate(value), !0;
        } catch (error) {
            return !1;
        }
    }, "func"), vibrate_default = func31;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func32 = __name(function(method, delay, firstCall) {
        var timer, isCalled = !1;
        return function() {
            for(var _this = this, _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
            if (firstCall && !isCalled) {
                isCalled = !0, method.apply(this, args);
                return;
            }
            clearTimeout(timer), timer = setTimeout(function() {
                method.apply(_this, args);
            }, delay);
        };
    }, "func"), debounce_default = func32;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func33 = __name(function(fn2) {
        var cache = Object.create(null);
        return function() {
            for(var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
            var key = "__memoize__".concat(JSON.stringify(args));
            if (key in cache) return cache[key];
            var result3 = fn2.apply(this, args);
            return cache[key] = result3, result3;
        };
    }, "func"), memoize_default = func33;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func34 = __name(function(method, interval, firstCall) {
        var timer, shouldFire = !1, isCalled = !1;
        return function() {
            for(var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
            if (firstCall && !isCalled) {
                isCalled = !0, method.apply(this, args);
                return;
            }
            shouldFire && (shouldFire = !1, method.apply(this, args)), clearTimeout(timer), timer = setTimeout(function() {
                shouldFire = !0;
            }, interval);
        };
    }, "func"), throttle_default = func34;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func35 = __name(function(descriptor, startFn) {
        var method = descriptor.value;
        return descriptor.value = function() {
            for(var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
            return _async_to_generator(function() {
                var result3;
                return _ts_generator(this, function(_state) {
                    switch(_state.label){
                        case 0:
                            return [
                                4,
                                startFn.apply(this, args)
                            ];
                        case 1:
                            if (_state.sent(), !_instanceof(result3 = method.apply(this, args), Promise)) return [
                                3,
                                3
                            ];
                            return [
                                4,
                                result3
                            ];
                        case 2:
                            return [
                                2,
                                _state.sent()
                            ];
                        case 3:
                            return [
                                2,
                                result3
                            ];
                    }
                });
            }).call(this);
        }, descriptor;
    }, "func"), preStart_default = func35;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var o = Object, func36 = __name(function(target, data) {
        if ("assign" in o) return o.assign(target, data);
        var obj = target;
        for(var key in data)obj[key] = data[key];
        return obj;
    }, "func"), assign_default = func36, func37 = __name(function(value) {
        if (_instanceof(value, Error)) return value;
        if (null !== value && (void 0 === value ? "undefined" : _type_of(value)) === "object" && "message" in value && "string" == typeof value.message) {
            var error = Error(value.message);
            return "stack" in value && "string" == typeof value.stack && (error.stack = value.stack), "name" in value && "string" == typeof value.name && (error.name = value.name), "code" in value && "string" == typeof value.code && assign_default(error, {
                code: value.code
            }), error;
        }
        if (null !== value && (void 0 === value ? "undefined" : _type_of(value)) === "object") try {
            return Error(JSON.stringify(value, null, 2));
        } catch (e) {
            return Error("[Object conversion failed] ".concat(String(value)));
        }
        return Error(String(value));
    }, "func"), toError_default = func37, func38 = __name(function(descriptor, finallyFn) {
        var method = descriptor.value;
        return descriptor.value = function() {
            for(var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
            return _async_to_generator(function() {
                var error, result3;
                return _ts_generator(this, function(_state) {
                    switch(_state.label){
                        case 0:
                            if (_state.trys.push([
                                0,
                                3,
                                4,
                                5
                            ]), !_instanceof(result3 = method.apply(this, args), Promise)) return [
                                3,
                                2
                            ];
                            return [
                                4,
                                result3
                            ];
                        case 1:
                            return [
                                2,
                                _state.sent()
                            ];
                        case 2:
                            return [
                                2,
                                result3
                            ];
                        case 3:
                            return console.warn("[Decorator:tryCatch]", (error = toError_default(_state.sent())).message), [
                                3,
                                5
                            ];
                        case 4:
                            return null == finallyFn || finallyFn(error), [
                                7
                            ];
                        case 5:
                            return [
                                2
                            ];
                    }
                });
            }).call(this);
        }, descriptor;
    }, "func"), tryCatch_default = func38;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func39 = __name(function(input) {
        var isValidObject = (void 0 === input ? "undefined" : _type_of(input)) === "object" || "function" == typeof input, isArray = Array.isArray(input);
        return null !== input && isValidObject && !isArray;
    }, "func"), isObject_default = func39, checkType = __name(function(target, type) {
        if ((void 0 === target ? "undefined" : _type_of(target)) !== type) throw Error("Value ".concat(target, " is not type of ").concat(type, " (").concat(void 0 === target ? "undefined" : _type_of(target), ")"));
    }, "checkType"), func40 = __name(function(target, type, propertyKey) {
        var value;
        return (propertyKey || checkType(target, type), isObject_default(target) && propertyKey) ? Object.defineProperty(target, propertyKey, {
            get: function get() {
                return value;
            },
            set: function set1(newValue) {
                checkType(newValue, type), value = newValue;
            }
        }) : target;
    }, "func"), validateProperty_default = func40, func41 = __name(function(descriptor, types) {
        var method = descriptor.value;
        return descriptor.value = function() {
            for(var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
            return types.forEach(function(type, index) {
                try {
                    validateProperty_default(args[index], type);
                } catch (error) {
                    var message = "[Decorator:validateParams]";
                    if (_instanceof(error, Error)) throw error.message = "".concat(message, ": ").concat(error.message), error;
                    throw Error("".concat(message, ": ").concat(error));
                }
            }), method.apply(this, args);
        }, descriptor;
    }, "func"), validateParams_default = func41;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var isInvalidReturnType = __name(function(result3, types) {
        var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
        try {
            for(var _step, _iterator = types[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                var type = _step.value;
                try {
                    return validateProperty_default(result3, type), !1;
                } catch (error) {}
            }
        } catch (err) {
            _didIteratorError = !0, _iteratorError = err;
        } finally{
            try {
                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
            } finally{
                if (_didIteratorError) throw _iteratorError;
            }
        }
        return !0;
    }, "isInvalidReturnType"), func42 = __name(function(descriptor, types) {
        var method = descriptor.value;
        return descriptor.value = function() {
            for(var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
            var result3 = method.apply(this, args);
            if (isInvalidReturnType(result3, types)) throw Error("[Decorator:validateReturn] ".concat(result3, " (").concat(void 0 === result3 ? "undefined" : _type_of(result3), ") is not type of ").concat(types.join(" |\
 ")));
            return result3;
        }, descriptor;
    }, "func"), validateReturn_default = func42, _DecoratorUtils = function() {
        function _DecoratorUtils() {
            _class_call_check(this, _DecoratorUtils);
        }
        return _create_class(_DecoratorUtils, null, [
            {
                key: "isProperty$",
                value: function isProperty$(name2, propertyKey, descriptor) {
                    return !!descriptor && (void 0 !== descriptor.value || !!descriptor.get || !!descriptor.set) || (console.warn("[Decorator:".concat(name2, "] Unsupported decorator ").concat(propertyKey), descriptor), !1);
                }
            },
            {
                key: "isFunction$",
                value: function isFunction$(name2, propertyKey, descriptor) {
                    return !!descriptor && ("function" == typeof descriptor.value || "function" == typeof descriptor.initializer) || (console.warn("[Decorator:".concat(name2, "] Unsupported decorator ").concat(propertyKey), descriptor), !1);
                }
            },
            {
                key: "locked",
                value: function locked(_target, _propertyKey, descriptor) {
                    return __spreadProps(__spreadValues({}, descriptor), {
                        value: __name(function() {
                            throw Error("Method is locked");
                        }, "value")
                    });
                }
            },
            {
                key: "preStart",
                value: function preStart(startFn) {
                    return function(_target, propertyKey, descriptor) {
                        return _DecoratorUtils.isFunction$("preStart", propertyKey, descriptor) ? preStart_default(descriptor, startFn) : descriptor;
                    };
                }
            },
            {
                key: "tryCatch",
                value: function tryCatch(finallyFn) {
                    return function(_target, propertyKey, descriptor) {
                        return _DecoratorUtils.isFunction$("tryCatch", propertyKey, descriptor) ? tryCatch_default(descriptor, finallyFn) : descriptor;
                    };
                }
            },
            {
                key: "debounce",
                value: function debounce(wait) {
                    return function(_target, propertyKey, descriptor) {
                        if (!_DecoratorUtils.isFunction$("debounce", propertyKey, descriptor)) return descriptor;
                        var fn2 = descriptor.value;
                        return fn2 ? descriptor.value = debounce_default(fn2, wait) : descriptor.initializer && (fn2 = descriptor.initializer, descriptor.initializer = function() {
                            return debounce_default(fn2.call(this), wait);
                        }), descriptor;
                    };
                }
            },
            {
                key: "throttle",
                value: function throttle(wait) {
                    return function(_target, propertyKey, descriptor) {
                        if (!_DecoratorUtils.isFunction$("throttle", propertyKey, descriptor)) return descriptor;
                        var fn2 = descriptor.value;
                        return fn2 ? descriptor.value = throttle_default(fn2, wait) : descriptor.initializer && (fn2 = descriptor.initializer, descriptor.initializer = function() {
                            return throttle_default(fn2.call(this), wait, !0);
                        }), descriptor;
                    };
                }
            },
            {
                key: "memoize",
                value: function memoize(_target, propertyKey, descriptor) {
                    if (!_DecoratorUtils.isFunction$("memoize", propertyKey, descriptor)) return descriptor;
                    var fn2 = descriptor.value;
                    return fn2 ? descriptor.value = memoize_default(fn2) : descriptor.initializer && (fn2 = descriptor.initializer, descriptor.initializer = function() {
                        return memoize_default(fn2.call(this));
                    }), descriptor;
                }
            },
            {
                key: "validateValue",
                value: function validateValue(type) {
                    return function(target, propertyKey, descriptor) {
                        if (!_DecoratorUtils.isProperty$("validateValue", propertyKey, descriptor)) return descriptor;
                        try {
                            return validateProperty_default(target, type, propertyKey);
                        } catch (error) {
                            return _instanceof(error, Error) ? console.warn("[Decorator:validateValue] ".concat(error.message)) : console.warn("[Decorator:validateValue] unknown error", {
                                cause: error
                            }), descriptor;
                        }
                    };
                }
            }
        ]), _DecoratorUtils;
    }();
    __name(_DecoratorUtils, "DecoratorUtils"), __publicField(_DecoratorUtils, "trace", __name(function(target, propertyKey, descriptor) {
        try {
            var _ref = null != descriptor ? descriptor : {}, value = _ref.value, initializer = _ref.initializer, get2 = _ref.get, set1 = _ref.set;
            try {
                if (get2 || set1) console.warn("[Decorator:trace:accessor]", {
                    getter: get2,
                    setter: set1
                });
                else if ("function" == typeof value) console.warn("[Decorator:trace:method]", {
                    method: value,
                    params: value.length
                });
                else if ("function" == typeof initializer) {
                    var initialValue = null == initializer ? void 0 : initializer();
                    if ("function" == typeof initialValue) console.warn("[Decorator:trace:arrow]", {
                        initializer: initializer,
                        initialValue: initialValue
                    });
                    else if (void 0 !== initialValue) console.warn("[Decorator:trace:property]", {
                        initializer: initializer,
                        initialValue: initialValue
                    });
                    else throw Error("Initializer returned undefined");
                } else if (value) {
                    var type = void 0 === value ? "undefined" : _type_of(value);
                    console.warn("[Decorator:trace:field]", {
                        type: type,
                        value: value
                    });
                } else throw Error("Unsupported decorator");
            } catch (error) {
                console.warn("[Decorator:trace:unknown]", {
                    propertyKey: propertyKey,
                    descriptor: descriptor,
                    reason: _instanceof(error, Error) ? error.message : error
                });
            }
        } catch (error) {
            console.error("[Decorator:trace] Fatal error:", error);
        } finally{
            console.debug("[Decorator:trace:info]", {
                target: target,
                propertyKey: propertyKey,
                value: null == descriptor ? void 0 : descriptor.value,
                type: _type_of(null == descriptor ? void 0 : descriptor.value),
                instanceProps: Object.getOwnPropertyNames(target)
            });
        }
        return descriptor;
    }, "trace")), __publicField(_DecoratorUtils, "validateReturn", __name(function() {
        for(var _len = arguments.length, types = Array(_len), _key = 0; _key < _len; _key++)types[_key] = arguments[_key];
        return function(_target, propertyKey, descriptor) {
            return _DecoratorUtils.isFunction$("validateReturn", propertyKey, descriptor) ? validateReturn_default(descriptor, types) : descriptor;
        };
    }, "validateReturn")), __publicField(_DecoratorUtils, "validateParams", __name(function() {
        for(var _len = arguments.length, types = Array(_len), _key = 0; _key < _len; _key++)types[_key] = arguments[_key];
        return function(_target, propertyKey, descriptor) {
            return _DecoratorUtils.isFunction$("validateParams", propertyKey, descriptor) ? validateParams_default(descriptor, types) : descriptor;
        };
    }, "validateParams"));
    var DecoratorUtils = _DecoratorUtils, decorator_default = DecoratorUtils, workerCode = __name(function() {
        var drawImage = function drawImage(data) {
            console.log("Drawing image with data:", data);
        }, saveData = function saveData(data) {
            console.log("Saving data:", data);
        }, getData = function getData(data) {
            console.log("Getting data:", data);
        };
        self.onmessage = function(event) {
            var _event_data = event.data, action = _event_data.action, payload = _event_data.payload;
            switch(action){
                case "drawImage":
                    drawImage(payload);
                    break;
                case "saveData":
                    saveData(payload);
                    break;
                case "getData":
                    getData(payload);
                    break;
                default:
                    console.error("Unknown action:", action);
            }
        }, __name(drawImage, "drawImage"), __name(saveData, "saveData"), __name(getData, "getData");
    }, "workerCode"), _WebWorker = function() {
        function _WebWorker() {
            _class_call_check(this, _WebWorker), _define_property(this, "worker$", null), this.init();
        }
        return _create_class(_WebWorker, [
            {
                key: "init",
                value: function init() {
                    var blob = new Blob([
                        "(".concat(workerCode.toString(), ")()")
                    ], {
                        type: "application/javascript"
                    });
                    this.worker$ = new Worker(URL.createObjectURL(blob));
                }
            }
        ], [
            {
                key: "inst",
                get: function get() {
                    return _WebWorker._inst$ || (_WebWorker._inst$ = new _WebWorker()), _WebWorker._inst$;
                }
            },
            {
                key: "postMessage",
                value: function postMessage(action, payload) {
                    if (!_WebWorker.inst.worker$) throw Error("Worker is not initialized");
                    _WebWorker.inst.worker$.postMessage({
                        action: action,
                        payload: payload
                    });
                }
            }
        ]), _WebWorker;
    }();
    __name(_WebWorker, "WebWorker"), __publicField(_WebWorker, "_inst$"), __decorateClass([
        decorator_default.tryCatch()
    ], _WebWorker.prototype, "init", 1), __decorateClass([
        decorator_default.tryCatch()
    ], _WebWorker, "postMessage", 1);
    var WebWorker = _WebWorker, webWorker_default = WebWorker;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var isNotClear = __name(function(value) {
        return null == value;
    }, "isNotClear"), func43 = __name(function(object) {
        if (!isObject_default(object)) return object;
        for(var key in object)if (isNotClear(object[key])) delete object[key];
        else {
            var value = object[key];
            isObject_default(value) && (object[key] = func43(value));
        }
        return object;
    }, "func"), clear_default = func43;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func44 = __name(function(data) {
        return (void 0 === data ? "undefined" : _type_of(data)) !== "object" || null === data ? null : assign_default(data, {});
    }, "func"), clone_default2 = func44;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func45 = __name(function(source, target) {
        for(var key in target)isObject_default(source[key]) && isObject_default(target[key]) ? func45(source[key], target[key]) : assign_default(source, _define_property({}, key, target[key]));
        return source;
    }, "func"), merge_default = func45, func46 = __name(function(key, data) {
        try {
            if (!localStorage) return !1;
            var currentData = getLocalStorage_default(key), correctData = {};
            isObject_default(currentData) && (correctData = currentData);
            var cloneData = clone_default2(data);
            if (!isObject_default(cloneData)) return !1;
            var cleanData = clear_default(cloneData), newData = merge_default(correctData, cleanData), dataEncoded = encode_default(newData);
            return localStorage.setItem(key, dataEncoded), !0;
        } catch (error) {
            return console.debug("writeLocalStorage error", error), !1;
        }
    }, "func"), writeLocalStorage_default = func46, browser_default = {
        createCanvas: createCanvas_default,
        getLocale: getLocale_default,
        getLocalStorage: getLocalStorage_default,
        getQueryParams: getQueryParams_default,
        getScreenHeight: getScreenHeight_default,
        getScreenWidth: getScreenWidth_default,
        writeLocalStorage: writeLocalStorage_default,
        vibrate: vibrate_default,
        getIndexedDB: getIndexedDB_default,
        WebWorker: webWorker_default,
        setIndexedDB: setIndexedDB_default,
        removeKeyLocalStorage: removeKeyLocalStorage_default
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func47 = __name(function() {
        try {
            var Context5 = window.AudioContext || window.webkitAudioContext;
            if (!Context5) return "unknown";
            var audioContext = new Context5();
            audioContext.resume();
            var state = audioContext.state;
            return audioContext.close(), state;
        } catch (e) {
            return "unknown";
        }
    }, "func"), audioState_default = func47;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func48 = __name(function() {
        var _window_devicePixelRatio;
        return Number((null != (_window_devicePixelRatio = window.devicePixelRatio) ? _window_devicePixelRatio : 1).toFixed(1));
    }, "func"), pixelRatio_default = func48, func49 = __name(function(value) {
        return value * pixelRatio_default();
    }, "func"), getPhysicPixels_default = func49;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func50 = __name(function() {
        return /iPhone|iPad|iPod/i.test(navigator.userAgent);
    }, "func"), isIOS_default = func50, func51 = __name(function() {
        try {
            var sab = getComputedStyle(document.documentElement).getPropertyValue("--sab"), val = parseInt(sab, 10);
            if (!isNaN(val) && val > 0) return val;
        } catch (e) {}
        try {
            var div = document.createElement("div");
            div.style.cssText = "position:absolute;top:0;left:0;z-index:-9999;visibility:hidden;padding-bo\
ttom:env(safe-area-inset-bottom);", document.body.appendChild(div);
            var computed = window.getComputedStyle(div).paddingBottom, val1 = parseInt(computed, 10);
            if (document.body.removeChild(div), !isNaN(val1) && val1 > 0) return val1;
        } catch (e) {}
        if (isIOS_default()) {
            var _window_screen = window.screen, width = _window_screen.width, height = _window_screen.height, min = Math.min(width, height), max = Math.max(width, height);
            if ([
                "375,812",
                "360,780",
                "414,896",
                "390,844",
                "428,926",
                "393,852",
                "430,932"
            ].includes("".concat(min, ",").concat(max)) || max / min > 2) return 34;
        }
        return 0;
    }, "func"), getSafeAreaBottom_default = func51;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func52 = __name(function() {
        try {
            var _createCanvas_default, _ref = null != (_createCanvas_default = createCanvas_default({
                contextType: "webgl",
                type: "canvas"
            })) ? _createCanvas_default : {}, context = _ref.context, canvas = _ref.canvas;
            if (!context || !canvas) return "unknown";
            var gpuRenderer = context.getParameter(context.RENDERER);
            return canvas.remove(), gpuRenderer.substring(0, 70);
        } catch (e) {
            return "unknown";
        }
    }, "func"), gpuRenderer_default = func52;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func53 = __name(function() {
        try {
            var w = window.navigator;
            if (!("hardwareConcurrency" in w) || "number" != typeof w.hardwareConcurrency) return 0;
            return w.hardwareConcurrency;
        } catch (e) {
            return 0;
        }
    }, "func"), hardwareConcurrency_default = func53;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func54 = __name(function() {
        try {
            var w = window.performance;
            if (!("memory" in w) || "object" !== _type_of(w.memory)) return "unknown";
            var _w_memory = w.memory, usedJSHeapSize = _w_memory.usedJSHeapSize, jsHeapSizeLimit = _w_memory.jsHeapSizeLimit;
            if (!usedJSHeapSize || !jsHeapSizeLimit) return "unknown";
            var max = Math.round(jsHeapSizeLimit / 1024 / 1024), used = Math.round(usedJSHeapSize / 1024 / 1024), free = max - used;
            return "T:".concat(max, "MB U:").concat(used, "MB F:").concat(free, "MB");
        } catch (e) {
            return "unknown";
        }
    }, "func"), heapMemory_default = func54;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func55 = __name(function() {
        return /Android/i.test(navigator.userAgent);
    }, "func"), isAndroid_default = func55;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func56 = __name(function() {
        return !/Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
    }, "func"), isDesktop_default = func56;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func57 = __name(function() {
        try {
            return eval("try{const func = ()=>{}}catch(e){}"), !1;
        } catch (e) {
            return !0;
        }
    }, "func"), isES5_default = func57;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func58 = __name(function() {
        return /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
    }, "func"), isMobile_default = func58;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func59 = __name(function() {
        try {
            var _createCanvas_default, _ref = null != (_createCanvas_default = createCanvas_default({
                contextType: "2d",
                type: "canvas"
            })) ? _createCanvas_default : {}, canvas = _ref.canvas, context = _ref.context;
            if (!canvas || !context) return !1;
            var supportWebp = canvas.toDataURL("image/webp").startsWith("data:image/webp");
            return canvas.remove(), supportWebp;
        } catch (e) {
            return !1;
        }
    }, "func"), isSupportWebp_default = func59;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func60 = __name(function() {
        try {
            var _createCanvas_default, _ref = null != (_createCanvas_default = createCanvas_default({
                contextType: "webgl",
                type: "canvas"
            })) ? _createCanvas_default : {}, context = _ref.context, canvas = _ref.canvas;
            if (!context || !canvas) return -1;
            var maxTextureSize = context.getParameter(context.MAX_TEXTURE_SIZE);
            if (canvas.remove(), maxTextureSize < 1) return -1;
            return maxTextureSize;
        } catch (e) {
            return -1;
        }
    }, "func"), maxTextureSize_default = func60;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func61 = __name(function() {
        var _window_screen_orientation, _window_screen;
        if (null == (_window_screen = window.screen) || null == (_window_screen_orientation = _window_screen.orientation) ? void 0 : _window_screen_orientation.type) return window.screen.orientation.type;
        if ("matchMedia" in window) {
            if (window.matchMedia("(orientation: portrait)").matches) return "portrait-primary";
            if (window.matchMedia("(orientation: landscape)").matches) return "landscape-primary";
        }
        return window.innerHeight > window.innerWidth ? "portrait-primary" : window.innerWidth > window.innerHeight ? "landscape-primary" : "unknown";
    }, "func"), orientation_default = func61;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func62 = __name(function() {
        try {
            var _createCanvas_default, _ref = null != (_createCanvas_default = createCanvas_default({
                contextType: "webgl",
                type: "canvas"
            })) ? _createCanvas_default : {}, context = _ref.context, canvas = _ref.canvas;
            if (!context || !canvas) return "unknown";
            var version = context.getParameter(context.VERSION);
            return canvas.remove(), version.substring(0, 70);
        } catch (e) {
            return "unknown";
        }
    }, "func"), webglVersion_default = func62, device_default = {
        isES5: isES5_default,
        isIOS: isIOS_default,
        isMobile: isMobile_default,
        isAndroid: isAndroid_default,
        isDesktop: isDesktop_default,
        heapMemory: heapMemory_default,
        audioState: audioState_default,
        pixelRatio: pixelRatio_default,
        orientation: orientation_default,
        gpuRenderer: gpuRenderer_default,
        webglVersion: webglVersion_default,
        isSupportWebp: isSupportWebp_default,
        maxTextureSize: maxTextureSize_default,
        getPhysicPixels: getPhysicPixels_default,
        getSafeAreaBottom: getSafeAreaBottom_default,
        hardwareConcurrency: hardwareConcurrency_default
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var failure = __name(function(error) {
        return [
            null,
            error
        ];
    }, "failure"), failure_default = failure;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var isFailure = __name(function(value) {
        return null !== value[1];
    }, "isFailure"), isFailure_default = isFailure;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var success = __name(function(value) {
        return [
            value,
            null
        ];
    }, "success"), success_default = success, apply = __name(function(fn2) {
        return function(value) {
            if (isFailure_default(value)) return value;
            try {
                return success_default(fn2(value[0]));
            } catch (error) {
                return failure_default(toError_default(error));
            }
        };
    }, "apply"), apply_default = apply;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var applyAsync = __name(function(fn2) {
        return function(value) {
            return _async_to_generator(function() {
                return _ts_generator(this, function(_state) {
                    switch(_state.label){
                        case 0:
                            if (isFailure_default(value)) return [
                                2,
                                value
                            ];
                            _state.label = 1;
                        case 1:
                            return _state.trys.push([
                                1,
                                3,
                                ,
                                4
                            ]), [
                                4,
                                fn2(value[0])
                            ];
                        case 2:
                            return [
                                2,
                                success_default.apply(void 0, [
                                    _state.sent()
                                ])
                            ];
                        case 3:
                            return [
                                2,
                                failure_default(toError_default(_state.sent()))
                            ];
                        case 4:
                            return [
                                2
                            ];
                    }
                });
            })();
        };
    }, "applyAsync"), applyAsync_default = applyAsync;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var applyImmediate = __name(function(fn2) {
        try {
            return success_default(fn2());
        } catch (error) {
            return failure_default(toError_default(error));
        }
    }, "applyImmediate"), applyImmediate_default = applyImmediate;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var applyImmediateAsync = __name(function(fn2) {
        return _async_to_generator(function() {
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        return _state.trys.push([
                            0,
                            2,
                            ,
                            3
                        ]), [
                            4,
                            fn2()
                        ];
                    case 1:
                        return [
                            2,
                            success_default.apply(void 0, [
                                _state.sent()
                            ])
                        ];
                    case 2:
                        return [
                            2,
                            failure_default(toError_default(_state.sent()))
                        ];
                    case 3:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "applyImmediateAsync"), applyImmediateAsync_default = applyImmediateAsync;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var extractFailure = __name(function(result3) {
        return result3[1];
    }, "extractFailure"), extractFailure_default = extractFailure;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var extractSuccess = __name(function(result3) {
        return result3[0];
    }, "extractSuccess"), extractSuccess_default = extractSuccess;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var isSuccess = __name(function(value) {
        return null === value[1];
    }, "isSuccess"), isSuccess_default = isSuccess;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var lift = success_default, lift_default = lift;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var pipe = __name(function() {
        for(var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++)fns[_key] = arguments[_key];
        return function(value) {
            return fns.reduce(function(acc, fn2) {
                return apply_default(fn2)(acc);
            }, value);
        };
    }, "pipe"), pipe_default = pipe;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var pipeAsync = __name(function() {
        for(var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++)fns[_key] = arguments[_key];
        return function(value) {
            return _async_to_generator(function() {
                var result3, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, err;
                return _ts_generator(this, function(_state) {
                    switch(_state.label){
                        case 0:
                            result3 = value, _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0, _state.label = 1;
                        case 1:
                            _state.trys.push([
                                1,
                                6,
                                7,
                                8
                            ]), _iterator = fns[Symbol.iterator](), _state.label = 2;
                        case 2:
                            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) return [
                                3,
                                5
                            ];
                            return [
                                4,
                                applyAsync_default(_step.value)(result3)
                            ];
                        case 3:
                            result3 = _state.sent(), _state.label = 4;
                        case 4:
                            return _iteratorNormalCompletion = !0, [
                                3,
                                2
                            ];
                        case 5:
                            return [
                                3,
                                8
                            ];
                        case 6:
                            return err = _state.sent(), _didIteratorError = !0, _iteratorError = err, [
                                3,
                                8
                            ];
                        case 7:
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                            return [
                                7
                            ];
                        case 8:
                            return [
                                2,
                                result3
                            ];
                    }
                });
            })();
        };
    }, "pipeAsync"), pipeAsync_default = pipeAsync, error_default = {
        apply: apply_default,
        applyAsync: applyAsync_default,
        applyImmediate: applyImmediate_default,
        applyImmediateAsync: applyImmediateAsync_default,
        lift: lift_default,
        success: success_default,
        pipe: pipe_default,
        pipeAsync: pipeAsync_default,
        extractSuccess: extractSuccess_default,
        extractFailure: extractFailure_default,
        isFailure: isFailure_default,
        isSuccess: isSuccess_default
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_accessBlocker(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func63 = __name(function(promises) {
        return Promise.all(promises.map(function(p) {
            return Promise.resolve(p).then(function(value) {
                return {
                    status: "fulfilled",
                    value: value
                };
            }, function(reason) {
                return {
                    status: "rejected",
                    reason: reason
                };
            });
        }));
    }, "func"), allSettled_default = func63;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func64 = __name(function(promises) {
        return "function" == typeof Promise.any ? Promise.any(promises) : new Promise(function(resolve, reject) {
            var results = [], resolved = 0, check = __name(function(idx) {
                if (!(idx < promises.length)) if (results.length > 0) resolve(results[0]);
                else {
                    var error = Error("All promises were rejected");
                    error.errors = results, reject(error);
                }
            }, "check");
            promises.forEach(function(promise, index) {
                promise.then(function(value) {
                    results[index] = value, check(++resolved);
                }).catch(function(error) {
                    results[index] = error, check(++resolved);
                });
            });
        });
    }, "func"), any_default = func64;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func65 = __name(function(promise, timeout) {
        return _async_to_generator(function() {
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        if (_state.trys.push([
                            0,
                            4,
                            ,
                            5
                        ]), !timeout) return [
                            3,
                            2
                        ];
                        return [
                            4,
                            Promise.race([
                                promise,
                                new Promise(function(_, reject) {
                                    return setTimeout(function() {
                                        return reject(Error("Timeout"));
                                    }, timeout);
                                })
                            ])
                        ];
                    case 1:
                    case 3:
                        return [
                            2,
                            [
                                _state.sent(),
                                null
                            ]
                        ];
                    case 2:
                        return [
                            4,
                            promise
                        ];
                    case 4:
                        return [
                            2,
                            [
                                null,
                                toError_default(_state.sent())
                            ]
                        ];
                    case 5:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "func"), handleAsync_default = func65;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func66 = __name(function() {
        var next = null, actions = new Set(), defer = __name(function(action) {
            actions.add(action);
        }, "defer"), cancel = __name(function(action) {
            actions.delete(action);
        }, "cancel"), clear = __name(function() {
            actions.clear();
        }, "clear");
        return {
            defer: defer,
            cancel: cancel,
            successor: __name(function(inst) {
                if (void 0 === inst) throw Error("Latch cannot be its own successor");
                next = inst;
            }, "successor"),
            trigger: __name(function() {
                return _async_to_generator(function() {
                    return _ts_generator(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                return actions.add(clear), [
                                    4,
                                    allSettled_default(_to_consumable_array(actions).map(function(action) {
                                        return Promise.resolve().then(action);
                                    }))
                                ];
                            case 1:
                                if (_state.sent(), !next) return [
                                    3,
                                    3
                                ];
                                return [
                                    4,
                                    next.trigger()
                                ];
                            case 2:
                                _state.sent(), next = null, _state.label = 3;
                            case 3:
                                return [
                                    2
                                ];
                        }
                    });
                })();
            }, "trigger"),
            clear: clear
        };
    }, "func"), latch_default = func66;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var mutex = __name(function() {
        var queue = {}, release = __name(function(key) {
            var _queue_key, next = null == (_queue_key = queue[key]) ? void 0 : _queue_key.shift();
            next ? next() : delete queue[key];
        }, "release");
        return {
            use: __name(function(key) {
                var unlocked = !1, lock = {
                    release: __name(function() {
                        unlocked || (unlocked = !0, release(key));
                    }, "release")
                };
                return queue[key] ? new Promise(function(resolve) {
                    queue[key].push(function() {
                        return resolve(lock);
                    });
                }) : (queue[key] = [], Promise.resolve(lock));
            }, "use")
        };
    }, "mutex"), mutex_default = mutex;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func67 = __name(function(firstTry, secondTry) {
        try {
            return firstTry();
        } catch (firstError) {
            try {
                return secondTry();
            } catch (secondError) {
                throw firstError;
            }
        }
    }, "func"), retry_default = func67;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func68 = __name(function(firstTry, secondTry) {
        return _async_to_generator(function() {
            var firstError, secondError;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        return _state.trys.push([
                            0,
                            2,
                            ,
                            7
                        ]), [
                            4,
                            firstTry()
                        ];
                    case 1:
                        return [
                            2,
                            _state.sent()
                        ];
                    case 2:
                        firstError = _state.sent(), _state.label = 3;
                    case 3:
                        return _state.trys.push([
                            3,
                            5,
                            ,
                            6
                        ]), [
                            4,
                            secondTry()
                        ];
                    case 4:
                        return [
                            2,
                            _state.sent()
                        ];
                    case 5:
                        throw secondError = _state.sent(), firstError;
                    case 6:
                        return [
                            3,
                            7
                        ];
                    case 7:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "func"), retryAsync_default = func68;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func69 = __name(function(config) {
        var generate = config.generate, _config_generateSeed = config.generateSeed, generateSeed = void 0 === _config_generateSeed ? __name(function() {
            return 1e6 * Math.random();
        }, "generateSeed") : _config_generateSeed, tmp = config.seed, seed = void 0 === tmp ? Date.now() : tmp;
        return function() {
            for(var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
            return seed = generateSeed(seed), generate.apply(void 0, [
                seed
            ].concat(_to_consumable_array(args)));
        };
    }, "func"), rng_default = func69;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var makeMutableTrick = __name(function(target, value) {
        target.__proto__.valueOf = function() {
            return value;
        }, target.__proto__.toString = function() {
            return "".concat(value);
        };
    }, "makeMutableTrick"), makeTypeTrick = __name(function(target) {
        return target.constructor(__spreadProps(__spreadValues({}, target), {
            __proto__: target.__proto__
        }));
    }, "makeTypeTrick"), func70 = __name(function(source) {
        var keys = Object.keys(source), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
        try {
            for(var _step, _loop = function _loop() {
                var _Object_getOwnPropertyDescriptor, key = _step.value, origin = null == (_Object_getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor(source, key)) ? void 0 : _Object_getOwnPropertyDescriptor.value;
                if (isObject_default(origin)) return func70(origin), "continue";
                try {
                    var draft = origin;
                    makeMutableTrick(draft, origin), Object.defineProperty(source, key, {
                        enumerable: !1,
                        configurable: !0,
                        get: function get() {
                            return makeTypeTrick(draft);
                        },
                        set: function set1(value) {
                            assign_default(draft, value), makeMutableTrick(draft, value);
                        }
                    });
                } catch (error) {}
            }, _iterator = keys[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_loop();
        } catch (err) {
            _didIteratorError = !0, _iteratorError = err;
        } finally{
            try {
                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
            } finally{
                if (_didIteratorError) throw _iteratorError;
            }
        }
    }, "func"), syncVarsFromSource_default = func70;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func71 = __name(function(promise, duration) {
        return duration <= 0 ? promise : Promise.race([
            promise,
            new Promise(function(_, reject) {
                setTimeout(function() {
                    return reject(Error("Timeout"));
                }, duration);
            })
        ]);
    }, "func"), timeOut_default = func71;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func72 = __name(function(duration) {
        var startMs = performance.now();
        return function() {
            return _async_to_generator(function() {
                return _ts_generator(this, function(_state) {
                    switch(_state.label){
                        case 0:
                            if (!(performance.now() - startMs > duration)) return [
                                3,
                                2
                            ];
                            return [
                                4,
                                new Promise(function(resolve) {
                                    return requestAnimationFrame(resolve);
                                })
                            ];
                        case 1:
                            _state.sent(), startMs = performance.now(), _state.label = 2;
                        case 2:
                            return [
                                2
                            ];
                    }
                });
            })();
        };
    }, "func"), timeSlice_default = func72;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var unwrapAllSettled = __name(function(data) {
        return data.reduce(function(acc, d) {
            return "fulfilled" === d.status ? acc.successes.push(d.value) : acc.failures.push(d.reason), acc;
        }, {
            successes: [],
            failures: []
        });
    }, "unwrapAllSettled"), unwrapAllSettled_default = unwrapAllSettled, function_default = {
        accessBlocker: accessBlocker_default,
        allSettled: allSettled_default,
        any: any_default,
        debounce: debounce_default,
        handleAsync: handleAsync_default,
        latch: latch_default,
        memoize: memoize_default,
        mutex: mutex_default,
        retry: retry_default,
        retryAsync: retryAsync_default,
        rng: rng_default,
        syncVars: syncVarsFromSource_default,
        throttle: throttle_default,
        timeOut: timeOut_default,
        timeSlice: timeSlice_default,
        toError: toError_default,
        unwrapAllSettled: unwrapAllSettled_default
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func73 = __name(function(data) {
        var inverse = {};
        for(var key in data)inverse[data[key]] = key;
        return inverse;
    }, "func"), invert_default = func73, getValue = memoize_default(function(code, valueMap) {
        var codeKey = code.toLowerCase();
        if ("string" == typeof code) {
            var data = valueMap[codeKey];
            if ("string" == typeof data) return data;
        }
        return "?";
    }), findGroups = memoize_default(function(str) {
        for(var groups = [], findGroup = /:([A-Z0-9?]+)/gm, group = null; null !== (group = findGroup.exec(str));)groups.push(group[1]);
        return groups;
    }), findHash = memoize_default(function(str) {
        for(var _loop = function _loop() {
            if (null === (codes = findHash2.exec(str))) return "break";
            var code = codes[0];
            if (code.length >= 2) {
                var _hash, length = code.length, loop = code.slice(0, length - 1), key = code[length - 1], list = length_default(+loop).map(function() {
                    return key;
                });
                return (_hash = hash).push.apply(_hash, _to_consumable_array(list)), "continue";
            }
            hash.push(code);
        }, hash = [], findHash2 = /(\d+[A-Z?]|[A-Z?])/gm, codes = null; "break" !== _loop(););
        return hash;
    }), func74 = __name(function(hash, codeMap) {
        var str = hash, valueMap = invert_default(codeMap), data = {}, codeIndex = 0, groupIndex = 0, groups = findGroups(str), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
        try {
            for(var _step, _iterator = groups[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                var hashList = _step.value;
                codeIndex = 0, data[++groupIndex] || (data[groupIndex] = {});
                var hash2 = findHash(hashList), _iteratorNormalCompletion1 = !0, _didIteratorError1 = !1, _iteratorError1 = void 0;
                try {
                    for(var _step1, _iterator1 = hash2[Symbol.iterator](); !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = !0){
                        var code = _step1.value;
                        codeIndex++;
                        var value = getValue(code, valueMap);
                        data[groupIndex][codeIndex] = value;
                    }
                } catch (err) {
                    _didIteratorError1 = !0, _iteratorError1 = err;
                } finally{
                    try {
                        _iteratorNormalCompletion1 || null == _iterator1.return || _iterator1.return();
                    } finally{
                        if (_didIteratorError1) throw _iteratorError1;
                    }
                }
            }
        } catch (err) {
            _didIteratorError = !0, _iteratorError = err;
        } finally{
            try {
                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
            } finally{
                if (_didIteratorError) throw _iteratorError;
            }
        }
        return data;
    }, "func"), decodeMap_default = func74;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func75 = __name(function(obj, key) {
        if (!isObject_default(obj)) return !1;
        try {
            if (isObject_default(obj[key])) return !0;
        } catch (e) {
            return !1;
        }
        return "function" == typeof Object.hasOwn ? Object.hasOwn(obj, key) : Object.prototype.hasOwnProperty.call(obj, key);
    }, "func"), hasOwn_default = func75;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func76 = __name(function(data) {
        return "string" == typeof data;
    }, "func"), isString_default = func76, getCode = memoize_default(function(value, codeMap) {
        if (!isObject_default(codeMap) || !hasOwn_default(codeMap, value)) return "?";
        var code = codeMap[value];
        return "string" == typeof code ? "".concat(code.toUpperCase()) : "?";
    }), func77 = __name(function(data, codeMap) {
        arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
        var str = "";
        if (!isObject_default(data)) return str;
        var lastCode = "", lastIndex = 1;
        for(var key in data)if (hasOwn_default(data, key)) {
            var value = data[key];
            if (isObject_default(value)) {
                str += ":".concat(func77(value, codeMap, !0));
                continue;
            }
            if (isString_default(value)) {
                var code = getCode(value, codeMap);
                code === lastCode ? (lastIndex++, str = str.slice(0, -2)) : lastIndex = 1, str += "".concat(lastIndex).concat(code), lastCode = code;
            }
        }
        return str.replace(/1([A-Z])/g, "$1");
    }, "func"), encodeMap_default = func77;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func78 = __name(function(hash, token) {
        try {
            if (!hash) return "";
            if (token) {
                var hashString = atob(hash), hashToken = btoa(token);
                return hashString = hashString.replace(hashToken, "="), atob(hashString);
            }
            return atob(hash);
        } catch (error) {
            return console.warn("Error in hashToString", error), "";
        }
    }, "func"), hashToString_default = func78;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var createCompressDict = __name(function() {
        return {};
    }, "createCompressDict"), compressDicts = {}, getCompressionDict = __name(function(level2) {
        return compressDicts[level2] || (compressDicts[level2] = createCompressDict()), compressDicts[level2];
    }, "getCompressionDict"), setCompressionDict = __name(function(word, level2) {
        var compressDict = getCompressionDict(level2), dictSize = Object.keys(compressDict).length;
        compressDict[word] = dictSize + 1;
    }, "setCompressionDict"), func79 = __name(function(str, customDict) {
        var level2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1, word = str[0], result3 = [], dict = getCompressionDict(level2);
        if (customDict) for(var key in customDict)setCompressionDict(key, level2);
        for(var i2 = 1; i2 < str.length; i2++){
            var char = str[i2], candidate = "".concat(word).concat(char);
            word = str[++i2], void 0 === dict[candidate] && (setCompressionDict(candidate, level2), dict = getCompressionDict(level2));
        }
        word = str[0];
        for(var i = 1, wordIdx = 0; i < str.length;){
            var char1 = str[i], candidate1 = "".concat(word).concat(char1), potentialCandidate = getLongestAvailableKeyInCompressDict(str.slice(wordIdx), dict);
            if (null !== potentialCandidate) {
                result3.push(dict[potentialCandidate]), i += potentialCandidate.length - candidate1.length, word = "", wordIdx = i + 1, i++;
                continue;
            }
            void 0 === dict[candidate1] ? word = candidate1 : (result3.push(dict[candidate1]), word = "", wordIdx = i + 1), i++;
        }
        return console.debug("dict", dict, Object.keys(dict).length), result3;
    }, "func"), getLongestAvailableKeyInCompressDict = __name(function(substring, dict) {
        var keys = Object.keys(dict);
        return 0 === (keys = keys.filter(function(key) {
            return substring.indexOf(key) > -1 && substring !== key;
        })).length ? null : keys.sort(function(a, b) {
            return b.length - a.length;
        })[0];
    }, "getLongestAvailableKeyInCompressDict"), lzwCompress_default = func79;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var createDecompressDict = __name(function(compressDict) {
        var dict = {};
        for(var key in compressDict)dict[compressDict[key]] = key;
        return dict;
    }, "createDecompressDict"), func80 = __name(function(hash, customDict) {
        var level2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1, entry = "", result3 = "", compressDict = getCompressionDict(level2);
        customDict && (compressDict = __spreadValues(__spreadValues({}, customDict), compressDict)), console.debug("compressDict", compressDict);
        var dict = createDecompressDict(compressDict);
        for(var i in hash){
            var code = hash[i];
            result3 += entry = void 0 !== dict[code] ? dict[code] : "?";
        }
        return result3;
    }, "func"), lzwDecompress_default = func80;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func81 = __name(function(str, token) {
        try {
            if (!str) return "";
            if (token) {
                var hashString = btoa(str), hashToken = btoa(token);
                return hashString = hashString.replace("=", hashToken), btoa(hashString);
            }
            return btoa(str);
        } catch (error) {
            return console.warn("Error in stringToHash", error), "";
        }
    }, "func"), stringToHash_default = func81, hash_default = {
        decodeMap: decodeMap_default,
        encodeMap: encodeMap_default,
        hashToString: hashToString_default,
        stringToHash: stringToHash_default,
        lwzCompress: lzwCompress_default,
        lwzDecompress: lzwDecompress_default
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var base64ToFile = __name(function(base64, filename) {
        var arr = base64.split(","), regex = arr[0].match(/:(.*?);/);
        if (!regex) return null;
        for(var mime = regex[1], bstr = atob(arr[arr.length - 1]), n = bstr.length, u8arr = new Uint8Array(n); n--;)u8arr[n] = bstr.charCodeAt(n);
        return new File([
            u8arr
        ], filename, {
            type: mime
        });
    }, "base64ToFile"), base64ToFile_default = base64ToFile;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func82 = __name(function(blob) {
        return new Promise(function(resolve, reject) {
            var reader = new FileReader();
            reader.onloadend = function() {
                return resolve(reader.result);
            }, reader.onerror = reject, reader.readAsDataURL(blob);
        });
    }, "func"), blobToDataImage_default = func82;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var img = new Image(), func83 = __name(function(blob) {
        var forceNew = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1], autoRevoke = !(arguments.length > 2) || void 0 === arguments[2] || arguments[2];
        return new Promise(function(resolve) {
            forceNew && (img = new Image()), img.onload = function() {
                resolve(img), autoRevoke && URL.revokeObjectURL(img.src);
            }, img.onerror = function() {
                resolve(null);
            }, img.src = URL.createObjectURL(blob);
        });
    }, "func"), blobToHtmlImage_default = func83;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func84 = __name(function(blobUrl, fileName) {
        return _async_to_generator(function() {
            var blob;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        return [
                            4,
                            fetch(blobUrl).then(function(r) {
                                return r.blob();
                            }).catch(function() {
                                return null;
                            })
                        ];
                    case 1:
                        if (!(blob = _state.sent())) return [
                            2,
                            null
                        ];
                        return [
                            2,
                            new File([
                                blob
                            ], fileName)
                        ];
                }
            });
        })();
    }, "func"), blobUrlToFile_default = func84;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var result = createCanvas_default({
        contextType: "2d",
        contextAttributes: {
            willReadFrequently: !0
        }
    }), convertBlobToBase64 = __name(function(blob) {
        return _async_to_generator(function() {
            return _ts_generator(this, function(_state) {
                return [
                    2,
                    new Promise(function(resolve, reject) {
                        var reader = new FileReader();
                        reader.onload = function() {
                            return resolve(reader.result);
                        }, reader.onerror = reject, reader.readAsDataURL(blob);
                    })
                ];
            });
        })();
    }, "convertBlobToBase64"), func85 = __name(function(element) {
        var type = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "png";
        return _async_to_generator(function() {
            var width, height;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        if (width = element.width, height = element.height, !width || !height) throw Error("Element has no width or height");
                        if (!result) throw Error("Failed to create canvas");
                        if (result.canvas.width = width, result.canvas.height = height, result.context.drawImage(element, 0, 0, width, height), _instanceof(result.canvas, HTMLCanvasElement)) return [
                            2,
                            result.canvas.toDataURL("image/".concat(type), 0.85)
                        ];
                        return [
                            4,
                            result.canvas.convertToBlob({
                                type: "image/".concat(type)
                            })
                        ];
                    case 1:
                        return [
                            2,
                            convertBlobToBase64(_state.sent())
                        ];
                }
            });
        })();
    }, "func"), elementToBase64_default = func85;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var result2 = createCanvas_default({
        contextType: "2d",
        contextAttributes: {
            willReadFrequently: !0
        }
    }), func86 = __name(function(element) {
        var type = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "png";
        return _async_to_generator(function() {
            var canvas, context;
            return _ts_generator(this, function(_state) {
                try {
                    if (!result2) throw Error("Failed to create canvas");
                    if (canvas = result2.canvas, context = result2.context, canvas.width = element.width, canvas.height = element.height, context.drawImage(element, 0, 0, element.width, element.height), _instanceof(canvas, HTMLCanvasElement)) return [
                        2,
                        new Promise(function(resolve) {
                            canvas.toBlob(function(blob) {
                                return resolve(blob);
                            }, "image/".concat(type), 0.9);
                        })
                    ];
                    return [
                        2,
                        canvas.convertToBlob({
                            type: "image/".concat(type),
                            quality: 0.9
                        })
                    ];
                } catch (error) {
                    return console.warn("elementToBlob error:", error), [
                        2,
                        null
                    ];
                }
            });
        })();
    }, "func"), elementToBlob_default = func86;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func87 = __name(function(url) {
        return _async_to_generator(function() {
            var response, error;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        if (!url) throw Error("url is empty");
                        _state.label = 1;
                    case 1:
                        return _state.trys.push([
                            1,
                            4,
                            ,
                            5
                        ]), [
                            4,
                            fetch(url)
                        ];
                    case 2:
                        if (!(response = _state.sent()).ok) throw Error("Network response was not ok");
                        return [
                            4,
                            response.blob()
                        ];
                    case 3:
                        return [
                            2,
                            _state.sent()
                        ];
                    case 4:
                        throw _instanceof(error = _state.sent(), Error) ? error : Error("Failed to fetch image");
                    case 5:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "func"), fetchImage_default = func87;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func88 = __name(function(url) {
        return _async_to_generator(function() {
            return _ts_generator(this, function(_state) {
                return [
                    2,
                    new Promise(function(resolve, reject) {
                        url || reject(Error("url is empty"));
                        var elementImage = new Image();
                        elementImage.crossOrigin = "anonymous", elementImage.onload = function() {
                            resolve(elementImage);
                        }, elementImage.onerror = function(error) {
                            reject(error);
                        }, elementImage.src = url;
                    })
                ];
            });
        })();
    }, "func"), loadImage_default = func88;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var getBox = __name(function(width, height) {
        if (isNaN(width) || isNaN(height)) throw Error("width and height must be numbers");
        return {
            string: "+",
            style: "font-size: 1px; padding: ".concat(Math.floor(height / 2), "px ").concat(Math.floor(width / 2), "px;")
        };
    }, "getBox"), func89 = __name(function(url) {
        var scale = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
        return new Promise(function(resolve) {
            var img2 = new Image();
            img2.onerror = function() {
                resolve(!1);
            }, img2.onload = function() {
                var width = img2.width * scale, height = img2.height * scale, dim = getBox(width, height);
                console.info("%c ".concat(dim.string), "".concat(dim.style, " background: transparent url(").concat(url, ") no-repeat center center; background-size: ").concat(width, "px ").concat(height, "px;")), resolve(!0);
            }, img2.src = url;
        });
    }, "func"), logImage_default = func89, image_default = {
        base64ToFile: base64ToFile_default,
        blobToDataImage: blobToDataImage_default,
        blobToHtmlImage: blobToHtmlImage_default,
        blobUrlToFile: blobUrlToFile_default,
        elementToBase64: elementToBase64_default,
        elementToBlob: elementToBlob_default,
        fetchImage: fetchImage_default,
        loadImage: loadImage_default,
        logImage: logImage_default
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var json_default = {
        clone: clone_default,
        decode: decode_default,
        encode: encode_default
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Mark = function() {
        function _Mark() {
            _class_call_check(this, _Mark), _define_property(this, "perf$", console);
        }
        return _create_class(_Mark, null, [
            {
                key: "inst",
                get: function get() {
                    return _Mark._inst$ || (_Mark._inst$ = new _Mark()), _Mark._inst$;
                }
            },
            {
                key: "isConsole$",
                value: function isConsole$(service) {
                    return service === console;
                }
            },
            {
                key: "isPerformance$",
                value: function isPerformance$(service) {
                    return _instanceof(service, Performance);
                }
            },
            {
                key: "isBaseService$",
                value: function isBaseService$(service) {
                    return !_Mark.isConsole$(service) && !_Mark.isPerformance$(service);
                }
            },
            {
                key: "setService",
                value: function setService(service) {
                    service && (_Mark.inst.perf$ = service);
                }
            },
            {
                key: "measure",
                value: function measure(name2) {
                    var perf = _Mark.inst.perf$;
                    _Mark.isBaseService$(perf) && perf.measure(name2);
                }
            },
            {
                key: "start",
                value: function start(name2) {
                    var perf = _Mark.inst.perf$;
                    _Mark.isConsole$(perf) ? perf.time(name2) : _Mark.isPerformance$(perf) ? perf.mark("".concat(name2, "_start")) : _Mark.isBaseService$(perf) && perf.start(name2);
                }
            },
            {
                key: "stop",
                value: function stop(name2) {
                    var perf = _Mark.inst.perf$;
                    if (_Mark.isConsole$(perf)) perf.timeEnd(name2);
                    else if (_Mark.isPerformance$(perf)) {
                        try {
                            perf.mark("".concat(name2, "_end")), perf.measure(name2, "".concat(name2, "_start"), "".concat(name2, "_end"));
                        } catch (e) {}
                        try {
                            perf.clearMarks("".concat(name2, "_start")), perf.clearMarks("".concat(name2, "_end"));
                        } catch (e) {}
                    } else _Mark.isBaseService$(perf) && perf.stop(name2);
                }
            },
            {
                key: "putMetric",
                value: function putMetric(name2, key) {
                    var value = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Date.now(), perf = _Mark.inst.perf$;
                    _Mark.isConsole$(perf) ? perf.timeLog(name2, "".concat(key, ": ").concat(value)) : _Mark.isBaseService$(perf) && perf.putMetric(name2, key, value);
                }
            },
            {
                key: "incMetric",
                value: function incMetric(name2, key) {
                    var value = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1, perf = _Mark.inst.perf$;
                    _Mark.isConsole$(perf) ? perf.timeLog(name2, "".concat(key, ": increment by ").concat(value)) : _Mark.isBaseService$(perf) && perf.incrementMetric(name2, key, value);
                }
            },
            {
                key: "putAttr",
                value: function putAttr(name2, key, value) {
                    var perf = _Mark.inst.perf$, correctValue = value.slice(0, 100);
                    _Mark.isConsole$(perf) ? perf.timeLog(name2, "".concat(key, ": ").concat(correctValue)) : _Mark.isBaseService$(perf) && perf.putAttr(name2, key, correctValue);
                }
            },
            {
                key: "rmAttr",
                value: function rmAttr(name2, key) {
                    var perf = _Mark.inst.perf$;
                    _Mark.isConsole$(perf) ? perf.timeLog(name2, "".concat(key, ": removed")) : _Mark.isBaseService$(perf) && perf.removeAttr(name2, key);
                }
            }
        ]), _Mark;
    }();
    __name(_Mark, "Mark"), __publicField(_Mark, "_inst$");
    var Mark = _Mark, Mark_default = Mark, mark_default = {
        Mark: Mark_default
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func90 = __name(function(value, maxLength) {
        if ("number" != typeof value) return "0";
        for(var maxNumber = __pow(10, maxLength), shortened = value, numberSuffixCount = 0; shortened >= maxNumber;)shortened = Math.floor(shortened / 1e3), numberSuffixCount++;
        var numberPrefix = shortened.toString(), numberSuffix = [
            "",
            "K",
            "M",
            "B",
            "T",
            "Qa",
            "Qi",
            "Sx",
            "Sp",
            "Oc",
            "No",
            "Dc",
            "Ud",
            "Dd",
            "Td",
            "Qad",
            "Qid",
            "Sxd",
            "Spd"
        ][numberSuffixCount];
        return "".concat(numberPrefix).concat(numberSuffix);
    }, "func"), getShortNumber_default = func90;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var padEnd = __name(function(value, maxLength) {
        for(var fillChar = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "0", res = value.toString(), valueLength = res.length, i = 0; i < maxLength - valueLength; i++)res += fillChar;
        return res;
    }, "padEnd"), padEnd_default = padEnd;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var padStart = __name(function(value, maxLength) {
        for(var fillChar = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "0", res = value.toString(), valueLength = res.length, i = 0; i < maxLength - valueLength; i++)res = fillChar + res;
        return res;
    }, "padStart"), padStart_default = padStart;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func91 = __name(function(length, useNegative) {
        return Math.floor(Math.random() * length) * (useNegative ? Math.random() > 0.5 ? 1 : -1 : 1);
    }, "func"), random_default = func91;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func92 = __name(function(num) {
        return num > 0 ? 1 : num < 0 ? -1 : 0 === num ? 0 : NaN;
    }, "func"), sign_default = func92;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var toAbbreviatedString = __name(function(value, config) {
        var _ref = config || {}, _ref_fractionalDigits = _ref.fractionalDigits, fractionalDigits = void 0 === _ref_fractionalDigits ? 0 : _ref_fractionalDigits, _ref_startAbbreviate = _ref.startAbbreviate, startAbbreviate = void 0 === _ref_startAbbreviate ? 1e3 : _ref_startAbbreviate, _ref_abbreviateStep = _ref.abbreviateStep, abbreviateStep = void 0 === _ref_abbreviateStep ? 3 : _ref_abbreviateStep, _ref_maxLength = _ref.maxLength, maxLength = void 0 === _ref_maxLength ? -1 : _ref_maxLength, _ref_removeLastZero = _ref.removeLastZero, removeLastZero = void 0 === _ref_removeLastZero || _ref_removeLastZero, _ref_suffixes = _ref.suffixes, suffixes = void 0 === _ref_suffixes ? [
            "",
            "k",
            "m",
            "b",
            "t",
            "q"
        ] : _ref_suffixes, correctMaxLength = -1 === maxLength ? 99999999 : maxLength;
        if (value >= startAbbreviate) {
            var suffixNum = Math.floor((Math.floor(value / __pow(10, abbreviateStep)).toString().length - 1) / abbreviateStep) + 1, fractionalString2 = (value / __pow(__pow(10, abbreviateStep), suffixNum)).toFixed(fractionalDigits), numberLength2 = correctMaxLength - suffixes[suffixNum].length, numberString2 = fractionalString2.substring(0, numberLength2);
            return (removeLastZero ? removeZero(numberString2) : numberString2) + suffixes[suffixNum];
        }
        var fractionalString = value.toFixed(fractionalDigits), numberLength = correctMaxLength - suffixes[0].length, numberString = fractionalString.substring(0, numberLength);
        return removeLastZero ? removeZero(numberString) : numberString + suffixes[0];
    }, "toAbbreviatedString"), removeZero = __name(function(value) {
        if (0 > value.indexOf(".")) return value;
        for(var i = value.length - 1; i >= 0; i--){
            if ("." === value[i]) return value.substring(0, i);
            if ("0" !== value[i]) return value.substring(0, i + 1);
        }
        return value;
    }, "removeZero"), toAbbreviatedString_default = toAbbreviatedString, number_default = {
        getShortNumber: getShortNumber_default,
        sign: sign_default,
        padEnd: padEnd_default,
        padStart: padStart_default,
        random: random_default,
        toAbbreviatedString: toAbbreviatedString_default
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var toUpperCamelCase = __name(function(str) {
        var text = str.replace(/[-_\s.]+(.)?/g, function(_, c) {
            return c ? c.toUpperCase() : "";
        });
        return text.substring(0, 1).toUpperCase() + text.substring(1);
    }, "toUpperCamelCase"), toCamelCase = __name(function(str) {
        var text = str.replace(/[-_\s.]+(.)?/g, function(_, c) {
            return c ? c.toUpperCase() : "";
        });
        return text.substring(0, 1).toLowerCase() + text.substring(1);
    }, "toCamelCase"), func93 = __name(function(obj) {
        var newObj = {};
        for(var key in obj){
            var value = obj[key], newKey = toCamelCase(key);
            Array.isArray(value) ? newObj[newKey] = value.map(function(item) {
                return (void 0 === item ? "undefined" : _type_of(item)) === "object" ? func93(item) : item;
            }) : (void 0 === value ? "undefined" : _type_of(value)) === "object" ? newObj[newKey] = func93(value) : newObj[newKey] = obj[key];
        }
        return newObj;
    }, "func"), camelCaseKeys_default = func93;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func94 = __name(function(x, y) {
        return x === y ? 0 !== x || 1 / x == 1 / y : x != x && y != y;
    }, "func"), is_default = func94, diffRecursive = __name(function(source, target, compared) {
        var _compared_get, _compared_get1, result3 = {};
        if (compared.has(source) && (null == (_compared_get = compared.get(source)) ? void 0 : _compared_get.has(target))) return result3;
        for(var key in compared.has(source) || compared.set(source, new WeakSet()), null == (_compared_get1 = compared.get(source)) || _compared_get1.add(target), target)if (hasOwn_default(target, key)) {
            var targetValue = void 0;
            try {
                targetValue = target[key];
            } catch (e) {
                continue;
            }
            if (hasOwn_default(source, key)) {
                var sourceValue = void 0;
                try {
                    sourceValue = source[key];
                } catch (e) {
                    result3[key] = targetValue;
                    continue;
                }
                if (isObject_default(sourceValue) && isObject_default(targetValue) && null !== sourceValue && null !== targetValue && "function" != typeof sourceValue && "functio\
n" != typeof targetValue) {
                    var diffResult = diffRecursive(sourceValue, targetValue, compared);
                    Object.keys(diffResult).length > 0 && (result3[key] = diffResult);
                } else is_default(sourceValue, targetValue) || (result3[key] = targetValue);
            } else result3[key] = targetValue;
        }
        for(var key1 in source)hasOwn_default(source, key1) && !hasOwn_default(target, key1) && (result3[key1] = void 0);
        return result3;
    }, "diffRecursive"), func95 = __name(function(source, target) {
        return diffRecursive(source, target, new WeakMap());
    }, "func"), diff_default = func95;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func96 = __name(function(data) {
        var keys = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], result3 = {}, _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
        try {
            for(var _step, _iterator = Object.values(data)[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                var value = _step.value;
                for(var key in value){
                    var K = key;
                    keys.includes(K) && (result3[K] || (result3[K] = []), result3[K].push(value[K]));
                }
            }
        } catch (err) {
            _didIteratorError = !0, _iteratorError = err;
        } finally{
            try {
                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
            } finally{
                if (_didIteratorError) throw _iteratorError;
            }
        }
        return result3;
    }, "func"), dod_default2 = func96;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func97 = __name(function(source, input) {
        var result3 = {};
        for(var key in input)if (hasOwn_default(input, key)) if (isObject_default(input[key]) && null !== input[key]) if (isObject_default(source[key]) && null !== source[key]) {
            if ("function" == typeof input[key]) continue;
            var filteredSubObject = func97(source[key], input[key]);
            Object.keys(filteredSubObject).length > 0 && (result3[key] = filteredSubObject);
        } else hasOwn_default(source, key) || (result3[key] = assign_default({}, input[key]));
        else hasOwn_default(source, key) || (result3[key] = input[key]);
        return result3;
    }, "func"), filterDeep_default = func97;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func98 = __name(function(value, object) {
        return Object.values(object).includes(value);
    }, "func"), isIn_default = func98;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func99 = __name(function(key) {
        return [
            "string",
            "number",
            "symbol"
        ].indexOf(void 0 === key ? "undefined" : _type_of(key)) > -1;
    }, "func"), isPropertyKey_default = func99, func100 = __name(function(array, key) {
        var result3 = {}, _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
        try {
            for(var _step, _iterator = array[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                var item = _step.value, value = item[key];
                isPropertyKey_default(value) && (result3[value] = item);
            }
        } catch (err) {
            _didIteratorError = !0, _iteratorError = err;
        } finally{
            try {
                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
            } finally{
                if (_didIteratorError) throw _iteratorError;
            }
        }
        return result3;
    }, "func"), keyBy_default = func100;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var toSnakeCase = __name(function(str) {
        return str.replace(/([a-z])([A-Z])/g, "$1_$2").replace(/\s+/g, "_").toLowerCase();
    }, "toSnakeCase"), func101 = __name(function(obj) {
        var newObj = {};
        for(var key in obj){
            var value = obj[key], newKey = toSnakeCase(key);
            Array.isArray(value) ? newObj[newKey] = value.map(function(item) {
                return (void 0 === item ? "undefined" : _type_of(item)) === "object" ? func101(item) : item;
            }) : (void 0 === value ? "undefined" : _type_of(value)) === "object" ? newObj[newKey] = func101(value) : newObj[newKey] = obj[key];
        }
        return newObj;
    }, "func"), snakeCaseKeys_default = func101;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func102 = __name(function(object) {
        return Object.keys(object).map(function(key) {
            return object[key];
        });
    }, "func"), vals_default = func102, object_default = {
        assign: assign_default,
        camelCaseKeys: camelCaseKeys_default,
        clone: clone_default2,
        clear: clear_default,
        diff: diff_default,
        dod: dod_default2,
        hasOwn: hasOwn_default,
        invert: invert_default,
        is: is_default,
        isIn: isIn_default,
        keyBy: keyBy_default,
        merge: merge_default,
        snakeCaseKeys: snakeCaseKeys_default,
        vals: vals_default,
        filterDeep: filterDeep_default
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var Signal_exports = {};
    __export(Signal_exports, {
        Signal: function Signal1() {
            return Signal;
        },
        SignalAbortedError: function SignalAbortedError1() {
            return SignalAbortedError;
        },
        SignalController: function SignalController1() {
            return SignalController;
        }
    }), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _SignalAbortedError = function(Error1) {
        function _SignalAbortedError() {
            var _this, reason = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "Signal aborted with no reason";
            return _class_call_check(this, _SignalAbortedError), (_this = _call_super(this, _SignalAbortedError, [
                reason
            ])).name = "SignalAbortedStopped", _this;
        }
        return _inherits(_SignalAbortedError, Error1), _SignalAbortedError;
    }(_wrap_native_super(Error));
    __name(_SignalAbortedError, "SignalAbortedError");
    var SignalAbortedError = _SignalAbortedError, _Signal = function() {
        function _Signal() {
            _class_call_check(this, _Signal), _define_property(this, "state$", {
                type: "running"
            }), _define_property(this, "callbacks$", []);
        }
        return _create_class(_Signal, [
            {
                key: "once",
                value: function once(callback) {
                    this.callbacks$.push(callback);
                }
            },
            {
                key: "off",
                value: function off(callback) {
                    this.callbacks$ = this.callbacks$.filter(function(cb) {
                        return cb !== callback;
                    });
                }
            },
            {
                key: "abort",
                value: function abort(reasonOrMessage) {
                    var realReason = this.constructReason(reasonOrMessage);
                    this.state$ = {
                        type: "stopped",
                        reason: realReason
                    };
                    var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = this.callbacks$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)(0, _step.value)(realReason);
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                    this.callbacks$ = [];
                }
            },
            {
                key: "aborted",
                get: function get() {
                    return "stopped" === this.state$.type;
                }
            },
            {
                key: "reason",
                get: function get() {
                    if ("stopped" === this.state$.type) return this.state$.reason;
                }
            },
            {
                key: "wrap",
                value: function wrap(callback) {
                    if (!this.aborted) return callback;
                }
            },
            {
                key: "chain",
                value: function chain(signal) {
                    var _this = this;
                    _instanceof(signal, _Signal) ? signal.once(function(reason) {
                        return _this.abort(reason);
                    }) : signal.addEventListener("abort", function() {
                        return _this.abort(signal.reason);
                    }, {
                        once: !0
                    });
                }
            },
            {
                key: "promise",
                value: function promise() {
                    var _this = this;
                    return this.aborted ? Promise.resolve(this.reason) : new Promise(function(resolve) {
                        _this.once(function(reason) {
                            return resolve(reason);
                        });
                    });
                }
            },
            {
                key: "constructReason",
                value: function constructReason(reason) {
                    return _instanceof(reason, Error) ? reason : "string" == typeof reason ? new SignalAbortedError(reason) : new SignalAbortedError();
                }
            }
        ]), _Signal;
    }();
    __name(_Signal, "Signal");
    var Signal = _Signal, _SignalController = function() {
        function _SignalController() {
            _class_call_check(this, _SignalController), _define_property(this, "signal$", void 0);
        }
        return _create_class(_SignalController, [
            {
                key: "renew",
                value: function renew() {
                    null == (_this_signal$ = this.signal$) || _this_signal$.abort();
                    var _this_signal$, signal = new Signal();
                    return this.signal$ = signal, signal;
                }
            },
            {
                key: "abort",
                value: function abort() {
                    var _this_signal$;
                    null == (_this_signal$ = this.signal$) || _this_signal$.abort();
                }
            },
            {
                key: "promise",
                value: function promise() {
                    return void 0 === this.signal$ ? Promise.resolve(void 0) : this.signal$.promise();
                }
            }
        ]), _SignalController;
    }();
    __name(_SignalController, "SignalController");
    var SignalController = _SignalController, signal_default = Signal_exports;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func103 = __name(function(str) {
        return str ? str[0].toUpperCase() + str.slice(1) : str;
    }, "func"), capitalize_default = func103;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), __name(fun, "fun");
    var findDuplicateSubstrings_default = fun;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var names = null, defaultName = "Anonymous", fetchNames = __name(function() {
        return _async_to_generator(function() {
            var response, data;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        return [
                            4,
                            fetch("https://randommer.io/api/Name", {
                                method: "GET",
                                headers: {
                                    "X-Api-Key": Ludex.Configs.Mockup.Profile.RandomNameApiKey,
                                    "Content-Type": "application/json"
                                },
                                body: JSON.stringify({
                                    nameType: "surname",
                                    quantity: 1e3
                                })
                            })
                        ];
                    case 1:
                        if (!(response = _state.sent()).ok) throw Error("Can't fetch names");
                        return [
                            4,
                            response.json()
                        ];
                    case 2:
                        if (!isObject_default(data = _state.sent()) || !hasOwn_default(data, "data") || !Array.isArray(data.data)) throw Error("Invalid names response");
                        return [
                            2,
                            data.data
                        ];
                }
            });
        })();
    }, "fetchNames"), func104 = __name(function() {
        return _async_to_generator(function() {
            var firstName, lastName, e;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        if (_state.trys.push([
                            0,
                            3,
                            ,
                            4
                        ]), names) return [
                            3,
                            2
                        ];
                        return [
                            4,
                            fetchNames()
                        ];
                    case 1:
                        if (!(names = _state.sent())) throw Error("Cannot fetch names");
                        _state.label = 2;
                    case 2:
                        return firstName = names[random_default(names.length)], lastName = names[random_default(names.length)], [
                            2,
                            "".concat(firstName, " ").concat(lastName)
                        ];
                    case 3:
                        return e = _state.sent(), [
                            2,
                            defaultName
                        ];
                    case 4:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "func"), generateNameAsync_default = func104;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func105 = __name(function() {
        var radix = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 16, s = __name(function(i) {
            return Math.floor(i).toString(radix);
        }, "s");
        return s(Date.now() / 1e3) + Array(radix + 1).join(" ").replace(/./g, function() {
            return s(Math.random() * radix);
        });
    }, "func"), generateObjectId_default = func105;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func106 = __name(function(locale2) {
        var parts = locale2 ? locale2.split("_") : [], code = parts.length > 0 ? parts[0] : "en_US";
        switch(code){
            case "id":
            case "in":
                code = "id";
        }
        return code;
    }, "func"), getLanguageCode_default = func106;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func107 = __name(function(name2, length) {
        var nameArr = name2.split(" "), firstLastName = (nameArr.length <= 1 ? _to_consumable_array(nameArr) : [
            nameArr[0],
            nameArr.pop()
        ]).join(" "), lastIndexOfSpace = firstLastName.lastIndexOf(" ") || 0, lastIndex = lastIndexOfSpace >= 0 ? lastIndexOfSpace : length;
        return (firstLastName.length > length ? firstLastName.substring(0, lastIndex) : firstLastName).substring(0, length);
    }, "func"), getShortName_default = func107;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func108 = __name(function(str) {
        var hash = 0;
        if (0 === str.length) return hash;
        for(var i = 0; i < str.length; i++)hash = (hash << 5) - hash + str.charCodeAt(i), hash &= hash;
        return hash;
    }, "func"), hashCode_default = func108;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var fn = __name(function(str, searchString) {
        for(var i = 0; i < searchString.length; i++)if (str[i] !== searchString[i]) return !1;
        return !0;
    }, "fn"), matchStart_default = fn;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func109 = __name(function(value, length) {
        var pad = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : " ", count = Math.floor(length);
        if (value.length >= count) return value;
        for(var paddingLength = count - value.length, repeatedPadString = "", i = 0; i < paddingLength; i++)repeatedPadString += pad;
        return repeatedPadString.slice(0, paddingLength) + value;
    }, "func"), padStart_default2 = func109;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func110 = __name(function(payload) {
        return Object.keys(payload).reduce(function(accumulator, key) {
            var value = payload[key];
            return void 0 !== value && accumulator.push("".concat(key, "=").concat(value)), accumulator;
        }, []).join("&");
    }, "func"), params_default = func110;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func111 = __name(function(len, startWith) {
        var letters2 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*#%&!", word = "", wordLen = len;
        void 0 !== startWith && (wordLen -= startWith.length, word += startWith);
        for(var i = 0; i < wordLen; i++){
            var index = Math.floor(Math.random() * letters2.length);
            word += letters2.charAt(index);
        }
        return word;
    }, "func"), random_default2 = func111;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var letters = "0123456789ABCDEF", func112 = __name(function() {
        for(var prefix = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "0x", color = prefix, i = 0; i < 6; i++)color += letters[Math.floor(16 * Math.random())];
        return color;
    }, "func"), randomColor_default = func112;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func113 = __name(function(str) {
        return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[]/g, function(m) {
            return "\u0111" === m ? "d" : "D";
        });
    }, "func"), removeDiacritics_default = func113;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), __name(generateNameUsingString, "generateNameUsingString");
    var createHash = __name(function(seed) {
        for(var hash = 0, i = 0; i < seed.length; i++)hash = (hash << 5) - hash + seed.charCodeAt(i) | 0;
        return Math.abs(hash);
    }, "createHash"), firstNames = [
        "James",
        "Mary",
        "John",
        "Patricia",
        "Robert",
        "Jennifer",
        "Michael",
        "Linda",
        "William",
        "Elizabeth",
        "David",
        "Susan",
        "Richard",
        "Jessica",
        "Joseph",
        "Sarah",
        "Thomas",
        "Karen",
        "Charles",
        "Nancy",
        "Christopher",
        "Lisa",
        "Daniel",
        "Margaret",
        "Matthew",
        "Betty",
        "Anthony",
        "Sandra",
        "Mark",
        "Ashley",
        "Donald",
        "Dorothy",
        "Steven",
        "Kimberly",
        "Paul",
        "Emily",
        "Andrew",
        "Donna",
        "Joshua",
        "Michelle",
        "Kenneth",
        "Carol",
        "Kevin",
        "Amanda",
        "Brian",
        "Melissa",
        "George",
        "Deborah"
    ], lastNames = [
        "Smith",
        "Johnson",
        "Williams",
        "Jones",
        "Brown",
        "Davis",
        "Miller",
        "Wilson",
        "Moore",
        "Taylor",
        "Anderson",
        "Thomas",
        "Jackson",
        "White",
        "Harris",
        "Martin",
        "Thompson",
        "Garcia",
        "Martinez",
        "Robinson",
        "Clark",
        "Rodriguez",
        "Lewis",
        "Lee",
        "Walker",
        "Hall",
        "Allen",
        "Young",
        "Hernandez",
        "King",
        "Wright",
        "Lopez",
        "Hill",
        "Scott",
        "Green",
        "Adams",
        "Baker",
        "Gonzalez",
        "Nelson",
        "Carter",
        "Mitchell",
        "Perez",
        "Roberts",
        "Turner",
        "Phillips",
        "Campbell",
        "Parker",
        "Evans"
    ], string_default = {
        toCamelCase: toCamelCase,
        toUpperCamelCase: toUpperCamelCase,
        capitalize: capitalize_default,
        generateObjectId: generateObjectId_default,
        getLanguageCode: getLanguageCode_default,
        getShortName: getShortName_default,
        hashCode: hashCode_default,
        matchStart: matchStart_default,
        padStart: padStart_default2,
        params: params_default,
        random: random_default2,
        randomColor: randomColor_default,
        removeDiacritics: removeDiacritics_default,
        findDuplicateSubstrings: findDuplicateSubstrings_default,
        generateNameAsync: generateNameAsync_default,
        toSnakeCase: toSnakeCase,
        generateNameUsingString: generateNameUsingString
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var cutoffs = [
        60,
        3600,
        86400,
        604800,
        2592000,
        31536000,
        1 / 0
    ], units = [
        "second",
        "minute",
        "hour",
        "day",
        "week",
        "month",
        "year"
    ], func114 = __name(function(timestamp, locales, options) {
        var fallbackMessage = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "Soon";
        try {
            var realLocales = null != locales ? locales : "en", realOptions = null != options ? options : {
                numeric: "auto"
            }, deltaSeconds = Math.round((1e3 * timestamp - Date.now()) / 1e3), positivedeltaSeconds = Math.abs(Math.round((1e3 * timestamp - Date.now()) / 1e3)), unitIndex = searchIndex_default(cutoffs, function(cutoff) {
                return cutoff > positivedeltaSeconds;
            }), divisor = unitIndex ? cutoffs[unitIndex - 1] : 1;
            return new Intl.RelativeTimeFormat(realLocales, realOptions).format(Math.floor(deltaSeconds / divisor), units[unitIndex]);
        } catch (error) {
            if (void 0 !== fallbackMessage) return "Soon";
            throw error;
        }
    }, "func"), getRelativeTime_default = func114;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func115 = __name(function(timestamp) {
        var date = new Date(timestamp), hours = date.getUTCHours(), minutes = date.getUTCMinutes(), seconds = date.getUTCSeconds(), milliseconds = date.getUTCMilliseconds(), hoursString = hours < 10 ? "0".concat(hours) : "".concat(hours), minutesString = minutes < 10 ? "0".concat(minutes) : "".concat(minutes), secondsString = seconds < 10 ? "0".concat(seconds) : "".concat(seconds), millisecondsString = "".concat(milliseconds);
        return milliseconds < 10 ? millisecondsString = "00".concat(milliseconds) : milliseconds < 100 && (millisecondsString = "0".concat(milliseconds)), "".concat(hoursString, ":").concat(minutesString, ":").concat(secondsString, ":").concat(millisecondsString);
    }, "func"), getTimeString_default = func115;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func116 = __name(function(timestamp) {
        var last = new Date(timestamp), today = new Date();
        return last.getDate() === today.getDate() && last.getMonth() === today.getMonth() && last.getFullYear() === today.getFullYear();
    }, "func"), isToday_default = func116;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func117 = __name(function(milliseconds) {
        return new Promise(function(resolve) {
            return setTimeout(resolve, milliseconds);
        });
    }, "func"), sleepAsync_default = func117, time_default = {
        isToday: isToday_default,
        sleepAsync: sleepAsync_default,
        getRelativeTime: getRelativeTime_default,
        getTimeString: getTimeString_default
    };
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func118 = __name(function(data) {
        return "boolean" == typeof data;
    }, "func"), isBoolean_default = func118;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func119 = __name(function() {
        return !0;
    }, "func"), isDebugger_default = func119;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func120 = __name(function(input) {
        return "function" == typeof input;
    }, "func"), isFunction_default = func120;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func121 = __name(function(data) {
        return "number" == typeof data;
    }, "func"), isNumber_default = func121;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func122 = __name(function(input) {
        return !!isFunction_default(input) && (!!_instanceof(input, Promise) || "then" in input && "function" == typeof input.then || "AsyncFunction" === input.constructor.name);
    }, "func"), isPromise_default = func122;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var func123 = __name(function(from, to, options) {
        var waitTimeout, waitInterval, _ref = null != options ? options : {}, _ref_timeout = _ref.timeout, timeout = void 0 === _ref_timeout ? 1e3 : _ref_timeout, _ref_checkInterval = _ref.checkInterval, checkInterval = void 0 === _ref_checkInterval ? 16 : _ref_checkInterval;
        return new Promise(function(resolve, reject) {
            if ("function" != typeof from) throw Error("Input from must be a function");
            waitInterval = setInterval(function() {
                from() === ("function" == typeof to ? to() : to) && (clearTimeout(waitTimeout), clearInterval(waitInterval), resolve(!0));
            }, checkInterval), timeout > 0 && (clearTimeout(waitTimeout), waitTimeout = setTimeout(function() {
                clearInterval(waitInterval), reject(Error("Timeout"));
            }, timeout));
        });
    }, "func"), isValueChangeAsync_default = func123, valid_default = {
        isBoolean: isBoolean_default,
        isDebugger: isDebugger_default,
        isEmpty: isEmpty_default,
        isFalsy: isFalsy_default,
        isFunction: isFunction_default,
        isNumber: isNumber_default,
        isObject: isObject_default,
        isPromise: isPromise_default,
        isPropertyKey: isPropertyKey_default,
        isString: isString_default,
        isValueChangeAsync: isValueChangeAsync_default
    }, Utils = {
        Array: array_default,
        Browser: browser_default,
        Decorator: decorator_default,
        Device: device_default,
        Function: function_default,
        Hash: hash_default,
        Image: image_default,
        Json: json_default,
        Mark: mark_default.Mark,
        Object: object_default,
        Signal: signal_default,
        String: string_default,
        Number: number_default,
        Time: time_default,
        Valid: valid_default,
        Error: error_default
    }, utils_default = Utils;
    console.groupCollapsed("\uD83E\uDDEC Ludex initiation");
    var Ludex2 = Object.preventExtensions({
        Dtos: {},
        Utils: Object.freeze(utils_default),
        Match: Object.freeze({
            Modes: Object.freeze(MatchModes_default2)
        }),
        Events: Object.freeze(CoreEvents_default),
        Configs: Object.seal(define_GAME_CONFIG_default),
        Plugins: Object.seal({
            Ads: null,
            Audio: null,
            Analytics: null
        })
    });
    window.Ludex = Ludex2, window.TypeGuard = type_guard_default, window.GameName = "Save The Pets", window.CommitId = "f964e11e-243febd7", window.BuildVersion = 5, console.warn("Env mode:", "development"), console.warn("Debugger:", Ludex2.Utils.Valid.isDebugger()), console.warn("DevIds:", Ludex2.Configs.Debugger.ListPlayerDevIds), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Utils = Ludex.Utils, V = _Ludex_Utils.Valid, O = _Ludex_Utils.Object, S = _Ludex_Utils.String, J = _Ludex_Utils.Json, MESSAGE_INVALID = "is invalid", DtosData = {}, _BaseDtos = function() {
        function _BaseDtos(data) {
            _class_call_check(this, _BaseDtos), this.processData$(data);
        }
        return _create_class(_BaseDtos, [
            {
                key: "getSelf$",
                value: function getSelf$() {
                    return this.constructor;
                }
            },
            {
                key: "processData$",
                value: function processData$(data) {
                    V.isObject(data) || this.exception$("input data", "is not an object");
                    var defaults = this.getSelf$().getDefaults(), finalData = O.merge(defaults, data);
                    this.processNestedDtos$(finalData), this.validateStructure$(finalData), this.validateData$(finalData), this.setupData$(finalData);
                }
            },
            {
                key: "processNestedDtos$",
                value: function processNestedDtos$(_data) {}
            },
            {
                key: "lazyValidateStructure$",
                value: function lazyValidateStructure$(data) {
                    V.isObject(data) || this.exception$("structure", "is not an object");
                    var keys = this.getKeys$(), dataKeys = Object.keys(data), self2 = this.getSelf$(), name2 = self2.getName$();
                    if (!self2.loose[name2]) {
                        var extraKeys = dataKeys.filter(function(key) {
                            return !keys.includes(key);
                        });
                        if (extraKeys.length > 0 && V.isObject(data)) {
                            var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                            try {
                                for(var _step, _iterator = extraKeys[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                                    var key = _step.value;
                                    O.assign(data, _define_property({}, key, null));
                                }
                            } catch (err) {
                                _didIteratorError = !0, _iteratorError = err;
                            } finally{
                                try {
                                    _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                                } finally{
                                    if (_didIteratorError) throw _iteratorError;
                                }
                            }
                        }
                    }
                    var _iteratorNormalCompletion1 = !0, _didIteratorError1 = !1, _iteratorError1 = void 0;
                    try {
                        for(var _step1, _iterator1 = keys[Symbol.iterator](); !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = !0){
                            var key1 = _step1.value;
                            O.hasOwn(data, key1) || this.exception$("structure", "is missing key: ".concat(key1));
                        }
                    } catch (err) {
                        _didIteratorError1 = !0, _iteratorError1 = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion1 || null == _iterator1.return || _iterator1.return();
                        } finally{
                            if (_didIteratorError1) throw _iteratorError1;
                        }
                    }
                }
            },
            {
                key: "lazyValidateData$",
                value: function lazyValidateData$(data) {
                    var self2 = this.getSelf$(), name2 = self2.getName$(), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = this.getKeys$()[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                            var key = _step.value, value = data[key], corrKey = S.removeDiacritics(key).replace(/[^a-zA-Z0-9]/g, ""), validate = this["validate".concat(S.capitalize(corrKey))];
                            if ("function" == typeof validate) try {
                                validate.call(this, value);
                            } catch (error) {
                                if (!self2.loose[name2]) throw error;
                                var _DtosData_name2, defaultValue = null == (_DtosData_name2 = DtosData[name2]) ? void 0 : _DtosData_name2[key];
                                void 0 !== defaultValue && (data[key] = J.clone(defaultValue));
                            }
                            else self2.loose[name2] || this.exception$("validator", "is missing for key '".concat(key, "'"));
                        }
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                }
            },
            {
                key: "lazySetupData$",
                value: function lazySetupData$(data) {
                    var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = this.getKeys$()[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                            var key = _step.value;
                            O.assign(this, _define_property({}, key, data[key]));
                        }
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                }
            },
            {
                key: "exception$",
                value: function exception$(key, message) {
                    var name2 = this.getSelf$().getName$();
                    throw Error("".concat(name2, ": ").concat(key, " ").concat(message));
                }
            },
            {
                key: "toObject",
                value: function toObject() {
                    var result3 = {}, _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = this.getKeys$()[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                            var key = _step.value;
                            result3[key] = this[key];
                        }
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                    return result3;
                }
            },
            {
                key: "getKeys$",
                value: function getKeys$() {
                    var defaults = DtosData[this.getSelf$().getName$()];
                    return V.isObject(defaults) ? Object.keys(defaults) : [];
                }
            }
        ], [
            {
                key: "getName$",
                value: function getName$() {
                    var _BaseDtos_name, rawName = Object.getOwnPropertyNames(_BaseDtos.prototype).join("");
                    return "string" != typeof rawName ? null != (_BaseDtos_name = _BaseDtos.name) ? _BaseDtos_name : "unknown" : rawName.replaceAll("validate", "").replaceAll("constructor", "").replaceAll("toObject", "");
                }
            },
            {
                key: "addDefaults",
                value: function addDefaults(data) {
                    V.isObject(data) || _BaseDtos.prototype.exception$("default data", MESSAGE_INVALID);
                    var clonedData = J.clone(data), name2 = _BaseDtos.getName$();
                    V.isObject(DtosData[name2]) || (DtosData[name2] = {});
                    var existingDefaults = DtosData[name2];
                    DtosData[name2] = O.merge(existingDefaults, clonedData);
                }
            },
            {
                key: "getDefaults",
                value: function getDefaults() {
                    var _J_clone, name2 = _BaseDtos.getName$();
                    return null != (_J_clone = J.clone(DtosData[name2])) ? _J_clone : {};
                }
            },
            {
                key: "addValidator",
                value: function addValidator(key, func124) {
                    V.isString(key) || _BaseDtos.prototype.exception$("validate key", MESSAGE_INVALID), "function" != typeof func124 && _BaseDtos.prototype.exception$("validate function", MESSAGE_INVALID);
                    var name2 = _BaseDtos.getName$(), existData = DtosData[name2], existLoose = _BaseDtos.loose[name2];
                    O.assign(_BaseDtos.loose, _define_property({}, name2, null)), O.assign(DtosData, _define_property({}, name2, null));
                    var funcName = "validate".concat(S.capitalize(key));
                    O.assign(_BaseDtos.prototype, _define_property({}, funcName, func124)), name2 = _BaseDtos.getName$(), _BaseDtos.loose[name2] = existLoose, DtosData[name2] = existData;
                }
            },
            {
                key: "makeStrict",
                value: function makeStrict() {
                    var name2 = _BaseDtos.getName$();
                    _BaseDtos.loose[name2] = !1;
                }
            },
            {
                key: "makeLoose",
                value: function makeLoose() {
                    var name2 = _BaseDtos.getName$();
                    _BaseDtos.loose[name2] = !0;
                }
            }
        ]), _BaseDtos;
    }();
    __name(_BaseDtos, "BaseDtos"), __publicField(_BaseDtos, "loose", {});
    var BaseDtos = _BaseDtos, BaseDtos_default = BaseDtos;
    Ludex.Dtos = {
        Base: BaseDtos_default
    }, init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Plugins = function() {
        function _Plugins(codex2) {
            _class_call_check(this, _Plugins), _define_property(this, "codex", void 0), _define_property(this, "plugins$", void 0), this.codex = codex2, this.plugins$ = {};
        }
        return _create_class(_Plugins, [
            {
                key: "install",
                value: function install(name2, plugin, mapping, property) {
                    if ("function" != typeof plugin) return console.warn("Plugin install:", "".concat(name2, " plugin is disabled (").concat(property, ")")), !1;
                    var pluginInstance = new plugin(this.codex);
                    return this.plugins$[name2] = pluginInstance, mapping && Object.defineProperty(this.codex, property, {
                        get: __name(function() {
                            return pluginInstance;
                        }, "get")
                    }), pluginInstance.init(), console.debug("Plugin install:", "".concat(name2, " plugin is installed (").concat(property, ")")), !0;
                }
            },
            {
                key: "get",
                value: function get(name2) {
                    return this.plugins$[name2];
                }
            }
        ]), _Plugins;
    }();
    __name(_Plugins, "Plugins");
    var Plugins = _Plugins, plugins_default = Plugins;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _BasePlugin = function() {
        function _BasePlugin(codex2) {
            _class_call_check(this, _BasePlugin), _define_property(this, "codex", void 0), this.codex = codex2;
        }
        return _create_class(_BasePlugin, [
            {
                key: "init",
                value: function init() {}
            }
        ]), _BasePlugin;
    }();
    __name(_BasePlugin, "BasePlugin");
    var BasePlugin = _BasePlugin, base_default = BasePlugin, _Game = function() {
        function _Game() {
            _class_call_check(this, _Game), _define_property(this, "codex", void 0), _define_property(this, "plugins", void 0), _define_property(this, "ads", void 0), _define_property(this, "auth", void 0), _define_property(this, "audio", void 0), _define_property(this, "event", void 0), _define_property(this, "match", void 0), _define_property(this, "player", void 0), _define_property(this, "profile", void 0), _define_property(this, "context", void 0), _define_property(this, "storage", void 0), _define_property(this, "language", void 0), _define_property(this, "missions", void 0), _define_property(this, "analytics", void 0), _define_property(this, "visibility", void 0), _define_property(this, "leaderboard", void 0), _define_property(this, "dailyRewards", void 0), _define_property(this, "remoteConfig", void 0), _define_property(this, "frameCapture", void 0), _define_property(this, "firebase", void 0), _define_property(this, "monitorError", void 0), _define_property(this, "adaptivePerformance", void 0), _define_property(this, "inputRecorder", void 0), _define_property(this, "console", void 0), _define_property(this, "profiler", void 0), _define_property(this, "canvasRecorder", void 0), this.codex = this, this.plugins = new plugins_default(this.codex);
        }
        return _create_class(_Game, [
            {
                key: "boot",
                value: function boot() {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            return [
                                2
                            ];
                        });
                    })();
                }
            },
            {
                key: "start",
                value: function start() {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            return [
                                2
                            ];
                        });
                    })();
                }
            },
            {
                key: "getBuildVersion",
                value: function getBuildVersion() {
                    return 0;
                }
            }
        ]), _Game;
    }();
    __name(_Game, "Game");
    var Game = _Game;
    window.Ludex.Plugins = {
        BasePlugin: base_default
    };
    var codex_default = Game;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _BadRequest = function(Error1) {
        function _BadRequest(message, payload) {
            var _this;
            return _class_call_check(this, _BadRequest), _define_property(_this = _call_super(this, _BadRequest, [
                message
            ]), "payload", void 0), _this.name = "BadRequest", _this.message = null != message ? message : "This request is bad", _this.payload = payload, _this;
        }
        return _inherits(_BadRequest, Error1), _BadRequest;
    }(_wrap_native_super(Error));
    __name(_BadRequest, "BadRequest");
    var BadRequest = _BadRequest, BadRequest_default = BadRequest;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _RequestTimeout = function(Error1) {
        function _RequestTimeout(message, payload) {
            var _this;
            return _class_call_check(this, _RequestTimeout), _define_property(_this = _call_super(this, _RequestTimeout, [
                message
            ]), "payload", void 0), _this.name = "RequestTimeout", _this.message = null != message ? message : "This request is timeout", _this.payload = payload, _this;
        }
        return _inherits(_RequestTimeout, Error1), _RequestTimeout;
    }(_wrap_native_super(Error));
    __name(_RequestTimeout, "RequestTimeout");
    var RequestTimeout = _RequestTimeout, RequestTimeout_default = RequestTimeout, _Ludex_Utils1 = Ludex.Utils, V2 = _Ludex_Utils1.Valid, T = _Ludex_Utils1.Time, _Ludex_Configs = Ludex.Configs, AppId = _Ludex_Configs.AppId, Network = _Ludex_Configs.Network, validateResponse = __name(function(response) {
        if (!response.ok) throw new BadRequest_default(void 0, {
            response: response
        });
    }, "validateResponse"), defaultConfig = __name(function() {
        var _codex_auth, token = null == (_codex_auth = codex.auth) ? void 0 : _codex_auth.getToken();
        return {
            token: token,
            timeout: Network.Timeout,
            headers: {
                Authorization: "Bearer ".concat(token),
                "Content-Type": "application/json"
            }
        };
    }, "defaultConfig"), requester = __name(function(host, url, config, data) {
        return function() {
            return _async_to_generator(function() {
                var fullUrl, controller, timeout, response, error;
                return _ts_generator(this, function(_state) {
                    switch(_state.label){
                        case 0:
                            if (_state.trys.push([
                                0,
                                3,
                                ,
                                4
                            ]), !AppId) throw new BadRequest_default("AppId is not defined");
                            return fullUrl = "".concat(host, "/apps/").concat(AppId, "/").concat(url), config.signal = (controller = new AbortController()).signal, timeout = setTimeout(function() {
                                controller.abort();
                            }, config.timeout), V2.isObject(data) && (config.body = JSON.stringify(data)), [
                                4,
                                fetch(fullUrl, config)
                            ];
                        case 1:
                            return response = _state.sent(), clearTimeout(timeout), validateResponse(response), [
                                4,
                                response.json()
                            ];
                        case 2:
                            return [
                                2,
                                _state.sent() || {}
                            ];
                        case 3:
                            if (_instanceof(error = _state.sent(), BadRequest_default)) return [
                                2,
                                null
                            ];
                            if (_instanceof(error, Object) && "name" in error && "AbortError" === error.name) throw new RequestTimeout_default();
                            throw error;
                        case 4:
                            return [
                                2
                            ];
                    }
                });
            })();
        };
    }, "requester"), handleRequest = __name(function(asyncFunc, retry) {
        return _async_to_generator(function() {
            var error, e;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        return _state.trys.push([
                            0,
                            1,
                            ,
                            7
                        ]), [
                            2,
                            asyncFunc()
                        ];
                    case 1:
                        if (!(_instanceof(error = _state.sent(), RequestTimeout_default) && retry > 0)) return [
                            3,
                            6
                        ];
                        _state.label = 2;
                    case 2:
                        return _state.trys.push([
                            2,
                            5,
                            ,
                            6
                        ]), [
                            4,
                            T.sleepAsync(600)
                        ];
                    case 3:
                        return _state.sent(), [
                            4,
                            handleRequest(asyncFunc, retry - 1)
                        ];
                    case 4:
                        return [
                            2,
                            _state.sent()
                        ];
                    case 5:
                        return e = _state.sent(), [
                            2,
                            {}
                        ];
                    case 6:
                        if (_instanceof(error, RequestTimeout_default)) return [
                            2,
                            {}
                        ];
                        return console.warn("Request error", error), [
                            2,
                            {}
                        ];
                    case 7:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "handleRequest"), get = __name(function(url, configs, host) {
        var retry = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : Network.Retries;
        return _async_to_generator(function() {
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        return _state.trys.push([
                            0,
                            2,
                            ,
                            3
                        ]), [
                            4,
                            handleRequest(requester(host, url, __spreadProps(__spreadValues(__spreadValues({}, defaultConfig()), configs), {
                                method: "GET"
                            })), retry)
                        ];
                    case 1:
                        return [
                            2,
                            _state.sent()
                        ];
                    case 2:
                        return console.warn("Get error", _state.sent()), [
                            2,
                            {}
                        ];
                    case 3:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "get"), post = __name(function(url, data, configs, host) {
        var retry = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : Network.Retries;
        return _async_to_generator(function() {
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        return _state.trys.push([
                            0,
                            2,
                            ,
                            3
                        ]), [
                            4,
                            handleRequest(requester(host, url, __spreadProps(__spreadValues(__spreadValues({}, defaultConfig()), configs), {
                                method: "POST"
                            }), data), retry)
                        ];
                    case 1:
                        return [
                            2,
                            _state.sent()
                        ];
                    case 2:
                        return console.warn("Post error", _state.sent()), [
                            2,
                            {}
                        ];
                    case 3:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "post"), _Ludex_Configs1 = Ludex.Configs, ApiUrl = _Ludex_Configs1.Notification.ApiUrl, _Ludex_Utils2 = Ludex.Utils, O2 = _Ludex_Utils2.Object, updatePlayerProfileNotificationAsync = __name(function(payload) {
        return _async_to_generator(function() {
            var playerId2;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        if (!O2.hasOwn(payload, "playerId")) throw Error("Missing playerId");
                        return playerId2 = payload.playerId, [
                            4,
                            post("players/".concat(playerId2), payload, {}, ApiUrl, 10)
                        ];
                    case 1:
                        return _state.sent(), [
                            2
                        ];
                }
            });
        })();
    }, "updatePlayerProfileNotificationAsync");
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var PlayerDataKeys = {
        score: "score",
        settings: "settings",
        isFirstLogin: "isFirstLogin",
        gameData: "gameData",
        missionsData: "missionsData",
        notificationData: "notificationData",
        dailyRewardedData: "dailyRewardedData",
        lastCallSwitchGame: "lastCallSwitchGame",
        remoteConfig: "remoteConfig"
    }, PlayerDataKeys_default = PlayerDataKeys;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var initState = {
        ASID: null,
        playerId: "0000",
        name: "Guest",
        photo: "",
        locale: "en_US",
        connectedPlayers: {},
        data: {
            score: 0,
            isFirstLogin: !0,
            settings: {
                sound: !0,
                music: !0,
                vibrate: !0,
                language: "en"
            },
            gameData: {
                coins: 0,
                level: 1
            },
            notificationData: {
                D1: {
                    arrivalDate: 0
                },
                D2: {
                    arrivalDate: 0
                },
                D3: {
                    arrivalDate: 0
                },
                D4: {
                    arrivalDate: 0
                },
                D5: {
                    arrivalDate: 0
                },
                D6: {
                    arrivalDate: 0
                },
                D7: {
                    arrivalDate: 0
                }
            },
            missionsData: {
                process: {}
            },
            dailyRewardedData: {
                logDays: [],
                firstReward: 0,
                lastReward: 0
            },
            lastCallSwitchGame: 0
        }
    }, state_default = initState, _Ludex_Utils3 = Ludex.Utils, V3 = _Ludex_Utils3.Valid, playerId = state_default.playerId, name = state_default.name, photo = state_default.photo, locale = state_default.locale, MESSAGE_INVALID2 = "is invalid", _PlayerInfoDtos = function(BaseDtos_default) {
        function _PlayerInfoDtos() {
            return _class_call_check(this, _PlayerInfoDtos), _call_super(this, _PlayerInfoDtos, arguments);
        }
        return _inherits(_PlayerInfoDtos, BaseDtos_default), _create_class(_PlayerInfoDtos, [
            {
                key: "setupData$",
                value: function setupData$(data) {
                    this.lazySetupData$(data);
                }
            },
            {
                key: "validateStructure$",
                value: function validateStructure$(data) {
                    this.lazyValidateStructure$(data);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(data) {
                    this.lazyValidateData$(data);
                }
            },
            {
                key: "validateId",
                value: function validateId(_id) {
                    V3.isString(_id) && _id || this.exception$("_id", MESSAGE_INVALID2);
                }
            },
            {
                key: "validatePlayerId",
                value: function validatePlayerId(playerId2) {
                    V3.isString(playerId2) && playerId2 || this.exception$("playerId", MESSAGE_INVALID2);
                }
            },
            {
                key: "validateName",
                value: function validateName(name2) {
                    V3.isString(name2) && name2 || this.exception$("name", MESSAGE_INVALID2);
                }
            },
            {
                key: "validatePhoto",
                value: function validatePhoto(photo2) {
                    V3.isString(photo2) || this.exception$("photo", MESSAGE_INVALID2);
                }
            },
            {
                key: "validateLocale",
                value: function validateLocale(locale2) {
                    V3.isString(locale2) && locale2 || this.exception$("locale", MESSAGE_INVALID2);
                }
            },
            {
                key: "toObject",
                value: function toObject() {
                    return _get(_get_prototype_of(_PlayerInfoDtos.prototype), "toObject", this).call(this);
                }
            }
        ]), _PlayerInfoDtos;
    }(BaseDtos_default);
    __name(_PlayerInfoDtos, "PlayerInfoDtos");
    var PlayerInfoDtos = _PlayerInfoDtos;
    PlayerInfoDtos.addDefaults({
        playerId: playerId,
        name: name,
        photo: photo,
        locale: locale
    });
    var PlayerInfo_default = PlayerInfoDtos, SampleOpponent = new PlayerInfo_default({
        playerId: "10",
        name: "Your Friend"
    }).toObject(), SampleOpponent_default = SampleOpponent;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _ACreateMatchFailed = function(Error1) {
        function _ACreateMatchFailed(message) {
            var _this;
            return _class_call_check(this, _ACreateMatchFailed), _define_property(_this = _call_super(this, _ACreateMatchFailed, [
                message
            ]), "code", void 0), _this.code = "CREATE_MATCH_FAILED", _this;
        }
        return _inherits(_ACreateMatchFailed, Error1), _ACreateMatchFailed;
    }(_wrap_native_super(Error));
    __name(_ACreateMatchFailed, "ACreateMatchFailed");
    var ACreateMatchFailed = _ACreateMatchFailed, ACreateMatchFailed_default = ACreateMatchFailed, _PlayerIdNotValid = function(ACreateMatchFailed_default) {
        function _PlayerIdNotValid(message) {
            var _this;
            return _class_call_check(this, _PlayerIdNotValid), (_this = _call_super(this, _PlayerIdNotValid, [
                message
            ])).name = "PlayerIdNotValid", _this.message = null != message ? message : "Player id is not valid", _this;
        }
        return _inherits(_PlayerIdNotValid, ACreateMatchFailed_default), _PlayerIdNotValid;
    }(ACreateMatchFailed_default);
    __name(_PlayerIdNotValid, "PlayerIdNotValid");
    var PlayerIdNotValid = _PlayerIdNotValid, PlayerIdNotValid_default = PlayerIdNotValid, Dtos = Ludex.Dtos, _Ludex_Utils4 = Ludex.Utils, A = _Ludex_Utils4.Array, O3 = _Ludex_Utils4.Object, J2 = _Ludex_Utils4.Json, V4 = _Ludex_Utils4.Valid, Events = Ludex.Events, _Ludex_Configs2 = Ludex.Configs, Context2 = _Ludex_Configs2.Context, Player2 = _Ludex_Configs2.Player, _StateInitiator = function _StateInitiator(codex2) {
        var _this = this;
        _class_call_check(this, _StateInitiator), _define_property(this, "codex$", void 0), _define_property(this, "initContext", __name(function() {
            if (Context2.Enabled) {
                var _GameSDK_context_getID, rawData = {
                    contextId: null != (_GameSDK_context_getID = GameSDK.context.getID()) ? _GameSDK_context_getID : "",
                    contextType: GameSDK.context.getType(),
                    entryPointData: GameSDK.getEntryPointData()
                }, context = new Dtos.Context.Info(rawData), _context_toObject = context.toObject(), contextId2 = _context_toObject.contextId, contextType2 = _context_toObject.contextType, entryPointData2 = _context_toObject.entryPointData;
                console.debug("contextInfo", J2.clone(context)), _this.codex$.context.receiveContext(contextId2, contextType2, entryPointData2);
            }
        }, "initContext")), _define_property(this, "initPlayer", __name(function() {
            return _async_to_generator(function() {
                var player, playerInfo, dataKeys, rawData, playerData;
                return _ts_generator(this, function(_state) {
                    switch(_state.label){
                        case 0:
                            if (_state.trys.push([
                                0,
                                2,
                                3,
                                4
                            ]), !Player2.Enabled) return [
                                2
                            ];
                            return player = this.codex$.player, playerInfo = this.getPlayerInfo$(), console.debug("playerInfo", J2.clone(playerInfo)), console.debug("dataKeys", dataKeys = A.unique(O3.vals(PlayerDataKeys_default))), [
                                4,
                                GameSDK.player.getDataAsync(dataKeys)
                            ];
                        case 1:
                            return rawData = _state.sent(), console.debug("rawData", J2.clone(rawData)), playerData = new Dtos.Player.Data(rawData).toObject(), console.debug("playerData", J2.clone(playerData)), player.receiveData(playerInfo, playerData), [
                                3,
                                4
                            ];
                        case 2:
                            return console.warn("StateInitiator.initPlayer", _state.sent()), [
                                3,
                                4
                            ];
                        case 3:
                            return this.codex$.event.emit(Events.PLAYER_INFO_LOADED), [
                                7
                            ];
                        case 4:
                            return [
                                2
                            ];
                    }
                });
            }).call(_this);
        }, "initPlayer")), _define_property(this, "getPlayerInfo$", __name(function() {
            try {
                var playerId2 = GameSDK.player.getID(), playerName = GameSDK.player.getName(), playerPhoto = GameSDK.player.getPhoto(), playerLocale = GameSDK.getLocale();
                if (!V4.isString(playerId2)) throw new PlayerIdNotValid_default();
                return V4.isString(playerName) || (playerName = "You"), V4.isString(playerLocale) && playerLocale || (playerLocale = "en"), new Dtos.Player.Info({
                    playerId: playerId2,
                    name: playerName,
                    photo: playerPhoto,
                    locale: playerLocale
                }).toObject();
            } catch (error) {
                return console.warn("StateInitiator.getPlayerInfo", error), SampleOpponent_default;
            }
        }, "getPlayerInfo$")), this.codex$ = codex2;
    };
    __name(_StateInitiator, "StateInitiator");
    var StateInitiator = _StateInitiator, StateInitiator_default = StateInitiator;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var AdStatus = function(AdStatus2) {
        return AdStatus2.IDLE = "idle", AdStatus2.LOADING = "loading", AdStatus2.FILLED = "filled", AdStatus2.SHOWING = "showing", AdStatus2;
    }(AdStatus || {}), AdsStatus_default = AdStatus;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var Types = function(Types3) {
        return Types3.BANNER = "banner", Types3.INTERSTITIAL = "interstitial", Types3.REWARDED_VIDEO = "rewarded_video", Types3.REWARDED_INTERSTITIAL = "rewarded_interstitial", Types3;
    }(Types || {}), AdsTypes_default = Types;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _AdError = function(Error1) {
        function _AdError(code, message) {
            var _this;
            return _class_call_check(this, _AdError), _define_property(_this = _call_super(this, _AdError, [
                message
            ]), "code", void 0), _this.code = code, _this.message = message, _this;
        }
        return _inherits(_AdError, Error1), _AdError;
    }(_wrap_native_super(Error));
    __name(_AdError, "AdError");
    var AdError = _AdError, AdError_default = AdError;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _BaseInstance = function() {
        function _BaseInstance(type, placementId) {
            _class_call_check(this, _BaseInstance), _define_property(this, "type", void 0), _define_property(this, "service", void 0), _define_property(this, "placementId", void 0), _define_property(this, "status$", void 0), this.type = type, this.status$ = AdsStatus_default.IDLE, this.placementId = placementId;
        }
        return _create_class(_BaseInstance, [
            {
                key: "setStatus",
                value: function setStatus(status) {
                    this.status$ !== status && (this.status$ = status);
                }
            },
            {
                key: "status",
                get: function get() {
                    return this.status$;
                }
            },
            {
                key: "exception$",
                value: function exception$(message) {
                    throw new AdError_default("AD_INSTANCE_ERROR", message);
                }
            }
        ]), _BaseInstance;
    }();
    __name(_BaseInstance, "BaseInstance");
    var BaseInstance = _BaseInstance, BaseInstance_default = BaseInstance, _AdInstance2 = function(BaseInstance_default) {
        function _AdInstance2() {
            return _class_call_check(this, _AdInstance2), _call_super(this, _AdInstance2, arguments);
        }
        return _inherits(_AdInstance2, BaseInstance_default), _create_class(_AdInstance2, [
            {
                key: "loadAsync",
                value: function loadAsync() {
                    this.exception$("This method is not implemented");
                }
            },
            {
                key: "showAsync",
                value: function showAsync() {
                    this.exception$("This method is not implemented");
                }
            },
            {
                key: "hideAsync",
                value: function hideAsync() {
                    this.exception$("Unsupported method");
                }
            }
        ]), _AdInstance2;
    }(BaseInstance_default);
    __name(_AdInstance2, "AdInstance");
    var AdInstance2 = _AdInstance2, AdInstance_default2 = AdInstance2;
    Ludex.Plugins.Ads = {
        Types: AdsTypes_default,
        Status: AdsStatus_default,
        AdError: AdError_default,
        AdInstance: AdInstance_default2
    };
    var _Ludex_Utils5 = Ludex.Utils, A2 = _Ludex_Utils5.Array, O4 = _Ludex_Utils5.Object, F = _Ludex_Utils5.Function, D = _Ludex_Utils5.Device, _AdsPlugin = function(_Ludex_Plugins_BasePlugin) {
        function _AdsPlugin() {
            var _this;
            return _class_call_check(this, _AdsPlugin), _this = _call_super(this, _AdsPlugin, arguments), _define_property(_this, "enabled", void 0), _define_property(_this, "config$", void 0), _define_property(_this, "deviceOS$", void 0), _define_property(_this, "lastCallAdShownTime$", void 0), _define_property(_this, "isAdFullSizeShowed$", void 0), _define_property(_this, "ads$", {}), _define_property(_this, "safeAreaBottom$", void 0), _define_property(_this, "degradationTracking$", {
                failedAttempts: 0,
                lastSuccessTime: 0
            }), _this;
        }
        return _inherits(_AdsPlugin, _Ludex_Plugins_BasePlugin), _create_class(_AdsPlugin, [
            {
                key: "getAdsInstances",
                value: function getAdsInstances() {
                    return this.ads$;
                }
            },
            {
                key: "getDeviceOS",
                value: function getDeviceOS() {
                    return this.deviceOS$;
                }
            },
            {
                key: "getDegradationTracking",
                value: function getDegradationTracking() {
                    return this.degradationTracking$;
                }
            },
            {
                key: "getLastCallAdShownTime",
                value: function getLastCallAdShownTime() {
                    return this.lastCallAdShownTime$;
                }
            },
            {
                key: "init",
                value: function init() {
                    var _obj, now = Date.now() / 1e3;
                    this.deviceOS$ = this.getDeviceFromPlatform$(), this.lastCallAdShownTime$ = (_define_property(_obj = {}, AdsTypes_default.BANNER, now), _define_property(_obj, AdsTypes_default.INTERSTITIAL, now), _define_property(_obj, AdsTypes_default.REWARDED_VIDEO, now), _define_property(_obj, AdsTypes_default.REWARDED_INTERSTITIAL, now), _obj), this.isAdFullSizeShowed$ = !1, this.resetDegradationTracking$(), this.safeAreaBottom$ = D.getSafeAreaBottom();
                }
            },
            {
                key: "getDeviceFromPlatform$",
                value: function getDeviceFromPlatform$() {
                    var platform = GameSDK.getPlatform();
                    return "IOS" === platform ? "ios" : "WEB" === platform ? "desktop" : "ANDROID" === platform ? "android" : D.isIOS() ? "ios" : D.isAndroid() ? "android" : D.isDesktop() ? "desktop" : "default";
                }
            },
            {
                key: "configure",
                value: function configure(config) {
                    this.config$ = config, this.enabled = this.config$.Enabled;
                }
            },
            {
                key: "checkEnabled$",
                value: function checkEnabled$() {
                    if (!this.enabled) throw new AdError_default("ADS_NOT_ENABLED", "Ads is't enabled");
                }
            },
            {
                key: "isAdFullSizeShowing",
                value: function isAdFullSizeShowing() {
                    return this.isAdFullSizeShowed$;
                }
            },
            {
                key: "setAdInstance",
                value: function setAdInstance(type, placementId, adInstance, deviceOS) {
                    var _this = this;
                    if (deviceOS === this.deviceOS$ || "default" === deviceOS) {
                        var id = "".concat(type, "-").concat(placementId, "-").concat(deviceOS);
                        if (this.ads$[id]) return void console.warn("AdsPlugin: Ad instance with placementId ".concat(placementId, " already exists"));
                        var config = this.findAdConfig$(type, deviceOS, placementId);
                        if (!config) return void console.warn("AdsPlugin: No config found for ".concat(type, " ").concat(placementId, " on ").concat(deviceOS));
                        var ads = this.getAdsByType(type);
                        if (!A2.search(ads, function(ad) {
                            var _ad_config = ad.config, AdService = _ad_config.AdService, adDeviceOS = _ad_config.DeviceOS;
                            return AdService === config.AdService && adDeviceOS !== deviceOS && adDeviceOS === _this.deviceOS$;
                        })) try {
                            var instance = new adInstance(type, placementId);
                            this.ads$[id] = {
                                type: type,
                                config: config,
                                deviceOS: deviceOS,
                                placementId: placementId,
                                interval: null,
                                instance: instance
                            };
                        } catch (error) {
                            console.warn("AdsPlugin: Failed to create ad instance for ".concat(type, " ").concat(placementId), error);
                            return;
                        }
                    }
                }
            },
            {
                key: "loadAdAsync",
                value: function loadAdAsync(type, placementId) {
                    return _async_to_generator(function() {
                        var event, payload, ad, error;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    this.checkEnabled$(), event = this.codex.event, payload = {
                                        type: type,
                                        placementId: placementId
                                    }, ad = this.getAd(type, placementId), payload.placementId = ad.placementId, _state.label = 1;
                                case 1:
                                    return _state.trys.push([
                                        1,
                                        3,
                                        ,
                                        4
                                    ]), event.emit(Ludex.Events.AD_LOADING, payload), [
                                        4,
                                        ad.instance.loadAsync()
                                    ];
                                case 2:
                                    return _state.sent(), event.emit(Ludex.Events.AD_LOADED, payload), [
                                        3,
                                        4
                                    ];
                                case 3:
                                    throw error = _state.sent(), event.emit(Ludex.Events.AD_LOAD_FAILED, payload), this.degradationTracking$.failedAttempts++, error;
                                case 4:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "showAdAsync",
                value: function showAdAsync(type, placementId) {
                    return _async_to_generator(function() {
                        var event, payload, ad, error;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (this.checkEnabled$(), !this.canShowAd(type, placementId)) return console.warn("AdsPlugin: This ad ".concat(type, " is not ready to be shown")), [
                                        2
                                    ];
                                    event = this.codex.event, payload = {
                                        type: type,
                                        placementId: placementId
                                    }, ad = this.getAd(type, placementId), payload.placementId = ad.placementId, _state.label = 1;
                                case 1:
                                    return _state.trys.push([
                                        1,
                                        3,
                                        4,
                                        5
                                    ]), event.emit(Ludex.Events.AD_SHOWING, payload), this.isAdFullSizeShowed$ = !0, [
                                        4,
                                        ad.instance.showAsync()
                                    ];
                                case 2:
                                    return _state.sent(), event.emit(Ludex.Events.AD_SHOW, payload), this.resetDegradationTracking$(), this.lastCallAdShownTime$[type] = Date.now() / 1e3, [
                                        3,
                                        5
                                    ];
                                case 3:
                                    throw error = _state.sent(), event.emit(Ludex.Events.AD_SHOW_FAILED, payload), this.degradationTracking$.failedAttempts++, error;
                                case 4:
                                    return event.emit(Ludex.Events.AD_CLOSED, payload), this.isAdFullSizeShowed$ = !1, [
                                        7
                                    ];
                                case 5:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getAdStatus",
                value: function getAdStatus(type, placementId) {
                    this.checkEnabled$();
                    try {
                        return this.getAd(type, placementId).instance.status;
                    } catch (error) {
                        return console.warn("Error getting ad status:", error), !1;
                    }
                }
            },
            {
                key: "getAd",
                value: function getAd(type, placementId) {
                    var ad = null;
                    if (!(ad = placementId ? this.getAdByPlacementId(placementId, type) : this.getPriorityAdByType$(type))) throw new AdError_default("AD_INSTANCE_NOT_INITIATED", "The instance ads not yet initiated");
                    return ad;
                }
            },
            {
                key: "getAdsByType",
                value: function getAdsByType(type) {
                    return O4.vals(this.ads$).filter(function(ad) {
                        return ad.type === type;
                    });
                }
            },
            {
                key: "getAdByPlacementId",
                value: function getAdByPlacementId(placementId, type) {
                    var ads = O4.vals(this.ads$);
                    return A2.search(ads, function(ad2) {
                        return ad2.placementId === placementId && (!type || ad2.type === type);
                    }) || null;
                }
            },
            {
                key: "getPriorityAdByType$",
                value: function getPriorityAdByType$(type) {
                    var ads = this.getAdsByType(type);
                    return ads.length > 0 ? ads[0] : null;
                }
            },
            {
                key: "canShowAd",
                value: function canShowAd(type, placementId) {
                    return this.canShowAdByTime$(type, placementId);
                }
            },
            {
                key: "canShowAdByTime$",
                value: function canShowAdByTime$(type, placementId) {
                    try {
                        var ad, now = Date.now() / 1e3;
                        if (placementId) ad = this.getAd(type, placementId);
                        else {
                            var priorityAd = this.getPriorityAdByType$(type);
                            if (!priorityAd) return !1;
                            ad = priorityAd;
                        }
                        var adConfig = ad.config, _adConfig_SecondsBetweenAds = adConfig.SecondsBetweenAds, SecondsBetweenAds = void 0 === _adConfig_SecondsBetweenAds ? 0 : _adConfig_SecondsBetweenAds, _adConfig_SecondsFirstTime = adConfig.SecondsFirstTime, SecondsFirstTime = void 0 === _adConfig_SecondsFirstTime ? 0 : _adConfig_SecondsFirstTime, period = now - this.lastCallAdShownTime$[type], canShowByTime = period > SecondsBetweenAds, canShowFirstTime = period > SecondsFirstTime;
                        if (this.lastCallAdShownTime$[type] > 0) return canShowByTime;
                        return canShowFirstTime;
                    } catch (error) {
                        return console.warn("Error while checking can show ".concat(type, " ad by time"), error), !1;
                    }
                }
            },
            {
                key: "canShowBannerAd",
                value: function canShowBannerAd(placementId) {
                    try {
                        return !!this.getAdByPlacementId(placementId, AdsTypes_default.BANNER);
                    } catch (error) {
                        return console.warn("Error while checking canShowBannerAd", error), !1;
                    }
                }
            },
            {
                key: "showBannerAdAsync",
                value: function showBannerAdAsync(placementId) {
                    var autoRefresh = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
                    return _async_to_generator(function() {
                        var ad;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (this.checkEnabled$(), ad = this.getAd(AdsTypes_default.BANNER, placementId), !this.canShowBannerAd(ad.placementId)) throw Error("Banner ad can not be shown");
                                    if (this.cleanBannerReloadTimer$(ad), !autoRefresh) return [
                                        3,
                                        2
                                    ];
                                    return [
                                        4,
                                        this.showBannerAdWithSchedule$(ad)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        4
                                    ];
                                case 2:
                                    return [
                                        4,
                                        this.showBannerAdOnce$(ad)
                                    ];
                                case 3:
                                    _state.sent(), _state.label = 4;
                                case 4:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "showBannerAdOnce$",
                value: function showBannerAdOnce$(ad) {
                    return _async_to_generator(function() {
                        var event, payload, error;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (event = this.codex.event, this.isAdFullSizeShowing()) return console.warn("Show banner ad skipped because ad full size is showing"), [
                                        2
                                    ];
                                    payload = {
                                        type: AdsTypes_default.BANNER,
                                        placementId: ad.placementId
                                    }, _state.label = 1;
                                case 1:
                                    return _state.trys.push([
                                        1,
                                        4,
                                        ,
                                        9
                                    ]), [
                                        4,
                                        ad.instance.loadAsync()
                                    ];
                                case 2:
                                    return _state.sent(), event.emit(Ludex.Events.AD_SHOWING, payload), [
                                        4,
                                        ad.instance.showAsync()
                                    ];
                                case 3:
                                    return _state.sent(), event.emit(Ludex.Events.AD_SHOW, payload), this.lastCallAdShownTime$[AdsTypes_default.BANNER] = Date.now() / 1e3, [
                                        3,
                                        9
                                    ];
                                case 4:
                                    if (error = _state.sent(), "AD_NOT_FILLED" === F.toError(error).code) return [
                                        3,
                                        8
                                    ];
                                    _state.label = 5;
                                case 5:
                                    return _state.trys.push([
                                        5,
                                        7,
                                        ,
                                        8
                                    ]), [
                                        4,
                                        ad.instance.hideAsync()
                                    ];
                                case 6:
                                    return _state.sent(), [
                                        3,
                                        8
                                    ];
                                case 7:
                                    return console.warn("Failed to call ad.instance.hideAsync after show banner ad failed", _state.sent()), [
                                        3,
                                        8
                                    ];
                                case 8:
                                    return event.emit(Ludex.Events.AD_SHOW_FAILED, payload), [
                                        3,
                                        9
                                    ];
                                case 9:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "showBannerAdWithSchedule$",
                value: function showBannerAdWithSchedule$(ad) {
                    return _async_to_generator(function() {
                        var _this, _bannerConfig_SecondsReload, SecondsReload, cb;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _this = this, [
                                        4,
                                        this.showBannerAdOnce$(ad)
                                    ];
                                case 1:
                                    if (_state.sent(), (SecondsReload = void 0 === (_bannerConfig_SecondsReload = ad.config.SecondsReload) ? 0 : _bannerConfig_SecondsReload) <= 0 || !SecondsReload) return console.warn("Banner ad reload time is less than 0"), [
                                        2
                                    ];
                                    return cb = __name(function() {
                                        return _this.showBannerAdWithSchedule$(ad);
                                    }, "cb"), ad.interval = setTimeout(cb, 1e3 * SecondsReload), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "hideBannerAdAsync",
                value: function hideBannerAdAsync(placementId) {
                    return _async_to_generator(function() {
                        var ad;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return this.checkEnabled$(), ad = this.getAd(AdsTypes_default.BANNER, placementId), this.cleanBannerReloadTimer$(ad), [
                                        4,
                                        ad.instance.hideAsync()
                                    ];
                                case 1:
                                    return _state.sent(), this.codex.event.emit(Ludex.Events.AD_CLOSED, {
                                        type: AdsTypes_default.BANNER,
                                        placementId: placementId
                                    }), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "cleanBannerReloadTimer$",
                value: function cleanBannerReloadTimer$(ad) {
                    try {
                        var interval = ad.interval;
                        if (!interval) return;
                        clearInterval(interval);
                    } catch (error) {
                        console.warn("Error while cleaning banner reload timer", error);
                    }
                }
            },
            {
                key: "findAdConfig$",
                value: function findAdConfig$(type, device, placementId) {
                    var configs;
                    switch(type){
                        case AdsTypes_default.BANNER:
                            configs = this.config$.BannerDisplayAdOptions;
                            break;
                        case AdsTypes_default.INTERSTITIAL:
                            configs = this.config$.InterstitialAdOptions;
                            break;
                        case AdsTypes_default.REWARDED_VIDEO:
                            configs = this.config$.RewardedVideoAdOptions;
                            break;
                        case AdsTypes_default.REWARDED_INTERSTITIAL:
                            configs = this.config$.RewardedInterstitialAdOptions;
                            break;
                        default:
                            return null;
                    }
                    return A2.search(configs, function(config2) {
                        var PlacementId = config2.PlacementId, DeviceOS = config2.DeviceOS;
                        return PlacementId === placementId && (DeviceOS === device || "default" === DeviceOS);
                    }) || null;
                }
            },
            {
                key: "getBannerConfig",
                value: function getBannerConfig(placementId) {
                    var ad = this.getAdByPlacementId(placementId, AdsTypes_default.BANNER);
                    if (!ad) throw Error("Banner ad instance with placementId ".concat(placementId, " not found"));
                    return ad.config;
                }
            },
            {
                key: "getBannerHeight",
                value: function getBannerHeight(placementId, gameZoom) {
                    var includeSAB = !(arguments.length > 2) || void 0 === arguments[2] || arguments[2];
                    this.checkEnabled$();
                    var ad = this.getAdByPlacementId(placementId, AdsTypes_default.BANNER);
                    if (!ad) throw Error("Banner ad instance with placementId ".concat(placementId, " not found"));
                    var bannerConfig = ad.config, bannerHeight = GameSDK.getBannerHeight(bannerConfig);
                    return includeSAB ? (this.safeAreaBottom$ <= 0 && (this.safeAreaBottom$ = D.getSafeAreaBottom()), (bannerHeight + this.safeAreaBottom$) * gameZoom) : bannerHeight * gameZoom;
                }
            },
            {
                key: "getSafeAreaBottom",
                value: function getSafeAreaBottom(gameZoom) {
                    return this.safeAreaBottom$ <= 0 && (this.safeAreaBottom$ = D.getSafeAreaBottom()), this.safeAreaBottom$ * gameZoom;
                }
            },
            {
                key: "resetDegradationTracking$",
                value: function resetDegradationTracking$() {
                    this.degradationTracking$ = {
                        failedAttempts: 0,
                        lastSuccessTime: Date.now()
                    };
                }
            },
            {
                key: "isServiceDegraded",
                value: function isServiceDegraded() {
                    var now = Date.now(), _this_config$_DegradationTracking = this.config$.DegradationTracking, MaxFailedAttempts = _this_config$_DegradationTracking.MaxFailedAttempts, ResetTimeMinutes = _this_config$_DegradationTracking.ResetTimeMinutes, _this_degradationTracking$ = this.degradationTracking$, lastSuccessTime = _this_degradationTracking$.lastSuccessTime, failedAttempts = _this_degradationTracking$.failedAttempts;
                    return now - lastSuccessTime > 60 * ResetTimeMinutes * 1e3 && this.resetDegradationTracking$(), failedAttempts >= MaxFailedAttempts;
                }
            }
        ]), _AdsPlugin;
    }(Ludex.Plugins.BasePlugin);
    __name(_AdsPlugin, "AdsPlugin");
    var AdsPlugin = _AdsPlugin, AdsPlugin_default = AdsPlugin, ads_default = AdsPlugin_default;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var AnalyticsEvents = {
        APP_LAUNCH: "app_launch",
        APP_INITIALIZED: "app_initialized",
        ENGINE_READY: "engine_ready",
        LOAD_START: "load_start",
        LOAD_COMPLETE: "load_complete",
        APP_READY: "app_ready",
        PAGE_VIEW: "page_view",
        SCREEN_OPEN: "screen_open",
        BUTTON_CLICK: "button_click",
        TUTORIAL_BEGIN: "tutorial_begin",
        TUTORIAL_STEP: "tutorial_step",
        TUTORIAL_COMPLETE: "tutorial_complete",
        MATCH_START: "match_start",
        MATCH_END: "match_end",
        LEVEL_START: "level_start",
        LEVEL_RESCUE: "level_rescue",
        LEVEL_END: "level_end",
        USE_ITEM: "use_item",
        EARN_ITEM: "earn_item",
        SHARE: "share",
        INVITE: "invite",
        MESSAGE: "message",
        SHORTCUT_CREATE: "shortcut_create",
        SHORTCUT_CREATE_POPUP: "shortcut_create_popup",
        BOT_SUBSCRIBE: "bot_subscribe",
        BOT_SUBSCRIBE_POPUP: "bot_subscribe_popup",
        AD_INIT: "ad_init",
        AD_LOAD: "ad_load",
        AD_LOAD_FAILED: "ad_load_failed",
        AD_SHOWING: "ad_showing",
        AD_SHOW: "ad_show",
        AD_SHOW_FAILED: "ad_show_failed",
        AD_REWARD: "ad_reward",
        NEW_USER: "new_user",
        RETURNING_USER: "returning_user",
        JOIN_GROUP: "join_group",
        TOURNAMENT_START: "tournament_start",
        TOURNAMENT_SHARE: "tournament_share",
        TOURNAMENT_CREATE: "tournament_create",
        TOURNAMENT_POST_SCORE: "tournament_post_score",
        SWITCH_GAME_POPUP: "switch_game_popup",
        SWITCH_GAME: "switch_game"
    }, Events_default = AnalyticsEvents;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _BaseFunnel = function() {
        function _BaseFunnel() {
            _class_call_check(this, _BaseFunnel), _define_property(this, "history$", []), _define_property(this, "missing$", []), _define_property(this, "outOfOrder$", []), _define_property(this, "completed$", !1), _define_property(this, "failed$", !1), _define_property(this, "warned$", []), _define_property(this, "debug$", !1), _define_property(this, "restrict$", !1);
        }
        return _create_class(_BaseFunnel, [
            {
                key: "addEvent",
                value: function addEvent(event, _payload) {
                    this.completed$ || this.failed$ ? this.debugLog$("Skip event:", event) : (this.history$.push(event), this.validateAndUpdate$(event));
                }
            },
            {
                key: "validateAndUpdate$",
                value: function validateAndUpdate$(event) {
                    var validationResult = this.validateFunnelState$();
                    if (validationResult.hasFailed) {
                        this.failed$ = !0, this.logValidationError$();
                        return;
                    }
                    validationResult.hasWarnings && this.handleWarnings$(validationResult.warnings), this.checkFunnelCompletion$(event);
                }
            },
            {
                key: "validateFunnelState$",
                value: function validateFunnelState$() {
                    for(var result3 = {
                        hasFailed: !1,
                        hasWarnings: !1,
                        warnings: []
                    }, requiredSteps = this.getCurrentSteps$().filter(function(step) {
                        return step.required$;
                    }), i = 0; i < requiredSteps.length; i++){
                        var step = requiredSteps[i], stepIndex = this.history$.indexOf(step.name);
                        if (-1 === stepIndex) return this.missing$ = [
                            step.name
                        ], result3.hasFailed = !0, result3;
                        if (i > 0) {
                            var prevStep = requiredSteps[i - 1];
                            if (this.history$.indexOf(prevStep.name) > stepIndex) return this.missing$ = [
                                prevStep.name
                            ], result3.hasFailed = !0, result3;
                        }
                    }
                    var outOfOrderEvents = this.validateDependencies$();
                    return outOfOrderEvents.length > 0 && (result3.hasWarnings = !0, result3.warnings = outOfOrderEvents, this.outOfOrder$ = outOfOrderEvents), result3;
                }
            },
            {
                key: "getCurrentSteps$",
                value: function getCurrentSteps$() {
                    var lastEvent = this.history$[this.history$.length - 1], currentIdx = this.funnelSteps$.findIndex(function(step) {
                        return step.name === lastEvent;
                    });
                    return this.funnelSteps$.slice(0, currentIdx + 1);
                }
            },
            {
                key: "validateDependencies$",
                value: function validateDependencies$() {
                    var _this = this, outOfOrder = [];
                    return this.history$.forEach(function(event, index) {
                        var _step_dependencies$, step = _this.funnelSteps$.find(function(s) {
                            return s.name === event;
                        });
                        if (null == step || null == (_step_dependencies$ = step.dependencies$) ? void 0 : _step_dependencies$.length) {
                            var missingDep = step.dependencies$.find(function(dep) {
                                return !_this.history$.includes(dep) || _this.history$.indexOf(dep) > index;
                            });
                            missingDep && !_this.warned$.includes(event) && (outOfOrder.push({
                                event: event,
                                missingDependency: missingDep
                            }), _this.warned$.push(event));
                        }
                    }), outOfOrder;
                }
            },
            {
                key: "checkFunnelCompletion$",
                value: function checkFunnelCompletion$(event) {
                    var _this = this;
                    event === this.funnelSteps$[this.funnelSteps$.length - 1].name && this.funnelSteps$.filter(function(step) {
                        return step.required$;
                    }).every(function(step) {
                        return _this.history$.includes(step.name);
                    }) && (this.completed$ = !0, this.logCompletion$());
                }
            },
            {
                key: "handleWarnings$",
                value: function handleWarnings$(warnings) {
                    var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = warnings[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                            var warning = _step.value;
                            console.warn(" [".concat(this.constructor.name, "] Event ").concat(warning.event, " is out of order. Missing: ").concat(warning.missingDependency));
                        }
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                }
            },
            {
                key: "logValidationError$",
                value: function logValidationError$() {
                    var name2 = this.constructor.name;
                    if (this.missing$.length && console.error(" [".concat(name2, "] Missing required: ").concat(this.missing$.join(", "))), console.debug(" [".concat(name2, "] History:"), this.history$), this.restrict$) throw Error("[".concat(name2, "] Funnel is required to be completed ! (missing: ").concat(this.missing$.join(", "), ")"));
                }
            },
            {
                key: "logCompletion$",
                value: function logCompletion$() {
                    var name2 = this.constructor.name;
                    this.outOfOrder$.length > 0 ? console.warn(" [".concat(name2, "] Completed with out of order events:"), {
                        history: this.history$,
                        outOfOrder: this.outOfOrder$
                    }) : console.info("\uD83C\uDFAF [".concat(name2, "] Completed"), {
                        history: this.history$
                    });
                }
            },
            {
                key: "debugLog$",
                value: function debugLog$() {
                    for(var _console, _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
                    this.debug$ && (_console = console).debug.apply(_console, [
                        "\uD83D\uDD0D [".concat(this.constructor.name, "]")
                    ].concat(_to_consumable_array(args)));
                }
            },
            {
                key: "isFunnelCompleted",
                value: function isFunnelCompleted() {
                    return this.completed$;
                }
            },
            {
                key: "isFunnelFailed",
                value: function isFunnelFailed() {
                    return this.failed$;
                }
            },
            {
                key: "getEventHistory",
                value: function getEventHistory() {
                    return _to_consumable_array(this.history$);
                }
            },
            {
                key: "getMissingEvents",
                value: function getMissingEvents() {
                    return _to_consumable_array(this.missing$);
                }
            },
            {
                key: "getOutOfOrderEvents",
                value: function getOutOfOrderEvents() {
                    return _to_consumable_array(this.outOfOrder$);
                }
            }
        ]), _BaseFunnel;
    }();
    __name(_BaseFunnel, "BaseFunnel");
    var BaseFunnel = _BaseFunnel, BaseFunnel_default = BaseFunnel, _AdsenseFunnel = function(BaseFunnel_default) {
        function _AdsenseFunnel() {
            var _this;
            return _class_call_check(this, _AdsenseFunnel), _this = _call_super(this, _AdsenseFunnel, arguments), _define_property(_this, "debug$", !1), _define_property(_this, "funnelSteps$", [
                {
                    name: Events_default.AD_INIT,
                    required$: !0,
                    payload$: {
                        service: "adsense"
                    },
                    description$: "Init adsense ad"
                },
                {
                    name: Events_default.AD_LOAD_FAILED,
                    required$: !1,
                    payload$: {
                        service: _this.service
                    },
                    description$: "Platform ad load failed (trigger for adsense)"
                },
                {
                    name: Events_default.AD_LOAD,
                    required$: !0,
                    payload$: {
                        service: "adsense"
                    },
                    description$: "Start loading adsense ad"
                },
                {
                    name: Events_default.AD_LOAD_FAILED,
                    required$: !1,
                    dependencies$: [
                        Events_default.AD_LOAD
                    ],
                    payload$: {
                        service: "adsense"
                    },
                    description$: "Adsense ad load failed"
                },
                {
                    name: Events_default.AD_SHOWING,
                    required$: !0,
                    dependencies$: [
                        Events_default.AD_LOAD
                    ],
                    payload$: {
                        service: "adsense"
                    },
                    description$: "Adsense ad is showing"
                },
                {
                    name: Events_default.AD_SHOW,
                    required$: !1,
                    dependencies$: [
                        Events_default.AD_SHOWING
                    ],
                    payload$: {
                        service: "adsense"
                    },
                    description$: "Adsense ad shown successfully"
                },
                {
                    name: Events_default.AD_SHOW_FAILED,
                    required$: !1,
                    dependencies$: [
                        Events_default.AD_SHOWING
                    ],
                    payload$: {
                        service: "adsense"
                    },
                    description$: "Adsense ad show failed"
                },
                {
                    name: Events_default.AD_LOAD,
                    required$: !1,
                    payload$: {
                        service: "adsense"
                    },
                    description$: "Preload adsense ad"
                }
            ]), _this;
        }
        return _inherits(_AdsenseFunnel, BaseFunnel_default), _create_class(_AdsenseFunnel, [
            {
                key: "service",
                get: function get() {
                    var _ref, _GameSDK;
                    return null != (_ref = null == (_GameSDK = GameSDK) ? void 0 : _GameSDK.getSDKName()) ? _ref : "Ludex";
                }
            },
            {
                key: "addEvent",
                value: function addEvent(event, payload) {
                    var service = (null != payload ? payload : {}).service;
                    service && ("adsense" === service || event === Events_default.AD_LOAD_FAILED && "platform" === service) && _get(_get_prototype_of(_AdsenseFunnel.prototype), "addEvent", this).call(this, event, payload);
                }
            }
        ]), _AdsenseFunnel;
    }(BaseFunnel_default);
    __name(_AdsenseFunnel, "AdsenseFunnel");
    var AdsenseFunnel = _AdsenseFunnel, AdsenseFunnel_default = AdsenseFunnel;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _LudexFunnel = function(BaseFunnel_default) {
        function _LudexFunnel() {
            var _this;
            return _class_call_check(this, _LudexFunnel), _this = _call_super(this, _LudexFunnel, arguments), _define_property(_this, "debug$", !1), _define_property(_this, "restrict$", !1), _define_property(_this, "funnelSteps$", [
                {
                    name: Events_default.APP_LAUNCH,
                    required$: !0,
                    description$: "Application launched"
                },
                {
                    name: Events_default.APP_INITIALIZED,
                    required$: !0,
                    dependencies$: [
                        Events_default.APP_LAUNCH
                    ],
                    description$: "Application initialized"
                },
                {
                    name: Events_default.ENGINE_READY,
                    required$: !0,
                    dependencies$: [
                        Events_default.APP_INITIALIZED
                    ],
                    description$: "Game engine initialized"
                },
                {
                    name: Events_default.LOAD_START,
                    required$: !0,
                    dependencies$: [
                        Events_default.ENGINE_READY
                    ],
                    description$: "Start loading game assets"
                },
                {
                    name: Events_default.LOAD_COMPLETE,
                    required$: !0,
                    dependencies$: [
                        Events_default.LOAD_START
                    ],
                    description$: "Game assets loaded completely"
                },
                {
                    name: Events_default.APP_READY,
                    required$: !0,
                    dependencies$: [
                        Events_default.LOAD_COMPLETE
                    ],
                    description$: "Game is ready to play"
                }
            ]), _this;
        }
        return _inherits(_LudexFunnel, BaseFunnel_default), _LudexFunnel;
    }(BaseFunnel_default);
    __name(_LudexFunnel, "LudexFunnel");
    var LudexFunnel = _LudexFunnel, LudexFunnel_default = LudexFunnel;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _PlatformAdsFunnel = function(BaseFunnel_default) {
        function _PlatformAdsFunnel() {
            var _this;
            return _class_call_check(this, _PlatformAdsFunnel), _this = _call_super(this, _PlatformAdsFunnel, arguments), _define_property(_this, "debug$", !1), _define_property(_this, "funnelSteps$", [
                {
                    name: Events_default.AD_INIT,
                    required$: !0,
                    payload$: {
                        service: _this.service
                    },
                    description$: "Init platform ad"
                },
                {
                    name: Events_default.AD_LOAD,
                    required$: !0,
                    payload$: {
                        service: _this.service
                    },
                    description$: "Start loading platform ad"
                },
                {
                    name: Events_default.AD_LOAD_FAILED,
                    required$: !1,
                    dependencies$: [
                        Events_default.AD_LOAD
                    ],
                    payload$: {
                        service: _this.service
                    },
                    description$: "Platform ad load failed"
                },
                {
                    name: Events_default.AD_SHOWING,
                    required$: !0,
                    dependencies$: [
                        Events_default.AD_LOAD
                    ],
                    payload$: {
                        service: _this.service
                    },
                    description$: "Platform ad is showing"
                },
                {
                    name: Events_default.AD_SHOW,
                    required$: !1,
                    dependencies$: [
                        Events_default.AD_SHOWING
                    ],
                    payload$: {
                        service: _this.service
                    },
                    description$: "Platform ad shown successfully"
                },
                {
                    name: Events_default.AD_SHOW_FAILED,
                    required$: !1,
                    dependencies$: [
                        Events_default.AD_SHOWING
                    ],
                    payload$: {
                        service: _this.service
                    },
                    description$: "Platform ad show failed"
                },
                {
                    name: Events_default.AD_LOAD,
                    required$: !1,
                    payload$: {
                        service: _this.service
                    },
                    description$: "Preload platform ad"
                }
            ]), _this;
        }
        return _inherits(_PlatformAdsFunnel, BaseFunnel_default), _create_class(_PlatformAdsFunnel, [
            {
                key: "service",
                get: function get() {
                    return "platform";
                }
            },
            {
                key: "addEvent",
                value: function addEvent(event, payload) {
                    (null == payload ? void 0 : payload.service) === this.service && _get(_get_prototype_of(_PlatformAdsFunnel.prototype), "addEvent", this).call(this, event, payload);
                }
            }
        ]), _PlatformAdsFunnel;
    }(BaseFunnel_default);
    __name(_PlatformAdsFunnel, "PlatformAdsFunnel");
    var PlatformAdsFunnel = _PlatformAdsFunnel, PlatformAdsFunnel_default = PlatformAdsFunnel;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var Modes = Ludex.Match.Modes, _SingleMatchFunnel = function(BaseFunnel_default) {
        function _SingleMatchFunnel() {
            var _this;
            return _class_call_check(this, _SingleMatchFunnel), _this = _call_super(this, _SingleMatchFunnel, arguments), _define_property(_this, "debug$", !1), _define_property(_this, "funnelSteps$", [
                {
                    name: Events_default.MATCH_START,
                    required$: !0,
                    payload$: {
                        game_mode: Modes.SINGLE
                    },
                    description$: "Match started"
                },
                {
                    name: Events_default.LEVEL_START,
                    required$: !0,
                    dependencies$: [
                        Events_default.MATCH_START
                    ],
                    payload$: {
                        game_mode: Modes.SINGLE
                    },
                    description$: "Level started"
                },
                {
                    name: Events_default.LEVEL_RESCUE,
                    required$: !1,
                    dependencies$: [
                        Events_default.LEVEL_START
                    ],
                    payload$: {
                        game_mode: Modes.SINGLE
                    },
                    description$: "User was rescued"
                },
                {
                    name: Events_default.LEVEL_END,
                    required$: !0,
                    dependencies$: [
                        Events_default.LEVEL_START
                    ],
                    payload$: {
                        game_mode: Modes.SINGLE
                    },
                    description$: "Level ended"
                },
                {
                    name: Events_default.MATCH_END,
                    required$: !0,
                    dependencies$: [
                        Events_default.LEVEL_START
                    ],
                    payload$: {
                        game_mode: Modes.SINGLE
                    },
                    description$: "Match ended"
                }
            ]), _this;
        }
        return _inherits(_SingleMatchFunnel, BaseFunnel_default), _create_class(_SingleMatchFunnel, [
            {
                key: "addEvent",
                value: function addEvent(event, payload) {
                    var game_mode = (null != payload ? payload : {}).game_mode;
                    game_mode && game_mode.toLowerCase() === Modes.SINGLE && _get(_get_prototype_of(_SingleMatchFunnel.prototype), "addEvent", this).call(this, event, payload);
                }
            }
        ]), _SingleMatchFunnel;
    }(BaseFunnel_default);
    __name(_SingleMatchFunnel, "SingleMatchFunnel");
    var SingleMatchFunnel = _SingleMatchFunnel, SingleMatchFunnel_default = SingleMatchFunnel;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Utils6 = Ludex.Utils, S2 = _Ludex_Utils6.String, V5 = _Ludex_Utils6.Valid, _BaseAnalytics = function() {
        function _BaseAnalytics(codex2, name2, options) {
            _class_call_check(this, _BaseAnalytics), _define_property(this, "codex", void 0), _define_property(this, "name", void 0), _define_property(this, "color$", void 0), _define_property(this, "options$", void 0), _define_property(this, "selfLog$", void 0), _define_property(this, "currentPath$", void 0), this.codex = codex2, this.name = name2, this.options$ = options, this.color$ = options.color || "#FFF", this.selfLog$ = options.log, this.currentPath$ = "/", console.info("%c".concat(this.name, ": init"), "color: ".concat(this.color$), this.options$);
        }
        return _create_class(_BaseAnalytics, [
            {
                key: "event",
                value: function event(name2, payload) {
                    this.logInfo$("event", {
                        name: name2,
                        payload: payload
                    });
                    var event = this.formatEventName$(name2);
                    this.processEvent$(event, payload);
                }
            },
            {
                key: "logInfo$",
                value: function logInfo$(message, payload) {
                    this.selfLog$ && console.info("%c".concat(this.name, ": ").concat(message), "color: ".concat(this.color$), payload);
                }
            },
            {
                key: "pageview",
                value: function pageview(pagePath) {
                    var pageTitle = this.getPageTitle$(pagePath);
                    pageTitle = this.addGameModeToPageTitle$(pageTitle), document.title = pageTitle, this.event(Events_default.PAGE_VIEW, {
                        page_path: pagePath,
                        page_title: pageTitle
                    });
                }
            },
            {
                key: "levelStart",
                value: function levelStart(level2, score2, mode) {
                    this.event(Events_default.LEVEL_START, {
                        level: level2,
                        score: score2,
                        level_name: this.getLevelName(level2),
                        game_mode: mode ? S2.toUpperCamelCase(mode) : void 0
                    });
                }
            },
            {
                key: "levelFail",
                value: function levelFail(level2, score2, mode) {
                    this.event(Events_default.LEVEL_END, {
                        level: level2,
                        score: score2,
                        success: !1,
                        level_name: this.getLevelName(level2),
                        game_mode: mode ? S2.toUpperCamelCase(mode) : void 0
                    });
                }
            },
            {
                key: "levelRescue",
                value: function levelRescue(level2, score2, mode) {
                    this.event(Events_default.LEVEL_RESCUE, {
                        level: level2,
                        score: score2,
                        level_name: this.getLevelName(level2),
                        game_mode: mode ? S2.toUpperCamelCase(mode) : void 0
                    });
                }
            },
            {
                key: "levelComplete",
                value: function levelComplete(level2, score2, mode) {
                    this.event(Events_default.LEVEL_END, {
                        level: level2,
                        score: score2,
                        success: !0,
                        level_name: this.getLevelName(level2),
                        game_mode: mode ? S2.toUpperCamelCase(mode) : void 0
                    });
                }
            },
            {
                key: "initAdEvent",
                value: function initAdEvent(payload) {
                    var adService = payload.adService, state = payload.state;
                    this.event(Events_default.AD_INIT, {
                        ad_service: adService,
                        state: state
                    });
                }
            },
            {
                key: "loadAdEvent$",
                value: function loadAdEvent$(payload) {
                    var type = payload.type, placement = payload.placement, adService = payload.service;
                    this.event(Events_default.AD_LOAD, {
                        ad_type: type,
                        screen_name: placement,
                        ad_service: adService
                    });
                }
            },
            {
                key: "showAdEvent$",
                value: function showAdEvent$(payload) {
                    var type = payload.type, placement = payload.placement, adService = payload.service;
                    this.event(Events_default.AD_SHOW, {
                        ad_type: type,
                        screen_name: placement,
                        ad_service: adService
                    });
                }
            },
            {
                key: "loadInterstitialAd",
                value: function loadInterstitialAd(payload) {
                    var placement = payload.placement, adService = payload.service;
                    this.loadAdEvent$({
                        type: "interstitial",
                        placement: placement,
                        service: adService
                    });
                }
            },
            {
                key: "showInterstitialAd",
                value: function showInterstitialAd(payload) {
                    var placement = payload.placement, adService = payload.service;
                    this.showAdEvent$({
                        type: "interstitial",
                        placement: placement,
                        service: adService
                    });
                }
            },
            {
                key: "loadRewardedVideoAd",
                value: function loadRewardedVideoAd(payload) {
                    var placement = payload.placement, adService = payload.service;
                    this.loadAdEvent$({
                        type: "rewarded_video",
                        placement: placement,
                        service: adService
                    });
                }
            },
            {
                key: "showRewardedVideoAd",
                value: function showRewardedVideoAd(payload) {
                    var placement = payload.placement, adService = payload.service;
                    this.showAdEvent$({
                        type: "rewarded_video",
                        placement: placement,
                        service: adService
                    });
                }
            },
            {
                key: "receiveVideoReward",
                value: function receiveVideoReward(payload) {
                    var placement = payload.placement, adService = payload.service;
                    this.event(Events_default.AD_REWARD, {
                        screen_name: placement,
                        ad_service: adService
                    });
                }
            },
            {
                key: "loadRewardedInterstitialAd",
                value: function loadRewardedInterstitialAd(payload) {
                    var placement = payload.placement, adService = payload.service;
                    this.loadAdEvent$({
                        type: "rewarded_interstitial",
                        placement: placement,
                        service: adService
                    });
                }
            },
            {
                key: "showRewardedInterstitialAd",
                value: function showRewardedInterstitialAd(payload) {
                    var placement = payload.placement, adService = payload.service;
                    this.showAdEvent$({
                        type: "rewarded_interstitial",
                        placement: placement,
                        service: adService
                    });
                }
            },
            {
                key: "receiveInterstitialReward",
                value: function receiveInterstitialReward(payload) {
                    var placement = payload.placement, adService = payload.service;
                    this.event(Events_default.AD_REWARD, {
                        screen_name: placement,
                        ad_service: adService
                    });
                }
            },
            {
                key: "loadAdFail",
                value: function loadAdFail(payload) {
                    var type = payload.type, placement = payload.placement, adService = payload.service;
                    this.event(Events_default.AD_LOAD_FAILED, {
                        ad_type: type,
                        screen_name: placement,
                        ad_service: adService
                    });
                }
            },
            {
                key: "showAdFail",
                value: function showAdFail(payload) {
                    var type = payload.type, placement = payload.placement, adService = payload.service;
                    this.event(Events_default.AD_SHOW_FAILED, {
                        ad_type: type,
                        screen_name: placement,
                        ad_service: adService
                    });
                }
            },
            {
                key: "showingAd",
                value: function showingAd(payload) {
                    var type = payload.type, placement = payload.placement, adService = payload.service;
                    this.event(Events_default.AD_SHOWING, {
                        ad_type: type,
                        screen_name: placement,
                        ad_service: adService
                    });
                }
            },
            {
                key: "formatEventName$",
                value: function formatEventName$(rawName) {
                    return rawName.toLowerCase().replace(/:/g, "_");
                }
            },
            {
                key: "getLevelName",
                value: function getLevelName(level2) {
                    return "Level ".concat(S2.padStart(level2.toString(), 5, "0"));
                }
            },
            {
                key: "getPageTitle$",
                value: function getPageTitle$(pagePath) {
                    var pageName = pagePath.split("/").pop();
                    if (!V5.isString(pageName)) return pagePath;
                    var pageTitle = pageName.replace(/([-_\s.])/g, " $1");
                    return S2.toUpperCamelCase(pageTitle);
                }
            },
            {
                key: "addGameModeToPageTitle$",
                value: function addGameModeToPageTitle$(pageTitle) {
                    var match = this.codex.match;
                    if (!match) return pageTitle;
                    var mode = match.getMatchState().mode;
                    mode || (mode = "Normal");
                    var modeTitle = S2.toUpperCamelCase(mode);
                    return "".concat(modeTitle, "::").concat(pageTitle);
                }
            }
        ]), _BaseAnalytics;
    }();
    __name(_BaseAnalytics, "BaseAnalytics");
    var BaseAnalytics = _BaseAnalytics, Analytics_default = BaseAnalytics;
    Ludex.Plugins.Analytics = {
        Events: Events_default,
        BaseFunnel: BaseFunnel_default,
        BaseAnalytics: Analytics_default
    };
    var _AnalyticsPlugin = function(_Ludex_Plugins_BasePlugin) {
        function _AnalyticsPlugin(codex2) {
            var _this;
            return _class_call_check(this, _AnalyticsPlugin), _define_property(_this = _call_super(this, _AnalyticsPlugin, [
                codex2
            ]), "analytics$", []), _define_property(_this, "placement$", "unknown"), _define_property(_this, "funnels$", []), _define_property(_this, "pageview", __name(function(key) {
                if (_this.isActive$()) {
                    _this.placement$ = key;
                    var path = _this.getPageByKey$(key), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = _this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.pageview(path);
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                    _this.logFunnelEvent$(Events_default.PAGE_VIEW);
                }
            }, "pageview")), _this.initFunnels$(), _this;
        }
        return _inherits(_AnalyticsPlugin, _Ludex_Plugins_BasePlugin), _create_class(_AnalyticsPlugin, [
            {
                key: "mergePayload$",
                value: function mergePayload$(source, target) {
                    return Ludex.Utils.Object.merge(source, target);
                }
            },
            {
                key: "add",
                value: function add(analytic) {
                    var index = this.analytics$.findIndex(function(item) {
                        return item.name === analytic.name;
                    });
                    -1 !== index ? this.analytics$[index] = analytic : this.analytics$.push(analytic);
                }
            },
            {
                key: "isActive$",
                value: function isActive$() {
                    return this.analytics$.length >= 1;
                }
            },
            {
                key: "initFunnels$",
                value: function initFunnels$() {
                    this.addFunnel(new LudexFunnel_default()), this.addFunnel(new AdsenseFunnel_default()), this.addFunnel(new PlatformAdsFunnel_default()), this.addFunnel(new SingleMatchFunnel_default());
                }
            },
            {
                key: "addFunnel",
                value: function addFunnel(funnel) {
                    this.funnels$.push(funnel);
                }
            },
            {
                key: "logFunnelEvent$",
                value: function logFunnelEvent$(name2, payload) {
                    var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = this.funnels$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.addEvent(name2, payload);
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                }
            },
            {
                key: "event",
                value: function event(name2, payload) {
                    if (this.isActive$()) {
                        var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.event(name2, payload);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(name2, payload);
                    }
                }
            },
            {
                key: "levelStart",
                value: function levelStart(level2, score2, mode) {
                    if (this.isActive$()) {
                        var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.levelStart(level2, score2, mode);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.LEVEL_START, {
                            score: score2,
                            game_mode: mode
                        });
                    }
                }
            },
            {
                key: "levelRescue",
                value: function levelRescue(level2, score2, mode) {
                    if (this.isActive$()) {
                        var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.levelRescue(level2, score2, mode);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.LEVEL_RESCUE, {
                            score: score2,
                            game_mode: mode
                        });
                    }
                }
            },
            {
                key: "levelFail",
                value: function levelFail(level2, score2, mode) {
                    if (this.isActive$()) {
                        var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.levelFail(level2, score2, mode);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.LEVEL_END, {
                            score: score2,
                            game_mode: mode
                        });
                    }
                }
            },
            {
                key: "levelComplete",
                value: function levelComplete(level2, score2, mode) {
                    if (this.isActive$()) {
                        var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.levelComplete(level2, score2, mode);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.LEVEL_END, {
                            score: score2,
                            game_mode: mode
                        });
                    }
                }
            },
            {
                key: "initAdEvent",
                value: function initAdEvent(payload) {
                    return _async_to_generator(function() {
                        var _this, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_this = this, !this.isActive$()) return [
                                        2
                                    ];
                                    return [
                                        4,
                                        new Promise(function(resolve) {
                                            var Events11 = Ludex.Events;
                                            _this.codex.event.catchUp(Events11.GAME_READY, resolve);
                                        })
                                    ];
                                case 1:
                                    _state.sent(), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                                    try {
                                        for(_iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.initAdEvent(payload);
                                    } catch (err) {
                                        _didIteratorError = !0, _iteratorError = err;
                                    } finally{
                                        try {
                                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                                        } finally{
                                            if (_didIteratorError) throw _iteratorError;
                                        }
                                    }
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "loadInterstitialAd",
                value: function loadInterstitialAd(payload) {
                    if (this.isActive$()) {
                        var payloadWithPage = this.mergePayload$(payload, {
                            placement: this.placement$
                        }), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.loadInterstitialAd(payloadWithPage);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.AD_LOAD, payloadWithPage);
                    }
                }
            },
            {
                key: "showInterstitialAd",
                value: function showInterstitialAd(payload) {
                    if (this.isActive$()) {
                        var payloadWithPage = this.mergePayload$(payload, {
                            placement: this.placement$
                        }), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.showInterstitialAd(payloadWithPage);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.AD_SHOW, payloadWithPage);
                    }
                }
            },
            {
                key: "loadRewardedVideoAd",
                value: function loadRewardedVideoAd(payload) {
                    if (this.isActive$()) {
                        var payloadWithPage = this.mergePayload$(payload, {
                            placement: this.placement$
                        }), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.loadRewardedVideoAd(payloadWithPage);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.AD_LOAD, payloadWithPage);
                    }
                }
            },
            {
                key: "showRewardedVideoAd",
                value: function showRewardedVideoAd(payload) {
                    if (this.isActive$()) {
                        var payloadWithPage = this.mergePayload$(payload, {
                            placement: this.placement$
                        }), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.showRewardedVideoAd(payloadWithPage);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.AD_SHOW, payloadWithPage);
                    }
                }
            },
            {
                key: "receiveVideoReward",
                value: function receiveVideoReward(payload) {
                    if (this.isActive$()) {
                        var payloadWithPage = this.mergePayload$(payload, {
                            placement: this.placement$
                        }), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.receiveVideoReward(payloadWithPage);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.AD_REWARD, payloadWithPage);
                    }
                }
            },
            {
                key: "loadRewardedInterstitialAd",
                value: function loadRewardedInterstitialAd(payload) {
                    if (this.isActive$()) {
                        var payloadWithPage = this.mergePayload$(payload, {
                            placement: this.placement$
                        }), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.loadRewardedInterstitialAd(payloadWithPage);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.AD_LOAD, payloadWithPage);
                    }
                }
            },
            {
                key: "showRewardedInterstitialAd",
                value: function showRewardedInterstitialAd(payload) {
                    if (this.isActive$()) {
                        var payloadWithPage = this.mergePayload$(payload, {
                            placement: this.placement$
                        }), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.showRewardedInterstitialAd(payloadWithPage);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.AD_SHOW, payloadWithPage);
                    }
                }
            },
            {
                key: "receiveInterstitialReward",
                value: function receiveInterstitialReward(payload) {
                    if (this.isActive$()) {
                        var payloadWithPage = this.mergePayload$(payload, {
                            placement: this.placement$
                        }), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.receiveInterstitialReward(payloadWithPage);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.AD_REWARD, payloadWithPage);
                    }
                }
            },
            {
                key: "loadAdFail",
                value: function loadAdFail(payload) {
                    if (this.isActive$()) {
                        var payloadWithPage = this.mergePayload$(payload, {
                            placement: this.placement$
                        }), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.loadAdFail(payloadWithPage);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.AD_LOAD_FAILED, payloadWithPage);
                    }
                }
            },
            {
                key: "showAdFail",
                value: function showAdFail(payload) {
                    if (this.isActive$()) {
                        var payloadWithPage = this.mergePayload$(payload, {
                            placement: this.placement$
                        }), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.showAdFail(payloadWithPage);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.AD_SHOW_FAILED, payloadWithPage);
                    }
                }
            },
            {
                key: "showingAd",
                value: function showingAd(payload) {
                    if (this.isActive$()) {
                        var payloadWithPage = this.mergePayload$(payload, {
                            placement: this.placement$
                        }), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                        try {
                            for(var _step, _iterator = this.analytics$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_step.value.showingAd(payloadWithPage);
                        } catch (err) {
                            _didIteratorError = !0, _iteratorError = err;
                        } finally{
                            try {
                                _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                            } finally{
                                if (_didIteratorError) throw _iteratorError;
                            }
                        }
                        this.logFunnelEvent$(Events_default.AD_SHOWING, payloadWithPage);
                    }
                }
            },
            {
                key: "getPageByKey$",
                value: function getPageByKey$(key) {
                    var page = key;
                    if (page.indexOf("_") > -1) return page.replace(/_/g, "-").toLowerCase();
                    for(var i = page.length - 1, character = ""; i > 0;){
                        var isNaNumber = isNaN(parseInt(character = page.charAt(i), 10)), isUpperCase = character === character.toUpperCase();
                        isNaNumber && isUpperCase && (page = "".concat(page.slice(0, i), "-").concat(page.slice(i))), i--;
                    }
                    return page.toLowerCase();
                }
            }
        ]), _AnalyticsPlugin;
    }(Ludex.Plugins.BasePlugin);
    __name(_AnalyticsPlugin, "AnalyticsPlugin");
    var AnalyticsPlugin = _AnalyticsPlugin, AnalyticsPlugin_default = AnalyticsPlugin, analytics_default = AnalyticsPlugin_default;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _BaseAudioPlayer = function() {
        function _BaseAudioPlayer(key) {
            _class_call_check(this, _BaseAudioPlayer), _define_property(this, "key$", void 0), this.key$ = key;
        }
        return _create_class(_BaseAudioPlayer, [
            {
                key: "getKey",
                value: function getKey() {
                    return this.key$;
                }
            }
        ]), _BaseAudioPlayer;
    }();
    __name(_BaseAudioPlayer, "BaseAudioPlayer");
    var BaseAudioPlayer = _BaseAudioPlayer, AudioPlayer_default = BaseAudioPlayer;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var Decorator = Ludex.Utils.Decorator, _BaseChannelManager = function() {
        function _BaseChannelManager(channelId) {
            _class_call_check(this, _BaseChannelManager), _define_property(this, "id$", void 0), _define_property(this, "isMuteAll$", void 0), _define_property(this, "masterVolume$", void 0), _define_property(this, "audioClips$", void 0), this.id$ = channelId, this.masterVolume$ = 1, this.isMuteAll$ = !1, this.audioClips$ = {};
        }
        return _create_class(_BaseChannelManager, [
            {
                key: "getId",
                value: function getId() {
                    return this.id$;
                }
            },
            {
                key: "getAudioClip",
                value: function getAudioClip(key) {
                    return this.audioClips$[key] ? this.audioClips$[key] : null;
                }
            },
            {
                key: "setAudioClip",
                value: function setAudioClip(key, audioClip) {
                    this.audioClips$[key] = __spreadValues(__spreadValues({}, this.audioClips$[key]), audioClip);
                }
            },
            {
                key: "play",
                value: function play(key, config) {
                    return _async_to_generator(function() {
                        var audioClip, audioPlayer;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (!(audioClip = this.getAudioClip(key))) return [
                                        3,
                                        1
                                    ];
                                    return audioPlayer = audioClip.audioPlayer, this.playWithRealConfig$(audioPlayer, config), [
                                        3,
                                        3
                                    ];
                                case 1:
                                    return [
                                        4,
                                        this.loadAndPlay(key, config)
                                    ];
                                case 2:
                                    _state.sent(), _state.label = 3;
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "loadAndPlay",
                value: function loadAndPlay(key, config) {
                    return _async_to_generator(function() {
                        var audioPlayer, _ref_volume, volume;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        this.onLoadAudio(key, config)
                                    ];
                                case 1:
                                    if (!(audioPlayer = _state.sent())) return [
                                        2
                                    ];
                                    return volume = void 0 === (_ref_volume = (config || {}).volume) ? 1 : _ref_volume, this.setAudioClip(key, {
                                        volume: volume,
                                        audioPlayer: audioPlayer
                                    }), this.playWithRealConfig$(audioPlayer, config), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "playWithRealConfig$",
                value: function playWithRealConfig$(audioPlayer, config) {
                    if (config) {
                        var _config_volume = config.volume, volume = void 0 === _config_volume ? 1 : _config_volume;
                        config.volume = this.masterVolume$ * volume;
                    }
                    audioPlayer.play(config);
                }
            },
            {
                key: "pause",
                value: function pause(key) {
                    var audioClip = this.getAudioClip(key);
                    return !!audioClip && (audioClip.audioPlayer.pause(), !0);
                }
            },
            {
                key: "resume",
                value: function resume(key) {
                    var audioClip = this.getAudioClip(key);
                    return !!audioClip && (audioClip.audioPlayer.resume(), !0);
                }
            },
            {
                key: "stop",
                value: function stop(key) {
                    var audioClip = this.getAudioClip(key);
                    return !!audioClip && (audioClip.audioPlayer.stop(), !0);
                }
            },
            {
                key: "stopAll",
                value: function stopAll() {
                    this.callAudioPlayers$("stop");
                }
            },
            {
                key: "muteAll",
                value: function muteAll() {
                    this.isMuteAll$ || (this.isMuteAll$ = !0, this.callAudioPlayers$("mute"));
                }
            },
            {
                key: "unmuteAll",
                value: function unmuteAll() {
                    this.isMuteAll$ && (this.isMuteAll$ = !1, this.callAudioPlayers$("unmute"));
                }
            },
            {
                key: "setVolume",
                value: function setVolume(value) {
                    this.masterVolume$ = value, this.callAudioPlayers$("setVolume");
                }
            },
            {
                key: "getVolume",
                value: function getVolume() {
                    return this.masterVolume$;
                }
            },
            {
                key: "queueAudioPlayer$",
                value: function queueAudioPlayer$(clip, funcName) {
                    try {
                        var audioPlayer = clip.audioPlayer, _clip_volume = clip.volume, volume = void 0 === _clip_volume ? 1 : _clip_volume;
                        switch(funcName){
                            case "play":
                                audioPlayer.play();
                                break;
                            case "pause":
                                audioPlayer.pause();
                                break;
                            case "resume":
                                audioPlayer.resume();
                                break;
                            case "stop":
                                audioPlayer.stop();
                                break;
                            case "mute":
                                audioPlayer.setVolume(0);
                                break;
                            case "unmute":
                            case "setVolume":
                                audioPlayer.setVolume(this.masterVolume$ * volume);
                                break;
                            default:
                                throw Error("Unsupported function: ".concat(funcName));
                        }
                    } catch (error) {
                        console.warn("queueAudioPlayer", error);
                    }
                }
            },
            {
                key: "callAudioPlayers$",
                value: function callAudioPlayers$(funcName) {
                    var audioClips = Ludex.Utils.Object.vals(this.audioClips$), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = audioClips[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                            var audioClip = _step.value;
                            this.queueAudioPlayer$(audioClip, funcName);
                        }
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                }
            }
        ]), _BaseChannelManager;
    }();
    __name(_BaseChannelManager, "BaseChannelManager"), __decorateClass([
        Decorator.tryCatch(),
        Decorator.validateParams("string")
    ], _BaseChannelManager.prototype, "loadAndPlay", 1);
    var BaseChannelManager = _BaseChannelManager, ChannelManager_default = BaseChannelManager;
    Ludex.Plugins.Audio = {
        BaseAudioPlayer: AudioPlayer_default,
        BaseChannelManager: ChannelManager_default
    };
    var _Ludex_Utils7 = Ludex.Utils, Decorator2 = _Ludex_Utils7.Decorator, _AudioPlugin = function(_Ludex_Plugins_BasePlugin) {
        function _AudioPlugin() {
            var _this;
            return _class_call_check(this, _AudioPlugin), _this = _call_super(this, _AudioPlugin, arguments), _define_property(_this, "firstChannelId$", void 0), _define_property(_this, "channels$", {}), _this;
        }
        return _inherits(_AudioPlugin, _Ludex_Plugins_BasePlugin), _create_class(_AudioPlugin, [
            {
                key: "addChannel",
                value: function addChannel(channel) {
                    var id = channel.getId();
                    this.channels$[id] = channel, this.firstChannelId$ || (this.firstChannelId$ = id);
                }
            },
            {
                key: "getChannel$",
                value: function getChannel$(channelId) {
                    if (void 0 === channelId) return this.channels$[this.firstChannelId$];
                    var channel = this.channels$[channelId];
                    if (!channel) throw Error("Channel ".concat(channelId, " not found"));
                    return channel;
                }
            },
            {
                key: "play",
                value: function play(key, config, channelId) {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        this.getChannel$(channelId).play(key, config)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "pause",
                value: function pause(key, channelId) {
                    try {
                        this.getChannel$(channelId).pause(key);
                    } catch (error) {
                        console.warn("pauseSound", error);
                    }
                }
            },
            {
                key: "resume",
                value: function resume(key, channelId) {
                    try {
                        this.getChannel$(channelId).resume(key);
                    } catch (error) {
                        console.warn("resumeSound", error);
                    }
                }
            },
            {
                key: "stop",
                value: function stop(key, channelId) {
                    try {
                        this.getChannel$(channelId).stop(key);
                    } catch (error) {
                        console.warn("stopSound", error);
                    }
                }
            },
            {
                key: "stopAll",
                value: function stopAll(channelId) {
                    try {
                        this.getChannel$(channelId).stopAll();
                    } catch (error) {
                        console.warn("stopAllSounds", error);
                    }
                }
            },
            {
                key: "mute",
                value: function mute(channelId) {
                    try {
                        this.getChannel$(channelId).muteAll();
                    } catch (error) {
                        console.warn("mute", error);
                    }
                }
            },
            {
                key: "unmute",
                value: function unmute(channelId) {
                    try {
                        this.getChannel$(channelId).unmuteAll();
                    } catch (error) {
                        console.warn("unmute", error);
                    }
                }
            },
            {
                key: "setVolume",
                value: function setVolume(volume, channelId) {
                    try {
                        this.getChannel$(channelId).setVolume(volume);
                    } catch (error) {
                        console.warn("setSoundVolume", error);
                    }
                }
            },
            {
                key: "getVolume",
                value: function getVolume(channelId) {
                    try {
                        return this.getChannel$(channelId).getVolume();
                    } catch (error) {
                        return console.warn("getSoundVolume", error), -1;
                    }
                }
            }
        ]), _AudioPlugin;
    }(Ludex.Plugins.BasePlugin);
    __name(_AudioPlugin, "AudioPlugin"), __decorateClass([
        Decorator2.tryCatch(),
        Decorator2.validateParams("string")
    ], _AudioPlugin.prototype, "play", 1);
    var AudioPlugin = _AudioPlugin, AudioPlugin_default = AudioPlugin, audio_default = AudioPlugin_default;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var initState2 = {
        token: "",
        isRequesting: !1
    }, state_default2 = initState2, _Ludex_Utils8 = Ludex.Utils, O5 = _Ludex_Utils8.Object, _AuthPlugin = function(_Ludex_Plugins_BasePlugin) {
        function _AuthPlugin() {
            return _class_call_check(this, _AuthPlugin), _call_super(this, _AuthPlugin, arguments);
        }
        return _inherits(_AuthPlugin, _Ludex_Plugins_BasePlugin), _create_class(_AuthPlugin, [
            {
                key: "init",
                value: function init() {
                    this.codex.storage.addStorage("auth", state_default2);
                }
            },
            {
                key: "requestToken",
                value: function requestToken() {
                    return _async_to_generator(function() {
                        var storage, signedPlayer, error;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    storage = this.codex.storage, _state.label = 1;
                                case 1:
                                    if (_state.trys.push([
                                        1,
                                        3,
                                        4,
                                        5
                                    ]), storage.getStorageData("auth", "isRequesting") || "" !== storage.getStorageData("auth", "token")) return [
                                        2
                                    ];
                                    return storage.setStorageData("auth", "isRequesting", !0), [
                                        4,
                                        GameSDK.player.getSignedPlayerInfoAsync()
                                    ];
                                case 2:
                                    return signedPlayer = _state.sent().getSignature(), storage.setStorageData("auth", "token", signedPlayer), [
                                        3,
                                        5
                                    ];
                                case 3:
                                    if (error = _state.sent(), O5.hasOwn(error, "code") && "PENDING_REQUEST" === error.code) return [
                                        2
                                    ];
                                    return storage.setStorageData("auth", "token", ""), [
                                        3,
                                        5
                                    ];
                                case 4:
                                    return storage.setStorageData("auth", "isRequesting", !1), [
                                        7
                                    ];
                                case 5:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getToken",
                value: function getToken() {
                    var _storage_getStorageData;
                    return null != (_storage_getStorageData = this.codex.storage.getStorageData("auth", "token")) ? _storage_getStorageData : "";
                }
            }
        ]), _AuthPlugin;
    }(Ludex.Plugins.BasePlugin);
    __name(_AuthPlugin, "AuthPlugin");
    var AuthPlugin = _AuthPlugin, AuthPlugin_default = AuthPlugin, auth_default = AuthPlugin_default;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var ContextGameTypes = function(ContextGameTypes2) {
        return ContextGameTypes2.SOLO = "solo", ContextGameTypes2.TOURNAMENT = "tournament", ContextGameTypes2.SHARE_INVITE = "share_invite", ContextGameTypes2.MATCHING_GROUP = "matching_group_match", ContextGameTypes2.CHALLENGE_FRIEND = "challenge_friend_match", ContextGameTypes2;
    }(ContextGameTypes || {}), ContextTypes_default = ContextGameTypes;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var ContextGameModes = MatchModes_default2, ContextModes_default = ContextGameModes, Configs = Ludex.Configs, _Ludex_Utils9 = Ludex.Utils, A3 = _Ludex_Utils9.Array, V6 = _Ludex_Utils9.Valid, B = _Ludex_Utils9.Browser, _Context2 = function() {
        function _Context2(codex2) {
            _class_call_check(this, _Context2), _define_property(this, "codex$", void 0), this.codex$ = codex2;
        }
        return _create_class(_Context2, [
            {
                key: "isValidContextType$",
                value: function isValidContextType$(contextType2) {
                    return [
                        "THREAD",
                        "POST",
                        "SOLO",
                        "GROUP"
                    ].indexOf(contextType2) >= 0;
                }
            },
            {
                key: "isValidEntryPointData$",
                value: function isValidEntryPointData$(entryPointData2) {
                    return V6.isObject(entryPointData2);
                }
            },
            {
                key: "isTournamentEntryPoint$",
                value: function isTournamentEntryPoint$(entryPoint) {
                    return A3.has([
                        "facebook~game_list~tournaments",
                        "fb_feed_tournament_unit",
                        "messenger~bot_thread~tourname\
nts"
                    ], entryPoint);
                }
            },
            {
                key: "receiveContext",
                value: function receiveContext(contextId2, contextType2, entryPointData2) {
                    var storage = this.codex$.storage;
                    storage.setStorageData("context", "contextId", contextId2), this.isValidEntryPointData$(entryPointData2) ? storage.setStorageData("context", "entryPointData", entryPointData2) : console.warn("Invalid entry point data:", entryPointData2), this.isValidContextType$(contextType2) ? storage.setStorageData("context", "contextType", contextType2) : console.warn("Invalid context type: ".concat(contextType2));
                }
            },
            {
                key: "getContextId",
                value: function getContextId() {
                    var _storage_getStorageData;
                    return null != (_storage_getStorageData = this.codex$.storage.getStorageData("context", "contextId")) ? _storage_getStorageData : "";
                }
            },
            {
                key: "getContextType",
                value: function getContextType() {
                    var _storage_getStorageData;
                    return null != (_storage_getStorageData = this.codex$.storage.getStorageData("context", "contextType")) ? _storage_getStorageData : "SOLO";
                }
            },
            {
                key: "getContextData",
                value: function getContextData() {
                    var _storage_getStorageData;
                    return null != (_storage_getStorageData = this.codex$.storage.getStorageData("context", "entryPointData")) ? _storage_getStorageData : {};
                }
            },
            {
                key: "getSessionContextType",
                value: function getSessionContextType() {
                    var _storage_getStorageData;
                    return null != (_storage_getStorageData = this.codex$.storage.getStorageData("context", "sessionContextType")) ? _storage_getStorageData : "unknown";
                }
            },
            {
                key: "detectContextSessionType",
                value: function detectContextSessionType() {
                    return _async_to_generator(function() {
                        var storage, entryPointData2, type, SOLO, TOURNAMENT2, MATCHING_GROUP2, SHARE_INVITE2, CHALLENGE_FRIEND3, sessionContextType;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (storage = this.codex$.storage, type = (null != (entryPointData2 = this.getContextData()) ? entryPointData2 : {}).type, SOLO = ContextTypes_default.SOLO, TOURNAMENT2 = ContextTypes_default.TOURNAMENT, MATCHING_GROUP2 = ContextTypes_default.MATCHING_GROUP, SHARE_INVITE2 = ContextTypes_default.SHARE_INVITE, CHALLENGE_FRIEND3 = ContextTypes_default.CHALLENGE_FRIEND, sessionContextType = SOLO, type === TOURNAMENT2 && (sessionContextType = TOURNAMENT2), type === MATCHING_GROUP2 && (sessionContextType = MATCHING_GROUP2), (type === CHALLENGE_FRIEND3 || type === SHARE_INVITE2) && (sessionContextType = CHALLENGE_FRIEND3), sessionContextType !== SOLO) return [
                                        3,
                                        3
                                    ];
                                    if (!Configs.Core.FastCheckTournamentContext) return [
                                        3,
                                        1
                                    ];
                                    return sessionContextType = this.fastCheckTournamentContext$() || sessionContextType, [
                                        3,
                                        3
                                    ];
                                case 1:
                                    return [
                                        4,
                                        this.outdatedCheckTournamentContext$()
                                    ];
                                case 2:
                                    sessionContextType = _state.sent() || sessionContextType, _state.label = 3;
                                case 3:
                                    return storage.setStorageData("context", "sessionContextType", sessionContextType), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "fastCheckTournamentContext$",
                value: function fastCheckTournamentContext$() {
                    var entryPoint = B.getQueryParams().entry_point;
                    return "string" == typeof entryPoint && !!this.isTournamentEntryPoint$(entryPoint) && ContextTypes_default.TOURNAMENT;
                }
            },
            {
                key: "outdatedCheckTournamentContext$",
                value: function outdatedCheckTournamentContext$() {
                    return _async_to_generator(function() {
                        var storage, tournament, e;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (storage = this.codex$.storage, !("getTournamentAsync" in GameSDK)) return [
                                        2,
                                        !1
                                    ];
                                    _state.label = 1;
                                case 1:
                                    return _state.trys.push([
                                        1,
                                        3,
                                        ,
                                        4
                                    ]), [
                                        4,
                                        GameSDK.getTournamentAsync()
                                    ];
                                case 2:
                                    if (tournament = _state.sent(), storage.setStorageData("context", "contextId", tournament.getContextID()), tournament.getEndTime() > Date.now() / 1e3) return [
                                        2,
                                        ContextTypes_default.TOURNAMENT
                                    ];
                                    return [
                                        2,
                                        !1
                                    ];
                                case 3:
                                    return e = _state.sent(), [
                                        2,
                                        !1
                                    ];
                                case 4:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "detectContextGameMode",
                value: function detectContextGameMode() {
                    var _this_codex$ = this.codex$, player = _this_codex$.player, storage = _this_codex$.storage, entryPointData2 = this.getContextData(), contextSessionType = this.getSessionContextType(), currentPlayerId = player.getPlayerId(), _ref = null != entryPointData2 ? entryPointData2 : {}, matchId = _ref.matchId, playerId2 = _ref.playerId, _ref_opponentId = _ref.opponentId, opponentId = void 0 === _ref_opponentId ? SampleOpponent_default.playerId : _ref_opponentId, isPlayer = currentPlayerId === playerId2, isOwnerContext = opponentId === SampleOpponent_default.playerId || [
                        opponentId,
                        playerId2
                    ].indexOf(currentPlayerId) >= 0, TOURNAMENT2 = ContextTypes_default.TOURNAMENT, MATCHING_GROUP2 = ContextTypes_default.MATCHING_GROUP, SHARE_INVITE2 = ContextTypes_default.SHARE_INVITE, CHALLENGE_FRIEND3 = ContextTypes_default.CHALLENGE_FRIEND, contextGameMode = ContextModes_default.SINGLE;
                    contextSessionType === TOURNAMENT2 && (contextGameMode = ContextModes_default.TOURNAMENT), contextSessionType !== SHARE_INVITE2 || isPlayer || (contextGameMode = ContextModes_default.CHALLENGE_FRIEND), contextSessionType === CHALLENGE_FRIEND3 && matchId && isOwnerContext && (contextGameMode = ContextModes_default.CHALLENGE_FRIEND), contextSessionType === MATCHING_GROUP2 && (contextGameMode = ContextModes_default.MATCHING_GROUP), storage.setStorageData("context", "contextGameMode", contextGameMode);
                }
            }
        ]), _Context2;
    }();
    __name(_Context2, "Context");
    var Context3 = _Context2, context_default = Context3;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var StepType = function(StepType2) {
        return StepType2.StartID = "__start__", StepType2;
    }(StepType || {}), StepTypes_default = StepType;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _StepIdDuplicate = function(Error1) {
        function _StepIdDuplicate(stepId) {
            return _class_call_check(this, _StepIdDuplicate), _call_super(this, _StepIdDuplicate, [
                "Duplicate step id: ".concat(stepId)
            ]);
        }
        return _inherits(_StepIdDuplicate, Error1), _StepIdDuplicate;
    }(_wrap_native_super(Error));
    __name(_StepIdDuplicate, "StepIdDuplicate");
    var StepIdDuplicate = _StepIdDuplicate, StepIdDuplicate_default = StepIdDuplicate;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _StepIdInvalid = function(Error1) {
        function _StepIdInvalid(stepId) {
            return _class_call_check(this, _StepIdInvalid), _call_super(this, _StepIdInvalid, [
                "Invalid step id: ".concat(stepId)
            ]);
        }
        return _inherits(_StepIdInvalid, Error1), _StepIdInvalid;
    }(_wrap_native_super(Error));
    __name(_StepIdInvalid, "StepIdInvalid");
    var StepIdInvalid = _StepIdInvalid, StepIdInvalid_default = StepIdInvalid;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _StepNotFound = function(Error1) {
        function _StepNotFound(stepId) {
            return _class_call_check(this, _StepNotFound), _call_super(this, _StepNotFound, [
                "Step not found: ".concat(stepId)
            ]);
        }
        return _inherits(_StepNotFound, Error1), _StepNotFound;
    }(_wrap_native_super(Error));
    __name(_StepNotFound, "StepNotFound");
    var StepNotFound = _StepNotFound, StepNotFound_default = StepNotFound, _StepRegistry = function() {
        function _StepRegistry() {
            var initialSteps = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            _class_call_check(this, _StepRegistry), _define_property(this, "steps$", void 0), this.steps$ = [];
            var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
            try {
                for(var _step, _iterator = initialSteps[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                    var step = _step.value;
                    this.addAfter(StepTypes_default.StartID, step);
                }
            } catch (err) {
                _didIteratorError = !0, _iteratorError = err;
            } finally{
                try {
                    _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                } finally{
                    if (_didIteratorError) throw _iteratorError;
                }
            }
        }
        return _create_class(_StepRegistry, [
            {
                key: "addBefore",
                value: function addBefore(targetStepId, step) {
                    if (this.validateStepId$(step.id), this.validateStepDuplicate$(step.id), targetStepId === StepTypes_default.StartID) return void this.steps$.unshift(step);
                    var targetIndex = this.getStepIndexOrThrow$(targetStepId);
                    this.steps$.splice(targetIndex, 0, step);
                }
            },
            {
                key: "addAfter",
                value: function addAfter(targetStepId, step) {
                    if (this.validateStepId$(step.id), this.validateStepDuplicate$(step.id), targetStepId === StepTypes_default.StartID) return void this.steps$.push(step);
                    var targetIndex = this.getStepIndexOrThrow$(targetStepId);
                    this.steps$.splice(targetIndex + 1, 0, step);
                }
            },
            {
                key: "replace",
                value: function replace(stepId, patch) {
                    this.validateStepId$(stepId);
                    var index = this.getStepIndexOrThrow$(stepId), currentStep = this.steps$[index];
                    this.steps$[index] = __spreadValues(__spreadValues({}, currentStep), patch);
                }
            },
            {
                key: "remove",
                value: function remove(stepId) {
                    var index = this.getStepIndexOrThrow$(stepId);
                    this.steps$.splice(index, 1);
                }
            },
            {
                key: "runAsync",
                value: function runAsync(context) {
                    return _async_to_generator(function() {
                        var startedAt, rows, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, step, stepStart, _ref, shouldContinue, targetScene, err;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    startedAt = performance.now(), rows = [], _state.label = 1;
                                case 1:
                                    _state.trys.push([
                                        1,
                                        ,
                                        10,
                                        11
                                    ]), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0, _state.label = 2;
                                case 2:
                                    _state.trys.push([
                                        2,
                                        7,
                                        8,
                                        9
                                    ]), _iterator = this.steps$[Symbol.iterator](), _state.label = 3;
                                case 3:
                                    if (_iteratorNormalCompletion = (_step = _iterator.next()).done) return [
                                        3,
                                        6
                                    ];
                                    return step = _step.value, stepStart = performance.now(), [
                                        4,
                                        this.runStep$(step, context)
                                    ];
                                case 4:
                                    if (shouldContinue = (_ref = _state.sent()).shouldContinue, targetScene = _ref.targetScene, shouldContinue && rows.push({
                                        stepId: step.id,
                                        targetScene: targetScene,
                                        ms: this.getDuration$(stepStart)
                                    }), !shouldContinue) return [
                                        2,
                                        !0
                                    ];
                                    _state.label = 5;
                                case 5:
                                    return _iteratorNormalCompletion = !0, [
                                        3,
                                        3
                                    ];
                                case 6:
                                    return [
                                        3,
                                        9
                                    ];
                                case 7:
                                    return err = _state.sent(), _didIteratorError = !0, _iteratorError = err, [
                                        3,
                                        9
                                    ];
                                case 8:
                                    try {
                                        _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                                    } finally{
                                        if (_didIteratorError) throw _iteratorError;
                                    }
                                    return [
                                        7
                                    ];
                                case 9:
                                    return [
                                        3,
                                        11
                                    ];
                                case 10:
                                    return this.logResult$(rows, startedAt), [
                                        7
                                    ];
                                case 11:
                                    return [
                                        2,
                                        !1
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "runStep$",
                value: function runStep$(step, context) {
                    return _async_to_generator(function() {
                        var _context_sceneName;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        step.runAsync(context)
                                    ];
                                case 1:
                                    return [
                                        2,
                                        {
                                            shouldContinue: _state.sent(),
                                            targetScene: null != (_context_sceneName = context.sceneName) ? _context_sceneName : null
                                        }
                                    ];
                            }
                        });
                    })();
                }
            },
            {
                key: "logResult$",
                value: function logResult$(rows, startedAt) {
                    var totalMs = this.getDuration$(startedAt);
                    console.groupCollapsed("\uD83D\uDD00 Steps Result (".concat(totalMs, "ms)")), console.table(rows), console.groupEnd();
                }
            },
            {
                key: "validateStepId$",
                value: function validateStepId$(stepId) {
                    if ("string" != typeof stepId || 0 === stepId.trim().length) throw new StepIdInvalid_default("".concat(stepId));
                }
            },
            {
                key: "validateStepDuplicate$",
                value: function validateStepDuplicate$(stepId) {
                    if (this.steps$.some(function(s) {
                        return s.id === stepId;
                    })) throw new StepIdDuplicate_default(stepId);
                }
            },
            {
                key: "findIndex$",
                value: function findIndex$(stepId) {
                    return this.validateStepId$(stepId), this.steps$.findIndex(function(s) {
                        return s.id === stepId;
                    });
                }
            },
            {
                key: "getStepIndexOrThrow$",
                value: function getStepIndexOrThrow$(stepId) {
                    var index = this.findIndex$(stepId);
                    if (index < 0) throw new StepNotFound_default(stepId);
                    return index;
                }
            },
            {
                key: "getDuration$",
                value: function getDuration$(start) {
                    return Math.round((performance.now() - start) * 100) / 100;
                }
            }
        ]), _StepRegistry;
    }();
    __name(_StepRegistry, "StepRegistry");
    var StepRegistry = _StepRegistry, StepRegistry_default = StepRegistry;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var createChallengeFromPostStep = __name(function() {
        return {
            id: "ChallengeFromPost",
            runAsync: __name(function(context) {
                return _async_to_generator(function() {
                    var opponentId, match, playerId2;
                    return _ts_generator(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                if ("string" != typeof (opponentId = context.contextData.playerId)) return [
                                    2,
                                    !0
                                ];
                                if (match = codex.match, (playerId2 = codex.player.getPlayerId()) !== opponentId) return [
                                    3,
                                    2
                                ];
                                return [
                                    4,
                                    match.single.start.processAsync({
                                        playerId: playerId2
                                    })
                                ];
                            case 1:
                            case 3:
                            case 5:
                                return _state.sent(), [
                                    3,
                                    6
                                ];
                            case 2:
                                return _state.trys.push([
                                    2,
                                    4,
                                    ,
                                    6
                                ]), [
                                    4,
                                    match.challenge.friend.processAsync({
                                        playerId: playerId2,
                                        opponentId: opponentId
                                    })
                                ];
                            case 4:
                                return console.warn("ChallengeFromPostStep", _state.sent()), [
                                    4,
                                    match.single.start.processAsync({
                                        playerId: playerId2
                                    })
                                ];
                            case 6:
                                return context.sceneName = "GameScene", [
                                    2,
                                    !0
                                ];
                        }
                    });
                })();
            }, "runAsync")
        };
    }, "createChallengeFromPostStep"), ChallengeFromPostStep_default = createChallengeFromPostStep;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var createSwitchSceneStep = __name(function() {
        return {
            id: "SwitchScene",
            runAsync: __name(function(context) {
                return _async_to_generator(function() {
                    var sceneName, sceneData;
                    return _ts_generator(this, function(_state) {
                        return (sceneName = context.sceneName) ? (sceneData = {
                            isFromLoader: !0
                        }, codex.event.emit(Ludex.Events.SWITCH_SCENE, {
                            sceneName: sceneName,
                            sceneData: sceneData
                        }), [
                            2,
                            !1
                        ]) : [
                            2,
                            !0
                        ];
                    });
                })();
            }, "runAsync")
        };
    }, "createSwitchSceneStep"), SwitchSceneStep_default = createSwitchSceneStep, SHARE_INVITE = ContextTypes_default.SHARE_INVITE, CHALLENGE_FRIEND = ContextTypes_default.CHALLENGE_FRIEND, createChallengeFromPostFlow = __name(function() {
        return {
            id: "ChallengeFromPostFlow",
            when: __name(function(context) {
                var _context_contextData = context.contextData, type = _context_contextData.type, playerId2 = _context_contextData.playerId, contextSessionType = context.contextSessionType;
                return type === SHARE_INVITE && "string" == typeof playerId2 && contextSessionType === CHALLENGE_FRIEND;
            }, "when"),
            do: new StepRegistry_default([
                ChallengeFromPostStep_default(),
                SwitchSceneStep_default()
            ])
        };
    }, "createChallengeFromPostFlow"), ChallengeFromPostFlow_default = createChallengeFromPostFlow;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _PlayerHasFinishedMatch = function(Error1) {
        function _PlayerHasFinishedMatch(message) {
            var _this;
            return _class_call_check(this, _PlayerHasFinishedMatch), (_this = _call_super(this, _PlayerHasFinishedMatch, [
                message
            ])).name = "PlayerHasFinishedMatch", _this.message = null != message ? message : "Player has finished match", _this;
        }
        return _inherits(_PlayerHasFinishedMatch, Error1), _PlayerHasFinishedMatch;
    }(_wrap_native_super(Error));
    __name(_PlayerHasFinishedMatch, "PlayerHasFinishedMatch");
    var PlayerHasFinishedMatch = _PlayerHasFinishedMatch, PlayerHasFinishedMatch_default = PlayerHasFinishedMatch;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _PlayerNotJoinInMatch = function(Error1) {
        function _PlayerNotJoinInMatch(message) {
            var _this;
            return _class_call_check(this, _PlayerNotJoinInMatch), (_this = _call_super(this, _PlayerNotJoinInMatch, [
                message
            ])).name = "PlayerNotJoinInMatch", _this.message = message || "Player is not join in match", _this;
        }
        return _inherits(_PlayerNotJoinInMatch, Error1), _PlayerNotJoinInMatch;
    }(_wrap_native_super(Error));
    __name(_PlayerNotJoinInMatch, "PlayerNotJoinInMatch");
    var PlayerNotJoinInMatch = _PlayerNotJoinInMatch, PlayerNotJoinInMatch_default = PlayerNotJoinInMatch, processContinueChallengeFromMessageAsync = __name(function(payload) {
        return _async_to_generator(function() {
            var match, player, contextId2, matchId, inviterId, receiverId, curPlayerId, isSampleOpponent;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        if (match = codex.match, player = codex.player, contextId2 = payload.contextId, matchId = payload.matchId, inviterId = payload.playerId, receiverId = payload.opponentId, curPlayerId = player.getPlayerId(), inviterId !== curPlayerId) return [
                            3,
                            2
                        ];
                        return [
                            4,
                            match.challenge.continue.processAsync({
                                contextId: contextId2,
                                matchId: matchId,
                                playerId: curPlayerId,
                                opponentId: receiverId
                            })
                        ];
                    case 1:
                        return _state.sent(), [
                            3,
                            4
                        ];
                    case 2:
                        return isSampleOpponent = receiverId === SampleOpponent_default.playerId, [
                            4,
                            match.challenge.continue.processAsync({
                                contextId: contextId2,
                                matchId: matchId,
                                playerId: curPlayerId,
                                opponentId: isSampleOpponent ? receiverId : inviterId
                            })
                        ];
                    case 3:
                        _state.sent(), _state.label = 4;
                    case 4:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "processContinueChallengeFromMessageAsync"), processJoinChallengeFromMessageAsync = __name(function(payload) {
        return _async_to_generator(function() {
            var match, player, contextId2, matchId, inviterId, curPlayerId, e;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        match = codex.match, player = codex.player, contextId2 = payload.contextId, matchId = payload.matchId, inviterId = payload.playerId, curPlayerId = player.getPlayerId(), _state.label = 1;
                    case 1:
                        return _state.trys.push([
                            1,
                            3,
                            ,
                            4
                        ]), [
                            4,
                            match.challenge.join.processAsync({
                                contextId: contextId2,
                                matchId: matchId,
                                playerId: curPlayerId,
                                opponentId: inviterId
                            })
                        ];
                    case 2:
                        return _state.sent(), [
                            2,
                            "GameScene"
                        ];
                    case 3:
                        return e = _state.sent(), [
                            2,
                            "DashboardScene"
                        ];
                    case 4:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "processJoinChallengeFromMessageAsync"), processResultChallengeFromMessageAsync = __name(function(payload) {
        return _async_to_generator(function() {
            var match, player, contextId2, matchId, inviterId, curPlayerId, e;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        match = codex.match, player = codex.player, contextId2 = payload.contextId, matchId = payload.matchId, inviterId = payload.playerId, curPlayerId = player.getPlayerId(), _state.label = 1;
                    case 1:
                        return _state.trys.push([
                            1,
                            3,
                            ,
                            4
                        ]), [
                            4,
                            match.challenge.result.processAsync({
                                contextId: contextId2,
                                matchId: matchId,
                                playerId: curPlayerId,
                                opponentId: inviterId
                            })
                        ];
                    case 2:
                        return _state.sent(), [
                            2,
                            "ChallengeResultScene"
                        ];
                    case 3:
                        return e = _state.sent(), [
                            2,
                            "DashboardScene"
                        ];
                    case 4:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "processResultChallengeFromMessageAsync"), processAwaitChallengeFromMessageAsync = __name(function(payload) {
        return _async_to_generator(function() {
            var match, player, contextId2, matchId, inviterId, curPlayerId;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        match = codex.match, player = codex.player, contextId2 = payload.contextId, matchId = payload.matchId, inviterId = payload.playerId, curPlayerId = player.getPlayerId(), _state.label = 1;
                    case 1:
                        return _state.trys.push([
                            1,
                            3,
                            ,
                            5
                        ]), [
                            4,
                            match.challenge.await.processAsync({
                                contextId: contextId2,
                                matchId: matchId,
                                playerId: curPlayerId,
                                opponentId: inviterId
                            })
                        ];
                    case 2:
                        return _state.sent(), [
                            2,
                            "ChallengeResultScene"
                        ];
                    case 3:
                        return console.warn("processAwaitChallengeFromMessageAsync", _state.sent()), [
                            4,
                            processResultChallengeFromMessageAsync(payload)
                        ];
                    case 4:
                        return [
                            2,
                            _state.sent()
                        ];
                    case 5:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "processAwaitChallengeFromMessageAsync"), processChallengeFromMessageAsync = __name(function(payload) {
        return _async_to_generator(function() {
            var error;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        return _state.trys.push([
                            0,
                            2,
                            ,
                            7
                        ]), [
                            4,
                            processContinueChallengeFromMessageAsync(payload)
                        ];
                    case 1:
                        return _state.sent(), [
                            3,
                            7
                        ];
                    case 2:
                        if (console.warn("processContinueChallengeFromMessageAsync", error = _state.sent()), !_instanceof(error, PlayerHasFinishedMatch_default)) return [
                            3,
                            4
                        ];
                        return [
                            4,
                            processAwaitChallengeFromMessageAsync(payload)
                        ];
                    case 3:
                    case 5:
                        return [
                            2,
                            _state.sent()
                        ];
                    case 4:
                        if (!_instanceof(error, PlayerNotJoinInMatch_default)) return [
                            3,
                            6
                        ];
                        return [
                            4,
                            processJoinChallengeFromMessageAsync(payload)
                        ];
                    case 6:
                        return [
                            2,
                            "DashboardScene"
                        ];
                    case 7:
                        return [
                            2,
                            "GameScene"
                        ];
                }
            });
        })();
    }, "processChallengeFromMessageAsync"), createChallengeFromMessageStep = __name(function() {
        return {
            id: "ChallengeFromMessage",
            runAsync: __name(function(context) {
                return _async_to_generator(function() {
                    var contextId2, contextData, matchId, playerId2, opponentId;
                    return _ts_generator(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                if (contextId2 = context.contextId, matchId = (contextData = context.contextData).matchId, playerId2 = contextData.playerId, opponentId = contextData.opponentId, "string" != typeof matchId || "string" != typeof playerId2 || "string" != typeof opponentId) return [
                                    2,
                                    !0
                                ];
                                return [
                                    4,
                                    processChallengeFromMessageAsync({
                                        contextId: contextId2,
                                        matchId: matchId,
                                        playerId: playerId2,
                                        opponentId: opponentId
                                    })
                                ];
                            case 1:
                                return context.sceneName = _state.sent(), [
                                    2,
                                    !0
                                ];
                        }
                    });
                })();
            }, "runAsync")
        };
    }, "createChallengeFromMessageStep"), ChallengeFromMessageStep_default = createChallengeFromMessageStep, CHALLENGE_FRIEND2 = ContextTypes_default.CHALLENGE_FRIEND, createChallengeFromMessageFlow = __name(function() {
        return {
            id: "ChallengeFromMessageFlow",
            when: __name(function(context) {
                var _context_contextData = context.contextData, type = _context_contextData.type, matchId = _context_contextData.matchId, playerId2 = _context_contextData.playerId, opponentId = _context_contextData.opponentId, contextSessionType = context.contextSessionType;
                return type === CHALLENGE_FRIEND2 && "string" == typeof matchId && "string" == typeof playerId2 && "string" == typeof opponentId && contextSessionType === CHALLENGE_FRIEND2;
            }, "when"),
            do: new StepRegistry_default([
                ChallengeFromMessageStep_default(),
                SwitchSceneStep_default()
            ])
        };
    }, "createChallengeFromMessageFlow"), ChallengeFromMessageFlow_default = createChallengeFromMessageFlow;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var createStartSingleForFirstSessionStep = __name(function() {
        return {
            id: "StartSingleForFirstSession",
            runAsync: __name(function(context) {
                return _async_to_generator(function() {
                    var match, player, playerId2;
                    return _ts_generator(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                return match = codex.match, playerId2 = (player = codex.player).getPlayerId(), [
                                    4,
                                    match.handler.setMatchCustomData({
                                        playerId: playerId2,
                                        contextId: "SOLO"
                                    })
                                ];
                            case 1:
                                return _state.sent(), [
                                    4,
                                    match.single.start.processAsync({
                                        playerId: playerId2
                                    })
                                ];
                            case 2:
                                return _state.sent(), player.loggedIn(), context.sceneName = "GameScene", [
                                    2,
                                    !0
                                ];
                        }
                    });
                })();
            }, "runAsync")
        };
    }, "createStartSingleForFirstSessionStep"), StartSingleForFirstSessionStep_default = createStartSingleForFirstSessionStep, createFirstSessionFlow = __name(function() {
        return {
            id: "FirstSessionFlow",
            when: __name(function(context) {
                return context.isFirstSession;
            }, "when"),
            do: new StepRegistry_default([
                StartSingleForFirstSessionStep_default(),
                SwitchSceneStep_default()
            ])
        };
    }, "createFirstSessionFlow"), FirstSessionFlow_default = createFirstSessionFlow;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var createMatchingGroupJoinStep = __name(function() {
        return {
            id: "MatchingGroupJoin",
            runAsync: __name(function(context) {
                return _async_to_generator(function() {
                    var _context_contextData, opponentId, opponentScore, match, player;
                    return _ts_generator(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                if (opponentId = (_context_contextData = context.contextData).playerId, opponentScore = _context_contextData.playerScore, "string" != typeof opponentId || "number" != typeof opponentScore) return [
                                    2,
                                    !0
                                ];
                                return match = codex.match, player = codex.player, [
                                    4,
                                    match.group.join.processAsync({
                                        playerId: player.getPlayerId(),
                                        opponentId: opponentId,
                                        opponentScore: opponentScore
                                    })
                                ];
                            case 1:
                                return _state.sent(), context.sceneName = "GameScene", [
                                    2,
                                    !0
                                ];
                        }
                    });
                })();
            }, "runAsync")
        };
    }, "createMatchingGroupJoinStep"), MatchingGroupJoinStep_default = createMatchingGroupJoinStep, MATCHING_GROUP = ContextTypes_default.MATCHING_GROUP, createMatchingGroupFlow = __name(function() {
        return {
            id: "MatchingGroupFlow",
            when: __name(function(context) {
                var _context_contextData = context.contextData, playerId2 = _context_contextData.playerId, playerScore = _context_contextData.playerScore, contextSessionType = context.contextSessionType;
                return "string" == typeof playerId2 && "number" == typeof playerScore && contextSessionType === MATCHING_GROUP;
            }, "when"),
            do: new StepRegistry_default([
                MatchingGroupJoinStep_default(),
                SwitchSceneStep_default()
            ])
        };
    }, "createMatchingGroupFlow"), MatchingGroupFlow_default = createMatchingGroupFlow;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var Events2 = Ludex.Events, _Ludex_Utils10 = Ludex.Utils, V7 = _Ludex_Utils10.Valid;
    __name(requestSetLocale$, "requestSetLocale$");
    var processEntryPointActionAsync = __name(function(action) {
        return _async_to_generator(function() {
            var player;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        switch(player = codex.player, action){
                            case "reset_data":
                                return [
                                    3,
                                    1
                                ];
                            case "enable_debug":
                                return [
                                    3,
                                    3
                                ];
                            case "set_locale_en":
                                return [
                                    3,
                                    4
                                ];
                            case "set_locale_ru":
                                return [
                                    3,
                                    5
                                ];
                        }
                        return [
                            3,
                            6
                        ];
                    case 1:
                        return player.setPlayerDataByName("score", 0), player.setGameData({
                            coins: 0,
                            level: 1
                        }), [
                            4,
                            player.syncProfileToServer()
                        ];
                    case 2:
                        return _state.sent(), [
                            3,
                            6
                        ];
                    case 3:
                        return player.setPlayerDataByName("debug", !0), [
                            3,
                            6
                        ];
                    case 4:
                        return requestSetLocale$("en"), [
                            3,
                            6
                        ];
                    case 5:
                        return requestSetLocale$("ru"), [
                            3,
                            6
                        ];
                    case 6:
                        return [
                            2
                        ];
                }
            });
        })();
    }, "processEntryPointActionAsync"), createEntryPointActionStep = __name(function() {
        return {
            id: "EntryPointAction",
            runAsync: __name(function(context) {
                return _async_to_generator(function() {
                    var action;
                    return _ts_generator(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                if (_state.trys.push([
                                    0,
                                    2,
                                    ,
                                    3
                                ]), action = context.contextData.action, !V7.isString(action)) return [
                                    2,
                                    !0
                                ];
                                return [
                                    4,
                                    processEntryPointActionAsync(action)
                                ];
                            case 1:
                                return _state.sent(), [
                                    2,
                                    !0
                                ];
                            case 2:
                                return console.warn("EntryPointActionStep", _state.sent()), [
                                    2,
                                    !0
                                ];
                            case 3:
                                return [
                                    2
                                ];
                        }
                    });
                })();
            }, "runAsync")
        };
    }, "createEntryPointActionStep"), EntryPointActionStep_default = createEntryPointActionStep;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var Analytics = Ludex.Plugins.Analytics, logUserAnalytics$ = __name(function(isFirstSession) {
        try {
            var player = codex.player, analytics = codex.analytics;
            if (!analytics) return;
            if (isFirstSession) analytics.event(Analytics.Events.NEW_USER);
            else {
                var coins2 = player.getPlayerData().gameData.coins;
                analytics.event(Analytics.Events.RETURNING_USER, {
                    coins: coins2
                });
            }
        } catch (e) {}
    }, "logUserAnalytics$"), createLogUserAnalyticsStep = __name(function() {
        return {
            id: "LogUserAnalytics",
            runAsync: __name(function(context) {
                return _async_to_generator(function() {
                    return _ts_generator(this, function(_state) {
                        return setTimeout(function() {
                            logUserAnalytics$(context.isFirstSession);
                        }, 1e3), [
                            2,
                            !0
                        ];
                    });
                })();
            }, "runAsync")
        };
    }, "createLogUserAnalyticsStep"), LogUserAnalyticsStep_default = createLogUserAnalyticsStep, createPreFlow = __name(function() {
        return {
            id: "PreFlow",
            when: __name(function(_context) {
                return !0;
            }, "when"),
            do: new StepRegistry_default([
                EntryPointActionStep_default(),
                LogUserAnalyticsStep_default()
            ])
        };
    }, "createPreFlow"), PreFlow_default = createPreFlow;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var createPrepareDashboardSceneStep = __name(function() {
        return {
            id: "PrepareDashboardScene",
            runAsync: __name(function(context) {
                return _async_to_generator(function() {
                    return _ts_generator(this, function(_state) {
                        return context.sceneName = "DashboardScene", [
                            2,
                            !0
                        ];
                    });
                })();
            }, "runAsync")
        };
    }, "createPrepareDashboardSceneStep"), PrepareDashboardSceneStep_default = createPrepareDashboardSceneStep, createNormalFlow = __name(function() {
        return {
            id: "NormalFlow",
            when: __name(function(_context) {
                return !0;
            }, "when"),
            do: new StepRegistry_default([
                PrepareDashboardSceneStep_default(),
                SwitchSceneStep_default()
            ])
        };
    }, "createNormalFlow"), NormalFlow_default = createNormalFlow;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _ContextIdInvalid = function(Error1) {
        function _ContextIdInvalid() {
            return _class_call_check(this, _ContextIdInvalid), _call_super(this, _ContextIdInvalid, [
                "ContextIdInvalid"
            ]);
        }
        return _inherits(_ContextIdInvalid, Error1), _ContextIdInvalid;
    }(_wrap_native_super(Error));
    __name(_ContextIdInvalid, "ContextIdInvalid");
    var ContextIdInvalid = _ContextIdInvalid, ContextIdInvalid_default = ContextIdInvalid, _Ludex_Utils11 = Ludex.Utils, V8 = _Ludex_Utils11.Valid, createContinueTournamentStep = __name(function() {
        return {
            id: "ContinueTournament",
            runAsync: __name(function(context) {
                return _async_to_generator(function() {
                    var match, playerId2, e;
                    return _ts_generator(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                if (_state.trys.push([
                                    0,
                                    2,
                                    ,
                                    3
                                ]), match = codex.match, playerId2 = codex.player.getPlayerId(), V8.isEmpty(context.contextId)) throw new ContextIdInvalid_default();
                                return [
                                    4,
                                    match.tournament.continue.processAsync({
                                        playerId: playerId2,
                                        contextId: context.contextId
                                    })
                                ];
                            case 1:
                                return _state.sent(), context.sceneName = "GameScene", [
                                    3,
                                    3
                                ];
                            case 2:
                                return e = _state.sent(), [
                                    3,
                                    3
                                ];
                            case 3:
                                return [
                                    2,
                                    !0
                                ];
                        }
                    });
                })();
            }, "runAsync")
        };
    }, "createContinueTournamentStep"), ContinueTournamentStep_default = createContinueTournamentStep, TOURNAMENT = ContextTypes_default.TOURNAMENT, createTournamentFlow = __name(function() {
        return {
            id: "TournamentFlow",
            when: __name(function(context) {
                return context.contextSessionType === TOURNAMENT;
            }, "when"),
            do: new StepRegistry_default([
                ContinueTournamentStep_default(),
                SwitchSceneStep_default()
            ])
        };
    }, "createTournamentFlow"), TournamentFlow_default = createTournamentFlow;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var FlowType = function(FlowType2) {
        return FlowType2.StartID = "__start__", FlowType2;
    }(FlowType || {}), FlowTypes_default = FlowType;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _FlowIdDuplicate = function(Error1) {
        function _FlowIdDuplicate(flowId) {
            return _class_call_check(this, _FlowIdDuplicate), _call_super(this, _FlowIdDuplicate, [
                "Duplicate flow id: ".concat(flowId)
            ]);
        }
        return _inherits(_FlowIdDuplicate, Error1), _FlowIdDuplicate;
    }(_wrap_native_super(Error));
    __name(_FlowIdDuplicate, "FlowIdDuplicate");
    var FlowIdDuplicate = _FlowIdDuplicate, FlowIdDuplicate_default = FlowIdDuplicate;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _FlowIdInvalid = function(Error1) {
        function _FlowIdInvalid(flowId) {
            return _class_call_check(this, _FlowIdInvalid), _call_super(this, _FlowIdInvalid, [
                "Invalid flow id: ".concat(flowId)
            ]);
        }
        return _inherits(_FlowIdInvalid, Error1), _FlowIdInvalid;
    }(_wrap_native_super(Error));
    __name(_FlowIdInvalid, "FlowIdInvalid");
    var FlowIdInvalid = _FlowIdInvalid, FlowIdInvalid_default = FlowIdInvalid;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _FlowNotFound = function(Error1) {
        function _FlowNotFound(flowId) {
            return _class_call_check(this, _FlowNotFound), _call_super(this, _FlowNotFound, [
                "Flow not found: ".concat(flowId)
            ]);
        }
        return _inherits(_FlowNotFound, Error1), _FlowNotFound;
    }(_wrap_native_super(Error));
    __name(_FlowNotFound, "FlowNotFound");
    var FlowNotFound = _FlowNotFound, FlowNotFound_default = FlowNotFound, _FlowRegistry = function() {
        function _FlowRegistry() {
            var initialFlows = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            _class_call_check(this, _FlowRegistry), _define_property(this, "flows$", void 0), this.flows$ = [];
            var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
            try {
                for(var _step, _iterator = initialFlows[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                    var flow = _step.value;
                    this.addAfter(FlowTypes_default.StartID, flow);
                }
            } catch (err) {
                _didIteratorError = !0, _iteratorError = err;
            } finally{
                try {
                    _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                } finally{
                    if (_didIteratorError) throw _iteratorError;
                }
            }
        }
        return _create_class(_FlowRegistry, [
            {
                key: "createSteps",
                value: function createSteps(steps) {
                    return new StepRegistry_default(steps);
                }
            },
            {
                key: "addBefore",
                value: function addBefore(targetFlowId, flow) {
                    if (this.validateFlowId$(flow.id), this.validateFlowDuplicate$(flow.id), targetFlowId === FlowTypes_default.StartID) return void this.flows$.unshift(flow);
                    var targetIndex = this.getFlowIndexOrThrow$(targetFlowId);
                    this.flows$.splice(targetIndex, 0, flow);
                }
            },
            {
                key: "addAfter",
                value: function addAfter(targetFlowId, flow) {
                    if (this.validateFlowId$(flow.id), this.validateFlowDuplicate$(flow.id), targetFlowId === FlowTypes_default.StartID) return void this.flows$.push(flow);
                    var targetIndex = this.getFlowIndexOrThrow$(targetFlowId);
                    this.flows$.splice(targetIndex + 1, 0, flow);
                }
            },
            {
                key: "replace",
                value: function replace(flowId, patch) {
                    this.validateFlowId$(flowId);
                    var index = this.getFlowIndexOrThrow$(flowId), currentFlow = this.flows$[index];
                    this.flows$[index] = __spreadValues(__spreadValues({}, currentFlow), patch);
                }
            },
            {
                key: "remove",
                value: function remove(flowId) {
                    var index = this.getFlowIndexOrThrow$(flowId);
                    this.flows$.splice(index, 1);
                }
            },
            {
                key: "runAsync",
                value: function runAsync(context) {
                    return _async_to_generator(function() {
                        var startedAt, rows, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, flow, flowStart, _ref, matched, done, err;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    startedAt = performance.now(), rows = [], _state.label = 1;
                                case 1:
                                    _state.trys.push([
                                        1,
                                        ,
                                        10,
                                        11
                                    ]), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0, _state.label = 2;
                                case 2:
                                    _state.trys.push([
                                        2,
                                        7,
                                        8,
                                        9
                                    ]), _iterator = this.flows$[Symbol.iterator](), _state.label = 3;
                                case 3:
                                    if (_iteratorNormalCompletion = (_step = _iterator.next()).done) return [
                                        3,
                                        6
                                    ];
                                    return flow = _step.value, flowStart = performance.now(), [
                                        4,
                                        this.matchAndRunFlow$(flow, context)
                                    ];
                                case 4:
                                    if (matched = (_ref = _state.sent()).matched, done = _ref.done, rows.push({
                                        flowId: flow.id,
                                        matched: matched,
                                        done: done,
                                        ms: this.getDuration$(flowStart)
                                    }), done) return [
                                        2,
                                        !0
                                    ];
                                    _state.label = 5;
                                case 5:
                                    return _iteratorNormalCompletion = !0, [
                                        3,
                                        3
                                    ];
                                case 6:
                                    return [
                                        3,
                                        9
                                    ];
                                case 7:
                                    return err = _state.sent(), _didIteratorError = !0, _iteratorError = err, [
                                        3,
                                        9
                                    ];
                                case 8:
                                    try {
                                        _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                                    } finally{
                                        if (_didIteratorError) throw _iteratorError;
                                    }
                                    return [
                                        7
                                    ];
                                case 9:
                                    return [
                                        3,
                                        11
                                    ];
                                case 10:
                                    return this.logResult$(rows, startedAt), [
                                        7
                                    ];
                                case 11:
                                    return [
                                        2,
                                        !1
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "matchAndRunFlow$",
                value: function matchAndRunFlow$(flow, context) {
                    return _async_to_generator(function() {
                        var matched;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    matched = !1;
                                    try {
                                        matched = flow.when(context);
                                    } catch (error) {
                                        console.warn("FlowRegistry.when(".concat(flow.id, ")"), error);
                                    }
                                    if (!matched) return [
                                        2,
                                        {
                                            matched: !1,
                                            done: !1
                                        }
                                    ];
                                    return [
                                        4,
                                        flow.do.runAsync(context)
                                    ];
                                case 1:
                                    return [
                                        2,
                                        {
                                            matched: !0,
                                            done: _state.sent()
                                        }
                                    ];
                            }
                        });
                    })();
                }
            },
            {
                key: "logResult$",
                value: function logResult$(rows, startedAt) {
                    var totalMs = this.getDuration$(startedAt);
                    console.groupCollapsed("\uD83D\uDD00 Flows Result (".concat(totalMs, "ms)")), console.table(rows), console.groupEnd();
                }
            },
            {
                key: "validateFlowId$",
                value: function validateFlowId$(flowId) {
                    if ("string" != typeof flowId || 0 === flowId.trim().length) throw new FlowIdInvalid_default("".concat(flowId));
                }
            },
            {
                key: "validateFlowDuplicate$",
                value: function validateFlowDuplicate$(flowId) {
                    if (this.flows$.some(function(f) {
                        return f.id === flowId;
                    })) throw new FlowIdDuplicate_default(flowId);
                }
            },
            {
                key: "findIndex$",
                value: function findIndex$(flowId) {
                    return this.validateFlowId$(flowId), this.flows$.findIndex(function(f) {
                        return f.id === flowId;
                    });
                }
            },
            {
                key: "getFlowIndexOrThrow$",
                value: function getFlowIndexOrThrow$(flowId) {
                    var index = this.findIndex$(flowId);
                    if (index < 0) throw new FlowNotFound_default(flowId);
                    return index;
                }
            },
            {
                key: "getDuration$",
                value: function getDuration$(start) {
                    return Math.round((performance.now() - start) * 100) / 100;
                }
            }
        ]), _FlowRegistry;
    }();
    __name(_FlowRegistry, "FlowRegistry");
    var FlowRegistry = _FlowRegistry, FlowRegistry_default = FlowRegistry, _Loader = function() {
        function _Loader(codex2) {
            _class_call_check(this, _Loader), _define_property(this, "codex", void 0), _define_property(this, "flows", void 0), this.codex = codex2, this.flows = new FlowRegistry_default([
                PreFlow_default(),
                TournamentFlow_default(),
                ChallengeFromPostFlow_default(),
                ChallengeFromMessageFlow_default(),
                MatchingGroupFlow_default(),
                FirstSessionFlow_default(),
                NormalFlow_default()
            ]);
        }
        return _create_class(_Loader, [
            {
                key: "processContextData",
                value: function processContextData() {
                    return _async_to_generator(function() {
                        var _this_codex, player, context, contextData, contextInfo;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return player = (_this_codex = this.codex).player, contextData = (context = _this_codex.context).getContextData(), contextInfo = {
                                        contextId: context.getContextId(),
                                        contextData: contextData,
                                        contextSessionType: context.getSessionContextType(),
                                        isFirstSession: player.isFirstSession()
                                    }, console.groupCollapsed("\uD83D\uDD00 ContextLoader"), console.table([
                                        __spreadValues(__spreadValues({}, contextInfo), contextData)
                                    ]), console.groupEnd(), [
                                        4,
                                        this.flows.runAsync(contextInfo)
                                    ];
                                case 1:
                                    return _state.sent() || this.codex.event.emit(Ludex.Events.SWITCH_SCENE, {
                                        sceneName: "DashboardScene",
                                        sceneData: {
                                            isFromLoader: !0
                                        }
                                    }), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "configureFlows",
                value: function configureFlows(configure) {
                    try {
                        configure(this.flows);
                    } catch (error) {
                        console.warn("configureFlows", error);
                    }
                }
            }
        ]), _Loader;
    }();
    __name(_Loader, "Loader");
    var Loader = _Loader, loader_default = Loader;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var initState3 = {
        processed: !1,
        contextId: "",
        contextType: "SOLO",
        entryPointData: {},
        contextGameMode: "",
        sessionContextType: ""
    }, state_default3 = initState3, Events3 = Ludex.Events, _Ludex_Utils12 = Ludex.Utils, F2 = _Ludex_Utils12.Function, _ContextPlugin = function(_Ludex_Plugins_BasePlugin) {
        function _ContextPlugin(game) {
            var _this;
            return _class_call_check(this, _ContextPlugin), _define_property(_this = _call_super(this, _ContextPlugin, [
                game
            ]), "context$", void 0), _define_property(_this, "loader$", void 0), _this.loader$ = new loader_default(game), _this.context$ = new context_default(game), _this;
        }
        return _inherits(_ContextPlugin, _Ludex_Plugins_BasePlugin), _create_class(_ContextPlugin, [
            {
                key: "init",
                value: function init() {
                    this.codex.storage.addStorage("context", state_default3);
                }
            },
            {
                key: "getSessionContextTypes",
                value: function getSessionContextTypes() {
                    return ContextTypes_default;
                }
            },
            {
                key: "processContextData",
                value: function processContextData() {
                    return _async_to_generator(function() {
                        var _this, _this_codex, event, monitorError;
                        return _ts_generator(this, function(_state) {
                            return _this = this, event = (_this_codex = this.codex).event, monitorError = _this_codex.monitorError, event.catchUp(Events3.CONTEXT_SESSION_TYPE_DETECTED, function() {
                                return _async_to_generator(function() {
                                    var error;
                                    return _ts_generator(this, function(_state) {
                                        switch(_state.label){
                                            case 0:
                                                return _state.trys.push([
                                                    0,
                                                    2,
                                                    ,
                                                    3
                                                ]), [
                                                    4,
                                                    this.loader$.processContextData()
                                                ];
                                            case 1:
                                                return _state.sent(), event.emit(Events3.CONTEXT_DATA_PROCESSED), [
                                                    3,
                                                    3
                                                ];
                                            case 2:
                                                return console.debug("processContextData", error = _state.sent()), this.switchToDashboardScene$(), null == monitorError || monitorError.sendException(F2.toError(error)), [
                                                    3,
                                                    3
                                                ];
                                            case 3:
                                                return [
                                                    2
                                                ];
                                        }
                                    });
                                }).call(_this);
                            }), [
                                2
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "configureFlows",
                value: function configureFlows(configure) {
                    this.loader$.configureFlows(configure);
                }
            },
            {
                key: "detectContextSessionType",
                value: function detectContextSessionType() {
                    return _async_to_generator(function() {
                        var _this_codex, event, monitorError, error;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    event = (_this_codex = this.codex).event, monitorError = _this_codex.monitorError, _state.label = 1;
                                case 1:
                                    return _state.trys.push([
                                        1,
                                        3,
                                        4,
                                        5
                                    ]), [
                                        4,
                                        this.context$.detectContextSessionType()
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        3,
                                        5
                                    ];
                                case 3:
                                    return console.debug("detectContextSessionType", error = _state.sent()), null == monitorError || monitorError.sendException(F2.toError(error)), [
                                        3,
                                        5
                                    ];
                                case 4:
                                    return event.emit(Events3.CONTEXT_SESSION_TYPE_DETECTED), [
                                        7
                                    ];
                                case 5:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "detectContextGameMode",
                value: function detectContextGameMode() {
                    this.context$.detectContextGameMode();
                }
            },
            {
                key: "receiveContext",
                value: function receiveContext(contextId2, contextType2, entryPointData2) {
                    this.context$.receiveContext(contextId2, contextType2, entryPointData2);
                }
            },
            {
                key: "getContextId",
                value: function getContextId() {
                    return this.context$.getContextId();
                }
            },
            {
                key: "getContextType",
                value: function getContextType() {
                    return this.context$.getContextType();
                }
            },
            {
                key: "getContextData",
                value: function getContextData() {
                    return this.context$.getContextData();
                }
            },
            {
                key: "getSessionContextType",
                value: function getSessionContextType() {
                    return this.context$.getSessionContextType();
                }
            },
            {
                key: "switchToDashboardScene$",
                value: function switchToDashboardScene$() {
                    this.codex.event.emit(Events3.SWITCH_SCENE, {
                        sceneName: "DashboardScene"
                    });
                }
            }
        ]), _ContextPlugin;
    }(Ludex.Plugins.BasePlugin);
    __name(_ContextPlugin, "ContextPlugin");
    var ContextPlugin = _ContextPlugin, ContextPlugin_default = ContextPlugin;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Utils13 = Ludex.Utils, V9 = _Ludex_Utils13.Valid, contextId = state_default3.contextId, contextType = state_default3.contextType, entryPointData = state_default3.entryPointData, MESSAGE_INVALID3 = "is invalid", _ContextInfoDtos = function(BaseDtos_default) {
        function _ContextInfoDtos() {
            var _this;
            return _class_call_check(this, _ContextInfoDtos), _this = _call_super(this, _ContextInfoDtos, arguments), _define_property(_this, "data$", void 0), _this;
        }
        return _inherits(_ContextInfoDtos, BaseDtos_default), _create_class(_ContextInfoDtos, [
            {
                key: "setupData$",
                value: function setupData$(data) {
                    this.lazySetupData$(data);
                }
            },
            {
                key: "validateStructure$",
                value: function validateStructure$(data) {
                    this.lazyValidateStructure$(data);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(data) {
                    this.lazyValidateData$(data);
                }
            },
            {
                key: "validateContextId",
                value: function validateContextId(contextId2) {
                    V9.isString(contextId2) || this.exception$("contextId", MESSAGE_INVALID3);
                }
            },
            {
                key: "validateContextType",
                value: function validateContextType(contextType2) {
                    V9.isString(contextType2) && contextType2 || this.exception$("contextType", MESSAGE_INVALID3);
                }
            },
            {
                key: "validateEntryPointData",
                value: function validateEntryPointData(entryPointData2) {
                    V9.isObject(entryPointData2) || this.exception$("entryPointData", MESSAGE_INVALID3);
                }
            },
            {
                key: "toObject",
                value: function toObject() {
                    return _get(_get_prototype_of(_ContextInfoDtos.prototype), "toObject", this).call(this);
                }
            }
        ]), _ContextInfoDtos;
    }(BaseDtos_default);
    __name(_ContextInfoDtos, "ContextInfoDtos");
    var ContextInfoDtos = _ContextInfoDtos;
    ContextInfoDtos.addDefaults({
        contextId: contextId,
        contextType: contextType,
        entryPointData: entryPointData
    });
    var ContextInfo_default = ContextInfoDtos;
    Ludex.Dtos.Context = {
        Info: ContextInfo_default
    };
    var context_default2 = ContextPlugin_default;
    init_empty_script(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var import_index = __toESM(require_eventemitter3(), 1), eventemitter3_default = import_index.default, Emitter = new eventemitter3_default(), emitter_default = Emitter;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var initState4 = {
        names: [],
        history: []
    }, state_default4 = initState4, _Ludex_Utils14 = Ludex.Utils, Decorator3 = _Ludex_Utils14.Decorator, A4 = _Ludex_Utils14.Array, _EventPlugin = function(_Ludex_Plugins_BasePlugin) {
        function _EventPlugin() {
            var _this;
            return _class_call_check(this, _EventPlugin), _this = _call_super(this, _EventPlugin, arguments), _define_property(_this, "enableLog$", !1), _define_property(_this, "muteEvents$", []), _this;
        }
        return _inherits(_EventPlugin, _Ludex_Plugins_BasePlugin), _create_class(_EventPlugin, [
            {
                key: "init",
                value: function init() {
                    this.codex.storage.addStorage("event", state_default4);
                }
            },
            {
                key: "enableLogEvent",
                value: function enableLogEvent() {
                    this.enableLog$ = !0;
                }
            },
            {
                key: "on",
                value: function on(event, callback) {
                    this.addEventName$(event), this.addHistory$(event, "on", "listening"), emitter_default.on(event, callback);
                }
            },
            {
                key: "once",
                value: function once(event, callback) {
                    this.addEventName$(event), this.addHistory$(event, "once", "listening"), emitter_default.once(event, callback);
                }
            },
            {
                key: "waitTo",
                value: function waitTo(event, timeout) {
                    var _this = this;
                    return new Promise(function(resolve, reject) {
                        var timeoutId, callback = __name(function(payload) {
                            clearTimeout(timeoutId), resolve(payload);
                        }, "callback");
                        _this.once(event, callback), timeout && timeout > 0 && (timeoutId = setTimeout(function() {
                            _this.off(event, callback), reject(Error("Event ".concat(event, " timeout")));
                        }, timeout));
                    });
                }
            },
            {
                key: "catchUp",
                value: function catchUp(event, callback) {
                    var eventInfo = this.getLastEventInfo(event, "called");
                    if (!eventInfo) return void this.once(event, callback);
                    if (!(this.muteEvents$.indexOf(event) > -1)) {
                        var payload = eventInfo.payload;
                        this.addHistory$(event, "once", "catchup"), callback(payload);
                    }
                }
            },
            {
                key: "off",
                value: function off(event, callback) {
                    emitter_default.off(event, callback), this.addHistory$(event, "action", "removed");
                }
            },
            {
                key: "mute",
                value: function mute(event) {
                    this.muteEvents$.indexOf(event) > -1 || this.muteEvents$.push(event);
                }
            },
            {
                key: "clear",
                value: function clear(event) {
                    emitter_default.removeAllListeners(event), this.addHistory$(event, "action", "removed");
                }
            },
            {
                key: "emit",
                value: function emit(event, payload) {
                    if (!(this.muteEvents$.indexOf(event) > -1)) {
                        var _emitter_default, args = [];
                        payload && (args = [
                            payload
                        ]), this.addHistory$(event, "action", "called", payload), (_emitter_default = emitter_default).emit.apply(_emitter_default, [
                            event
                        ].concat(_to_consumable_array(args)));
                    }
                }
            },
            {
                key: "addEventName$",
                value: function addEventName$(event) {
                    var names2 = this.codex.storage.getStorageData("event", "names");
                    names2 && 0 > names2.indexOf(event) && names2.push(event);
                }
            },
            {
                key: "limitHistory$",
                value: function limitHistory$(history) {
                    var limit = 1e4;
                    return history.length <= limit ? history : A4.limit(history, limit);
                }
            },
            {
                key: "getEventListeners",
                value: function getEventListeners(event) {
                    return this.getHistory().filter(function(item) {
                        return item.name === event && [
                            "listening",
                            "catchup"
                        ].includes(item.status);
                    }).map(function(item) {
                        return item.name;
                    });
                }
            },
            {
                key: "getHistory",
                value: function getHistory() {
                    var _storage_getStorageData, history = null != (_storage_getStorageData = this.codex.storage.getStorageData("event", "history")) ? _storage_getStorageData : [];
                    return this.limitHistory$(history);
                }
            },
            {
                key: "getEventEmitCount",
                value: function getEventEmitCount(event) {
                    return this.getHistory().filter(function(item) {
                        return item.name === event && "called" === item.status;
                    }).length;
                }
            },
            {
                key: "getLastEventInfo",
                value: function getLastEventInfo(event, status) {
                    for(var history = this.getHistory(), i = history.length - 1; i >= 0; i--){
                        var entry = history[i];
                        if (entry.name === event && (!status || entry.status === status)) return entry;
                    }
                    return null;
                }
            },
            {
                key: "getTypeFromHistory$",
                value: function getTypeFromHistory$(event) {
                    var _ref, lastEvent = this.getLastEventInfo(event);
                    return null != (_ref = null == lastEvent ? void 0 : lastEvent.type) ? _ref : null;
                }
            },
            {
                key: "getCallsFromHistory$",
                value: function getCallsFromHistory$(event) {
                    var _ref, lastEvent = this.getLastEventInfo(event);
                    return null != (_ref = null == lastEvent ? void 0 : lastEvent.called) ? _ref : 0;
                }
            },
            {
                key: "addHistory$",
                value: function addHistory$(event, type, status, payload) {
                    var typeFromHistory = this.getTypeFromHistory$(event), correctType = null != typeFromHistory ? typeFromHistory : type, currentCalled = this.getCallsFromHistory$(event), correctCalled = "called" === status ? currentCalled + 1 : currentCalled;
                    this.getHistory().push({
                        type: correctType,
                        status: status,
                        name: event,
                        called: correctCalled,
                        payload: null != payload ? payload : {}
                    }), this.logEventInfo$(event, correctType, status, correctCalled);
                }
            },
            {
                key: "logEventInfo$",
                value: function logEventInfo$(event, type, status, called) {
                    if (this.enableLog$) {
                        if ("listening" === status) {
                            console.debug("Event (".concat(type, ") ").concat(event, ": ").concat(status));
                            var listenerCount = emitter_default.listenerCount(event);
                            listenerCount > 1 && console.warn("Event ".concat(event, " has ").concat(listenerCount, " listener"));
                        } else "action" !== type && console.debug("Event (".concat(type, ") ").concat(event, ": ").concat(status, " (").concat(called, " times)"));
                        "called" === status && 0 >= emitter_default.listenerCount(event) && console.warn("Event ".concat(event, " is called but not listening"));
                    }
                }
            }
        ]), _EventPlugin;
    }(Ludex.Plugins.BasePlugin);
    __name(_EventPlugin, "EventPlugin"), __decorateClass([
        Decorator3.validateParams("string", "function")
    ], _EventPlugin.prototype, "on", 1), __decorateClass([
        Decorator3.validateParams("string", "function")
    ], _EventPlugin.prototype, "once", 1), __decorateClass([
        Decorator3.validateParams("string")
    ], _EventPlugin.prototype, "waitTo", 1), __decorateClass([
        Decorator3.validateParams("string", "function")
    ], _EventPlugin.prototype, "catchUp", 1), __decorateClass([
        Decorator3.validateParams("string", "function")
    ], _EventPlugin.prototype, "off", 1), __decorateClass([
        Decorator3.validateParams("string")
    ], _EventPlugin.prototype, "mute", 1), __decorateClass([
        Decorator3.validateParams("string")
    ], _EventPlugin.prototype, "clear", 1), __decorateClass([
        Decorator3.validateParams("string")
    ], _EventPlugin.prototype, "emit", 1);
    var EventPlugin = _EventPlugin, EventPlugin_default = EventPlugin, event_default = EventPlugin_default;
    init_empty_script(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var FONT_SYS_FAMILY = 'nunito,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif', _Ludex_Configs3 = Ludex.Configs, _Ludex_Configs_FrameCapture = _Ludex_Configs3.FrameCapture, Enabled = _Ludex_Configs_FrameCapture.Enabled, Options = _Ludex_Configs_FrameCapture.Options, _Ludex_Utils15 = Ludex.Utils, B2 = _Ludex_Utils15.Browser, I = _Ludex_Utils15.Image, O6 = _Ludex_Utils15.Object, V10 = _Ludex_Utils15.Valid, _FrameCapturePlugin = function(_Ludex_Plugins_BasePlugin) {
        function _FrameCapturePlugin() {
            var _this;
            return _class_call_check(this, _FrameCapturePlugin), _this = _call_super(this, _FrameCapturePlugin, arguments), _define_property(_this, "width$", void 0), _define_property(_this, "height$", void 0), _define_property(_this, "canvas$", null), _define_property(_this, "context$", null), _define_property(_this, "testRenderOptions$", null), _define_property(_this, "caches$", {}), _define_property(_this, "renderers$", {}), _this;
        }
        return _inherits(_FrameCapturePlugin, _Ludex_Plugins_BasePlugin), _create_class(_FrameCapturePlugin, [
            {
                key: "preloadAsync",
                value: function preloadAsync(payload) {
                    return _async_to_generator(function() {
                        var renderOptions;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return renderOptions = payload.renderOptions, [
                                        4,
                                        this.loadImages$(renderOptions)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "captureAsync",
                value: function captureAsync(payload) {
                    return _async_to_generator(function() {
                        var width, height, renderOptions;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return width = payload.width, height = payload.height, renderOptions = payload.renderOptions, [
                                        4,
                                        this.loadImages$(renderOptions)
                                    ];
                                case 1:
                                    return _state.sent(), this.width$ = width, this.height$ = height, this.createCanvas$(), this.drawObjects$(renderOptions), [
                                        2,
                                        this.snapshotFrameAsync$()
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "renderAsync",
                value: function renderAsync(key, config) {
                    return _async_to_generator(function() {
                        var render;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (!Enabled) return console.warn("FrameCapture is not enabled"), [
                                        2,
                                        null
                                    ];
                                    if (void 0 === (render = this.renderers$[key])) throw Error("Renderer ".concat(key, " has not been set"));
                                    return [
                                        4,
                                        render(config)
                                    ];
                                case 1:
                                    return [
                                        2,
                                        _state.sent()
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "setRenderer",
                value: function setRenderer(renderer, handler) {
                    this.renderers$[renderer] = handler;
                }
            },
            {
                key: "unsetRenderer",
                value: function unsetRenderer(renderer) {
                    delete this.renderers$[renderer];
                }
            },
            {
                key: "setTestRenderOptions",
                value: function setTestRenderOptions(payload) {
                    if (!payload) {
                        this.testRenderOptions$ = null;
                        return;
                    }
                    var options = O6.camelCaseKeys(payload);
                    this.testRenderOptions$ = O6.merge(this.testRenderOptions$, options);
                }
            },
            {
                key: "createCanvas$",
                value: function createCanvas$() {
                    if (!this.canvas$) {
                        var result3 = B2.createCanvas({
                            type: "canvas",
                            contextAttributes: {
                                alpha: !1,
                                desynchronized: !0,
                                willReadFrequently: !0
                            },
                            contextType: "2d"
                        });
                        this.canvas$ = null == result3 ? void 0 : result3.canvas, this.context$ = null == result3 ? void 0 : result3.context;
                    }
                    if (!this.canvas$) throw Error("Failed to create canvas");
                    this.context$ && this.context$.clearRect(0, 0, this.width$, this.height$), this.canvas$.width = this.width$, this.canvas$.height = this.height$;
                }
            },
            {
                key: "loadImages$",
                value: function loadImages$(payload) {
                    return _async_to_generator(function() {
                        var images, queue, promises, result3;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (images = this.getRenderImages$(payload), queue = this.prepareLoadImages$(images), (promises = O6.vals(queue)).length < 1) return [
                                        2
                                    ];
                                    return [
                                        4,
                                        Promise.all(promises)
                                    ];
                                case 1:
                                    return result3 = _state.sent(), this.cacheImages$(queue, result3), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getRenderImages$",
                value: function getRenderImages$(renderOptions) {
                    var imageOptions = O6.vals(renderOptions).filter(function(option) {
                        return "image" === option.type;
                    }), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = imageOptions[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                            var imageOption = _step.value, name2 = imageOption.name, image = imageOption.image, fallbackImage = imageOption.fallbackImage, isImageValid = V10.isString(image) && "" !== image;
                            if (!name2) {
                                var defaultName2 = isImageValid ? image : fallbackImage;
                                defaultName2 && (imageOption.name = defaultName2);
                            }
                            !isImageValid && fallbackImage && (imageOption.image = fallbackImage);
                        }
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                    return imageOptions;
                }
            },
            {
                key: "prepareLoadImages$",
                value: function prepareLoadImages$(images) {
                    var queue = {}, _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _this, _step, _loop = function _loop() {
                            var img2 = _step.value, name2 = img2.name, image = img2.image, fallbackImage = img2.fallbackImage, cached = _this.caches$[name2];
                            if (!V10.isString(image) || cached) return "continue";
                            "" === image && V10.isString(fallbackImage) && (img2.image = fallbackImage), console.debug("prepareLoadImages", img2), queue[name2] = new Promise(function(resolve) {
                                I.loadImage(image).then(function(img3) {
                                    resolve(img3);
                                }).catch(function() {
                                    V10.isString(fallbackImage) ? (img2.image = fallbackImage, I.loadImage(img2.image).then(function(img3) {
                                        resolve(img3);
                                    }).catch(function() {
                                        resolve(null);
                                    })) : resolve(null);
                                });
                            });
                        }, _iterator = images[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)_this = this, _loop();
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                    return queue;
                }
            },
            {
                key: "cacheImages$",
                value: function cacheImages$(queue, result3) {
                    for(var id in queue){
                        var image = result3.shift();
                        image && (this.caches$[id] = image);
                    }
                }
            },
            {
                key: "drawObjects$",
                value: function drawObjects$(payload) {
                    var options = O6.vals(payload).sort(function(a, b) {
                        return a.depth - b.depth;
                    }), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = options[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                            var option = _step.value;
                            switch(option.type){
                                case "text":
                                    this.drawText$(option);
                                    break;
                                case "image":
                                    this.drawImage$(option);
                            }
                        }
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                }
            },
            {
                key: "drawText$",
                value: function drawText$(option) {
                    if (this.canvas$ && this.context$) {
                        var position = option.position, font = option.font, text = option.text, color = option.color, lineWidth = option.lineWidth, textAlign = option.textAlign;
                        this.context$.font = "".concat(font, " ").concat(FONT_SYS_FAMILY), this.context$.fillStyle = null != color ? color : "#ffffff", lineWidth && (this.context$.lineWidth = lineWidth), textAlign && (this.context$.textAlign = textAlign), console.debug("drawText", option);
                        var _position = _sliced_to_array(position, 2), x = _position[0], y = _position[1];
                        this.context$.fillText(text, x, y);
                    }
                }
            },
            {
                key: "drawImage$",
                value: function drawImage$(option) {
                    if (this.canvas$ && this.context$) {
                        var name2 = option.name, size = option.size, position = option.position, fallbackImage = option.fallbackImage, source = this.caches$[name2];
                        if (!source && fallbackImage && (source = this.caches$[fallbackImage]), !source) throw Error("Image ".concat(name2, " not found"));
                        console.debug("drawImage", option);
                        var _position = _sliced_to_array(position, 2), x = _position[0], y = _position[1], _size = _sliced_to_array(size, 2), width = _size[0], height = _size[1];
                        this.context$.drawImage(source, x, y, width, height);
                    }
                }
            },
            {
                key: "snapshotFrameAsync$",
                value: function snapshotFrameAsync$() {
                    return _async_to_generator(function() {
                        var imageData;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (!this.canvas$) return [
                                        2,
                                        null
                                    ];
                                    if (imageData = null, !(Options.UseBlobIfPossible && "toBlob" in this.canvas$)) return [
                                        3,
                                        2
                                    ];
                                    return [
                                        4,
                                        this.createAsBlob$()
                                    ];
                                case 1:
                                    return imageData = _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    imageData = this.createAsDataImage$(), _state.label = 3;
                                case 3:
                                    if (!imageData) throw Error("Image data is null");
                                    return V10.isDebugger() && I.logImage(imageData), [
                                        2,
                                        imageData
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "createAsDataImage$",
                value: function createAsDataImage$() {
                    if (!this.canvas$ || !this.context$) return null;
                    var Quality = Options.Quality, RenderType = Options.RenderType;
                    return this.context$.canvas.toDataURL("image/".concat(RenderType), Quality);
                }
            },
            {
                key: "createAsBlob$",
                value: function createAsBlob$() {
                    var _this = this;
                    return new Promise(function(resolve) {
                        if (!_this.canvas$) return void resolve(null);
                        var Quality = Options.Quality, RenderType = Options.RenderType;
                        _this.canvas$.toBlob(function(blob) {
                            blob ? I.blobToDataImage(blob).then(function(image) {
                                resolve(image);
                            }) : resolve(null);
                        }, "image/".concat(RenderType), Quality);
                    });
                }
            }
        ]), _FrameCapturePlugin;
    }(Ludex.Plugins.BasePlugin);
    __name(_FrameCapturePlugin, "FrameCapturePlugin");
    var FrameCapturePlugin = _FrameCapturePlugin, FrameCapturePlugin_default = FrameCapturePlugin, frame_capture_default = FrameCapturePlugin_default;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _LocaleNotFoundError = function(Error1) {
        function _LocaleNotFoundError(locale2) {
            var _this;
            return _class_call_check(this, _LocaleNotFoundError), _define_property(_this = _call_super(this, _LocaleNotFoundError, [
                'Locale "'.concat(locale2, '" not found')
            ]), "locale", void 0), _this.name = "LocaleNotFoundError", _this.locale = locale2, _this;
        }
        return _inherits(_LocaleNotFoundError, Error1), _LocaleNotFoundError;
    }(_wrap_native_super(Error));
    __name(_LocaleNotFoundError, "LocaleNotFoundError");
    var LocaleNotFoundError = _LocaleNotFoundError, LocaleNotFoundError_default = LocaleNotFoundError;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _MissingKeyInLocaleError = function(Error1) {
        function _MissingKeyInLocaleError(key, locale2) {
            _class_call_check(this, _MissingKeyInLocaleError);
            var _this, keyString = String(key);
            return _define_property(_this = _call_super(this, _MissingKeyInLocaleError, [
                'Text with key "'.concat(keyString, '" not found in locale "').concat(locale2, '"')
            ]), "key", void 0), _define_property(_this, "locale", void 0), _this.name = "MissingKeyInLocaleError", _this.key = keyString, _this.locale = locale2, _this;
        }
        return _inherits(_MissingKeyInLocaleError, Error1), _MissingKeyInLocaleError;
    }(_wrap_native_super(Error));
    __name(_MissingKeyInLocaleError, "MissingKeyInLocaleError");
    var MissingKeyInLocaleError = _MissingKeyInLocaleError, MissingKeyInLocaleError_default = MissingKeyInLocaleError, _Ludex_Utils16 = Ludex.Utils, O7 = _Ludex_Utils16.Object, F3 = _Ludex_Utils16.Function, B3 = _Ludex_Utils16.Browser, V11 = _Ludex_Utils16.Valid, _Ludex_Configs4 = Ludex.Configs, DetectPlayerLocale = _Ludex_Configs4.Languages.DetectPlayerLocale;
    __name(nullOrNotEmpty, "nullOrNotEmpty");
    var _LanguagePlugin = function(_Ludex_Plugins_BasePlugin) {
        function _LanguagePlugin() {
            var _this;
            return _class_call_check(this, _LanguagePlugin), _this = _call_super(this, _LanguagePlugin, arguments), _define_property(_this, "locale$", void 0), _define_property(_this, "fallbackLocale$", void 0), _define_property(_this, "data$", {}), _this;
        }
        return _inherits(_LanguagePlugin, _Ludex_Plugins_BasePlugin), _create_class(_LanguagePlugin, [
            {
                key: "setFallbackLocale",
                value: function setFallbackLocale(locale2) {
                    this.fallbackLocale$ = locale2;
                }
            },
            {
                key: "hasLocale",
                value: function hasLocale(locale2) {
                    return O7.hasOwn(this.data$, locale2);
                }
            },
            {
                key: "hasTextKey",
                value: function hasTextKey(key, locale2) {
                    var l = null != locale2 ? locale2 : this.getCurrentLocale(), text = this.getLocaleData$(l).text;
                    return O7.hasOwn(text, key);
                }
            },
            {
                key: "hasTextureKey",
                value: function hasTextureKey(key, locale2) {
                    var l = null != locale2 ? locale2 : this.getCurrentLocale(), texture = this.getLocaleData$(l).texture;
                    return O7.hasOwn(texture, key);
                }
            },
            {
                key: "add",
                value: function add(locale2, data) {
                    var setAsFallback = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    this.data$[locale2] = data, setAsFallback && this.setFallbackLocale(locale2);
                }
            },
            {
                key: "choose",
                value: function choose(locale2) {
                    this.locale$ = locale2, this.codex.event.emit(Ludex.Events.LANGUAGE_CHANGED, {
                        locale: locale2
                    });
                }
            },
            {
                key: "getText",
                value: function getText(key, variables, locale2) {
                    var disableFallback = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                    try {
                        return this.uncaughtGetText$(key, variables, locale2, !disableFallback);
                    } catch (error) {
                        return _instanceof(error, MissingKeyInLocaleError_default) || _instanceof(error, LocaleNotFoundError_default) ? console.warn(error.message) : console.error(error), String(key);
                    }
                }
            },
            {
                key: "getTexture",
                value: function getTexture(key, locale2) {
                    var disableFallback = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    return this.uncaughtGetTexture$(key, locale2, !disableFallback);
                }
            },
            {
                key: "uncaughtGetText$",
                value: function uncaughtGetText$(key) {
                    var _this = this, variables = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], locale2 = arguments.length > 2 ? arguments[2] : void 0, enableFallback = !(arguments.length > 3) || void 0 === arguments[3] || arguments[3];
                    if (!enableFallback || void 0 === this.fallbackLocale$) {
                        var text2 = this.getRawText$(key, null != locale2 ? locale2 : this.getCurrentLocale());
                        return this.replaceVariables$(text2, variables);
                    }
                    var fallbackLocale = this.fallbackLocale$, text = F3.retry(function() {
                        return _this.getRawText$(key, null != locale2 ? locale2 : _this.getCurrentLocale());
                    }, function() {
                        return _this.getRawText$(key, fallbackLocale);
                    });
                    return this.replaceVariables$(text, variables);
                }
            },
            {
                key: "getRawText$",
                value: function getRawText$(key, locale2) {
                    if (!this.hasTextKey(key, locale2)) throw new MissingKeyInLocaleError_default(key, locale2);
                    return this.getLocaleData$(locale2).text[key];
                }
            },
            {
                key: "uncaughtGetTexture$",
                value: function uncaughtGetTexture$(key, locale2) {
                    var _this = this, enableFallback = !(arguments.length > 2) || void 0 === arguments[2] || arguments[2];
                    if (!enableFallback || void 0 === this.fallbackLocale$) return this.getRawTexture$(key, null != locale2 ? locale2 : this.getCurrentLocale());
                    var fallbackLocale = this.fallbackLocale$;
                    return F3.retry(function() {
                        return _this.getRawTexture$(key, null != locale2 ? locale2 : _this.getCurrentLocale());
                    }, function() {
                        return _this.getRawTexture$(key, fallbackLocale);
                    });
                }
            },
            {
                key: "getRawTexture$",
                value: function getRawTexture$(key, locale2) {
                    if (!this.hasTextureKey(key, locale2)) throw new MissingKeyInLocaleError_default(key, locale2);
                    return this.getLocaleData$(locale2).texture[key];
                }
            },
            {
                key: "getCurrentLocale",
                value: function getCurrentLocale() {
                    var _this_locale$;
                    return null != (_this_locale$ = this.locale$) ? _this_locale$ : "en";
                }
            },
            {
                key: "getLocaleData$",
                value: function getLocaleData$(locale2) {
                    var correctLocale = null != locale2 ? locale2 : this.getCurrentLocale();
                    if (!O7.hasOwn(this.data$, correctLocale)) throw new LocaleNotFoundError_default(correctLocale);
                    return this.data$[correctLocale];
                }
            },
            {
                key: "replaceVariables$",
                value: function replaceVariables$(text, variables) {
                    var length = variables.length;
                    if (0 === length) return text;
                    for(var result3 = text, i = 0; i < length; i++){
                        var variable = variables[i], key = "%{".concat(i, "}");
                        result3 = result3.replace(key, variable);
                    }
                    return result3;
                }
            },
            {
                key: "getPlayerLanguage",
                value: function getPlayerLanguage() {
                    var _ref, _ref1, _ref2, player = this.codex.player, localeStringBySDK = GameSDK.getLocale(), localeBySDK = nullOrNotEmpty(null == localeStringBySDK ? void 0 : localeStringBySDK.trim().split(/[-_]/)[0]), currentLocale = nullOrNotEmpty(this.getBrowserLanguage());
                    if (player.isFirstSession()) return null != (_ref2 = null != localeBySDK ? localeBySDK : currentLocale) ? _ref2 : "en";
                    var playerLanguage = nullOrNotEmpty(player.getPlayerSetting("language"));
                    return null != (_ref = null != (_ref1 = null != playerLanguage ? playerLanguage : localeBySDK) ? _ref1 : currentLocale) ? _ref : "en";
                }
            },
            {
                key: "getBrowserLanguage",
                value: function getBrowserLanguage() {
                    if (!1 === DetectPlayerLocale) return "en";
                    var _locale2_trim, locale2 = B3.getLocale();
                    return null == locale2 || null == (_locale2_trim = locale2.trim()) ? void 0 : _locale2_trim.split(/[-_]/)[0];
                }
            }
        ]), _LanguagePlugin;
    }(Ludex.Plugins.BasePlugin);
    __name(_LanguagePlugin, "LanguagePlugin");
    var LanguagePlugin = _LanguagePlugin, LanguagePlugin_default = LanguagePlugin, language_default = LanguagePlugin_default;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var DefaultResponseLeaderboard = {
        _id: "",
        name: "",
        createdBy: "",
        description: "",
        expireTime: 604800000,
        type: "app_leaderboard",
        timezone: "utc+0",
        createdAt: "2024-01-01T09:00:00.000Z",
        sortOrder: "desc",
        statistics: "max",
        resettable: "manually",
        resetScore: 0,
        numberOfLeaders: 15,
        amountPlayer: 15
    }, ResponseLeaderboard_default = DefaultResponseLeaderboard, _Ludex_Configs5 = Ludex.Configs, OtherHost = _Ludex_Configs5.OtherHost, Mockup = _Ludex_Configs5.Mockup, AppId2 = _Ludex_Configs5.AppId, _Ludex_Utils17 = Ludex.Utils, O8 = _Ludex_Utils17.Object, S3 = _Ludex_Utils17.String, V12 = _Ludex_Utils17.Valid, _LeaderboardAPI = function() {
        function _LeaderboardAPI() {
            _class_call_check(this, _LeaderboardAPI), _define_property(this, "mockAPI$", void 0);
        }
        return _create_class(_LeaderboardAPI, [
            {
                key: "initMockAPI$",
                value: function initMockAPI$() {
                    return _async_to_generator(function() {
                        var LeaderboardAPIMock;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (this.mockAPI$) return [
                                        2
                                    ];
                                    return [
                                        4,
                                        Promise.resolve().then(function() {
                                            return init_empty_script(), empty_script_exports;
                                        })
                                    ];
                                case 1:
                                    if ("function" != typeof (LeaderboardAPIMock = _state.sent().default)) throw Error("Cannot load LeaderboardAPIMock");
                                    return this.mockAPI$ = new LeaderboardAPIMock(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getLeadersAsync",
                value: function getLeadersAsync(id, url, payload) {
                    return _async_to_generator(function() {
                        var params, result3;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (params = S3.params(payload), !Mockup.Leaderboards.Enabled) return [
                                        3,
                                        6
                                    ];
                                    return [
                                        4,
                                        this.initMockAPI$()
                                    ];
                                case 1:
                                    if (_state.sent(), !("playerIds" in payload)) return [
                                        3,
                                        3
                                    ];
                                    return [
                                        4,
                                        this.mockAPI$.getPlayers(id, payload)
                                    ];
                                case 2:
                                    return result3 = _state.sent(), [
                                        3,
                                        5
                                    ];
                                case 3:
                                    return [
                                        4,
                                        this.mockAPI$.getLeaders(id, payload)
                                    ];
                                case 4:
                                    result3 = _state.sent(), _state.label = 5;
                                case 5:
                                    return [
                                        3,
                                        8
                                    ];
                                case 6:
                                    return [
                                        4,
                                        get("".concat(url, "?").concat(params), {}, OtherHost)
                                    ];
                                case 7:
                                    result3 = _state.sent(), _state.label = 8;
                                case 8:
                                    if (!O8.hasOwn(result3, "data") || !Array.isArray(result3.data)) return [
                                        2,
                                        []
                                    ];
                                    return [
                                        2,
                                        result3.data
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getLeaderboardAsync",
                value: function getLeaderboardAsync(id) {
                    return _async_to_generator(function() {
                        var result3, url;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (url = "leaderboards/".concat(id), !Mockup.Leaderboards.Enabled) return [
                                        3,
                                        3
                                    ];
                                    return [
                                        4,
                                        this.initMockAPI$()
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        4,
                                        this.mockAPI$.getLeaderboardAsync(id)
                                    ];
                                case 2:
                                    return result3 = _state.sent(), [
                                        3,
                                        5
                                    ];
                                case 3:
                                    return [
                                        4,
                                        get(url, {}, OtherHost)
                                    ];
                                case 4:
                                    result3 = _state.sent(), O8.hasOwn(result3, "data") && "object" === _type_of(result3.data) && (result3 = result3.data), _state.label = 5;
                                case 5:
                                    return [
                                        2,
                                        result3
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getLeaderboardsAsync",
                value: function getLeaderboardsAsync(options) {
                    return _async_to_generator(function() {
                        var result3, params, url;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (params = S3.params(options), url = "leaderboards", !Mockup.Leaderboards.Enabled) return [
                                        3,
                                        3
                                    ];
                                    return [
                                        4,
                                        this.initMockAPI$()
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        4,
                                        this.mockAPI$.getLeaderboardsAsync(options)
                                    ];
                                case 2:
                                    return result3 = _state.sent(), [
                                        3,
                                        5
                                    ];
                                case 3:
                                    return [
                                        4,
                                        get("".concat(url, "?").concat(params), {}, OtherHost)
                                    ];
                                case 4:
                                    result3 = _state.sent(), result3 = O8.hasOwn(result3, "data") && Array.isArray(result3.data) ? result3.data : [], _state.label = 5;
                                case 5:
                                    return [
                                        2,
                                        result3
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "setLeaderboardScoreAsync",
                value: function setLeaderboardScoreAsync(payload) {
                    return _async_to_generator(function() {
                        var leaderboardId, playerId2, score2;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (leaderboardId = payload.leaderboardId, playerId2 = payload.playerId, score2 = payload.score, !Mockup.Leaderboards.Enabled) return [
                                        3,
                                        3
                                    ];
                                    return [
                                        4,
                                        this.initMockAPI$()
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        4,
                                        this.mockAPI$.setScoreAsync(leaderboardId, playerId2, score2)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        3,
                                        5
                                    ];
                                case 3:
                                    return [
                                        4,
                                        post("leaderboards/".concat(leaderboardId, "/players/").concat(playerId2), {
                                            score: score2
                                        }, {}, OtherHost)
                                    ];
                                case 4:
                                    _state.sent(), _state.label = 5;
                                case 5:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "createLeaderboardAsync",
                value: function createLeaderboardAsync(payload) {
                    return _async_to_generator(function() {
                        var _payload__id, id, numberOfLeaders, leaderboardPayload, url, result3;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (id = null != (_payload__id = payload._id) ? _payload__id : S3.generateObjectId(), numberOfLeaders = payload.numberOfLeaders, leaderboardPayload = __spreadProps(__spreadValues(__spreadValues({}, ResponseLeaderboard_default), payload), {
                                        _id: id,
                                        appId: AppId2,
                                        numberOfLeaders: numberOfLeaders
                                    }), url = "leaderboards", !Mockup.Leaderboards.Enabled) return [
                                        3,
                                        3
                                    ];
                                    return [
                                        4,
                                        this.initMockAPI$()
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        4,
                                        this.mockAPI$.createLeaderboard(leaderboardPayload)
                                    ];
                                case 2:
                                    return result3 = _state.sent(), [
                                        3,
                                        5
                                    ];
                                case 3:
                                    return [
                                        4,
                                        post(url, leaderboardPayload, {}, OtherHost)
                                    ];
                                case 4:
                                    result3 = _state.sent(), O8.hasOwn(result3, "data") && V12.isObject(result3.data) && (result3 = result3.data), _state.label = 5;
                                case 5:
                                    if (!O8.hasOwn(result3, "_id") || result3._id !== id) throw Error("Create leaderboard failed");
                                    return [
                                        2,
                                        id
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _LeaderboardAPI;
    }();
    __name(_LeaderboardAPI, "LeaderboardAPI");
    var LeaderboardAPI = _LeaderboardAPI, LeaderboardAPI_default = LeaderboardAPI;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var DefaultLeaderboard = {
        limit: 0,
        offset: 0,
        leaders: {},
        isRequesting: !1,
        amountPlayer: 0
    }, DefaultLeaderboard_default = DefaultLeaderboard;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var initState5 = {
        leaderboards: {}
    }, state_default5 = initState5, _Ludex_Utils18 = Ludex.Utils, A5 = _Ludex_Utils18.Array, V13 = _Ludex_Utils18.Valid, J3 = _Ludex_Utils18.Json, O9 = _Ludex_Utils18.Object, _Ludex_Configs6 = Ludex.Configs, _Ludex_Configs_Mockup = _Ludex_Configs6.Mockup, LeaderboardsMockupConfig = _Ludex_Configs_Mockup.Leaderboards, _LeaderboardPlugin = function(_Ludex_Plugins_BasePlugin) {
        function _LeaderboardPlugin() {
            var _this;
            return _class_call_check(this, _LeaderboardPlugin), _this = _call_super(this, _LeaderboardPlugin, arguments), _define_property(_this, "lbAPI$", new LeaderboardAPI_default()), _define_property(_this, "configs$", void 0), _this;
        }
        return _inherits(_LeaderboardPlugin, _Ludex_Plugins_BasePlugin), _create_class(_LeaderboardPlugin, [
            {
                key: "init",
                value: function init() {
                    this.codex.storage.addStorage("leaderboard", state_default5), this.configs$ = {};
                }
            },
            {
                key: "addLeaderboard",
                value: function addLeaderboard(options) {
                    var name2 = options.name, type = options.type, leaderboardId = options.leaderboardId, autoSortRank = options.autoSortRank;
                    if (this.getLeaderboard(name2)) return void console.warn("Leaderboard with name ".concat(name2, " already exists"));
                    var host = "leaderboards/".concat(leaderboardId, "/");
                    ("global" === type || "tournament" === type) && (host += "leaders"), "friends" === type && (host += "players"), this.configs$[name2] = {
                        id: leaderboardId,
                        name: name2,
                        type: type,
                        host: host,
                        autoSortRank: autoSortRank
                    };
                    var defaultData = J3.clone(DefaultLeaderboard_default);
                    this.setLeaderboard$(name2, defaultData);
                }
            },
            {
                key: "requestLeaderboardsAsync",
                value: function requestLeaderboardsAsync(options) {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), [
                                        4,
                                        this.lbAPI$.getLeaderboardsAsync(options)
                                    ];
                                case 1:
                                    return [
                                        2,
                                        _state.sent()
                                    ];
                                case 2:
                                    return console.warn("requestGlobalLeaderboardsAsync", _state.sent()), [
                                        2,
                                        []
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "requestLeaderboardAsync",
                value: function requestLeaderboardAsync(name2, limit) {
                    return _async_to_generator(function() {
                        var _this_configs$_name2, id, type, host, leaders, player, paramsPlayerIds, res, resettable, amountPlayer;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        ,
                                        6,
                                        8
                                    ]), this.validateLeaderboard$(name2), this.clearLeaderboard(name2), this.setLeaderboard$(name2, {
                                        isRequesting: !0
                                    }), id = (_this_configs$_name2 = this.configs$[name2]).id, type = _this_configs$_name2.type, host = _this_configs$_name2.host, leaders = [], "friends" !== type) return [
                                        3,
                                        2
                                    ];
                                    return paramsPlayerIds = [
                                        (player = this.codex.player).getPlayerId()
                                    ].concat(_to_consumable_array(player.getConnectedPlayerIds(limit, 0))), this.configs$[name2].playerIds = _to_consumable_array(paramsPlayerIds), [
                                        4,
                                        this.lbAPI$.getLeadersAsync(id, host, {
                                            playerIds: paramsPlayerIds
                                        })
                                    ];
                                case 1:
                                    return leaders = _state.sent(), [
                                        3,
                                        4
                                    ];
                                case 2:
                                    return [
                                        4,
                                        this.lbAPI$.getLeadersAsync(id, host, {
                                            limit: limit,
                                            offset: 0
                                        })
                                    ];
                                case 3:
                                    leaders = _state.sent(), _state.label = 4;
                                case 4:
                                    if (0 === leaders.length) return [
                                        2
                                    ];
                                    return [
                                        4,
                                        this.receiveLeaderboardAsync$(name2, leaders)
                                    ];
                                case 5:
                                    return _state.sent(), this.setLeaderboard$(name2, {
                                        limit: limit,
                                        offset: 0
                                    }), [
                                        3,
                                        8
                                    ];
                                case 6:
                                    return [
                                        4,
                                        this.lbAPI$.getLeaderboardAsync(this.configs$[name2].id)
                                    ];
                                case 7:
                                    return resettable = (res = _state.sent()) ? res.resettable : "", amountPlayer = res ? res.amountPlayer : 0, this.setLeaderboard$(name2, {
                                        isRequesting: !1,
                                        resettable: resettable,
                                        amountPlayer: amountPlayer
                                    }), [
                                        7
                                    ];
                                case 8:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "loadMoreLeaderboardAsync",
                value: function loadMoreLeaderboardAsync(name2, limit) {
                    return _async_to_generator(function() {
                        var leaderboard, _this_configs$_name2, id, host, newOffset, leaders;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (!(leaderboard = this.getLeaderboard(name2))) return [
                                        2
                                    ];
                                    if ("friends" === this.configs$[name2].type) return console.warn("Cannot load more leaderboard with type friend"), [
                                        2
                                    ];
                                    _state.label = 1;
                                case 1:
                                    return _state.trys.push([
                                        1,
                                        ,
                                        3,
                                        4
                                    ]), this.setLeaderboard$(name2, {
                                        isRequesting: !0
                                    }), id = (_this_configs$_name2 = this.configs$[name2]).id, host = _this_configs$_name2.host, newOffset = leaderboard.offset + leaderboard.limit, [
                                        4,
                                        this.lbAPI$.getLeadersAsync(id, host, {
                                            limit: limit,
                                            offset: newOffset
                                        })
                                    ];
                                case 2:
                                    if (0 === (leaders = _state.sent()).length) return [
                                        2
                                    ];
                                    return this.receiveLeaderboardAsync$(name2, leaders), this.setLeaderboard$(name2, {
                                        limit: limit,
                                        offset: newOffset
                                    }), [
                                        3,
                                        4
                                    ];
                                case 3:
                                    return this.setLeaderboard$(name2, {
                                        isRequesting: !1
                                    }), [
                                        7
                                    ];
                                case 4:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getLeaderboard",
                value: function getLeaderboard(name2) {
                    var leaderboards = this.codex.storage.getStorageData("leaderboard", "leaderboards");
                    return leaderboards && leaderboards[name2] ? leaderboards[name2] : null;
                }
            },
            {
                key: "getLeadersByPlayerIdsAsync",
                value: function getLeadersByPlayerIdsAsync(name2, playerIds) {
                    return _async_to_generator(function() {
                        var id, host, res;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), this.validateLeaderboard$(name2), id = this.configs$[name2].id, host = "leaderboards/".concat(id, "/players"), [
                                        4,
                                        this.lbAPI$.getLeadersAsync(id, host, {
                                            playerIds: playerIds
                                        })
                                    ];
                                case 1:
                                    if (0 === (res = _state.sent()).length) return [
                                        2,
                                        []
                                    ];
                                    return [
                                        2,
                                        this.toLeaders$(res)
                                    ];
                                case 2:
                                    return console.warn(_state.sent()), [
                                        2,
                                        []
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getLeaderboardResponseAsync",
                value: function getLeaderboardResponseAsync(id) {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            return [
                                2,
                                this.lbAPI$.getLeaderboardAsync(id)
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "clearLeaderboard",
                value: function clearLeaderboard(name2) {
                    try {
                        this.validateLeaderboard$(name2);
                        var defaultData = J3.clone(DefaultLeaderboard_default);
                        this.setLeaderboard$(name2, null), this.setLeaderboard$(name2, defaultData);
                    } catch (error) {
                        console.warn(error);
                    }
                }
            },
            {
                key: "isLeaderboardEmpty",
                value: function isLeaderboardEmpty(name2) {
                    var leaderboard = this.getLeaderboard(name2);
                    return !leaderboard || 0 === Object.keys(leaderboard.leaders).length;
                }
            },
            {
                key: "isExistLeaderboardId",
                value: function isExistLeaderboardId(leaderboardId) {
                    var _this = this, configs = _this.configs$;
                    return O9.vals(configs).some(function(config) {
                        return config.id === leaderboardId;
                    });
                }
            },
            {
                key: "getLeaderboardName",
                value: function getLeaderboardName(leaderboardId) {
                    var _this = this, configs = _this.configs$, config = A5.search(O9.vals(configs), function(config2) {
                        return config2.id === leaderboardId;
                    });
                    return config ? config.name : null;
                }
            },
            {
                key: "setLeaderboardScoreAsync",
                value: function setLeaderboardScoreAsync(name2, playerId2, score2) {
                    return _async_to_generator(function() {
                        var id, previousScore;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        3,
                                        ,
                                        4
                                    ]), GameSDK.extra.isGuest && !LeaderboardsMockupConfig.Enabled) return [
                                        2
                                    ];
                                    return this.validateLeaderboard$(name2), id = this.configs$[name2].id, [
                                        4,
                                        this.getLastScoreOnLeaderboard$(name2, playerId2)
                                    ];
                                case 1:
                                    if ((previousScore = _state.sent()) && score2 <= previousScore) return [
                                        2
                                    ];
                                    return [
                                        4,
                                        this.lbAPI$.setLeaderboardScoreAsync({
                                            leaderboardId: id,
                                            playerId: playerId2,
                                            score: score2
                                        })
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        3,
                                        4
                                    ];
                                case 3:
                                    return console.warn(_state.sent()), [
                                        3,
                                        4
                                    ];
                                case 4:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getLastScoreOnLeaderboard$",
                value: function getLastScoreOnLeaderboard$(name2, playerId2) {
                    return _async_to_generator(function() {
                        var playerLeaders;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        this.getLeadersByPlayerIdsAsync(name2, [
                                            playerId2
                                        ])
                                    ];
                                case 1:
                                    if (0 === (playerLeaders = _state.sent()).length) return [
                                        2,
                                        null
                                    ];
                                    return [
                                        2,
                                        playerLeaders[0].score
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "createLeaderboardAsync",
                value: function createLeaderboardAsync(payload) {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            return [
                                2,
                                this.lbAPI$.createLeaderboardAsync(payload)
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "validateLeaderboard$",
                value: function validateLeaderboard$(name2) {
                    var leaderboard = this.getLeaderboard(name2);
                    if (!V13.isObject(leaderboard)) throw Error("Leaderboard with name ".concat(name2, " not found"));
                }
            },
            {
                key: "setLeaderboard$",
                value: function setLeaderboard$(name2, leaderboard) {
                    leaderboard && this.codex.storage.setStorageData("leaderboard", "leaderboards", _define_property({}, name2, leaderboard));
                }
            },
            {
                key: "receiveLeaderboardAsync$",
                value: function receiveLeaderboardAsync$(name2, responses) {
                    return _async_to_generator(function() {
                        var _this_getLeaderboard, cleanLeaders, tmp, currentLeaders, uniqueLeaders, rawLeaders, _rawLeaders, sortedLeaders, keyedLeaders;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return this.validateLeaderboard$(name2), [
                                        4,
                                        this.toLeaders$(responses)
                                    ];
                                case 1:
                                    return cleanLeaders = _state.sent().filter(function(leader) {
                                        return leader.name && leader.photo;
                                    }), currentLeaders = void 0 === (tmp = (null != (_this_getLeaderboard = this.getLeaderboard(name2)) ? _this_getLeaderboard : {}).leaders) ? {} : tmp, uniqueLeaders = cleanLeaders.filter(function(leader) {
                                        return !currentLeaders[leader.playerId] || (currentLeaders[leader.playerId] = leader, !1);
                                    }), rawLeaders = O9.vals(currentLeaders), uniqueLeaders.length > 0 && (_rawLeaders = rawLeaders).unshift.apply(_rawLeaders, _to_consumable_array(uniqueLeaders)), sortedLeaders = rawLeaders.sort(function(a, b) {
                                        return b.score - a.score;
                                    }), this.configs$[name2].autoSortRank && (sortedLeaders = sortedLeaders.map(function(leader, index) {
                                        return O9.merge(leader, {
                                            rank: index + 1
                                        });
                                    })), keyedLeaders = O9.keyBy(sortedLeaders, "playerId"), this.setLeaderboard$(name2, {
                                        leaders: keyedLeaders
                                    }), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "toLeaders$",
                value: function toLeaders$(leaders) {
                    return _async_to_generator(function() {
                        var _this, profile, leaderIds, profiles;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _this = this, profile = this.codex.profile, leaderIds = leaders.map(function(leader) {
                                        return leader.playerId;
                                    }), [
                                        4,
                                        profile.requestProfiles(leaderIds)
                                    ];
                                case 1:
                                    return _state.sent(), profiles = profile.getProfiles(), [
                                        2,
                                        leaders.map(function(leader) {
                                            var profile2 = profiles[leader.playerId];
                                            if (!profile2) {
                                                var _language2_getText, name2 = null != (_language2_getText = _this.codex.language.getText("core.nameless")) ? _language2_getText : "Nameless";
                                                return O9.merge(leader, {
                                                    name: name2,
                                                    photo: "default"
                                                });
                                            }
                                            return O9.merge(leader, {
                                                name: profile2.name,
                                                photo: profile2.photo
                                            });
                                        }).map(function(leader) {
                                            return __spreadProps(__spreadValues({}, leader), {
                                                score: parseInt(leader.score, 10)
                                            });
                                        })
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _LeaderboardPlugin;
    }(Ludex.Plugins.BasePlugin);
    __name(_LeaderboardPlugin, "LeaderboardPlugin");
    var LeaderboardPlugin = _LeaderboardPlugin, LeaderboardPlugin_default = LeaderboardPlugin, leaderboards_default = LeaderboardPlugin_default;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _BaseAPI = function() {
        function _BaseAPI() {
            _class_call_check(this, _BaseAPI), _define_property(this, "APIHost$", void 0);
        }
        return _create_class(_BaseAPI, [
            {
                key: "setAPIHost",
                value: function setAPIHost(host) {
                    this.APIHost$ = host;
                }
            },
            {
                key: "getAPIHost",
                value: function getAPIHost() {
                    return this.APIHost$;
                }
            }
        ]), _BaseAPI;
    }();
    __name(_BaseAPI, "BaseAPI");
    var BaseAPI = _BaseAPI, BaseAPI_default = BaseAPI, Utils2 = Ludex.Utils, _MatchAPI = function(BaseAPI_default) {
        function _MatchAPI() {
            return _class_call_check(this, _MatchAPI), _call_super(this, _MatchAPI, arguments);
        }
        return _inherits(_MatchAPI, BaseAPI_default), _create_class(_MatchAPI, [
            {
                key: "createSingleMatchAsync",
                value: function createSingleMatchAsync(payload) {
                    return _async_to_generator(function() {
                        var result3;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        post("single-matches", payload, {}, this.getAPIHost())
                                    ];
                                case 1:
                                    return result3 = _state.sent(), [
                                        2,
                                        this.returnValidMatchData$(result3)
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getSingleMatchDetailAsync",
                value: function getSingleMatchDetailAsync() {
                    return _async_to_generator(function() {
                        var result3;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        get("single-matches/active", {}, this.getAPIHost())
                                    ];
                                case 1:
                                    return result3 = _state.sent(), [
                                        2,
                                        this.returnValidMatchData$(result3)
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "updateSingleMatchMoveAsync",
                value: function updateSingleMatchMoveAsync(matchId, payload) {
                    return _async_to_generator(function() {
                        var result3;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        post("single-matches/".concat(matchId, "/move"), payload, {}, this.getAPIHost())
                                    ];
                                case 1:
                                    return result3 = _state.sent(), [
                                        2,
                                        this.returnValidMatchData$(result3)
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "finishSingleMatchAsync",
                value: function finishSingleMatchAsync(matchId) {
                    return _async_to_generator(function() {
                        var result3;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        post("single-matches/".concat(matchId, "/finish"), {}, {}, this.getAPIHost())
                                    ];
                                case 1:
                                    return result3 = _state.sent(), [
                                        2,
                                        this.returnValidMatchData$(result3)
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "createMatchAsync",
                value: function createMatchAsync(payload) {
                    return _async_to_generator(function() {
                        var result3;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        post("matches", payload, {}, this.getAPIHost())
                                    ];
                                case 1:
                                    return result3 = _state.sent(), [
                                        2,
                                        this.returnValidMatchData$(result3)
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "joinMatchAsync",
                value: function joinMatchAsync(matchId) {
                    return _async_to_generator(function() {
                        var result3;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        post("matches/".concat(matchId, "/join"), {}, {}, this.getAPIHost())
                                    ];
                                case 1:
                                    return result3 = _state.sent(), [
                                        2,
                                        this.returnValidMatchData$(result3)
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getMatchDetailByIdAsync",
                value: function getMatchDetailByIdAsync(matchId) {
                    return _async_to_generator(function() {
                        var result3;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        get("matches/".concat(matchId), {}, this.getAPIHost())
                                    ];
                                case 1:
                                    return result3 = _state.sent(), [
                                        2,
                                        this.returnValidMatchData$(result3)
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "finishMatchAsync",
                value: function finishMatchAsync(payload) {
                    return _async_to_generator(function() {
                        var _payload_matchId, matchId, tmp, score2, tmp1, level2, _payload_extraData, extraData, result3;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return matchId = void 0 === (_payload_matchId = payload.matchId) ? "" : _payload_matchId, score2 = void 0 === (tmp = payload.score) ? 0 : tmp, level2 = void 0 === (tmp1 = payload.level) ? 0 : tmp1, extraData = void 0 === (_payload_extraData = payload.extraData) ? {} : _payload_extraData, [
                                        4,
                                        post("matches/".concat(matchId, "/finish"), {
                                            matchId: matchId,
                                            score: score2,
                                            level: level2,
                                            extraData: extraData
                                        }, {}, this.getAPIHost())
                                    ];
                                case 1:
                                    return result3 = _state.sent(), [
                                        2,
                                        this.returnValidMatchData$(result3)
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "returnValidMatchData$",
                value: function returnValidMatchData$(result3) {
                    var _result3_data;
                    return Utils2.Valid.isObject(result3) && Utils2.Object.hasOwn(result3, "data") && null != (_result3_data = result3.data) ? _result3_data : {};
                }
            }
        ]), _MatchAPI;
    }(BaseAPI_default);
    __name(_MatchAPI, "MatchAPI");
    var MatchAPI = _MatchAPI, MatchAPI_default = MatchAPI, _APIHandler = function() {
        function _APIHandler(apiConfig) {
            _class_call_check(this, _APIHandler), _define_property(this, "matchAPI$", void 0), this.createAPI$(), this.setAPIConfig(apiConfig);
        }
        return _create_class(_APIHandler, [
            {
                key: "createAPI$",
                value: function createAPI$() {
                    this.matchAPI$ = new MatchAPI_default();
                }
            },
            {
                key: "setAPIConfig",
                value: function setAPIConfig(apiConfig) {
                    apiConfig.matchAPIHost && this.matchAPI$.setAPIHost(apiConfig.matchAPIHost);
                }
            },
            {
                key: "setMatchAPIInstance",
                value: function setMatchAPIInstance(matchAPI) {
                    this.matchAPI$ = matchAPI;
                }
            },
            {
                key: "getMatchAPI",
                value: function getMatchAPI() {
                    return this.matchAPI$;
                }
            }
        ]), _APIHandler;
    }();
    __name(_APIHandler, "APIHandler");
    var APIHandler = _APIHandler, APIHandler_default = APIHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _BaseConcrete = function() {
        function _BaseConcrete(codex2, match) {
            _class_call_check(this, _BaseConcrete), _define_property(this, "codex", void 0), _define_property(this, "match", void 0), this.codex = codex2, this.match = match;
        }
        return _create_class(_BaseConcrete, [
            {
                key: "startLog$",
                value: function startLog$(payload) {
                    this.match.useCPUProfile && console.profile(this.constructor.name), console.group("\uD83D\uDE80 ".concat(this.constructor.name)), payload && console.log("\uD83D\uDCE6 ? Payload:", payload);
                }
            },
            {
                key: "endLog$",
                value: function endLog$() {
                    console.groupEnd(), this.match.useCPUProfile && console.profileEnd();
                }
            },
            {
                key: "processAsync",
                value: function processAsync(_payload) {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            throw Error("Not implemented");
                        });
                    })();
                }
            }
        ]), _BaseConcrete;
    }();
    __name(_BaseConcrete, "BaseConcrete");
    var BaseConcrete = _BaseConcrete, BaseConcrete_default = BaseConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Utils19 = Ludex.Utils, O10 = _Ludex_Utils19.Object, V14 = _Ludex_Utils19.Valid, J4 = _Ludex_Utils19.Json, _BaseHandler = function() {
        function _BaseHandler(concrete) {
            _class_call_check(this, _BaseHandler), _define_property(this, "codex$", void 0), _define_property(this, "match$", void 0), _define_property(this, "nextHandler$", void 0), _define_property(this, "stateData$", void 0), this.codex$ = concrete.codex, this.match$ = concrete.match, this.nextHandler$ = null, this.stateData$ = {
                Before: null,
                After: null
            };
        }
        return _create_class(_BaseHandler, [
            {
                key: "setNext",
                value: function setNext(handler) {
                    return this.nextHandler$ = handler, handler;
                }
            },
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            return console.groupCollapsed(" ".concat(this.constructor.name)), this.logData$("Before", matchState), [
                                2
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "nextAsync$",
                value: function nextAsync$(matchState) {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (this.logData$("After", matchState), this.logDiff$(), console.groupEnd(), !this.nextHandler$) return [
                                        2
                                    ];
                                    return [
                                        4,
                                        this.nextHandler$.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "logData$",
                value: function logData$(name2, matchState) {
                    if (V14.isDebugger()) {
                        console.groupCollapsed("\uD83D\uDCE6 MatchState: ".concat(name2)), this.stateData$[name2] = J4.clone(matchState);
                        var _a = matchState, profiles = _a.profiles, customData = _a.customData, base = __objRest(_a, [
                            "profiles",
                            "custo\
mData"
                        ]);
                        console.info("\uD83D\uDCBE Base"), console.table(O10.clone(base)), console.info("\uD83D\uDCBE Profile"), console.table(O10.clone(profiles)), console.info("\uD83D\uDCBE Custom"), console.table(O10.clone(customData)), console.groupEnd();
                    }
                }
            },
            {
                key: "logDiff$",
                value: function logDiff$() {
                    var _this_stateData$ = this.stateData$, After = _this_stateData$.After, Before = _this_stateData$.Before;
                    if (After && Before) {
                        var diff = O10.diff(Before, After);
                        if (!V14.isEmpty(diff)) {
                            var _a = diff, _a_profiles = _a.profiles, profiles = void 0 === _a_profiles ? {} : _a_profiles, _a_customData = _a.customData, customData = void 0 === _a_customData ? {} : _a_customData, base = __objRest(_a, [
                                "profiles",
                                "\
customData"
                            ]);
                            console.group("\uD83D\uDCE6 MatchState: Diff"), V14.isEmpty(base) || (console.info("\uD83D\uDCBE Base"), console.table(O10.clone(base))), V14.isEmpty(profiles) || (console.info("\uD83D\uDCBE Profile"), console.table(O10.clone(profiles))), V14.isEmpty(customData) || (console.info("\uD83D\uDCBE Custom"), console.table(O10.clone(customData))), console.groupEnd();
                        }
                        this.stateData$.After = null, this.stateData$.Before = null;
                    }
                }
            }
        ]), _BaseHandler;
    }();
    __name(_BaseHandler, "BaseHandler");
    var BaseHandler = _BaseHandler, BaseHandler_default = BaseHandler, _NothingHandler = function(BaseHandler_default) {
        function _NothingHandler() {
            return _class_call_check(this, _NothingHandler), _call_super(this, _NothingHandler, arguments);
        }
        return _inherits(_NothingHandler, BaseHandler_default), _create_class(_NothingHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "nextAsync$",
                value: function nextAsync$(matchState) {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (!this.nextHandler$) return [
                                        2
                                    ];
                                    return [
                                        4,
                                        this.nextHandler$.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _NothingHandler;
    }(BaseHandler_default);
    __name(_NothingHandler, "NothingHandler");
    var NothingHandler = _NothingHandler, NothingHandler_default = NothingHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _LevelNotDefined = function(ACreateMatchFailed_default) {
        function _LevelNotDefined(message) {
            var _this;
            return _class_call_check(this, _LevelNotDefined), (_this = _call_super(this, _LevelNotDefined, [
                message
            ])).name = "LevelNotDefined", _this.message = null != message ? message : "Level is not defined", _this;
        }
        return _inherits(_LevelNotDefined, ACreateMatchFailed_default), _LevelNotDefined;
    }(ACreateMatchFailed_default);
    __name(_LevelNotDefined, "LevelNotDefined");
    var LevelNotDefined = _LevelNotDefined, LevelNotDefined_default = LevelNotDefined;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _MatchModeNotDefined = function(ACreateMatchFailed_default) {
        function _MatchModeNotDefined(message) {
            var _this;
            return _class_call_check(this, _MatchModeNotDefined), (_this = _call_super(this, _MatchModeNotDefined, [
                message
            ])).name = "MatchModeNotDefined", _this.message = null != message ? message : "Match id is not defined", _this;
        }
        return _inherits(_MatchModeNotDefined, ACreateMatchFailed_default), _MatchModeNotDefined;
    }(ACreateMatchFailed_default);
    __name(_MatchModeNotDefined, "MatchModeNotDefined");
    var MatchModeNotDefined = _MatchModeNotDefined, MatchModeNotDefined_default = MatchModeNotDefined, _Ludex_Plugins = Ludex.Plugins, tmp = _Ludex_Plugins.Analytics, _ref = void 0 === tmp ? {} : tmp, Events4 = _ref.Events, _Ludex_Utils20 = Ludex.Utils, S4 = _Ludex_Utils20.String, V15 = _Ludex_Utils20.Valid, _LogMatchStartHandler = function(BaseHandler_default) {
        function _LogMatchStartHandler() {
            return _class_call_check(this, _LogMatchStartHandler), _call_super(this, _LogMatchStartHandler, arguments);
        }
        return _inherits(_LogMatchStartHandler, BaseHandler_default), _create_class(_LogMatchStartHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_LogMatchStartHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var mode, level2, analytics;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), mode = matchState.mode, level2 = matchState.customData.level, this.validateMode$(mode), this.validateLevel$(level2), analytics = this.codex$.analytics, Events4 && analytics.event(Events4.MATCH_START, {
                                        level: level2,
                                        game_mode: S4.toUpperCamelCase(mode),
                                        level_name: this.getLevelName$(level2)
                                    }), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateMode$",
                value: function validateMode$(mode) {
                    if (!V15.isString(mode)) throw new MatchModeNotDefined_default();
                }
            },
            {
                key: "validateLevel$",
                value: function validateLevel$(level2) {
                    if (!V15.isNumber(level2)) throw new LevelNotDefined_default();
                }
            },
            {
                key: "getLevelName$",
                value: function getLevelName$(level2) {
                    return "Level ".concat(S4.padStart(level2.toString(), 5, "0"));
                }
            }
        ]), _LogMatchStartHandler;
    }(BaseHandler_default);
    __name(_LogMatchStartHandler, "LogMatchStartHandler");
    var LogMatchStartHandler = _LogMatchStartHandler, LogMatchStartHandler_default = LogMatchStartHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var MatchStatus = {
        OPEN: "open",
        ACTIVE: "active",
        FINISHED: "finished"
    }, MatchStatus_default = MatchStatus, _ContextGameModeHandler = function(BaseHandler_default) {
        function _ContextGameModeHandler() {
            return _class_call_check(this, _ContextGameModeHandler), _call_super(this, _ContextGameModeHandler, arguments);
        }
        return _inherits(_ContextGameModeHandler, BaseHandler_default), _create_class(_ContextGameModeHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_ContextGameModeHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var mode, status, gameMode;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), mode = matchState.mode, status = matchState.status, gameMode = null != mode ? mode : ContextModes_default.SINGLE, status === MatchStatus_default.FINISHED && (gameMode = ContextModes_default.SINGLE), this.contextGameModeDetected$(gameMode), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "contextGameModeDetected$",
                value: function contextGameModeDetected$(gameMode) {
                    this.codex$.storage.setStorageData("context", "contextGameMode", gameMode);
                }
            }
        ]), _ContextGameModeHandler;
    }(BaseHandler_default);
    __name(_ContextGameModeHandler, "ContextGameModeHandler");
    var ContextGameModeHandler = _ContextGameModeHandler, ContextGameModeHandler_default = ContextGameModeHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _GetMatchDetailFailed = function(Error1) {
        function _GetMatchDetailFailed(message) {
            var _this;
            return _class_call_check(this, _GetMatchDetailFailed), (_this = _call_super(this, _GetMatchDetailFailed, [
                message
            ])).name = "GetMatchDetailFailed", _this.message = null != message ? message : "Get match detail failed", _this;
        }
        return _inherits(_GetMatchDetailFailed, Error1), _GetMatchDetailFailed;
    }(_wrap_native_super(Error));
    __name(_GetMatchDetailFailed, "GetMatchDetailFailed");
    var GetMatchDetailFailed = _GetMatchDetailFailed, GetMatchDetailFailed_default = GetMatchDetailFailed;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _MatchAreNotActive = function(Error1) {
        function _MatchAreNotActive(message) {
            var _this;
            return _class_call_check(this, _MatchAreNotActive), (_this = _call_super(this, _MatchAreNotActive, [
                message
            ])).name = "MatchAreNotActive", _this.message = null != message ? message : "Match are not active", _this;
        }
        return _inherits(_MatchAreNotActive, Error1), _MatchAreNotActive;
    }(_wrap_native_super(Error));
    __name(_MatchAreNotActive, "MatchAreNotActive");
    var MatchAreNotActive = _MatchAreNotActive, MatchAreNotActive_default = MatchAreNotActive;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _MatchIdNotValid = function(ACreateMatchFailed_default) {
        function _MatchIdNotValid(message) {
            var _this;
            return _class_call_check(this, _MatchIdNotValid), (_this = _call_super(this, _MatchIdNotValid, [
                message
            ])).name = "MatchIdNotValid", _this.message = null != message ? message : "Match id is not valid", _this;
        }
        return _inherits(_MatchIdNotValid, ACreateMatchFailed_default), _MatchIdNotValid;
    }(ACreateMatchFailed_default);
    __name(_MatchIdNotValid, "MatchIdNotValid");
    var MatchIdNotValid = _MatchIdNotValid, MatchIdNotValid_default = MatchIdNotValid;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _OpponentHasFinishedMatch = function(Error1) {
        function _OpponentHasFinishedMatch(message) {
            var _this;
            return _class_call_check(this, _OpponentHasFinishedMatch), (_this = _call_super(this, _OpponentHasFinishedMatch, [
                message
            ])).name = "OpponentHasFinishedMatch", _this.message = message || "Opponent has finished match", _this;
        }
        return _inherits(_OpponentHasFinishedMatch, Error1), _OpponentHasFinishedMatch;
    }(_wrap_native_super(Error));
    __name(_OpponentHasFinishedMatch, "OpponentHasFinishedMatch");
    var OpponentHasFinishedMatch = _OpponentHasFinishedMatch, OpponentHasFinishedMatch_default = OpponentHasFinishedMatch;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _OpponentIdNotValid = function(ACreateMatchFailed_default) {
        function _OpponentIdNotValid(message) {
            var _this;
            return _class_call_check(this, _OpponentIdNotValid), (_this = _call_super(this, _OpponentIdNotValid, [
                message
            ])).name = "OpponentIdNotValid", _this.message = null != message ? message : "Opponent id is not valid", _this;
        }
        return _inherits(_OpponentIdNotValid, ACreateMatchFailed_default), _OpponentIdNotValid;
    }(ACreateMatchFailed_default);
    __name(_OpponentIdNotValid, "OpponentIdNotValid");
    var OpponentIdNotValid = _OpponentIdNotValid, OpponentIdNotValid_default = OpponentIdNotValid;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _PlayerNotCurrentInMatch = function(Error1) {
        function _PlayerNotCurrentInMatch(message) {
            var _this;
            return _class_call_check(this, _PlayerNotCurrentInMatch), (_this = _call_super(this, _PlayerNotCurrentInMatch, [
                message
            ])).name = "PlayerNotCurrentInMatch", _this.message = null != message ? message : "The player is not currently in this match", _this;
        }
        return _inherits(_PlayerNotCurrentInMatch, Error1), _PlayerNotCurrentInMatch;
    }(_wrap_native_super(Error));
    __name(_PlayerNotCurrentInMatch, "PlayerNotCurrentInMatch");
    var PlayerNotCurrentInMatch = _PlayerNotCurrentInMatch, PlayerNotCurrentInMatch_default = PlayerNotCurrentInMatch;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _PlayerNotFinishedMatch = function(Error1) {
        function _PlayerNotFinishedMatch(message) {
            var _this;
            return _class_call_check(this, _PlayerNotFinishedMatch), (_this = _call_super(this, _PlayerNotFinishedMatch, [
                message
            ])).name = "PlayerNotFinishedMatch", _this.message = message || "Player not finished match", _this;
        }
        return _inherits(_PlayerNotFinishedMatch, Error1), _PlayerNotFinishedMatch;
    }(_wrap_native_super(Error));
    __name(_PlayerNotFinishedMatch, "PlayerNotFinishedMatch");
    var PlayerNotFinishedMatch = _PlayerNotFinishedMatch, PlayerNotFinishedMatch_default = PlayerNotFinishedMatch, Dtos2 = Ludex.Dtos, _Ludex_Utils21 = Ludex.Utils, O11 = _Ludex_Utils21.Object, _AwaitMatchHandler = function(BaseHandler_default) {
        function _AwaitMatchHandler() {
            return _class_call_check(this, _AwaitMatchHandler), _call_super(this, _AwaitMatchHandler, arguments);
        }
        return _inherits(_AwaitMatchHandler, BaseHandler_default), _create_class(_AwaitMatchHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_AwaitMatchHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var respMatchData, respMatchDataValidated;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.validateMatchData$(matchState), [
                                        4,
                                        this.getMatchAsync$(matchState)
                                    ];
                                case 1:
                                    return respMatchData = _state.sent(), respMatchDataValidated = new Dtos2.Match.Data(respMatchData).toObject(), this.validateAwaitMatchData$(matchState, respMatchDataValidated), this.updateMatchData$(matchState, respMatchDataValidated), this.validateMatchStatus$(matchState), this.validatePlayerTurn$(matchState), this.validateOpponentTurn$(matchState), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateMatchData$",
                value: function validateMatchData$(matchState) {
                    if ("string" != typeof matchState.id) throw new MatchIdNotValid_default();
                }
            },
            {
                key: "validateMatchStatus$",
                value: function validateMatchStatus$(matchState) {
                    if (matchState.status !== MatchStatus_default.ACTIVE) throw new MatchAreNotActive_default();
                }
            },
            {
                key: "validateAwaitMatchData$",
                value: function validateAwaitMatchData$(matchState, matchData) {
                    var id = matchState.id, customData = matchState.customData, _id = matchData._id, whitePlayerId = matchData.whitePlayerId, blackPlayerId = matchData.blackPlayerId;
                    if ("string" != typeof _id || _id !== id) throw new GetMatchDetailFailed_default();
                    var playerId2 = customData.playerId, isPlayerWhite = whitePlayerId === playerId2, isPlayerBlack = blackPlayerId === playerId2;
                    if (!isPlayerWhite && blackPlayerId === SampleOpponent_default.playerId) throw new PlayerNotJoinInMatch_default();
                    if (!isPlayerWhite && !isPlayerBlack) throw new PlayerNotCurrentInMatch_default();
                }
            },
            {
                key: "validatePlayerTurn$",
                value: function validatePlayerTurn$(matchState) {
                    var profiles = matchState.profiles, playerId2 = matchState.customData.playerId;
                    if ("string" != typeof playerId2) throw new PlayerIdNotValid_default();
                    if (!profiles[playerId2].finished) throw new PlayerNotFinishedMatch_default();
                }
            },
            {
                key: "validateOpponentTurn$",
                value: function validateOpponentTurn$(matchState) {
                    var profiles = matchState.profiles, opponentId = matchState.customData.opponentId;
                    if ("string" != typeof opponentId) throw new OpponentIdNotValid_default();
                    if (profiles[opponentId].finished) throw new OpponentHasFinishedMatch_default();
                }
            },
            {
                key: "getMatchAsync$",
                value: function getMatchAsync$(matchState) {
                    return _async_to_generator(function() {
                        var id;
                        return _ts_generator(this, function(_state) {
                            return (id = matchState.id) ? [
                                2,
                                this.match$.api.getMatchAPI().getMatchDetailByIdAsync(id)
                            ] : [
                                2,
                                {}
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "updateMatchData$",
                value: function updateMatchData$(matchState, matchData) {
                    this.updateMatchGeneral$(matchState, matchData), this.updatePlayerIds$(matchState, matchData), this.initializeProfiles$(matchState), this.updateScoresAndStatus$(matchState, matchData);
                }
            },
            {
                key: "updateMatchGeneral$",
                value: function updateMatchGeneral$(matchState, matchData) {
                    var status = matchData.status, extraData = matchData.extraData;
                    matchState.status = status, matchState.customData = O11.merge(matchState.customData, extraData);
                }
            },
            {
                key: "updatePlayerIds$",
                value: function updatePlayerIds$(matchState, matchData) {
                    var whitePlayerId = matchData.whitePlayerId, blackPlayerId = matchData.blackPlayerId, isPlayerWhite = whitePlayerId === matchState.customData.playerId;
                    matchState.customData.playerId = isPlayerWhite ? whitePlayerId : blackPlayerId, matchState.customData.opponentId = isPlayerWhite ? blackPlayerId : whitePlayerId;
                }
            },
            {
                key: "initializeProfiles$",
                value: function initializeProfiles$(matchState) {
                    var _matchState_customData = matchState.customData, playerId2 = _matchState_customData.playerId, opponentId = _matchState_customData.opponentId;
                    if (playerId2 && opponentId) {
                        var defaultProfile = {
                            name: "",
                            photo: "",
                            finished: !1
                        };
                        matchState.profiles[playerId2] || (matchState.profiles[playerId2] = __spreadValues({
                            id: playerId2
                        }, defaultProfile)), matchState.profiles[opponentId] || (matchState.profiles[opponentId] = __spreadValues({
                            id: opponentId
                        }, defaultProfile));
                    }
                }
            },
            {
                key: "updateScoresAndStatus$",
                value: function updateScoresAndStatus$(matchState, matchData) {
                    var _matchState_customData = matchState.customData, playerId2 = _matchState_customData.playerId, opponentId = _matchState_customData.opponentId;
                    if (playerId2 && opponentId) {
                        var whitePlayerId = matchData.whitePlayerId, whitePlayerScore = matchData.whitePlayerScore, whitePlayerFinish = matchData.whitePlayerFinish, blackPlayerScore = matchData.blackPlayerScore, blackPlayerFinish = matchData.blackPlayerFinish, isPlayerWhite = whitePlayerId === playerId2;
                        matchState.profiles[playerId2].score = isPlayerWhite ? whitePlayerScore : blackPlayerScore, matchState.profiles[opponentId].score = isPlayerWhite ? blackPlayerScore : whitePlayerScore, matchState.profiles[playerId2].finished = isPlayerWhite ? whitePlayerFinish : blackPlayerFinish, matchState.profiles[opponentId].finished = isPlayerWhite ? blackPlayerFinish : whitePlayerFinish;
                    }
                }
            }
        ]), _AwaitMatchHandler;
    }(BaseHandler_default);
    __name(_AwaitMatchHandler, "AwaitMatchHandler");
    var AwaitMatchHandler = _AwaitMatchHandler, AwaitMatchHandler_default = AwaitMatchHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var DefaultCustomData = {
        level: 1,
        rescued: 0,
        contextId: null,
        playerId: null,
        opponentId: null,
        tournamentId: null,
        leaderboardId: null
    }, DefaultCustomData_default = DefaultCustomData, _PrepareMatchHandler = function(BaseHandler_default) {
        function _PrepareMatchHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _PrepareMatchHandler), _define_property(_this = _call_super(this, _PrepareMatchHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_PrepareMatchHandler, BaseHandler_default), _create_class(_PrepareMatchHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_PrepareMatchHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.initializeMatch$(matchState), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "initializeMatch$",
                value: function initializeMatch$(matchState) {
                    var _this_payload$ = this.payload$, id = _this_payload$.id, mode = _this_payload$.mode, customData = _this_payload$.customData;
                    matchState.id = null != id ? id : null, matchState.mode = mode || null, matchState.status = MatchStatus_default.OPEN, matchState.startAt = 0, matchState.finishAt = 0, matchState.profiles = {}, matchState.customData = __spreadValues(__spreadValues(__spreadValues({}, DefaultCustomData_default), matchState.customData), customData);
                }
            }
        ]), _PrepareMatchHandler;
    }(BaseHandler_default);
    __name(_PrepareMatchHandler, "PrepareMatchHandler");
    var PrepareMatchHandler = _PrepareMatchHandler, PrepareMatchHandler_default = PrepareMatchHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var ContextTypes = ContextTypes_default, ContextTypes_default2 = ContextTypes;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _UnavailableFeature = function(Error1) {
        function _UnavailableFeature(message) {
            var _this;
            return _class_call_check(this, _UnavailableFeature), (_this = _call_super(this, _UnavailableFeature, [
                message
            ])).name = "UnavailableFeature", _this.message = "Unavailable feature: ".concat(message), _this;
        }
        return _inherits(_UnavailableFeature, Error1), _UnavailableFeature;
    }(_wrap_native_super(Error));
    __name(_UnavailableFeature, "UnavailableFeature");
    var UnavailableFeature = _UnavailableFeature, UnavailableFeature_default = UnavailableFeature;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _ContextIdNotValid = function(ACreateMatchFailed_default) {
        function _ContextIdNotValid(message) {
            var _this;
            return _class_call_check(this, _ContextIdNotValid), (_this = _call_super(this, _ContextIdNotValid, [
                message
            ])).name = "ContextIdNotValid", _this.message = null != message ? message : "Context id is not valid", _this;
        }
        return _inherits(_ContextIdNotValid, ACreateMatchFailed_default), _ContextIdNotValid;
    }(ACreateMatchFailed_default);
    __name(_ContextIdNotValid, "ContextIdNotValid");
    var ContextIdNotValid = _ContextIdNotValid, ContextIdNotValid_default = ContextIdNotValid;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _ProfileNotFound = function(ACreateMatchFailed_default) {
        function _ProfileNotFound(message) {
            var _this;
            return _class_call_check(this, _ProfileNotFound), (_this = _call_super(this, _ProfileNotFound, [
                message
            ])).name = "ProfileNotFound", _this.message = null != message ? message : "Profile not found", _this;
        }
        return _inherits(_ProfileNotFound, ACreateMatchFailed_default), _ProfileNotFound;
    }(ACreateMatchFailed_default);
    __name(_ProfileNotFound, "ProfileNotFound");
    var ProfileNotFound = _ProfileNotFound, ProfileNotFound_default = ProfileNotFound, _SendAwaitingMessageHandler = function(BaseHandler_default) {
        function _SendAwaitingMessageHandler() {
            return _class_call_check(this, _SendAwaitingMessageHandler), _call_super(this, _SendAwaitingMessageHandler, arguments);
        }
        return _inherits(_SendAwaitingMessageHandler, BaseHandler_default), _create_class(_SendAwaitingMessageHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_SendAwaitingMessageHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var imageResult;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.validateData$(matchState), [
                                        4,
                                        this.createWideframesAwaitingAsync$(matchState)
                                    ];
                                case 1:
                                    return (imageResult = _state.sent()) && this.sendMessageAsync$(matchState, imageResult), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(matchState) {
                    var id = matchState.id, customData = matchState.customData, contextId2 = customData.contextId, opponentId = customData.opponentId;
                    if (!id || "string" != typeof id) throw new MatchIdNotValid_default();
                    if (!contextId2 || "string" != typeof contextId2) throw new ContextIdNotValid_default();
                    if (!opponentId || "string" != typeof opponentId) throw new OpponentIdNotValid_default();
                }
            },
            {
                key: "createWideframesAwaitingAsync$",
                value: function createWideframesAwaitingAsync$(matchState) {
                    return _async_to_generator(function() {
                        var frameCapture, profiles, customData, playerId2, opponentId, playerProfile, opponentProfile, playerPhoto, tmp, playerScore, opponentPhoto, tmp1, opponentScore;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), frameCapture = this.codex$.frameCapture, profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, opponentId = customData.opponentId, !playerId2 || !opponentId || (playerProfile = profiles[playerId2], opponentProfile = profiles[opponentId], !playerProfile || !opponentProfile) || (playerPhoto = playerProfile.photo, playerScore = void 0 === (tmp = playerProfile.score) ? 0 : tmp, !playerProfile.finished) || (opponentPhoto = opponentProfile.photo, opponentScore = void 0 === (tmp1 = opponentProfile.score) ? 0 : tmp1, opponentProfile.finished)) return [
                                        2,
                                        null
                                    ];
                                    return [
                                        4,
                                        frameCapture.renderAsync("result-challenge", {
                                            playerId: playerId2,
                                            playerPhoto: playerPhoto,
                                            playerScore: playerScore,
                                            opponentId: opponentId,
                                            opponentPhoto: opponentPhoto,
                                            opponentScore: opponentScore,
                                            isPlayerFinished: !0,
                                            isOpponentFinished: !1
                                        })
                                    ];
                                case 1:
                                    return [
                                        2,
                                        _state.sent()
                                    ];
                                case 2:
                                    return console.warn("createWideframesAwaitingAsync", _state.sent()), [
                                        2,
                                        null
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "sendMessageAsync$",
                value: function sendMessageAsync$(matchState, wideframes) {
                    return _async_to_generator(function() {
                        var id, profiles, customData, playerId2, opponentId, playerProfile, playerName, message;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (id = matchState.id, profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, opponentId = customData.opponentId, !playerId2 || "string" != typeof playerId2) throw new PlayerIdNotValid_default();
                                    if (!("updateAsync" in GameSDK.extra)) throw new UnavailableFeature_default("updateAsync");
                                    if (!(playerProfile = profiles[playerId2])) throw new ProfileNotFound_default();
                                    return playerName = playerProfile.name, message = {
                                        data: {
                                            type: ContextTypes_default2.CHALLENGE_FRIEND,
                                            matchId: id,
                                            playerId: playerId2,
                                            opponentId: opponentId
                                        },
                                        action: "CUSTOM",
                                        template: "challenge",
                                        cta: {
                                            default: "Play",
                                            localizations: {
                                                vi_VN: "Ch\u01A1i ngay"
                                            }
                                        },
                                        text: {
                                            default: "".concat(playerName, " is waiting for you to finish this game. Play now!"),
                                            localizations: {
                                                vi_VN: "".concat(playerName, " ang ch bn kt th\xfac trn u. Chi ngay!")
                                            }
                                        },
                                        image: wideframes,
                                        strategy: "LAST",
                                        notification: "PUSH"
                                    }, [
                                        4,
                                        GameSDK.extra.updateAsync(message)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    })();
                }
            }
        ]), _SendAwaitingMessageHandler;
    }(BaseHandler_default);
    __name(_SendAwaitingMessageHandler, "SendAwaitingMessageHandler");
    var SendAwaitingMessageHandler = _SendAwaitingMessageHandler, SendAwaitingMessageHandler_default = SendAwaitingMessageHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var Dtos3 = Ludex.Dtos, _GetMatchProfilesHandler = function(BaseHandler_default) {
        function _GetMatchProfilesHandler() {
            return _class_call_check(this, _GetMatchProfilesHandler), _call_super(this, _GetMatchProfilesHandler, arguments);
        }
        return _inherits(_GetMatchProfilesHandler, BaseHandler_default), _create_class(_GetMatchProfilesHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_GetMatchProfilesHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var customData, playerId2, opponentId, profileId, playerProfile, opponentProfile;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.validateData$(matchState), playerId2 = (customData = matchState.customData).playerId, opponentId = customData.opponentId, profileId = playerId2, [
                                        4,
                                        this.getProfile$(profileId)
                                    ];
                                case 1:
                                    if (!(playerProfile = _state.sent())) throw new ProfileNotFound_default();
                                    if (this.updateMatchProfile$(matchState, profileId, playerProfile), (profileId = opponentId) === SampleOpponent_default.playerId) return [
                                        3,
                                        3
                                    ];
                                    return [
                                        4,
                                        this.getProfile$(profileId)
                                    ];
                                case 2:
                                    if (!(opponentProfile = _state.sent())) throw new ProfileNotFound_default();
                                    return this.updateMatchProfile$(matchState, profileId, opponentProfile), [
                                        3,
                                        4
                                    ];
                                case 3:
                                    this.updateMatchProfile$(matchState, profileId), _state.label = 4;
                                case 4:
                                    return [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 5:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(matchState) {
                    var customData = matchState.customData, playerId2 = customData.playerId, opponentId = customData.opponentId;
                    if (!playerId2 || "string" != typeof playerId2) throw new PlayerIdNotValid_default();
                    if (!opponentId || "string" != typeof opponentId) throw new OpponentIdNotValid_default();
                }
            },
            {
                key: "getProfile$",
                value: function getProfile$(profileId) {
                    return _async_to_generator(function() {
                        var profile;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        (profile = this.codex$.profile).requestProfiles([
                                            profileId
                                        ])
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2,
                                        profile.getProfiles()[profileId]
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "updateMatchProfile$",
                value: function updateMatchProfile$(matchState, profileId, data) {
                    var _ref = null != data ? data : SampleOpponent_default, name2 = _ref.name, photo2 = _ref.photo, profile = new Dtos3.Match.Profile({
                        id: profileId,
                        name: name2,
                        photo: photo2
                    }).toObject();
                    matchState.profiles[profileId] ? (matchState.profiles[profileId].name = profile.name, matchState.profiles[profileId].photo = profile.photo) : matchState.profiles[profileId] = profile;
                }
            }
        ]), _GetMatchProfilesHandler;
    }(BaseHandler_default);
    __name(_GetMatchProfilesHandler, "GetMatchProfilesHandler");
    var GetMatchProfilesHandler = _GetMatchProfilesHandler, GetMatchProfilesHandler_default = GetMatchProfilesHandler, _AwaitChallengeMatchConcrete = function(BaseConcrete_default) {
        function _AwaitChallengeMatchConcrete() {
            return _class_call_check(this, _AwaitChallengeMatchConcrete), _call_super(this, _AwaitChallengeMatchConcrete, arguments);
        }
        return _inherits(_AwaitChallengeMatchConcrete, BaseConcrete_default), _create_class(_AwaitChallengeMatchConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var matchId, playerId2, opponentId, flow, prepareMatch, getMatch, getMatchProfiles, sendMessage, logStart, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), matchId = payload.matchId, playerId2 = payload.playerId, opponentId = payload.opponentId, flow = new NothingHandler_default(this), prepareMatch = new PrepareMatchHandler_default(this, {
                                        id: matchId,
                                        mode: MatchModes_default.CHALLENGE_FRIEND,
                                        customData: {
                                            playerId: playerId2,
                                            opponentId: opponentId
                                        }
                                    }), flow.setNext(prepareMatch), getMatch = new AwaitMatchHandler_default(this), prepareMatch.setNext(getMatch), getMatchProfiles = new GetMatchProfilesHandler_default(this), getMatch.setNext(getMatchProfiles), sendMessage = new SendAwaitingMessageHandler_default(this), getMatchProfiles.setNext(sendMessage), logStart = new LogMatchStartHandler_default(this), sendMessage.setNext(logStart), detectGameMode = new ContextGameModeHandler_default(this), logStart.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _AwaitChallengeMatchConcrete;
    }(BaseConcrete_default);
    __name(_AwaitChallengeMatchConcrete, "AwaitChallengeMatchConcrete");
    var AwaitChallengeMatchConcrete = _AwaitChallengeMatchConcrete, AwaitChallengeMatchConcrete_default = AwaitChallengeMatchConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _CreateContextFailed = function(ACreateMatchFailed_default) {
        function _CreateContextFailed(message) {
            var _this;
            return _class_call_check(this, _CreateContextFailed), (_this = _call_super(this, _CreateContextFailed, [
                message
            ])).name = "CreateContextFailed", _this.message = null != message ? message : "Create context failed", _this;
        }
        return _inherits(_CreateContextFailed, ACreateMatchFailed_default), _CreateContextFailed;
    }(ACreateMatchFailed_default);
    __name(_CreateContextFailed, "CreateContextFailed");
    var CreateContextFailed = _CreateContextFailed, CreateContextFailed_default = CreateContextFailed, _Ludex_Utils22 = Ludex.Utils, V16 = _Ludex_Utils22.Valid, O12 = _Ludex_Utils22.Object, _CreateContextHandler = function(BaseHandler_default) {
        function _CreateContextHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _CreateContextHandler), _define_property(_this = _call_super(this, _CreateContextHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_CreateContextHandler, BaseHandler_default), _create_class(_CreateContextHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_CreateContextHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var opponentId, contextId2;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), opponentId = this.payload$.opponentId, [
                                        4,
                                        this.createAsync$(opponentId)
                                    ];
                                case 1:
                                    return contextId2 = _state.sent(), matchState.customData.contextId = contextId2, [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "createAsync$",
                value: function createAsync$(opponentId) {
                    return _async_to_generator(function() {
                        var error, contextId2;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), [
                                        4,
                                        GameSDK.context.createAsync(opponentId)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return error = _state.sent(), this.validateError$(error), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    if (contextId2 = GameSDK.context.getID(), !V16.isString(contextId2)) throw new CreateContextFailed_default();
                                    return [
                                        2,
                                        contextId2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateError$",
                value: function validateError$(error) {
                    if (!O12.hasOwn(error, "code")) throw error;
                    if ("SAME_CONTEXT" !== error.code) {
                        if ("INVALID_PARAM" === error.code) {
                            if (!this.isNotConnectedPlayerError$(error)) throw error;
                            return;
                        }
                        throw error;
                    }
                }
            },
            {
                key: "validateErrorMessage$",
                value: function validateErrorMessage$(error) {
                    if (!O12.hasOwn(error, "message") || !V16.isString(error.message)) throw error;
                }
            },
            {
                key: "isNotConnectedPlayerError$",
                value: function isNotConnectedPlayerError$(error) {
                    return this.validateErrorMessage$(error), error.message.indexOf("is not a connected player of the current player") > -1;
                }
            }
        ]), _CreateContextHandler;
    }(BaseHandler_default);
    __name(_CreateContextHandler, "CreateContextHandler");
    var CreateContextHandler = _CreateContextHandler, CreateContextHandler_default = CreateContextHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _MatchAreNotOpen = function(ACreateMatchFailed_default) {
        function _MatchAreNotOpen(message) {
            var _this;
            return _class_call_check(this, _MatchAreNotOpen), (_this = _call_super(this, _MatchAreNotOpen, [
                message
            ])).name = "MatchAreNotOpen", _this.message = null != message ? message : "Match are not open", _this;
        }
        return _inherits(_MatchAreNotOpen, ACreateMatchFailed_default), _MatchAreNotOpen;
    }(ACreateMatchFailed_default);
    __name(_MatchAreNotOpen, "MatchAreNotOpen");
    var MatchAreNotOpen = _MatchAreNotOpen, MatchAreNotOpen_default = MatchAreNotOpen, Dtos4 = Ludex.Dtos, _Ludex_Utils23 = Ludex.Utils, O13 = _Ludex_Utils23.Object, _CreateMatchHandler = function(BaseHandler_default) {
        function _CreateMatchHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _CreateMatchHandler), _define_property(_this = _call_super(this, _CreateMatchHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_CreateMatchHandler, BaseHandler_default), _create_class(_CreateMatchHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_CreateMatchHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var respMatchData, respMatchDataValidated;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.validateData$(matchState), [
                                        4,
                                        this.createMatchAsync$(matchState)
                                    ];
                                case 1:
                                    return respMatchData = _state.sent(), respMatchDataValidated = new Dtos4.Match.Data(respMatchData).toObject(), this.updateMatchState$(matchState, respMatchDataValidated), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(matchState) {
                    var status = matchState.status;
                    if ("string" != typeof matchState.customData.opponentId) throw new OpponentIdNotValid_default();
                    if (status !== MatchStatus_default.OPEN) throw new MatchAreNotOpen_default();
                }
            },
            {
                key: "createMatchAsync$",
                value: function createMatchAsync$(matchState) {
                    return _async_to_generator(function() {
                        var opponentId, extraData, payload;
                        return _ts_generator(this, function(_state) {
                            return (opponentId = matchState.customData.opponentId, extraData = this.payload$.extraData, opponentId) ? (payload = {
                                opponentPlayerId: opponentId,
                                extraData: extraData
                            }, [
                                2,
                                this.match$.api.getMatchAPI().createMatchAsync(payload)
                            ]) : [
                                2,
                                {}
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "updateMatchState$",
                value: function updateMatchState$(matchState, matchData) {
                    this.updateMatchGeneral$(matchState, matchData), this.updatePlayerIds$(matchState, matchData), this.initializeProfiles$(matchState), this.updateFinishStatus$(matchState, matchData);
                }
            },
            {
                key: "updateMatchGeneral$",
                value: function updateMatchGeneral$(matchState, matchData) {
                    var _id = matchData._id, extraData = matchData.extraData;
                    matchState.id = _id || null, matchState.customData = O13.merge(matchState.customData, extraData);
                }
            },
            {
                key: "updatePlayerIds$",
                value: function updatePlayerIds$(matchState, matchData) {
                    var whitePlayerId = matchData.whitePlayerId, blackPlayerId = matchData.blackPlayerId, isOpponentWhite = whitePlayerId === matchState.customData.opponentId, playerId2 = isOpponentWhite ? blackPlayerId : whitePlayerId, opponentId = isOpponentWhite ? whitePlayerId : blackPlayerId;
                    matchState.customData.playerId = playerId2, matchState.customData.opponentId = opponentId;
                }
            },
            {
                key: "initializeProfiles$",
                value: function initializeProfiles$(matchState) {
                    var _matchState_customData = matchState.customData, playerId2 = _matchState_customData.playerId, opponentId = _matchState_customData.opponentId;
                    if (playerId2 && opponentId) {
                        var defaultProfile = {
                            name: "",
                            photo: "",
                            finished: !1
                        };
                        matchState.profiles[playerId2] || (matchState.profiles[playerId2] = __spreadValues({
                            id: playerId2
                        }, defaultProfile)), matchState.profiles[opponentId] || (matchState.profiles[opponentId] = __spreadValues({
                            id: opponentId
                        }, defaultProfile));
                    }
                }
            },
            {
                key: "updateFinishStatus$",
                value: function updateFinishStatus$(matchState, matchData) {
                    var _matchState_customData = matchState.customData, playerId2 = _matchState_customData.playerId, opponentId = _matchState_customData.opponentId;
                    if (playerId2 && opponentId) {
                        var whitePlayerId = matchData.whitePlayerId, whitePlayerFinish = matchData.whitePlayerFinish, blackPlayerFinish = matchData.blackPlayerFinish, isOpponentWhite = whitePlayerId === matchState.customData.opponentId, playerFinished = isOpponentWhite ? blackPlayerFinish : whitePlayerFinish, opponentFinished = isOpponentWhite ? whitePlayerFinish : blackPlayerFinish;
                        matchState.profiles[playerId2].finished = playerFinished, matchState.profiles[opponentId].finished = opponentFinished;
                    }
                }
            }
        ]), _CreateMatchHandler;
    }(BaseHandler_default);
    __name(_CreateMatchHandler, "CreateMatchHandler");
    var CreateMatchHandler = _CreateMatchHandler, CreateMatchHandler_default = CreateMatchHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _StartMatchHandler = function(BaseHandler_default) {
        function _StartMatchHandler() {
            return _class_call_check(this, _StartMatchHandler), _call_super(this, _StartMatchHandler, arguments);
        }
        return _inherits(_StartMatchHandler, BaseHandler_default), _create_class(_StartMatchHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_StartMatchHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_superprop_get_processAsync().call(_this1, matchState), matchState.status !== MatchStatus_default.OPEN) throw new MatchAreNotOpen_default();
                                    return this.startMatch$(matchState), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "startMatch$",
                value: function startMatch$(matchState) {
                    matchState.status = MatchStatus_default.ACTIVE, matchState.startAt = Date.now();
                }
            }
        ]), _StartMatchHandler;
    }(BaseHandler_default);
    __name(_StartMatchHandler, "StartMatchHandler");
    var StartMatchHandler = _StartMatchHandler, StartMatchHandler_default = StartMatchHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _SendChallengeMessageHandler = function(BaseHandler_default) {
        function _SendChallengeMessageHandler() {
            return _class_call_check(this, _SendChallengeMessageHandler), _call_super(this, _SendChallengeMessageHandler, arguments);
        }
        return _inherits(_SendChallengeMessageHandler, BaseHandler_default), _create_class(_SendChallengeMessageHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_SendChallengeMessageHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var imageResult;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.validateData$(matchState), [
                                        4,
                                        this.createWideframesChallengeAsync$(matchState)
                                    ];
                                case 1:
                                    return (imageResult = _state.sent()) && this.sendMessageAsync$(matchState, imageResult), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(matchState) {
                    var id = matchState.id, customData = matchState.customData, contextId2 = customData.contextId, opponentId = customData.opponentId;
                    if (!id || "string" != typeof id) throw new MatchIdNotValid_default();
                    if (!contextId2 || "string" != typeof contextId2) throw new ContextIdNotValid_default();
                    if (!opponentId || "string" != typeof opponentId) throw new OpponentIdNotValid_default();
                }
            },
            {
                key: "createWideframesChallengeAsync$",
                value: function createWideframesChallengeAsync$(matchState) {
                    return _async_to_generator(function() {
                        var frameCapture, profiles, customData, playerId2, opponentId, playerProfile, opponentProfile, playerPhoto, tmp, playerScore, opponentPhoto, tmp1, opponentScore;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), frameCapture = this.codex$.frameCapture, profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, opponentId = customData.opponentId, !playerId2 || !opponentId || (playerProfile = profiles[playerId2], opponentProfile = profiles[opponentId], !playerProfile || !opponentProfile)) return [
                                        2,
                                        null
                                    ];
                                    return playerPhoto = playerProfile.photo, playerScore = void 0 === (tmp = playerProfile.score) ? 0 : tmp, opponentPhoto = opponentProfile.photo, opponentScore = void 0 === (tmp1 = opponentProfile.score) ? 0 : tmp1, [
                                        4,
                                        frameCapture.renderAsync("result-challenge", {
                                            playerId: playerId2,
                                            playerPhoto: playerPhoto,
                                            playerScore: playerScore,
                                            opponentId: opponentId,
                                            opponentPhoto: opponentPhoto,
                                            opponentScore: opponentScore,
                                            isPlayerFinished: !1,
                                            isOpponentFinished: !1
                                        })
                                    ];
                                case 1:
                                    return [
                                        2,
                                        _state.sent()
                                    ];
                                case 2:
                                    return console.warn("createWideframesChallengeAsync", _state.sent()), [
                                        2,
                                        null
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "sendMessageAsync$",
                value: function sendMessageAsync$(matchState, wideframes) {
                    return _async_to_generator(function() {
                        var id, profiles, customData, playerId2, opponentId, playerName, message;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (id = matchState.id, profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, opponentId = customData.opponentId, !playerId2 || "string" != typeof playerId2) throw new PlayerIdNotValid_default();
                                    if (!("updateAsync" in GameSDK.extra)) throw new UnavailableFeature_default("updateAsync");
                                    return playerName = profiles[playerId2].name, message = {
                                        data: {
                                            type: ContextTypes_default2.CHALLENGE_FRIEND,
                                            matchId: id,
                                            playerId: playerId2,
                                            opponentId: opponentId
                                        },
                                        action: "CUSTOM",
                                        template: "challenge",
                                        cta: {
                                            default: "Play",
                                            localizations: {
                                                vi_VN: "Ch\u01A1i ngay"
                                            }
                                        },
                                        text: {
                                            default: "".concat(playerName, " challenges you"),
                                            localizations: {
                                                vi_VN: "".concat(playerName, " th th\xe1ch bn trong trn u n\xe0y. Chi ngay!")
                                            }
                                        },
                                        image: wideframes,
                                        strategy: "IMMEDIATE",
                                        notification: "PUSH"
                                    }, [
                                        4,
                                        GameSDK.extra.updateAsync(message)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    })();
                }
            }
        ]), _SendChallengeMessageHandler;
    }(BaseHandler_default);
    __name(_SendChallengeMessageHandler, "SendChallengeMessageHandler");
    var SendChallengeMessageHandler = _SendChallengeMessageHandler, SendChallengeMessageHandler_default = SendChallengeMessageHandler, _ChallengeFriendConcrete = function(BaseConcrete_default) {
        function _ChallengeFriendConcrete() {
            return _class_call_check(this, _ChallengeFriendConcrete), _call_super(this, _ChallengeFriendConcrete, arguments);
        }
        return _inherits(_ChallengeFriendConcrete, BaseConcrete_default), _create_class(_ChallengeFriendConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var playerId2, opponentId, extraData, flow, createContext, prepareMatch, createMatch, getMatchProfiles, startMatch, logStart, sendMessage, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), playerId2 = payload.playerId, opponentId = payload.opponentId, extraData = payload.extraData, flow = new NothingHandler_default(this), createContext = new CreateContextHandler_default(this, {
                                        opponentId: opponentId
                                    }), flow.setNext(createContext), prepareMatch = new PrepareMatchHandler_default(this, {
                                        mode: MatchModes_default.CHALLENGE_FRIEND,
                                        customData: {
                                            playerId: playerId2,
                                            opponentId: opponentId
                                        }
                                    }), createContext.setNext(prepareMatch), createMatch = new CreateMatchHandler_default(this, {
                                        extraData: extraData
                                    }), prepareMatch.setNext(createMatch), getMatchProfiles = new GetMatchProfilesHandler_default(this), createMatch.setNext(getMatchProfiles), startMatch = new StartMatchHandler_default(this), getMatchProfiles.setNext(startMatch), logStart = new LogMatchStartHandler_default(this), startMatch.setNext(logStart), sendMessage = new SendChallengeMessageHandler_default(this), logStart.setNext(sendMessage), detectGameMode = new ContextGameModeHandler_default(this), sendMessage.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _ChallengeFriendConcrete;
    }(BaseConcrete_default);
    __name(_ChallengeFriendConcrete, "ChallengeFriendConcrete");
    var ChallengeFriendConcrete = _ChallengeFriendConcrete, ChallengeFriendConcrete_default = ChallengeFriendConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _ContextNotValid = function(Error1) {
        function _ContextNotValid(message) {
            var _this;
            return _class_call_check(this, _ContextNotValid), (_this = _call_super(this, _ContextNotValid, [
                message
            ])).name = "ContextNotValid", _this.message = null != message ? message : "Context is not valid", _this;
        }
        return _inherits(_ContextNotValid, Error1), _ContextNotValid;
    }(_wrap_native_super(Error));
    __name(_ContextNotValid, "ContextNotValid");
    var ContextNotValid = _ContextNotValid, ContextNotValid_default = ContextNotValid;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _SameContext = function(Error1) {
        function _SameContext(message) {
            var _this;
            return _class_call_check(this, _SameContext), (_this = _call_super(this, _SameContext, [
                message
            ])).name = "SameContext", _this.message = null != message ? message : "Same context", _this;
        }
        return _inherits(_SameContext, Error1), _SameContext;
    }(_wrap_native_super(Error));
    __name(_SameContext, "SameContext");
    var SameContext = _SameContext, SameContext_default = SameContext, Utils3 = Ludex.Utils, _SwitchContextHandler = function(BaseHandler_default) {
        function _SwitchContextHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _SwitchContextHandler), _define_property(_this = _call_super(this, _SwitchContextHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_SwitchContextHandler, BaseHandler_default), _create_class(_SwitchContextHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_SwitchContextHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var contextId2;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), contextId2 = this.payload$.contextId, [
                                        4,
                                        this.switchAsync$(contextId2)
                                    ];
                                case 1:
                                    return _state.sent(), matchState.customData.contextId = contextId2, [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "checkSameContext$",
                value: function checkSameContext$(contextId2) {
                    var isSoloContext = "SOLO" === contextId2, currentContextId = GameSDK.context.getID();
                    if (currentContextId === contextId2 || isSoloContext && null === currentContextId) throw new SameContext_default();
                }
            },
            {
                key: "checkValidContext$",
                value: function checkValidContext$(contextId2) {
                    var currentContextId = GameSDK.context.getID(), isExistContextId = null !== currentContextId || "" !== currentContextId;
                    if ("SOLO" === contextId2 && isExistContextId) throw new ContextNotValid_default();
                }
            },
            {
                key: "switchAsync$",
                value: function switchAsync$(contextId2) {
                    return _async_to_generator(function() {
                        var isSoloContext, error;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    isSoloContext = "SOLO" === contextId2, _state.label = 1;
                                case 1:
                                    return _state.trys.push([
                                        1,
                                        3,
                                        ,
                                        4
                                    ]), this.checkSameContext$(contextId2), this.checkValidContext$(contextId2), [
                                        4,
                                        GameSDK.context.switchAsync(contextId2, isSoloContext)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        3,
                                        4
                                    ];
                                case 3:
                                    if (_instanceof(error = _state.sent(), SameContext_default) || _instanceof(error, ContextNotValid_default)) return [
                                        2
                                    ];
                                    if (!Utils3.Object.hasOwn(error, "code")) throw error;
                                    if (Utils3.Device.isAndroid() && isSoloContext && "INVALID_PARAM" === error.code) return [
                                        2
                                    ];
                                    if ("SAME_CONTEXT" !== error.code) throw error;
                                    return [
                                        3,
                                        4
                                    ];
                                case 4:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _SwitchContextHandler;
    }(BaseHandler_default);
    __name(_SwitchContextHandler, "SwitchContextHandler");
    var SwitchContextHandler = _SwitchContextHandler, SwitchContextHandler_default = SwitchContextHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var Dtos5 = Ludex.Dtos, _Ludex_Utils24 = Ludex.Utils, O14 = _Ludex_Utils24.Object, _ContinueMatchHandler = function(BaseHandler_default) {
        function _ContinueMatchHandler() {
            return _class_call_check(this, _ContinueMatchHandler), _call_super(this, _ContinueMatchHandler, arguments);
        }
        return _inherits(_ContinueMatchHandler, BaseHandler_default), _create_class(_ContinueMatchHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_ContinueMatchHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var respMatchData, respMatchDataValidated;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.validateMatchData$(matchState), [
                                        4,
                                        this.getMatchAsync$(matchState)
                                    ];
                                case 1:
                                    return respMatchData = _state.sent(), respMatchDataValidated = new Dtos5.Match.Data(respMatchData).toObject(), this.validateContinueMatchData$(matchState, respMatchDataValidated), this.updateMatchData$(matchState, respMatchDataValidated), this.validatePlayerTurn$(matchState), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateMatchData$",
                value: function validateMatchData$(matchState) {
                    var id = matchState.id, status = matchState.status;
                    if ("string" != typeof id) throw new MatchIdNotValid_default();
                    if (status !== MatchStatus_default.OPEN) throw new MatchAreNotOpen_default();
                }
            },
            {
                key: "validateContinueMatchData$",
                value: function validateContinueMatchData$(matchState, matchData) {
                    var id = matchState.id, customData = matchState.customData, _id = matchData._id, whitePlayerId = matchData.whitePlayerId, blackPlayerId = matchData.blackPlayerId;
                    if ("string" != typeof _id || _id !== id) throw console.warn("\uD83E\uDD16 ? respMatchDataValidated", matchData), new GetMatchDetailFailed_default();
                    var playerId2 = customData.playerId, isPlayerWhite = whitePlayerId === playerId2, isPlayerBlack = blackPlayerId === playerId2;
                    if (!isPlayerWhite && blackPlayerId === SampleOpponent_default.playerId) throw new PlayerNotJoinInMatch_default();
                    if (!isPlayerWhite && !isPlayerBlack) throw new PlayerNotCurrentInMatch_default();
                }
            },
            {
                key: "validatePlayerTurn$",
                value: function validatePlayerTurn$(matchState) {
                    var profiles = matchState.profiles, playerId2 = matchState.customData.playerId;
                    if ("string" != typeof playerId2) throw new PlayerIdNotValid_default();
                    if (profiles[playerId2].finished) throw new PlayerHasFinishedMatch_default();
                }
            },
            {
                key: "getMatchAsync$",
                value: function getMatchAsync$(matchState) {
                    return _async_to_generator(function() {
                        var id;
                        return _ts_generator(this, function(_state) {
                            return (id = matchState.id) ? [
                                2,
                                this.match$.api.getMatchAPI().getMatchDetailByIdAsync(id)
                            ] : [
                                2,
                                {}
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "updateMatchData$",
                value: function updateMatchData$(matchState, matchData) {
                    this.updateMatchGeneral$(matchState, matchData), this.updatePlayerIds$(matchState, matchData), this.initializeProfiles$(matchState), this.updateScoresAndStatus$(matchState, matchData);
                }
            },
            {
                key: "updateMatchGeneral$",
                value: function updateMatchGeneral$(matchState, matchData) {
                    var extraData = matchData.extraData;
                    matchState.customData = O14.merge(matchState.customData, extraData);
                }
            },
            {
                key: "updatePlayerIds$",
                value: function updatePlayerIds$(matchState, matchData) {
                    var whitePlayerId = matchData.whitePlayerId, blackPlayerId = matchData.blackPlayerId, isPlayerWhite = whitePlayerId === matchState.customData.playerId;
                    matchState.customData.playerId = isPlayerWhite ? whitePlayerId : blackPlayerId, matchState.customData.opponentId = isPlayerWhite ? blackPlayerId : whitePlayerId;
                }
            },
            {
                key: "initializeProfiles$",
                value: function initializeProfiles$(matchState) {
                    var _matchState_customData = matchState.customData, playerId2 = _matchState_customData.playerId, opponentId = _matchState_customData.opponentId;
                    if (playerId2 && opponentId) {
                        var defaultProfile = {
                            name: "",
                            photo: "",
                            finished: !1
                        };
                        matchState.profiles[playerId2] || (matchState.profiles[playerId2] = __spreadValues({
                            id: playerId2
                        }, defaultProfile)), matchState.profiles[opponentId] || (matchState.profiles[opponentId] = __spreadValues({
                            id: opponentId
                        }, defaultProfile));
                    }
                }
            },
            {
                key: "updateScoresAndStatus$",
                value: function updateScoresAndStatus$(matchState, matchData) {
                    var _matchState_customData = matchState.customData, playerId2 = _matchState_customData.playerId, opponentId = _matchState_customData.opponentId;
                    if (playerId2 && opponentId) {
                        var whitePlayerId = matchData.whitePlayerId, whitePlayerScore = matchData.whitePlayerScore, whitePlayerFinish = matchData.whitePlayerFinish, blackPlayerScore = matchData.blackPlayerScore, blackPlayerFinish = matchData.blackPlayerFinish, isPlayerWhite = whitePlayerId === playerId2;
                        matchState.profiles[playerId2].score = isPlayerWhite ? whitePlayerScore : blackPlayerScore, matchState.profiles[opponentId].score = isPlayerWhite ? blackPlayerScore : whitePlayerScore, matchState.profiles[playerId2].finished = isPlayerWhite ? whitePlayerFinish : blackPlayerFinish, matchState.profiles[opponentId].finished = isPlayerWhite ? blackPlayerFinish : whitePlayerFinish;
                    }
                }
            }
        ]), _ContinueMatchHandler;
    }(BaseHandler_default);
    __name(_ContinueMatchHandler, "ContinueMatchHandler");
    var ContinueMatchHandler = _ContinueMatchHandler, ContinueMatchHandler_default = ContinueMatchHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _SendUpdateMessageHandler = function(BaseHandler_default) {
        function _SendUpdateMessageHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _SendUpdateMessageHandler), _define_property(_this = _call_super(this, _SendUpdateMessageHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_SendUpdateMessageHandler, BaseHandler_default), _create_class(_SendUpdateMessageHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_SendUpdateMessageHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var imageResult;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_superprop_get_processAsync().call(_this1, matchState), !this.payload$.ignore) return [
                                        3,
                                        2
                                    ];
                                    return [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                case 4:
                                    return _state.sent(), [
                                        2
                                    ];
                                case 2:
                                    return this.validateData$(matchState), [
                                        4,
                                        this.createWideframesCurrentScoreAsync$(matchState)
                                    ];
                                case 3:
                                    return (imageResult = _state.sent()) && this.sendMessageAsync$(matchState, imageResult), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(matchState) {
                    var id = matchState.id, customData = matchState.customData, contextId2 = customData.contextId, opponentId = customData.opponentId;
                    if (!id || "string" != typeof id) throw new MatchIdNotValid_default();
                    if (!contextId2 || "string" != typeof contextId2) throw new ContextIdNotValid_default();
                    if (!opponentId || "string" != typeof opponentId) throw new OpponentIdNotValid_default();
                }
            },
            {
                key: "createWideframesCurrentScoreAsync$",
                value: function createWideframesCurrentScoreAsync$(matchState) {
                    return _async_to_generator(function() {
                        var _this_codex$, player, frameCapture, _player_getPlayer, playerId2, playerPhoto, opponentId, opponentProfile, opponentPhoto;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), player = (_this_codex$ = this.codex$).player, frameCapture = _this_codex$.frameCapture, playerId2 = (_player_getPlayer = player.getPlayer()).playerId, playerPhoto = _player_getPlayer.photo, null == (opponentId = matchState.customData.opponentId) || !(opponentProfile = matchState.profiles[opponentId])) return [
                                        2,
                                        null
                                    ];
                                    return opponentPhoto = opponentProfile.photo, [
                                        4,
                                        frameCapture.renderAsync("update-challenge", {
                                            playerId: playerId2,
                                            playerPhoto: playerPhoto,
                                            opponentId: opponentId,
                                            opponentPhoto: opponentPhoto
                                        })
                                    ];
                                case 1:
                                    return [
                                        2,
                                        _state.sent()
                                    ];
                                case 2:
                                    return console.warn("createWideframesCurrentScoreAsync", _state.sent()), [
                                        2,
                                        null
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "sendMessageAsync$",
                value: function sendMessageAsync$(matchState, wideframes) {
                    return _async_to_generator(function() {
                        var id, profiles, customData, playerId2, opponentId, playerProfile, playerName, message;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (id = matchState.id, profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, opponentId = customData.opponentId, !playerId2 || "string" != typeof playerId2) throw new PlayerIdNotValid_default();
                                    if (!("updateAsync" in GameSDK.extra)) throw new UnavailableFeature_default("updateAsync");
                                    if (!(playerProfile = profiles[playerId2])) throw new ProfileNotFound_default();
                                    if (playerName = playerProfile.name, message = {
                                        data: {
                                            type: ContextTypes_default2.CHALLENGE_FRIEND,
                                            matchId: id,
                                            playerId: playerId2,
                                            opponentId: opponentId
                                        },
                                        action: "CUSTOM",
                                        template: "challenge",
                                        cta: {
                                            default: "Play",
                                            localizations: {
                                                vi_VN: "Ch\u01A1i ngay"
                                            }
                                        },
                                        text: {
                                            default: "".concat(playerName, " made an update."),
                                            localizations: {
                                                vi_VN: "".concat(playerName, " \xe3 cp nht trn u. Chi ngay!")
                                            }
                                        },
                                        image: wideframes,
                                        strategy: "LAST",
                                        notification: "PUSH"
                                    }, !("updateAsync" in GameSDK.extra)) throw new UnavailableFeature_default("updateAsync");
                                    return [
                                        4,
                                        GameSDK.extra.updateAsync(message)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    })();
                }
            }
        ]), _SendUpdateMessageHandler;
    }(BaseHandler_default);
    __name(_SendUpdateMessageHandler, "SendUpdateMessageHandler");
    var SendUpdateMessageHandler = _SendUpdateMessageHandler, SendUpdateMessageHandler_default = SendUpdateMessageHandler, _ContinueChallengeMatchConcrete = function(BaseConcrete_default) {
        function _ContinueChallengeMatchConcrete() {
            return _class_call_check(this, _ContinueChallengeMatchConcrete), _call_super(this, _ContinueChallengeMatchConcrete, arguments);
        }
        return _inherits(_ContinueChallengeMatchConcrete, BaseConcrete_default), _create_class(_ContinueChallengeMatchConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var contextId2, matchId, playerId2, opponentId, _payload_sendUpdateMessage, sendUpdateMessage, flow, switchContext, prepareMatch, continueMatch, getMatchProfiles, startMatch, sendMessage, logStart, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), contextId2 = payload.contextId, matchId = payload.matchId, playerId2 = payload.playerId, opponentId = payload.opponentId, sendUpdateMessage = void 0 === (_payload_sendUpdateMessage = payload.sendUpdateMessage) || _payload_sendUpdateMessage, flow = new NothingHandler_default(this), switchContext = new SwitchContextHandler_default(this, {
                                        contextId: contextId2
                                    }), flow.setNext(switchContext), prepareMatch = new PrepareMatchHandler_default(this, {
                                        id: matchId,
                                        mode: MatchModes_default.CHALLENGE_FRIEND,
                                        customData: {
                                            playerId: playerId2,
                                            opponentId: opponentId
                                        }
                                    }), switchContext.setNext(prepareMatch), continueMatch = new ContinueMatchHandler_default(this), prepareMatch.setNext(continueMatch), getMatchProfiles = new GetMatchProfilesHandler_default(this), continueMatch.setNext(getMatchProfiles), startMatch = new StartMatchHandler_default(this), getMatchProfiles.setNext(startMatch), sendMessage = new SendUpdateMessageHandler_default(this, {
                                        ignore: !sendUpdateMessage
                                    }), startMatch.setNext(sendMessage), logStart = new LogMatchStartHandler_default(this), sendMessage.setNext(logStart), detectGameMode = new ContextGameModeHandler_default(this), logStart.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _ContinueChallengeMatchConcrete;
    }(BaseConcrete_default);
    __name(_ContinueChallengeMatchConcrete, "ContinueChallengeMatchConcrete");
    var ContinueChallengeMatchConcrete = _ContinueChallengeMatchConcrete, ContinueChallengeMatchConcrete_default = ContinueChallengeMatchConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Plugins1 = Ludex.Plugins, tmp1 = _Ludex_Plugins1.Analytics, _ref1 = void 0 === tmp1 ? {} : tmp1, Events5 = _ref1.Events, _Ludex_Utils25 = Ludex.Utils, S5 = _Ludex_Utils25.String, V17 = _Ludex_Utils25.Valid, _LogMatchFinishedHandler = function(BaseHandler_default) {
        function _LogMatchFinishedHandler() {
            return _class_call_check(this, _LogMatchFinishedHandler), _call_super(this, _LogMatchFinishedHandler, arguments);
        }
        return _inherits(_LogMatchFinishedHandler, BaseHandler_default), _create_class(_LogMatchFinishedHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_LogMatchFinishedHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var customData, mode, startAt, finishAt, level2, seconds, analytics;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), customData = matchState.customData, mode = matchState.mode, startAt = matchState.startAt, finishAt = matchState.finishAt, level2 = customData.level, this.validateMode$(mode), this.validateLevel$(level2), seconds = Math.floor((finishAt - startAt) / 1e3), analytics = this.codex$.analytics, Events5 && analytics.event(Events5.MATCH_END, {
                                        level: level2,
                                        game_mode: S5.toUpperCamelCase(mode),
                                        level_name: this.getLevelName$(level2),
                                        time_played: seconds
                                    }), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateMode$",
                value: function validateMode$(mode) {
                    if (!V17.isString(mode)) throw new MatchModeNotDefined_default();
                }
            },
            {
                key: "validateLevel$",
                value: function validateLevel$(level2) {
                    if (!V17.isNumber(level2)) throw new LevelNotDefined_default();
                }
            },
            {
                key: "getLevelName$",
                value: function getLevelName$(level2) {
                    return "Level ".concat(S5.padStart(level2.toString(), 5, "0"));
                }
            }
        ]), _LogMatchFinishedHandler;
    }(BaseHandler_default);
    __name(_LogMatchFinishedHandler, "LogMatchFinishedHandler");
    var LogMatchFinishedHandler = _LogMatchFinishedHandler, LogMatchFinishedHandler_default = LogMatchFinishedHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _LeaderboardNotExist = function(Error1) {
        function _LeaderboardNotExist(message) {
            var _this;
            return _class_call_check(this, _LeaderboardNotExist), (_this = _call_super(this, _LeaderboardNotExist, [
                message
            ])).name = "LeaderboardNotExist", _this.message = null != message ? message : "Leaderboard not exist in game", _this;
        }
        return _inherits(_LeaderboardNotExist, Error1), _LeaderboardNotExist;
    }(_wrap_native_super(Error));
    __name(_LeaderboardNotExist, "LeaderboardNotExist");
    var LeaderboardNotExist = _LeaderboardNotExist, LeaderboardNotExist_default = LeaderboardNotExist;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _ScoreNotValid = function(Error1) {
        function _ScoreNotValid(message) {
            var _this;
            return _class_call_check(this, _ScoreNotValid), (_this = _call_super(this, _ScoreNotValid, [
                message
            ])).name = "ScoreNotValid", _this.message = null != message ? message : "Score is not valid", _this;
        }
        return _inherits(_ScoreNotValid, Error1), _ScoreNotValid;
    }(_wrap_native_super(Error));
    __name(_ScoreNotValid, "ScoreNotValid");
    var ScoreNotValid = _ScoreNotValid, ScoreNotValid_default = ScoreNotValid, _Ludex_Utils26 = Ludex.Utils, V18 = _Ludex_Utils26.Valid, _Ludex_Configs7 = Ludex.Configs, LeaderboardList = _Ludex_Configs7.Leaderboards.LeaderboardList, _PostGlobalLeaderboardsScoreHandler = function(BaseHandler_default) {
        function _PostGlobalLeaderboardsScoreHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _PostGlobalLeaderboardsScoreHandler), _define_property(_this = _call_super(this, _PostGlobalLeaderboardsScoreHandler, [
                concrete
            ]), "payload$", void 0), _define_property(_this, "skipPostScore$", void 0), _this.payload$ = {
                score: 0,
                playerId: ""
            }, _this.skipPostScore$ = !!(null == payload ? void 0 : payload.ignore), _this;
        }
        return _inherits(_PostGlobalLeaderboardsScoreHandler, BaseHandler_default), _create_class(_PostGlobalLeaderboardsScoreHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_PostGlobalLeaderboardsScoreHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, LeaderboardConfig, Id, Mode;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_superprop_get_processAsync().call(_this1, matchState), !this.skipPostScore$) return [
                                        3,
                                        2
                                    ];
                                    return [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                                case 2:
                                    if (this.setupSetScorePayload$(matchState), !("submitGameResultsAsync" in GameSDK.extra)) return [
                                        3,
                                        4
                                    ];
                                    return [
                                        4,
                                        GameSDK.extra.submitGameResultsAsync(this.payload$.score)
                                    ];
                                case 3:
                                    _state.sent(), _state.label = 4;
                                case 4:
                                    _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                                    try {
                                        for(_iterator = LeaderboardList[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)Id = (LeaderboardConfig = _step.value).Id, Mode = LeaderboardConfig.Mode, matchState.mode && this.isValidMode$(Mode, matchState.mode) && this.setLeaderboardScoreAsync$(__spreadValues({
                                            leaderboardId: Id
                                        }, this.payload$));
                                    } catch (err) {
                                        _didIteratorError = !0, _iteratorError = err;
                                    } finally{
                                        try {
                                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                                        } finally{
                                            if (_didIteratorError) throw _iteratorError;
                                        }
                                    }
                                    return [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 5:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "isValidMode$",
                value: function isValidMode$(leaderboardMode, matchMode) {
                    return leaderboardMode === matchMode;
                }
            },
            {
                key: "setupSetScorePayload$",
                value: function setupSetScorePayload$(matchState) {
                    return _async_to_generator(function() {
                        var profiles, playerId2, score2;
                        return _ts_generator(this, function(_state) {
                            if (profiles = matchState.profiles, !(playerId2 = matchState.customData.playerId) || !profiles[playerId2]) throw new ProfileNotFound_default();
                            if (score2 = profiles[playerId2].score, !V18.isNumber(score2)) throw new ScoreNotValid_default();
                            return this.payload$ = {
                                score: score2,
                                playerId: playerId2
                            }, [
                                2
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "setLeaderboardScoreAsync$",
                value: function setLeaderboardScoreAsync$(payload) {
                    return _async_to_generator(function() {
                        var playerId2, score2, leaderboardId, name2;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), playerId2 = payload.playerId, score2 = payload.score, leaderboardId = payload.leaderboardId, !(name2 = this.codex$.leaderboard.getLeaderboardName(leaderboardId))) throw new LeaderboardNotExist_default();
                                    return [
                                        4,
                                        this.codex$.leaderboard.setLeaderboardScoreAsync(name2, playerId2, score2)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return console.warn("setLeaderboardScoreAsync", _state.sent()), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _PostGlobalLeaderboardsScoreHandler;
    }(BaseHandler_default);
    __name(_PostGlobalLeaderboardsScoreHandler, "PostGlobalLeaderboardsScoreHandler");
    var PostGlobalLeaderboardsScoreHandler = _PostGlobalLeaderboardsScoreHandler, PostGlobalLeaderboardsScoreHandler_default = PostGlobalLeaderboardsScoreHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var Dtos6 = Ludex.Dtos, Utils4 = Ludex.Utils, V19 = Utils4.Valid, O15 = Utils4.Object, _FinishMatchHandler = function(BaseHandler_default) {
        function _FinishMatchHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _FinishMatchHandler), _define_property(_this = _call_super(this, _FinishMatchHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_FinishMatchHandler, BaseHandler_default), _create_class(_FinishMatchHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_FinishMatchHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var respMatchData, respMatchDataValidated;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_superprop_get_processAsync().call(_this1, matchState), this.validateMatchData$(matchState), !this.payload$.useAPI) return [
                                        3,
                                        2
                                    ];
                                    return [
                                        4,
                                        this.finishMatchAsync$(matchState)
                                    ];
                                case 1:
                                    return respMatchData = _state.sent(), respMatchDataValidated = new Dtos6.Match.Data(respMatchData).toObject(), this.updateMatchFromAPI$(matchState, respMatchDataValidated), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    this.updateMatchData$(matchState), _state.label = 3;
                                case 3:
                                    return this.updateMatchState$(matchState), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 4:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateMatchData$",
                value: function validateMatchData$(matchState) {
                    var status = matchState.status, profiles = matchState.profiles, customData = matchState.customData;
                    if (status !== MatchStatus_default.ACTIVE) throw new MatchAreNotActive_default();
                    var playerId2 = customData.playerId;
                    if (!playerId2 || !O15.hasOwn(profiles, playerId2)) throw new PlayerNotCurrentInMatch_default();
                }
            },
            {
                key: "updateMatchData$",
                value: function updateMatchData$(matchState) {
                    var playerId2 = matchState.customData.playerId;
                    if (!V19.isString(playerId2)) throw new PlayerIdNotValid_default();
                    matchState.profiles[playerId2].finished = !0;
                }
            },
            {
                key: "updateMatchState$",
                value: function updateMatchState$(matchState) {
                    matchState.status = MatchStatus_default.FINISHED, matchState.finishAt = Date.now();
                }
            },
            {
                key: "finishMatchAsync$",
                value: function finishMatchAsync$(matchState) {
                    return _async_to_generator(function() {
                        var id, profiles, customData, level2, playerId2, payload;
                        return _ts_generator(this, function(_state) {
                            if (id = matchState.id, profiles = matchState.profiles, level2 = (customData = matchState.customData).level, playerId2 = customData.playerId, !V19.isString(playerId2)) throw new PlayerIdNotValid_default();
                            return payload = {
                                matchId: null != id ? id : "",
                                score: profiles[playerId2].score,
                                level: level2,
                                extraData: this.payload$.extraData
                            }, [
                                2,
                                this.match$.api.getMatchAPI().finishMatchAsync(payload)
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "updateMatchFromAPI$",
                value: function updateMatchFromAPI$(matchState, matchData) {
                    var _matchState_customData = matchState.customData, playerId2 = _matchState_customData.playerId, opponentId = _matchState_customData.opponentId;
                    if (!V19.isString(playerId2)) throw new PlayerIdNotValid_default();
                    if (!V19.isString(opponentId)) throw new OpponentIdNotValid_default();
                    var whitePlayerId = matchData.whitePlayerId, whitePlayerScore = matchData.whitePlayerScore, blackPlayerScore = matchData.blackPlayerScore, whitePlayerFinish = matchData.whitePlayerFinish, blackPlayerFinish = matchData.blackPlayerFinish, isPlayerWhite = playerId2 === whitePlayerId, playerScore = isPlayerWhite ? whitePlayerScore : blackPlayerScore, opponentScore = isPlayerWhite ? blackPlayerScore : whitePlayerScore, playerFinish = isPlayerWhite ? whitePlayerFinish : blackPlayerFinish, opponentFinish = isPlayerWhite ? blackPlayerFinish : whitePlayerFinish;
                    matchState.profiles[playerId2].score = playerScore, matchState.profiles[opponentId].score = opponentScore, matchState.profiles[playerId2].finished = playerFinish, matchState.profiles[opponentId].finished = opponentFinish;
                }
            }
        ]), _FinishMatchHandler;
    }(BaseHandler_default);
    __name(_FinishMatchHandler, "FinishMatchHandler");
    var FinishMatchHandler = _FinishMatchHandler, FinishMatchHandler_default = FinishMatchHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _SendFinishedMessageHandler = function(BaseHandler_default) {
        function _SendFinishedMessageHandler() {
            return _class_call_check(this, _SendFinishedMessageHandler), _call_super(this, _SendFinishedMessageHandler, arguments);
        }
        return _inherits(_SendFinishedMessageHandler, BaseHandler_default), _create_class(_SendFinishedMessageHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_SendFinishedMessageHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var imageResult;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.validateData$(matchState), [
                                        4,
                                        this.createWideframesResultAsync$(matchState)
                                    ];
                                case 1:
                                    return (imageResult = _state.sent()) && this.progressSendFinishedMessage$(matchState, imageResult), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(matchState) {
                    var id = matchState.id, customData = matchState.customData, contextId2 = customData.contextId, opponentId = customData.opponentId;
                    if (!id || "string" != typeof id) throw new MatchIdNotValid_default();
                    if (!contextId2 || "string" != typeof contextId2) throw new ContextIdNotValid_default();
                    if (!opponentId || "string" != typeof opponentId) throw new OpponentIdNotValid_default();
                }
            },
            {
                key: "createWideframesResultAsync$",
                value: function createWideframesResultAsync$(matchState) {
                    return _async_to_generator(function() {
                        var frameCapture, profiles, customData, playerId2, opponentId, playerProfile, opponentProfile, playerPhoto, tmp, playerScore, playerFinished, opponentPhoto, tmp1, opponentScore, opponentFinished;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), frameCapture = this.codex$.frameCapture, profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, opponentId = customData.opponentId, !playerId2 || !opponentId || (playerProfile = profiles[playerId2], opponentProfile = profiles[opponentId], !playerProfile || !opponentProfile)) return [
                                        2,
                                        null
                                    ];
                                    return playerPhoto = playerProfile.photo, playerScore = void 0 === (tmp = playerProfile.score) ? 0 : tmp, playerFinished = playerProfile.finished, opponentPhoto = opponentProfile.photo, opponentScore = void 0 === (tmp1 = opponentProfile.score) ? 0 : tmp1, opponentFinished = opponentProfile.finished, [
                                        4,
                                        frameCapture.renderAsync("result-challenge", {
                                            playerId: playerId2,
                                            playerPhoto: playerPhoto,
                                            playerScore: playerScore,
                                            opponentId: opponentId,
                                            opponentPhoto: opponentPhoto,
                                            opponentScore: opponentScore,
                                            isPlayerFinished: !!playerFinished,
                                            isOpponentFinished: !!opponentFinished
                                        })
                                    ];
                                case 1:
                                    return [
                                        2,
                                        _state.sent()
                                    ];
                                case 2:
                                    return console.warn("createWideframesResultAsync", _state.sent()), [
                                        2,
                                        null
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "progressSendFinishedMessage$",
                value: function progressSendFinishedMessage$(matchState, wideframes) {
                    var profiles = matchState.profiles, customData = matchState.customData, playerId2 = customData.playerId, opponentId = customData.opponentId;
                    if (!playerId2 || "string" != typeof playerId2) throw new PlayerIdNotValid_default();
                    if (!opponentId || "string" != typeof opponentId) throw new OpponentIdNotValid_default();
                    if (!profiles[playerId2] || !profiles[opponentId]) throw new ProfileNotFound_default();
                    var _profiles_playerId2 = profiles[playerId2], tmp = _profiles_playerId2.score, playerScore = void 0 === tmp ? 0 : tmp, playerFinished = _profiles_playerId2.finished, _profiles_opponentId = profiles[opponentId], tmp1 = _profiles_opponentId.score, opponentScore = void 0 === tmp1 ? 0 : tmp1, opponentFinished = _profiles_opponentId.finished;
                    playerFinished ? this.sendFinishMessageAsync$(matchState, wideframes) : opponentFinished && playerScore > opponentScore ? this.sendBestScoreMessageAsync$(matchState, wideframes) : this.sendPlayTurnMessageAsync$(matchState, wideframes);
                }
            },
            {
                key: "sendFinishMessageAsync$",
                value: function sendFinishMessageAsync$(matchState, wideframes) {
                    return _async_to_generator(function() {
                        var id, profiles, customData, playerId2, opponentId, playerProfile, playerName, message;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (id = matchState.id, profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, opponentId = customData.opponentId, !playerId2 || "string" != typeof playerId2) throw new PlayerIdNotValid_default();
                                    if (!("updateAsync" in GameSDK.extra)) throw new UnavailableFeature_default("updateAsync");
                                    if (!(playerProfile = profiles[playerId2])) throw new ProfileNotFound_default();
                                    if (playerName = playerProfile.name, message = {
                                        data: {
                                            type: ContextTypes_default2.CHALLENGE_FRIEND,
                                            matchId: id,
                                            playerId: playerId2,
                                            opponentId: opponentId,
                                            status: MatchStatus_default.FINISHED
                                        },
                                        action: "CUSTOM",
                                        template: "finished",
                                        cta: {
                                            default: "See result",
                                            localizations: {
                                                vi_VN: "Xem k\u1EBFt qu\u1EA3"
                                            }
                                        },
                                        text: {
                                            default: "".concat(playerName, " just finished. Check them now."),
                                            localizations: {
                                                vi_VN: "".concat(playerName, " va ho\xe0n th\xe0nh m\xe0n chi. Nhn  xem kt qu trn u.")
                                            }
                                        },
                                        image: wideframes,
                                        strategy: "IMMEDIATE",
                                        notification: "PUSH"
                                    }, !("updateAsync" in GameSDK.extra)) throw new UnavailableFeature_default("updateAsync");
                                    return [
                                        4,
                                        GameSDK.extra.updateAsync(message)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    })();
                }
            },
            {
                key: "sendPlayTurnMessageAsync$",
                value: function sendPlayTurnMessageAsync$(matchState, wideframes) {
                    return _async_to_generator(function() {
                        var id, profiles, customData, playerId2, opponentId, playerProfile, playerName, playerScore, message;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (id = matchState.id, profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, opponentId = customData.opponentId, !playerId2 || "string" != typeof playerId2) throw new PlayerIdNotValid_default();
                                    if (!(playerProfile = profiles[playerId2])) throw new ProfileNotFound_default();
                                    if (playerName = playerProfile.name, playerScore = playerProfile.score, message = {
                                        data: {
                                            type: ContextTypes_default2.CHALLENGE_FRIEND,
                                            matchId: id,
                                            playerId: playerId2,
                                            opponentId: opponentId,
                                            status: MatchStatus_default.ACTIVE
                                        },
                                        action: "CUSTOM",
                                        template: "finished",
                                        cta: {
                                            default: "Play",
                                            localizations: {
                                                vi_VN: "Ch\u01A1i ngay"
                                            }
                                        },
                                        text: {
                                            default: "".concat(playerName, " got ").concat(playerScore, " scores. So easy! Can you?"),
                                            localizations: {
                                                vi_VN: "".concat(playerName, " \xe3 t ").concat(playerScore, " im! Nhn Chi  so t\xe0i!")
                                            }
                                        },
                                        image: wideframes,
                                        strategy: "IMMEDIATE",
                                        notification: "PUSH"
                                    }, !("updateAsync" in GameSDK.extra)) throw new UnavailableFeature_default("updateAsync");
                                    return [
                                        4,
                                        GameSDK.extra.updateAsync(message)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    })();
                }
            },
            {
                key: "sendBestScoreMessageAsync$",
                value: function sendBestScoreMessageAsync$(matchState, wideframes) {
                    return _async_to_generator(function() {
                        var id, profiles, customData, playerId2, opponentId, playerProfile, playerName, playerScore, message;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (id = matchState.id, profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, opponentId = customData.opponentId, !playerId2 || "string" != typeof playerId2) throw new PlayerIdNotValid_default();
                                    if (!(playerProfile = profiles[playerId2])) throw new ProfileNotFound_default();
                                    if (playerName = playerProfile.name, playerScore = playerProfile.score, message = {
                                        data: {
                                            type: ContextTypes_default2.CHALLENGE_FRIEND,
                                            matchId: id,
                                            playerId: playerId2,
                                            opponentId: opponentId,
                                            status: MatchStatus_default.FINISHED
                                        },
                                        action: "CUSTOM",
                                        template: "pass_score",
                                        cta: {
                                            default: "See result",
                                            localizations: {
                                                vi_VN: "Xem k\u1EBFt qu\u1EA3"
                                            }
                                        },
                                        text: {
                                            default: "".concat(playerName, " beat your high score. Their score: ").concat(playerScore),
                                            localizations: {
                                                vi_VN: "".concat(playerName, " \xe3 vt qua im s ca bn, vi ").concat(playerScore, " im!")
                                            }
                                        },
                                        image: wideframes,
                                        strategy: "IMMEDIATE",
                                        notification: "PUSH"
                                    }, !("updateAsync" in GameSDK.extra)) throw new UnavailableFeature_default("updateAsync");
                                    return [
                                        4,
                                        GameSDK.extra.updateAsync(message)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    })();
                }
            }
        ]), _SendFinishedMessageHandler;
    }(BaseHandler_default);
    __name(_SendFinishedMessageHandler, "SendFinishedMessageHandler");
    var SendFinishedMessageHandler = _SendFinishedMessageHandler, SendFinishedMessageHandler_default = SendFinishedMessageHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _SetPlayerBestScoreHandler = function(BaseHandler_default) {
        function _SetPlayerBestScoreHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _SetPlayerBestScoreHandler), _define_property(_this = _call_super(this, _SetPlayerBestScoreHandler, [
                concrete
            ]), "ignore$", void 0), _this.ignore$ = !!(null == payload ? void 0 : payload.ignore), _this;
        }
        return _inherits(_SetPlayerBestScoreHandler, BaseHandler_default), _create_class(_SetPlayerBestScoreHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_SetPlayerBestScoreHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.setPlayerBestScore$(matchState), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "setPlayerBestScore$",
                value: function setPlayerBestScore$(matchState) {
                    if (!this.ignore$) {
                        var profiles = matchState.profiles, playerId2 = matchState.customData.playerId;
                        if (!playerId2 || !profiles[playerId2]) throw new ProfileNotFound_default();
                        var player = this.codex$.player, bestScore = player.getBestScore() || 0, tmp = profiles[playerId2].score, score2 = void 0 === tmp ? 0 : tmp;
                        score2 <= bestScore || (player.setBestScore(score2), profiles[playerId2].bestScore = score2);
                    }
                }
            }
        ]), _SetPlayerBestScoreHandler;
    }(BaseHandler_default);
    __name(_SetPlayerBestScoreHandler, "SetPlayerBestScoreHandler");
    var SetPlayerBestScoreHandler = _SetPlayerBestScoreHandler, SetPlayerBestScoreHandler_default = SetPlayerBestScoreHandler, _FinishChallengeMatchConcrete = function(BaseConcrete_default) {
        function _FinishChallengeMatchConcrete() {
            return _class_call_check(this, _FinishChallengeMatchConcrete), _call_super(this, _FinishChallengeMatchConcrete, arguments);
        }
        return _inherits(_FinishChallengeMatchConcrete, BaseConcrete_default), _create_class(_FinishChallengeMatchConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var extraData, flow, finishMatch, sendMessage, logFinish, setPlayerBestScore, postLeaderboardsScore, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), extraData = (null != payload ? payload : {}).extraData, flow = new NothingHandler_default(this), finishMatch = new FinishMatchHandler_default(this, {
                                        useAPI: !0,
                                        extraData: extraData
                                    }), flow.setNext(finishMatch), sendMessage = new SendFinishedMessageHandler_default(this), finishMatch.setNext(sendMessage), logFinish = new LogMatchFinishedHandler_default(this), sendMessage.setNext(logFinish), setPlayerBestScore = new SetPlayerBestScoreHandler_default(this), logFinish.setNext(setPlayerBestScore), postLeaderboardsScore = new PostGlobalLeaderboardsScoreHandler_default(this), setPlayerBestScore.setNext(postLeaderboardsScore), detectGameMode = new ContextGameModeHandler_default(this), postLeaderboardsScore.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _FinishChallengeMatchConcrete;
    }(BaseConcrete_default);
    __name(_FinishChallengeMatchConcrete, "FinishChallengeMatchConcrete");
    var FinishChallengeMatchConcrete = _FinishChallengeMatchConcrete, FinishChallengeMatchConcrete_default = FinishChallengeMatchConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _ContextAreSolo = function(Error1) {
        function _ContextAreSolo(message) {
            var _this;
            return _class_call_check(this, _ContextAreSolo), (_this = _call_super(this, _ContextAreSolo, [
                message
            ])).name = "ContextAreSolo", _this.message = null != message ? message : "Context are solo", _this;
        }
        return _inherits(_ContextAreSolo, Error1), _ContextAreSolo;
    }(_wrap_native_super(Error));
    __name(_ContextAreSolo, "ContextAreSolo");
    var ContextAreSolo = _ContextAreSolo, ContextAreSolo_default = ContextAreSolo;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _ContextNotChallenge = function(Error1) {
        function _ContextNotChallenge(message) {
            var _this;
            return _class_call_check(this, _ContextNotChallenge), (_this = _call_super(this, _ContextNotChallenge, [
                message
            ])).name = "ContextNotChallenge", _this.message = null != message ? message : "Context is not a challenge", _this;
        }
        return _inherits(_ContextNotChallenge, Error1), _ContextNotChallenge;
    }(_wrap_native_super(Error));
    __name(_ContextNotChallenge, "ContextNotChallenge");
    var ContextNotChallenge = _ContextNotChallenge, ContextNotChallenge_default = ContextNotChallenge;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _NetworkFailure = function(Error1) {
        function _NetworkFailure(message) {
            var _this;
            return _class_call_check(this, _NetworkFailure), (_this = _call_super(this, _NetworkFailure, [
                message
            ])).name = "NetworkFailure", _this.message = null != message ? message : "Network failure", _this;
        }
        return _inherits(_NetworkFailure, Error1), _NetworkFailure;
    }(_wrap_native_super(Error));
    __name(_NetworkFailure, "NetworkFailure");
    var NetworkFailure = _NetworkFailure, NetworkFailure_default = NetworkFailure, Utils5 = Ludex.Utils, Dtos7 = Ludex.Dtos, A6 = Utils5.Array, O16 = Utils5.Object, _GetOpponentChallengeContextHandler = function(BaseHandler_default) {
        function _GetOpponentChallengeContextHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _GetOpponentChallengeContextHandler), _define_property(_this = _call_super(this, _GetOpponentChallengeContextHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_GetOpponentChallengeContextHandler, BaseHandler_default), _create_class(_GetOpponentChallengeContextHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_GetOpponentChallengeContextHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var opponentId;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.checkCurrentContext$(), [
                                        4,
                                        this.getOpponentIdFromContextAsync$()
                                    ];
                                case 1:
                                    return opponentId = _state.sent(), matchState.customData.opponentId = opponentId, [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "checkCurrentContext$",
                value: function checkCurrentContext$() {
                    var contextId2 = GameSDK.context.getID();
                    if ("string" != typeof contextId2) throw new ContextIdNotValid_default();
                    if ("SOLO" === contextId2) throw new ContextAreSolo_default();
                }
            },
            {
                key: "getOpponentIdFromContextAsync$",
                value: function getOpponentIdFromContextAsync$() {
                    return _async_to_generator(function() {
                        var ignoreId, players, opponent;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return ignoreId = this.payload$.ignoreId, [
                                        4,
                                        this.getContextPlayers$([
                                            ignoreId
                                        ])
                                    ];
                                case 1:
                                    if ((players = _state.sent()).length > 1) throw new ContextNotChallenge_default();
                                    return opponent = SampleOpponent_default, 1 === players.length && (opponent = players[0]), [
                                        2,
                                        opponent.playerId
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getContextPlayers$",
                value: function getContextPlayers$(ignorePlayers) {
                    return _async_to_generator(function() {
                        var playersData, players, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, player, playerId2, name2, photo2, error;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), [
                                        4,
                                        GameSDK.context.getPlayersAsync()
                                    ];
                                case 1:
                                    playersData = _state.sent(), players = [], _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                                    try {
                                        for(_iterator = playersData[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)playerId2 = (player = _step.value).getID(), !(ignorePlayers.indexOf(playerId2) > -1) && (name2 = player.getName()) && (photo2 = player.getPhoto(), players.push(new Dtos7.Player.Info({
                                            playerId: playerId2,
                                            name: name2,
                                            photo: photo2
                                        }).toObject()));
                                    } catch (err) {
                                        _didIteratorError = !0, _iteratorError = err;
                                    } finally{
                                        try {
                                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                                        } finally{
                                            if (_didIteratorError) throw _iteratorError;
                                        }
                                    }
                                    return [
                                        2,
                                        A6.unique(players)
                                    ];
                                case 2:
                                    if (error = _state.sent(), O16.hasOwn(error, "code") && "NETWORK_FAILURE" === error.code) throw new NetworkFailure_default();
                                    return [
                                        2,
                                        []
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    })();
                }
            }
        ]), _GetOpponentChallengeContextHandler;
    }(BaseHandler_default);
    __name(_GetOpponentChallengeContextHandler, "GetOpponentChallengeContextHandler");
    var GetOpponentChallengeContextHandler = _GetOpponentChallengeContextHandler, GetOpponentChallengeContextHandler_default = GetOpponentChallengeContextHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _ContextIsTournament = function(Error1) {
        function _ContextIsTournament(message) {
            var _this;
            return _class_call_check(this, _ContextIsTournament), (_this = _call_super(this, _ContextIsTournament, [
                message
            ])).name = "ContextIsTournament", _this.message = null != message ? message : "Context is a tournament", _this;
        }
        return _inherits(_ContextIsTournament, Error1), _ContextIsTournament;
    }(_wrap_native_super(Error));
    __name(_ContextIsTournament, "ContextIsTournament");
    var ContextIsTournament = _ContextIsTournament, ContextIsTournament_default = ContextIsTournament, _Ludex_Utils27 = Ludex.Utils, O17 = _Ludex_Utils27.Object, _ChooseContextHandler = function(BaseHandler_default) {
        function _ChooseContextHandler() {
            return _class_call_check(this, _ChooseContextHandler), _call_super(this, _ChooseContextHandler, arguments);
        }
        return _inherits(_ChooseContextHandler, BaseHandler_default), _create_class(_ChooseContextHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_ChooseContextHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var contextId2;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), [
                                        4,
                                        this.chooseAsync$()
                                    ];
                                case 1:
                                    return contextId2 = _state.sent(), [
                                        4,
                                        this.checkContextTournament$()
                                    ];
                                case 2:
                                    return _state.sent(), matchState.customData.contextId = contextId2, [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 3:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "chooseAsync$",
                value: function chooseAsync$() {
                    return _async_to_generator(function() {
                        var error, contextId2;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), [
                                        4,
                                        GameSDK.context.chooseAsync({
                                            filters: [
                                                "INCLUDE_EXISTING_CHALLENGES"
                                            ],
                                            minSize: 2,
                                            maxSize: 2
                                        })
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    if (error = _state.sent(), !O17.hasOwn(error, "code") || "SAME_CONTEXT" !== error.code) throw error;
                                    return [
                                        3,
                                        3
                                    ];
                                case 3:
                                    if ("string" != typeof (contextId2 = GameSDK.context.getID())) throw new CreateContextFailed_default();
                                    return [
                                        2,
                                        contextId2
                                    ];
                            }
                        });
                    })();
                }
            },
            {
                key: "checkContextTournament$",
                value: function checkContextTournament$() {
                    return _async_to_generator(function() {
                        var error;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), !GameSDK.context.getID()) return [
                                        2
                                    ];
                                    if (!("getTournamentAsync" in GameSDK)) throw new UnavailableFeature_default("getTournamentAsync");
                                    return [
                                        4,
                                        GameSDK.getTournamentAsync()
                                    ];
                                case 1:
                                    throw _state.sent(), new ContextIsTournament_default();
                                case 2:
                                    if (_instanceof(error = _state.sent(), ContextIsTournament_default)) throw error;
                                    return [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    })();
                }
            }
        ]), _ChooseContextHandler;
    }(BaseHandler_default);
    __name(_ChooseContextHandler, "ChooseContextHandler");
    var ChooseContextHandler = _ChooseContextHandler, ChooseContextHandler_default = ChooseContextHandler, _InviteFriendsConcrete = function(BaseConcrete_default) {
        function _InviteFriendsConcrete() {
            return _class_call_check(this, _InviteFriendsConcrete), _call_super(this, _InviteFriendsConcrete, arguments);
        }
        return _inherits(_InviteFriendsConcrete, BaseConcrete_default), _create_class(_InviteFriendsConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var playerId2, extraData, flow, chooseContext, prepareMatch, getOpponentId, createMatch, getMatchProfiles, startMatch, logStart, sendMessage, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), playerId2 = payload.playerId, extraData = payload.extraData, flow = new NothingHandler_default(this), chooseContext = new ChooseContextHandler_default(this), flow.setNext(chooseContext), prepareMatch = new PrepareMatchHandler_default(this, {
                                        mode: MatchModes_default.CHALLENGE_FRIEND,
                                        customData: {
                                            playerId: playerId2
                                        }
                                    }), chooseContext.setNext(prepareMatch), getOpponentId = new GetOpponentChallengeContextHandler_default(this, {
                                        ignoreId: playerId2
                                    }), prepareMatch.setNext(getOpponentId), createMatch = new CreateMatchHandler_default(this, {
                                        extraData: extraData
                                    }), getOpponentId.setNext(createMatch), getMatchProfiles = new GetMatchProfilesHandler_default(this), createMatch.setNext(getMatchProfiles), startMatch = new StartMatchHandler_default(this), getMatchProfiles.setNext(startMatch), logStart = new LogMatchStartHandler_default(this), startMatch.setNext(logStart), sendMessage = new SendChallengeMessageHandler_default(this), logStart.setNext(sendMessage), detectGameMode = new ContextGameModeHandler_default(this), sendMessage.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _InviteFriendsConcrete;
    }(BaseConcrete_default);
    __name(_InviteFriendsConcrete, "InviteFriendsConcrete");
    var InviteFriendsConcrete = _InviteFriendsConcrete, InviteFriendsConcrete_default = InviteFriendsConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _JoinMatchFailed = function(Error1) {
        function _JoinMatchFailed(message) {
            var _this;
            return _class_call_check(this, _JoinMatchFailed), (_this = _call_super(this, _JoinMatchFailed, [
                message
            ])).name = "JoinMatchFailed", _this.message = null != message ? message : "Join match failed", _this;
        }
        return _inherits(_JoinMatchFailed, Error1), _JoinMatchFailed;
    }(_wrap_native_super(Error));
    __name(_JoinMatchFailed, "JoinMatchFailed");
    var JoinMatchFailed = _JoinMatchFailed, JoinMatchFailed_default = JoinMatchFailed;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _MatchAreFinished = function(Error1) {
        function _MatchAreFinished(message) {
            var _this;
            return _class_call_check(this, _MatchAreFinished), (_this = _call_super(this, _MatchAreFinished, [
                message
            ])).name = "MatchAreFinished", _this.message = null != message ? message : "Match are finished", _this;
        }
        return _inherits(_MatchAreFinished, Error1), _MatchAreFinished;
    }(_wrap_native_super(Error));
    __name(_MatchAreFinished, "MatchAreFinished");
    var MatchAreFinished = _MatchAreFinished, MatchAreFinished_default = MatchAreFinished;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _OtherPlayerHasJoinedMatch = function(Error1) {
        function _OtherPlayerHasJoinedMatch(message) {
            var _this;
            return _class_call_check(this, _OtherPlayerHasJoinedMatch), (_this = _call_super(this, _OtherPlayerHasJoinedMatch, [
                message
            ])).name = "OtherPlayerHasJoinedMatch", _this.message = null != message ? message : "Other player has joined match", _this;
        }
        return _inherits(_OtherPlayerHasJoinedMatch, Error1), _OtherPlayerHasJoinedMatch;
    }(_wrap_native_super(Error));
    __name(_OtherPlayerHasJoinedMatch, "OtherPlayerHasJoinedMatch");
    var OtherPlayerHasJoinedMatch = _OtherPlayerHasJoinedMatch, OtherPlayerHasJoinedMatch_default = OtherPlayerHasJoinedMatch, Dtos8 = Ludex.Dtos, _Ludex_Utils28 = Ludex.Utils, O18 = _Ludex_Utils28.Object, _JoinMatchHandler = function(BaseHandler_default) {
        function _JoinMatchHandler() {
            return _class_call_check(this, _JoinMatchHandler), _call_super(this, _JoinMatchHandler, arguments);
        }
        return _inherits(_JoinMatchHandler, BaseHandler_default), _create_class(_JoinMatchHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_JoinMatchHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var respMatchData, respMatchDataValidated;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.validateMatchData$(matchState), [
                                        4,
                                        this.joinMatchAsync$(matchState)
                                    ];
                                case 1:
                                    return respMatchData = _state.sent(), respMatchDataValidated = new Dtos8.Match.Data(respMatchData).toObject(), this.validateJoinMatchData$(matchState, respMatchDataValidated), this.updateMatchData$(matchState, respMatchDataValidated), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateMatchData$",
                value: function validateMatchData$(matchState) {
                    if (matchState.status !== MatchStatus_default.OPEN) throw new MatchAreNotOpen_default();
                }
            },
            {
                key: "validateJoinMatchData$",
                value: function validateJoinMatchData$(matchState, matchData) {
                    var id = matchState.id, customData = matchState.customData, _id = matchData._id, blackPlayerId = matchData.blackPlayerId, whitePlayerId = matchData.whitePlayerId, whitePlayerFinish = matchData.whitePlayerFinish, blackPlayerFinish = matchData.blackPlayerFinish, isPlayerBlack = blackPlayerId === customData.playerId, isPlayerWhite = whitePlayerId === customData.opponentId;
                    if ("string" != typeof _id || _id !== id || !isPlayerWhite) throw console.warn("\uD83E\uDD16 ? matchData", matchData), new JoinMatchFailed_default();
                    if (whitePlayerFinish && blackPlayerFinish) throw new MatchAreFinished_default();
                    if (!isPlayerBlack) throw new OtherPlayerHasJoinedMatch_default();
                }
            },
            {
                key: "joinMatchAsync$",
                value: function joinMatchAsync$(matchState) {
                    return _async_to_generator(function() {
                        var id;
                        return _ts_generator(this, function(_state) {
                            return (id = matchState.id) ? [
                                2,
                                this.match$.api.getMatchAPI().joinMatchAsync(id)
                            ] : [
                                2,
                                {}
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "updateMatchData$",
                value: function updateMatchData$(matchState, matchData) {
                    this.updateMatchGeneral$(matchState, matchData), this.updatePlayerIds$(matchState, matchData), this.initializeProfiles$(matchState), this.updateScoresAndStatus$(matchState, matchData);
                }
            },
            {
                key: "updateMatchGeneral$",
                value: function updateMatchGeneral$(matchState, matchData) {
                    var extraData = matchData.extraData;
                    matchState.customData = O18.merge(matchState.customData, extraData);
                }
            },
            {
                key: "updatePlayerIds$",
                value: function updatePlayerIds$(matchState, matchData) {
                    var whitePlayerId = matchData.whitePlayerId, blackPlayerId = matchData.blackPlayerId, isPlayerWhite = whitePlayerId === matchState.customData.playerId, playerId2 = isPlayerWhite ? whitePlayerId : blackPlayerId, opponentId = isPlayerWhite ? blackPlayerId : whitePlayerId;
                    matchState.customData.playerId = playerId2, matchState.customData.opponentId = opponentId;
                }
            },
            {
                key: "initializeProfiles$",
                value: function initializeProfiles$(matchState) {
                    var _matchState_customData = matchState.customData, playerId2 = _matchState_customData.playerId, opponentId = _matchState_customData.opponentId;
                    if (playerId2 && opponentId) {
                        var defaultProfile = {
                            name: "",
                            photo: "",
                            finished: !1
                        };
                        matchState.profiles[playerId2] || (matchState.profiles[playerId2] = __spreadValues({
                            id: playerId2
                        }, defaultProfile)), matchState.profiles[opponentId] || (matchState.profiles[opponentId] = __spreadValues({
                            id: opponentId
                        }, defaultProfile));
                    }
                }
            },
            {
                key: "updateScoresAndStatus$",
                value: function updateScoresAndStatus$(matchState, matchData) {
                    var _matchState_customData = matchState.customData, playerId2 = _matchState_customData.playerId, opponentId = _matchState_customData.opponentId;
                    if (playerId2 && opponentId) {
                        var whitePlayerId = matchData.whitePlayerId, whitePlayerScore = matchData.whitePlayerScore, whitePlayerFinish = matchData.whitePlayerFinish, blackPlayerScore = matchData.blackPlayerScore, blackPlayerFinish = matchData.blackPlayerFinish, isPlayerWhite = whitePlayerId === matchState.customData.playerId;
                        matchState.profiles[playerId2].score = isPlayerWhite ? whitePlayerScore : blackPlayerScore, matchState.profiles[opponentId].score = isPlayerWhite ? blackPlayerScore : whitePlayerScore, matchState.profiles[playerId2].finished = isPlayerWhite ? whitePlayerFinish : blackPlayerFinish, matchState.profiles[opponentId].finished = isPlayerWhite ? blackPlayerFinish : whitePlayerFinish;
                    }
                }
            }
        ]), _JoinMatchHandler;
    }(BaseHandler_default);
    __name(_JoinMatchHandler, "JoinMatchHandler");
    var JoinMatchHandler = _JoinMatchHandler, JoinMatchHandler_default = JoinMatchHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _SendAcceptedMessageHandler = function(BaseHandler_default) {
        function _SendAcceptedMessageHandler() {
            return _class_call_check(this, _SendAcceptedMessageHandler), _call_super(this, _SendAcceptedMessageHandler, arguments);
        }
        return _inherits(_SendAcceptedMessageHandler, BaseHandler_default), _create_class(_SendAcceptedMessageHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_SendAcceptedMessageHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var imageResult;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.validateData$(matchState), [
                                        4,
                                        this.createWideframesAcceptedAsync$(matchState)
                                    ];
                                case 1:
                                    return (imageResult = _state.sent()) && this.sendMessageAsync$(matchState, imageResult), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(matchState) {
                    var id = matchState.id, customData = matchState.customData, contextId2 = customData.contextId, opponentId = customData.opponentId;
                    if (!id || "string" != typeof id) throw new MatchIdNotValid_default();
                    if (!contextId2 || "string" != typeof contextId2) throw new ContextIdNotValid_default();
                    if (!opponentId || "string" != typeof opponentId) throw new OpponentIdNotValid_default();
                }
            },
            {
                key: "createWideframesAcceptedAsync$",
                value: function createWideframesAcceptedAsync$(matchState) {
                    return _async_to_generator(function() {
                        var frameCapture, profiles, customData, playerId2, opponentId, playerProfile, opponentProfile, playerPhoto, tmp, playerScore, opponentPhoto, tmp1, opponentScore;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), frameCapture = this.codex$.frameCapture, profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, opponentId = customData.opponentId, !playerId2 || !opponentId || (playerProfile = profiles[playerId2], opponentProfile = profiles[opponentId], !playerProfile || !opponentProfile) || (playerPhoto = playerProfile.photo, playerScore = void 0 === (tmp = playerProfile.score) ? 0 : tmp, playerProfile.finished) || (opponentPhoto = opponentProfile.photo, opponentScore = void 0 === (tmp1 = opponentProfile.score) ? 0 : tmp1, !opponentProfile.finished)) return [
                                        2,
                                        null
                                    ];
                                    return [
                                        4,
                                        frameCapture.renderAsync("result-challenge", {
                                            playerId: playerId2,
                                            playerPhoto: playerPhoto,
                                            playerScore: playerScore,
                                            opponentId: opponentId,
                                            opponentPhoto: opponentPhoto,
                                            opponentScore: opponentScore,
                                            isPlayerFinished: !1,
                                            isOpponentFinished: !0
                                        })
                                    ];
                                case 1:
                                    return [
                                        2,
                                        _state.sent()
                                    ];
                                case 2:
                                    return console.warn("createWideframesAcceptedAsync", _state.sent()), [
                                        2,
                                        null
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "sendMessageAsync$",
                value: function sendMessageAsync$(matchState, wideframes) {
                    return _async_to_generator(function() {
                        var id, profiles, customData, playerId2, opponentId, playerProfile, playerName, message;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (id = matchState.id, profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, opponentId = customData.opponentId, !playerId2 || "string" != typeof playerId2) throw new PlayerIdNotValid_default();
                                    if (!("updateAsync" in GameSDK.extra)) throw new UnavailableFeature_default("updateAsync");
                                    if (!(playerProfile = profiles[playerId2])) throw new ProfileNotFound_default();
                                    return playerName = playerProfile.name, message = {
                                        data: {
                                            type: ContextTypes_default2.CHALLENGE_FRIEND,
                                            matchId: id,
                                            playerId: playerId2,
                                            opponentId: opponentId
                                        },
                                        action: "CUSTOM",
                                        template: "challenge",
                                        cta: {
                                            default: "Play",
                                            localizations: {
                                                vi_VN: "Ch\u01A1i ngay"
                                            }
                                        },
                                        text: {
                                            default: "".concat(playerName, " accepted the challenge."),
                                            localizations: {
                                                vi_VN: "".concat(playerName, " \xe3 chp nhn tham gia trn u.")
                                            }
                                        },
                                        image: wideframes,
                                        strategy: "LAST",
                                        notification: "PUSH"
                                    }, [
                                        4,
                                        GameSDK.extra.updateAsync(message)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    })();
                }
            }
        ]), _SendAcceptedMessageHandler;
    }(BaseHandler_default);
    __name(_SendAcceptedMessageHandler, "SendAcceptedMessageHandler");
    var SendAcceptedMessageHandler = _SendAcceptedMessageHandler, SendAcceptedMessageHandler_default = SendAcceptedMessageHandler, _JoinChallengeMatchConcrete = function(BaseConcrete_default) {
        function _JoinChallengeMatchConcrete() {
            return _class_call_check(this, _JoinChallengeMatchConcrete), _call_super(this, _JoinChallengeMatchConcrete, arguments);
        }
        return _inherits(_JoinChallengeMatchConcrete, BaseConcrete_default), _create_class(_JoinChallengeMatchConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var matchId, playerId2, opponentId, flow, prepareMatch, getMatch, getMatchProfiles, startMatch, sendMessage, logStart, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), matchId = payload.matchId, playerId2 = payload.playerId, opponentId = payload.opponentId, flow = new NothingHandler_default(this), prepareMatch = new PrepareMatchHandler_default(this, {
                                        id: matchId,
                                        mode: MatchModes_default.CHALLENGE_FRIEND,
                                        customData: {
                                            playerId: playerId2,
                                            opponentId: opponentId
                                        }
                                    }), flow.setNext(prepareMatch), getMatch = new JoinMatchHandler_default(this), prepareMatch.setNext(getMatch), getMatchProfiles = new GetMatchProfilesHandler_default(this), getMatch.setNext(getMatchProfiles), startMatch = new StartMatchHandler_default(this), getMatchProfiles.setNext(startMatch), sendMessage = new SendAcceptedMessageHandler_default(this), startMatch.setNext(sendMessage), logStart = new LogMatchStartHandler_default(this), sendMessage.setNext(logStart), detectGameMode = new ContextGameModeHandler_default(this), logStart.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _JoinChallengeMatchConcrete;
    }(BaseConcrete_default);
    __name(_JoinChallengeMatchConcrete, "JoinChallengeMatchConcrete");
    var JoinChallengeMatchConcrete = _JoinChallengeMatchConcrete, JoinChallengeMatchConcrete_default = JoinChallengeMatchConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var DefaultRespMatchDataDtos = {
        _id: "",
        status: "",
        appId: "",
        createdAt: "",
        startedAt: null,
        finishedAt: null,
        winnerId: "",
        whitePlayerId: "",
        blackPlayerId: "",
        whitePlayerScore: 0,
        blackPlayerScore: 0,
        whitePlayerFinish: !1,
        blackPlayerFinish: !1,
        extraData: {}
    }, DefaultRespMatchDataDtos_default = DefaultRespMatchDataDtos, _Ludex_Configs8 = Ludex.Configs, AppId3 = _Ludex_Configs8.AppId, _Ludex_Utils29 = Ludex.Utils, V20 = _Ludex_Utils29.Valid, MESSAGE_INVALID4 = "is invalid", _RespMatchDataDtos = function(BaseDtos_default) {
        function _RespMatchDataDtos() {
            return _class_call_check(this, _RespMatchDataDtos), _call_super(this, _RespMatchDataDtos, arguments);
        }
        return _inherits(_RespMatchDataDtos, BaseDtos_default), _create_class(_RespMatchDataDtos, [
            {
                key: "setupData$",
                value: function setupData$(data) {
                    this.lazySetupData$(data);
                }
            },
            {
                key: "validateStructure$",
                value: function validateStructure$(data) {
                    this.lazyValidateStructure$(data);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(data) {
                    this.lazyValidateData$(data);
                }
            },
            {
                key: "validateId",
                value: function validateId(_id) {
                    V20.isString(_id) && _id || this.exception$("_id", MESSAGE_INVALID4);
                }
            },
            {
                key: "validateStatus",
                value: function validateStatus(status) {
                    V20.isString(status) && status || this.exception$("status", MESSAGE_INVALID4);
                }
            },
            {
                key: "validateAppId",
                value: function validateAppId(appId) {
                    V20.isString(appId) && appId === AppId3 || this.exception$("appId", MESSAGE_INVALID4);
                }
            },
            {
                key: "validateCreatedAt",
                value: function validateCreatedAt(createdAt) {
                    V20.isString(createdAt) || this.exception$("createdAt", MESSAGE_INVALID4);
                }
            },
            {
                key: "validateStartedAt",
                value: function validateStartedAt(startedAt) {
                    null !== startedAt && (V20.isString(startedAt) || this.exception$("startedAt", MESSAGE_INVALID4));
                }
            },
            {
                key: "validateFinishedAt",
                value: function validateFinishedAt(finishedAt) {
                    null !== finishedAt && (V20.isString(finishedAt) || this.exception$("finishedAt", MESSAGE_INVALID4));
                }
            },
            {
                key: "validateExtraData",
                value: function validateExtraData(extraData) {
                    null !== extraData && (V20.isObject(extraData) || this.exception$("extraData", MESSAGE_INVALID4));
                }
            },
            {
                key: "validateWinnerId",
                value: function validateWinnerId(winnerId) {
                    null !== winnerId && (V20.isString(winnerId) && winnerId || this.exception$("winnerId", MESSAGE_INVALID4));
                }
            },
            {
                key: "validateWhitePlayerId",
                value: function validateWhitePlayerId(whitePlayerId) {
                    V20.isString(whitePlayerId) && whitePlayerId || this.exception$("whitePlayerId", MESSAGE_INVALID4);
                }
            },
            {
                key: "validateBlackPlayerId",
                value: function validateBlackPlayerId(blackPlayerId) {
                    V20.isString(blackPlayerId) && blackPlayerId || this.exception$("blackPlayerId", MESSAGE_INVALID4);
                }
            },
            {
                key: "validateWhitePlayerScore",
                value: function validateWhitePlayerScore(whitePlayerScore) {
                    V20.isNumber(whitePlayerScore) || this.exception$("whitePlayerScore", MESSAGE_INVALID4);
                }
            },
            {
                key: "validateBlackPlayerScore",
                value: function validateBlackPlayerScore(blackPlayerScore) {
                    V20.isNumber(blackPlayerScore) || this.exception$("blackPlayerScore", MESSAGE_INVALID4);
                }
            },
            {
                key: "validateWhitePlayerFinish",
                value: function validateWhitePlayerFinish(whitePlayerFinish) {
                    V20.isBoolean(whitePlayerFinish) || this.exception$("whitePlayerFinish", MESSAGE_INVALID4);
                }
            },
            {
                key: "validateBlackPlayerFinish",
                value: function validateBlackPlayerFinish(blackPlayerFinish) {
                    V20.isBoolean(blackPlayerFinish) || this.exception$("blackPlayerFinish", MESSAGE_INVALID4);
                }
            },
            {
                key: "toObject",
                value: function toObject() {
                    return _get(_get_prototype_of(_RespMatchDataDtos.prototype), "toObject", this).call(this);
                }
            }
        ]), _RespMatchDataDtos;
    }(BaseDtos_default);
    __name(_RespMatchDataDtos, "RespMatchDataDtos");
    var RespMatchDataDtos = _RespMatchDataDtos;
    RespMatchDataDtos.makeStrict(), RespMatchDataDtos.addDefaults(DefaultRespMatchDataDtos_default);
    var RespMatchDataDtos_default = RespMatchDataDtos;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _MatchAreNotFinished = function(Error1) {
        function _MatchAreNotFinished(message) {
            var _this;
            return _class_call_check(this, _MatchAreNotFinished), (_this = _call_super(this, _MatchAreNotFinished, [
                message
            ])).name = "MatchAreNotFinished", _this.message = message || "Match are not finished", _this;
        }
        return _inherits(_MatchAreNotFinished, Error1), _MatchAreNotFinished;
    }(_wrap_native_super(Error));
    __name(_MatchAreNotFinished, "MatchAreNotFinished");
    var MatchAreNotFinished = _MatchAreNotFinished, MatchAreNotFinished_default = MatchAreNotFinished;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _OpponentNotFinishedMatch = function(Error1) {
        function _OpponentNotFinishedMatch(message) {
            var _this;
            return _class_call_check(this, _OpponentNotFinishedMatch), (_this = _call_super(this, _OpponentNotFinishedMatch, [
                message
            ])).name = "OpponentNotFinishedMatch", _this.message = message || "Opponent not finished match", _this;
        }
        return _inherits(_OpponentNotFinishedMatch, Error1), _OpponentNotFinishedMatch;
    }(_wrap_native_super(Error));
    __name(_OpponentNotFinishedMatch, "OpponentNotFinishedMatch");
    var OpponentNotFinishedMatch = _OpponentNotFinishedMatch, OpponentNotFinishedMatch_default = OpponentNotFinishedMatch, _Ludex_Utils30 = Ludex.Utils, O19 = _Ludex_Utils30.Object, _ResultMatchHandler = function(BaseHandler_default) {
        function _ResultMatchHandler() {
            return _class_call_check(this, _ResultMatchHandler), _call_super(this, _ResultMatchHandler, arguments);
        }
        return _inherits(_ResultMatchHandler, BaseHandler_default), _create_class(_ResultMatchHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_ResultMatchHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var respMatchDataValidated;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.validateMatchData$(matchState), [
                                        4,
                                        this.getMatchAsync$(matchState)
                                    ];
                                case 1:
                                    return respMatchDataValidated = new RespMatchDataDtos_default(_state.sent()).toObject(), this.validateResultMatchData$(matchState, respMatchDataValidated), this.updateMatchData$(matchState, respMatchDataValidated), this.validatePlayerTurn$(matchState), this.validateOpponentTurn$(matchState), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateMatchData$",
                value: function validateMatchData$(matchState) {
                    if ("string" != typeof matchState.id) throw new MatchIdNotValid_default();
                }
            },
            {
                key: "validateResultMatchData$",
                value: function validateResultMatchData$(matchState, matchData) {
                    var id = matchState.id, _id = matchData._id, whitePlayerFinish = matchData.whitePlayerFinish, blackPlayerFinish = matchData.blackPlayerFinish;
                    if ("string" != typeof _id || _id !== id) throw new GetMatchDetailFailed_default();
                    if (!whitePlayerFinish && !blackPlayerFinish) throw new MatchAreNotFinished_default();
                }
            },
            {
                key: "validatePlayerTurn$",
                value: function validatePlayerTurn$(matchState) {
                    var profiles = matchState.profiles, playerId2 = matchState.customData.playerId;
                    if ("string" != typeof playerId2) throw new PlayerIdNotValid_default();
                    if (!profiles[playerId2].finished) throw new PlayerNotFinishedMatch_default();
                }
            },
            {
                key: "validateOpponentTurn$",
                value: function validateOpponentTurn$(matchState) {
                    var profiles = matchState.profiles, opponentId = matchState.customData.opponentId;
                    if ("string" != typeof opponentId) throw new OpponentIdNotValid_default();
                    if (!profiles[opponentId].finished) throw new OpponentNotFinishedMatch_default();
                }
            },
            {
                key: "getMatchAsync$",
                value: function getMatchAsync$(matchState) {
                    return _async_to_generator(function() {
                        var id;
                        return _ts_generator(this, function(_state) {
                            return (id = matchState.id) ? [
                                2,
                                this.match$.api.getMatchAPI().getMatchDetailByIdAsync(id)
                            ] : [
                                2,
                                null
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "updateMatchData$",
                value: function updateMatchData$(matchState, matchData) {
                    this.updateMatchGeneral$(matchState, matchData), this.updatePlayerIds$(matchState, matchData), this.initializeProfiles$(matchState), this.updateScoresAndStatus$(matchState, matchData);
                }
            },
            {
                key: "updateMatchGeneral$",
                value: function updateMatchGeneral$(matchState, matchData) {
                    var extraData = matchData.extraData;
                    matchState.status = MatchStatus_default.FINISHED, matchState.customData = O19.merge(matchState.customData, extraData);
                }
            },
            {
                key: "updatePlayerIds$",
                value: function updatePlayerIds$(matchState, matchData) {
                    var whitePlayerId = matchData.whitePlayerId, blackPlayerId = matchData.blackPlayerId, isPlayerWhite = whitePlayerId === matchState.customData.playerId, playerId2 = isPlayerWhite ? whitePlayerId : blackPlayerId, opponentId = isPlayerWhite ? blackPlayerId : whitePlayerId;
                    matchState.customData.playerId = playerId2, matchState.customData.opponentId = opponentId;
                }
            },
            {
                key: "initializeProfiles$",
                value: function initializeProfiles$(matchState) {
                    var _matchState_customData = matchState.customData, playerId2 = _matchState_customData.playerId, opponentId = _matchState_customData.opponentId;
                    if (playerId2 && opponentId) {
                        var defaultProfile = {
                            name: "",
                            photo: "",
                            finished: !0
                        };
                        matchState.profiles[playerId2] || (matchState.profiles[playerId2] = __spreadValues({
                            id: playerId2
                        }, defaultProfile)), matchState.profiles[opponentId] || (matchState.profiles[opponentId] = __spreadValues({
                            id: opponentId
                        }, defaultProfile));
                    }
                }
            },
            {
                key: "updateScoresAndStatus$",
                value: function updateScoresAndStatus$(matchState, matchData) {
                    var _matchState_customData = matchState.customData, playerId2 = _matchState_customData.playerId, opponentId = _matchState_customData.opponentId;
                    if (playerId2 && opponentId) {
                        var whitePlayerId = matchData.whitePlayerId, whitePlayerScore = matchData.whitePlayerScore, whitePlayerFinish = matchData.whitePlayerFinish, blackPlayerScore = matchData.blackPlayerScore, blackPlayerFinish = matchData.blackPlayerFinish, isPlayerWhite = whitePlayerId === matchState.customData.playerId;
                        matchState.profiles[playerId2].score = isPlayerWhite ? whitePlayerScore : blackPlayerScore, matchState.profiles[opponentId].score = isPlayerWhite ? blackPlayerScore : whitePlayerScore, matchState.profiles[playerId2].finished = isPlayerWhite ? whitePlayerFinish : blackPlayerFinish, matchState.profiles[opponentId].finished = isPlayerWhite ? blackPlayerFinish : whitePlayerFinish;
                    }
                }
            }
        ]), _ResultMatchHandler;
    }(BaseHandler_default);
    __name(_ResultMatchHandler, "ResultMatchHandler");
    var ResultMatchHandler = _ResultMatchHandler, ResultMatchHandler_default = ResultMatchHandler, _ResultChallengeMatchConcrete = function(BaseConcrete_default) {
        function _ResultChallengeMatchConcrete() {
            return _class_call_check(this, _ResultChallengeMatchConcrete), _call_super(this, _ResultChallengeMatchConcrete, arguments);
        }
        return _inherits(_ResultChallengeMatchConcrete, BaseConcrete_default), _create_class(_ResultChallengeMatchConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var matchId, playerId2, opponentId, flow, prepareMatch, getMatch, getMatchProfiles, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), matchId = payload.matchId, playerId2 = payload.playerId, opponentId = payload.opponentId, flow = new NothingHandler_default(this), prepareMatch = new PrepareMatchHandler_default(this, {
                                        id: matchId,
                                        mode: MatchModes_default.CHALLENGE_FRIEND,
                                        customData: {
                                            playerId: playerId2,
                                            opponentId: opponentId
                                        }
                                    }), flow.setNext(prepareMatch), getMatch = new ResultMatchHandler_default(this), prepareMatch.setNext(getMatch), getMatchProfiles = new GetMatchProfilesHandler_default(this), getMatch.setNext(getMatchProfiles), detectGameMode = new ContextGameModeHandler_default(this), getMatchProfiles.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _ResultChallengeMatchConcrete;
    }(BaseConcrete_default);
    __name(_ResultChallengeMatchConcrete, "ResultChallengeMatchConcrete");
    var ResultChallengeMatchConcrete = _ResultChallengeMatchConcrete, ResultChallengeMatchConcrete_default = ResultChallengeMatchConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _ChooseContextConcrete = function(BaseConcrete_default) {
        function _ChooseContextConcrete() {
            var _this, _this1;
            return _class_call_check(this, _ChooseContextConcrete), _this = _call_super(this, _ChooseContextConcrete, arguments), _this1 = _this, _define_property(_this, "fallbackSingleMode$", void 0), _define_property(_this, "startFLowChallengeFriend$", __name(function(payload) {
                return _async_to_generator(function() {
                    return _ts_generator(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                return _state.trys.push([
                                    0,
                                    2,
                                    ,
                                    3
                                ]), [
                                    4,
                                    _this1.match.challenge.invite.processAsync(payload)
                                ];
                            case 1:
                                return _state.sent(), [
                                    2,
                                    !0
                                ];
                            case 2:
                                return [
                                    2,
                                    _state.sent()
                                ];
                            case 3:
                                return [
                                    2
                                ];
                        }
                    });
                })();
            }, "startFLowChallengeFriend$")), _define_property(_this, "startFlowTournament$", __name(function(playerId2) {
                return _async_to_generator(function() {
                    var contextId2, e;
                    return _ts_generator(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                if (_state.trys.push([
                                    0,
                                    2,
                                    ,
                                    4
                                ]), "string" != typeof (contextId2 = GameSDK.context.getID())) throw new ContextIdNotValid_default();
                                return [
                                    4,
                                    _this1.match.tournament.continue.processAsync({
                                        playerId: playerId2,
                                        contextId: contextId2
                                    })
                                ];
                            case 1:
                            case 3:
                                return _state.sent(), [
                                    3,
                                    4
                                ];
                            case 2:
                                return e = _state.sent(), [
                                    4,
                                    _this1.startFlowSingle$(playerId2)
                                ];
                            case 4:
                                return [
                                    2
                                ];
                        }
                    });
                })();
            }, "startFlowTournament$")), _define_property(_this, "startFlowSingle$", __name(function(playerId2) {
                return _async_to_generator(function() {
                    return _ts_generator(this, function(_state) {
                        return [
                            2,
                            _this1.match.single.start.processAsync({
                                playerId: playerId2
                            })
                        ];
                    });
                })();
            }, "startFlowSingle$")), _this;
        }
        return _inherits(_ChooseContextConcrete, BaseConcrete_default), _create_class(_ChooseContextConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var playerId2, extraData, fallbackSingleMode, response;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        7,
                                        8
                                    ]), this.startLog$(payload), playerId2 = payload.playerId, extraData = payload.extraData, fallbackSingleMode = payload.fallbackSingleMode, this.fallbackSingleMode$ = fallbackSingleMode, [
                                        4,
                                        this.startFLowChallengeFriend$({
                                            playerId: playerId2,
                                            extraData: extraData
                                        })
                                    ];
                                case 1:
                                    if (!0 === (response = _state.sent())) return [
                                        2
                                    ];
                                    if (!_instanceof(response, ContextIsTournament_default)) return [
                                        3,
                                        3
                                    ];
                                    return [
                                        4,
                                        this.startFlowTournament$(playerId2)
                                    ];
                                case 2:
                                case 4:
                                    return _state.sent(), [
                                        3,
                                        6
                                    ];
                                case 3:
                                    if (!this.fallbackSingleMode$) return [
                                        3,
                                        5
                                    ];
                                    return [
                                        4,
                                        this.startFlowSingle$(playerId2)
                                    ];
                                case 5:
                                    throw response;
                                case 6:
                                    return [
                                        3,
                                        8
                                    ];
                                case 7:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 8:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _ChooseContextConcrete;
    }(BaseConcrete_default);
    __name(_ChooseContextConcrete, "ChooseContextConcrete");
    var ChooseContextConcrete = _ChooseContextConcrete, ChooseContextConcrete_default = ChooseContextConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _LeaderboardIdNotValid = function(Error1) {
        function _LeaderboardIdNotValid(message) {
            var _this;
            return _class_call_check(this, _LeaderboardIdNotValid), (_this = _call_super(this, _LeaderboardIdNotValid, [
                message
            ])).name = "LeaderboardIdNotValid", _this.message = null != message ? message : "Leaderboard id is not valid", _this;
        }
        return _inherits(_LeaderboardIdNotValid, Error1), _LeaderboardIdNotValid;
    }(_wrap_native_super(Error));
    __name(_LeaderboardIdNotValid, "LeaderboardIdNotValid");
    var LeaderboardIdNotValid = _LeaderboardIdNotValid, LeaderboardIdNotValid_default = LeaderboardIdNotValid;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Utils31 = Ludex.Utils, V21 = _Ludex_Utils31.Valid, _SetLeaderboardScoreHandler = function(BaseHandler_default) {
        function _SetLeaderboardScoreHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _SetLeaderboardScoreHandler), _define_property(_this = _call_super(this, _SetLeaderboardScoreHandler, [
                concrete
            ]), "payload$", void 0), _define_property(_this, "leaderboardPayload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_SetLeaderboardScoreHandler, BaseHandler_default), _create_class(_SetLeaderboardScoreHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_SetLeaderboardScoreHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_superprop_get_processAsync().call(_this1, matchState), this.setupSetScorePayload$(matchState), !("submitGameResultsAsync" in GameSDK.extra)) return [
                                        3,
                                        2
                                    ];
                                    return [
                                        4,
                                        GameSDK.extra.submitGameResultsAsync(this.payload$.score)
                                    ];
                                case 1:
                                    _state.sent(), _state.label = 2;
                                case 2:
                                    return this.setLeaderboardScoreAsync$(), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 3:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "setupSetScorePayload$",
                value: function setupSetScorePayload$(matchState) {
                    return _async_to_generator(function() {
                        var profiles, playerId2, _this_payload$, score2, leaderboardId;
                        return _ts_generator(this, function(_state) {
                            if (profiles = matchState.profiles, !(playerId2 = matchState.customData.playerId) || !profiles[playerId2]) throw new ProfileNotFound_default();
                            if (score2 = (_this_payload$ = this.payload$).score, leaderboardId = _this_payload$.leaderboardId, !V21.isNumber(score2)) throw new ScoreNotValid_default();
                            if (!V21.isString(leaderboardId)) throw new LeaderboardIdNotValid_default();
                            return this.leaderboardPayload$ = {
                                score: score2,
                                playerId: playerId2,
                                leaderboardId: leaderboardId
                            }, [
                                2
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "setLeaderboardScoreAsync$",
                value: function setLeaderboardScoreAsync$() {
                    return _async_to_generator(function() {
                        var _this_leaderboardPayload$, playerId2, score2, leaderboardId, name2;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), playerId2 = (_this_leaderboardPayload$ = this.leaderboardPayload$).playerId, score2 = _this_leaderboardPayload$.score, leaderboardId = _this_leaderboardPayload$.leaderboardId, !(name2 = this.codex$.leaderboard.getLeaderboardName(leaderboardId))) throw new LeaderboardNotExist_default();
                                    return [
                                        4,
                                        this.codex$.leaderboard.setLeaderboardScoreAsync(name2, playerId2, score2)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return console.warn("setLeaderboardScoreAsync", _state.sent()), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _SetLeaderboardScoreHandler;
    }(BaseHandler_default);
    __name(_SetLeaderboardScoreHandler, "SetLeaderboardScoreHandler");
    var SetLeaderboardScoreHandler = _SetLeaderboardScoreHandler, SetLeaderboardScoreHandler_default = SetLeaderboardScoreHandler, _Ludex_Utils32 = Ludex.Utils, V22 = _Ludex_Utils32.Valid, _PostLeaderboardScoreHandler = function(SetLeaderboardScoreHandler_default) {
        function _PostLeaderboardScoreHandler(concrete) {
            return _class_call_check(this, _PostLeaderboardScoreHandler), _call_super(this, _PostLeaderboardScoreHandler, [
                concrete,
                {
                    score: 0,
                    leaderboardId: ""
                }
            ]);
        }
        return _inherits(_PostLeaderboardScoreHandler, SetLeaderboardScoreHandler_default), _create_class(_PostLeaderboardScoreHandler, [
            {
                key: "setupSetScorePayload$",
                value: function setupSetScorePayload$(matchState) {
                    var _this = this, _this1 = this, _superprop_get_setupSetScorePayload$ = function _superprop_get_setupSetScorePayload$() {
                        return _get(_get_prototype_of(_PostLeaderboardScoreHandler.prototype), "setupSetScorePayload$", _this);
                    };
                    return _async_to_generator(function() {
                        var profiles, customData, playerId2, leaderboardId, score2;
                        return _ts_generator(this, function(_state) {
                            if (profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, !(leaderboardId = customData.leaderboardId)) throw new LeaderboardIdNotValid_default();
                            if (!playerId2 || !profiles[playerId2]) throw new ProfileNotFound_default();
                            if (score2 = profiles[playerId2].score, !V22.isNumber(score2)) throw new ScoreNotValid_default();
                            return this.payload$.score = score2, this.payload$.leaderboardId = leaderboardId, _superprop_get_setupSetScorePayload$().call(_this1, matchState), [
                                2
                            ];
                        });
                    }).call(this);
                }
            }
        ]), _PostLeaderboardScoreHandler;
    }(SetLeaderboardScoreHandler_default);
    __name(_PostLeaderboardScoreHandler, "PostLeaderboardScoreHandler");
    var PostLeaderboardScoreHandler = _PostLeaderboardScoreHandler, PostLeaderboardScoreHandler_default = PostLeaderboardScoreHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _SendGroupMessageHandler = function(BaseHandler_default) {
        function _SendGroupMessageHandler() {
            return _class_call_check(this, _SendGroupMessageHandler), _call_super(this, _SendGroupMessageHandler, arguments);
        }
        return _inherits(_SendGroupMessageHandler, BaseHandler_default), _create_class(_SendGroupMessageHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_SendGroupMessageHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.validateData$(matchState), this.progressSendGroupMessage$(matchState), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(matchState) {
                    var id = matchState.id, customData = matchState.customData, contextId2 = customData.contextId, opponentId = customData.opponentId;
                    if (!id || "string" != typeof id) throw new MatchIdNotValid_default();
                    if (!contextId2 || "string" != typeof contextId2) throw new ContextIdNotValid_default();
                    if (!opponentId || "string" != typeof opponentId) throw new OpponentIdNotValid_default();
                }
            },
            {
                key: "createWideframesResultGroupAsync$",
                value: function createWideframesResultGroupAsync$(matchState) {
                    return _async_to_generator(function() {
                        var frameCapture, profiles, customData, playerId2, opponentId, playerProfile, opponentProfile, playerPhoto, tmp, playerScore, opponentPhoto, tmp1, opponentScore;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), frameCapture = this.codex$.frameCapture, profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, opponentId = customData.opponentId, !playerId2 || !opponentId || (playerProfile = profiles[playerId2], opponentProfile = profiles[opponentId], !playerProfile || !opponentProfile)) return [
                                        2,
                                        null
                                    ];
                                    return playerPhoto = playerProfile.photo, playerScore = void 0 === (tmp = playerProfile.score) ? 0 : tmp, opponentPhoto = opponentProfile.photo, opponentScore = void 0 === (tmp1 = opponentProfile.score) ? 0 : tmp1, [
                                        4,
                                        frameCapture.renderAsync("result-challenge", {
                                            playerId: playerId2,
                                            playerPhoto: playerPhoto,
                                            playerScore: playerScore,
                                            opponentId: opponentId,
                                            opponentPhoto: opponentPhoto,
                                            opponentScore: opponentScore,
                                            isPlayerFinished: !0,
                                            isOpponentFinished: !0
                                        })
                                    ];
                                case 1:
                                    return [
                                        2,
                                        _state.sent()
                                    ];
                                case 2:
                                    return console.warn("createWideframesResultGroupAsync", _state.sent()), [
                                        2,
                                        null
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "createWideframesBestScoreAsync$",
                value: function createWideframesBestScoreAsync$(matchState) {
                    return _async_to_generator(function() {
                        var _this_codex$, player, frameCapture, matchPlayerId, _player_getPlayer, playerId2, playerPhoto, data, playerScore;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), player = (_this_codex$ = this.codex$).player, frameCapture = _this_codex$.frameCapture, matchPlayerId = matchState.customData.playerId, playerId2 = (_player_getPlayer = player.getPlayer()).playerId, playerPhoto = _player_getPlayer.photo, data = _player_getPlayer.data, matchPlayerId !== playerId2) return [
                                        2,
                                        null
                                    ];
                                    return playerScore = (data || {}).score, [
                                        4,
                                        frameCapture.renderAsync("share-score", {
                                            playerId: playerId2,
                                            playerPhoto: playerPhoto,
                                            playerScore: playerScore
                                        })
                                    ];
                                case 1:
                                    return [
                                        2,
                                        _state.sent()
                                    ];
                                case 2:
                                    return console.warn("createWideframesBestScoreAsync", _state.sent()), [
                                        2,
                                        null
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "progressSendGroupMessage$",
                value: function progressSendGroupMessage$(matchState) {
                    return _async_to_generator(function() {
                        var profiles, customData, playerId2, opponentId, playerProfile, opponentProfile, tmp, tmp1, imageResult, imageScore;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (profiles = matchState.profiles, playerId2 = (customData = matchState.customData).playerId, !((opponentId = customData.opponentId) && "string" == typeof opponentId)) return [
                                        3,
                                        2
                                    ];
                                    if (!playerId2 || "string" != typeof playerId2) throw new PlayerIdNotValid_default();
                                    if (playerProfile = profiles[playerId2], opponentProfile = profiles[opponentId], !playerProfile || !opponentProfile) return [
                                        2
                                    ];
                                    if (!((void 0 === (tmp = playerProfile.score) ? 0 : tmp) > (void 0 === (tmp1 = opponentProfile.score) ? 0 : tmp1))) return [
                                        3,
                                        2
                                    ];
                                    return [
                                        4,
                                        this.createWideframesResultGroupAsync$(matchState)
                                    ];
                                case 1:
                                    if (!(imageResult = _state.sent())) return [
                                        2
                                    ];
                                    return this.sendBestScoreMessageAsync$(matchState, imageResult), [
                                        2
                                    ];
                                case 2:
                                    return [
                                        4,
                                        this.createWideframesBestScoreAsync$(matchState)
                                    ];
                                case 3:
                                    if (!(imageScore = _state.sent())) return [
                                        2
                                    ];
                                    return this.sendChallengeMessageAsync$(matchState, imageScore), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "sendBestScoreMessageAsync$",
                value: function sendBestScoreMessageAsync$(matchState, wideframes) {
                    return _async_to_generator(function() {
                        var profiles, playerId2, playerProfile, playerName, playerScore, message;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (profiles = matchState.profiles, !(playerId2 = matchState.customData.playerId) || "string" != typeof playerId2) throw new PlayerIdNotValid_default();
                                    if (!("updateAsync" in GameSDK.extra)) throw new UnavailableFeature_default("updateAsync");
                                    if (!(playerProfile = profiles[playerId2])) throw new ProfileNotFound_default();
                                    if (playerName = playerProfile.name, playerScore = playerProfile.score, message = {
                                        data: {
                                            type: this.codex$.context.getSessionContextTypes().MATCHING_GROUP,
                                            playerId: playerId2,
                                            playerName: playerName,
                                            playerScore: playerScore
                                        },
                                        action: "CUSTOM",
                                        template: "play_turn",
                                        cta: {
                                            default: "Play",
                                            localizations: {
                                                vi_VN: "Ch\u01A1i"
                                            }
                                        },
                                        text: {
                                            default: "".concat(playerName, " beats your high score. Their score: ").concat(playerScore, "."),
                                            localizations: {
                                                vi_VN: "".concat(playerName, " va vt im s cao nht ca bn! Chi ln na ch?")
                                            }
                                        },
                                        image: wideframes,
                                        strategy: "IMMEDIATE",
                                        notification: "PUSH"
                                    }, !("updateAsync" in GameSDK.extra)) throw new UnavailableFeature_default("updateAsync");
                                    return [
                                        4,
                                        GameSDK.extra.updateAsync(message)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "sendChallengeMessageAsync$",
                value: function sendChallengeMessageAsync$(matchState, wideframes) {
                    return _async_to_generator(function() {
                        var profiles, playerId2, playerProfile, playerName, playerScore, message;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (profiles = matchState.profiles, !(playerId2 = matchState.customData.playerId) || "string" != typeof playerId2) throw new PlayerIdNotValid_default();
                                    if (!(playerProfile = profiles[playerId2])) throw new ProfileNotFound_default();
                                    if (playerName = playerProfile.name, playerScore = playerProfile.score, message = {
                                        data: {
                                            type: this.codex$.context.getSessionContextTypes().MATCHING_GROUP,
                                            playerId: playerId2,
                                            playerName: playerName,
                                            playerScore: playerScore
                                        },
                                        action: "CUSTOM",
                                        template: "play_turn",
                                        cta: {
                                            default: "Play",
                                            localizations: {
                                                vi_VN: "Ch\u01A1i ngay"
                                            }
                                        },
                                        text: {
                                            default: "".concat(playerName, " got ").concat(playerScore, " scores. So easy! Can you?"),
                                            localizations: {
                                                vi_VN: "".concat(playerName, " \xe3 t ").concat(playerScore, " im! Qu\xe1 d lu\xf4n. Chi li n\xe0o!")
                                            }
                                        },
                                        image: wideframes,
                                        strategy: "IMMEDIATE",
                                        notification: "PUSH"
                                    }, !("updateAsync" in GameSDK.extra)) throw new UnavailableFeature_default("updateAsync");
                                    return [
                                        4,
                                        GameSDK.extra.updateAsync(message)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _SendGroupMessageHandler;
    }(BaseHandler_default);
    __name(_SendGroupMessageHandler, "SendGroupMessageHandler");
    var SendGroupMessageHandler = _SendGroupMessageHandler, SendGroupMessageHandler_default = SendGroupMessageHandler, _FinishGroupConcrete = function(BaseConcrete_default) {
        function _FinishGroupConcrete() {
            return _class_call_check(this, _FinishGroupConcrete), _call_super(this, _FinishGroupConcrete, arguments);
        }
        return _inherits(_FinishGroupConcrete, BaseConcrete_default), _create_class(_FinishGroupConcrete, [
            {
                key: "processAsync",
                value: function processAsync() {
                    return _async_to_generator(function() {
                        var flow, finishMatch, sendMessage, logFinish, setPlayerBestScore, postLeaderboardScore, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(), flow = new NothingHandler_default(this), finishMatch = new FinishMatchHandler_default(this, {
                                        useAPI: !1
                                    }), flow.setNext(finishMatch), sendMessage = new SendGroupMessageHandler_default(this), finishMatch.setNext(sendMessage), logFinish = new LogMatchFinishedHandler_default(this), sendMessage.setNext(logFinish), setPlayerBestScore = new SetPlayerBestScoreHandler_default(this), logFinish.setNext(setPlayerBestScore), postLeaderboardScore = new PostLeaderboardScoreHandler_default(this), setPlayerBestScore.setNext(postLeaderboardScore), detectGameMode = new ContextGameModeHandler_default(this), postLeaderboardScore.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _FinishGroupConcrete;
    }(BaseConcrete_default);
    __name(_FinishGroupConcrete, "FinishGroupConcrete");
    var FinishGroupConcrete = _FinishGroupConcrete, FinishGroupConcrete_default = FinishGroupConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var Dtos9 = Ludex.Dtos, _Ludex_Utils33 = Ludex.Utils, O20 = _Ludex_Utils33.Object, _SetProfileDataHandler = function(BaseHandler_default) {
        function _SetProfileDataHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _SetProfileDataHandler), _define_property(_this = _call_super(this, _SetProfileDataHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_SetProfileDataHandler, BaseHandler_default), _create_class(_SetProfileDataHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_SetProfileDataHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.updateProfileMatchData$(matchState), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "updateProfileMatchData$",
                value: function updateProfileMatchData$(matchState) {
                    var id = this.payload$.id, profiles = matchState.profiles;
                    if (!profiles[id]) throw new ProfileNotFound_default();
                    var profileMerged = O20.merge(profiles[id], this.payload$), profile = new Dtos9.Match.Profile(profileMerged).toObject();
                    profiles[profile.id] = profile;
                }
            }
        ]), _SetProfileDataHandler;
    }(BaseHandler_default);
    __name(_SetProfileDataHandler, "SetProfileDataHandler");
    var SetProfileDataHandler = _SetProfileDataHandler, SetProfileDataHandler_default = SetProfileDataHandler, _JoinGroupConcrete = function(BaseConcrete_default) {
        function _JoinGroupConcrete() {
            return _class_call_check(this, _JoinGroupConcrete), _call_super(this, _JoinGroupConcrete, arguments);
        }
        return _inherits(_JoinGroupConcrete, BaseConcrete_default), _create_class(_JoinGroupConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var playerId2, opponentId, opponentScore, flow, prepareMatch, getMatchProfiles, setProfileData, startMatch, logStart, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), playerId2 = payload.playerId, opponentId = payload.opponentId, opponentScore = payload.opponentScore, flow = new NothingHandler_default(this), prepareMatch = new PrepareMatchHandler_default(this, {
                                        id: "7749",
                                        mode: MatchModes_default.MATCHING_GROUP,
                                        customData: {
                                            playerId: playerId2,
                                            opponentId: opponentId
                                        }
                                    }), flow.setNext(prepareMatch), getMatchProfiles = new GetMatchProfilesHandler_default(this), prepareMatch.setNext(getMatchProfiles), setProfileData = new SetProfileDataHandler_default(this, {
                                        id: playerId2,
                                        score: opponentScore
                                    }), getMatchProfiles.setNext(setProfileData), startMatch = new StartMatchHandler_default(this), setProfileData.setNext(startMatch), logStart = new LogMatchStartHandler_default(this), startMatch.setNext(logStart), detectGameMode = new ContextGameModeHandler_default(this), logStart.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _JoinGroupConcrete;
    }(BaseConcrete_default);
    __name(_JoinGroupConcrete, "JoinGroupConcrete");
    var JoinGroupConcrete = _JoinGroupConcrete, JoinGroupConcrete_default = JoinGroupConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _MatchGroupNotSupported = function(Error1) {
        function _MatchGroupNotSupported(message) {
            var _this;
            return _class_call_check(this, _MatchGroupNotSupported), (_this = _call_super(this, _MatchGroupNotSupported, [
                message
            ])).name = "MatchGroupNotSupported", _this.message = null != message ? message : "Match group is not supported", _this;
        }
        return _inherits(_MatchGroupNotSupported, Error1), _MatchGroupNotSupported;
    }(_wrap_native_super(Error));
    __name(_MatchGroupNotSupported, "MatchGroupNotSupported");
    var MatchGroupNotSupported = _MatchGroupNotSupported, MatchGroupNotSupported_default = MatchGroupNotSupported, _GroupContextHandler = function(BaseHandler_default) {
        function _GroupContextHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _GroupContextHandler), _define_property(_this = _call_super(this, _GroupContextHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_GroupContextHandler, BaseHandler_default), _create_class(_GroupContextHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_GroupContextHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var contextId2;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), [
                                        4,
                                        this.checkMatchGroupSupported$()
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        4,
                                        this.matchingGroup$()
                                    ];
                                case 2:
                                    return contextId2 = _state.sent(), matchState.customData.contextId = contextId2, [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 3:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "checkMatchGroupSupported$",
                value: function checkMatchGroupSupported$() {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (!("getSupportedAPIs" in GameSDK)) throw new UnavailableFeature_default("getSupportedAPIs");
                                    if (!("checkCanPlayerMatchAsync" in GameSDK.extra)) throw new UnavailableFeature_default("checkCanPlayerMatchAsync");
                                    if (!(GameSDK.getSupportedAPIs().indexOf("checkCanPlayerMatchAsync") > -1)) throw new MatchGroupNotSupported_default();
                                    return [
                                        4,
                                        GameSDK.extra.checkCanPlayerMatchAsync()
                                    ];
                                case 1:
                                    if (!_state.sent()) throw new MatchGroupNotSupported_default();
                                    return [
                                        2
                                    ];
                            }
                        });
                    })();
                }
            },
            {
                key: "matchingGroup$",
                value: function matchingGroup$() {
                    return _async_to_generator(function() {
                        var _this_payload$, matchTag, _this_payload$_autoSwitch, autoSwitch, _this_payload$_onlyExisting, onlyExisting, contextId2;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (!("matchPlayerAsync" in GameSDK.extra)) throw new UnavailableFeature_default("matchPlayerAsync");
                                    return matchTag = (_this_payload$ = this.payload$).matchTag, autoSwitch = void 0 !== (_this_payload$_autoSwitch = _this_payload$.autoSwitch) && _this_payload$_autoSwitch, onlyExisting = void 0 !== (_this_payload$_onlyExisting = _this_payload$.onlyExisting) && _this_payload$_onlyExisting, [
                                        4,
                                        GameSDK.extra.matchPlayerAsync(matchTag, autoSwitch, onlyExisting)
                                    ];
                                case 1:
                                    if (_state.sent(), "string" != typeof (contextId2 = GameSDK.context.getID())) throw new CreateContextFailed_default();
                                    return [
                                        2,
                                        contextId2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _GroupContextHandler;
    }(BaseHandler_default);
    __name(_GroupContextHandler, "GroupContextHandler");
    var GroupContextHandler = _GroupContextHandler, GroupContextHandler_default = GroupContextHandler, _StartGroupConcrete = function(BaseConcrete_default) {
        function _StartGroupConcrete() {
            return _class_call_check(this, _StartGroupConcrete), _call_super(this, _StartGroupConcrete, arguments);
        }
        return _inherits(_StartGroupConcrete, BaseConcrete_default), _create_class(_StartGroupConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var matchTag, playerId2, options, flow, groupContext, prepareMatch, getOpponentId, startMatch, getMatchProfiles, logStart, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), matchTag = payload.matchTag, playerId2 = payload.playerId, options = payload.options, flow = new NothingHandler_default(this), groupContext = new GroupContextHandler_default(this, __spreadValues({
                                        matchTag: matchTag
                                    }, options)), flow.setNext(groupContext), prepareMatch = new PrepareMatchHandler_default(this, {
                                        id: "7749",
                                        mode: MatchModes_default.MATCHING_GROUP,
                                        customData: {
                                            playerId: playerId2
                                        }
                                    }), groupContext.setNext(prepareMatch), getOpponentId = new GetOpponentChallengeContextHandler_default(this, {
                                        ignoreId: playerId2
                                    }), prepareMatch.setNext(getOpponentId), startMatch = new StartMatchHandler_default(this), getOpponentId.setNext(startMatch), getMatchProfiles = new GetMatchProfilesHandler_default(this), startMatch.setNext(getMatchProfiles), logStart = new LogMatchStartHandler_default(this), getMatchProfiles.setNext(logStart), detectGameMode = new ContextGameModeHandler_default(this), logStart.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _StartGroupConcrete;
    }(BaseConcrete_default);
    __name(_StartGroupConcrete, "StartGroupConcrete");
    var StartGroupConcrete = _StartGroupConcrete, StartGroupConcrete_default = StartGroupConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _FinishSingleConcrete = function(BaseConcrete_default) {
        function _FinishSingleConcrete() {
            return _class_call_check(this, _FinishSingleConcrete), _call_super(this, _FinishSingleConcrete, arguments);
        }
        return _inherits(_FinishSingleConcrete, BaseConcrete_default), _create_class(_FinishSingleConcrete, [
            {
                key: "processAsync",
                value: function processAsync() {
                    return _async_to_generator(function() {
                        var flow, finishMatch, logFinish, setPlayerBestScore, postGlobalLBScore, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(), flow = new NothingHandler_default(this), finishMatch = new FinishMatchHandler_default(this, {
                                        useAPI: !1
                                    }), flow.setNext(finishMatch), logFinish = new LogMatchFinishedHandler_default(this), finishMatch.setNext(logFinish), setPlayerBestScore = new SetPlayerBestScoreHandler_default(this), logFinish.setNext(setPlayerBestScore), postGlobalLBScore = new PostGlobalLeaderboardsScoreHandler_default(this), setPlayerBestScore.setNext(postGlobalLBScore), detectGameMode = new ContextGameModeHandler_default(this), postGlobalLBScore.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _FinishSingleConcrete;
    }(BaseConcrete_default);
    __name(_FinishSingleConcrete, "FinishSingleConcrete");
    var FinishSingleConcrete = _FinishSingleConcrete, FinishSingleConcrete_default = FinishSingleConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _ProfileIdNotDefined = function(Error1) {
        function _ProfileIdNotDefined(message) {
            var _this;
            return _class_call_check(this, _ProfileIdNotDefined), (_this = _call_super(this, _ProfileIdNotDefined, [
                message
            ])).name = "ProfileIdNotDefined", _this.message = null != message ? message : "Profile id is not defined", _this;
        }
        return _inherits(_ProfileIdNotDefined, Error1), _ProfileIdNotDefined;
    }(_wrap_native_super(Error));
    __name(_ProfileIdNotDefined, "ProfileIdNotDefined");
    var ProfileIdNotDefined = _ProfileIdNotDefined, ProfileIdNotDefined_default = ProfileIdNotDefined, Dtos10 = Ludex.Dtos, _GetProfileHandler = function(BaseHandler_default) {
        function _GetProfileHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _GetProfileHandler), _define_property(_this = _call_super(this, _GetProfileHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_GetProfileHandler, BaseHandler_default), _create_class(_GetProfileHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_GetProfileHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var profileId, playerId2, profile;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_superprop_get_processAsync().call(_this1, matchState), !(profileId = this.payload$.profileId)) throw new ProfileIdNotDefined_default();
                                    if (playerId2 = this.codex$.player.getPlayerId(), profileId !== playerId2) return [
                                        3,
                                        1
                                    ];
                                    return profile = this.getPlayerProfile$(), [
                                        3,
                                        3
                                    ];
                                case 1:
                                    return [
                                        4,
                                        this.getProfileAsync$(profileId)
                                    ];
                                case 2:
                                    if (!(profile = _state.sent())) throw new ProfileNotFound_default();
                                    _state.label = 3;
                                case 3:
                                    return this.updateMatchData$(profile, matchState), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 4:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getPlayerProfile$",
                value: function getPlayerProfile$() {
                    var _player_getPlayer = this.codex$.player.getPlayer();
                    return {
                        playerId: _player_getPlayer.playerId,
                        name: _player_getPlayer.name,
                        photo: _player_getPlayer.photo,
                        locale: _player_getPlayer.locale
                    };
                }
            },
            {
                key: "getProfileAsync$",
                value: function getProfileAsync$(profileId) {
                    return _async_to_generator(function() {
                        var profile;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        (profile = this.codex$.profile).requestProfiles([
                                            profileId
                                        ])
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2,
                                        profile.getProfiles()[profileId]
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "updateMatchData$",
                value: function updateMatchData$(data, matchState) {
                    var playerId2 = data.playerId, name2 = data.name, photo2 = data.photo, profile = new Dtos10.Match.Profile({
                        id: playerId2,
                        name: name2,
                        photo: photo2
                    }).toObject();
                    matchState.profiles[playerId2] = profile;
                }
            }
        ]), _GetProfileHandler;
    }(BaseHandler_default);
    __name(_GetProfileHandler, "GetProfileHandler");
    var GetProfileHandler = _GetProfileHandler, GetProfileHandler_default = GetProfileHandler, _StartSingleConcrete = function(BaseConcrete_default) {
        function _StartSingleConcrete() {
            return _class_call_check(this, _StartSingleConcrete), _call_super(this, _StartSingleConcrete, arguments);
        }
        return _inherits(_StartSingleConcrete, BaseConcrete_default), _create_class(_StartSingleConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var playerId2, flow, switchContext, prepareMatch, startMatch, getPlayerProfile, logStart, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), playerId2 = payload.playerId, flow = new NothingHandler_default(this), switchContext = new SwitchContextHandler_default(this, {
                                        contextId: "SOLO"
                                    }), flow.setNext(switchContext), prepareMatch = new PrepareMatchHandler_default(this, {
                                        id: "123456",
                                        mode: MatchModes_default.SINGLE,
                                        customData: {
                                            playerId: playerId2
                                        }
                                    }), switchContext.setNext(prepareMatch), startMatch = new StartMatchHandler_default(this), prepareMatch.setNext(startMatch), getPlayerProfile = new GetProfileHandler_default(this, {
                                        profileId: playerId2
                                    }), startMatch.setNext(getPlayerProfile), logStart = new LogMatchStartHandler_default(this), getPlayerProfile.setNext(logStart), detectGameMode = new ContextGameModeHandler_default(this), logStart.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _StartSingleConcrete;
    }(BaseConcrete_default);
    __name(_StartSingleConcrete, "StartSingleConcrete");
    var StartSingleConcrete = _StartSingleConcrete, StartSingleConcrete_default = StartSingleConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _FinishStrategyConcrete = function(BaseConcrete_default) {
        function _FinishStrategyConcrete() {
            return _class_call_check(this, _FinishStrategyConcrete), _call_super(this, _FinishStrategyConcrete, arguments);
        }
        return _inherits(_FinishStrategyConcrete, BaseConcrete_default), _create_class(_FinishStrategyConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var _ref, _ref_setPlayerBestScore, setPlayerBestScore, _ref_postGlobalLeaderboard, postGlobalLeaderboard, flow, finishMatch, logFinish, setPlayerBS, postGlobalLBScore, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), setPlayerBestScore = void 0 !== (_ref_setPlayerBestScore = (_ref = null != payload ? payload : {}).setPlayerBestScore) && _ref_setPlayerBestScore, postGlobalLeaderboard = void 0 !== (_ref_postGlobalLeaderboard = _ref.postGlobalLeaderboard) && _ref_postGlobalLeaderboard, flow = new NothingHandler_default(this), finishMatch = new FinishMatchHandler_default(this, {
                                        useAPI: !1
                                    }), flow.setNext(finishMatch), logFinish = new LogMatchFinishedHandler_default(this), finishMatch.setNext(logFinish), setPlayerBS = new SetPlayerBestScoreHandler_default(this, {
                                        ignore: !setPlayerBestScore
                                    }), logFinish.setNext(setPlayerBS), postGlobalLBScore = new PostGlobalLeaderboardsScoreHandler_default(this, {
                                        ignore: !postGlobalLeaderboard
                                    }), setPlayerBS.setNext(postGlobalLBScore), detectGameMode = new ContextGameModeHandler_default(this), postGlobalLBScore.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _FinishStrategyConcrete;
    }(BaseConcrete_default);
    __name(_FinishStrategyConcrete, "FinishStrategyConcrete");
    var FinishStrategyConcrete = _FinishStrategyConcrete, FinishStrategyConcrete_default = FinishStrategyConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _StartStrategyConcrete = function(BaseConcrete_default) {
        function _StartStrategyConcrete() {
            return _class_call_check(this, _StartStrategyConcrete), _call_super(this, _StartStrategyConcrete, arguments);
        }
        return _inherits(_StartStrategyConcrete, BaseConcrete_default), _create_class(_StartStrategyConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var matchId, playerId2, gameMode, _payload_extraData, extraData, flow, switchContext, prepareMatch, startMatch, getPlayerProfile, logStart, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), matchId = payload.matchId, playerId2 = payload.playerId, gameMode = payload.gameMode, extraData = void 0 === (_payload_extraData = payload.extraData) ? {} : _payload_extraData, flow = new NothingHandler_default(this), switchContext = new SwitchContextHandler_default(this, {
                                        contextId: "SOLO"
                                    }), flow.setNext(switchContext), prepareMatch = new PrepareMatchHandler_default(this, {
                                        id: matchId,
                                        mode: gameMode,
                                        customData: __spreadValues({
                                            playerId: playerId2
                                        }, extraData)
                                    }), switchContext.setNext(prepareMatch), startMatch = new StartMatchHandler_default(this), prepareMatch.setNext(startMatch), getPlayerProfile = new GetProfileHandler_default(this, {
                                        profileId: playerId2
                                    }), startMatch.setNext(getPlayerProfile), logStart = new LogMatchStartHandler_default(this), getPlayerProfile.setNext(logStart), detectGameMode = new ContextGameModeHandler_default(this), logStart.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _StartStrategyConcrete;
    }(BaseConcrete_default);
    __name(_StartStrategyConcrete, "StartStrategyConcrete");
    var StartStrategyConcrete = _StartStrategyConcrete, StartStrategyConcrete_default = StartStrategyConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Plugins2 = Ludex.Plugins, tmp2 = _Ludex_Plugins2.Analytics, _ref2 = void 0 === tmp2 ? {} : tmp2, Events6 = _ref2.Events, _Ludex_Utils34 = Ludex.Utils, S6 = _Ludex_Utils34.String, V23 = _Ludex_Utils34.Valid, _LogTournamentStartHandler = function(BaseHandler_default) {
        function _LogTournamentStartHandler() {
            return _class_call_check(this, _LogTournamentStartHandler), _call_super(this, _LogTournamentStartHandler, arguments);
        }
        return _inherits(_LogTournamentStartHandler, BaseHandler_default), _create_class(_LogTournamentStartHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_LogTournamentStartHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var mode, customData, analytics, tournamentId, leaderboardId;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), mode = matchState.mode, customData = matchState.customData, this.validateMode$(mode), analytics = this.codex$.analytics, tournamentId = customData.tournamentId, leaderboardId = customData.leaderboardId, Events6 && (null == analytics || analytics.event(Events6.TOURNAMENT_START, {
                                        success: !0,
                                        game_mode: S6.toUpperCamelCase(mode),
                                        tournament_id: tournamentId,
                                        leaderboard_id: leaderboardId
                                    })), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateMode$",
                value: function validateMode$(mode) {
                    if (!V23.isString(mode)) throw new MatchModeNotDefined_default();
                }
            }
        ]), _LogTournamentStartHandler;
    }(BaseHandler_default);
    __name(_LogTournamentStartHandler, "LogTournamentStartHandler");
    var LogTournamentStartHandler = _LogTournamentStartHandler, LogTournamentStartHandler_default = LogTournamentStartHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _TournamentIdNotValid = function(Error1) {
        function _TournamentIdNotValid(message) {
            var _this;
            return _class_call_check(this, _TournamentIdNotValid), (_this = _call_super(this, _TournamentIdNotValid, [
                message
            ])).name = "TournamentIdNotValid", _this.message = null != message ? message : "Tournament id is not valid", _this;
        }
        return _inherits(_TournamentIdNotValid, Error1), _TournamentIdNotValid;
    }(_wrap_native_super(Error));
    __name(_TournamentIdNotValid, "TournamentIdNotValid");
    var TournamentIdNotValid = _TournamentIdNotValid, TournamentIdNotValid_default = TournamentIdNotValid, _Ludex_Utils35 = Ludex.Utils, V24 = _Ludex_Utils35.Valid, _ContinueTournamentHandler = function(BaseHandler_default) {
        function _ContinueTournamentHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _ContinueTournamentHandler), _define_property(_this = _call_super(this, _ContinueTournamentHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_ContinueTournamentHandler, BaseHandler_default), _create_class(_ContinueTournamentHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_ContinueTournamentHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var contextId2, tournament, tournamentId, tournamentType, leaderboardId;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), contextId2 = this.payload$.contextId, this.validateContextId$(contextId2), [
                                        4,
                                        GameSDK.getTournamentAsync()
                                    ];
                                case 1:
                                    return tournamentId = (tournament = _state.sent()).getID().toString(), tournamentType = tournament.getTournamentType(), this.validateTournamentId$(tournamentId), matchState.customData.contextId = contextId2, matchState.customData.tournamentId = tournamentId, "DAILY" !== tournamentType && (leaderboardId = JSON.parse(tournament.getPayload() || "{}").leaderboardId, this.validateLeaderboardId$(leaderboardId), matchState.customData.leaderboardId = leaderboardId), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateContextId$",
                value: function validateContextId$(contextId2) {
                    if (!V24.isString(contextId2)) throw new ContextIdNotValid_default();
                }
            },
            {
                key: "validateTournamentId$",
                value: function validateTournamentId$(tournamentId) {
                    if (!V24.isString(tournamentId)) throw new TournamentIdNotValid_default();
                }
            },
            {
                key: "validateLeaderboardId$",
                value: function validateLeaderboardId$(leaderboardId) {
                    if (!V24.isString(leaderboardId) || "" === leaderboardId) throw new LeaderboardIdNotValid_default();
                }
            }
        ]), _ContinueTournamentHandler;
    }(BaseHandler_default);
    __name(_ContinueTournamentHandler, "ContinueTournamentHandler");
    var ContinueTournamentHandler = _ContinueTournamentHandler, ContinueTournamentHandler_default = ContinueTournamentHandler, _ContinueTournamentConcrete = function(BaseConcrete_default) {
        function _ContinueTournamentConcrete() {
            return _class_call_check(this, _ContinueTournamentConcrete), _call_super(this, _ContinueTournamentConcrete, arguments);
        }
        return _inherits(_ContinueTournamentConcrete, BaseConcrete_default), _create_class(_ContinueTournamentConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var playerId2, contextId2, flow, continueTournament, prepareMatch, startMatch, getPlayerProfile, logMatchStart, logTournamentStart, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), playerId2 = payload.playerId, contextId2 = payload.contextId, flow = new NothingHandler_default(this), continueTournament = new ContinueTournamentHandler_default(this, {
                                        contextId: contextId2
                                    }), flow.setNext(continueTournament), prepareMatch = new PrepareMatchHandler_default(this, {
                                        id: "1997",
                                        mode: MatchModes_default.TOURNAMENT,
                                        customData: {
                                            playerId: playerId2
                                        }
                                    }), continueTournament.setNext(prepareMatch), startMatch = new StartMatchHandler_default(this), prepareMatch.setNext(startMatch), getPlayerProfile = new GetProfileHandler_default(this, {
                                        profileId: playerId2
                                    }), startMatch.setNext(getPlayerProfile), logMatchStart = new LogMatchStartHandler_default(this), getPlayerProfile.setNext(logMatchStart), logTournamentStart = new LogTournamentStartHandler_default(this), logMatchStart.setNext(logTournamentStart), detectGameMode = new ContextGameModeHandler_default(this), logMatchStart.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _ContinueTournamentConcrete;
    }(BaseConcrete_default);
    __name(_ContinueTournamentConcrete, "ContinueTournamentConcrete");
    var ContinueTournamentConcrete = _ContinueTournamentConcrete, ContinueTournamentConcrete_default = ContinueTournamentConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Plugins3 = Ludex.Plugins, tmp3 = _Ludex_Plugins3.Analytics, _ref3 = void 0 === tmp3 ? {} : tmp3, Events7 = _ref3.Events, _LogTournamentCreateHandler = function(BaseHandler_default) {
        function _LogTournamentCreateHandler() {
            return _class_call_check(this, _LogTournamentCreateHandler), _call_super(this, _LogTournamentCreateHandler, arguments);
        }
        return _inherits(_LogTournamentCreateHandler, BaseHandler_default), _create_class(_LogTournamentCreateHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_LogTournamentCreateHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var customData, analytics, tournamentId, leaderboardId;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), customData = matchState.customData, analytics = this.codex$.analytics, tournamentId = customData.tournamentId, leaderboardId = customData.leaderboardId, Events7 && analytics.event(Events7.TOURNAMENT_CREATE, {
                                        success: !0,
                                        tournament_id: tournamentId,
                                        leaderboard_id: leaderboardId
                                    }), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _LogTournamentCreateHandler;
    }(BaseHandler_default);
    __name(_LogTournamentCreateHandler, "LogTournamentCreateHandler");
    var LogTournamentCreateHandler = _LogTournamentCreateHandler, LogTournamentCreateHandler_default = LogTournamentCreateHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _CreateTournamentHandler = function(BaseHandler_default) {
        function _CreateTournamentHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _CreateTournamentHandler), _define_property(_this = _call_super(this, _CreateTournamentHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_CreateTournamentHandler, BaseHandler_default), _create_class(_CreateTournamentHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_CreateTournamentHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), [
                                        4,
                                        this.createTournamentAsync$()
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        4,
                                        this.updateMatchStateAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 3:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "createTournamentAsync$",
                value: function createTournamentAsync$() {
                    return _async_to_generator(function() {
                        var _this_payload$, name2, score2, customData;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return name2 = (_this_payload$ = this.payload$).name, score2 = _this_payload$.score, customData = _this_payload$.customData, [
                                        4,
                                        GameSDK.tournament.createAsync({
                                            initialScore: score2,
                                            config: {
                                                title: name2,
                                                tournamentTitle: name2
                                            },
                                            data: customData
                                        })
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "updateMatchStateAsync$",
                value: function updateMatchStateAsync$(matchState) {
                    return _async_to_generator(function() {
                        var tournament, contextId2, tournamentId, playerId2;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), !("getTournamentAsync" in GameSDK)) throw new UnavailableFeature_default("getTournamentAsync");
                                    return [
                                        4,
                                        GameSDK.getTournamentAsync()
                                    ];
                                case 1:
                                    return contextId2 = (tournament = _state.sent()).getContextID(), tournamentId = tournament.getID().toString(), playerId2 = this.payload$.playerId, matchState.customData.playerId = playerId2, matchState.customData.contextId = contextId2, matchState.customData.tournamentId = tournamentId, [
                                        3,
                                        3
                                    ];
                                case 2:
                                    if (_instanceof(_state.sent(), UnavailableFeature_default)) return [
                                        2
                                    ];
                                    return [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _CreateTournamentHandler;
    }(BaseHandler_default);
    __name(_CreateTournamentHandler, "CreateTournamentHandler");
    var CreateTournamentHandler = _CreateTournamentHandler, CreateTournamentHandler_default = CreateTournamentHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Utils36 = Ludex.Utils, V25 = _Ludex_Utils36.Valid, _CreateLeaderboardHandler = function(BaseHandler_default) {
        function _CreateLeaderboardHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _CreateLeaderboardHandler), _define_property(_this = _call_super(this, _CreateLeaderboardHandler, [
                concrete
            ]), "payload$", void 0), _define_property(_this, "leaderboardPayload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_CreateLeaderboardHandler, BaseHandler_default), _create_class(_CreateLeaderboardHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_CreateLeaderboardHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.validatePayload$(), [
                                        4,
                                        this.setupCreatePayload$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        4,
                                        this.createLeaderboardAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 3:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validatePayload$",
                value: function validatePayload$() {
                    var leaderboardId = this.payload$.leaderboardId;
                    if (!V25.isString(leaderboardId)) throw new LeaderboardIdNotValid_default();
                }
            },
            {
                key: "validatePlayerId$",
                value: function validatePlayerId$(playerId2) {
                    if (!V25.isString(playerId2)) throw new PlayerIdNotValid_default();
                }
            },
            {
                key: "setupCreatePayload$",
                value: function setupCreatePayload$(matchState) {
                    return _async_to_generator(function() {
                        var playerId2, _this_payload$, name2, leaderboardId, customData;
                        return _ts_generator(this, function(_state) {
                            return playerId2 = matchState.customData.playerId, this.validatePlayerId$(playerId2), name2 = (_this_payload$ = this.payload$).name, leaderboardId = _this_payload$.leaderboardId, customData = _this_payload$.customData, this.leaderboardPayload$ = {
                                _id: leaderboardId,
                                name: null != name2 ? name2 : "",
                                createdBy: playerId2,
                                description: JSON.stringify(customData)
                            }, [
                                2
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "createLeaderboardAsync$",
                value: function createLeaderboardAsync$(matchState) {
                    return _async_to_generator(function() {
                        var leaderboardId;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        this.codex$.leaderboard.createLeaderboardAsync(this.leaderboardPayload$)
                                    ];
                                case 1:
                                    return leaderboardId = _state.sent(), matchState.customData.leaderboardId = leaderboardId, [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _CreateLeaderboardHandler;
    }(BaseHandler_default);
    __name(_CreateLeaderboardHandler, "CreateLeaderboardHandler");
    var CreateLeaderboardHandler = _CreateLeaderboardHandler, CreateLeaderboardHandler_default = CreateLeaderboardHandler, _CreateTournamentConcrete = function(BaseConcrete_default) {
        function _CreateTournamentConcrete() {
            return _class_call_check(this, _CreateTournamentConcrete), _call_super(this, _CreateTournamentConcrete, arguments);
        }
        return _inherits(_CreateTournamentConcrete, BaseConcrete_default), _create_class(_CreateTournamentConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var playerId2, name2, score2, leaderboardId, customData, flow, switchContext, createTournament, getPlayerProfile, setProfileData, createLeaderboard, postLeaderboardScore, logCreate, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), playerId2 = payload.playerId, name2 = payload.name, score2 = payload.score, leaderboardId = payload.leaderboardId, customData = payload.payload, flow = new NothingHandler_default(this), switchContext = new SwitchContextHandler_default(this, {
                                        contextId: "SOLO"
                                    }), flow.setNext(switchContext), createTournament = new CreateTournamentHandler_default(this, {
                                        name: name2,
                                        score: score2,
                                        playerId: playerId2,
                                        customData: customData
                                    }), switchContext.setNext(createTournament), getPlayerProfile = new GetProfileHandler_default(this, {
                                        profileId: playerId2
                                    }), createTournament.setNext(getPlayerProfile), setProfileData = new SetProfileDataHandler_default(this, {
                                        id: playerId2,
                                        score: score2
                                    }), getPlayerProfile.setNext(setProfileData), createLeaderboard = new CreateLeaderboardHandler_default(this, {
                                        name: name2,
                                        customData: customData,
                                        leaderboardId: leaderboardId
                                    }), setProfileData.setNext(createLeaderboard), postLeaderboardScore = new PostLeaderboardScoreHandler_default(this), createLeaderboard.setNext(postLeaderboardScore), logCreate = new LogTournamentCreateHandler_default(this), postLeaderboardScore.setNext(logCreate), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _CreateTournamentConcrete;
    }(BaseConcrete_default);
    __name(_CreateTournamentConcrete, "CreateTournamentConcrete");
    var CreateTournamentConcrete = _CreateTournamentConcrete, CreateTournamentConcrete_default = CreateTournamentConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Plugins4 = Ludex.Plugins, Analytics2 = _Ludex_Plugins4.Analytics, _Ludex_Utils37 = Ludex.Utils, V26 = _Ludex_Utils37.Valid, _PostScoreTournamentHandler = function(BaseHandler_default) {
        function _PostScoreTournamentHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _PostScoreTournamentHandler), _define_property(_this = _call_super(this, _PostScoreTournamentHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_PostScoreTournamentHandler, BaseHandler_default), _create_class(_PostScoreTournamentHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_PostScoreTournamentHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.validateData$(matchState), [
                                        4,
                                        this.postScoreTournamentAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(matchState) {
                    var profiles = matchState.profiles, playerId2 = matchState.customData.playerId;
                    if (this.validatePlayerId$(playerId2), !profiles[playerId2]) throw new ProfileNotFound_default();
                }
            },
            {
                key: "validatePlayerId$",
                value: function validatePlayerId$(playerId2) {
                    if (!V26.isString(playerId2)) throw new PlayerIdNotValid_default();
                }
            },
            {
                key: "getPlayerProfile$",
                value: function getPlayerProfile$(matchState) {
                    var profiles = matchState.profiles, playerId2 = matchState.customData.playerId;
                    return this.validatePlayerId$(playerId2), profiles[playerId2];
                }
            },
            {
                key: "isNewBestScore$",
                value: function isNewBestScore$(matchState) {
                    var profile = this.getPlayerProfile$(matchState), tmp = profile.score, score2 = void 0 === tmp ? 0 : tmp, _profile_bestScore = profile.bestScore;
                    return score2 > (void 0 === _profile_bestScore ? 0 : _profile_bestScore);
                }
            },
            {
                key: "postScoreTournamentAsync$",
                value: function postScoreTournamentAsync$(matchState) {
                    return _async_to_generator(function() {
                        var analytics, tmp, score2, _this_payload$_openShareScorePopup, openShareScorePopup, eventName, error1;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    analytics = codex.analytics, score2 = void 0 === (tmp = this.getPlayerProfile$(matchState).score) ? 0 : tmp, _state.label = 1;
                                case 1:
                                    return _state.trys.push([
                                        1,
                                        3,
                                        ,
                                        4
                                    ]), [
                                        4,
                                        this.assertSupportedTournamentContext()
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        3,
                                        4
                                    ];
                                case 3:
                                    return console.warn("Post Score Tournament", _state.sent()), [
                                        2
                                    ];
                                case 4:
                                    eventName = (openShareScorePopup = void 0 === (_this_payload$_openShareScorePopup = this.payload$.openShareScorePopup) || _this_payload$_openShareScorePopup) ? Analytics2.Events.TOURNAMENT_SHARE : Analytics2.Events.TOURNAMENT_POST_SCORE, _state.label = 5;
                                case 5:
                                    if (_state.trys.push([
                                        5,
                                        10,
                                        ,
                                        11
                                    ]), !openShareScorePopup) return [
                                        3,
                                        7
                                    ];
                                    return [
                                        4,
                                        GameSDK.tournament.shareAsync({
                                            score: score2
                                        })
                                    ];
                                case 6:
                                    return _state.sent(), [
                                        3,
                                        9
                                    ];
                                case 7:
                                    return [
                                        4,
                                        GameSDK.tournament.postScoreAsync(score2)
                                    ];
                                case 8:
                                    _state.sent(), _state.label = 9;
                                case 9:
                                    return null == analytics || analytics.event(eventName, {
                                        success: !0
                                    }), [
                                        3,
                                        11
                                    ];
                                case 10:
                                    return console.warn("Post Score Tournament", error1 = _state.sent()), null == analytics || analytics.event(eventName, {
                                        success: !1
                                    }), V26.isObject(error1) && "code" in error1 && "USER_INPUT" === error1.code && codex.event.emit(CoreEvents_default.GAME_SDK_POPUP_RESPONDED, {
                                        type: "cancelled",
                                        extra: error1
                                    }), [
                                        3,
                                        11
                                    ];
                                case 11:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "assertSupportedTournamentContext",
                value: function assertSupportedTournamentContext() {
                    if (!("getTournamentAsync" in GameSDK)) throw new UnavailableFeature_default("getTournamentAsync");
                    return GameSDK.getTournamentAsync();
                }
            }
        ]), _PostScoreTournamentHandler;
    }(BaseHandler_default);
    __name(_PostScoreTournamentHandler, "PostScoreTournamentHandler");
    var PostScoreTournamentHandler = _PostScoreTournamentHandler, PostScoreTournamentHandler_default = PostScoreTournamentHandler, _FinishTournamentConcrete = function(BaseConcrete_default) {
        function _FinishTournamentConcrete() {
            return _class_call_check(this, _FinishTournamentConcrete), _call_super(this, _FinishTournamentConcrete, arguments);
        }
        return _inherits(_FinishTournamentConcrete, BaseConcrete_default), _create_class(_FinishTournamentConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var playerId2, bestScore, flow, finishMatch, setProfileData, postTournament, logFinish, setPlayerBestScore, postLeaderboardScore, setGlobalLBScore, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), playerId2 = payload.playerId, bestScore = payload.bestScore, flow = new NothingHandler_default(this), finishMatch = new FinishMatchHandler_default(this, {
                                        useAPI: !1
                                    }), flow.setNext(finishMatch), setProfileData = new SetProfileDataHandler_default(this, {
                                        id: playerId2,
                                        bestScore: bestScore
                                    }), finishMatch.setNext(setProfileData), postTournament = new PostScoreTournamentHandler_default(this, payload), setProfileData.setNext(postTournament), logFinish = new LogMatchFinishedHandler_default(this), postTournament.setNext(logFinish), setPlayerBestScore = new SetPlayerBestScoreHandler_default(this), logFinish.setNext(setPlayerBestScore), postLeaderboardScore = new PostLeaderboardScoreHandler_default(this), setPlayerBestScore.setNext(postLeaderboardScore), setGlobalLBScore = new PostGlobalLeaderboardsScoreHandler_default(this), postLeaderboardScore.setNext(setGlobalLBScore), detectGameMode = new ContextGameModeHandler_default(this), setGlobalLBScore.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _FinishTournamentConcrete;
    }(BaseConcrete_default);
    __name(_FinishTournamentConcrete, "FinishTournamentConcrete");
    var FinishTournamentConcrete = _FinishTournamentConcrete, FinishTournamentConcrete_default = FinishTournamentConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Utils38 = Ludex.Utils, V27 = _Ludex_Utils38.Valid, O21 = _Ludex_Utils38.Object, _JoinTournamentHandler = function(BaseHandler_default) {
        function _JoinTournamentHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _JoinTournamentHandler), _define_property(_this = _call_super(this, _JoinTournamentHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_JoinTournamentHandler, BaseHandler_default), _create_class(_JoinTournamentHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_JoinTournamentHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var tournamentId, tournament, contextId2, leaderboardId;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), tournamentId = this.payload$.tournamentId, this.validateTournamentId$(tournamentId), [
                                        4,
                                        this.joinTournamentAsync$(tournamentId)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        4,
                                        GameSDK.getTournamentAsync()
                                    ];
                                case 2:
                                    return contextId2 = (tournament = _state.sent()).getContextID(), this.validateContextId$(contextId2), leaderboardId = JSON.parse(tournament.getPayload() || "{}").leaderboardId, this.validateLeaderboardId$(leaderboardId), matchState.customData.contextId = contextId2, matchState.customData.tournamentId = tournamentId, matchState.customData.leaderboardId = leaderboardId, [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 3:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "validateTournamentId$",
                value: function validateTournamentId$(tournamentId) {
                    if (!V27.isString(tournamentId)) throw new TournamentIdNotValid_default();
                }
            },
            {
                key: "validateContextId$",
                value: function validateContextId$(contextId2) {
                    if (!V27.isString(contextId2)) throw new ContextIdNotValid_default();
                }
            },
            {
                key: "validateLeaderboardId$",
                value: function validateLeaderboardId$(leaderboardId) {
                    if (!V27.isString(leaderboardId) || "" === leaderboardId) throw new LeaderboardIdNotValid_default();
                }
            },
            {
                key: "joinTournamentAsync$",
                value: function joinTournamentAsync$(tournamentId) {
                    return _async_to_generator(function() {
                        var error;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (!("tournament" in GameSDK)) throw new UnavailableFeature_default("tournament");
                                    _state.label = 1;
                                case 1:
                                    return _state.trys.push([
                                        1,
                                        3,
                                        ,
                                        4
                                    ]), [
                                        4,
                                        GameSDK.tournament.joinAsync(tournamentId)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        3,
                                        4
                                    ];
                                case 3:
                                    if (error = _state.sent(), !O21.hasOwn(error, "code") || "SAME_CONTEXT" !== error.code) throw error;
                                    return [
                                        3,
                                        4
                                    ];
                                case 4:
                                    return [
                                        2
                                    ];
                            }
                        });
                    })();
                }
            }
        ]), _JoinTournamentHandler;
    }(BaseHandler_default);
    __name(_JoinTournamentHandler, "JoinTournamentHandler");
    var JoinTournamentHandler = _JoinTournamentHandler, JoinTournamentHandler_default = JoinTournamentHandler, _JoinTournamentConcrete = function(BaseConcrete_default) {
        function _JoinTournamentConcrete() {
            return _class_call_check(this, _JoinTournamentConcrete), _call_super(this, _JoinTournamentConcrete, arguments);
        }
        return _inherits(_JoinTournamentConcrete, BaseConcrete_default), _create_class(_JoinTournamentConcrete, [
            {
                key: "processAsync",
                value: function processAsync(payload) {
                    return _async_to_generator(function() {
                        var playerId2, tournamentId, flow, joinTournament, prepareMatch, startMatch, getPlayerProfile, logMatchStart, logTournamentStart, detectGameMode, matchState;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        ,
                                        2,
                                        3
                                    ]), this.startLog$(payload), playerId2 = payload.playerId, tournamentId = payload.tournamentId, flow = new NothingHandler_default(this), joinTournament = new JoinTournamentHandler_default(this, {
                                        tournamentId: tournamentId
                                    }), flow.setNext(joinTournament), prepareMatch = new PrepareMatchHandler_default(this, {
                                        id: "1997",
                                        mode: MatchModes_default.TOURNAMENT,
                                        customData: {
                                            playerId: playerId2
                                        }
                                    }), joinTournament.setNext(prepareMatch), startMatch = new StartMatchHandler_default(this), prepareMatch.setNext(startMatch), getPlayerProfile = new GetProfileHandler_default(this, {
                                        profileId: playerId2
                                    }), startMatch.setNext(getPlayerProfile), logMatchStart = new LogMatchStartHandler_default(this), getPlayerProfile.setNext(logMatchStart), logTournamentStart = new LogTournamentStartHandler_default(this), logMatchStart.setNext(logTournamentStart), detectGameMode = new ContextGameModeHandler_default(this), logTournamentStart.setNext(detectGameMode), matchState = this.match.getMatchState(), [
                                        4,
                                        flow.processAsync(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return this.endLog$(), [
                                        7
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _JoinTournamentConcrete;
    }(BaseConcrete_default);
    __name(_JoinTournamentConcrete, "JoinTournamentConcrete");
    var JoinTournamentConcrete = _JoinTournamentConcrete, JoinTournamentConcrete_default = JoinTournamentConcrete;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var Dtos11 = Ludex.Dtos, Utils6 = Ludex.Utils, O22 = Utils6.Object, _GetMatchCustomDataHandler = function(BaseHandler_default) {
        function _GetMatchCustomDataHandler() {
            return _class_call_check(this, _GetMatchCustomDataHandler), _call_super(this, _GetMatchCustomDataHandler, arguments);
        }
        return _inherits(_GetMatchCustomDataHandler, BaseHandler_default), _create_class(_GetMatchCustomDataHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_GetMatchCustomDataHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        var extraData;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), [
                                        4,
                                        this.getMatchCustomData$(matchState)
                                    ];
                                case 1:
                                    return extraData = _state.sent(), this.updateMatchCustomData$(matchState, extraData), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 2:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getMatchCustomData$",
                value: function getMatchCustomData$(matchState) {
                    return _async_to_generator(function() {
                        var _ref, id, matchData;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (!(id = matchState.id)) return [
                                        2,
                                        {}
                                    ];
                                    return [
                                        4,
                                        this.match$.api.getMatchAPI().getMatchDetailByIdAsync(id)
                                    ];
                                case 1:
                                    return [
                                        2,
                                        null != (_ref = null == (matchData = _state.sent()) ? void 0 : matchData.extraData) ? _ref : {}
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "updateMatchCustomData$",
                value: function updateMatchCustomData$(matchState, extraData) {
                    var dataMerged = O22.merge(matchState.customData, extraData);
                    matchState.customData = new Dtos11.Match.CustomData(dataMerged).toObject();
                }
            }
        ]), _GetMatchCustomDataHandler;
    }(BaseHandler_default);
    __name(_GetMatchCustomDataHandler, "GetMatchCustomDataHandler");
    var GetMatchCustomDataHandler = _GetMatchCustomDataHandler, GetMatchCustomDataHandler_default = GetMatchCustomDataHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var Dtos12 = Ludex.Dtos, Utils7 = Ludex.Utils, O23 = Utils7.Object, _SetMatchCustomDataHandler = function(BaseHandler_default) {
        function _SetMatchCustomDataHandler(concrete, payload) {
            var _this;
            return _class_call_check(this, _SetMatchCustomDataHandler), _define_property(_this = _call_super(this, _SetMatchCustomDataHandler, [
                concrete
            ]), "payload$", void 0), _this.payload$ = payload, _this;
        }
        return _inherits(_SetMatchCustomDataHandler, BaseHandler_default), _create_class(_SetMatchCustomDataHandler, [
            {
                key: "processAsync",
                value: function processAsync(matchState) {
                    var _this = this, _this1 = this, _superprop_get_processAsync = function _superprop_get_processAsync() {
                        return _get(_get_prototype_of(_SetMatchCustomDataHandler.prototype), "processAsync", _this);
                    };
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _superprop_get_processAsync().call(_this1, matchState), this.updateMatchCustomData$(matchState), [
                                        4,
                                        this.nextAsync$(matchState)
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "updateMatchCustomData$",
                value: function updateMatchCustomData$(matchState) {
                    var customDataMerged = O23.merge(matchState.customData, this.payload$);
                    matchState.customData = new Dtos12.Match.CustomData(customDataMerged).toObject();
                }
            }
        ]), _SetMatchCustomDataHandler;
    }(BaseHandler_default);
    __name(_SetMatchCustomDataHandler, "SetMatchCustomDataHandler");
    var SetMatchCustomDataHandler = _SetMatchCustomDataHandler, SetMatchCustomDataHandler_default = SetMatchCustomDataHandler;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var initState6 = {
        id: null,
        mode: null,
        status: null,
        startAt: 0,
        finishAt: 0,
        profiles: {},
        customData: __spreadValues({}, DefaultCustomData_default)
    }, state_default6 = initState6, Configs2 = Ludex.Configs, _MatchPlugin = function(_Ludex_Plugins_BasePlugin) {
        function _MatchPlugin() {
            var _this;
            return _class_call_check(this, _MatchPlugin), _this = _call_super(this, _MatchPlugin, arguments), _define_property(_this, "base$", void 0), _define_property(_this, "group", void 0), _define_property(_this, "single", void 0), _define_property(_this, "context", void 0), _define_property(_this, "strategy", void 0), _define_property(_this, "challenge", void 0), _define_property(_this, "tournament", void 0), _define_property(_this, "api", void 0), _define_property(_this, "handler", void 0), _define_property(_this, "useCPUProfile", void 0), _this;
        }
        return _inherits(_MatchPlugin, _Ludex_Plugins_BasePlugin), _create_class(_MatchPlugin, [
            {
                key: "init",
                value: function init() {
                    this.createMatchData$(), this.createAPIHandler$(), this.createBaseConcrete$(), this.createConcreteFlows$(), this.createConcreteHandlers$();
                }
            },
            {
                key: "setUseCPUProfile",
                value: function setUseCPUProfile(enable) {
                    this.useCPUProfile = enable;
                }
            },
            {
                key: "createMatchData$",
                value: function createMatchData$() {
                    this.codex.storage.addStorage("match", state_default6);
                }
            },
            {
                key: "getMatchState",
                value: function getMatchState() {
                    return this.codex.storage.getStorage("match");
                }
            },
            {
                key: "createBaseConcrete$",
                value: function createBaseConcrete$() {
                    this.base$ = new BaseConcrete_default(this.codex, this);
                }
            },
            {
                key: "createConcreteFlows$",
                value: function createConcreteFlows$() {
                    this.createGroupFlows$(), this.createSingleFlows$(), this.createContextFlows$(), this.createStrategyFlows$(), this.createChallengeFlows$(), this.createTournamentFlows$();
                }
            },
            {
                key: "createConcreteHandlers$",
                value: function createConcreteHandlers$() {
                    var _this = this;
                    this.handler = {
                        setProfileData: __name(function(payload) {
                            return _async_to_generator(function() {
                                var handler;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return handler = new SetProfileDataHandler_default(this.base$, payload), [
                                                4,
                                                this.processHandlerAsync$(handler)
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(_this);
                        }, "setProfileData"),
                        setMatchCustomData: __name(function(payload) {
                            return _async_to_generator(function() {
                                var handler;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return handler = new SetMatchCustomDataHandler_default(this.base$, payload), [
                                                4,
                                                this.processHandlerAsync$(handler)
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(_this);
                        }, "setMatchCustomData"),
                        getMatchCustomData: __name(function() {
                            return _async_to_generator(function() {
                                var handler;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return handler = new GetMatchCustomDataHandler_default(this.base$), [
                                                4,
                                                this.processHandlerAsync$(handler)
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(_this);
                        }, "getMatchCustomData"),
                        setLeaderboardScore: __name(function(payload) {
                            return _async_to_generator(function() {
                                var handler;
                                return _ts_generator(this, function(_state) {
                                    switch(_state.label){
                                        case 0:
                                            return handler = new SetLeaderboardScoreHandler_default(this.base$, payload), [
                                                4,
                                                this.processHandlerAsync$(handler)
                                            ];
                                        case 1:
                                            return _state.sent(), [
                                                2
                                            ];
                                    }
                                });
                            }).call(_this);
                        }, "setLeaderboardScore")
                    };
                }
            },
            {
                key: "createAPIHandler$",
                value: function createAPIHandler$() {
                    var APIConfig = {
                        appId: Configs2.AppId,
                        matchAPIHost: Configs2.ApiHost
                    };
                    this.api = new APIHandler_default(APIConfig);
                }
            },
            {
                key: "createGroupFlows$",
                value: function createGroupFlows$() {
                    this.group = {
                        join: new JoinGroupConcrete_default(this.codex, this),
                        start: new StartGroupConcrete_default(this.codex, this),
                        finish: new FinishGroupConcrete_default(this.codex, this)
                    };
                }
            },
            {
                key: "createSingleFlows$",
                value: function createSingleFlows$() {
                    this.single = {
                        start: new StartSingleConcrete_default(this.codex, this),
                        finish: new FinishSingleConcrete_default(this.codex, this)
                    };
                }
            },
            {
                key: "createStrategyFlows$",
                value: function createStrategyFlows$() {
                    this.strategy = {
                        start: new StartStrategyConcrete_default(this.codex, this),
                        finish: new FinishStrategyConcrete_default(this.codex, this)
                    };
                }
            },
            {
                key: "createContextFlows$",
                value: function createContextFlows$() {
                    this.context = {
                        choose: new ChooseContextConcrete_default(this.codex, this)
                    };
                }
            },
            {
                key: "createChallengeFlows$",
                value: function createChallengeFlows$() {
                    this.challenge = {
                        invite: new InviteFriendsConcrete_default(this.codex, this),
                        friend: new ChallengeFriendConcrete_default(this.codex, this),
                        join: new JoinChallengeMatchConcrete_default(this.codex, this),
                        await: new AwaitChallengeMatchConcrete_default(this.codex, this),
                        result: new ResultChallengeMatchConcrete_default(this.codex, this),
                        finish: new FinishChallengeMatchConcrete_default(this.codex, this),
                        continue: new ContinueChallengeMatchConcrete_default(this.codex, this)
                    };
                }
            },
            {
                key: "createTournamentFlows$",
                value: function createTournamentFlows$() {
                    this.tournament = {
                        join: new JoinTournamentConcrete_default(this.codex, this),
                        create: new CreateTournamentConcrete_default(this.codex, this),
                        finish: new FinishTournamentConcrete_default(this.codex, this),
                        continue: new ContinueTournamentConcrete_default(this.codex, this)
                    };
                }
            },
            {
                key: "processHandlerAsync$",
                value: function processHandlerAsync$(handler) {
                    var matchState = this.getMatchState();
                    return handler.processAsync(matchState);
                }
            }
        ]), _MatchPlugin;
    }(Ludex.Plugins.BasePlugin);
    __name(_MatchPlugin, "MatchPlugin");
    var MatchPlugin = _MatchPlugin, MatchPlugin_default = MatchPlugin;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Utils39 = Ludex.Utils, V28 = _Ludex_Utils39.Valid, MESSAGE_INVALID5 = "is invalid", _MatchCustomDataDtos = function(BaseDtos_default) {
        function _MatchCustomDataDtos() {
            return _class_call_check(this, _MatchCustomDataDtos), _call_super(this, _MatchCustomDataDtos, arguments);
        }
        return _inherits(_MatchCustomDataDtos, BaseDtos_default), _create_class(_MatchCustomDataDtos, [
            {
                key: "setupData$",
                value: function setupData$(data) {
                    this.lazySetupData$(data);
                }
            },
            {
                key: "validateStructure$",
                value: function validateStructure$(data) {
                    this.lazyValidateStructure$(data);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(data) {
                    this.lazyValidateData$(data);
                }
            },
            {
                key: "validateLevel",
                value: function validateLevel(level2) {
                    (!V28.isNumber(level2) || level2 < 0) && this.exception$("level", MESSAGE_INVALID5);
                }
            },
            {
                key: "validateRescued",
                value: function validateRescued(rescued) {
                    (!V28.isNumber(rescued) || rescued < 0) && this.exception$("rescued", MESSAGE_INVALID5);
                }
            },
            {
                key: "validateContextId",
                value: function validateContextId(contextId2) {
                    V28.isString(contextId2) || this.exception$("contextId", MESSAGE_INVALID5);
                }
            },
            {
                key: "validatePlayerId",
                value: function validatePlayerId(playerId2) {
                    V28.isString(playerId2) || this.exception$("playerId", MESSAGE_INVALID5);
                }
            },
            {
                key: "validateOpponentId",
                value: function validateOpponentId(opponentId) {
                    V28.isString(opponentId) || null === opponentId || this.exception$("opponentId", MESSAGE_INVALID5);
                }
            },
            {
                key: "validateTournamentId",
                value: function validateTournamentId(tournamentId) {
                    V28.isString(tournamentId) || null === tournamentId || this.exception$("tournamentId", MESSAGE_INVALID5);
                }
            },
            {
                key: "validateLeaderboardId",
                value: function validateLeaderboardId(leaderboardId) {
                    V28.isString(leaderboardId) || null === leaderboardId || this.exception$("leaderboardId", MESSAGE_INVALID5);
                }
            },
            {
                key: "toObject",
                value: function toObject() {
                    return _get(_get_prototype_of(_MatchCustomDataDtos.prototype), "toObject", this).call(this);
                }
            }
        ]), _MatchCustomDataDtos;
    }(BaseDtos_default);
    __name(_MatchCustomDataDtos, "MatchCustomDataDtos");
    var MatchCustomDataDtos = _MatchCustomDataDtos;
    MatchCustomDataDtos.makeStrict(), MatchCustomDataDtos.addDefaults(DefaultCustomData_default);
    var MatchCustomDataDtos_default = MatchCustomDataDtos;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Utils40 = Ludex.Utils, V29 = _Ludex_Utils40.Valid, MESSAGE_INVALID6 = "is invalid", _MatchProfileDtos = function(BaseDtos_default) {
        function _MatchProfileDtos() {
            return _class_call_check(this, _MatchProfileDtos), _call_super(this, _MatchProfileDtos, arguments);
        }
        return _inherits(_MatchProfileDtos, BaseDtos_default), _create_class(_MatchProfileDtos, [
            {
                key: "setupData$",
                value: function setupData$(data) {
                    this.lazySetupData$(data);
                }
            },
            {
                key: "validateStructure$",
                value: function validateStructure$(data) {
                    this.lazyValidateStructure$(data);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(data) {
                    this.lazyValidateData$(data);
                }
            },
            {
                key: "validateId",
                value: function validateId(id) {
                    V29.isString(id) && id || this.exception$("id", MESSAGE_INVALID6);
                }
            },
            {
                key: "validateName",
                value: function validateName(name2) {
                    V29.isString(name2) && name2 || this.exception$("name", MESSAGE_INVALID6);
                }
            },
            {
                key: "validatePhoto",
                value: function validatePhoto(photo2) {
                    V29.isString(photo2) || this.exception$("photo", MESSAGE_INVALID6);
                }
            },
            {
                key: "validateScore",
                value: function validateScore(score2) {
                    (!V29.isNumber(score2) || score2 < 0) && this.exception$("score", MESSAGE_INVALID6);
                }
            },
            {
                key: "validateBestScore",
                value: function validateBestScore(bestScore) {
                    (!V29.isNumber(bestScore) || bestScore < 0) && this.exception$("bestScore", MESSAGE_INVALID6);
                }
            },
            {
                key: "validateFinished",
                value: function validateFinished(finished) {
                    V29.isBoolean(finished) || this.exception$("finished", MESSAGE_INVALID6);
                }
            },
            {
                key: "toObject",
                value: function toObject() {
                    return _get(_get_prototype_of(_MatchProfileDtos.prototype), "toObject", this).call(this);
                }
            }
        ]), _MatchProfileDtos;
    }(BaseDtos_default);
    __name(_MatchProfileDtos, "MatchProfileDtos");
    var MatchProfileDtos = _MatchProfileDtos;
    MatchProfileDtos.addDefaults({
        id: "10",
        name: "Your Friend",
        photo: null,
        score: 0,
        bestScore: 0,
        finished: !1
    });
    var MatchProfileDtos_default = MatchProfileDtos;
    Ludex.Dtos.Match = {
        Data: RespMatchDataDtos_default,
        Profile: MatchProfileDtos_default,
        CustomData: MatchCustomDataDtos_default
    };
    var match_default = MatchPlugin_default;
    init_empty_script(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Utils41 = Ludex.Utils, O24 = _Ludex_Utils41.Object, ApiHost = Ludex.Configs.ApiHost, getUrl = __name(function() {
        var url = "players";
        return GameSDK.isGameSDK("MsGames") ? url += "?platform=ms-games" : GameSDK.isGameSDK("Yandex") && (url += "?platform=yandex"), url;
    }, "getUrl"), updatePlayerProfileAsync = __name(function(payload) {
        return _async_to_generator(function() {
            var result3;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        if (!ApiHost) return [
                            2,
                            {}
                        ];
                        return [
                            4,
                            post(getUrl(), payload, {}, ApiHost, 10)
                        ];
                    case 1:
                        if (result3 = _state.sent(), !O24.hasOwn(result3, "data")) return [
                            2,
                            {}
                        ];
                        return [
                            2,
                            result3.data || {}
                        ];
                }
            });
        })();
    }, "updatePlayerProfileAsync"), _Ludex_Utils42 = Ludex.Utils, A7 = _Ludex_Utils42.Array, O25 = _Ludex_Utils42.Object, V30 = _Ludex_Utils42.Valid, F4 = _Ludex_Utils42.Function, _Ludex_Configs9 = Ludex.Configs, AppId4 = _Ludex_Configs9.AppId, PLAYER_SETTINGS_CHANGED = Ludex.Events.PLAYER_SETTINGS_CHANGED, _PlayerPlugin = function(_Ludex_Plugins_BasePlugin) {
        function _PlayerPlugin() {
            var _this;
            return _class_call_check(this, _PlayerPlugin), _this = _call_super(this, _PlayerPlugin, arguments), _define_property(_this, "mutex$", F4.mutex()), _define_property(_this, "isLoggedIn$", !1), _this;
        }
        return _inherits(_PlayerPlugin, _Ludex_Plugins_BasePlugin), _create_class(_PlayerPlugin, [
            {
                key: "init",
                value: function init() {
                    this.codex.storage.addStorage("player", state_default);
                }
            },
            {
                key: "receiveData",
                value: function receiveData(playerInfo, playerData) {
                    var storage = this.codex.storage, playerId2 = playerInfo.playerId, name2 = playerInfo.name, photo2 = playerInfo.photo, locale2 = playerInfo.locale;
                    storage.setStorageData("player", "playerId", playerId2), storage.setStorageData("player", "name", name2), storage.setStorageData("player", "photo", photo2), storage.setStorageData("player", "locale", locale2), playerData && (this.setPlayerData(playerData), this.isLoggedIn$ = !playerData.isFirstLogin);
                }
            },
            {
                key: "syncDataToSDK",
                value: function syncDataToSDK() {
                    return _async_to_generator(function() {
                        var lock, playerData;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        this.mutex$.use("syncDataToSDK")
                                    ];
                                case 1:
                                    lock = _state.sent(), _state.label = 2;
                                case 2:
                                    return _state.trys.push([
                                        2,
                                        4,
                                        5,
                                        6
                                    ]), playerData = this.getPlayerData(), [
                                        4,
                                        GameSDK.player.setDataAsync(playerData)
                                    ];
                                case 3:
                                    return _state.sent(), [
                                        3,
                                        6
                                    ];
                                case 4:
                                    return console.warn(_state.sent()), [
                                        3,
                                        6
                                    ];
                                case 5:
                                    return lock.release(), [
                                        7
                                    ];
                                case 6:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "syncProfileToServer",
                value: function syncProfileToServer() {
                    return _async_to_generator(function() {
                        var storage, player, playerId2, name2, photo2, locale2, ASID, _ref, id;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (GameSDK.extra.isGuest) throw Error("Guest player cannot sync profile to server");
                                    if (storage = this.codex.storage, playerId2 = (player = this.getPlayer()).playerId, name2 = player.name, photo2 = player.photo, locale2 = player.locale, ASID = this.getPlayerASID(), !(!V30.isString(ASID) && "getASIDAsync" in GameSDK.player)) return [
                                        3,
                                        2
                                    ];
                                    return [
                                        4,
                                        F4.handleAsync(GameSDK.player.getASIDAsync(), 1e4)
                                    ];
                                case 1:
                                    id = (_ref = _sliced_to_array.apply(void 0, [
                                        _state.sent(),
                                        2
                                    ]))[0], !_ref[1] && id && (ASID = id, storage.setStorageData("player", "ASID", ASID)), _state.label = 2;
                                case 2:
                                    return [
                                        4,
                                        updatePlayerProfileAsync({
                                            appId: AppId4,
                                            ASID: ASID,
                                            playerId: playerId2,
                                            name: name2,
                                            photo: photo2,
                                            locale: locale2
                                        })
                                    ];
                                case 3:
                                    return _state.sent(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "setPlayerDataByName",
                value: function setPlayerDataByName(name2, data) {
                    this.setPlayerData(_define_property({}, name2, data));
                }
            },
            {
                key: "setPlayerData",
                value: function setPlayerData(data) {
                    this.codex.storage.setStorageData("player", "data", data), this.syncDataToSDK();
                }
            },
            {
                key: "setBestScore",
                value: function setBestScore(score2) {
                    this.setPlayerDataByName("score", score2);
                }
            },
            {
                key: "setSetting",
                value: function setSetting(name2, value) {
                    var event = this.codex.event;
                    this.setPlayerDataByName("settings", _define_property({}, name2, value)), event.emit(PLAYER_SETTINGS_CHANGED, {
                        name: name2,
                        value: value
                    });
                }
            },
            {
                key: "setGameData",
                value: function setGameData(data) {
                    var _this_getGameData, currentData = null != (_this_getGameData = this.getGameData()) ? _this_getGameData : {}, newData = O25.merge(currentData, data);
                    this.setPlayerDataByName("gameData", newData);
                }
            },
            {
                key: "requestConnectedPlayers",
                value: function requestConnectedPlayers() {
                    return _async_to_generator(function() {
                        var storage, connectedPlayers, connectedPlayersUnique, connectedPlayersKeyed;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return storage = this.codex.storage, [
                                        4,
                                        GameSDK.player.getConnectedPlayersAsync()
                                    ];
                                case 1:
                                    if (connectedPlayers = _state.sent().map(function(player) {
                                        var playerId2 = player.getID(), name2 = player.getName(), photo2 = player.getPhoto();
                                        return playerId2 && name2 && photo2 ? new PlayerInfo_default({
                                            playerId: playerId2,
                                            name: name2,
                                            photo: photo2
                                        }).toObject() : null;
                                    }), (connectedPlayersUnique = A7.unique(connectedPlayers)).length < 1) return [
                                        2
                                    ];
                                    return connectedPlayersKeyed = O25.keyBy(connectedPlayersUnique, "playerId"), storage.setStorageData("player", "connectedPlayers", connectedPlayersKeyed), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getPlayer",
                value: function getPlayer() {
                    return this.codex.storage.getStorage("player");
                }
            },
            {
                key: "getPlayerId",
                value: function getPlayerId() {
                    var _storage_getStorageData;
                    return null != (_storage_getStorageData = this.codex.storage.getStorageData("player", "playerId")) ? _storage_getStorageData : "";
                }
            },
            {
                key: "getPlayerASID",
                value: function getPlayerASID() {
                    var _storage_getStorageData;
                    return null != (_storage_getStorageData = this.codex.storage.getStorageData("player", "ASID")) ? _storage_getStorageData : null;
                }
            },
            {
                key: "getPlayerLocale",
                value: function getPlayerLocale() {
                    var _storage_getStorageData;
                    return null != (_storage_getStorageData = this.codex.storage.getStorageData("player", "locale")) ? _storage_getStorageData : "";
                }
            },
            {
                key: "getPlayerData",
                value: function getPlayerData() {
                    var _storage_getStorageData;
                    return null != (_storage_getStorageData = this.codex.storage.getStorageData("player", "data")) ? _storage_getStorageData : state_default.data;
                }
            },
            {
                key: "getPlayerDataByKey",
                value: function getPlayerDataByKey(name2) {
                    var data = this.getPlayerData();
                    return O25.hasOwn(data, name2) ? data[name2] : null;
                }
            },
            {
                key: "getGameData",
                value: function getGameData() {
                    return this.getPlayerDataByKey("gameData");
                }
            },
            {
                key: "getPlayerSetting",
                value: function getPlayerSetting(name2) {
                    var settings2 = this.getPlayerSettings();
                    return O25.hasOwn(settings2, name2) ? settings2[name2] : null;
                }
            },
            {
                key: "getPlayerSettings",
                value: function getPlayerSettings() {
                    return this.getPlayerData().settings;
                }
            },
            {
                key: "isFirstLogin",
                value: function isFirstLogin() {
                    var _this_getPlayerDataByKey;
                    return null != (_this_getPlayerDataByKey = this.getPlayerDataByKey("isFirstLogin")) ? _this_getPlayerDataByKey : state_default.data.isFirstLogin;
                }
            },
            {
                key: "isFirstSession",
                value: function isFirstSession() {
                    return !this.isLoggedIn$;
                }
            },
            {
                key: "loggedIn",
                value: function loggedIn() {
                    this.setPlayerDataByName("isFirstLogin", !1);
                }
            },
            {
                key: "getBestScore",
                value: function getBestScore() {
                    return this.getPlayerData().score;
                }
            },
            {
                key: "getConnectedPlayers",
                value: function getConnectedPlayers() {
                    var _storage_getStorageData;
                    return null != (_storage_getStorageData = this.codex.storage.getStorageData("player", "connectedPlayers")) ? _storage_getStorageData : {};
                }
            },
            {
                key: "getConnectedPlayerIds",
                value: function getConnectedPlayerIds(limit, offset) {
                    return Object.keys(this.getConnectedPlayers()).slice(offset, offset + limit);
                }
            },
            {
                key: "getNotificationData",
                value: function getNotificationData() {
                    var _this_getPlayerDataByKey;
                    return null != (_this_getPlayerDataByKey = this.getPlayerDataByKey("notificationData")) ? _this_getPlayerDataByKey : state_default.data.notificationData;
                }
            }
        ]), _PlayerPlugin;
    }(Ludex.Plugins.BasePlugin);
    __name(_PlayerPlugin, "PlayerPlugin");
    var PlayerPlugin = _PlayerPlugin, PlayerPlugin_default = PlayerPlugin;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var Dtos13 = Ludex.Dtos, _Ludex_Utils43 = Ludex.Utils, V31 = _Ludex_Utils43.Valid, O26 = _Ludex_Utils43.Object, _state_default_data = state_default.data, score = _state_default_data.score, settings = _state_default_data.settings, gameData = _state_default_data.gameData, isFirstLogin = _state_default_data.isFirstLogin, missionsData = _state_default_data.missionsData, notificationData = _state_default_data.notificationData, dailyRewardedData = _state_default_data.dailyRewardedData, lastCallSwitchGame = _state_default_data.lastCallSwitchGame, MESSAGE_INVALID7 = "is invalid", _PlayerDataDtos = function(BaseDtos_default) {
        function _PlayerDataDtos() {
            return _class_call_check(this, _PlayerDataDtos), _call_super(this, _PlayerDataDtos, arguments);
        }
        return _inherits(_PlayerDataDtos, BaseDtos_default), _create_class(_PlayerDataDtos, [
            {
                key: "processNestedDtos$",
                value: function processNestedDtos$(data) {
                    V31.isObject(data) && (data.settings = new Dtos13.Player.Settings(data.settings).toObject(), data.gameData = new Dtos13.Player.GameData(data.gameData).toObject());
                }
            },
            {
                key: "setupData$",
                value: function setupData$(data) {
                    this.lazySetupData$(data);
                }
            },
            {
                key: "validateStructure$",
                value: function validateStructure$(data) {
                    this.lazyValidateStructure$(data);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(data) {
                    this.lazyValidateData$(data);
                }
            },
            {
                key: "validateScore",
                value: function validateScore(score2) {
                    (!V31.isNumber(score2) || score2 < 0) && this.exception$("score", MESSAGE_INVALID7);
                }
            },
            {
                key: "validateSettings",
                value: function validateSettings(settings2) {
                    V31.isObject(settings2) || this.exception$("settings", MESSAGE_INVALID7);
                }
            },
            {
                key: "validateMissionsData",
                value: function validateMissionsData(missionsData2) {
                    V31.isObject(missionsData2) || this.exception$("missionsData", MESSAGE_INVALID7), "process" in missionsData2 && V31.isObject(missionsData2.process) || this.exception$("missionsData.process", MESSAGE_INVALID7);
                }
            },
            {
                key: "validateNotificationData",
                value: function validateNotificationData(notificationData2) {
                    V31.isObject(notificationData2) || this.exception$("notificationData", MESSAGE_INVALID7), "D1" in notificationData2 && V31.isObject(notificationData2.D1) || this.exception$("notificationData.D1", MESSAGE_INVALID7), "D2" in notificationData2 && V31.isObject(notificationData2.D2) || this.exception$("notificationData.D2", MESSAGE_INVALID7), "D3" in notificationData2 && V31.isObject(notificationData2.D3) || this.exception$("notificationData.D3", MESSAGE_INVALID7), "D4" in notificationData2 && V31.isObject(notificationData2.D4) || this.exception$("notificationData.D4", MESSAGE_INVALID7), "D5" in notificationData2 && V31.isObject(notificationData2.D5) || this.exception$("notificationData.D5", MESSAGE_INVALID7), "D6" in notificationData2 && V31.isObject(notificationData2.D6) || this.exception$("notificationData.D6", MESSAGE_INVALID7), "D7" in notificationData2 && V31.isObject(notificationData2.D7) || this.exception$("notificationData.D7", MESSAGE_INVALID7);
                }
            },
            {
                key: "validateGameData",
                value: function validateGameData(gameData2) {
                    V31.isObject(gameData2) || this.exception$("gameData", MESSAGE_INVALID7);
                }
            },
            {
                key: "validateIsFirstLogin",
                value: function validateIsFirstLogin(isFirstLogin2) {
                    V31.isBoolean(isFirstLogin2) || this.exception$("isFirstLogin", MESSAGE_INVALID7);
                }
            },
            {
                key: "validateDailyRewardedData",
                value: function validateDailyRewardedData(dailyRewardedData2) {
                    V31.isObject(dailyRewardedData2) || this.exception$("dailyRewardedData", MESSAGE_INVALID7);
                }
            },
            {
                key: "validateLastCallSwitchGame",
                value: function validateLastCallSwitchGame(lastCallSwitchGame2) {
                    V31.isNumber(lastCallSwitchGame2) || this.exception$("lastCallSwitchGame", MESSAGE_INVALID7), lastCallSwitchGame2 < 0 && this.exception$("lastCallSwitchGame", MESSAGE_INVALID7);
                }
            },
            {
                key: "toObject",
                value: function toObject() {
                    return _get(_get_prototype_of(_PlayerDataDtos.prototype), "toObject", this).call(this);
                }
            }
        ]), _PlayerDataDtos;
    }(BaseDtos_default);
    __name(_PlayerDataDtos, "PlayerDataDtos");
    var PlayerDataDtos = _PlayerDataDtos;
    PlayerDataDtos.addDefaults({
        score: score,
        settings: settings,
        gameData: gameData,
        isFirstLogin: isFirstLogin,
        missionsData: missionsData,
        notificationData: notificationData,
        dailyRewardedData: dailyRewardedData,
        lastCallSwitchGame: lastCallSwitchGame
    });
    var PlayerData_default = PlayerDataDtos;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Utils44 = Ludex.Utils, V32 = _Ludex_Utils44.Valid, _state_default_data_gameData = state_default.data.gameData, level = _state_default_data_gameData.level, coins = _state_default_data_gameData.coins, _PlayerGameDataDtos = function(BaseDtos_default) {
        function _PlayerGameDataDtos() {
            return _class_call_check(this, _PlayerGameDataDtos), _call_super(this, _PlayerGameDataDtos, arguments);
        }
        return _inherits(_PlayerGameDataDtos, BaseDtos_default), _create_class(_PlayerGameDataDtos, [
            {
                key: "setupData$",
                value: function setupData$(data) {
                    this.lazySetupData$(data);
                }
            },
            {
                key: "validateStructure$",
                value: function validateStructure$(data) {
                    this.lazyValidateStructure$(data);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(data) {
                    this.lazyValidateData$(data);
                }
            },
            {
                key: "validateLevel",
                value: function validateLevel(level2) {
                    (!V32.isNumber(level2) || level2 < 0) && this.exception$("level", "is invalid");
                }
            },
            {
                key: "validateCoins",
                value: function validateCoins(coins2) {
                    (!V32.isNumber(coins2) || coins2 < 0) && this.exception$("coins", "is invalid");
                }
            },
            {
                key: "toObject",
                value: function toObject() {
                    return _get(_get_prototype_of(_PlayerGameDataDtos.prototype), "toObject", this).call(this);
                }
            }
        ]), _PlayerGameDataDtos;
    }(BaseDtos_default);
    __name(_PlayerGameDataDtos, "PlayerGameDataDtos");
    var PlayerGameDataDtos = _PlayerGameDataDtos;
    PlayerGameDataDtos.addDefaults({
        level: level,
        coins: coins
    });
    var PlayerGameData_default = PlayerGameDataDtos;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Utils45 = Ludex.Utils, V33 = _Ludex_Utils45.Valid, _state_default_data_settings = state_default.data.settings, sound = _state_default_data_settings.sound, music = _state_default_data_settings.music, vibrate = _state_default_data_settings.vibrate, language = _state_default_data_settings.language, MESSAGE_INVALID8 = "is invalid", _PlayerSettingsDtos = function(BaseDtos_default) {
        function _PlayerSettingsDtos() {
            return _class_call_check(this, _PlayerSettingsDtos), _call_super(this, _PlayerSettingsDtos, arguments);
        }
        return _inherits(_PlayerSettingsDtos, BaseDtos_default), _create_class(_PlayerSettingsDtos, [
            {
                key: "setupData$",
                value: function setupData$(data) {
                    this.lazySetupData$(data);
                }
            },
            {
                key: "validateStructure$",
                value: function validateStructure$(data) {
                    this.lazyValidateStructure$(data);
                }
            },
            {
                key: "validateData$",
                value: function validateData$(data) {
                    this.lazyValidateData$(data);
                }
            },
            {
                key: "validateSound",
                value: function validateSound(sound2) {
                    V33.isBoolean(sound2) || this.exception$("sound", MESSAGE_INVALID8);
                }
            },
            {
                key: "validateMusic",
                value: function validateMusic(music2) {
                    V33.isBoolean(music2) || this.exception$("music", MESSAGE_INVALID8);
                }
            },
            {
                key: "validateVibrate",
                value: function validateVibrate(vibrate2) {
                    V33.isBoolean(vibrate2) || this.exception$("vibrate", MESSAGE_INVALID8);
                }
            },
            {
                key: "validateLanguage",
                value: function validateLanguage(language2) {
                    V33.isString(language2) && language2 || this.exception$("language", MESSAGE_INVALID8);
                }
            },
            {
                key: "toObject",
                value: function toObject() {
                    return _get(_get_prototype_of(_PlayerSettingsDtos.prototype), "toObject", this).call(this);
                }
            }
        ]), _PlayerSettingsDtos;
    }(BaseDtos_default);
    __name(_PlayerSettingsDtos, "PlayerSettingsDtos");
    var PlayerSettingsDtos = _PlayerSettingsDtos;
    PlayerSettingsDtos.addDefaults({
        sound: sound,
        music: music,
        vibrate: vibrate,
        language: language
    });
    var PlayerSettings_default = PlayerSettingsDtos;
    Ludex.Dtos.Player = {
        Info: PlayerInfo_default,
        Data: PlayerData_default,
        Settings: PlayerSettings_default,
        GameData: PlayerGameData_default
    };
    var player_default = PlayerPlugin_default;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Configs10 = Ludex.Configs, ApiHost2 = _Ludex_Configs10.ApiHost, Mockup2 = _Ludex_Configs10.Mockup, _Ludex_Utils46 = Ludex.Utils, O27 = _Ludex_Utils46.Object, S7 = _Ludex_Utils46.String, _ProfileAPI = function() {
        function _ProfileAPI() {
            _class_call_check(this, _ProfileAPI), _define_property(this, "mockAPI$", void 0);
        }
        return _create_class(_ProfileAPI, [
            {
                key: "initMockAPI$",
                value: function initMockAPI$() {
                    return _async_to_generator(function() {
                        var ProfileAPIMock;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (this.mockAPI$) return [
                                        2
                                    ];
                                    return [
                                        4,
                                        Promise.resolve().then(function() {
                                            return init_empty_script(), empty_script_exports;
                                        })
                                    ];
                                case 1:
                                    if ("function" != typeof (ProfileAPIMock = _state.sent().default)) throw Error("Cannot load ProfileAPIMock");
                                    return this.mockAPI$ = new ProfileAPIMock(), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getPlayersAsync",
                value: function getPlayersAsync(payload) {
                    return _async_to_generator(function() {
                        var params, result3;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (params = S7.params(payload), !Mockup2.Profile.Enabled) return [
                                        3,
                                        3
                                    ];
                                    return [
                                        4,
                                        this.initMockAPI$()
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        4,
                                        this.mockAPI$.getPlayersAsync(payload)
                                    ];
                                case 2:
                                    return result3 = _state.sent(), [
                                        3,
                                        5
                                    ];
                                case 3:
                                    if (!ApiHost2) return [
                                        2,
                                        []
                                    ];
                                    return [
                                        4,
                                        get("players?".concat(params), {}, ApiHost2)
                                    ];
                                case 4:
                                    result3 = _state.sent(), _state.label = 5;
                                case 5:
                                    if (!O27.hasOwn(result3, "data") || !Array.isArray(result3.data)) return [
                                        2,
                                        []
                                    ];
                                    return [
                                        2,
                                        result3.data
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _ProfileAPI;
    }();
    __name(_ProfileAPI, "ProfileAPI");
    var ProfileAPI = _ProfileAPI, ProfileAPI_default = ProfileAPI;
    init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var initState7 = {
        profiles: {},
        profileIds: []
    }, state_default7 = initState7, Utils8 = Ludex.Utils, Dtos14 = Ludex.Dtos, A8 = Utils8.Array, V34 = Utils8.Valid, O28 = Utils8.Object, F5 = Utils8.Function, _ProfilePlugin = function(_Ludex_Plugins_BasePlugin) {
        function _ProfilePlugin() {
            var _this;
            return _class_call_check(this, _ProfilePlugin), _this = _call_super(this, _ProfilePlugin, arguments), _define_property(_this, "profileAPI$", new ProfileAPI_default()), _this;
        }
        return _inherits(_ProfilePlugin, _Ludex_Plugins_BasePlugin), _create_class(_ProfilePlugin, [
            {
                key: "init",
                value: function init() {
                    this.codex.storage.addStorage("profile", state_default7);
                }
            },
            {
                key: "requestProfiles",
                value: function requestProfiles(playerIds) {
                    return _async_to_generator(function() {
                        var _this, profileIds, needPlayerIds, profilePromises, result3, profiles;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_this = this, profileIds = this.getProfileIds(), (needPlayerIds = A8.difference(playerIds, profileIds)).length < 1) return [
                                        2
                                    ];
                                    return profilePromises = A8.chunk(needPlayerIds, 400).map(function(playerIds2) {
                                        return _this.profileAPI$.getPlayersAsync({
                                            playerIds: playerIds2
                                        });
                                    }), [
                                        4,
                                        F5.allSettled(profilePromises)
                                    ];
                                case 1:
                                    if (result3 = _state.sent().reduce(function(acc, response) {
                                        return "fulfilled" === response.status ? acc.concat(response.value) : acc;
                                    }, []), !this.validateProfilesResponse$(result3)) return [
                                        2
                                    ];
                                    return profiles = this.convertToProfiles$(result3), this.setProfiles$(profiles), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getProfile",
                value: function getProfile(playerId2) {
                    var profile = this.getProfiles()[playerId2];
                    return null != profile ? profile : null;
                }
            },
            {
                key: "getProfiles",
                value: function getProfiles() {
                    var _storage_getStorageData;
                    return null != (_storage_getStorageData = this.codex.storage.getStorageData("profile", "profiles")) ? _storage_getStorageData : state_default7.profiles;
                }
            },
            {
                key: "setProfiles$",
                value: function setProfiles$(profiles) {
                    var storage = this.codex.storage;
                    storage.setStorageData("profile", "profiles", profiles), storage.setStorageData("profile", "profileIds", Object.keys(profiles));
                }
            },
            {
                key: "getProfileIds",
                value: function getProfileIds() {
                    var _storage_getStorageData;
                    return null != (_storage_getStorageData = this.codex.storage.getStorageData("profile", "profileIds")) ? _storage_getStorageData : [];
                }
            },
            {
                key: "validateProfilesResponse$",
                value: function validateProfilesResponse$(profiles) {
                    return !!Array.isArray(profiles) && !(profiles.length < 1);
                }
            },
            {
                key: "convertToProfiles$",
                value: function convertToProfiles$(result3) {
                    var profiles = {}, _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = result3[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                            var data = _step.value;
                            O28.hasOwn(data, "playerId") && V34.isString(data.playerId) && (profiles[data.playerId] = new Dtos14.Player.Info(data).toObject());
                        }
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                    return profiles;
                }
            }
        ]), _ProfilePlugin;
    }(Ludex.Plugins.BasePlugin);
    __name(_ProfilePlugin, "ProfilePlugin");
    var ProfilePlugin = _ProfilePlugin, ProfilePlugin_default = ProfilePlugin, profile_default = ProfilePlugin_default;
    init_empty_script(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var gameName2 = "Save The Pets", _Ludex_Utils47 = Ludex.Utils, O29 = _Ludex_Utils47.Object, V35 = _Ludex_Utils47.Valid, B4 = _Ludex_Utils47.Browser, _StoragePlugin = function(_Ludex_Plugins_BasePlugin) {
        function _StoragePlugin(game) {
            var _this;
            return _class_call_check(this, _StoragePlugin), _define_property(_this = _call_super(this, _StoragePlugin, [
                game
            ]), "storages$", void 0), _define_property(_this, "storageLocalKeys$", {}), _this.storages$ = {}, _this;
        }
        return _inherits(_StoragePlugin, _Ludex_Plugins_BasePlugin), _create_class(_StoragePlugin, [
            {
                key: "addStorage",
                value: function addStorage(name2, initState8) {
                    var useWebStorage = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (this.storages$[name2] = initState8, !useWebStorage) return [
                                        3,
                                        2
                                    ];
                                    return [
                                        4,
                                        this.initFromWebStorage$(name2, initState8)
                                    ];
                                case 1:
                                    _state.sent(), _state.label = 2;
                                case 2:
                                    return console.debug("addStorage", name2, initState8), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "initFromWebStorage$",
                value: function initFromWebStorage$(name2, initState8) {
                    return _async_to_generator(function() {
                        var data, keys, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, key;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return this.storageLocalKeys$[name2] = !0, [
                                        4,
                                        B4.getIndexedDB("".concat(gameName2, "_S_").concat(name2))
                                    ];
                                case 1:
                                    if (data = _state.sent(), !V35.isObject(data)) return [
                                        2
                                    ];
                                    keys = Object.keys(initState8), _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                                    try {
                                        for(_iterator = keys[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0)key = _step.value, O29.hasOwn(data, key) && _type_of(initState8[key]) === _type_of(data[key]) && this.setStorageData(name2, key, data[key]);
                                    } catch (err) {
                                        _didIteratorError = !0, _iteratorError = err;
                                    } finally{
                                        try {
                                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                                        } finally{
                                            if (_didIteratorError) throw _iteratorError;
                                        }
                                    }
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "initStorageData",
                value: function initStorageData(storage, field, initData) {
                    this.storages$[storage][field] = initData;
                }
            },
            {
                key: "setStorageData",
                value: function setStorageData(storage, field, data) {
                    var nextData;
                    if (V35.isObject(data)) {
                        var currentData = this.getStorageData(storage, field);
                        nextData = O29.merge(currentData, data);
                    } else nextData = data;
                    this.storages$[storage][field] = nextData;
                }
            },
            {
                key: "getStorageData",
                value: function getStorageData(storage, field) {
                    return this.getStorage(storage)[field];
                }
            },
            {
                key: "getStorage",
                value: function getStorage(storage) {
                    return this.storages$[storage];
                }
            },
            {
                key: "updateToWebStorage",
                value: function updateToWebStorage(storage) {
                    var flushMemory = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    return _async_to_generator(function() {
                        var _this;
                        return _ts_generator(this, function(_state) {
                            return _this = this, this.storageLocalKeys$[storage] && requestAnimationFrame(function() {
                                return _this.saveToWebStorage$(storage, flushMemory);
                            }), [
                                2
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "saveToWebStorage$",
                value: function saveToWebStorage$(storage) {
                    var flushMemory = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    return _async_to_generator(function() {
                        var data;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return data = this.getStorage(storage), [
                                        4,
                                        B4.setIndexedDB("".concat(gameName2, "_S_").concat(storage), data)
                                    ];
                                case 1:
                                    return _state.sent(), flushMemory && O29.assign(this.storages$[storage], {}), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            }
        ]), _StoragePlugin;
    }(Ludex.Plugins.BasePlugin);
    __name(_StoragePlugin, "StoragePlugin");
    var StoragePlugin = _StoragePlugin, StoragePlugin_default = StoragePlugin, storage_default = StoragePlugin_default;
    init_empty_script(), init_empty_script(), init_empty_script(), init_empty_script(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Utils48 = Ludex.Utils, O30 = _Ludex_Utils48.Object, _Ludex_Plugins5 = Ludex.Plugins, _Ludex_Plugins_Ads = _Ludex_Plugins5.Ads, Status = _Ludex_Plugins_Ads.Status, Types2 = _Ludex_Plugins_Ads.Types, AdError2 = _Ludex_Plugins_Ads.AdError, AdInstance3 = _Ludex_Plugins_Ads.AdInstance, _NormalAdInstance = function(AdInstance3) {
        function _NormalAdInstance(type, placementId) {
            var _this;
            return _class_call_check(this, _NormalAdInstance), _define_property(_this = _call_super(this, _NormalAdInstance, [
                type,
                placementId
            ]), "service$", void 0), _define_property(_this, "instance$", void 0), _define_property(_this, "instanceQueue$", []), _this.service$ = GameSDK.getSDKName(), _this.instance$ = null, _this;
        }
        return _inherits(_NormalAdInstance, AdInstance3), _create_class(_NormalAdInstance, [
            {
                key: "setInstance",
                value: function setInstance(instance) {
                    instance || this.setStatus(Status.IDLE), this.instance$ = instance;
                }
            },
            {
                key: "loadAsync",
                value: function loadAsync() {
                    return _async_to_generator(function() {
                        var instance, error, _self_codex_analytics;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (console.debug("AdInstance", "loadAsync called", {
                                        type: this.type,
                                        status: this.status,
                                        service: this.service$,
                                        placementId: this.placementId
                                    }), this.instance$ && this.status === Status.FILLED) return [
                                        2
                                    ];
                                    if (this.status !== Status.IDLE) throw new AdError2("AD_NOT_READY", "Ad is not ready.");
                                    _state.label = 1;
                                case 1:
                                    return _state.trys.push([
                                        1,
                                        4,
                                        ,
                                        5
                                    ]), [
                                        4,
                                        this.createInstanceByType$(this.type)
                                    ];
                                case 2:
                                    if (instance = _state.sent(), this.setInstance(instance), null === this.instance$) throw new AdError2("AD_INSTANCE_NOT_INITIATED", "Ad instance didn't initiated.");
                                    return this.setStatus(Status.LOADING), [
                                        4,
                                        this.instance$.loadAsync()
                                    ];
                                case 3:
                                    return _state.sent(), this.setStatus(Status.FILLED), console.debug("AdInstance", "loadAsync success", {
                                        type: this.type,
                                        status: this.status,
                                        service: this.service$
                                    }), this.logAdLoad$(), [
                                        3,
                                        5
                                    ];
                                case 4:
                                    throw error = _state.sent(), console.warn("AdInstance", "loadAsync failed", {
                                        type: this.type,
                                        status: this.status,
                                        service: this.service$
                                    }), console.warn(error), this.setStatus(Status.IDLE), _instanceof(error, Object) && "code" in error && "INVALID_PARAM" === error.code && this.setInstance(null), this.instance$ && this.pushInstanceToQueue$(this.instance$), null == (_self_codex_analytics = self.codex.analytics) || _self_codex_analytics.loadAdFail({
                                        type: this.type,
                                        service: this.service$
                                    }), error;
                                case 5:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "showAsync",
                value: function showAsync() {
                    return _async_to_generator(function() {
                        var logShowed, _self_codex_analytics, error, _self_codex_analytics1;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (console.debug("AdInstance", "showAsync called", {
                                        type: this.type,
                                        status: this.status,
                                        service: this.service$
                                    }), this.status !== Status.FILLED) throw new AdError2("AD_NOT_FILLED", "Ad is not filled.");
                                    if (null === this.instance$) throw new AdError2("AD_INSTANCE_NOT_INITIATED", "Ad instance didn't initiated.");
                                    logShowed = !1, _state.label = 1;
                                case 1:
                                    return _state.trys.push([
                                        1,
                                        3,
                                        4,
                                        5
                                    ]), this.setStatus(Status.SHOWING), null == (_self_codex_analytics = self.codex.analytics) || _self_codex_analytics.showingAd({
                                        type: this.type,
                                        service: this.service$
                                    }), [
                                        4,
                                        this.instance$.showAsync()
                                    ];
                                case 2:
                                    return _state.sent(), logShowed = !0, this.setInstance(null), console.debug("AdInstance", "showAsync success", {
                                        type: this.type,
                                        status: this.status,
                                        service: this.service$
                                    }), [
                                        3,
                                        5
                                    ];
                                case 3:
                                    throw error = _state.sent(), console.warn("AdInstance", "showAsync failed", {
                                        type: this.type,
                                        status: this.status,
                                        service: this.service$,
                                        error: error
                                    }), O30.hasOwn(error, "code") && ("AD_NOT_LOADED" === error.code && this.setStatus(Status.IDLE), [
                                        "INVALID_PARAM",
                                        "INVALID_OPERATION",
                                        "USER_INPUT"
                                    ].indexOf("".concat(error.code)) > -1 && this.setInstance(null), "USER_INPUT" === error.code && (logShowed = !0)), this.status === Status.SHOWING && this.setInstance(null), error;
                                case 4:
                                    return logShowed ? this.logAdShown$() : null == (_self_codex_analytics1 = self.codex.analytics) || _self_codex_analytics1.showAdFail({
                                        type: this.type,
                                        service: this.service$
                                    }), [
                                        7
                                    ];
                                case 5:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "createInstanceByType$",
                value: function createInstanceByType$(type) {
                    return _async_to_generator(function() {
                        var error;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), [
                                        4,
                                        this.getAdInstanceByType$(type)
                                    ];
                                case 1:
                                    return [
                                        2,
                                        _state.sent()
                                    ];
                                case 2:
                                    if (error = _state.sent(), !O30.hasOwn(error, "code")) return [
                                        2,
                                        null
                                    ];
                                    if ("ADS_TOO_MANY_INSTANCES" === error.code) return [
                                        2,
                                        this.getAdInstanceFailed$()
                                    ];
                                    return [
                                        2,
                                        null
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getAdInstanceByType$",
                value: function getAdInstanceByType$(type) {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(type){
                                case Types2.REWARDED_VIDEO:
                                    return [
                                        2,
                                        GameSDK.getRewardedVideoAsync(this.placementId)
                                    ];
                                case Types2.INTERSTITIAL:
                                    return [
                                        2,
                                        GameSDK.getInterstitialAdAsync(this.placementId)
                                    ];
                                case Types2.REWARDED_INTERSTITIAL:
                                    return [
                                        2,
                                        GameSDK.getRewardedInterstitialAsync(this.placementId)
                                    ];
                                default:
                                    return [
                                        2,
                                        null
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getAdInstanceFailed$",
                value: function getAdInstanceFailed$() {
                    if (!("canLoadAd" in GameSDK.extra)) return this.instanceQueue$.shift() || null;
                    var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = this.instanceQueue$[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                            var instance = _step.value;
                            if (GameSDK.extra.canLoadAd(instance)) return this.instanceQueue$.splice(this.instanceQueue$.indexOf(instance), 1), instance;
                        }
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                    return null;
                }
            },
            {
                key: "logAdLoad$",
                value: function logAdLoad$() {
                    var _self_codex_analytics, _self_codex_analytics1, _self_codex_analytics2;
                    switch(this.type){
                        case Types2.INTERSTITIAL:
                            null == (_self_codex_analytics = self.codex.analytics) || _self_codex_analytics.loadInterstitialAd({
                                service: this.service$
                            });
                            break;
                        case Types2.REWARDED_VIDEO:
                            null == (_self_codex_analytics1 = self.codex.analytics) || _self_codex_analytics1.loadRewardedVideoAd({
                                service: this.service$
                            });
                            break;
                        case Types2.REWARDED_INTERSTITIAL:
                            null == (_self_codex_analytics2 = self.codex.analytics) || _self_codex_analytics2.loadRewardedInterstitialAd({
                                service: this.service$
                            });
                    }
                }
            },
            {
                key: "logAdShown$",
                value: function logAdShown$() {
                    var _self_codex_analytics, _self_codex_analytics1, _self_codex_analytics2;
                    switch(this.type){
                        case Types2.INTERSTITIAL:
                            null == (_self_codex_analytics = self.codex.analytics) || _self_codex_analytics.showInterstitialAd({
                                service: this.service$
                            });
                            break;
                        case Types2.REWARDED_VIDEO:
                            null == (_self_codex_analytics1 = self.codex.analytics) || _self_codex_analytics1.showRewardedVideoAd({
                                service: this.service$
                            });
                            break;
                        case Types2.REWARDED_INTERSTITIAL:
                            null == (_self_codex_analytics2 = self.codex.analytics) || _self_codex_analytics2.showRewardedInterstitialAd({
                                service: this.service$
                            });
                    }
                }
            },
            {
                key: "pushInstanceToQueue$",
                value: function pushInstanceToQueue$(instance) {
                    this.instanceQueue$.push(instance);
                }
            }
        ]), _NormalAdInstance;
    }(AdInstance3);
    __name(_NormalAdInstance, "NormalAdInstance");
    var NormalAdInstance = _NormalAdInstance, NormalAdInstance_default = NormalAdInstance;
    init_empty_script(), init_empty_script(), init_empty_script(), init_empty_script(), init_empty_script(), init_define_GAME_CONFIG(), init_define_GAME_SDK_CONFIG(), init_console(), init_track_events(), init_track_errors(), init_GameSDK2(), init_progress(), init_init_core(), init_navigator(), init_performance(), init_browser(), init_init(), init_google_analytics(), init_youtube();
    var _Ludex_Plugins_Analytics = Ludex.Plugins.Analytics, BaseAnalytics2 = _Ludex_Plugins_Analytics.BaseAnalytics, Events8 = _Ludex_Plugins_Analytics.Events, excludeEvents = [
        Events8.SCREEN_OPEN
    ], _Ludex_Utils49 = Ludex.Utils, A9 = _Ludex_Utils49.Array, _GoogleAnalytics = function(BaseAnalytics2) {
        function _GoogleAnalytics(ld, options) {
            return _class_call_check(this, _GoogleAnalytics), _call_super(this, _GoogleAnalytics, [
                ld,
                "GoogleAnalytics",
                __spreadProps(__spreadValues({}, options), {
                    color: "#E35335"
                })
            ]);
        }
        return _inherits(_GoogleAnalytics, BaseAnalytics2), _create_class(_GoogleAnalytics, [
            {
                key: "processEvent$",
                value: function processEvent$(event, payload) {
                    A9.has(excludeEvents, event) || (this.customEvent$(event, payload), gtag("event", event, payload));
                }
            },
            {
                key: "customEvent$",
                value: function customEvent$(event, payload) {
                    switch(event){
                        case Events8.AD_LOAD:
                        case Events8.AD_LOAD_FAILED:
                        case Events8.AD_SHOW:
                        case Events8.AD_SHOW_FAILED:
                        case Events8.AD_SHOWING:
                        case Events8.USE_ITEM:
                        case Events8.EARN_ITEM:
                            this.addLevelName$(payload);
                    }
                }
            },
            {
                key: "addLevelName$",
                value: function addLevelName$(payload) {
                    if (payload && (null == (_this_codex = this.codex) ? void 0 : _this_codex.match)) {
                        var _this_codex, level2 = this.codex.match.getMatchState().customData.level;
                        level2 && !(level2 < 0) && (payload.level_name = this.getLevelName(level2));
                    }
                }
            }
        ]), _GoogleAnalytics;
    }(BaseAnalytics2);
    __name(_GoogleAnalytics, "GoogleAnalytics");
    var GoogleAnalytics = _GoogleAnalytics, GoogleAnalytics_default = GoogleAnalytics;
    init_empty_script(), init_empty_script(), init_empty_script(), init_empty_script(), init_accessBlocker();
    var NODE_ENV = "development", BUILD_VERSION = 5, Dtos15 = Ludex.Dtos, Events9 = Ludex.Events, _Ludex_Configs11 = Ludex.Configs, AppId5 = _Ludex_Configs11.AppId, Ads = _Ludex_Configs11.Ads, Context4 = _Ludex_Configs11.Context, Debugger = _Ludex_Configs11.Debugger, Firebase = _Ludex_Configs11.Firebase, Analytics3 = _Ludex_Configs11.Analytics, Notification = _Ludex_Configs11.Notification, RemoteConfig = _Ludex_Configs11.RemoteConfig, PerformanceMonitor = _Ludex_Configs11.PerformanceMonitor, AdaptivePerformance = _Ludex_Configs11.AdaptivePerformance, Plugins2 = Ludex.Plugins, _Ludex_Utils50 = Ludex.Utils, D2 = _Ludex_Utils50.Device, O31 = _Ludex_Utils50.Object, J5 = _Ludex_Utils50.Json, S8 = _Ludex_Utils50.String, V36 = _Ludex_Utils50.Valid, T2 = _Ludex_Utils50.Time, F6 = _Ludex_Utils50.Function, Mark2 = _Ludex_Utils50.Mark, _MagicCodex = function(codex_default) {
        function _MagicCodex() {
            var _this, _this1;
            return _class_call_check(this, _MagicCodex), _this = _call_super(this, _MagicCodex, arguments), _this1 = _this, _define_property(_this, "markName$", "Core Initialize"), _define_property(_this, "modulePlugins$", []), _define_property(_this, "processContextSession$", __name(function() {
                return _async_to_generator(function() {
                    var _this_mark, _this_context, _this_context1, _this_context2, _this_mark1, contextSessionType, error, _this_monitorError;
                    return _ts_generator(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                if (!Context4.Enabled) return [
                                    2
                                ];
                                _state.label = 1;
                            case 1:
                                return _state.trys.push([
                                    1,
                                    3,
                                    ,
                                    4
                                ]), null == (_this_mark = _this1.mark) || _this_mark.putAttr(_this1.markName$, "Step", "Process Context Payload"), [
                                    4,
                                    null == (_this_context = _this1.context) ? void 0 : _this_context.detectContextSessionType()
                                ];
                            case 2:
                                return _state.sent(), null == (_this_context1 = _this1.context) || _this_context1.detectContextGameMode(), contextSessionType = null == (_this_context2 = _this1.context) ? void 0 : _this_context2.getSessionContextType(), null == (_this_mark1 = _this1.mark) || _this_mark1.putAttr(_this1.markName$, "Context Mode", null != contextSessionType ? contextSessionType : "unknown"), console.debug("Ludex start completed", contextSessionType), [
                                    3,
                                    4
                                ];
                            case 3:
                                return console.warn("Error processing context session:", error = _state.sent()), null == (_this_monitorError = _this1.monitorError) || _this_monitorError.sendException(F6.toError(error)), [
                                    3,
                                    4
                                ];
                            case 4:
                                return [
                                    2
                                ];
                        }
                    });
                })();
            }, "processContextSession$")), _define_property(_this, "addDevPlugins$", __name(function() {
                var _this_player, ListPlayerDevIds = Debugger.ListPlayerDevIds, playerId2 = null == (_this_player = _this.player) ? void 0 : _this_player.getPlayerId();
                "development" !== NODE_ENV && playerId2 && 0 > ListPlayerDevIds.indexOf(playerId2) ? console.warn("PlayerId is not in the list of dev IDs", playerId2) : (_this.addConsolePlugin$(), _this.addProfilerPlugin$());
            }, "addDevPlugins$")), _define_property(_this, "handleProtectGameInstance$", __name(function() {
                _this.event.getEventEmitCount(CoreEvents_default.MODULE_PLUGIN_READY) < _this.modulePlugins$.length || (window.codex = Object.freeze(window.codex), console.warn("window.codex", window.codex), accessBlocker_default(window, "codex"));
            }, "handleProtectGameInstance$")), _define_property(_this, "initCanvasRecorderPlugin$", __name(function() {
                if (_this.canvasRecorder) {
                    var CanvasRecorder = Debugger.CanvasRecorder, _CanvasRecorder_Options = CanvasRecorder.Options, Type = _CanvasRecorder_Options.Type, Quality = _CanvasRecorder_Options.Quality, RecordFps = _CanvasRecorder_Options.RecordFps, SyncFps = _CanvasRecorder_Options.SyncFps;
                    _this.canvasRecorder.configure({
                        type: Type,
                        quality: Quality,
                        syncFps: SyncFps,
                        recordFps: RecordFps
                    }), _this.canvasRecorder.setPanelExpanded(CanvasRecorder.PanelExpanded);
                }
            }, "initCanvasRecorderPlugin$")), _define_property(_this, "initMonitorErrorPlugin$", __name(function() {
                if (_this.monitorError) {
                    var _ref, _this_player, _window_disableSimpleTrackErrors, _window, MonitorError = Debugger.MonitorError, ListPlayerDevIds = Debugger.ListPlayerDevIds, ApiKey = MonitorError.ApiKey, Service = MonitorError.Service, TrackUser = MonitorError.TrackUser, FilterErrors = MonitorError.FilterErrors, _ref1 = null != (_ref = null == (_this_player = _this.player) ? void 0 : _this_player.getPlayer()) ? _ref : {}, playerId2 = _ref1.playerId, name2 = _ref1.name;
                    playerId2 && "0000" !== playerId2 && ListPlayerDevIds.indexOf(playerId2) >= 0 || (null == (_window_disableSimpleTrackErrors = (_window = window).disableSimpleTrackErrors) || _window_disableSimpleTrackErrors.call(_window), _this.monitorError.configure({
                        apiKey: ApiKey,
                        service: Service,
                        trackUser: TrackUser,
                        releaseStage: NODE_ENV,
                        buildVersion: "".concat(null != BUILD_VERSION ? BUILD_VERSION : 1)
                    }), _this.monitorError.setUser({
                        id: null != playerId2 ? playerId2 : null,
                        name: null != name2 ? name2 : null
                    }), _this.monitorError.addFilterErrors(FilterErrors), _this.updateMonitorErrorUserAndMetadata$(), _this.processErrorsQueue$());
                }
            }, "initMonitorErrorPlugin$")), _define_property(_this, "updateMonitorErrorUserAndMetadata$", __name(function() {
                _this.event.catchUp(Events9.PLAYER_INFO_LOADED, _this.processWhenPlayerInfoLoaded$);
            }, "updateMonitorErrorUserAndMetadata$")), _define_property(_this, "processErrorsQueue$", __name(function() {
                if (_this.monitorError && Array.isArray(window.__errorQueue)) {
                    var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = window.__errorQueue[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                            var error = _step.value;
                            if (_instanceof(error, Error)) _this.monitorError.sendException(error);
                            else {
                                var errorObj = F6.toError(error);
                                _this.monitorError.sendException(errorObj);
                            }
                        }
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                    window.__errorQueue = null;
                }
            }, "processErrorsQueue$")), _define_property(_this, "processWhenPlayerInfoLoaded$", __name(function() {
                if (_this.player && _this.monitorError) {
                    var _this_player_getPlayer = _this.player.getPlayer(), playerId2 = _this_player_getPlayer.playerId, name2 = _this_player_getPlayer.name;
                    _this.monitorError.setUser({
                        id: playerId2,
                        name: name2
                    }), _this.monitorError.addMetadata({
                        isFirstSession: _this.player.isFirstSession()
                    });
                }
            }, "processWhenPlayerInfoLoaded$")), _define_property(_this, "handleSaveRemoteConfig$", __name(function(data) {
                try {
                    var _this_player, config = _define_property({}, data.type, data);
                    null == (_this_player = _this.player) || _this_player.setPlayerDataByName("remoteConfig", config);
                } catch (error) {
                    console.warn("handleSaveLudexConfig", error);
                }
            }, "handleSaveRemoteConfig$")), _define_property(_this, "handleUpdateLudexConfig$", __name(function(data) {
                try {
                    var _this_ads, id = data.id, type = data.type;
                    if ("Ludex" !== type) return;
                    Ludex.Configs = O31.merge(Ludex.Configs, data.config);
                    var Ads2 = Ludex.Configs.Ads;
                    null == (_this_ads = _this.ads) || _this_ads.configure(Ads2), _this.event.emit(CoreEvents_default.REMOTE_CONFIG_UPDATED, {
                        id: id,
                        type: type
                    });
                } catch (error) {
                    console.warn("handleUpdateLudexConfig", error);
                }
            }, "handleUpdateLudexConfig$")), _define_property(_this, "handleStorageCurrentRemoteConfig$", __name(function() {
                if (_this.player && _this.remoteConfig) {
                    var playerRemoteConfig = _this.player.getPlayerDataByKey("remoteConfig");
                    if (console.debug("playerRemoteConfig", J5.clone(playerRemoteConfig)), playerRemoteConfig) {
                        for(var key in playerRemoteConfig)if (O31.hasOwn(playerRemoteConfig, key)) {
                            var remoteConfig = playerRemoteConfig[key], newRemoteConfig = J5.clone(remoteConfig);
                            console.log("newRemoteConfig", newRemoteConfig);
                            var remoteConfigValid = new Dtos15.RemoteConfig.Data(newRemoteConfig).toObject();
                            console.debug("remoteConfigValid", remoteConfigValid), _this.remoteConfig.setRemoteConfig(remoteConfigValid), _this.remoteConfig.processUpdateConfig(remoteConfigValid.id, remoteConfigValid.type);
                        }
                    }
                }
            }, "handleStorageCurrentRemoteConfig$")), _define_property(_this, "initAdaptivePerformancePlugin$", __name(function() {
                if (_this.adaptivePerformance) {
                    var config = J5.clone(AdaptivePerformance);
                    _this.adaptivePerformance.configure(config);
                }
            }, "initAdaptivePerformancePlugin$")), _define_property(_this, "initInputRecorderPlugin$", __name(function() {
                if (_this.inputRecorder) {
                    var InputRecorder = Debugger.InputRecorder, config = J5.clone(InputRecorder);
                    if (!config) return void console.warn("Input Recorder is not configured");
                    _this.inputRecorder.configure(config);
                }
            }, "initInputRecorderPlugin$")), _define_property(_this, "processAfterSyncProfile$", __name(function() {
                Notification.Enabled && _this.updatePlayerProfileToNotificationService$();
            }, "processAfterSyncProfile$")), _this;
        }
        return _inherits(_MagicCodex, codex_default), _create_class(_MagicCodex, [
            {
                key: "getBuildVersion",
                value: function getBuildVersion() {
                    return parseInt(BUILD_VERSION, 10) || 0;
                }
            },
            {
                key: "boot",
                value: function boot() {
                    var _this = this, _this1 = this, _superprop_get_boot = function _superprop_get_boot() {
                        return _get(_get_prototype_of(_MagicCodex.prototype), "boot", _this);
                    };
                    return _async_to_generator(function() {
                        var _this_mark, _this_mark1, _this_mark2, _this_mark3;
                        return _ts_generator(this, function(_state) {
                            return console.groupEnd(), console.groupCollapsed("\uD83E\uDDEC Ludex Boot"), _superprop_get_boot().call(_this1), this.addPlugins$(), this.initEventPlugin$(), this.event.emit(Events9.CORE_BOOTING), this.validateCoreFlow$(), this.initFirebasePlugin$(), this.initMarkCoreInitialize$(), Analytics3.Enabled && (null == (_this_mark3 = this.mark) || _this_mark3.putAttr(this.markName$, "Step", "Init Analytics"), this.initGoogleAnalytics$(), this.initClarityAnalytics$(), this.initFirebaseAnalytics$(), this.initYandexAnalytics$(), this.initXiaomiAnalytics$(), this.initFacebookAnalytics$(), this.initPlayableAnalytics$(), this.initTranssionH5Analytics$()), null == (_this_mark = this.mark) || _this_mark.putAttr(this.markName$, "Step", "Init Plugins"), this.initAds$(), this.initMatchPlugin$(), this.initRemoteConfig$(), null == (_this_mark1 = this.mark) || _this_mark1.putAttr(this.markName$, "Step", "Load Lazy Plugins"), V36.isDebugger() || this.event.on(Events9.MODULE_PLUGIN_READY, this.handleProtectGameInstance$), this.addMonitorPlugin$().then(this.initMonitorErrorPlugin$), this.addCanvasRecorderPlugin$().then(this.initCanvasRecorderPlugin$), this.addAdaptivePerformancePlugin$().then(this.initAdaptivePerformancePlugin$), this.addInputRecorderPlugin$().then(this.initInputRecorderPlugin$), null == (_this_mark2 = this.mark) || _this_mark2.putAttr(this.markName$, "Step", "Load Dev Plugins"), this.event.catchUp(Events9.GAME_SDK_READY, this.addDevPlugins$), console.groupEnd(), [
                                2
                            ];
                        });
                    }).call(this);
                }
            },
            {
                key: "validateCoreFlow$",
                value: function validateCoreFlow$() {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return [
                                        4,
                                        T2.sleepAsync(5e3)
                                    ];
                                case 1:
                                    return _state.sent(), 0 === this.event.getEventListeners(Events9.CORE_BOOTING).length && (console.groupEnd(), console.groupEnd(), console.log("%c Your game is not listening CORE_BOOTING event!!", "color: #f17f4a; font-size: 14px; font-weight: bold;"), console.log("%c Or init flow is slower!", "color: #26a0f0; font-weight: bold;")), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "start",
                value: function start() {
                    var _this = this, _this1 = this, _superprop_get_start = function _superprop_get_start() {
                        return _get(_get_prototype_of(_MagicCodex.prototype), "start", _this);
                    };
                    return _async_to_generator(function() {
                        var _this_mark, _this_mark1, _this_auth, _this_mark2, _this_mark3, _this_mark4, _this_mark5, _this_mark6;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return console.groupEnd(), console.groupCollapsed("\uD83E\uDDEC Ludex Start"), _superprop_get_start().call(_this1), null == (_this_mark = this.mark) || _this_mark.putAttr(this.markName$, "Step", "Core Start"), this.event.emit(Events9.CORE_STARTING), null == (_this_mark1 = this.mark) || _this_mark1.putAttr(this.markName$, "Step", "Request Token"), [
                                        4,
                                        null == (_this_auth = this.auth) ? void 0 : _this_auth.requestToken()
                                    ];
                                case 1:
                                    return _state.sent(), null == (_this_mark2 = this.mark) || _this_mark2.putAttr(this.markName$, "Step", "Init States"), [
                                        4,
                                        this.initState$()
                                    ];
                                case 2:
                                    if (_state.sent(), null == (_this_mark3 = this.mark) || _this_mark3.putAttr(this.markName$, "Step", "Process Player Profile"), this.processPlayerProfile$(), !(GameSDK.isGameSDK("FacebookInstant") && D2.isIOS())) return [
                                        3,
                                        3
                                    ];
                                    return this.event.catchUp(Events9.GAME_SDK_STARTED, this.processContextSession$), [
                                        3,
                                        5
                                    ];
                                case 3:
                                    return [
                                        4,
                                        this.processContextSession$()
                                    ];
                                case 4:
                                    _state.sent(), _state.label = 5;
                                case 5:
                                    return null == (_this_mark4 = this.mark) || _this_mark4.putAttr(this.markName$, "Step", "Core Ready"), null == (_this_mark5 = this.mark) || _this_mark5.putAttr(this.markName$, "Success", "true"), this.event.emit(Events9.CORE_READY), null == (_this_mark6 = this.mark) || _this_mark6.stop(this.markName$), [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "addPlugins$",
                value: function addPlugins$() {
                    this.installPlugin$("Storage", storage_default), this.installPlugin$("Event", event_default), this.installPlugin$("Ads", ads_default), this.installPlugin$("Auth", auth_default), this.installPlugin$("Audio", audio_default), this.installPlugin$("Match", match_default), this.installPlugin$("Player", player_default), this.installPlugin$("Profile", profile_default), this.installPlugin$("Context", context_default2), this.installPlugin$("Language", language_default), this.installPlugin$("Missions", empty_script_default), this.installPlugin$("Analytics", analytics_default), this.installPlugin$("Visibility", empty_script_default), this.installPlugin$("Leaderboard", leaderboards_default), this.installPlugin$("DailyRewards", empty_script_default), this.installPlugin$("FrameCapture", frame_capture_default), this.installPlugin$("RemoteConfig", empty_script_default), "Proxy" in window && this.installPlugin$("Firebase", empty_script_default);
                }
            },
            {
                key: "installPlugin$",
                value: function installPlugin$(name2, plugin) {
                    var isModule = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], property = S8.toCamelCase(S8.capitalize(name2));
                    this.plugins.install(name2, plugin, !0, property) && "Storage" !== name2 && (isModule ? this.emitModulePluginReady$(name2) : this.emitCorePluginReady$(name2));
                }
            },
            {
                key: "addMonitorPlugin$",
                value: function addMonitorPlugin$() {
                    return _async_to_generator(function() {
                        var MonitorErrorPlugin;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), !Debugger.MonitorError.Enabled) return [
                                        2
                                    ];
                                    return this.modulePlugins$.push("MonitorError"), [
                                        4,
                                        Promise.resolve().then(function() {
                                            return init_empty_script(), empty_script_exports;
                                        })
                                    ];
                                case 1:
                                    if ("function" != typeof (MonitorErrorPlugin = _state.sent().default)) return [
                                        2
                                    ];
                                    return this.installPlugin$("MonitorError", MonitorErrorPlugin, !0), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return console.error("Error importing Monitor Error plugin:", _state.sent()), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "addCanvasRecorderPlugin$",
                value: function addCanvasRecorderPlugin$() {
                    return _async_to_generator(function() {
                        var CanvasRecorderPlugin;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), !Debugger.CanvasRecorder.Enabled) return [
                                        2
                                    ];
                                    return this.modulePlugins$.push("CanvasRecorder"), [
                                        4,
                                        Promise.resolve().then(function() {
                                            return init_empty_script(), empty_script_exports;
                                        })
                                    ];
                                case 1:
                                    if ("function" != typeof (CanvasRecorderPlugin = _state.sent().default)) throw Error("CanvasRecorderPlugin is not a function");
                                    return this.installPlugin$("CanvasRecorder", CanvasRecorderPlugin, !0), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return console.error("Error importing Canvas Recorder plugin:", _state.sent()), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "addAdaptivePerformancePlugin$",
                value: function addAdaptivePerformancePlugin$() {
                    return _async_to_generator(function() {
                        var AdaptivePerformancePlugin;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), !AdaptivePerformance.Enabled) return [
                                        2
                                    ];
                                    return this.modulePlugins$.push("AdaptivePerformance"), [
                                        4,
                                        Promise.resolve().then(function() {
                                            return init_empty_script(), empty_script_exports;
                                        })
                                    ];
                                case 1:
                                    if ("function" != typeof (AdaptivePerformancePlugin = _state.sent().default)) return [
                                        2
                                    ];
                                    return this.installPlugin$("AdaptivePerformance", AdaptivePerformancePlugin, !0), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return console.error("Error importing Adaptive Performance plugin:", _state.sent()), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "addInputRecorderPlugin$",
                value: function addInputRecorderPlugin$() {
                    return _async_to_generator(function() {
                        var InputRecorderPlugin;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), !Debugger.InputRecorder.Enabled) return [
                                        2
                                    ];
                                    return this.modulePlugins$.push("InputRecorder"), [
                                        4,
                                        Promise.resolve().then(function() {
                                            return init_empty_script(), empty_script_exports;
                                        })
                                    ];
                                case 1:
                                    if ("function" != typeof (InputRecorderPlugin = _state.sent().default)) return [
                                        2
                                    ];
                                    return this.installPlugin$("InputRecorder", InputRecorderPlugin, !0), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return console.error("Error importing Input Recorder plugin:", _state.sent()), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "addConsolePlugin$",
                value: function addConsolePlugin$() {
                    return _async_to_generator(function() {
                        var Console, ConsolePlugin;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), !(Console = Debugger.Console).Enabled || !Console.UseInGameConsole) return [
                                        2
                                    ];
                                    return this.modulePlugins$.push("Console"), [
                                        4,
                                        Promise.resolve().then(function() {
                                            return init_empty_script(), empty_script_exports;
                                        })
                                    ];
                                case 1:
                                    if ("function" != typeof (ConsolePlugin = _state.sent().default)) throw Error("ConsolePlugin is not a function");
                                    return this.installPlugin$("Console", ConsolePlugin, !0), this.initConsolePlugin$(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return console.error("Error importing Console plugin:", _state.sent()), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "addProfilerPlugin$",
                value: function addProfilerPlugin$() {
                    return _async_to_generator(function() {
                        var ProfilerPlugin;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), !Debugger.Profiler.Enabled) return [
                                        2
                                    ];
                                    return this.modulePlugins$.push("Profiler"), [
                                        4,
                                        Promise.resolve().then(function() {
                                            return init_empty_script(), empty_script_exports;
                                        })
                                    ];
                                case 1:
                                    if ("function" != typeof (ProfilerPlugin = _state.sent().default)) throw Error("ProfilerPlugin is not a function");
                                    return this.installPlugin$("Profiler", ProfilerPlugin, !0), this.initProfilerPlugin$(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return console.error("Error importing Profiler plugin:", _state.sent()), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "emitCorePluginReady$",
                value: function emitCorePluginReady$(name2) {
                    this.event.emit(CoreEvents_default.CORE_PLUGIN_READY, {
                        name: name2
                    });
                }
            },
            {
                key: "emitModulePluginReady$",
                value: function emitModulePluginReady$(name2) {
                    this.event.emit(CoreEvents_default.MODULE_PLUGIN_READY, {
                        name: name2
                    });
                }
            },
            {
                key: "initEventPlugin$",
                value: function initEventPlugin$() {
                    Debugger.EventLogging.Enabled && this.event.enableLogEvent();
                }
            },
            {
                key: "initMatchPlugin$",
                value: function initMatchPlugin$() {
                    this.match && this.match.setUseCPUProfile(!1);
                }
            },
            {
                key: "initAds$",
                value: function initAds$() {
                    var _this_ads, _this_analytics;
                    Ads.Enabled && (null == (_this_ads = this.ads) || _this_ads.configure(Ads), this.initGoogleAds$(), this.initTranssionH5Ads$(), this.initAdInstance$(), null == (_this_analytics = this.analytics) || _this_analytics.initAdEvent({
                        adService: "platform",
                        state: "loaded"
                    }));
                }
            },
            {
                key: "initGoogleAds$",
                value: function initGoogleAds$() {
                    return _async_to_generator(function() {
                        var AdSense, googleAds;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), !(AdSense = Ads.AdServiceConfigs.AdSense).Enabled) return [
                                        2
                                    ];
                                    return [
                                        4,
                                        (googleAds = new empty_script_default(this)).initAsync({
                                            usePreload: AdSense.UsePreload,
                                            dataAdHost: AdSense.DataAdHost,
                                            dataAdClient: AdSense.DataAdClient,
                                            dataAdChannel: AdSense.DataAdChannel,
                                            dataAdBreakTest: AdSense.DataAdBreakTest,
                                            dataAdFrequencyHint: AdSense.DataAdFrequencyHint
                                        })
                                    ];
                                case 1:
                                    return _state.sent(), window.GoogleAds = googleAds, [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return console.warn("initGoogleAds", _state.sent()), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "initTranssionH5Ads$",
                value: function initTranssionH5Ads$() {
                    return _async_to_generator(function() {
                        var Savana, transsionH5Ads;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), !(Savana = Ads.AdServiceConfigs.Savana).Enabled) return [
                                        2
                                    ];
                                    return [
                                        4,
                                        (transsionH5Ads = new empty_script_default(this)).initAsync({
                                            usePreload: Savana.UsePreload,
                                            dataAdHost: Savana.DataAdHost,
                                            dataAdClient: Savana.DataAdClient,
                                            dataAdChannel: Savana.DataAdChannel,
                                            dataAdBreakTest: Savana.DataAdBreakTest,
                                            dataAdFrequencyHint: Savana.DataAdFrequencyHint
                                        })
                                    ];
                                case 1:
                                    return _state.sent(), window.TranssionH5Ads = transsionH5Ads, [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return console.warn("initTranssionH5Ads", _state.sent()), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "getAdInstanceByService$",
                value: function getAdInstanceByService$(service) {
                    var isBanner = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], _Ads_AdServiceConfigs = Ads.AdServiceConfigs, AdSense = _Ads_AdServiceConfigs.AdSense, AppLovin = _Ads_AdServiceConfigs.AppLovin, Savana = _Ads_AdServiceConfigs.Savana;
                    switch(service){
                        case "adsense":
                            if (AdSense.Enabled) return empty_script_default;
                            break;
                        case "applovin":
                            AppLovin.Enabled;
                            break;
                        case "savana":
                            if (Savana.Enabled) return empty_script_default;
                            break;
                        default:
                            if (isBanner) return empty_script_default;
                            return NormalAdInstance_default;
                    }
                    return null;
                }
            },
            {
                key: "initAdInstance$",
                value: function initAdInstance$() {
                    var AdsTypes = Plugins2.Ads.Types, defaultDevice = "default", _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                    try {
                        for(var _step, _iterator = Ads.InterstitialAdOptions[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0){
                            var _this_ads, option = _step.value, PlacementId = option.PlacementId, AdService = option.AdService, _option_DeviceOS = option.DeviceOS, DeviceOS = void 0 === _option_DeviceOS ? defaultDevice : _option_DeviceOS, instance = this.getAdInstanceByService$(AdService);
                            instance && (null == (_this_ads = this.ads) || _this_ads.setAdInstance(AdsTypes.INTERSTITIAL, PlacementId, instance, DeviceOS));
                        }
                    } catch (err) {
                        _didIteratorError = !0, _iteratorError = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion || null == _iterator.return || _iterator.return();
                        } finally{
                            if (_didIteratorError) throw _iteratorError;
                        }
                    }
                    var _iteratorNormalCompletion1 = !0, _didIteratorError1 = !1, _iteratorError1 = void 0;
                    try {
                        for(var _step1, _iterator1 = Ads.RewardedVideoAdOptions[Symbol.iterator](); !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = !0){
                            var _this_ads1, option1 = _step1.value, PlacementId1 = option1.PlacementId, AdService1 = option1.AdService, _option_DeviceOS1 = option1.DeviceOS, DeviceOS1 = void 0 === _option_DeviceOS1 ? defaultDevice : _option_DeviceOS1, instance1 = this.getAdInstanceByService$(AdService1);
                            instance1 && (null == (_this_ads1 = this.ads) || _this_ads1.setAdInstance(AdsTypes.REWARDED_VIDEO, PlacementId1, instance1, DeviceOS1));
                        }
                    } catch (err) {
                        _didIteratorError1 = !0, _iteratorError1 = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion1 || null == _iterator1.return || _iterator1.return();
                        } finally{
                            if (_didIteratorError1) throw _iteratorError1;
                        }
                    }
                    var _iteratorNormalCompletion2 = !0, _didIteratorError2 = !1, _iteratorError2 = void 0;
                    try {
                        for(var _step2, _iterator2 = Ads.RewardedInterstitialAdOptions[Symbol.iterator](); !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = !0){
                            var _this_ads2, option2 = _step2.value, PlacementId2 = option2.PlacementId, AdService2 = option2.AdService, _option_DeviceOS2 = option2.DeviceOS, DeviceOS2 = void 0 === _option_DeviceOS2 ? defaultDevice : _option_DeviceOS2, instance2 = this.getAdInstanceByService$(AdService2);
                            instance2 && (null == (_this_ads2 = this.ads) || _this_ads2.setAdInstance(AdsTypes.REWARDED_INTERSTITIAL, PlacementId2, instance2, DeviceOS2));
                        }
                    } catch (err) {
                        _didIteratorError2 = !0, _iteratorError2 = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion2 || null == _iterator2.return || _iterator2.return();
                        } finally{
                            if (_didIteratorError2) throw _iteratorError2;
                        }
                    }
                    var isBanner = !0, _iteratorNormalCompletion3 = !0, _didIteratorError3 = !1, _iteratorError3 = void 0;
                    try {
                        for(var _step3, _iterator3 = Ads.BannerDisplayAdOptions[Symbol.iterator](); !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = !0){
                            var _this_ads3, option3 = _step3.value, PlacementId3 = option3.PlacementId, AdService3 = option3.AdService, _option_DeviceOS3 = option3.DeviceOS, DeviceOS3 = void 0 === _option_DeviceOS3 ? defaultDevice : _option_DeviceOS3, instance3 = this.getAdInstanceByService$(AdService3, isBanner);
                            instance3 && (null == (_this_ads3 = this.ads) || _this_ads3.setAdInstance(AdsTypes.BANNER, PlacementId3, instance3, DeviceOS3));
                        }
                    } catch (err) {
                        _didIteratorError3 = !0, _iteratorError3 = err;
                    } finally{
                        try {
                            _iteratorNormalCompletion3 || null == _iterator3.return || _iterator3.return();
                        } finally{
                            if (_didIteratorError3) throw _iteratorError3;
                        }
                    }
                }
            },
            {
                key: "initState$",
                value: function initState$() {
                    return _async_to_generator(function() {
                        var initiator;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    return _state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), (initiator = new StateInitiator_default(this)).initContext(), [
                                        4,
                                        initiator.initPlayer()
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return console.error("StateInitiator", _state.sent()), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "initConsolePlugin$",
                value: function initConsolePlugin$() {
                    this.console && this.console.configure();
                }
            },
            {
                key: "initProfilerPlugin$",
                value: function initProfilerPlugin$() {
                    this.profiler && this.profiler.configure();
                }
            },
            {
                key: "initRemoteConfig$",
                value: function initRemoteConfig$() {
                    if (this.remoteConfig) {
                        var config = J5.clone(RemoteConfig);
                        this.remoteConfig.configure(config), this.event.on(CoreEvents_default.REQUEST_SAVE_CONFIG, this.handleSaveRemoteConfig$), this.event.on(CoreEvents_default.REQUEST_UPDATE_CONFIG, this.handleUpdateLudexConfig$), this.event.catchUp(CoreEvents_default.PLAYER_INFO_LOADED, this.handleStorageCurrentRemoteConfig$);
                    }
                }
            },
            {
                key: "initFirebasePlugin$",
                value: function initFirebasePlugin$() {
                    if (Firebase.Enabled && this.firebase) {
                        var config = J5.clone(Firebase);
                        this.firebase.configure(config), Mark2.setService(this.firebase.services.performance);
                    }
                }
            },
            {
                key: "mark",
                get: function get() {
                    return PerformanceMonitor.CoreFlows ? Mark2 : null;
                }
            },
            {
                key: "initMarkCoreInitialize$",
                value: function initMarkCoreInitialize$() {
                    var mark = this.mark;
                    mark && (mark.measure(this.markName$), mark.putAttr(this.markName$, "Build", "".concat(BUILD_VERSION)), mark.putAttr(this.markName$, "GameSDK", GameSDK.getSDKName()), mark.putAttr(this.markName$, "Platform", GameSDK.getPlatform()), mark.putAttr(this.markName$, "Success", "false"), mark.start(this.markName$));
                }
            },
            {
                key: "processPlayerProfile$",
                value: function processPlayerProfile$() {
                    return _async_to_generator(function() {
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), !this.player) return [
                                        2
                                    ];
                                    return [
                                        4,
                                        this.player.syncProfileToServer()
                                    ];
                                case 1:
                                    return _state.sent(), this.processAfterSyncProfile$(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return console.warn("processPlayerProfile fail", _state.sent()), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "updatePlayerProfileToNotificationService$",
                value: function updatePlayerProfileToNotificationService$() {
                    return _async_to_generator(function() {
                        var player, ASID, playerId2, locale2, isNEZP;
                        return _ts_generator(this, function(_state) {
                            switch(_state.label){
                                case 0:
                                    if (_state.trys.push([
                                        0,
                                        2,
                                        ,
                                        3
                                    ]), !this.player) return [
                                        2
                                    ];
                                    return ASID = (player = this.player.getPlayer()).ASID, playerId2 = player.playerId, locale2 = player.locale, isNEZP = !1, "isNEZP" in GameSDK.extra && (isNEZP = GameSDK.extra.isNEZP()), !isNEZP && "isRestricted" in GameSDK.extra && (isNEZP = GameSDK.extra.isRestricted()), [
                                        4,
                                        updatePlayerProfileNotificationAsync({
                                            appId: AppId5,
                                            ASID: ASID,
                                            playerId: playerId2,
                                            locale: locale2,
                                            platform: GameSDK.getPlatform(),
                                            platformMode: isNEZP ? "NEZP" : "NORMAL"
                                        })
                                    ];
                                case 1:
                                    return _state.sent(), [
                                        3,
                                        3
                                    ];
                                case 2:
                                    return console.warn("updatePlayerProfileToNotificationService", _state.sent()), [
                                        3,
                                        3
                                    ];
                                case 3:
                                    return [
                                        2
                                    ];
                            }
                        });
                    }).call(this);
                }
            },
            {
                key: "initGoogleAnalytics$",
                value: function initGoogleAnalytics$() {
                    if (this.analytics) {
                        var _Analytics3_GoogleAnalytics, _ref = null != (_Analytics3_GoogleAnalytics = Analytics3.GoogleAnalytics) ? _Analytics3_GoogleAnalytics : {}, Enabled2 = _ref.Enabled, ConsoleLog = _ref.ConsoleLog;
                        if (Enabled2) {
                            if ("function" != typeof GoogleAnalytics_default || !_instanceof(GoogleAnalytics_default.prototype, Object)) return void console.warn("GoogleAnalytics is not a constructor");
                            this.analytics.add(new GoogleAnalytics_default(this.codex, {
                                log: !!ConsoleLog
                            }));
                        }
                    }
                }
            },
            {
                key: "initClarityAnalytics$",
                value: function initClarityAnalytics$() {
                    if (this.analytics) {
                        var _Analytics3_ClarityAnalytics, _ref, _ref1, _this_player, _GameSDK_extra, _ref2 = null != (_Analytics3_ClarityAnalytics = Analytics3.ClarityAnalytics) ? _Analytics3_ClarityAnalytics : {}, Enabled2 = _ref2.Enabled, ConsoleLog = _ref2.ConsoleLog;
                        if (Enabled2) {
                            if ("function" != typeof empty_script_default || !_instanceof(empty_script_default.prototype, Object)) return void console.warn("ClarityAnalytics is not a constructor");
                            var instance = new empty_script_default(this.codex, {
                                log: !!ConsoleLog
                            }), playerId2 = (null != (_ref = null == (_this_player = this.player) ? void 0 : _this_player.getPlayer()) ? _ref : {}).playerId;
                            playerId2 && instance.setUser(playerId2, null == (_ref1 = null == (_GameSDK_extra = GameSDK.extra) ? void 0 : _GameSDK_extra.isGuest) || _ref1), this.analytics.add(instance);
                        }
                    }
                }
            },
            {
                key: "initFirebaseAnalytics$",
                value: function initFirebaseAnalytics$() {
                    var _Analytics3_FirebaseAnalytics, _this = this;
                    if (this.analytics) {
                        var _ref = null != (_Analytics3_FirebaseAnalytics = Analytics3.FirebaseAnalytics) ? _Analytics3_FirebaseAnalytics : {}, Enabled2 = _ref.Enabled, ConsoleLog = _ref.ConsoleLog;
                        if (Enabled2) {
                            if ("function" != typeof empty_script_default || !_instanceof(empty_script_default.prototype, Object)) return void console.warn("FirebaseAnalytics is not a constructor");
                            var instance = new empty_script_default(this.codex, {
                                log: !!ConsoleLog
                            });
                            this.analytics.add(instance);
                            var entryPoint = "no_entry";
                            GameSDK.getEntryPointAsync().then(function(entry) {
                                entryPoint = entry;
                            }).catch(function(error) {
                                console.warn(error);
                            }).finally(function() {
                                var _ref, _this_player, _ref1 = null != (_ref = null == (_this_player = _this.player) ? void 0 : _this_player.getPlayer()) ? _ref : {}, playerId2 = _ref1.playerId, locale2 = _ref1.locale, _ref2 = GameSDK.getEntryPointData() || {}, fbig_ad_id = _ref2.fbig_ad_id, fbig_adset_id = _ref2.fbig_adset_id, fbig_campaign_id = _ref2.fbig_campaign_id, fb_instant_game_adset_id = _ref2.fb_instant_game_adset_id, fb_instant_game_ad_id = _ref2.fb_instant_game_ad_id, fb_instant_game_campaign_id = _ref2.fb_instant_game_campaign_id, ad_id = fbig_ad_id || fb_instant_game_ad_id, adset_id = fbig_adset_id || fb_instant_game_adset_id, campaign_id = fbig_campaign_id || fb_instant_game_campaign_id;
                                playerId2 && instance.setUser(playerId2, {
                                    locale: locale2,
                                    ad_id: ad_id,
                                    adset_id: adset_id,
                                    campaign_id: campaign_id,
                                    traffic_source: entryPoint
                                });
                            });
                        }
                    }
                }
            },
            {
                key: "initYandexAnalytics$",
                value: function initYandexAnalytics$() {
                    if (this.analytics && GameSDK.isGameSDK("Yandex")) {
                        if ("function" != typeof empty_script_default || !_instanceof(empty_script_default.prototype, Object)) return void console.warn("YandexAnalytics is not a constructor");
                        this.analytics.add(new empty_script_default(this.codex));
                    }
                }
            },
            {
                key: "initXiaomiAnalytics$",
                value: function initXiaomiAnalytics$() {
                    if (this.analytics && GameSDK.isGameSDK("Xiaomi")) {
                        if ("function" != typeof empty_script_default || !_instanceof(empty_script_default.prototype, Object)) return void console.warn("XiaomiAnalytics is not a constructor");
                        this.analytics.add(new empty_script_default(this.codex));
                    }
                }
            },
            {
                key: "initPlayableAnalytics$",
                value: function initPlayableAnalytics$() {
                    if (this.analytics && GameSDK.isGameSDK("Playable")) {
                        if ("function" != typeof empty_script_default || !_instanceof(empty_script_default.prototype, Object)) return void console.warn("PlayableAnalytics is not a constructor");
                        this.analytics.add(new empty_script_default(this.codex));
                    }
                }
            },
            {
                key: "initFacebookAnalytics$",
                value: function initFacebookAnalytics$() {
                    if (this.analytics) {
                        var _Analytics3_FacebookAnalytics, _ref = null != (_Analytics3_FacebookAnalytics = Analytics3.FacebookAnalytics) ? _Analytics3_FacebookAnalytics : {}, Enabled2 = _ref.Enabled, Prefix = _ref.Prefix, ConsoleLog = _ref.ConsoleLog;
                        if (Enabled2 && GameSDK.isGameSDK("FacebookInstant")) {
                            if ("string" != typeof Prefix) return void console.warn("Facebook Analytics is not configured");
                            if ("function" != typeof empty_script_default || !_instanceof(empty_script_default.prototype, Object)) return void console.warn("FacebookAnalytics is not a constructor");
                            this.analytics.add(new empty_script_default(this.codex, {
                                prefix: Prefix,
                                log: !!ConsoleLog
                            }));
                        }
                    }
                }
            },
            {
                key: "initTranssionH5Analytics$",
                value: function initTranssionH5Analytics$() {
                    if (this.analytics && GameSDK.isGameSDK("TranssionH5")) {
                        if ("function" != typeof empty_script_default || !_instanceof(empty_script_default.prototype, Object)) return void console.warn("TranssionH5Analytics is not a constructor");
                        this.analytics.add(new empty_script_default(this.codex));
                    }
                }
            }
        ]), _MagicCodex;
    }(codex_default);
    __name(_MagicCodex, "MagicCodex");
    var MagicCodex = _MagicCodex, codex_default2 = MagicCodex, _Ludex_Configs12 = Ludex.Configs, ForceDesktopDPR = _Ludex_Configs12.GameEngine.ForceDesktopDPR, _Ludex_Utils51 = Ludex.Utils, D3 = _Ludex_Utils51.Device, Events10 = Ludex.Events, initGame = __name(function() {
        return _async_to_generator(function() {
            var codex2;
            return _ts_generator(this, function(_state) {
                switch(_state.label){
                    case 0:
                        return codex2 = new codex_default2(), window.codex = codex2, "u" > ("u" < typeof globalThis ? "undefined" : _type_of1(globalThis)) && (globalThis.codex = codex2), window.__sdkLoad.ensure(1), [
                            4,
                            codex2.boot()
                        ];
                    case 1:
                        return _state.sent(), window.__sdkLoad.ensure(5), codex2.event.catchUp(Events10.REQUEST_CORE_START, startGame), [
                            2
                        ];
                }
            });
        })();
    }, "initGame"), isGameStarted = !1, startGame = __name(function() {
        if (!isGameStarted) {
            if (1 > codex.event.getEventEmitCount(Events10.GAME_SDK_READY)) return void codex.event.catchUp(Events10.GAME_SDK_READY, startGame);
            codex.start(), isGameStarted = !0, window.__sdkLoad.ensure(15);
        }
    }, "startGame");
    !1 !== ForceDesktopDPR && D3.isDesktop() && "number" == typeof ForceDesktopDPR && ForceDesktopDPR > 0 && (window.devicePixelRatio = ForceDesktopDPR), initGame();
}();
