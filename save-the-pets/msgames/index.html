<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Save The Pets</title><link rel="manifest" href="./manifest.json"><meta name="viewport" content="viewport-fit=cover,width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="format-detection" content="telephone=no"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="msapplication-tap-highlight" content="no"><meta name="full-screen" content="yes"><meta name="x5-fullscreen" content="true"><meta name="360-fullscreen" content="true"><meta name="screen-orientation" content="portrait"><meta name="browsermode" content="application"><meta name="x5-page-mode" content="app"><link rel="preconnect" href="https://fbig-singleplay-apps.citigo.site"><script>var listeners={},addEventListenerOri=window.addEventListener,perf=(window.addEventListener=function(e,n,r){listeners[e]||(listeners[e]=[]),listeners[e].push(n),addEventListenerOri(e,n,r)},window.performance);"function"==typeof perf.mark&&"function"==typeof perf.measure||(perf={mark:function(){},measure:function(){}}),(window.perf=perf).mark("load-start")</script><script>window.__errorQueue=[];function disableSimpleTrackErrors(){var r=["error","unhandledrejection"];r.forEach(function(r){if(!listeners[r]||!listeners[r][0])return;window.removeEventListener(r,listeners[r].shift())})}function errorHandler(r){if(!window.__errorQueue)return;window.__errorQueue.push(r)}function init(){window.addEventListener("error",function(r){errorHandler(r.error)});window.addEventListener("unhandledrejection",function(r){errorHandler(r.reason)})}window.onload=function(){disableSimpleTrackErrors();init()};</script><script>((e,t,n,a,c,r)=>{e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},(c=t.createElement(a)).async=1,c.src="https://www.clarity.ms/tag/oq562tpyen",(r=t.getElementsByTagName(a)[0]).parentNode.insertBefore(c,r)})(window,document,"clarity","script")</script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-EX3MNH7ENG" as="script" importance="high"><script>function gtag(){var a=arguments;"event"===a[0]&&("object"!=typeof a[2]&&(a[2]={}),a[2].build="1",a[2].send_to="GA",a[2].extend_session=1),window.dataLayer.push(a)}window.dataLayer=window.dataLayer||[]</script><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?version=4.8.0&features=es5,es6,es7,Object.entries,Object.fromEntries,Array.prototype.flatMap,Array.prototype.includes,AbortController,Intl.RelativeTimeFormat,Map,requestIdleCallback,Number.parseInt,Number.isNaN" importance="high"></script><script src="https://assets.msn.com/staticsb/statics/latest/msstart-games-sdk/msstart-v1.0.0-rc.14.min.js" importance="high"></script><script>function _array_like_to_array(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _array_without_holes(e){if(Array.isArray(e))return _array_like_to_array(e)}function _assert_this_initialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function asyncGeneratorStep(e,t,n,r,a,i,s){try{var c=e[i](s);var u=c.value}catch(e){n(e);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function _async_to_generator(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)})}}function _call_super(e,t,n){t=_get_prototype_of(t);return _possible_constructor_return(e,_is_native_reflect_construct()?Reflect.construct(t,n||[],_get_prototype_of(e).constructor):t.apply(e,n))}function _class_call_check(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _construct(){_construct=_is_native_reflect_construct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r);var i=new a;if(n)_set_prototype_of(i,n.prototype);return i};return _construct.apply(null,arguments)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function _create_class(e,t,n){if(t)_defineProperties(e.prototype,t);if(n)_defineProperties(e,n);return e}function _define_property(e,t,n){if(t in e)Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true});else e[t]=n;return e}function _get(e,t,n){_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_super_prop_base(e,t);if(!r)return;var a=Object.getOwnPropertyDescriptor(r,t);if(a.get)return a.get.call(n||e);return a.value};return _get(e,t,n||e)}function _get_prototype_of(e){_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _get_prototype_of(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)_set_prototype_of(e,t)}function _instanceof(e,t){if(null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance])return!!t[Symbol.hasInstance](e);return e instanceof t}function _is_native_function(e){return -1!==Function.toString.call(e).indexOf("[native code]")}function _iterable_to_array(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);if("function"==typeof Object.getOwnPropertySymbols)r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}));r.forEach(function(t){_define_property(e,t,n[t])})}return e}function _possible_constructor_return(e,t){if(t&&("object"===_type_of(t)||"function"==typeof t))return t;return _assert_this_initialized(e)}function _set_prototype_of(e,t){_set_prototype_of=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _set_prototype_of(e,t)}function _super_prop_base(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=_get_prototype_of(e);if(null===e)break}return e}function _to_consumable_array(e){return _array_without_holes(e)||_iterable_to_array(e)||_unsupported_iterable_to_array(e)||_non_iterable_spread()}function _type_of(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function _unsupported_iterable_to_array(e,t){if(!e)return;if("string"==typeof e)return _array_like_to_array(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(e,t)}function _wrap_native_super(e){var t="function"==typeof Map?new Map:void 0;_wrap_native_super=function(e){if(null===e||!_is_native_function(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,Wrapper)}function Wrapper(){return _construct(e,arguments,_get_prototype_of(this).constructor)}Wrapper.prototype=Object.create(e.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _set_prototype_of(Wrapper,e)};return _wrap_native_super(e)}function _is_native_reflect_construct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_is_native_reflect_construct=function(){return!!e})()}function _ts_generator(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;if(r=0,a)i=[2&i[0],a.value];switch(i[0]){case 0:case 1:a=i;break;case 4:s.label++;return{value:i[1],done:false};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1];a=i;break}if(a&&s.label<a[2]){s.label=a[2];s.ops.push(i);break}if(a[2])s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:true}}}(function(){"use strict";var e=Object.defineProperty;var Lt=function(t,n,r){return n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r};var f=function(e,t){return function(){return e&&(t=e(e=0)),t}};var b=function(t,n){for(var r in n)e(t,r,{get:n[r],enumerable:!0})};var o=function(e,t,n){return Lt(e,(void 0===t?"undefined":_type_of(t))!="symbol"?t+"":t,n)};var t,n=f(function(){t={MSGames:{UseLoginFeature:!0,ScheduleNotification:{D1:"The dogs are in danger! Draw quick and keep them safe from the bees. \uD83D\uDC1D\uD83D\uDC36",D2:"The pets need your help! Protect them from today's hazards. Can you do it? \uD83D\uDCAA\uD83D\uDC15",D3:"Buzz buzz! Bees are back. Can you outsmart them and save the dogs? \uD83D\uDC3Eâœ¨",D4:"Get ready to draw your best defenses! The dogs are counting on you. \uD83D\uDC15\uD83D\uDEA8",D5:"The danger is real! Hurry up, the bees are closing in on the pets. \uD83D\uDC1D\uD83D\uDD25",D6:"The dogs are waiting for their hero! Can you keep them safe from harm? \uD83C\uDFAE\uD83D\uDC15",D7:"Your furry friends need you now! Join the game and save the day. \uD83C\uDFC6\uD83D\uDC3E"}}}});var r=f(function(){});var a={};b(a,{default:function(){return i}});var i,s=f(function(){"use strict";n();r();i={}});var c,u,l,d,h=f(function(){"use strict";n();r();c='\n<div id="async-popup">\n    <div id="title"></div>\n    <div id="content"></div>\n    <div class="buttons">\n        <button id="ok"></button>\n        <button id="no"></button>\n    </div>\n</div>',u="\n#async-popup {\n    width: 100%;\n    height: 100%;\n    color: #fff;\n    display: flex;\n    position: absolute;\n    flex-direction: column;\n    justify-content: space-evenly;\n    background: #202020;\n    font-family: sans-serif;\n    border-radius: 20px;\n    align-items: center;\n    padding: 20px\n}\n\n#async-popup #title {\n    font-size: 2rem;\n    font-weight: bold;\n    margin-bottom: 1rem;\n}\n\n#async-popup #content {\n    display: flex;\n    text-align: center;\n    text-wrap: balance;\n    font-size: large;\n}\n\n#async-popup .buttons {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-evenly;\n}\n\n#async-popup .buttons button {\n    margin: 0.5rem;\n    padding: 0.5rem 1rem;\n    font-size: 1.5rem;\n    font-weight: bold;\n    border-radius: 0.5rem;\n    border: none;\n    cursor: pointer;\n}",l=/*#__PURE__*/function(){function B(){var e=this;_class_call_check(this,B);o(this,"popup");o(this,"title");o(this,"content");o(this,"okButton");o(this,"noButton");o(this,"okCallback");o(this,"noCallback");o(this,"onYes",function(t){e.okButton.removeEventListener("click",e.okCallback),e.okCallback=e.handleCallback(t),e.okButton.addEventListener("click",e.okCallback,{once:!0})});o(this,"onNo",function(t){e.noButton.removeEventListener("click",e.noCallback),e.noCallback=e.handleCallback(t),e.noButton.addEventListener("click",e.noCallback,{once:!0})});o(this,"handleCallback",function(t){return function(n){n.stopImmediatePropagation(),e.hide(),t()}});this.createPopupElement(),this.addPopupElementStyle();var t=new MutationObserver(function(){document.getElementById("GameDiv")&&e.setupPopupElementSizeAndPosition()}),n={attributes:!0,childList:!0,subtree:!0},r=document.body;t.observe(r,n)}_create_class(B,[{key:"createPopupElement",value:function(){var e=document.createElement("div");e.id=this.constructor.name,e.innerHTML=c,e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.backgroundColor="#0000001f",document.body.appendChild(e),this.popup=e,this.popup.style.display="none",this.title=e.querySelector("#title"),this.content=e.querySelector("#content"),this.okButton=e.querySelector("#ok"),this.noButton=e.querySelector("#no")}},{key:"addPopupElementStyle",value:function(){var e=document.createElement("style");(document.head||document.getElementsByTagName("head")[0]).appendChild(e),e.appendChild(document.createTextNode(u))}},{key:"setupPopupElementSizeAndPosition",value:function(){var e=document.getElementById(this.constructor.name);if(!e)return;var t=e.querySelector("#async-popup");if(!t||!document.getElementById("GameDiv"))return;var n=350,r=250,a=t;a.style.width="".concat(n,"px"),a.style.height="".concat(r,"px");var i=document.body.getBoundingClientRect(),s=i.width,c=i.height;a.style.left="".concat((s-n)/2,"px"),a.style.top="".concat((c-r)/2,"px")}},{key:"show",value:function(e){this.content.textContent="".concat(e),this.popup.style.display="flex"}},{key:"hide",value:function(){this.popup.style.display="none"}}]);return B}(),d=l});var p={};b(p,{default:function(){return w}});var v,w,I=f(function(){"use strict";n();r();h();v=/*#__PURE__*/function(e){_inherits(K,e);function K(){_class_call_check(this,K);return _call_super(this,K,arguments)}_create_class(K,[{key:"show",value:function(e){this.title.textContent="Switch Context",this.okButton.textContent="Switch",this.noButton.textContent="Cancel",_get(_get_prototype_of(K.prototype),"show",this).call(this,"Do you want to switch context?\nContext ID: ".concat(e))}}]);return K}(d),w=v});var P={};b(P,{default:function(){return x}});var k,x,A=f(function(){"use strict";n();r();h();k=/*#__PURE__*/function(e){_inherits(_,e);function _(){_class_call_check(this,_);return _call_super(this,_,arguments)}_create_class(_,[{key:"show",value:function(){this.title.textContent="Choose Contexts",this.okButton.textContent="Choose",this.noButton.textContent="Cancel",_get(_get_prototype_of(_.prototype),"show",this).call(this,"Do you want to switch context?\n            This will choose random a friend or tournament to play with.")}}]);return _}(d),x=k});var C={};b(C,{default:function(){return T}});var D,T,E=f(function(){"use strict";n();r();h();D=/*#__PURE__*/function(e){_inherits(U,e);function U(){_class_call_check(this,U);return _call_super(this,U,arguments)}_create_class(U,[{key:"show",value:function(e){this.title.textContent="Create Context",this.okButton.textContent="Create",this.noButton.textContent="Cancel",_get(_get_prototype_of(U.prototype),"show",this).call(this,"Do you want to create context?\nPlayer ID: ".concat(e))}}]);return U}(d),T=D});var O={};b(O,{default:function(){return M}});var G,N,M,q=f(function(){"use strict";n();r();G="MockConnectedPlayers",N=/*#__PURE__*/function(){function H(e){_class_call_check(this,H);o(this,"extra");this.extra=e}_create_class(H,[{key:"getConnectedPlayersAsync",value:function(){var e=this;return _async_to_generator(function(){var t,n,r,a,i,s;return _ts_generator(this,function(c){switch(c.label){case 0:t=GameCore.Configs,n=t.Mockup,r=n.GameSDK.Player.ConnectedPlayers,a=r.ErrorRate,i=r.NumOfPlayers,s=r.RandomDelayMs;e.randomExceptionError("getConnectedPlayersAsync",a)&&e.extra.exceptionNetworkFailure("Get connected players error");return[4,e.extra.awaitRandomDelay(s)];case 1:return[2,(c.sent(),e.createPlayers(i))]}})})()}},{key:"createPlayers",value:function(e){var t=GameCore.Configs,n=t.Mockup,r=n.GameSDK.Player.ConnectedPlayers,a=r.AvatarUrl,i=this.loadLocalStorage();if(i||(i=[],this.saveLocalStorage(i)),i.length!==e){var _loop=function(e){var t="connected-player-".concat(e),n={getID:function(){return t},getName:function(){return"Connected Player ".concat(e)},getPhoto:function(){return a.replace("%1",t)}};i.push(n)};for(var s=i.length;s<e;s++)_loop(s);this.saveLocalStorage(i)}return this.loadLocalStorage()}},{key:"loadLocalStorage",value:function(){var e=GameCore.Utils,t=e.Browser,n=e.Object,r=t.getLocalStorage(G);if(!r)return[];var a=n.vals(r);if(!Array.isArray(a))return[];var i=[];var s=true,c=false,u=void 0;try{var _loop=function(){var e=d.value;i.push({getID:function(){return e.id},getName:function(){return e.name},getPhoto:function(){return e.photo}})};for(var l=a[Symbol.iterator](),d;!(s=(d=l.next()).done);s=true)_loop()}catch(e){c=true;u=e}finally{try{if(!s&&null!=l.return)l.return()}finally{if(c)throw u}}return i}},{key:"saveLocalStorage",value:function(e){var t=GameCore.Utils,n=t.Browser,r=[];var a=true,i=false,s=void 0;try{for(var c=e[Symbol.iterator](),u;!(a=(u=c.next()).done);a=true){var l=u.value;var d,h;var p={id:l.getID()||"",name:null!==(d=l.getName())&&void 0!==d?d:"",photo:null!==(h=l.getPhoto())&&void 0!==h?h:""};r.push(p)}}catch(e){i=true;s=e}finally{try{if(!a&&null!=c.return)c.return()}finally{if(i)throw s}}var v=_object_spread({},r);n.writeLocalStorage(G,v)}},{key:"randomExceptionError",value:function(e,t){return 100*Math.random()<t}}]);return H}(),M=N});var ee={};b(ee,{default:function(){return en}});var et,en,er=f(function(){"use strict";n();r();h();et=/*#__PURE__*/function(e){_inherits(Y,e);function Y(){_class_call_check(this,Y);return _call_super(this,Y,arguments)}_create_class(Y,[{key:"show",value:function(e){this.title.textContent="Create Tournament",this.okButton.textContent="Create",this.noButton.textContent="Cancel";var t=JSON.stringify(e,null,2);_get(_get_prototype_of(Y.prototype),"show",this).call(this,"Do you want to create tournament?\nPayload: ".concat(t))}}]);return Y}(d),en=et});var ea={};b(ea,{default:function(){return ei}});var eo,ei,es=f(function(){"use strict";n();r();h();eo=/*#__PURE__*/function(e){_inherits(W,e);function W(){_class_call_check(this,W);return _call_super(this,W,arguments)}_create_class(W,[{key:"show",value:function(e){this.title.textContent="Share tournament",this.okButton.textContent="Share",this.noButton.textContent="Cancel",_get(_get_prototype_of(W.prototype),"show",this).call(this,"Do you want to share your score?\nScore: ".concat(e))}}]);return W}(d),ei=eo});n();r();s();s();s();s();s();n();r();n();r();n();r();var ec=/*#__PURE__*/function(){function R(e){var t=this;_class_call_check(this,R);o(this,"adapter");o(this,"extra");o(this,"currentContextID",null);o(this,"currentContextType","SOLO");o(this,"currentContextPlayers",[]);o(this,"chooseAsyncPopup",null);o(this,"createAsyncPopup",null);o(this,"switchAsyncPopup",null);o(this,"contextIdsByCreate");o(this,"contextIdsByChoose",[]);o(this,"playerIdsInContexts");o(this,"handleOnYes",function(e){return function(){t.extra.isPopupShown=!1,e(!0)}});o(this,"handleOnNo",function(e){return function(){t.extra.isPopupShown=!1;try{t.extra.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}}});this.adapter=e,this.extra=e.extra}_create_class(R,[{key:"setCurrentContextId",value:function(e){this.checkSameContext(e),this.currentContextID=e,this.currentContextType="THREAD"}},{key:"initContextInfo",value:function(e,t){var n=GameCore.Utils,r=n.Array,a=n.Number;this.contextIdsByCreate={},this.playerIdsInContexts={},this.contextIdsByChoose=r.fillWith(10,function(){return a.random(10).toString()}),!(!e||!t)&&(["SOLO","THREAD","POST","GROUP"].indexOf(t)<0||(this.currentContextID=e,this.currentContextType=t))}},{key:"getID",value:function(){return this.currentContextID}},{key:"getType",value:function(){return this.currentContextType}},{key:"loadSwitchAsyncPopup",value:function(){var e=this;return _async_to_generator(function(){var t;return _ts_generator(this,function(n){switch(n.label){case 0:if(e.switchAsyncPopup)return[2];return[4,Promise.resolve().then(function(){return I(),p})];case 1:t=n.sent().default;"function"==typeof t&&(e.switchAsyncPopup=new t);return[2]}})})()}},{key:"loadChooseAsyncPopup",value:function(){var e=this;return _async_to_generator(function(){var t;return _ts_generator(this,function(n){switch(n.label){case 0:if(e.chooseAsyncPopup)return[2];return[4,Promise.resolve().then(function(){return A(),P})];case 1:t=n.sent().default;"function"==typeof t&&(e.chooseAsyncPopup=new t);return[2]}})})()}},{key:"loadCreateAsyncPopup",value:function(){var e=this;return _async_to_generator(function(){var t;return _ts_generator(this,function(n){switch(n.label){case 0:if(e.createAsyncPopup)return[2];return[4,Promise.resolve().then(function(){return E(),C})];case 1:t=n.sent().default;"function"==typeof t&&(e.createAsyncPopup=new t);return[2]}})})()}},{key:"switchAsync",value:function(e,t){var n=arguments.length>1&&void 0!==t&&t;var r=this;return _async_to_generator(function(){var t;return _ts_generator(this,function(a){switch(a.label){case 0:r.extra.checkPopupShown();return[4,r.extra.awaitRandomDelay()];case 1:if(a.sent(),r.validateSwitchAsyncContextId(e),"SOLO"===e&&n){r.currentContextID=null,r.currentContextType="SOLO",r.updatePlayers([]);return[2]}return[4,r.loadSwitchAsyncPopup()];case 2:a.sent();return[4,new Promise(function(t,n){r.switchAsyncPopup||r.adapter.extra.exceptionUnsupported(),r.switchAsyncPopup.onYes(r.handleOnYes(t)),r.switchAsyncPopup.onNo(r.handleOnNo(n)),r.switchAsyncPopup.show(e),r.extra.isPopupShown=!0})];case 3:a.sent(),r.currentContextID=e,r.currentContextType="THREAD",r.createPlayerIdsInContext(e,10);t=r.playerIdsInContexts[e].map(function(e){return r.createPlayerInfo(e)});r.updatePlayers(t);return[2]}})})()}},{key:"chooseAsync",value:function(e){var t=this;return _async_to_generator(function(){var e,n,r;return _ts_generator(this,function(a){switch(a.label){case 0:t.extra.checkPopupShown();return[4,t.extra.awaitRandomDelay()];case 1:a.sent();return[4,t.loadChooseAsyncPopup()];case 2:a.sent();return[4,new Promise(function(e,n){t.chooseAsyncPopup||t.adapter.extra.exceptionUnsupported(),t.chooseAsyncPopup.onYes(t.handleOnYes(e)),t.chooseAsyncPopup.onNo(t.handleOnNo(n)),t.chooseAsyncPopup.show(),t.extra.isPopupShown=!0})];case 3:a.sent();e=Math.floor(Math.random()*t.contextIdsByChoose.length),n=t.contextIdsByChoose[e];t.checkSameContext(n),t.currentContextID=n,t.currentContextType="THREAD",t.createPlayerIdsInContext(n,2);r=t.playerIdsInContexts[n].map(function(e){return t.createPlayerInfo(e)});t.updatePlayers(r);return[2]}})})()}},{key:"createAsync",value:function(e){var t=this;return _async_to_generator(function(){var n,r;return _ts_generator(this,function(a){switch(a.label){case 0:t.extra.checkPopupShown();return[4,t.extra.awaitRandomDelay()];case 1:a.sent();return[4,t.validateCreateAsyncPlayerId(e)];case 2:a.sent();return[4,t.loadCreateAsyncPopup()];case 3:a.sent();return[4,new Promise(function(n,r){t.createAsyncPopup||t.adapter.extra.exceptionUnsupported(),t.createAsyncPopup.onYes(t.handleOnYes(n)),t.createAsyncPopup.onNo(t.handleOnNo(r)),t.createAsyncPopup.show(e),t.extra.isPopupShown=!0})];case 4:a.sent(),t.contextIdsByCreate[e]||(t.contextIdsByCreate[e]=GameCore.Utils.Number.random(10).toString());n=t.contextIdsByCreate[e];t.checkSameContext(n),t.currentContextID=n,t.currentContextType="THREAD";r=t.createPlayerInfo(e);t.updatePlayers([r]);return[2]}})})()}},{key:"getPlayersAsync",value:function(){var e=this;return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return[4,e.extra.awaitRandomDelay()];case 1:return[2,(t.sent(),e.currentContextPlayers)]}})})()}},{key:"createPlayerIdsInContext",value:function(e,t){if(!this.playerIdsInContexts[e]){var n=GameCore.Utils,r=n.Array,a=n.Number,i=Math.floor(Math.random()*t),s=r.fillWith(i,function(){return a.random(10).toString()});this.playerIdsInContexts[e]=s}return this.playerIdsInContexts[e]}},{key:"createPlayerInfo",value:function(e){return{getID:function(){return e},getName:function(){return"Player ".concat(e)},getPhoto:function(){return""}}}},{key:"updatePlayers",value:function(e){if("SOLO"===this.currentContextType){this.currentContextPlayers=[];return}this.currentContextPlayers=e}},{key:"checkSameContext",value:function(e){this.currentContextID===e&&this.extra.exceptionSameContext()}},{key:"validateCreateAsyncPlayerId",value:function(e){var t=this;return _async_to_generator(function(){var n,r;return _ts_generator(this,function(a){switch(a.label){case 0:if((!e||Array.isArray(e))&&t.extra.exceptionClientUnsupportedOperation("Client does not support no player IDS or multiple player IDs yet"),!GameCore.Utils.Valid.isString(e)){n="Array of type String contained a value of another type: ".concat(e);t.extra.exceptionInvalidParam(n)}e===GameSDK.player.getID()&&t.extra.exceptionInvalidParam("'At least one player id besides the current player must be provided.'");return[4,GameSDK.player.getConnectedPlayersAsync()];case 1:if(a.sent().some(function(t){return t.getID()===e}))return[2];r="Provided ID ".concat(e," is not a connected player of the current player.");t.extra.exceptionInvalidParam(r);return[2]}})})()}},{key:"validateSwitchAsyncContextId",value:function(e){if(this.checkSameContext(e),GameCore.Utils.Valid.isString(e))return;this.extra.exceptionClientUnsupportedOperation("Client requires update to support this operation")}}]);return R}(),eu=ec;n();r();n();r();var el='\n<div id="lds-game-icon-blur"></div>\n<div id="lds-game-icon"></div>\n<div id="lds-text">\n    <span id="lds-percent">0</span>%\n</div>\n',ed="lds-container",ef=/*#__PURE__*/function(){function j(){var e=this;_class_call_check(this,j);o(this,"percentage",0);document.addEventListener("DOMContentLoaded",function(){e.createLoadingElement();var t=new MutationObserver(function(){document.getElementById("GameDiv")&&e.setupLoadingElementSizeAndPosition()}),n={attributes:!0,childList:!0,subtree:!0},r=document.body;t.observe(r,n)})}_create_class(j,[{key:"createLoadingElement",value:function(){var e=document.createElement("div");return e.id=ed,e.setAttribute("data-clarity-unmask","true"),e.innerHTML=el,document.body.appendChild(e),e}},{key:"setupLoadingElementSizeAndPosition",value:function(){var e=document.getElementById(ed);if(!e)return;var t=document.getElementById("GameDiv");if(!t)return;var n=t.getBoundingClientRect(),r=n.width,a=n.height;e.style.width="".concat(r,"px"),e.style.height="".concat(a,"px");var i=document.body.getBoundingClientRect(),s=i.width,c=i.height;e.style.left="".concat((s-r)/2,"px"),e.style.top="".concat((c-a)/2,"px")}},{key:"setLoadingProgress",value:function(e){if(e===this.percentage||this.percentage>e)return;this.percentage=e;var t=document.getElementById("lds-percent");if(!t)return;t.innerHTML="".concat(e);var n=document.getElementById(ed);if(!n)return;var r=Math.min(.9,.1+e/100);n.style.backgroundColor="rgba(81, 81, 81, ".concat(r,")")}},{key:"removeLoadingElement",value:function(){var e=document.getElementById(ed);e&&(e.style.backgroundColor="rgba(81, 81, 81, 0)",setTimeout(function(){e.remove()},300))}}]);return j}(),ey=ef;n();r();var eh=/*#__PURE__*/function(e){_inherits($,e);function $(e,t){_class_call_check(this,$);var n;n=_call_super(this,$,[t]);o(n,"code");n.code=e;return n}return $}(_wrap_native_super(Error)),ep=eh;var e_=/*#__PURE__*/function(){function V(e){_class_call_check(this,V);o(this,"adapter");o(this,"isPopupShown",!1);o(this,"maxWaitGameCoreReadyTime",1e4);o(this,"loadingElement",null);this.adapter=e}_create_class(V,[{key:"subscribeBotAsync",value:function(){var e=this;return _async_to_generator(function(){var t,n,r,a,i;return _ts_generator(this,function(s){switch(s.label){case 0:return[4,e.adapter.player.canSubscribeBotAsync()];case 1:if(!s.sent())return[2,!1];t=window.game,n=t.analytics,r=GameCore.Plugins.Analytics.Events,a=r.BOT_SUBSCRIBE,i=r.BOT_SUBSCRIBE_POPUP;n.event(i);s.label=2;case 2:s.trys.push([2,5,,6]);return[4,e.waitSDKInitiatedAsync()];case 3:s.sent();return[4,e.adapter.player.subscribeBotAsync()];case 4:return[2,(s.sent(),n.event(a,{success:!0}),!0)];case 5:s.sent();return[2,(n.event(a,{success:!1}),!1)];case 6:return[2]}})})()}},{key:"checkAndCreateShortcutAsync",value:function(){var e=this;return _async_to_generator(function(){var t,n,r,a,i;return _ts_generator(this,function(s){switch(s.label){case 0:return[4,e.adapter.canCreateShortcutAsync()];case 1:if(!s.sent())return[2];t=window.game,n=t.analytics,r=GameCore.Plugins.Analytics.Events,a=r.SHORTCUT_CREATE,i=r.SHORTCUT_CREATE_POPUP;n.event(i);s.label=2;case 2:s.trys.push([2,5,,6]);return[4,e.waitSDKInitiatedAsync()];case 3:s.sent();return[4,e.adapter.createShortcutAsync()];case 4:s.sent(),n.event(a,{success:!0});return[3,6];case 5:s.sent();n.event(a,{success:!1});return[3,6];case 6:return[2]}})})()}},{key:"waitSDKInitiatedAsync",value:function(){return GameCore.Utils.Valid.isValueChangeAsync(window.__sdkInitiated,!0)}},{key:"waitGameCoreReadyAsync",value:function(){var e=this;return _async_to_generator(function(){var t;return _ts_generator(this,function(n){t=0;return[2,new Promise(function(n){var r=setInterval(function(){if("GameCore"in window){clearInterval(r),n();return}t+=100,t>e.maxWaitGameCoreReadyTime&&(t=0)},100)})]})})()}},{key:"createLoadingElement",value:function(){this.loadingElement||(this.loadingElement=new ey)}},{key:"setLoadingElementProgress",value:function(e){this.loadingElement&&this.loadingElement.setLoadingProgress(e)}},{key:"destroyLoadingElement",value:function(){this.loadingElement&&this.loadingElement.removeLoadingElement()}},{key:"checkPopupShown",value:function(){this.isPopupShown&&this.exceptionPendingRequest("Please wait for the popup to close")}},{key:"delayInitialAsync",value:function(){return _async_to_generator(function(){var e,t,n;return _ts_generator(this,function(r){switch(r.label){case 0:e=GameCore.Configs.Mockup.GameSDK,t=e.SlowAPI;n=!t.Enabled||t.InitialDelay<=0;if(n)return[3,2];return[4,GameCore.Utils.Time.sleepAsync(t.InitialDelay)];case 1:n=r.sent();r.label=2;case 2:return[2]}})})()}},{key:"delayStartAsync",value:function(){return _async_to_generator(function(){var e,t,n;return _ts_generator(this,function(r){switch(r.label){case 0:e=GameCore.Configs.Mockup.GameSDK,t=e.SlowAPI;n=!t.Enabled||t.StartDelay<=0;if(n)return[3,2];return[4,GameCore.Utils.Time.sleepAsync(t.StartDelay)];case 1:n=r.sent();r.label=2;case 2:return[2]}})})()}},{key:"delayPlayerDataAsync",value:function(){return _async_to_generator(function(){var e,t,n;return _ts_generator(this,function(r){switch(r.label){case 0:e=GameCore.Configs.Mockup.GameSDK,t=e.SlowAPI;n=!t.Enabled||t.PlayerDataDelay<=0;if(n)return[3,2];return[4,GameCore.Utils.Time.sleepAsync(t.PlayerDataDelay)];case 1:n=r.sent();r.label=2;case 2:return[2]}})})()}},{key:"awaitRandomDelay",value:function(e){var t=arguments.length>0&&void 0!==e?e:1e3;return GameCore.Utils.Time.sleepAsync(Math.random()*t)}},{key:"randomException",value:function(e){var t=Math.floor(Math.random()*e.length),n=e[t];this["exception".concat(n)]()}},{key:"throwNewCommonError",value:function(e,t){throw new ep(e,t)}},{key:"exceptionUserInput",value:function(e){this.throwNewCommonError("USER_INPUT",e)}},{key:"exceptionUnsupported",value:function(){this.throwNewCommonError("UNSUPPORTED","Unsupported method")}},{key:"exceptionInvalidParam",value:function(e){this.throwNewCommonError("INVALID_PARAM",e)}},{key:"exceptionPendingRequest",value:function(e){this.throwNewCommonError("PENDING_REQUEST",e)}},{key:"exceptionMethodNotImplemented",value:function(){this.throwNewCommonError("METHOD_NOT_IMPLEMENTED","Method not implemented")}},{key:"exceptionTournamentNotFound",value:function(e){this.throwNewCommonError("TOURNAMENT_NOT_FOUND",e)}},{key:"exceptionSameContext",value:function(){this.throwNewCommonError("SAME_CONTEXT","Must specify a context other than the current one.")}},{key:"exceptionInvalidOperation",value:function(e){this.throwNewCommonError("INVALID_OPERATION",e)}},{key:"exceptionNetworkFailure",value:function(e){var t=arguments.length>0&&void 0!==e?e:"Request failed to be processed";this.throwNewCommonError("NETWORK_FAILURE",t)}},{key:"exceptionUnknown",value:function(e){this.throwNewCommonError("UNKNOWN",e)}},{key:"exceptionClientUnsupportedOperation",value:function(e){this.throwNewCommonError("CLIENT_UNSUPPORTED_OPERATION",e)}},{key:"exceptionRateLimited",value:function(e){this.throwNewCommonError("RATE_LIMITED",e)}}]);return V}(),em=e_;n();r();var ev="Save The Pets".replace(/ /g,"-"),eg=/*#__PURE__*/function(){function F(e){var t=this;_class_call_check(this,F);o(this,"adapter");o(this,"extra");o(this,"defaultPlayerInfo");o(this,"currentPlayerInfo");o(this,"infoKey","".concat(ev,"_PlayerInfo"));o(this,"dataKey","".concat(ev,"_PlayerData"));o(this,"subscribeBot",null);o(this,"connectedPlayers",null);o(this,"getSignature",function(){var e=t.getSignatureFormMockup();return GameCore.Utils.Valid.isString(e)?e:"default_token"});this.adapter=e,this.extra=e.extra,this.initDefaultPlayerInfo()}_create_class(F,[{key:"initDefaultPlayerInfo",value:function(){var e="guest-007";this.defaultPlayerInfo={playerId:e,playerName:"Guest",playerPhoto:"https://picsum.photos/seed/".concat(e,"/300/300")},this.currentPlayerInfo=_object_spread({},this.defaultPlayerInfo)}},{key:"initPlayerInfo",value:function(e){this.updateCurrentPlayerInfo(e),GameCore.Utils.Browser.writeLocalStorage(this.infoKey,this.currentPlayerInfo)}},{key:"canSubscribeBotAsync",value:function(){var e=this;return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return[4,e.loadMockSubscribeBot()];case 1:return[2,(t.sent(),e.subscribeBot||e.extra.exceptionUnsupported(),e.subscribeBot.canSubscribeBotAsync())]}})})()}},{key:"subscribeBotAsync",value:function(){var e=this;return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return[4,e.loadMockSubscribeBot()];case 1:return[2,(t.sent(),e.subscribeBot||e.extra.exceptionUnsupported(),e.subscribeBot.subscribeBotAsync())]}})})()}},{key:"getID",value:function(){var e=GameCore.Utils,t=e.Browser,n=e.Valid,r=e.Object,a=t.getLocalStorage(this.infoKey),i=this.currentPlayerInfo,s=i.playerId;return n.isObject(a)&&r.hasOwn(a,"playerId")&&n.isString(a.playerId)?a.playerId:s}},{key:"getName",value:function(){var e=GameCore.Utils,t=e.Browser,n=e.Valid,r=e.Object,a=t.getLocalStorage(this.infoKey),i=this.currentPlayerInfo,s=i.playerName;return n.isObject(a)&&r.hasOwn(a,"name")&&n.isString(a.name)?a.name:s}},{key:"getPhoto",value:function(){var e=GameCore.Utils,t=e.Browser,n=e.Valid,r=e.Object,a=t.getLocalStorage(this.infoKey),i=this.currentPlayerInfo,s=i.playerPhoto;return n.isObject(a)&&r.hasOwn(a,"photo")&&n.isString(a.photo)?a.photo:s}},{key:"getDataAsync",value:function(e){var t=this;return _async_to_generator(function(){var n,r,a,i,s,c;return _ts_generator(this,function(u){switch(u.label){case 0:return[4,t.extra.delayPlayerDataAsync()];case 1:u.sent();n=GameCore.Utils,r=n.Browser,a=n.Valid,i=n.Object,s=r.getLocalStorage(t.dataKey);if(!a.isObject(s))return[2,{}];if(0===e.length)return[2,s];c={};return[2,(e.forEach(function(e){i.hasOwn(s,e)&&(c[e]=s[e])}),c)]}})})()}},{key:"setDataAsync",value:function(e){var t=this;return _async_to_generator(function(){return _ts_generator(this,function(n){switch(n.label){case 0:return[4,t.extra.delayPlayerDataAsync()];case 1:n.sent(),GameCore.Utils.Browser.writeLocalStorage(t.dataKey,e);return[2]}})})()}},{key:"getSignedPlayerInfoAsync",value:function(){var e=this;return _async_to_generator(function(){return _ts_generator(this,function(t){return[2,{getPlayerID:function(){var t;return null!==(t=e.getID())&&void 0!==t?t:""},getSignature:e.getSignature}]})})()}},{key:"getConnectedPlayersAsync",value:function(){var e=this;return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return[4,e.loadMockConnectedPlayers()];case 1:return[2,(t.sent(),e.connectedPlayers||e.extra.exceptionUnsupported(),e.connectedPlayers.getConnectedPlayersAsync())]}})})()}},{key:"updateCurrentPlayerInfo",value:function(e){if(!e)return;var t=GameCore.Configs.Mockup,n=t.Match,r=n.PlayerInfo.Id===e,a=n.OpponentInfo.Id===e;r&&(this.currentPlayerInfo.playerId=n.PlayerInfo.Id,n.PlayerInfo.Name&&(this.currentPlayerInfo.playerName=n.PlayerInfo.Name),n.PlayerInfo.Photo&&(this.currentPlayerInfo.playerPhoto=n.PlayerInfo.Photo)),a&&(this.currentPlayerInfo.playerId=n.OpponentInfo.Id,n.OpponentInfo.Name&&(this.currentPlayerInfo.playerName=n.OpponentInfo.Name),n.OpponentInfo.Photo&&(this.currentPlayerInfo.playerPhoto=n.OpponentInfo.Photo))}},{key:"getSignatureFormMockup",value:function(){var e=GameCore.Configs.Mockup,t=e.Match,n=t.PlayerInfo.Id===this.getID(),r=t.OpponentInfo.Id===this.getID();return n?t.PlayerInfo.Signature:r?t.OpponentInfo.Signature:null}},{key:"loadMockSubscribeBot",value:function(){var e=this;return _async_to_generator(function(){var t;return _ts_generator(this,function(n){switch(n.label){case 0:if(e.subscribeBot)return[2];return[4,Promise.resolve().then(function(){return s(),a})];case 1:t=n.sent().default;"function"==typeof t&&(e.subscribeBot=new t(e.adapter));return[2]}})})()}},{key:"loadMockConnectedPlayers",value:function(){var e=this;return _async_to_generator(function(){var t;return _ts_generator(this,function(n){switch(n.label){case 0:if(e.connectedPlayers)return[2];return[4,Promise.resolve().then(function(){return q(),O})];case 1:t=n.sent().default;"function"==typeof t&&(e.connectedPlayers=new t(e.extra));return[2]}})})()}}]);return F}(),ew=eg;n();r();n();r();var eb=/*#__PURE__*/function(){function z(e,t,n){var r=arguments.length>2&&void 0!==n&&n;_class_call_check(this,z);o(this,"id");o(this,"title");o(this,"contextId");o(this,"payload");o(this,"endTime");o(this,"tournamentType");var a=t.config,i=t.data;var s;this.id=e,this.title=a.title,this.contextId="0123".concat(this.id),this.payload=JSON.stringify(null!=i?i:{}),this.endTime=null!==(s=a.endTime)&&void 0!==s?s:this.defaultEndTime(),this.tournamentType=r?"PAGE_HOSTED":"DEFAULT"}_create_class(z,[{key:"defaultEndTime",value:function(){return Math.round((Date.now()+6048e5)/1e3)}},{key:"getID",value:function(){return this.id}},{key:"getTitle",value:function(){return this.title}},{key:"getPayload",value:function(){return this.payload}},{key:"getEndTime",value:function(){return this.endTime}},{key:"getContextID",value:function(){return this.contextId}},{key:"getTournamentType",value:function(){return this.tournamentType}},{key:"toObject",value:function(){return{id:this.id,title:this.title,payload:this.payload,endTime:this.endTime,contextId:this.contextId,tournamentType:this.tournamentType}}}]);return z}(),eI=eb;var eP=["Unsupported","NetworkFailure","PendingRequest","ClientUnsupportedOperation"],ek=_to_consumable_array(eP).concat(["InvalidParam","UserInput"]),ex=_to_consumable_array(eP).concat(["InvalidOperation","UserInput"]),eA=_to_consumable_array(eP).concat(["InvalidParam","UserInput"]),eC=_to_consumable_array(eP).concat(["InvalidParam","UserInput"]),eD=_to_consumable_array(eP).concat(["NetworkFailure"]),eS="TournamentsDataMockKey",eT="TournamentLeadersMockKey",eE=/*#__PURE__*/function(){function Q(e){var t=this;_class_call_check(this,Q);var n=this;o(this,"adapter");o(this,"extra");o(this,"context");o(this,"shareAsyncPopup",null);o(this,"createAsyncPopup",null);o(this,"processEnterTournament",/*#__PURE__*/function(){var e=_async_to_generator(function(e){var t;return _ts_generator(this,function(r){switch(r.label){case 0:t=n.getTournamentData(e);if(!t)return[3,2];return[4,n.joinAsync(e)];case 1:t=r.sent();r.label=2;case 2:return[2]}})});return function(t){return e.apply(this,arguments)}}());o(this,"handleOnYes",function(e){return function(){t.extra.isPopupShown=!1,e(!0)}});o(this,"handleOnNo",function(e){return function(){t.extra.isPopupShown=!1;try{t.extra.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}}});this.adapter=e,this.extra=e.extra,this.context=e.context}_create_class(Q,[{key:"initTournamentInfoAsync",value:function(e){var t=this;return _async_to_generator(function(){var n,r,a,i;return _ts_generator(this,function(s){switch(s.label){case 0:n=GameCore.Configs.Mockup.GameSDK,r=n.Tournament;a=r.Enabled;if(!a)return[3,4];return[4,t.createMockTournamentsData()];case 1:s.sent();i=e;if(!i)return[3,3];return[4,t.processEnterTournament(e)];case 2:i=s.sent();s.label=3;case 3:a=i;s.label=4;case 4:return[2]}})})()}},{key:"createMockTournamentsData",value:function(){var e=this;return _async_to_generator(function(){var t,n,r,a,i,s,c,u,l,d,h,p,v,w,I,P,k,x;return _ts_generator(this,function(A){switch(A.label){case 0:t=GameCore.Utils,n=t.Object,r=GameCore.Configs.Mockup.GameSDK,a=r.Tournament,i=a.NumOfTournament,s=i.Normal,c=i.HostPage;if(!a.Enabled)return[2];u=e.getTournamentsData(),l=n.vals(u),d=e.filterExpiredTournaments(l),h=d.filter(function(e){return"DEFAULT"===e.tournamentType}),p=d.filter(function(e){return"PAGE_HOSTED"===e.tournamentType}),v=h.length,w=p.length,I=s-v,P=c-w,k=e.createDefaultTournaments(I),x=e.createGlobalTournaments(P);return[4,Promise.all(_to_consumable_array(k).concat(_to_consumable_array(x)))];case 1:A.sent();return[2]}})})()}},{key:"filterExpiredTournaments",value:function(e){var t=Date.now()/1e3,n=e.filter(function(e){return e.endTime>t}),r={};var a=true,i=false,s=void 0;try{for(var c=n[Symbol.iterator](),u;!(a=(u=c.next()).done);a=true){var l=u.value;r[l.id]=l}}catch(e){i=true;s=e}finally{try{if(!a&&null!=c.return)c.return()}finally{if(i)throw s}}return this.writeTournamentsData(r),n}},{key:"createDefaultTournaments",value:function(e){var t=GameCore.Utils,n=t.String,r=t.Array,a=window.game,i=a.leaderboard,s=GameSDK.player.getID(),c=GameSDK.player.getName();var u=this;return r.length(e).map(/*#__PURE__*/_async_to_generator(function(){var e,t,r,a,l,d,h,p;return _ts_generator(this,function(v){switch(v.label){case 0:e="".concat(c,"'s Tournament ").concat(n.generateObjectId()),t=GameCore.Configs.Mockup.GameSDK.Tournament,r=t.ExtraPlayerTournamentPayload,a=void 0===r?{}:r;return[4,i.createLeaderboardAsync({name:e})];case 1:l=v.sent(),d=u.createMockTournamentAsync({initialScore:0,config:{title:e,tournamentTitle:e},data:_object_spread({playerId:s,playerName:c,leaderboardId:l},a)}).getID().toString();if(u.getTournamentLeadersData(d))return[2];h=GameCore.Utils.Number.random(2),p=window.game.player.getConnectedPlayerIds(h,0).map(function(e){return{playerId:e,score:GameCore.Utils.Number.random(4)}});p.sort(function(e,t){return e.score-t.score}),u.writeTournamentLeadersData(d,p);return[2]}})}))}},{key:"createGlobalTournaments",value:function(e){var t=GameCore.Utils,n=t.String,r=t.Array,a=t.Number,i=window.game,s=i.leaderboard,c=GameCore.Configs.Mockup.GameSDK.Tournament,u=c.ExtraGlobalTournamentPayload,l=void 0===u?{}:u;var d=this;return r.length(e).map(/*#__PURE__*/_async_to_generator(function(){var e,t,i,c,u,h;return _ts_generator(this,function(p){switch(p.label){case 0:e=n.generateObjectId(),t=_object_spread({leaderboardId:e,playerId:"global"},l),i="Global Tournament ".concat(e);return[4,s.createLeaderboardAsync({name:i,_id:e,type:"world_tournament_leaderboard",description:JSON.stringify(t)})];case 1:p.sent();c=d.createMockTournamentAsync({initialScore:0,config:{title:i,tournamentTitle:i},data:t},!0).getID().toString();if(d.getTournamentLeadersData(c))return[2];u=a.random(2),h=r.length(u).map(function(){return{playerId:n.generateObjectId(),score:a.random(4)}});h.sort(function(e,t){return e.score-t.score}),d.writeTournamentLeadersData(c,h);return[2]}})}))}},{key:"awaitRandomDelay",value:function(){var e=this;return _async_to_generator(function(){var t,n,r,a;return _ts_generator(this,function(i){t=GameCore.Configs,n=t.Mockup,r=n.GameSDK.Tournament,a=r.RandomDelayMs;return[2,e.extra.awaitRandomDelay(a)]})})()}},{key:"randomError",value:function(e){var t=GameCore.Configs,n=t.Mockup,r=n.GameSDK.Tournament,a=r.ErrorRates;100*Math.random()<a&&this.extra.randomException(e)}},{key:"loadCreateTournamentPopupAsync",value:function(){var e=this;return _async_to_generator(function(){var t;return _ts_generator(this,function(n){switch(n.label){case 0:if(e.createAsyncPopup)return[2];return[4,Promise.resolve().then(function(){return er(),ee})];case 1:t=n.sent().default;"function"==typeof t&&(e.createAsyncPopup=new t);return[2]}})})()}},{key:"loadSharePopupAsync",value:function(){var e=this;return _async_to_generator(function(){var t;return _ts_generator(this,function(n){switch(n.label){case 0:if(e.shareAsyncPopup)return[2];return[4,Promise.resolve().then(function(){return es(),ea})];case 1:t=n.sent().default;"function"==typeof t&&(e.shareAsyncPopup=new t);return[2]}})})()}},{key:"createAsync",value:function(e){var t=this;return _async_to_generator(function(){var n,r;return _ts_generator(this,function(a){switch(a.label){case 0:t.extra.checkPopupShown();return[4,t.awaitRandomDelay()];case 1:a.sent(),null!==t.context.getID()&&t.extra.exceptionInvalidOperation("Cannot create tournament while in a context"),t.validateCreatePayload(e),t.randomError(ek);return[4,t.loadCreateTournamentPopupAsync()];case 2:a.sent();return[4,new Promise(function(n,r){t.createAsyncPopup||t.adapter.extra.exceptionUnsupported(),t.createAsyncPopup.onYes(t.handleOnYes(n)),t.createAsyncPopup.onNo(t.handleOnNo(r)),t.createAsyncPopup.show(e),t.extra.isPopupShown=!0})];case 3:a.sent();n=t.createMockTournamentAsync(e),r=n.getContextID();return[2,(t.setCurrentContextID(r),n)]}})})()}},{key:"createMockTournamentAsync",value:function(e,t){var n=arguments.length>1&&void 0!==t&&t;var r=GameCore.Utils.String.generateObjectId(),a=new eI(r,e,n),i=a.toObject();return this.writeTournamentData(r,i),a}},{key:"postScoreAsync",value:function(e){var t=this;return _async_to_generator(function(){var n;return _ts_generator(this,function(r){switch(r.label){case 0:return[4,t.awaitRandomDelay()];case 1:r.sent(),t.validateAvailableTournament(),e<0&&t.extra.exceptionInvalidParam("Score must be a positive number"),t.randomError(eC);n=window.game.player.getPlayerId();t.updateBestScore(n,e);return[2]}})})()}},{key:"shareAsync",value:function(e){var t=this;return _async_to_generator(function(){var n,r,a,i,s,c,u;return _ts_generator(this,function(l){switch(l.label){case 0:t.extra.checkPopupShown();return[4,t.awaitRandomDelay()];case 1:l.sent(),t.validateAvailableTournament(),t.validateSharePayload(e),t.randomError(eA);return[4,t.loadSharePopupAsync()];case 2:l.sent();n=e.score,r=n,a=t.getCurrentTournament();if(a){i=window.game.player.getPlayerId(),s=a.getID().toString(),c=t.getBestScore(s,i);c&&c<n&&(r=c)}return[4,new Promise(function(e,n){t.shareAsyncPopup||t.adapter.extra.exceptionUnsupported(),t.shareAsyncPopup.onYes(t.handleOnYes(e)),t.shareAsyncPopup.onNo(t.handleOnNo(n)),t.shareAsyncPopup.show(r),t.extra.isPopupShown=!0})];case 3:l.sent();u=window.game.player.getPlayerId();t.updateBestScore(u,n);return[2]}})})()}},{key:"getTournamentsAsync",value:function(){var e=this;return _async_to_generator(function(){var t,n,r;return _ts_generator(this,function(a){switch(a.label){case 0:return[4,e.awaitRandomDelay()];case 1:a.sent(),e.randomError(eD);t=e.getTournamentsData(),n=GameCore.Utils,r=n.Object;return[2,r.vals(t).map(function(t){return e.getTournamentInstance(t.id)}).filter(function(e){return null!==e})]}})})()}},{key:"joinAsync",value:function(e){var t=this;return _async_to_generator(function(){var n,r;return _ts_generator(this,function(a){switch(a.label){case 0:return[4,t.awaitRandomDelay()];case 1:a.sent(),GameCore.Utils.Valid.isString(e)||t.extra.exceptionInvalidParam("Tournament ID must be a string");n=t.getTournamentInstance(e);n||t.extra.exceptionTournamentNotFound("Tournament could not be found."),t.randomError(ex);r=n.getContextID();return[4,GameSDK.context.switchAsync(r)];case 2:a.sent();return[2]}})})()}},{key:"setCurrentContextID",value:function(e){_instanceof(this.context,eu)&&this.context.setCurrentContextId(e)}},{key:"getCurrentTournament",value:function(){var e=this.context.getID();if(!e)return null;var t=this.getTournamentsData();for(var n in t)if(Object.hasOwn(t,n)&&t[n].contextId===e)return this.getTournamentInstance(n);return null}},{key:"validateCreatePayload",value:function(e){var t=GameCore.Utils,n=t.Object,r=t.Valid;r.isObject(e)||this.extra.exceptionInvalidParam("Payload must be an object"),n.hasOwn(e,"initialScore")||this.extra.exceptionInvalidParam("Payload must have initialScore"),n.hasOwn(e,"config")||this.extra.exceptionInvalidParam("Payload must have config");var a=e.initialScore,i=e.config;r.isNumber(a)||this.extra.exceptionInvalidParam("initialScore must be a number"),r.isObject(i)||this.extra.exceptionInvalidParam("Config must be an object"),n.hasOwn(i,"title")||this.extra.exceptionInvalidParam("Config must have title"),n.hasOwn(i,"tournamentTitle")||this.extra.exceptionInvalidParam("Config must have tournamentTitle"),n.hasOwn(e,"data")&&!r.isObject(e.data)&&this.extra.exceptionInvalidParam("Data must be an object")}},{key:"validateSharePayload",value:function(e){var t=GameCore.Utils,n=t.Object,r=t.Valid;r.isObject(e)||this.extra.exceptionInvalidParam("Payload must be an object"),n.hasOwn(e,"score")||this.extra.exceptionInvalidParam("Payload must have score");var a=e.score;r.isNumber(a)||this.extra.exceptionInvalidParam("Score must be a number"),n.hasOwn(e,"data")&&!r.isObject(e.data)&&this.extra.exceptionInvalidParam("Data must be an object")}},{key:"validateAvailableTournament",value:function(){this.getCurrentTournament()||this.extra.exceptionTournamentNotFound("There is no tournament for this context.")}},{key:"getTournamentInstance",value:function(e){var t=this.getTournamentData(e);return t?{getID:function(){return t.id},getTitle:function(){return t.title},getPayload:function(){return t.payload},getEndTime:function(){return t.endTime},getContextID:function(){return t.contextId},getTournamentType:function(){return t.tournamentType}}:null}},{key:"getTournamentData",value:function(e){var t=this.getTournamentsData();return t[e]?t[e]:null}},{key:"writeTournamentData",value:function(e,t){var n=this.getTournamentsData();n[e]=t,this.writeTournamentsData(n)}},{key:"getTournamentsData",value:function(){var e=GameCore.Utils,t=e.Browser,n=e.Valid,r=t.getLocalStorage(eS);return n.isObject(r)?r:{}}},{key:"writeTournamentsData",value:function(e){var t=GameCore.Utils,n=t.Browser,r=t.Valid;r.isObject(e)&&n.writeLocalStorage(eS,e)}},{key:"getBestScore",value:function(e,t){var n=this.getTournamentLeader(e,t);var r;return n?null!==(r=n.score)&&void 0!==r?r:null:null}},{key:"updateBestScore",value:function(e,t){var n=this.getCurrentTournament();if(!n)return;var r=n.getID().toString();if(!r)return;var a=this.getTournamentLeader(r,e);if(!a){this.writeTournamentLeader(r,{playerId:e,score:t});return}a.score<t&&(a.score=t,this.writeTournamentLeader(r,a))}},{key:"getTournamentLeader",value:function(e,t){var n=this.getTournamentLeadersData(e);if(!n.length)return null;var r=GameCore.Utils,a=r.Array;var i;return null!==(i=a.search(n,function(e){return e.playerId===t}))&&void 0!==i?i:null}},{key:"getTournamentLeadersData",value:function(e){var t=GameCore.Utils,n=t.Browser,r=t.Object,a=n.getLocalStorage(eT);if(!r.hasOwn(a,e))return[];var i=a[e];return Array.isArray(i)?(i.sort(function(e,t){return t.score-e.score}),i):[]}},{key:"writeTournamentLeader",value:function(e,t){var n=GameCore.Utils,r=n.Array,a=this.getTournamentLeadersData(e),i=r.searchIndex(a,function(e){return e.playerId===t.playerId});-1===i?a.push(t):a[i]=t,this.writeTournamentLeadersData(e,a)}},{key:"writeTournamentLeadersData",value:function(e,t){var n=GameCore.Utils,r=n.Browser,a=n.Object;if(!Array.isArray(t))return;var i;var s=null!==(i=r.getLocalStorage(eT))&&void 0!==i?i:{};a.assign(s,_define_property({},e,t)),r.writeLocalStorage(eT,s)}}]);return Q}(),eO=eE;var eG=/*#__PURE__*/function(){function J(){_class_call_check(this,J);o(this,"extra");o(this,"player");o(this,"context");o(this,"tournament");o(this,"shortcut",null);o(this,"isInitialized",!1);o(this,"bannerAdInstances",{});o(this,"rewardedVideoInstance",null);o(this,"interstitialAdInstance",null);o(this,"rewardedInterstitialInstance",null)}_create_class(J,[{key:"initialize",value:function(){this.extra=new em(this),this.player=new ew(this),this.context=new eu(this),this.tournament=new eO(this)}},{key:"getLocale",value:function(){return GameCore.Utils.Browser.getLocale()}},{key:"getPlatform",value:function(){var e=GameCore.Utils,t=e.Device;return t.isAndroid()?"ANDROID":t.isIOS()?"IOS":t.isDesktop()?"WEB":t.isMobile()?"MOBILE_WEB":null}},{key:"getSDKName",value:function(){return"GameCore"}},{key:"getSDKVersion",value:function(){return"1.0.0"}},{key:"initializeAsync",value:function(){var e=this;return _async_to_generator(function(){var t,n,r,a;return _ts_generator(this,function(i){switch(i.label){case 0:if(e.isInitialized)return[2];e.initialize(),e.extra.createLoadingElement();return[4,e.extra.waitGameCoreReadyAsync()];case 1:i.sent();return[4,e.extra.delayInitialAsync()];case 2:i.sent();t=GameCore.Utils.Browser.getQueryParams();if(t.splashPreview){e.extra.destroyLoadingElement();return[2]}n=t.playerId;e.player.initPlayerInfo(n);r=t.context_source_id,a=t.context_type;e.context.initContextInfo(r,a),e.isInitialized=!0;return[2]}})})()}},{key:"startGameAsync",value:function(){var e=this;return _async_to_generator(function(){var t,n,r,a,i,s;return _ts_generator(this,function(c){switch(c.label){case 0:return[4,e.extra.delayStartAsync()];case 1:c.sent();t=90;window.__sdkLoadingCount=t,e.setLoadingProgress(t),e.extra.destroyLoadingElement();n=GameCore.Events,r=GameCore.Utils,a=r.Browser,i=a.getQueryParams,s=i().tournament_id;return[4,e.tournament.initTournamentInfoAsync(s)];case 2:c.sent(),window.game.event.emit(n.GAME_SDK_STARTED);return[2]}})})()}},{key:"setLoadingProgress",value:function(e){this.extra.setLoadingElementProgress(e)}},{key:"getEntryPointData",value:function(){var e=GameCore.Utils,t=e.Browser,n=e.Json,r=t.getQueryParams(),a=r.payload,i=void 0===a?"{}":a;return"string"!=typeof i?{}:n.decode(i)}},{key:"getEntryPointAsync",value:function(){return _async_to_generator(function(){return _ts_generator(this,function(e){return[2,"no_entry"]})})()}},{key:"loadBannerAdAsync",value:function(e){var t=this;return _async_to_generator(function(){var n;return _ts_generator(this,function(r){switch(r.label){case 0:if(!e)return[3,5];if(!!t.bannerAdInstances[e])return[3,2];return[4,Promise.resolve().then(function(){return s(),a})];case 1:n=r.sent().default;"function"!=typeof n&&t.extra.exceptionInvalidOperation("Banner ads mock is not enabled"),t.bannerAdInstances[e]=new n("banner",e);r.label=2;case 2:return[4,t.bannerAdInstances[e].loadAsync()];case 3:r.sent();return[4,t.bannerAdInstances[e].showAsync()];case 4:r.sent();r.label=5;case 5:return[2]}})})()}},{key:"hideBannerAdAsync",value:function(e){var t=this;return _async_to_generator(function(){var n;return _ts_generator(this,function(r){switch(r.label){case 0:n=t.bannerAdInstances[e];if(!n)return[3,2];return[4,t.bannerAdInstances[e].hideAsync()];case 1:n=r.sent();r.label=2;case 2:return[2]}})})()}},{key:"getBannerHeight",value:function(e){return e.BannerHeight}},{key:"getInterstitialAdAsync",value:function(e){var t=this;return _async_to_generator(function(){var n;return _ts_generator(this,function(r){switch(r.label){case 0:if(!!t.interstitialAdInstance)return[3,2];return[4,Promise.resolve().then(function(){return s(),a})];case 1:n=r.sent().default;"function"!=typeof n&&t.extra.exceptionInvalidOperation("Interstitial ads mock is not enabled"),t.interstitialAdInstance=new n("interstitial",e);r.label=2;case 2:return[2,t.interstitialAdInstance]}})})()}},{key:"getRewardedVideoAsync",value:function(e){var t=this;return _async_to_generator(function(){var n;return _ts_generator(this,function(r){switch(r.label){case 0:if(!!t.rewardedVideoInstance)return[3,2];return[4,Promise.resolve().then(function(){return s(),a})];case 1:n=r.sent().default;"function"!=typeof n&&t.extra.exceptionInvalidOperation("Rewarded video ads mock is not enabled"),t.rewardedVideoInstance=new n("rewarded",e);r.label=2;case 2:return[2,t.rewardedVideoInstance]}})})()}},{key:"getRewardedInterstitialAsync",value:function(e){var t=this;return _async_to_generator(function(){var n;return _ts_generator(this,function(r){switch(r.label){case 0:if(!!t.rewardedInterstitialInstance)return[3,2];return[4,Promise.resolve().then(function(){return s(),a})];case 1:n=r.sent().default;"function"!=typeof n&&t.extra.exceptionInvalidOperation("Rewarded interstitial ads mock is not enabled"),t.rewardedInterstitialInstance=new n("rewarded_interstitial",e);r.label=2;case 2:return[2,t.rewardedInterstitialInstance]}})})()}},{key:"getTournamentAsync",value:function(){var e=this;return _async_to_generator(function(){var t,n,r,a,i,s;return _ts_generator(this,function(c){switch(c.label){case 0:e.tournament.randomError(["Unsupported","NetworkFailure"]);t=e.context.getID(),n=GameCore.Utils,r=n.Array,a=n.Valid;a.isString(t)||e.extra.exceptionInvalidOperation("Not in a context");return[4,e.tournament.getTournamentsAsync()];case 1:i=c.sent(),s=r.search(i,function(e){return e.getContextID()===t});return[2,(s||e.extra.exceptionTournamentNotFound("A Tournament with current context was not found"),s)]}})})()}},{key:"getSupportedAPIs",value:function(){var e=GameCore.Configs.Mockup.GameSDK.Player.SubscribeBot,t=e.CanSubscribeBot;return t?["player.canSubscribeBotAsync"]:[]}},{key:"canCreateShortcutAsync",value:function(){var e=this;return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return[4,e.loadMockAddShortcut()];case 1:return[2,(t.sent(),e.shortcut||e.extra.exceptionUnsupported(),e.shortcut.canCreateShortcutAsync())]}})})()}},{key:"createShortcutAsync",value:function(){var e=this;return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:return[4,e.loadMockAddShortcut()];case 1:return[2,(t.sent(),e.shortcut||e.extra.exceptionUnsupported(),e.shortcut.createShortcutAsync())]}})})()}},{key:"loadMockAddShortcut",value:function(){var e=this;return _async_to_generator(function(){var t;return _ts_generator(this,function(n){switch(n.label){case 0:if(e.shortcut)return[2];return[4,Promise.resolve().then(function(){return s(),a})];case 1:t=n.sent().default;"function"==typeof t&&(e.shortcut=new t(e));return[2]}})})()}}]);return J}(),eN=eG;n();r();n();r();var eB=/*#__PURE__*/function(){function X(e,t){_class_call_check(this,X);o(this,"type");o(this,"placementId");this.type=e,this.placementId=t}_create_class(X,[{key:"getPlacementID",value:function(){return this.placementId}},{key:"hideAsync",value:function(){return _async_to_generator(function(){return _ts_generator(this,function(e){return[2,Promise.resolve()]})})()}}]);return X}(),eL=eB;var eU={instanceId:""},eM=/*#__PURE__*/function(e){_inherits(Z,e);function Z(e,t){_class_call_check(this,Z);var n;n=_call_super(this,Z,[e,""]);o(n,"sdk");o(n,"type");o(n,"response");o(n,"isShowAdsResolved",!0);o(n,"showAdsPromise",null);n.sdk=t,n.type=e,n.response=eU;return n}_create_class(Z,[{key:"getPlacementID",value:function(){return this.response.instanceId}},{key:"loadAsync",value:function(){var e=this;return new Promise(function(t,n){var r="rewarded"===e.type;e.sdk.loadAdsAsync({isRewardedAd:r,canBackfill:!0}).then(function(n){e.response=n,t()}).catch(function(r){if(e.isAdsAlreadyLoadedError(r)){t();return}n(r)})})}},{key:"isAdsAlreadyLoadedError",value:function(e){var t="";try{t=JSON.stringify(e)}catch(e){return!1}var n=t.indexOf("LOAD_ADS_CLIENT_FAILURE")>-1,r=t.indexOf("Ads already loaded.")>-1;return n&&r}},{key:"showAsync",value:function(){var e=this;return _async_to_generator(function(){var t,n,r;return _ts_generator(this,function(a){t=null,n=new Promise(function(e,n){setTimeout(function(){t?e():n(new Error("Show ads is timed out"))},1e4)}),r=new Promise(function(n,r){if(!e.response.instanceId){r(new Error("Ad is not loaded. InstanceId is empty"));return}if(e.showAdsPromise&&!e.isShowAdsResolved){r(new Error("Show ads is already in progress"));return}e.isShowAdsResolved=!1,e.showAdsPromise=e.sdk.showAdsAsync(e.response.instanceId).then(function(a){if(!a.showAdsCompletedAsync){r(new Error("Ad is not loaded. showAdsCompletedAsync is empty"));return}t=a.showAdsCompletedAsync,a.showAdsCompletedAsync.then(function(){e.response=eU,n()}).catch(function(e){e.code&&"SHOW_ADS_COMPLETED_FAILURE"===e.code&&(e.code="USER_INPUT"),r(e)})}).catch(function(e){r(e)}).finally(function(){e.showAdsPromise=null,e.isShowAdsResolved=!0})});return[2,new Promise(function(e,t){Promise.all([n,r]).then(function(){e()}).catch(function(e){t(e)})})]})})()}}]);return Z}(eL),eR=eM;n();r();n();r();var ej="How about diving into the game for a relaxing experience?",eK=/*#__PURE__*/function(){function L(){_class_call_check(this,L)}_create_class(L,[{key:"sendDailyNotificationInstance",value:function(){var e=this;return _async_to_generator(function(){var t,n,r,a,i,s,c,u,l,d,h,p,v,w;return _ts_generator(this,function(I){switch(I.label){case 0:I.trys.push([0,4,,5]);t=GameCore.Configs,n=t.GameSDKOptions,r=n.MSGames,a=r.ScheduleNotification;if(!a)throw new Error("MsGamesNotification content not set up!");i=globalThis.game,s=i.player,c=s.getNotificationData(),u=c.currentId,l=c.lastSent;if(!e.isNewDay(l))throw new Error("Notification has been sent today!");d=u;(d>6||d<0)&&(d=0);h="D".concat(d+1),p={description:e.getNotificationContent(h),minDelayInSeconds:86400,type:d+1};if(!("scheduleNotificationAsync"in GameSDK.extra))return[3,2];return[4,GameSDK.extra.scheduleNotificationAsync(p)];case 1:I.sent();return[3,3];case 2:throw new Error("scheduleNotificationAsync is not available!");case 3:v=d+1>6?0:d+1,w=Date.now();s.setPlayerDataByName("notificationData",{currentId:v,lastSent:w});return[3,5];case 4:I.sent();return[3,5];case 5:return[2]}})})()}},{key:"getNotificationContent",value:function(e){var t=GameCore.Configs,n=t.GameSDKOptions,r=n.MSGames,a=r.ScheduleNotification;if(!a)throw new Error("MsGamesNotification content not set up!");if(this.validateNotificationKey(e)){var i=a[e];return i&&""!==i?i:ej}return ej}},{key:"validateNotificationKey",value:function(e){var t=GameCore.Utils,n=t.Array;return n.has(["D1","D2","D3","D4","D5","D6","D7"],e)}},{key:"isNewDay",value:function(e){var t=new Date,n=new Date(e);return t.getFullYear()!==n.getFullYear()||t.getMonth()!==n.getMonth()||t.getDate()!==n.getDate()}}],[{key:"sendDailyNotification",value:function(){var e=this;return _async_to_generator(function(){return _ts_generator(this,function(t){return[2,e.getInstance().sendDailyNotificationInstance()]})})()}},{key:"getInstance",value:function(){return this._instance||(this._instance=new L),this._instance}}]);return L}();o(eK,"_instance");var ez=eK,eV=ez;var eF="Save The Pets".replace(/ /g,"-"),eH=/*#__PURE__*/function(e){_inherits(nt,e);function nt(e){_class_call_check(this,nt);var t;t=_call_super(this,nt,[e]);o(t,"sdk");o(t,"shareImageBase64");o(t,"notificationImageBase64");t.sdk=e.sdk,t.adapter=e;return t}_create_class(nt,[{key:"shareAsync",value:function(){var e=this;return _async_to_generator(function(){var t;return _ts_generator(this,function(n){switch(n.label){case 0:n.trys.push([0,4,,5]);if(!!e.shareImageBase64)return[3,2];return[4,e.loadImageAsync("./public/others/share.jpg")];case 1:t=n.sent();t&&(e.shareImageBase64=t);n.label=2;case 2:return[4,e.sdk.shareAsync({title:eF,text:"Play now!",image:e.shareImageBase64})];case 3:n.sent();return[3,5];case 4:n.sent();return[3,5];case 5:return[2]}})})()}},{key:"switchGameAsync",value:function(e,t){var n=GameCore.Utils.Valid,r=n.isObject;return r(t)?this.sdk.switchGameAsync({id:e,payloadData:t}):this.exceptionInvalidParam("Data must be an object, but got ".concat(void 0===t?"undefined":_type_of(t)))}},{key:"submitGameResultsAsync",value:function(e){return this.sdk.submitGameResultsAsync(e)}},{key:"scheduleNotificationAsync",value:function(e){var t=this;return _async_to_generator(function(){var n,r,a;return _ts_generator(this,function(i){switch(i.label){case 0:if(!!t.notificationImageBase64)return[3,4];i.label=1;case 1:i.trys.push([1,3,,4]);return[4,t.loadImageAsync("./public/others/notification.jpg")];case 2:n=i.sent();n&&(t.notificationImageBase64=n);return[3,4];case 3:i.sent();return[3,4];case 4:r={playerId:t.adapter.player.getID()||"Anonymous"},a={title:eF,description:"We miss you!",type:0,minDelayInSeconds:300,imageData:t.notificationImageBase64,callToAction:"Play now!",payload:JSON.stringify(r)};a=_object_spread({},a,e);i.label=5;case 5:i.trys.push([5,7,,8]);return[4,t.sdk.scheduleNotificationAsync(a)];case 6:i.sent();return[3,8];case 7:i.sent();return[3,8];case 8:return[2]}})})()}},{key:"sendDailyNotificationAsync",value:function(){return _async_to_generator(function(){return _ts_generator(this,function(e){return[2,eV.sendDailyNotification()]})})()}},{key:"isValidDisplayAdPlacement",value:function(e){return["top:728x90","bottom:728x90","left:300x250","right:300x250","topleft:300x250","topright:300x250","bottomleft:300x250","bottomright:300x250","top:320x50","right:320x50","bottom:320x50","left:320x50","left:300x600","right:300x600","top:970x250","bottom:970x250","left:160x600","right:160x600"].indexOf(e)>-1}},{key:"getBannerOffset",value:function(){return 20}},{key:"loadImageAsync",value:function(e){return _async_to_generator(function(){var t;return _ts_generator(this,function(n){switch(n.label){case 0:return[4,fetch(e).then(function(e){return e.blob()}).then(function(e){var t=GameCore.Utils.Image,n=t.blobToDataImage;return n(e)})];case 1:t=n.sent();return[2,t&&"string"==typeof t?Promise.resolve(t):Promise.reject(new Error("Cannot load image"))]}})})()}}]);return nt}(em),eY=eH;n();r();var eW=/*#__PURE__*/function(e){_inherits(rt,e);function rt(e){_class_call_check(this,rt);var t;t=_call_super(this,rt,[e]);o(t,"_personalInfo");o(t,"signature","");o(t,"isLoginEnabled",!1);t.updateLoginEnabledConfig();return t}_create_class(rt,[{key:"updateLoginEnabledConfig",value:function(){var e=t;if(!e)return;var n=e.MSGames;n&&(this.isLoginEnabled=n.UseLoginFeature)}},{key:"initPlayerAsync",value:function(){var e=this;return _async_to_generator(function(){var t,n;return _ts_generator(this,function(r){switch(r.label){case 0:r.trys.push([0,8,,10]);return[4,e.tryGettingSignedInPlayer()];case 1:t=r.sent();n=e.isLoginEnabled&&!t;if(!n)return[3,3];return[4,e.tryMakingPlayerSignedIn()];case 2:n=t=r.sent();r.label=3;case 3:if(!t)return[3,5];return[4,e.initLoggedMode(t)];case 4:r.sent();return[3,7];case 5:return[4,e.initGuestMode()];case 6:r.sent();r.label=7;case 7:return[3,10];case 8:r.sent();return[4,e.initGuestMode()];case 9:r.sent();return[3,10];case 10:return[2]}})})()}},{key:"updateCurrentPlayerInfo",value:function(e){var t=this;return _async_to_generator(function(){var n,r,a,i;return _ts_generator(this,function(s){n=GameCore.Utils,r=n.Valid,a=n.Number,i=t.getID();r.isString(i)&&r.isString(e)||(i="".concat(a.random(1e5)),t.currentPlayerInfo.playerId=i,t.currentPlayerInfo.playerName="Guest_".concat(i));return[2]})})()}},{key:"initLoggedMode",value:function(e){var t=this;return _async_to_generator(function(){var n,r,a;return _ts_generator(this,function(i){n=e.playerId,r=e.signature,a=e.playerDisplayName;t.currentPlayerInfo.playerId=n,t.currentPlayerInfo.playerName=a,t.signature="".concat(n," ").concat(r),t._personalInfo={id:n,avatarIdHash:"0",lang:"en",publicName:a,uniqueID:n,scopePermissions:{avatar:"forbid",public_name:"forbid"}},t.initPlayerInfo(n);return[2]})})()}},{key:"initGuestMode",value:function(){var e=this;return _async_to_generator(function(){var t,n;return _ts_generator(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,e.getRandomName()];case 1:t=r.sent(),n=t.replace(/ /g,"-");if(n===e.getID())return[2];e.currentPlayerInfo.playerId=n,e.currentPlayerInfo.playerName=t,e._personalInfo={id:n,avatarIdHash:"0",lang:"en",publicName:t,uniqueID:n,scopePermissions:{avatar:"forbid",public_name:"forbid"}},e.initPlayerInfo(n);return[3,3];case 2:r.sent();return[3,3];case 3:return[2]}})})()}},{key:"getRandomName",value:function(){return _async_to_generator(function(){return _ts_generator(this,function(e){return[2,GameCore.Utils.String.generateNameAsync()]})})()}},{key:"tryGettingSignedInPlayer",value:function(){var e=this;return _async_to_generator(function(){var t,n,r;return _ts_generator(this,function(a){switch(a.label){case 0:t=null,n=e.adapter,r=n.sdk;a.label=1;case 1:a.trys.push([1,3,,4]);return[4,r.getSignedInUserAsync()];case 2:t=a.sent();return[3,4];case 3:a.sent();return[3,4];case 4:return[2,Promise.resolve(t)]}})})()}},{key:"tryMakingPlayerSignedIn",value:function(){var e=this;return _async_to_generator(function(){var t,n,r;return _ts_generator(this,function(a){switch(a.label){case 0:t=null,n=e.adapter,r=n.sdk;a.label=1;case 1:a.trys.push([1,3,,4]);return[4,r.signInAsync()];case 2:t=a.sent();return[3,4];case 3:a.sent();return[3,4];case 4:return[2,Promise.resolve(t)]}})})()}},{key:"getASIDAsync",value:function(){var e;return Promise.resolve(null!==(e=this.getID())&&void 0!==e?e:"")}},{key:"getSignedASIDAsync",value:function(){var e=this;return Promise.resolve({getASID:function(){var t;return null!==(t=e.getID())&&void 0!==t?t:""},getSignature:function(){return e.signature}})}},{key:"getSignedPlayerInfoAsync",value:function(){var e=this;return Promise.resolve({getPlayerID:function(){var t;return null!==(t=e.getID())&&void 0!==t?t:"10"},getSignature:function(){return e.signature}})}},{key:"canSubscribeBotAsync",value:function(){return Promise.resolve(!1)}},{key:"subscribeBotAsync",value:function(){this.adapter.extra.exceptionUnsupported()}},{key:"getConnectedPlayersAsync",value:function(){this.adapter.extra.exceptionUnsupported()}}]);return rt}(ew),eq=eW;var eJ=/*#__PURE__*/function(e){_inherits(at,e);function at(e){_class_call_check(this,at);var t;t=_call_super(this,at);o(t,"sdk");o(t,"showBannerAdsAsync");o(t,"adPlacementList",new Set);t.sdk=e;return t}_create_class(at,[{key:"initialize",value:function(){_get(_get_prototype_of(at.prototype),"initialize",this).call(this),this.extra=new eY(this),this.player=new eq(this),this.rewardedVideoInstance=new eR("rewarded",this.sdk),this.interstitialAdInstance=new eR("interstitial",this.sdk)}},{key:"initializeAsync",value:function(){var e=this;var t=this,_superprop_get_initializeAsync=function(){return _get(_get_prototype_of(at.prototype),"initializeAsync",e)};return _async_to_generator(function(){return _ts_generator(this,function(e){switch(e.label){case 0:if(!!t.isInitialized)return[3,6];return[4,_superprop_get_initializeAsync().call(t)];case 1:e.sent(),t.isInitialized=!1;e.label=2;case 2:e.trys.push([2,4,,5]);return[4,t.player.initPlayerAsync()];case 3:e.sent(),t.isInitialized=!0;return[3,5];case 4:e.sent();return[3,5];case 5:t.initShowBannerAdsAsync();e.label=6;case 6:return[2]}})})()}},{key:"getLocale",value:function(){return this.sdk.getLocale()}},{key:"getSDKVersion",value:function(){return"v1.0.0-rc.13"}},{key:"getSDKName",value:function(){return"MsGames"}},{key:"canCreateShortcutAsync",value:function(){return _async_to_generator(function(){return _ts_generator(this,function(e){return[2,!0]})})()}},{key:"createShortcutAsync",value:function(){var e=this;return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,e.sdk.promptInstallAsync()];case 1:t.sent();return[3,3];case 2:t.sent();return[3,3];case 3:return[2]}})})()}},{key:"getInterstitialAdAsync",value:function(){var e=this;return _async_to_generator(function(){return _ts_generator(this,function(t){return[2,e.interstitialAdInstance]})})()}},{key:"getRewardedVideoAsync",value:function(){var e=this;return _async_to_generator(function(){return _ts_generator(this,function(t){return[2,e.rewardedVideoInstance]})})()}},{key:"loadBannerAdAsync",value:function(e){var t=this;return _async_to_generator(function(){var n,r,a,i,s,c,u,l,d;return _ts_generator(this,function(h){switch(h.label){case 0:n=GameCore.Utils,r=n.Array,a=GameCore.Configs.Ads,i=a.BannerDisplayAdOptions,s=r.search(i,function(t){return t.PlacementId===e});if(!s)return[2];c=s.Position,u=s.BannerWidth,l=s.BannerHeight,d="".concat(c,":").concat(u,"x").concat(l);t.extra.isValidDisplayAdPlacement(d)&&t.adPlacementList.add(d);return[4,t.showBannerAdsAsync()];case 1:h.sent();return[2]}})})()}},{key:"hideBannerAdAsync",value:function(e){var t=this;return _async_to_generator(function(){return _ts_generator(this,function(e){switch(e.label){case 0:e.trys.push([0,2,,3]);return[4,t.sdk.hideDisplayAdsAsync()];case 1:e.sent();return[3,3];case 2:e.sent();return[3,3];case 3:return[2]}})})()}},{key:"getEntryPointAsync",value:function(){var e=this;return _async_to_generator(function(){var t;return _ts_generator(this,function(n){t=e.sdk.getEntryPointInfo();return[2,e.sdk.getNotificationPayload()?"msn_notification":t.entryPointId]})})()}},{key:"initShowBannerAdsAsync",value:function(){var e=GameCore.Utils,t=e.Function;var n=this;this.showBannerAdsAsync=t.debounce(/*#__PURE__*/_async_to_generator(function(){var e;return _ts_generator(this,function(t){switch(t.label){case 0:if(0!==n.adPlacementList.size)return[3,1];n.extra.exceptionInvalidOperation("Invalid banner ad placement");return[3,4];case 1:t.trys.push([1,3,,4]);e=_to_consumable_array(n.adPlacementList);return[4,n.sdk.showDisplayAdsAsync(e)];case 2:t.sent();return[3,4];case 3:t.sent();return[3,4];case 4:n.adPlacementList.clear();return[2]}})}),100)}}]);return at}(eN),eQ=eJ;s();n();r();var eX=[],Jt=function(e){try{var t=new Error;if(null==t.stack)throw new Error;var n=t.stack.match(/\n/g)||[],r=n.length>=4?n[3]:n[0];if(!r||eX.indexOf(r)>-1)return e;if(["eval","at <","(<"].some(function(e){return r.indexOf(e)>-1}))throw new Error;return eX.push(r),e}catch(e){return}},Xt=function(e,t){var n;var r=null===(n=Object.getOwnPropertyDescriptor(e,t))||void 0===n?void 0:n.value;r&&Object.defineProperty(e,t,{enumerable:!1,get:function(){return Jt(r)},set:function(){}})},eZ=Xt;function Zt(){var e,t=window;return"FBInstant"in t?e=new i(window.FBInstant):"YaGames"in t?e=new i(window.YaGames):"$msstart"in t?e=new eQ(window.$msstart):"gdsdk"in t?e=new i(window.gdsdk):"CrazyGames"in t?e=new i(window.CrazyGames.SDK):"GlanceGamingAdInterface"in t?e=new i(window.GlanceGamingAdInterface):e=new eN,e}window.GameSDK=Object.seal(Zt());eZ(window,"GameSDK")})();(function(){"use strict";var e={TAG_IDS:"G-EX3MNH7ENG",BUILD_VERSION:"1"};var t=e,m=function(){var e=setInterval(function(){if(window.__sdkLoadingCount>=99){clearInterval(e);return}GameSDK.setLoadingProgress(window.__sdkLoadingCount++)},150)};var n=/*#__PURE__*/function(){var e=_async_to_generator(function(){return _ts_generator(this,function(e){switch(e.label){case 0:return[4,GameSDK.initializeAsync()];case 1:e.sent(),window.__sdkLoadingCount=1,GameSDK.setLoadingProgress(window.__sdkLoadingCount),m();return[4,a()];case 2:e.sent(),window.__sdkInitiated=!0;return[2]}})});return function(){return e.apply(this,arguments)}}(),r={},a=/*#__PURE__*/function(){var e=_async_to_generator(function(){var e,n,r,a,i,s,c;return _ts_generator(this,function(u){switch(u.label){case 0:u.trys.push([0,2,,3]);e=t.TAG_IDS,n=e.split(" ");if(0===n.length||!n[0]||"null"===n[0])return[2];return[4,GameSDK.getEntryPointAsync()];case 1:a=null!==(r=u.sent())&&void 0!==r?r:"no_entry",i=document.createElement("script");i.async=!0,i.src="https://www.googletagmanager.com/gtag/js?id=".concat(n[0]),document.head.appendChild(i);s=GameSDK.player.getID();y(s,a,n),S(s);return[3,3];case 2:c=u.sent();g(c);return[3,3];case 3:return[2]}})});return function(){return e.apply(this,arguments)}}(),g=function(e){if(window.gtag("event","app_crash_handle",{error:e}),!window.game||!window.game.monitorError){window.__errorQueue.push(e);return}window.game.monitorError.sendException(e)},y=function(e,n,a){try{window.focus();var i=t.BUILD_VERSION,s=void 0===i?"0":i,c=GameSDK.getEntryPointData()||{},u=c.fbig_ad_id,l=c.fbig_adset_id,d=c.fbig_campaign_id;window.gtag("js",new Date),window.gtag("set","client_id","100.".concat(e)),window.gtag("set","user_id",e),window.gtag("set","send_page_view",!1),a.forEach(function(e){window.gtag("config",e,{cookie_flags:"SameSite=None;Secure",build:s,medium:n,campaign:d,groups:"GA"})});var h=GameCore.Utils.Browser.getQueryParams().entry_point||n;r.user_id=e,r.player_id=e,r.app_version=s,r.traffic_source=n,r.traffic_source_detail=h,r.ad_id=u,r.adset_id=l,r.campaign_id=d,window.gtag("set","user_properties",r)}catch(e){g(e)}finally{window.gtag("event","app_launch",{})}};var S=function(){if(!GameSDK.player.getID())return;var o=function(){try{var e;var t=window.game,n=t.player,a=n.getBestScore(),i=null!==(e=n.getGameData().coins)&&void 0!==e?e:0,s=n.isFirstLogin();r.new_user=s,r.coins=i,r.score=a;var c=GameSDK.getEntryPointData(),u=c||{},l=u.content,d=u.notif_id;(l||d)&&(r.traffic_source_detail=null!=l?l:"notif_".concat(d)),window.gtag("set","user_properties",r)}catch(e){g(e)}};if(window.game.event.getEventEmitCount("player-info-loaded")>0){o();return}window.game.event.catchUp("player-info-loaded",o)};n()})();</script><link rel="stylesheet" crossorigin href="./assets/style-BaslFsjX.css"></head><body><script>!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var n,r,e=(function(n){!function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=0)}([function(t,n,r){t.exports=r(1)},function(t,n,r){r(2)({global:!0},{globalThis:r(3)})},function(t,n,r){var e=r(3),o=r(4).f,u=r(18),i=r(21),f=r(22),c=r(32),a=r(44);t.exports=function(t,n){var r,p,s,l,v,y=t.target,d=t.global,g=t.stat;if(r=d?e:g?e[y]||f(y,{}):(e[y]||{}).prototype)for(p in n){if(l=n[p],s=t.noTargetGet?(v=o(r,p))&&v.value:r[p],!a(d?p:y+(g?".":"#")+p,t.forced)&&void 0!==s){if(typeof l==typeof s)continue;c(l,s)}(t.sham||s&&s.sham)&&u(l,"sham",!0),i(r,p,l,t)}}},function(n,r){var e=function(t){return t&&t.Math==Math&&t};n.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||Function("return this")()},function(t,n,r){var e=r(5),o=r(7),u=r(8),i=r(9),f=r(13),c=r(15),a=r(16),p=Object.getOwnPropertyDescriptor;n.f=e?p:function(t,n){if(t=i(t),n=f(n,!0),a)try{return p(t,n)}catch(t){}if(c(t,n))return u(!o.f.call(t,n),t[n])}},function(t,n,r){var e=r(6);t.exports=!e((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,u=o&&!e.call({1:2},1);n.f=u?function(t){var n=o(this,t);return!!n&&n.enumerable}:e},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,r){var e=r(10),o=r(12);t.exports=function(t){return e(o(t))}},function(t,n,r){var e=r(6),o=r(11),u="".split;t.exports=e((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?u.call(t,""):Object(t)}:Object},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,n,r){var e=r(14);t.exports=function(t,n){if(!e(t))return t;var r,o;if(n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!e(o=r.call(t)))return o;if(!n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(5),o=r(6),u=r(17);t.exports=!e&&!o((function(){return 7!=Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(3),o=r(14),u=e.document,i=o(u)&&o(u.createElement);t.exports=function(t){return i?u.createElement(t):{}}},function(t,n,r){var e=r(5),o=r(19),u=r(8);t.exports=e?function(t,n,r){return o.f(t,n,u(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(5),o=r(16),u=r(20),i=r(13),f=Object.defineProperty;n.f=e?f:function(t,n,r){if(u(t),n=i(n,!0),u(r),o)try{return f(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(14);t.exports=function(t){if(!e(t))throw TypeError(String(t)+" is not an object");return t}},function(t,n,r){var e=r(3),o=r(18),u=r(15),i=r(22),f=r(23),c=r(25),a=c.get,p=c.enforce,s=String(String).split("String");(t.exports=function(t,n,r,f){var c=!!f&&!!f.unsafe,a=!!f&&!!f.enumerable,l=!!f&&!!f.noTargetGet;"function"==typeof r&&("string"!=typeof n||u(r,"name")||o(r,"name",n),p(r).source=s.join("string"==typeof n?n:"")),t!==e?(c?!l&&t[n]&&(a=!0):delete t[n],a?t[n]=r:o(t,n,r)):a?t[n]=r:i(n,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&a(this).source||f(this)}))},function(t,n,r){var e=r(3),o=r(18);t.exports=function(t,n){try{o(e,t,n)}catch(r){e[t]=n}return n}},function(t,n,r){var e=r(24),o=Function.toString;"function"!=typeof e.inspectSource&&(e.inspectSource=function(t){return o.call(t)}),t.exports=e.inspectSource},function(t,n,r){var e=r(3),o=r(22),u=e["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=u},function(t,n,r){var e,o,u,i=r(26),f=r(3),c=r(14),a=r(18),p=r(15),s=r(27),l=r(31),v=f.WeakMap;if(i){var y=new v,d=y.get,g=y.has,b=y.set;e=function(t,n){return b.call(y,t,n),n},o=function(t){return d.call(y,t)||{}},u=function(t){return g.call(y,t)}}else{var x=s("state");l[x]=!0,e=function(t,n){return a(t,x,n),n},o=function(t){return p(t,x)?t[x]:{}},u=function(t){return p(t,x)}}t.exports={set:e,get:o,has:u,enforce:function(t){return u(t)?o(t):e(t,{})},getterFor:function(t){return function(n){var r;if(!c(n)||(r=o(n)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},function(t,n,r){var e=r(3),o=r(23),u=e.WeakMap;t.exports="function"==typeof u&&/native code/.test(o(u))},function(t,n,r){var e=r(28),o=r(30),u=e("keys");t.exports=function(t){return u[t]||(u[t]=o(t))}},function(t,n,r){var e=r(29),o=r(24);(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.6.5",mode:e?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,n){t.exports=!1},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+e).toString(36)}},function(t,n){t.exports={}},function(t,n,r){var e=r(15),o=r(33),u=r(4),i=r(19);t.exports=function(t,n){for(var r=o(n),f=i.f,c=u.f,a=0;a<r.length;a++){var p=r[a];e(t,p)||f(t,p,c(n,p))}}},function(t,n,r){var e=r(34),o=r(36),u=r(43),i=r(20);t.exports=e("Reflect","ownKeys")||function(t){var n=o.f(i(t)),r=u.f;return r?n.concat(r(t)):n}},function(t,n,r){var e=r(35),o=r(3),u=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,n){return arguments.length<2?u(e[t])||u(o[t]):e[t]&&e[t][n]||o[t]&&o[t][n]}},function(t,n,r){var e=r(3);t.exports=e},function(t,n,r){var e=r(37),o=r(42).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},function(t,n,r){var e=r(15),o=r(9),u=r(38).indexOf,i=r(31);t.exports=function(t,n){var r,f=o(t),c=0,a=[];for(r in f)!e(i,r)&&e(f,r)&&a.push(r);for(;n.length>c;)e(f,r=n[c++])&&(~u(a,r)||a.push(r));return a}},function(t,n,r){var e=r(9),o=r(39),u=r(41),i=function(t){return function(n,r,i){var f,c=e(n),a=o(c.length),p=u(i,a);if(t&&r!=r){for(;a>p;)if((f=c[p++])!=f)return!0}else for(;a>p;p++)if((t||p in c)&&c[p]===r)return t||p||0;return!t&&-1}};t.exports={includes:i(!0),indexOf:i(!1)}},function(t,n,r){var e=r(40),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(40),o=Math.max,u=Math.min;t.exports=function(t,n){var r=e(t);return r<0?o(r+n,0):u(r,n)}},function(t,n){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(6),o=/#|\.prototype\./,u=function(t,n){var r=f[i(t)];return r==a||r!=c&&("function"==typeof n?e(n):!!n)},i=u.normalize=function(t){return String(t).replace(o,".").toLowerCase()},f=u.data={},c=u.NATIVE="N",a=u.POLYFILL="P";t.exports=u}])}(n={exports:{}},n.exports),n.exports);(r=e)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")&&r.default}));
</script><script>!function(){"use strict";function e(e,t){return(t||"")+" (SystemJS https://git.io/JvFET#"+e+")"}var t,n="undefined"!=typeof Symbol,r="undefined"!=typeof self,i="undefined"!=typeof document,o=r?self:global;if(i){var s=document.querySelector("base[href]");s&&(t=s.href)}if(!t&&"undefined"!=typeof location){var u=(t=location.href.split("#")[0].split("?")[0]).lastIndexOf("/");-1!==u&&(t=t.slice(0,u+1))}var c=/\\/g;function a(e,t){if(-1!==e.indexOf("\\")&&(e=e.replace(c,"/")),"/"===e[0]&&"/"===e[1])return t.slice(0,t.indexOf(":")+1)+e;if("."===e[0]&&("/"===e[1]||"."===e[1]&&("/"===e[2]||2===e.length&&(e+="/"))||1===e.length&&(e+="/"))||"/"===e[0]){var n,r=t.slice(0,t.indexOf(":")+1);if(n="/"===t[r.length+1]?"file:"!==r?(n=t.slice(r.length+2)).slice(n.indexOf("/")+1):t.slice(8):t.slice(r.length+("/"===t[r.length])),"/"===e[0])return t.slice(0,t.length-n.length-1)+e;for(var i=n.slice(0,n.lastIndexOf("/")+1)+e,o=[],s=-1,u=0;u<i.length;u++)-1!==s?"/"===i[u]&&(o.push(i.slice(s,u+1)),s=-1):"."===i[u]?"."!==i[u+1]||"/"!==i[u+2]&&u+2!==i.length?"/"===i[u+1]||u+1===i.length?u+=1:s=u:(o.pop(),u+=2):s=u;return-1!==s&&o.push(i.slice(s)),t.slice(0,t.length-n.length)+o.join("")}}function f(e,t){return a(e,t)||(-1!==e.indexOf(":")?e:a("./"+e,t))}function l(e,t,n,r,i){for(var o in e){var s=a(o,n)||o,u=e[o];if("string"==typeof u){var c=d(r,a(u,n)||u,i);c?t[s]=c:p("W1",o,u)}}}function h(e,t){if(t[e])return e;var n=e.length;do{var r=e.slice(0,n+1);if(r in t)return r}while(-1!==(n=e.lastIndexOf("/",n-1)))}function v(e,t){var n=h(e,t);if(n){var r=t[n];if(null===r)return;if(!(e.length>n.length&&"/"!==r[r.length-1]))return r+e.slice(n.length);p("W2",n,r)}}function p(t,n,r,i){console.warn(e(t,[r,n].join(", ")))}function d(e,t,n){for(var r=e.scopes,i=n&&h(n,r);i;){var o=v(t,r[i]);if(o)return o;i=h(i.slice(0,i.lastIndexOf("/")),r)}return v(t,e.imports)||-1!==t.indexOf(":")&&t}var m=n&&Symbol.toStringTag,g=n?Symbol():"@";function y(){this[g]={}}var S,w=y.prototype;function b(t,n,r){var i=t[g][n];if(i)return i;var o=[],s=Object.create(null);m&&Object.defineProperty(s,m,{value:"Module"});var u=Promise.resolve().then((function(){return t.instantiate(n,r)})).then((function(r){if(!r)throw Error(e(2,n));var u=r[1]((function(e,t){i.h=!0;var n=!1;if("string"==typeof e)e in s&&s[e]===t||(s[e]=t,n=!0);else{for(var r in e){t=e[r];r in s&&s[r]===t||(s[r]=t,n=!0)}e.__esModule&&(s.__esModule=e.__esModule)}if(n)for(var u=0;u<o.length;u++){var c=o[u];c&&c(s)}return t}),2===r[1].length?{import:function(e){return t.import(e,n)},meta:t.createContext(n)}:void 0);return i.e=u.execute||function(){},[r[0],u.setters||[]]}),(function(e){throw i.e=null,i.er=e,e})),c=u.then((function(e){return Promise.all(e[0].map((function(r,i){var o=e[1][i];return Promise.resolve(t.resolve(r,n)).then((function(e){var r=b(t,e,n);return Promise.resolve(r.I).then((function(){return o&&(r.i.push(o),!r.h&&r.I||o(r.n)),r}))}))}))).then((function(e){i.d=e}))}));return i=t[g][n]={id:n,i:o,n:s,I:u,L:c,h:!1,d:void 0,e:void 0,er:void 0,E:void 0,C:void 0,p:void 0}}function E(e,t,n,r){if(!r[t.id])return r[t.id]=!0,Promise.resolve(t.L).then((function(){return t.p&&null!==t.p.e||(t.p=n),Promise.all(t.d.map((function(t){return E(e,t,n,r)})))})).catch((function(e){if(t.er)throw e;throw t.e=null,e}))}w.import=function(e,t){var n=this;return Promise.resolve(n.prepareImport()).then((function(){return n.resolve(e,t)})).then((function(e){var t=b(n,e);return t.C||function(e,t){return t.C=E(e,t,t,{}).then((function(){return j(e,t,{})})).then((function(){return t.n}))}(n,t)}))},w.createContext=function(e){var t=this;return{url:e,resolve:function(n,r){return Promise.resolve(t.resolve(n,r||e))}}},w.register=function(e,t){S=[e,t]},w.getRegister=function(){var e=S;return S=void 0,e};var O=Object.freeze(Object.create(null)),x=Promise.prototype.finally||function(e){if("function"!=typeof e)return this.then(e,e);const t=this.constructor||Promise;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))};function j(e,t,n){if(n[t.id])return t.E;if(n[t.id]=!0,!t.e){if(t.er)throw t.er;return t.E?t.E:void 0}const r=t.e;var i;if(t.e=null,t.d.forEach((function(r){try{var o=j(e,r,n);o&&(i=i||[]).push(o)}catch(e){throw t.er=e,e}})),i)return t.E=x.call(Promise.all(i).then(s),(function(){t.E=null}));var o=s();if(o)return t.E=x.call(o,(function(){t.E=null}));function s(){try{var e=r.call(O);if(e)return e=e.then((function(){t.C=t.n}),(function(e){throw t.er=e,e}));t.C=t.n,t.L=t.I=void 0}catch(e){throw t.er=e,e}}}o.System=new y;const P="undefined"!=typeof $global?$global:"function"==typeof getApp?getApp().GameGlobal:void 0;(void 0!==P?P.System:System).constructor.prototype.instantiate=function(e,t){throw new Error(`Unable to instantiate ${e} from ${t}`)};var R="undefined"!=typeof Symbol&&Symbol.toStringTag;w.get=function(e){var t=this[g][e];if(t&&null===t.e&&!t.E)return t.er?null:t.n},w.set=function(e,t){var n;R&&"Module"===t[R]?n=t:(n=Object.assign(Object.create(null),t),R&&Object.defineProperty(n,R,{value:"Module"}));var r=Promise.resolve(n),i=this[g][e]||(this[g][e]={id:e,i:[],h:!1,d:[],e:null,er:void 0,E:void 0});return!i.e&&!i.E&&(Object.assign(i,{n:n,I:void 0,L:void 0,C:r}),n)},w.has=function(e){return!!this[g][e]},w.delete=function(e){var t=this[g],n=t[e];if(!n||n.p&&null!==n.p.e||n.E)return!1;var r=n.i;return n.d&&n.d.forEach((function(e){var t=e.i.indexOf(n);-1!==t&&e.i.splice(t,1)})),delete t[e],function(){var n=t[e];if(!n||!r||null!==n.e||n.E)return!1;r.forEach((function(e){n.i.push(e),e(n.n)})),r=null}};var M="undefined"!=typeof Symbol&&Symbol.iterator;w.entries=function(){var e,t,n=this,r=Object.keys(n[g]),i=0,o={next:function(){for(;void 0!==(t=r[i++])&&void 0===(e=n.get(t)););return{done:void 0===t,value:void 0!==t&&[t,e]}}};return o[M]=function(){return this},o};var C,L,A=Promise.resolve(),I={imports:{},scopes:{},depcache:{},integrity:{}},W=i;function T(){[].forEach.call(document.querySelectorAll("script"),(function(n){if(!n.sp)if("systemjs-module"===n.type){if(n.sp=!0,!n.src)return;System.import("import:"===n.src.slice(0,7)?n.src.slice(7):f(n.src,t)).catch((function(e){if(e.message.indexOf("https://git.io/JvFET#3")>-1){var t=document.createEvent("Event");t.initEvent("error",!1,!1),n.dispatchEvent(t)}return Promise.reject(e)}))}else if("systemjs-importmap"===n.type){n.sp=!0;var r=n.src?fetch(n.src,{integrity:n.integrity}).then((function(e){if(!e.ok)throw Error(e.status);return e.text()})).catch((function(t){return t.message=e("W4",n.src)+"\n"+t.message,console.warn(t),"{}"})):n.innerHTML;A=A.then((function(){return r})).then((function(r){!function(t,n,r){var i={};try{i=JSON.parse(n)}catch(t){console.warn(Error(e("W5")))}!function(e,t,n){var r;for(r in e.imports&&l(e.imports,n.imports,t,n,null),e.scopes||{}){var i=f(r,t);l(e.scopes[r],n.scopes[i]||(n.scopes[i]={}),t,n,i)}for(r in e.depcache||{})n.depcache[f(r,t)]=e.depcache[r];for(r in e.integrity||{})n.integrity[f(r,t)]=e.integrity[r]}(i,r,t)}(I,r,n.src||t)}))}}))}if(w.prepareImport=function(e){return(W||e)&&(T(),W=!1),A},i&&(T(),window.addEventListener("DOMContentLoaded",T)),i){window.addEventListener("error",(function(e){J=e.filename,_=e.error}));var $=location.origin}w.createScript=function(e){var t=document.createElement("script");t.async=!0,e.indexOf($+"/")&&(t.crossOrigin="anonymous");var n=I.integrity[e];return n&&(t.integrity=n),t.src=e,t};var J,_,N={},F=w.register;w.register=function(e,t){if(i&&"loading"===document.readyState&&"string"!=typeof e){var n=document.querySelectorAll("script[src]"),r=n[n.length-1];if(r){r.src,C=e;var o=this;L=setTimeout((function(){N[r.src]=[e,t],o.import(r.src)}))}}else C=void 0;return F.call(this,e,t)},w.instantiate=function(t,n){var r=N[t];if(r)return delete N[t],r;var i=this;return new Promise((function(r,o){var s=w.createScript(t);s.addEventListener("error",(function(){o(Error(e(3,[t,n].join(", "))))})),s.addEventListener("load",(function(){if(document.head.removeChild(s),J===t)o(_);else{var e=i.getRegister();e&&e[0]===C&&clearTimeout(L),r(e)}})),document.head.appendChild(s)}))},w.shouldFetch=function(){return!1},"undefined"!=typeof fetch&&(w.fetch=fetch);var k=w.instantiate,B=/^(text|application)\/(x-)?javascript(;|$)/;w.instantiate=function(t,n){var r=this;return this.shouldFetch(t)?this.fetch(t,{credentials:"same-origin",integrity:I.integrity[t]}).then((function(i){if(!i.ok)throw Error(e(7,[i.status,i.statusText,t,n].join(", ")));var o=i.headers.get("content-type");if(!o||!B.test(o))throw Error(e(4,o));return i.text().then((function(e){return e.indexOf("//# sourceURL=")<0&&(e+="\n//# sourceURL="+t),(0,eval)(e),r.getRegister()}))})):k.apply(this,arguments)},w.resolve=function(n,r){return d(I,a(n,r=r||t)||n,r)||function(t,n){throw Error(e(8,[t,n].join(", ")))}(n,r)};var q=w.instantiate;w.instantiate=function(e,t){var n=I.depcache[e];if(n)for(var r=0;r<n.length;r++)b(this,this.resolve(n[r],e),e);return q.call(this,e,t)},r&&"function"==typeof importScripts&&(w.instantiate=function(e){var t=this;return Promise.resolve().then((function(){return importScripts(e),t.getRegister()}))}),function(e){var t,n,r,i=e.System.constructor.prototype;var o=i.import;i.import=function(i,s){return function(){for(var i in t=n=void 0,e)a(i)||(t?n||(n=i):t=i,r=i)}(),o.call(this,i,s)};var s=[[],function(){return{}}],u=i.getRegister;i.getRegister=function(){var i=u.call(this);if(i)return i;var o,c=function(i){var o,s,u=0;for(var c in e)if(!a(c)){if(0===u&&c!==t||1===u&&c!==n)return c;o?(r=c,s=i&&s||c):o=c===r,u++}return s}(this.firstGlobalProp);if(!c)return s;try{o=e[c]}catch(e){return s}return[[],function(e){return{execute:function(){e(o),e({default:o,__useDefault:!0})}}}]};var c="undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("Trident");function a(t){return!e.hasOwnProperty(t)||!isNaN(t)&&t<e.length||c&&e[t]&&"undefined"!=typeof window&&e[t].parent===window}}("undefined"!=typeof self?self:global),function(e){var t=e.System.constructor.prototype,n=/^[^#?]+\.(css|html|json|wasm)([?#].*)?$/;t.shouldFetch=function(e){return n.test(e)};var r=/^application\/json(;|$)/,i=/^text\/css(;|$)/,o=/^application\/wasm(;|$)/,s=t.fetch;t.fetch=function(t,n){return s(t,n).then((function(n){if(!n.ok)return n;var s=n.headers.get("content-type");return r.test(s)?n.json().then((function(e){return new Response(new Blob(['System.register([],function(e){return{execute:function(){e("default",'+JSON.stringify(e)+")}}})"],{type:"application/javascript"}))})):i.test(s)?n.text().then((function(e){return new Response(new Blob(["System.register([],function(e){return{execute:function(){var s=new CSSStyleSheet();s.replaceSync("+JSON.stringify(e)+');e("default",s)}}})'],{type:"application/javascript"}))})):o.test(s)?(WebAssembly.compileStreaming?WebAssembly.compileStreaming(n):n.arrayBuffer().then(WebAssembly.compile)).then((function(n){e.System.wasmModules||(e.System.wasmModules=Object.create(null)),e.System.wasmModules[t]=n;var r=[],i=[];return WebAssembly.Module.imports&&WebAssembly.Module.imports(n).forEach((function(e){var t=JSON.stringify(e.module);-1===r.indexOf(t)&&(r.push(t),i.push("function(m){i["+t+"]=m}"))})),new Response(new Blob(["System.register(["+r.join(",")+"],function(e){var i={};return{setters:["+i.join(",")+"],execute:function(){return WebAssembly.instantiate(System.wasmModules["+JSON.stringify(t)+"],i).then(function(m){e(m.exports)})}}})"],{type:"application/javascript"}))})):n}))}}("undefined"!=typeof self?self:global),function(e){var t=e.System;s(t);var n,r=t.constructor.prototype,i=t.constructor,o=function(){i.call(this),s(this)};function s(e){e.registerRegistry=Object.create(null)}o.prototype=r,t.constructor=o;var u=r.register;r.register=function(e,t,r){if("string"!=typeof e)return u.apply(this,arguments);var i=[t,r];return this.registerRegistry[e]=i,n||(n=i,Promise.resolve().then((function(){n=null}))),u.apply(this,arguments)};var c=r.resolve;r.resolve=function(e,t){try{return c.call(this,e,t)}catch(t){if(e in this.registerRegistry)return e;throw t}};var a=r.instantiate;r.instantiate=function(e,t){var n=this.registerRegistry[e];return n?(this.registerRegistry[e]=null,n):a.call(this,e,t)};var f=r.getRegister;r.getRegister=function(){var e=f.call(this),t=n||e;return n=null,t}}("undefined"!=typeof self?self:global)}();
</script><script src="src/import-map.json" type="systemjs-importmap" charset="utf-8"></script><script>System.import("./index.js").catch(function(o){console.error(o)})</script><script>System.import("./GameCore.js")</script><div id="GameDiv" cc_exact_fit_screen="true"><div id="Cocos3dGameContainer"><canvas id="GameCanvas" oncontextmenu="event.preventDefault()" tabindex="99"></canvas></div></div><link rel="stylesheet" href="style.css" importance="low"><style></style></body></html>