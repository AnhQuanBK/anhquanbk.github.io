function _assert_this_initialized(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function asyncGeneratorStep(i,c,l,f,p,h,g){try{var v=i[h](g);var _=v.value}catch(i){l(i);return}if(v.done)c(_);else Promise.resolve(_).then(f,p)}function _async_to_generator(i){return function(){var c=this,l=arguments;return new Promise(function(f,p){var h=i.apply(c,l);function _next(i){asyncGeneratorStep(h,f,p,_next,_throw,"next",i)}function _throw(i){asyncGeneratorStep(h,f,p,_next,_throw,"throw",i)}_next(void 0)})}}function _call_super(i,c,l){c=_get_prototype_of(c);return _possible_constructor_return(i,_is_native_reflect_construct()?Reflect.construct(c,l||[],_get_prototype_of(i).constructor):c.apply(i,l))}function _class_call_check(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,c){for(var l=0;l<c.length;l++){var f=c[l];f.enumerable=f.enumerable||false;f.configurable=true;if("value"in f)f.writable=true;Object.defineProperty(i,f.key,f)}}function _create_class(i,c,l){if(c)_defineProperties(i.prototype,c);if(l)_defineProperties(i,l);return i}function _get_prototype_of(i){_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)};return _get_prototype_of(i)}function _inherits(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:true,configurable:true}});if(c)_set_prototype_of(i,c)}function _instanceof(i,c){if(null!=c&&"undefined"!=typeof Symbol&&c[Symbol.hasInstance])return!!c[Symbol.hasInstance](i);return i instanceof c}function _possible_constructor_return(i,c){if(c&&("object"===_type_of(c)||"function"==typeof c))return c;return _assert_this_initialized(i)}function _set_prototype_of(i,c){_set_prototype_of=Object.setPrototypeOf||function(i,c){i.__proto__=c;return i};return _set_prototype_of(i,c)}function _type_of(i){return i&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i}function _is_native_reflect_construct(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(i){}return(_is_native_reflect_construct=function(){return!!i})()}function _ts_generator(i,c){var l,f,p,h,g={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return h={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function verb(i){return function(c){return step([i,c])}}function step(h){if(l)throw new TypeError("Generator is already executing.");while(g)try{if(l=1,f&&(p=2&h[0]?f.return:h[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,h[1])).done)return p;if(f=0,p)h=[2&h[0],p.value];switch(h[0]){case 0:case 1:p=h;break;case 4:g.label++;return{value:h[1],done:false};case 5:g.label++;f=h[1];h=[0];continue;case 7:h=g.ops.pop();g.trys.pop();continue;default:if(p=g.trys,!(p=p.length>0&&p[p.length-1])&&(6===h[0]||2===h[0])){g=0;continue}if(3===h[0]&&(!p||h[1]>p[0]&&h[1]<p[3])){g.label=h[1];break}if(6===h[0]&&g.label<p[1]){g.label=p[1];p=h;break}if(p&&g.label<p[2]){g.label=p[2];g.ops.push(h);break}if(p[2])g.ops.pop();g.trys.pop();continue}h=c.call(i,g)}catch(i){h=[6,i];f=0}finally{l=p=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:true}}}var Pt=Object.defineProperty;var Gr=function(i,c,l){return c in i?Pt(i,c,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[c]=l};var a=function(i,c){return Pt(i,"name",{value:c,configurable:!0})};var k=function(i,c,l){return Gr(i,(void 0===c?"undefined":_type_of(c))!="symbol"?c+"":c,l)};System.register(["./core.js","./__commonjsHelpers__.js"],function(i,c){"use strict";var l,f,p,h;return{setters:[function(i){l=i.P,f=i._,p=i.G},function(i){h=i.g}],execute:a(function(){var g={exports:{}};g.exports,function(i,c){(function(c){i.exports=c()})(function(){var i,c=["navigation","request","process","log","user","state","error","manual"],l=a(function(i,c,l){for(var f=l,p=0,h=i.length;p<h;p++)f=c(f,i[p],p,i);return f},"_$reduce_17"),f=a(function(i,c){return l(i,function(i,l,f,p){return c(l,f,p)?i.concat(l):i},[])},"_$filter_12"),p=a(function(i,c){return l(i,function(i,l,f,p){return!0===i||l===c},!1)},"_$includes_13"),h=a(function(i){return"[object Array]"===Object.prototype.toString.call(i)},"_$isArray_14"),g=!({toString:null}).propertyIsEnumerable("toString"),v=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],_=a(function(i){var c=[],l;for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&c.push(l);if(!g)return c;for(var f=0,p=v.length;f<p;f++)Object.prototype.hasOwnProperty.call(i,v[f])&&c.push(v[f]);return c},"_$keys_15"),m=a(function(i,c){return void 0===i&&(i=1),void 0===c&&(c=1/0),function(l){return"number"==typeof l&&parseInt(""+l,10)===l&&l>=i&&l<=c}},"_$intRange_24"),y=a(function(i){return"function"==typeof i||h(i)&&f(i,function(i){return"function"==typeof i}).length===i.length},"_$listOfFunctions_25"),b=a(function(i){return"string"==typeof i&&!!i.length},"_$stringWithLength_26"),S={},E=a(function(){return{unhandledExceptions:!0,unhandledRejections:!0}},"defaultErrorTypes");S.schema={apiKey:{defaultValue:a(function(){return null},"defaultValue"),message:"is required",validate:b},appVersion:{defaultValue:a(function(){},"defaultValue"),message:"should be a string",validate:a(function(i){return void 0===i||b(i)},"validate")},appType:{defaultValue:a(function(){},"defaultValue"),message:"should be a string",validate:a(function(i){return void 0===i||b(i)},"validate")},autoDetectErrors:{defaultValue:a(function(){return!0},"defaultValue"),message:"should be true|false",validate:a(function(i){return!0===i||!1===i},"validate")},enabledErrorTypes:{defaultValue:a(function(){return E()},"defaultValue"),message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:a(function(i){if((void 0===i?"undefined":_type_of(i))!="object"||!i)return!1;var c=_(i),l=_(E());return!(f(c,function(i){return p(l,i)}).length<c.length||f(_(i),function(c){return"boolean"!=typeof i[c]}).length>0)},"validate")},onError:{defaultValue:a(function(){return[]},"defaultValue"),message:"should be a function or array of functions",validate:y},onSession:{defaultValue:a(function(){return[]},"defaultValue"),message:"should be a function or array of functions",validate:y},onBreadcrumb:{defaultValue:a(function(){return[]},"defaultValue"),message:"should be a function or array of functions",validate:y},endpoints:{defaultValue:a(function(i){return(void 0===i?"undefined":_type_of(i))>"u"?{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}:{notify:null,sessions:null}},"defaultValue"),message:"should be an object containing endpoint URLs { notify, sessions }",validate:a(function(i){return i&&(void 0===i?"undefined":_type_of(i))=="object"&&b(i.notify)&&b(i.sessions)&&0===f(_(i),function(i){return!p(["notify","sessions"],i)}).length},"validate")},autoTrackSessions:{defaultValue:a(function(i){return!0},"defaultValue"),message:"should be true|false",validate:a(function(i){return!0===i||!1===i},"validate")},enabledReleaseStages:{defaultValue:a(function(){return null},"defaultValue"),message:"should be an array of strings",validate:a(function(i){return null===i||h(i)&&f(i,function(i){return"string"==typeof i}).length===i.length},"validate")},releaseStage:{defaultValue:a(function(){return"production"},"defaultValue"),message:"should be a string",validate:a(function(i){return"string"==typeof i&&i.length},"validate")},maxBreadcrumbs:{defaultValue:a(function(){return 25},"defaultValue"),message:"should be a number â‰¤100",validate:a(function(i){return m(0,100)(i)},"validate")},enabledBreadcrumbTypes:{defaultValue:a(function(){return c},"defaultValue"),message:"should be null or a list of available breadcrumb types ("+c.join(",")+")",validate:a(function(i){return null===i||h(i)&&l(i,function(i,l){return!1===i?i:p(c,l)},!0)},"validate")},context:{defaultValue:a(function(){},"defaultValue"),message:"should be a string",validate:a(function(i){return void 0===i||"string"==typeof i},"validate")},user:{defaultValue:a(function(){return{}},"defaultValue"),message:"should be an object with { id, email, name } properties",validate:a(function(i){return null===i||i&&l(_(i),function(i,c){return i&&p(["id","email","name"],c)},!0)},"validate")},metadata:{defaultValue:a(function(){return{}},"defaultValue"),message:"should be an object",validate:a(function(i){return(void 0===i?"undefined":_type_of(i))=="object"&&null!==i},"validate")},logger:{defaultValue:a(function(){},"defaultValue"),message:"should be null or an object with methods { debug, info, warn, error }",validate:a(function(i){return!i||i&&l(["debug","info","warn","error"],function(c,l){return c&&"function"==typeof i[l]},!0)},"validate")},redactedKeys:{defaultValue:a(function(){return["password"]},"defaultValue"),message:"should be an array of strings|regexes",validate:a(function(i){return h(i)&&i.length===f(i,function(i){return"string"==typeof i||i&&"function"==typeof i.test}).length},"validate")},plugins:{defaultValue:a(function(){return[]},"defaultValue"),message:"should be an array of plugin objects",validate:a(function(i){return h(i)&&i.length===f(i,function(i){return i&&(void 0===i?"undefined":_type_of(i))=="object"&&"function"==typeof i.load}).length},"validate")},featureFlags:{defaultValue:a(function(){return[]},"defaultValue"),message:'should be an array of objects that have a "name" property',validate:a(function(i){return h(i)&&i.length===f(i,function(i){return i&&(void 0===i?"undefined":_type_of(i))=="object"&&"string"==typeof i.name}).length},"validate")}};var w=a(function(i){for(var c=1;c<arguments.length;c++){var l=arguments[c];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(i[f]=l[f])}return i},"_$assign_11"),x=a(function(i,c){return l(i,function(i,l,f,p){return i.concat(c(l,f,p))},[])},"_$map_16");function Se(){return Se=Object.assign?Object.assign.bind():function(i){for(var c=1;c<arguments.length;c++){var l=arguments[c];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(i[f]=l[f])}return i},Se.apply(this,arguments)}a(Se,"_extends");var P=S.schema,j={releaseStage:w({},P.releaseStage,{defaultValue:a(function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"},"defaultValue")}),appType:Se({},P.appType,{defaultValue:a(function(){return"browser"},"defaultValue")}),logger:w({},P.logger,{defaultValue:a(function(){return("undefined"==typeof console?"undefined":_type_of(console))<"u"&&"function"==typeof console.debug?B():void 0},"defaultValue")})},B=a(function(){var i={},c=console.log;return x(["debug","info","warn","error"],function(l){var f=console[l];i[l]="function"==typeof f?f.bind(console,"[bugsnag]"):c.bind(console,"[bugsnag]")}),i},"getPrefixedConsole"),C=function(){function e(i,c,l,f){void 0===f&&(f=new Date),this.type=l,this.message=i,this.metadata=c,this.timestamp=f}a(e,"Breadcrumb");var i=e.prototype;return i.toJSON=a(function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},"toJSON"),e}(),N=C,M={};(function(c,l){"function"==typeof i&&i.amd?i("stackframe",[],l):(void 0===M?"undefined":_type_of(M))=="object"?M=l():c.StackFrame=l()})(this,function(){function e(i){return!isNaN(parseFloat(i))&&isFinite(i)}a(e,"_isNumber");function t(i){return i.charAt(0).toUpperCase()+i.substring(1)}a(t,"_capitalize");function n(i){return function(){return this[i]}}a(n,"_getter");var i=["isConstructor","isEval","isNative","isToplevel"],c=["columnNumber","lineNumber"],l=["fileName","functionName","source"],f=["args"],p=i.concat(c,l,f);function u(i){if(_instanceof(i,Object))for(var c=0;c<p.length;c++)i.hasOwnProperty(p[c])&&void 0!==i[p[c]]&&this["set"+t(p[c])](i[p[c]])}a(u,"StackFrame"),u.prototype={getArgs:a(function(){return this.args},"getArgs"),setArgs:a(function(i){if("[object Array]"!==Object.prototype.toString.call(i))throw new TypeError("Args must be an Array");this.args=i},"setArgs"),getEvalOrigin:a(function(){return this.evalOrigin},"getEvalOrigin"),setEvalOrigin:a(function(i){if(_instanceof(i,u))this.evalOrigin=i;else if(_instanceof(i,Object))this.evalOrigin=new u(i);else throw new TypeError("Eval Origin must be an Object or StackFrame")},"setEvalOrigin"),toString:a(function(){var i=this.getFunctionName()||"{anonymous}",c="("+(this.getArgs()||[]).join(",")+")",l=this.getFileName()?"@"+this.getFileName():"",f=e(this.getLineNumber())?":"+this.getLineNumber():"",p=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return i+c+l+f+p},"toString")};for(var h=0;h<i.length;h++)u.prototype["get"+t(i[h])]=n(i[h]),u.prototype["set"+t(i[h])]=function(i){return function(c){this[i]=!!c}}(i[h]);for(var g=0;g<c.length;g++)u.prototype["get"+t(c[g])]=n(c[g]),u.prototype["set"+t(c[g])]=function(i){return function(c){if(!e(c))throw new TypeError(i+" must be a Number");this[i]=Number(c)}}(c[g]);for(var v=0;v<l.length;v++)u.prototype["get"+t(l[v])]=n(l[v]),u.prototype["set"+t(l[v])]=function(i){return function(c){this[i]=String(c)}}(l[v]);return u});var T={};(function(c,l){"function"==typeof i&&i.amd?i("error-stack-parser",["stackframe"],l):(void 0===T?"undefined":_type_of(T))=="object"?T=l(M):c.ErrorStackParser=l(c.StackFrame)})(this,a(function(i){var c=/(^|@)\S+\:\d+/,l=/^\s*at .*(\S+\:\d+|\(native\))/m,f=/^(eval@)?(\[native code\])?$/;return{parse:a(function(i){if(_type_of(i.stacktrace)<"u"||_type_of(i["opera#sourceloc"])<"u")return this.parseOpera(i);if(i.stack&&i.stack.match(l))return this.parseV8OrIE(i);if(i.stack)return this.parseFFOrSafari(i);throw new Error("Cannot parse given Error object")},"ErrorStackParser$$parse"),extractLocation:a(function(i){if(-1===i.indexOf(":"))return[i];var c=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,l=c.exec(i.replace(/[\(\)]/g,""));return[l[1],l[2]||void 0,l[3]||void 0]},"ErrorStackParser$$extractLocation"),parseV8OrIE:a(function(c){var f=c.stack.split("\n").filter(function(i){return!!i.match(l)},this);return f.map(function(c){c.indexOf("(eval ")>-1&&(c=c.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var l=c.replace(/^\s+/,"").replace(/\(eval code/g,"("),f=l.match(/ (\((.+):(\d+):(\d+)\)$)/);l=f?l.replace(f[0],""):l;var p=l.split(/\s+/).slice(1),h=this.extractLocation(f?f[1]:p.pop()),g=p.join(" ")||void 0,v=["eval","<anonymous>"].indexOf(h[0])>-1?void 0:h[0];return new i({functionName:g,fileName:v,lineNumber:h[1],columnNumber:h[2],source:c})},this)},"ErrorStackParser$$parseV8OrIE"),parseFFOrSafari:a(function(c){var l=c.stack.split("\n").filter(function(i){return!i.match(f)},this);return l.map(function(c){if(c.indexOf(" > eval")>-1&&(c=c.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===c.indexOf("@")&&-1===c.indexOf(":"))return new i({functionName:c});var l=/((.*".+"[^@]*)?[^@]*)(?:@)/,f=c.match(l),p=f&&f[1]?f[1]:void 0,h=this.extractLocation(c.replace(l,""));return new i({functionName:p,fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:c})},this)},"ErrorStackParser$$parseFFOrSafari"),parseOpera:a(function(i){return!i.stacktrace||i.message.indexOf("\n")>-1&&i.message.split("\n").length>i.stacktrace.split("\n").length?this.parseOpera9(i):i.stack?this.parseOpera11(i):this.parseOpera10(i)},"ErrorStackParser$$parseOpera"),parseOpera9:a(function(c){for(var l=/Line (\d+).*script (?:in )?(\S+)/i,f=c.message.split("\n"),p=[],h=2,g=f.length;h<g;h+=2){var v=l.exec(f[h]);v&&p.push(new i({fileName:v[2],lineNumber:v[1],source:f[h]}))}return p},"ErrorStackParser$$parseOpera9"),parseOpera10:a(function(c){for(var l=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,f=c.stacktrace.split("\n"),p=[],h=0,g=f.length;h<g;h+=2){var v=l.exec(f[h]);v&&p.push(new i({functionName:v[3]||void 0,fileName:v[2],lineNumber:v[1],source:f[h]}))}return p},"ErrorStackParser$$parseOpera10"),parseOpera11:a(function(l){var f=l.stack.split("\n").filter(function(i){return!!i.match(c)&&!i.match(/^Error created at/)},this);return f.map(function(c){var l=c.split("@"),f=this.extractLocation(l.pop()),p=l.shift()||"",h=p.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0,g;p.match(/\(([^\)]*)\)/)&&(g=p.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var v=void 0===g||"[arguments not available]"===g?void 0:g.split(",");return new i({functionName:h,args:v,fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:c})},this)},"ErrorStackParser$$parseOpera11")}},"ErrorStackParser"));var F=T,L=a(function(i,c,l,f){var p=f&&f.redactedKeys?f.redactedKeys:[],h=f&&f.redactedPaths?f.redactedPaths:[];return JSON.stringify(Ut(i,p,h),c,l)},"_$safeJsonStringify_30"),I=20,R=25e3,A=8,V="...";function Ft(i){return _instanceof(i,Error)||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(i))}a(Ft,"isError");function Xe(i){return"[Throws: "+(i?i.message:"?")+"]"}a(Xe,"throwsMessage");function At(i,c){for(var l=0,f=i.length;l<f;l++)if(i[l]===c)return!0;return!1}a(At,"find");function jt(i,c){for(var l=0,f=i.length;l<f;l++)if(0===c.indexOf(i[l]))return!0;return!1}a(jt,"isDescendent");function Ht(i,c){for(var l=0,f=i.length;l<f;l++)if("string"==typeof i[l]&&i[l].toLowerCase()===c.toLowerCase()||i[l]&&"function"==typeof i[l].test&&i[l].test(c))return!0;return!1}a(Ht,"shouldRedact");function qt(i){return"[object Array]"===Object.prototype.toString.call(i)}a(qt,"__isArray_30");function Vt(i,c){try{return i[c]}catch(i){return Xe(i)}}a(Vt,"safelyGetProp");function Ut(i,c,l){var f=[],p=0;function s(i,h){function u(){return h.length>A&&p>R}if(a(u,"edgesExceeded"),p++,h.length>I||u())return V;if(null===i||(void 0===i?"undefined":_type_of(i))!="object")return i;if(At(f,i))return"[Circular]";if(f.push(i),"function"==typeof i.toJSON)try{p--;var g=s(i.toJSON(),h);return f.pop(),g}catch(i){return Xe(i)}var v=Ft(i);if(v){p--;var _=s({name:i.name,message:i.message},h);return f.pop(),_}if(qt(i)){for(var m=[],y=0,b=i.length;y<b;y++){if(u()){m.push(V);break}m.push(s(i[y],h.concat("[]")))}return f.pop(),m}var S={};try{for(var E in i)if(Object.prototype.hasOwnProperty.call(i,E)){if(jt(l,h.join("."))&&Ht(c,E)){S[E]="[REDACTED]";continue}if(u()){S[E]=V;break}S[E]=s(Vt(i,E),h.concat(E))}}catch(i){}return f.pop(),S}return a(s,"visit"),s(i,[])}a(Ut,"prepareObjForSerialization");function ze(i,c,l,f){if("string"==typeof l){void 0===f?f=null:null!==f&&"string"!=typeof f&&(f=L(f));var p=c[l];if("number"==typeof p){i[p]={name:l,variant:f};return}i.push({name:l,variant:f}),c[l]=i.length-1}}a(ze,"add");function Kt(i,c,l){if(h(c)){for(var f=0;f<c.length;++f){var p=c[f];null===p||(void 0===p?"undefined":_type_of(p))!="object"||ze(i,l,p.name,p.variant)}return i}}a(Kt,"merge");function Xt(i){return x(f(i,Boolean),function(i){var c=i.name,l=i.variant,f={featureFlag:c};return"string"==typeof l&&(f.variant=l),f})}a(Xt,"toEventApi");function zt(i,c,l){var f=c[l];"number"==typeof f&&(i[f]=null,delete c[l])}a(zt,"clear");var $={add:ze,clear:zt,merge:Kt,toEventApi:Xt},D=a(function(i){return!!i&&(!!i.stack||!!i.stacktrace||!!i["opera#sourceloc"])&&"string"==typeof(i.stack||i.stacktrace||i["opera#sourceloc"])&&i.stack!==i.name+": "+i.message},"_$hasStack_19"),q=Jt;function Jt(i){switch(Object.prototype.toString.call(i)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return _instanceof(i,Error)}}a(Jt,"__isError_32");var H=q,U=a(function(i,c,l,f){var p;if(c){var h;if(null===l)return X(i,c);(void 0===l?"undefined":_type_of(l))=="object"&&(h=l),"string"==typeof l&&(h=(p={},p[l]=f,p)),h&&("__proto__"===c||"constructor"===c||"prototype"===c||(i[c]||(i[c]={}),i[c]=w({},i[c],h)))}},"__add_22"),K=a(function(i,c,l){if("string"==typeof c){if(!l)return i[c];if(i[c])return i[c][l]}},"get"),X=a(function(i,c,l){if("string"==typeof c){if(!l){delete i[c];return}"__proto__"===c||"constructor"===c||"prototype"===c||i[c]&&delete i[c][l]}},"__clear_22"),z={add:U,get:K,clear:X},J={};(function(c,l){"function"==typeof i&&i.amd?i("stack-generator",["stackframe"],l):(void 0===J?"undefined":_type_of(J))=="object"?J=l(M):c.StackGenerator=l(c.StackFrame)})(this,function(i){return{backtrace:a(function(c){var l=[],f=10;(void 0===c?"undefined":_type_of(c))=="object"&&"number"==typeof c.maxStackSize&&(f=c.maxStackSize);for(var p=arguments.callee;p&&l.length<f&&p.arguments;){for(var h=new Array(p.arguments.length),g=0;g<h.length;++g)h[g]=p.arguments[g];/function(?:\s+([\w$]+))+\s*\(/.test(p.toString())?l.push(new i({functionName:RegExp.$1||void 0,args:h})):l.push(new i({args:h}));try{p=p.caller}catch(i){break}}return l},"StackGenerator$$backtrace")}});function we(){return we=Object.assign?Object.assign.bind():function(i){for(var c=1;c<arguments.length;c++){var l=arguments[c];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(i[f]=l[f])}return i},we.apply(this,arguments)}a(we,"___extends_6");var G=function(){function e(i,c,l,f,p){void 0===l&&(l=[]),void 0===f&&(f=Q()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=p,this._handledState=f,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this._correlation=void 0,this.errors=[We(i,c,e.__type,l)]}a(e,"Event");var i=e.prototype;return i.addMetadata=a(function(i,c,l){return z.add(this._metadata,i,c,l)},"addMetadata"),i.setTraceCorrelation=a(function(i,c){"string"==typeof i&&(this._correlation=we({traceId:i},"string"==typeof c?{spanId:c}:{}))},"setTraceCorrelation"),i.getMetadata=a(function(i,c){return z.get(this._metadata,i,c)},"getMetadata"),i.clearMetadata=a(function(i,c){return z.clear(this._metadata,i,c)},"clearMetadata"),i.addFeatureFlag=a(function(i,c){void 0===c&&(c=null),$.add(this._features,this._featuresIndex,i,c)},"addFeatureFlag"),i.addFeatureFlags=a(function(i){$.merge(this._features,i,this._featuresIndex)},"addFeatureFlags"),i.getFeatureFlags=a(function(){return $.toEventApi(this._features)},"getFeatureFlags"),i.clearFeatureFlag=a(function(i){$.clear(this._features,this._featuresIndex,i)},"clearFeatureFlag"),i.clearFeatureFlags=a(function(){this._features=[],this._featuresIndex={}},"clearFeatureFlags"),i.getUser=a(function(){return this._user},"getUser"),i.setUser=a(function(i,c,l){this._user={id:i,email:c,name:l}},"setUser"),i.toJSON=a(function(){return{payloadVersion:"4",exceptions:x(this.errors,function(i){return w({},i,{message:i.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags(),correlation:this._correlation}},"toJSON"),e}(),W=a(function(i){var c={file:i.fileName,method:Y(i.functionName),lineNumber:i.lineNumber,columnNumber:i.columnNumber,code:void 0,inProject:void 0};return!(c.lineNumber>-1)||c.file||c.method||(c.file="global code"),c},"formatStackframe"),Y=a(function(i){return/^global code$/i.test(i)?"global code":i},"normaliseFunctionName"),Q=a(function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},"defaultHandledState"),Z=a(function(i){return"string"==typeof i?i:""},"ensureString");function We(i,c,f,p){return{errorClass:Z(i),errorMessage:Z(c),type:f,stacktrace:l(p,function(i,c){var l=W(c);try{return"{}"===JSON.stringify(l)?i:i.concat(l)}catch(c){return i}},[])}}a(We,"createBugsnagError");function Ye(i){return i.cause?[i].concat(Ye(i.cause)):[i]}a(Ye,"getCauseStack"),G.getStacktrace=function(i,c,l){if(D(i))return F.parse(i).slice(c);try{return f(J.backtrace(),function(i){return -1===(i.functionName||"").indexOf("StackGenerator$$")}).slice(1+l)}catch(i){return[]}},G.create=function(i,c,l,f,p,h){void 0===p&&(p=0);var g=et(i,c,f,h),v=g[0],_=g[1],m;try{var y=G.getStacktrace(v,_>0?1+_+p:0,1+p);m=new G(v.name,v.message,y,l,i)}catch(c){m=new G(v.name,v.message,[],l,i)}if("InvalidError"===v.name&&m.addMetadata(""+f,"non-error parameter",ee(i)),v.cause){var b,S=Ye(v).slice(1),E=x(S,function(i){var c=H(i)&&D(i)?F.parse(i):[],l=et(i,!0,"error cause"),f=l[0];return"InvalidError"===f.name&&m.addMetadata("error cause",ee(i)),We(f.name,f.message,G.__type,c)});(b=m.errors).push.apply(b,E)}return m};var ee=a(function(i){return null===i?"null":void 0===i?"undefined":i},"makeSerialisable"),et=a(function(i,c,l,f){var p,h=0,g=a(function(i){var c="error cause"===l?"was":"received";f&&f.warn(l+" "+c+' a non-error: "'+i+'"');var p=new Error(l+" "+c+' a non-error. See "'+l+'" tab for more detail.');return p.name="InvalidError",p},"createAndLogInputError");if(c)switch(void 0===i?"undefined":_type_of(i)){case"string":case"number":case"boolean":p=new Error(String(i)),h+=1;break;case"function":p=g("function"),h+=2;break;case"object":null!==i&&H(i)?p=i:null!==i&&en(i)?(p=new Error(i.message||i.errorMessage),p.name=i.name||i.errorClass,h+=1):(p=g(null===i?"null":"unsupported object"),h+=2);break;default:p=g("nothing"),h+=2}else H(i)?p=i:(p=g(void 0===i?"undefined":_type_of(i)),h+=2);if(!D(p))try{throw p}catch(i){D(i)&&(p=i,h=1)}return[p,h]},"normaliseError");G.__type="browserjs";var en=a(function(i){return("string"==typeof i.name||"string"==typeof i.errorClass)&&("string"==typeof i.message||"string"==typeof i.errorMessage)},"hasNecessaryFields"),er=G,ea=a(function(i,c,l){var f=0,p=a(function(){if(f>=i.length)return l(null,!0);c(i[f],function(i,c){if(i)return l(i);if(!1===c)return l(null,!1);f++,p()})},"next");p()},"_$asyncEvery_7"),eo=a(function(i,c,l,f){var p=a(function(i,f){if("function"!=typeof i)return f(null);try{if(2!==i.length){var p=i(c);return p&&"function"==typeof p.then?p.then(function(i){return setTimeout(function(){return f(null,i)})},function(i){setTimeout(function(){return l(i),f(null,!0)})}):f(null,p)}i(c,function(i,c){if(i)return l(i),f(null);f(null,c)})}catch(i){l(i),f(null)}},"runMaybeAsyncCallback");ea(i,p,f)},"_$callbackRunner_9"),ei=a(function(i,c,l,f){for(var p=!1,h=i.slice();!p&&h.length;)try{p=!1===h.pop()(c)}catch(i){f.error("Error occurred in "+l+" callback, continuing anywayâ€¦"),f.error(i)}return p},"_$syncCallbackRunner_23"),es=a(function(i,c){var l="000000000"+i;return l.substr(l.length-c)},"pad"),eu=("undefined"==typeof window?"undefined":_type_of(window))=="object"?window:self,ec=0;for(var el in eu)Object.hasOwnProperty.call(eu,el)&&ec++;var ed=navigator.mimeTypes?navigator.mimeTypes.length:0,ef=es((ed+navigator.userAgent.length).toString(36)+ec.toString(36),4),ep=a(function(){return ef},"fingerprint"),eh=0,eg=4,ev=36,e_=Math.pow(ev,eg);function it(){return es((Math.random()*e_<<0).toString(ev),eg)}a(it,"randomBlock");function sr(){return eh=eh<e_?eh:0,eh++,eh-1}a(sr,"safeCounter");function ot(){var i="c",c=new Date().getTime().toString(ev),l=es(sr().toString(ev),eg),f=ep(),p=it()+it();return i+c+l+f+p}a(ot,"cuid"),ot.fingerprint=ep;var em=ot,ey=function(){function e(){this.id=em(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}a(e,"Session");var i=e.prototype;return i.getUser=a(function(){return this._user},"getUser"),i.setUser=a(function(i,c,l){this._user={id:i,email:c,name:l}},"setUser"),i.toJSON=a(function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},"toJSON"),i._track=a(function(i){this[i._handledState.unhandled?"_unhandled":"_handled"]+=1},"_track"),e}(),eb=ey,eS=$.add,ek=$.clear,eE=$.merge,ew=a(function(){},"noop"),eO=function(){function e(i,c,l,f){var p=this;void 0===c&&(c=S.schema),void 0===l&&(l=[]),this._notifier=f,this._config={},this._schema=c,this._delivery={sendSession:ew,sendEvent:ew},this._logger={debug:ew,info:ew,warn:ew,error:ew},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=er,this.Breadcrumb=N,this.Session=eb,this._config=this._configure(i,l),x(l.concat(this._config.plugins),function(i){i&&p._loadPlugin(i)}),this._depth=1;var h=this,g=this.notify;this.notify=function(){return g.apply(h,arguments)}}a(e,"Client");var i=e.prototype;return i.addMetadata=a(function(i,c,l){return z.add(this._metadata,i,c,l)},"addMetadata"),i.getMetadata=a(function(i,c){return z.get(this._metadata,i,c)},"getMetadata"),i.clearMetadata=a(function(i,c){return z.clear(this._metadata,i,c)},"clearMetadata"),i.addFeatureFlag=a(function(i,c){void 0===c&&(c=null),eS(this._features,this._featuresIndex,i,c)},"addFeatureFlag"),i.addFeatureFlags=a(function(i){eE(this._features,i,this._featuresIndex)},"addFeatureFlags"),i.clearFeatureFlag=a(function(i){ek(this._features,this._featuresIndex,i)},"clearFeatureFlag"),i.clearFeatureFlags=a(function(){this._features=[],this._featuresIndex={}},"clearFeatureFlags"),i.getContext=a(function(){return this._context},"getContext"),i.setContext=a(function(i){this._context=i},"setContext"),i._configure=a(function(i,c){var f=l(c,function(i,c){return c&&c.configSchema?w({},i,c.configSchema):i},this._schema),p=l(_(f),function(c,l){var p=f[l].defaultValue(i[l]);if(void 0!==i[l]){var h=f[l].validate(i[l]);h?f[l].allowPartialObject?c.config[l]=w(p,i[l]):c.config[l]=i[l]:(c.errors[l]=f[l].message,c.config[l]=p)}else c.config[l]=p;return c},{errors:{},config:{}}),h=p.errors,g=p.config;if(f.apiKey){if(!g.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(g.apiKey)||(h.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=w({},g.metadata),eE(this._features,g.featureFlags,this._featuresIndex),this._user=w({},g.user),this._context=g.context,g.logger&&(this._logger=g.logger),g.onError&&(this._cbs.e=this._cbs.e.concat(g.onError)),g.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(g.onBreadcrumb)),g.onSession&&(this._cbs.s=this._cbs.s.concat(g.onSession)),_(h).length&&this._logger.warn(ex(h,i)),g},"_configure"),i.getUser=a(function(){return this._user},"getUser"),i.setUser=a(function(i,c,l){this._user={id:i,email:c,name:l}},"setUser"),i._loadPlugin=a(function(i){var c=i.load(this);i.name&&(this._plugins["~"+i.name+"~"]=c)},"_loadPlugin"),i.getPlugin=a(function(i){return this._plugins["~"+i+"~"]},"getPlugin"),i._setDelivery=a(function(i){this._delivery=i(this)},"_setDelivery"),i.startSession=a(function(){var i=new eb;i.app.releaseStage=this._config.releaseStage,i.app.version=this._config.appVersion,i.app.type=this._config.appType,i._user=w({},this._user);var c=ei(this._cbs.s,i,"onSession",this._logger);return c?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,i)},"startSession"),i.addOnError=a(function(i,c){void 0===c&&(c=!1),this._cbs.e[c?"unshift":"push"](i)},"addOnError"),i.removeOnError=a(function(i){this._cbs.e=f(this._cbs.e,function(c){return c!==i})},"removeOnError"),i._addOnSessionPayload=a(function(i){this._cbs.sp.push(i)},"_addOnSessionPayload"),i.addOnSession=a(function(i){this._cbs.s.push(i)},"addOnSession"),i.removeOnSession=a(function(i){this._cbs.s=f(this._cbs.s,function(c){return c!==i})},"removeOnSession"),i.addOnBreadcrumb=a(function(i,c){void 0===c&&(c=!1),this._cbs.b[c?"unshift":"push"](i)},"addOnBreadcrumb"),i.removeOnBreadcrumb=a(function(i){this._cbs.b=f(this._cbs.b,function(c){return c!==i})},"removeOnBreadcrumb"),i.pauseSession=a(function(){return this._sessionDelegate.pauseSession(this)},"pauseSession"),i.resumeSession=a(function(){return this._sessionDelegate.resumeSession(this)},"resumeSession"),i.leaveBreadcrumb=a(function(i,l,f){if(i="string"==typeof i?i:"",f="string"==typeof f&&p(c,f)?f:"manual",l=(void 0===l?"undefined":_type_of(l))=="object"&&null!==l?l:{},!!i){var h=new N(i,l,f),g=ei(this._cbs.b,h,"onBreadcrumb",this._logger);if(g){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(h),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},"leaveBreadcrumb"),i._isBreadcrumbTypeEnabled=a(function(i){var c=this._config.enabledBreadcrumbTypes;return null===c||p(c,i)},"_isBreadcrumbTypeEnabled"),i.notify=a(function(i,c,l){void 0===l&&(l=ew);var f=er.create(i,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(f,c,l)},"notify"),i._notify=a(function(i,c,l){var f=this;if(void 0===l&&(l=ew),i.app=w({},i.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),i.context=i.context||this._context,i._metadata=w({},i._metadata,this._metadata),i._user=w({},i._user,this._user),i.breadcrumbs=this._breadcrumbs.slice(),eE(i._features,this._features,i._featuresIndex),null!==this._config.enabledReleaseStages&&!p(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),l(null,i);var h=i.severity,g=a(function(i){f._logger.error("Error occurred in onError callback, continuing anywayâ€¦"),f._logger.error(i)},"onCallbackError"),v=[].concat(this._cbs.e).concat(c);eo(v,i,g,function(c,p){if(c&&g(c),!p)return f._logger.debug("Event not sent due to onError callback"),l(null,i);f._isBreadcrumbTypeEnabled("error")&&e.prototype.leaveBreadcrumb.call(f,i.errors[0].errorClass,{errorClass:i.errors[0].errorClass,errorMessage:i.errors[0].errorMessage,severity:i.severity},"error"),h!==i.severity&&(i._handledState.severityReason={type:"userCallbackSetSeverity"}),i.unhandled!==i._handledState.unhandled&&(i._handledState.severityReason.unhandledOverridden=!0,i._handledState.unhandled=i.unhandled),f._session&&(f._session._track(i),i._session=f._session),f._delivery.sendEvent({apiKey:i.apiKey||f._config.apiKey,notifier:f._notifier,events:[i]},function(c){return l(c,i)})})},"_notify"),e}(),ex=a(function(i,c){var l=new Error("Invalid configuration\n"+x(_(i),function(l){return"  - "+l+" "+i[l]+", got "+eP(c[l])}).join("\n\n"));return l},"generateConfigErrorMessage"),eP=a(function(i){switch(void 0===i?"undefined":_type_of(i)){case"string":case"number":case"object":return JSON.stringify(i);default:return String(i)}},"stringify"),ej=eO,eB={},eC=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];eB.event=function(i,c){var l=L(i,null,null,{redactedPaths:eC,redactedKeys:c});return l.length>1e6&&(i.events[0]._metadata={notifier:"WARNING!\nSerialized payload was "+l.length/1e6+"MB (limit = 1MB)\nmetadata was removed"},l=L(i,null,null,{redactedPaths:eC,redactedKeys:c})),l},eB.session=function(i,c){var l=L(i,null,null);return l};var eN={};eN=a(function(i,c){return void 0===c&&(c=window),{sendEvent:a(function(l,f){if(void 0===f&&(f=a(function(){},"cb")),null===i._config.endpoints.notify){var p=new Error("Event not sent due to incomplete endpoint configuration");return f(p)}var h=eM(i._config,"notify","4",c),g=eB.event(l,i._config.redactedKeys),v=new c.XDomainRequest;v.onload=function(){f(null)},v.onerror=function(){var c=new Error("Event failed to send");i._logger.error("Event failed to sendâ€¦",c),g.length>1e6&&i._logger.warn("Event oversized ("+(g.length/1e6).toFixed(2)+" MB)"),f(c)},v.open("POST",h),setTimeout(function(){try{v.send(g)}catch(c){i._logger.error(c),f(c)}},0)},"sendEvent"),sendSession:a(function(l,f){if(void 0===f&&(f=a(function(){},"cb")),null===i._config.endpoints.sessions){var p=new Error("Session not sent due to incomplete endpoint configuration");return f(p)}var h=eM(i._config,"sessions","1",c),g=new c.XDomainRequest;g.onload=function(){f(null)},g.open("POST",h),setTimeout(function(){try{g.send(eB.session(l,i._config.redactedKeys))}catch(c){i._logger.error(c),f(c)}},0)},"sendSession")}},"_$delivery_36");var eM=a(function(i,c,l,f){var p=JSON.parse(JSON.stringify(new Date)),h=eT(i.endpoints[c],f.location.protocol);return h+"?apiKey="+encodeURIComponent(i.apiKey)+"&payloadVersion="+l+"&sentAt="+encodeURIComponent(p)},"getApiUrl"),eT=eN._matchPageProtocol=function(i,c){return"http:"===c?i.replace(/^https:/,"http:"):i},eF=a(function(i,c){return void 0===c&&(c=window),{sendEvent:a(function(l,f){void 0===f&&(f=a(function(){},"cb"));try{var p=i._config.endpoints.notify;if(null===p){var h=new Error("Event not sent due to incomplete endpoint configuration");return f(h)}var g=new c.XMLHttpRequest,v=eB.event(l,i._config.redactedKeys);g.onreadystatechange=function(){if(g.readyState===c.XMLHttpRequest.DONE){var l=g.status;if(0===l||l>=400){var p=new Error("Request failed with status "+l);i._logger.error("Event failed to sendâ€¦",p),v.length>1e6&&i._logger.warn("Event oversized ("+(v.length/1e6).toFixed(2)+" MB)"),f(p)}else f(null)}},g.open("POST",p),g.setRequestHeader("Content-Type","application/json"),g.setRequestHeader("Bugsnag-Api-Key",l.apiKey||i._config.apiKey),g.setRequestHeader("Bugsnag-Payload-Version","4"),g.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),g.send(v)}catch(c){i._logger.error(c)}},"sendEvent"),sendSession:a(function(l,f){void 0===f&&(f=a(function(){},"cb"));try{var p=i._config.endpoints.sessions;if(null===p){var h=new Error("Session not sent due to incomplete endpoint configuration");return f(h)}var g=new c.XMLHttpRequest;g.onreadystatechange=function(){if(g.readyState===c.XMLHttpRequest.DONE){var l=g.status;if(0===l||l>=400){var p=new Error("Request failed with status "+l);i._logger.error("Session failed to sendâ€¦",p),f(p)}else f(null)}},g.open("POST",p),g.setRequestHeader("Content-Type","application/json"),g.setRequestHeader("Bugsnag-Api-Key",i._config.apiKey),g.setRequestHeader("Bugsnag-Payload-Version","1"),g.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),g.send(eB.session(l,i._config.redactedKeys))}catch(c){i._logger.error(c)}},"sendSession")}},"_$delivery_37"),eL=new Date,eI=a(function(){eL=new Date},"reset"),eR={name:"appDuration",load:a(function(i){return i.addOnError(function(i){var c=new Date;i.app.duration=c-eL},!0),{reset:eI}},"load")},eA=a(function(i){return void 0===i&&(i=window),{load:a(function(c){c.addOnError(function(c){void 0===c.context&&(c.context=i.location.pathname)},!0)},"load")}},"_$context_39"),eV=a(function(i,c){var l="000000000"+i;return l.substr(l.length-c)},"pad"),e$=("undefined"==typeof window?"undefined":_type_of(window))=="object"?window:self,eD=0;for(var eq in e$)Object.hasOwnProperty.call(e$,eq)&&eD++;var eH=navigator.mimeTypes?navigator.mimeTypes.length:0,eU=eV((eH+navigator.userAgent.length).toString(36)+eD.toString(36),4),eK=a(function(){return eU},"fingerprint"),eX=0,ez=4,eJ=36,eG=Math.pow(eJ,ez);function pt(){return eV((Math.random()*eG<<0).toString(eJ),ez)}a(pt,"__randomBlock_41");function kr(){return eX=eX<eG?eX:0,eX++,eX-1}a(kr,"__safeCounter_41");function gt(){var i="c",c=new Date().getTime().toString(eJ),l=eV(kr().toString(eJ),ez),f=eK(),p=pt()+pt();return i+c+l+f+p}a(gt,"__cuid_41"),gt.fingerprint=eK;var eW=gt,eY="bugsnag-anonymous-id",eQ=a(function(i){try{var c=i.localStorage,l=c.getItem(eY);return l&&/^c[a-z0-9]{20,32}$/.test(l)||(l=eW(),c.setItem(eY,l)),l}catch(i){}},"getDeviceId"),eZ=a(function(i,c){return void 0===i&&(i=navigator),void 0===c&&(c=window),{load:a(function(l){var f={locale:i.browserLanguage||i.systemLanguage||i.userLanguage||i.language,userAgent:i.userAgent};c&&c.screen&&c.screen.orientation&&c.screen.orientation.type?f.orientation=c.screen.orientation.type:c&&c.document&&(f.orientation=c.document.documentElement.clientWidth>c.document.documentElement.clientHeight?"landscape":"portrait"),l._config.generateAnonymousId&&(f.id=eQ(c)),l.addOnSession(function(i){i.device=w({},i.device,f),l._config.collectUserIp||e0(i)}),l.addOnError(function(i){i.device=w({},i.device,f,{time:new Date}),l._config.collectUserIp||e0(i)},!0)},"load"),configSchema:{generateAnonymousId:{validate:a(function(i){return!0===i||!1===i},"validate"),defaultValue:a(function(){return!0},"defaultValue"),message:"should be true|false"}}}},"_$device_40"),e0=a(function(i){var c=i.getUser();c&&c.id||i.setUser(i.device.id)},"setDefaultUserId"),e1=a(function(i){return void 0===i&&(i=window),{load:a(function(c){c.addOnError(function(c){c.request&&c.request.url||(c.request=w({},c.request,{url:i.location.href}))},!0)},"load")}},"_$request_44"),e2={load:a(function(i){i._sessionDelegate=e3},"load")},e3={startSession:a(function(i,c){var l=i;return l._session=c,l._pausedSession=null,null===l._config.enabledReleaseStages||p(l._config.enabledReleaseStages,l._config.releaseStage)?(l._delivery.sendSession({notifier:l._notifier,device:c.device,app:c.app,sessions:[{id:c.id,startedAt:c.startedAt,user:c._user}]}),l):(l._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),l)},"startSession"),resumeSession:a(function(i){return i._session?i:i._pausedSession?(i._session=i._pausedSession,i._pausedSession=null,i):i.startSession()},"resumeSession"),pauseSession:a(function(i){i._pausedSession=i._session,i._session=null},"pauseSession")},e4={load:a(function(i){i._config.collectUserIp||i.addOnError(function(i){i._user&&_type_of(i._user.id)>"u"&&delete i._user.id,i._user=w({id:"[REDACTED]"},i._user),i.request=w({clientIp:"[REDACTED]"},i.request)})},"load"),configSchema:{collectUserIp:{defaultValue:a(function(){return!0},"defaultValue"),message:"should be true|false",validate:a(function(i){return!0===i||!1===i},"validate")}}},e5={};e5.load=function(i){var c=/^(local-)?dev(elopment)?$/.test(i._config.releaseStage);c||!i._isBreadcrumbTypeEnabled("log")||x(e6,function(c){var f=console[c];console[c]=function(){for(var p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];i.leaveBreadcrumb("Console output",l(h,function(i,c,l){var f="[Unknown value]";try{f=String(c)}catch(i){}if("[object Object]"===f)try{f=JSON.stringify(c)}catch(i){}return i["["+l+"]"]=f,i},{severity:0===c.indexOf("group")?"log":c}),"log"),f.apply(console,h)},console[c]._restore=function(){console[c]=f}})};var e6=f(["log","debug","info","warn","error"],function(i){return("undefined"==typeof console?"undefined":_type_of(console))<"u"&&"function"==typeof console[i]}),e9=200,e8=5e5,e7=a(function(i,c){return void 0===i&&(i=document),void 0===c&&(c=window),{load:a(function(p){if(!p._config.trackInlineScripts)return;var h=c.location.href,g="",v=!!i.attachEvent,_=v?"complete"===i.readyState:"loading"!==i.readyState,m=a(function(){return i.documentElement.outerHTML},"getHtml");g=m();var y=i.onreadystatechange;i.onreadystatechange=function(){"interactive"===i.readyState&&(g=m(),_=!0);try{y.apply(this,arguments)}catch(i){}};var b=null,S=a(function(i){b=i},"updateLastScript"),E=a(function(){var c=i.currentScript||b;if(!c&&!_){var l=i.scripts||i.getElementsByTagName("script");c=l[l.length-1]}return c},"getCurrentScript"),w=a(function(i){_&&g||(g=m());var c=["<!-- DOC START -->"].concat(g.split("\n")),f=i-1,p=Math.max(f-3,0),h=Math.min(f+3,c.length);return l(c.slice(p,h),function(i,c,l){return i[p+1+l]=c.length<=e9?c:c.substr(0,e9),i},{})},"addSurroundingCode");p.addOnError(function(i){i.errors[0].stacktrace=f(i.errors[0].stacktrace,function(i){return!/__trace__$/.test(i.method)});var c=i.errors[0].stacktrace[0],l=a(function(i){return i.replace(/#.*$/,"").replace(/\?.*$/,"")},"cleanUrl");if(!(c&&c.file&&l(c.file)!==l(h))){var p=E();if(p){var g=p.innerHTML;i.addMetadata("script","content",g.length<=e8?g:g.substr(0,e8)),c&&c.lineNumber&&(c.code=w(c.lineNumber))}}},!0);var P=x(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(i){return Ie(c,i,function(i){return O(i,function(i){return{get:a(function(){return i[0]},"get"),replace:a(function(c){i[0]=c},"replace")}})})}),j=P[0];x(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(i){c[i]&&c[i].prototype&&Object.prototype.hasOwnProperty.call(c[i].prototype,"addEventListener")&&(Ie(c[i].prototype,"addEventListener",function(i){return O(i,St)}),Ie(c[i].prototype,"removeEventListener",function(i){return O(i,St,!0)}))});function O(i,c,l){return void 0===l&&(l=!1),function(){var f=[].slice.call(arguments);try{var p=c(f),h=p.get();if(l&&i.apply(this,f),"function"!=typeof h)return i.apply(this,f);if(h.__trace__)p.replace(h.__trace__);else{var g=E();h.__trace__=a(function(){S(g),j(function(){S(null)},0);var i=h.apply(this,arguments);return S(null),i},"__trace__"),h.__trace__.__trace__=h.__trace__,p.replace(h.__trace__)}}catch(i){}if(i.apply)return i.apply(this,f);switch(f.length){case 1:return i(f[0]);case 2:return i(f[0],f[1]);default:return i()}}}a(O,"__traceOriginalScript")},"load"),configSchema:{trackInlineScripts:{validate:a(function(i){return!0===i||!1===i},"validate"),defaultValue:a(function(){return!0},"defaultValue"),message:"should be true|false"}}}},"_$inlineScriptContent_48");function Ie(i,c,l){var f=i[c];if(!f)return f;var p=l(f);return i[c]=p,f}a(Ie,"__proxy");function St(i){var c=!!i[1]&&"function"==typeof i[1].handleEvent;return{get:a(function(){return c?i[1].handleEvent:i[1]},"get"),replace:a(function(l){c?i[1].handleEvent=l:i[1]=l},"replace")}}a(St,"eventTargetCallbackAccessor");var te=a(function(i){return void 0===i&&(i=window),{load:a(function(c){"addEventListener"in i&&c._isBreadcrumbTypeEnabled("user")&&i.addEventListener("click",function(l){var f,p;try{f=Dr(l.target),p=Et(l.target,i)}catch(i){f="[hidden]",p="[hidden]",c._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}c.leaveBreadcrumb("UI click",{targetText:f,targetSelector:p},"user")},!0)},"load")}},"_$interactionBreadcrumbs_49"),tt=/^\s*([^\s][\s\S]{0,139}[^\s])?\s*/;function Dr(i){var c=i.textContent||i.innerText||"";return c||"submit"!==i.type&&"button"!==i.type||(c=i.value),c=c.replace(tt,"$1"),c.length>140?c.slice(0,135)+"(...)":c}a(Dr,"getNodeText");function Et(i,c){var l=[i.tagName];if(i.id&&l.push("#"+i.id),i.className&&i.className.length&&l.push("."+i.className.split(" ").join(".")),!c.document.querySelectorAll||!Array.prototype.indexOf)return l.join("");try{if(1===c.document.querySelectorAll(l.join("")).length)return l.join("")}catch(i){return l.join("")}if(i.parentNode.childNodes.length>1){var f=Array.prototype.indexOf.call(i.parentNode.childNodes,i)+1;l.push(":nth-child("+f+")")}return 1===c.document.querySelectorAll(l.join("")).length?l.join(""):i.parentNode?Et(i.parentNode,c)+" > "+l.join(""):l.join("")}a(Et,"getNodeSelector");var tn={};tn=a(function(i){void 0===i&&(i=window);var c={load:a(function(c){if("addEventListener"in i&&c._isBreadcrumbTypeEnabled("navigation")){var l=a(function(i){return function(){return c.leaveBreadcrumb(i,{},"navigation")}},"drop");i.addEventListener("pagehide",l("Page hidden"),!0),i.addEventListener("pageshow",l("Page shown"),!0),i.addEventListener("load",l("Page loaded"),!0),i.document.addEventListener("DOMContentLoaded",l("DOMContentLoaded"),!0),i.addEventListener("load",function(){return i.addEventListener("popstate",l("Navigated back"),!0)}),i.addEventListener("hashchange",function(l){var f=l.oldURL?{from:tr(l.oldURL,i),to:tr(l.newURL,i),state:ti(i)}:{to:tr(i.location.href,i)};c.leaveBreadcrumb("Hash changed",f,"navigation")},!0),i.history.pushState&&to(c,i.history,"pushState",i,!0),i.history.replaceState&&to(c,i.history,"replaceState",i)}},"load")};return c},"_$navigationBreadcrumbs_50");var tr=a(function(i,c){var l=c.document.createElement("A");return l.href=i,""+l.pathname+l.search+l.hash},"relativeLocation"),ta=a(function(i,c,l,f){var p=tr(i.location.href,i);return{title:l,state:c,prevState:ti(i),to:f||p,from:p}},"stateChangeToMetadata"),to=a(function(i,c,l,f,p){void 0===p&&(p=!1);var h=c[l];c[l]=function(g,v,_){i.leaveBreadcrumb("History "+l,ta(f,g,v,_),"navigation"),p&&"function"==typeof i.resetEventCount&&i.resetEventCount(),h.apply(c,[g,v].concat(void 0!==_?_:[]))}},"wrapHistoryFn"),ti=a(function(i){try{return i.history.state}catch(i){}},"getCurrentState"),ts="request",tu=a(function(i,c){void 0===i&&(i=[]),void 0===c&&(c=window);var l={load:a(function(l){if(!l._isBreadcrumbTypeEnabled("request"))return;var f=[l._config.endpoints.notify,l._config.endpoints.sessions].concat(i);s(),u();function s(){if(!(!("addEventListener"in c.XMLHttpRequest.prototype)||!("WeakMap"in c))){var i=new WeakMap,l=new WeakMap,f=c.XMLHttpRequest.prototype.open;c.XMLHttpRequest.prototype.open=a(function(c,l){this&&i.set(this,{method:c,url:l}),f.apply(this,arguments)},"open");var p=c.XMLHttpRequest.prototype.send;c.XMLHttpRequest.prototype.send=a(function(c){var f=this,h=i.get(this);if(h){var g=l.get(this);g&&(this.removeEventListener("load",g.load),this.removeEventListener("error",g.error));var v=new Date,_=a(function(){return d(h.method,h.url,tc(v))},"error"),m=a(function(){return o(h.method,h.url,f.status,tc(v))},"load");this.addEventListener("load",m),this.addEventListener("error",_),this&&l.set(this,{load:m,error:_})}p.apply(this,arguments)},"send")}}a(s,"monkeyPatchXMLHttpRequest");function o(i,c,h,g){if(void 0===c){l._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}if(!("string"==typeof c&&p(f,c.replace(/\?.*$/,"")))){var v={status:h,method:String(i),url:String(c),duration:g};h>=400?l.leaveBreadcrumb("XMLHttpRequest failed",v,ts):l.leaveBreadcrumb("XMLHttpRequest succeeded",v,ts)}}a(o,"handleXHRLoad");function d(i,c,h){if(void 0===c){l._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}"string"==typeof c&&p(f,c.replace(/\?.*$/,""))||l.leaveBreadcrumb("XMLHttpRequest error",{method:String(i),url:String(c),duration:h},ts)}a(d,"handleXHRError");function u(){if(!(!("fetch"in c)||c.fetch.polyfill)){var i=c.fetch;c.fetch=a(function(c,l){var f=arguments,p=c,v=l,_,m=null;return p&&(void 0===p?"undefined":_type_of(p))=="object"?(m=p.url,v&&"method"in v?_=v.method:p&&"method"in p&&(_=p.method)):(m=p,v&&"method"in v&&(_=v.method)),void 0===_&&(_="GET"),new Promise(function(c,l){var p=new Date;i.apply(void 0,f).then(function(i){h(i,_,m,tc(p)),c(i)}).catch(function(i){g(_,m,tc(p)),l(i)})})},"fetch")}}a(u,"monkeyPatchFetch");var h=a(function(i,c,f,p){var h={method:String(c),status:i.status,url:String(f),duration:p};i.status>=400?l.leaveBreadcrumb("fetch() failed",h,ts):l.leaveBreadcrumb("fetch() succeeded",h,ts)},"handleFetchSuccess"),g=a(function(i,c,f){l.leaveBreadcrumb("fetch() error",{method:String(i),url:String(c),duration:f},ts)},"handleFetchError")},"load")};return l},"_$networkBreadcrumbs_51"),tc=a(function(i){return i&&new Date-i},"getDuration"),tl={load:a(function(i){var c=0;i.addOnError(function(l){if(c>=i._config.maxEvents)return i._logger.warn("Cancelling event send due to maxEvents per session limit of "+i._config.maxEvents+" being reached"),!1;c++}),i.resetEventCount=function(){c=0}},"load"),configSchema:{maxEvents:{defaultValue:a(function(){return 10},"defaultValue"),message:"should be a positive integer â‰¤100",validate:a(function(i){return m(1,100)(i)},"validate")}}},td={};td={load:a(function(i){i.addOnError(function(i){var c=l(i.errors,function(i,c){return i.concat(c.stacktrace)},[]);x(c,function(i){i.file=tf(i.file)})})},"load")};var tf=td._strip=function(i){return"string"==typeof i?i.replace(/\?.*$/,"").replace(/#.*$/,""):i},tp=a(function(i,c){return void 0===i&&(i=window),void 0===c&&(c="window onerror"),{load:a(function(l){if(!l._config.autoDetectErrors||!l._config.enabledErrorTypes.unhandledExceptions)return;function r(i,p,h,g,v){if(0===h&&/Script error\.?/.test(i))l._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var _={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},m;if(v)m=l.Event.create(v,!0,_,c,1),th(m.errors[0].stacktrace,p,h,g);else if((void 0===i?"undefined":_type_of(i))!="object"||null===i||p&&"string"==typeof p||h||g||v)m=l.Event.create(i,!0,_,c,1),th(m.errors[0].stacktrace,p,h,g);else{var y=i.type?"Event: "+i.type:"Error",b=i.message||i.detail||"";m=l.Event.create({name:y,message:b},!0,_,c,1),m.originalError=i,m.addMetadata(c,{event:i,extraParameters:p})}l._notify(m)}"function"==typeof f&&f.apply(this,arguments)}a(r,"onerror");var f=i.onerror;i.onerror=r},"load")}},"_$onerror_54"),th=a(function(i,c,l,f){i[0]||i.push({});var p=i[0];p.file||"string"!=typeof c||(p.file=c),!p.lineNumber&&tg(l)&&(p.lineNumber=l),p.columnNumber||(tg(f)?p.columnNumber=f:window.event&&tg(window.event.errorCharacter)&&(p.columnNumber=window.event.errorCharacter))},"decorateStack"),tg=a(function(i){return"number"==typeof i&&"NaN"!==String.call(i)},"isActualNumber"),tv=a(function(i){void 0===i&&(i=window);var c={load:a(function(c){if(!(!c._config.autoDetectErrors||!c._config.enabledErrorTypes.unhandledRejections)){var l=a(function(i){var l=i.reason,f=!1;try{i.detail&&i.detail.reason&&(l=i.detail.reason,f=!0)}catch(i){}var p=c.Event.create(l,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,c._logger);f&&x(p.errors[0].stacktrace,t_(l)),c._notify(p,function(i){if(H(i.originalError)&&!i.originalError.stack){var c;i.addMetadata("unhandledRejection handler",(c={},c[Object.prototype.toString.call(i.originalError)]={name:i.originalError.name,message:i.originalError.message,code:i.originalError.code},c))}})},"listener");"addEventListener"in i?i.addEventListener("unhandledrejection",l):i.onunhandledrejection=function(i,c){l({detail:{reason:i,promise:c}})}}},"load")};return c},"_$unhandledRejection_55"),t_=a(function(i){return function(c){c.file!==i.toString()&&c.method&&(c.method=c.method.replace(/^\s+/,""))}},"fixBluebirdStacktrace"),tm={},ty="Bugsnag JavaScript",tb="8.0.0",tS="https://github.com/bugsnag/bugsnag-js",tk=w({},S.schema,j),tE={_client:null,createClient:a(function(i){"string"==typeof i&&(i={apiKey:i}),i||(i={});var c=[eR,eZ(),eA(),e1(),tl,e2,e4,td,tp(),tv(),tn(),te(),tu(),e5,e7()],l=new ej(i,tk,c,{name:ty,version:tb,url:tS});return l._setDelivery(window.XDomainRequest?eN:eF),l._logger.debug("Loaded!"),l.leaveBreadcrumb("Bugsnag loaded",{},"state"),l._config.autoTrackSessions?l.startSession():l},"createClient"),start:a(function(i){return tE._client?(tE._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),tE._client):(tE._client=tE.createClient(i),tE._client)},"start"),isStarted:a(function(){return null!=tE._client},"isStarted")};return x(["resetEventCount"].concat(_(ej.prototype)),function(i){/^_/.test(i)||(tE[i]=function(){if(!tE._client)return console.log("Bugsnag."+i+"() was called before Bugsnag.start()");tE._client._depth+=1;var c=tE._client[i].apply(tE._client,arguments);return tE._client._depth-=1,c})}),tm=tE,tm.Client=ej,tm.Event=er,tm.Session=eb,tm.Breadcrumb=N,tm.default=tE,tm})}(g,g.exports);var v=g.exports,_=v;var m=h(_),y=/*#__PURE__*/function(){function ge(i){var c=this;_class_call_check(this,ge);k(this,"plugin");k(this,"metadata",{});k(this,"customMetaData");k(this,"beforeSend",a(function(i){var l=i.originalError;return!(c.plugin.isErrorIgnoredByCode(l)||c.plugin.isErrorIgnoredByMessage(l))&&(i.clearMetadata("global"),i.addMetadata("global",c.metadata),c.customMetaData&&(i.clearMetadata("custom"),i.addMetadata("custom",c.customMetaData)),!0)},"beforeSend"));this.plugin=i}_create_class(ge,[{key:"configure",value:function(i){var c=i.apiKey,l=i.buildVersion,f=i.releaseStage;m.start({apiKey:c,appVersion:l,releaseStage:f,autoDetectErrors:!0,autoTrackSessions:!0,onError:this.beforeSend})}},{key:"setUser",value:function(i){var c=i.id,l=i.name,f=null!=c?c:void 0,p=null!=l?l:void 0;m.setUser(f,void 0,p)}},{key:"sendException",value:function(i,c){c&&(this.customMetaData=c),m.notify(i)}},{key:"setMetaData",value:function(i){this.metadata=i}},{key:"addBreadcrumb",value:function(i){m.leaveBreadcrumb(i)}}]);return ge}();a(y,"BugSnagAdapter");var b=y;var S=/*#__PURE__*/function(){function _e(){_class_call_check(this,_e)}_create_class(_e,[{key:"configure",value:function(i){}},{key:"setUser",value:function(i){}},{key:"sendException",value:function(i){}},{key:"addBreadcrumb",value:function(i){}},{key:"setMetaData",value:function(i){}}]);return _e}();a(S,"SentryAdapter");var E=S;var w=p.Utils,x=w.Valid,P=w.Object,j=/*#__PURE__*/function(i){_inherits(ve,i);function ve(){_class_call_check(this,ve);var i;var c;i=_call_super(this,ve,arguments),c=i;k(i,"config");k(i,"adapter");k(i,"filterErrors");k(i,"metadata",{});k(i,"feedbackPopup",null);k(i,"feedbackAsync",a(/*#__PURE__*/function(){var i=_async_to_generator(function(i){var l;return _ts_generator(this,function(f){switch(f.label){case 0:f.trys.push([0,2,,3]);if(!c.feedbackPopup)return[2];l="";i&&(l="error"in i?i.error:i.reason);return[4,new Promise(function(i,f){c.feedbackPopup&&(c.feedbackPopup.onYes(c.handleOnYes(i,l)),c.feedbackPopup.onNo(c.handleOnNo(f)),c.feedbackPopup.onScreenshot(c.handleOnScreenshot()),c.feedbackPopup.show(l))})];case 1:f.sent();return[3,3];case 2:f.sent();return[3,3];case 3:return[2]}})});return function(c){return i.apply(this,arguments)}}(),"feedbackAsync"));k(i,"handleOnYes",a(function(c,l){return function(){if(!i.feedbackPopup)return;var f=i.feedbackPopup.getFeedback()||"",p=i.feedbackPopup.getScreenshot();f&&i.sendException(new Error("User feedback"),{feedback:f,screenshot:p,error:l}),i.feedbackPopup.hide(),c()}},"handleOnYes"));k(i,"handleOnNo",a(function(c){return function(){i.feedbackPopup&&(i.feedbackPopup.hide(),c(new Error("User canceled feedback")))}},"handleOnNo"));k(i,"handleOnScreenshot",a(function(){return function(){i.feedbackPopup&&i.getScreenshot().then(function(c){i.feedbackPopup&&i.feedbackPopup.setScreenshot(c)})}},"handleOnScreenshot"));k(i,"initFeedbackTrackErrors",a(/*#__PURE__*/_async_to_generator(function(){return _ts_generator(this,function(i){switch(i.label){case 0:if(!c.config.feedback)return[3,4];i.label=1;case 1:i.trys.push([1,3,,4]);return[4,c.loadFeedbackPopup()];case 2:i.sent();return[3,4];case 3:i.sent();return[3,4];case 4:return[2]}})}),"initFeedbackTrackErrors"));return i}_create_class(ve,[{key:"configure",value:function(i){this.config=i,this.filterErrors={Codes:{Accepted:[],Ignored:[]},Messages:{Accepted:[],Ignored:[]}},this.adapter=this.getAdapterByService(),this.adapter.configure(this.config)}},{key:"getAdapterByService",value:function(){switch(this.config.service){case"BugSnag":return new b(this);case"Sentry":return new E}}},{key:"setUser",value:function(i){var c;this.config.trackUser&&(null==(c=this.adapter)||c.setUser(i))}},{key:"sendException",value:function(i,c){var l;if(this.isErrorIgnoredByCode(i)||this.isErrorIgnoredByMessage(i))return;var f=this.metadata;c&&(f=P.merge(f,c)),null==(l=this.adapter)||l.sendException(i,f)}},{key:"isErrorIgnoredByCode",value:function(i){if(!P.hasOwn(i,"code"))return!1;var c=i.code;if(!x.isString(c))return!1;var l=this.filterErrors.Codes,f=l.Accepted,p=l.Ignored;return!(f.indexOf(c)>-1)&&p.indexOf(c)>-1}},{key:"isErrorIgnoredByMessage",value:function(i){if(!P.hasOwn(i,"message"))return!1;var c=i.message;if(!x.isString(c))return!1;var l=this.filterErrors.Messages,f=l.Accepted,p=l.Ignored;return!(f.indexOf(c)>-1)&&p.indexOf(c)>-1}},{key:"addBreadcrumb",value:function(i){var c;null==(c=this.adapter)||c.addBreadcrumb(i)}},{key:"addFilterErrors",value:function(i){this.filterErrors=P.merge(this.filterErrors,i)}},{key:"addMetadata",value:function(i){var c;x.isObject(i)&&(this.metadata=P.merge(this.metadata,i),null==(c=this.adapter)||c.setMetaData(this.metadata))}},{key:"removeMetadata",value:function(i){var c;P.hasOwn(this.metadata,i)&&(this.metadata[i]=void 0,null==(c=this.adapter)||c.setMetaData(this.metadata))}},{key:"getScreenshot",value:function(){var i=document.getElementById("GameCanvas");return new Promise(function(c){requestAnimationFrame(function(){c(i.toDataURL("image/jpeg",.4))})})}},{key:"loadFeedbackPopup",value:function(){var i=this;return _async_to_generator(function(){var l,p;return _ts_generator(this,function(h){switch(h.label){case 0:if(!!i.feedbackPopup)return[3,4];h.label=1;case 1:h.trys.push([1,3,,4]);return[4,f(/*#__PURE__*/_async_to_generator(function(){var i,c;return _ts_generator(this,function(l){switch(l.label){case 0:return[4,Promise.resolve().then(function(){return T})];case 1:i=l.sent(),c=i.default;return[2,{default:c}]}})}),void 0,c.meta.url)];case 2:l=h.sent().default;if("function"!=typeof l){console.error("FeedbackPopup is not a valid function");return[2]}i.feedbackPopup=new l;return[3,4];case 3:p=h.sent();console.error("Error loading FeedbackPopup:",p);return[3,4];case 4:return[2]}})})()}}]);return ve}(l.Plugins.BasePlugin);a(j,"MonitorErrorPlugin");var B=j;i("default",B);var C=["Bug","Game is choppy","Audio issue","Deformed graphics","Low FPS","Other"],N=/*#__PURE__*/function(){function me(){var i=this;var c=this;_class_call_check(this,me);k(this,"popup");k(this,"title");k(this,"screenshot");k(this,"feedback");k(this,"okButton");k(this,"noButton");k(this,"screenshotButton");k(this,"okCallback");k(this,"noCallback");k(this,"screenshotCallback");k(this,"feedbackSelections",[]);k(this,"onYes",a(function(c){i.okButton.removeEventListener("click",i.okCallback),i.okCallback=i.handleCallback(c),i.okButton.addEventListener("click",i.okCallback,{once:!0})},"onYes"));k(this,"onNo",a(function(c){i.noButton.removeEventListener("click",i.noCallback),i.noCallback=i.handleCallback(c),i.noButton.addEventListener("click",i.noCallback,{once:!0})},"onNo"));k(this,"onScreenshot",a(function(c){i.screenshotButton.removeEventListener("click",i.screenshotCallback),i.screenshotCallback=i.handleCallback(c,!1),i.screenshotButton.addEventListener("click",i.screenshotCallback)},"onScreenshot"));k(this,"handleCallback",a(function(i,l){var f=!(arguments.length>1)||void 0===l||l;return function(l){l.stopImmediatePropagation(),f&&c.hide(),i(),c.disableScreenshotButton()}},"handleCallback"));this.createPopupElement(),this.addPopupElementStyle();var l=new MutationObserver(function(){document.getElementById("GameDiv")&&i.setupPopupElementSizeAndPosition()}),f={attributes:!0,childList:!0,subtree:!0},p=document.body;l.observe(p,f)}_create_class(me,[{key:"createPopupElement",value:function(){var i=this.getPopupHTML(),c=this.createElement(i);this.setupPopupStyles(c),this.initializeElements(c)}},{key:"createElement",value:function(i){var c=document.createElement("div");return c.id=this.constructor.name,c.innerHTML=i,document.body.appendChild(c),c}},{key:"setupPopupStyles",value:function(i){i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.backgroundColor="#0000001f",i.style.alignItems="center",i.style.justifyContent="center",this.popup=i,this.popup.style.display="none",i.style.setProperty("--popup-bg-color","#161616"),i.style.setProperty("--popup-width","100%"),i.style.setProperty("--popup-height","100%")}},{key:"initializeElements",value:function(i){this.title=this.getElement(i,".popup__title"),this.screenshot=this.getElement(i,".popup__screenshot img"),this.feedback=this.getElement(i,".popup__field"),this.okButton=this.getElement(i,".popup__btns .btn:nth-child(2)"),this.noButton=this.getElement(i,".popup__close"),this.screenshotButton=this.getElement(i,".popup__btns .btn:first-child"),this.setInitialFeedbackText(),this.createFeedbackSelections(i)}},{key:"getElement",value:function(i,c){return i.querySelector(c)}},{key:"setInitialFeedbackText",value:function(){this.feedback.placeholder="Please enter your feedback here",this.title.innerText="Feedback"}},{key:"createFeedbackSelections",value:function(i){var c=this.getElement(i,".popup__selections");var l=true,f=false,p=void 0;try{for(var h=C[Symbol.iterator](),g;!(l=(g=h.next()).done);l=true){var v=g.value;var _=this.createFeedbackSelection(v);c.appendChild(_),this.feedbackSelections.push(_)}}catch(i){f=true;p=i}finally{try{if(!l&&null!=h.return)h.return()}finally{if(f)throw p}}}},{key:"createFeedbackSelection",value:function(i){var c=document.createElement("div");c.classList.add("selection"),c.innerHTML=this.getSelectionHTML();var l=c.querySelector(".label");l.innerText=i;var f=c.querySelector(".checkbox");return f.addEventListener("click",function(){f.classList.toggle("checked")}),c}},{key:"addPopupElementStyle",value:function(){var i=this.createStyleElement(),c=this.getPopupCSS();this.appendStyleToHead(i,c)}},{key:"createStyleElement",value:function(){var i=document.createElement("style");return i.id="feedback-async-popup-style",i}},{key:"appendStyleToHead",value:function(i,c){var l=document.head||document.getElementsByTagName("head")[0];i.appendChild(document.createTextNode(c)),l.appendChild(i)}},{key:"setupPopupElementSizeAndPosition",value:function(){var i=document.getElementById(this.constructor.name);if(!i)return;var c=i.querySelector(".popup");if(!c||!document.getElementById("GameDiv"))return;var l=500,f=document.body.getBoundingClientRect(),p=f.width,h=f.height,g=c,v=p<550?p/550:1,_=h<800?h/800:1;g.style.width="".concat(l,"px"),g.style.scale="".concat(Math.min(v,_))}},{key:"disableScreenshotButton",value:function(){this.screenshotButton.classList.add("disabled"),this.screenshotButton.innerHTML="<p>Captured</p>"}},{key:"getFeedback",value:function(){var i=this.feedbackSelections.reduce(function(i,c){if(!c.querySelector(".checkbox.checked"))return i;var l=c.querySelector(".label");return i+(i?", ":"")+l.innerText},"");return this.feedback.value?"".concat(i,": ").concat(this.feedback.value):i}},{key:"getScreenshot",value:function(){return this.screenshot.src}},{key:"setScreenshot",value:function(i){this.screenshot.src=i}},{key:"show",value:function(i){var c=arguments.length>0&&void 0!==i?i:"";this.feedback.value=c,this.popup.style.display="flex";var l=true,f=false,p=void 0;try{for(var h=this.feedbackSelections[Symbol.iterator](),g;!(l=(g=h.next()).done);l=true){var v=g.value;v.querySelector(".checkbox").classList.remove("checked")}}catch(i){f=true;p=i}finally{try{if(!l&&null!=h.return)h.return()}finally{if(f)throw p}}}},{key:"hide",value:function(){this.popup.style.display="none"}},{key:"getPopupHTML",value:function(){return'\n        <div class="popup">\n            <h2 class="popup__title"></h2>\n            <div class="popup__screenshot">\n                <img src="" alt="Screenshot" />\n            </div>\n            <div class="popup__selections">\n                <!-- Feedback selections will be dynamically added here -->\n            </div>\n            <textarea class="popup__field" placeholder="Please enter your feedback here"></textarea>\n            <div class="popup__btns">\n                <button class="btn" id="screenshot-button"><p>Take a screenshot</p></button>\n                <button class="btn" id="ok"><p>Send</p></button>\n            </div>\n            <button class="popup__close"></button>\n        </div>'}},{key:"getSelectionHTML",value:function(){return'\n        <div class="checkbox">\n            <div class="check-mark"></div>\n        </div>\n        <div class="label"></div>'}},{key:"getPopupCSS",value:function(){return"\n        :root {\n            --popup-bg-color: rgba(26, 26, 26, 0.9);\n            --button-bg-color: #4f4f4f;\n            --button-disabled-bg-color: #7f7f7f;\n            --field-bg-color: #333;\n            --field-placeholder-color: #a27860;\n        }\n\n        .popup {\n            color: #fff;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            padding: 20px;\n            background-color: var(--popup-bg-color);\n            border-radius: 20px;\n        }\n\n        .popup__title {\n            font-size: 2rem;\n            font-weight: bold;\n            margin-bottom: 1rem;\n        }\n\n        .popup__btns {\n            display: flex;\n            flex-direction: column; /* Stack buttons vertically */\n            width: 100%;\n        }\n\n        .btn {\n            padding: 1rem;\n            border-radius: 0.5rem;\n            border: none;\n            cursor: pointer;\n            background-color: var(--button-bg-color);\n            margin-bottom: 0.5rem;\n        }\n\n        .btn p {\n            color: #fff;\n            margin: 0;\n            font-size: 1.5rem;\n            font-weight: bold;\n        }\n\n        .btn.disabled {\n            background-color: var(--button-disabled-bg-color);\n            cursor: not-allowed;\n        }\n\n        .popup__close {\n            position: absolute;\n            top: 1.5rem;\n            right: 1.5rem;\n            background-color: #4f4f4f;\n            border: none;\n            width: 2rem;\n            height: 2rem;\n        }\n\n        .popup__field {\n            width: 100%;\n            height: 150px;\n            font-size: 1rem;\n            padding: 1rem;\n            resize: none;\n            margin-bottom: 1rem;\n            border: none;\n            outline: none;\n            background-color: var(--field-bg-color);\n            color: #fff;\n            overflow: hidden;\n        }\n\n        .popup__field::placeholder {\n            color: var(--field-placeholder-color);\n        }\n\n        .popup__screenshot {\n            width: 100%;\n            display: none;\n            justify-content: center;\n            margin-bottom: 1rem;\n        }\n\n        .popup__screenshot img {\n            width: 100%;\n            aspect-ratio: 16 / 9;\n            object-fit: cover;\n            border-radius: 0.5rem;\n        }\n\n        .popup__selections {\n            display: flex;\n            flex-direction: column;\n            width: 100%;\n            margin-bottom: 1rem;\n        }\n\n        .selection {\n            display: flex;\n            align-items: center;\n            margin: 0.5rem 0;\n            font-size: 24px;\n        }\n\n        .selection .checkbox {\n            width: 1.5rem;\n            height: 1.5rem;\n            margin-right: 1rem;\n            cursor: pointer;\n            position: relative;\n            background-color: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .selection .checkbox .check-mark {\n            display: none;\n            width: 1rem;\n            height: 1rem;\n            background-color: green;\n            border-radius: 50%;\n        }\n\n        .selection .checkbox.checked .check-mark {\n            display: block;\n        }"}}]);return me}();a(N,"FeedbackAsyncPopup");var M=N;var T=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}))},"execute")}});