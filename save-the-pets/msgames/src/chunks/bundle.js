System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///GeneralUtils-a298480d.js",["cc","./rollupPluginModLoBabelHelpers-aaa6c593.js"],(function(e){var n,t,i,a,o,r,u,l,c,d,h,v,f,y,p,S,A,E,g,m,_,T,R,I,N;return{setters:[function(e){n=e.cclegacy,t=e.ccenum,i=e.tween,a=e.Animation,o=e.find,r=e.UITransform,u=e.View,l=e.math,c=e.JsonAsset,d=e.Prefab,h=e.AnimationClip,v=e.ImageAsset,f=e.SpriteFrame,y=e.Font,p=e.assetManager,S=e.AudioClip,A=e.sp,E=e.director},function(e){g=e.k,m=e.f,_=e.c,T=e.g,R=e.h,I=e.l,N=e.j}],execute:function(){n._RF.push({},"244e9OHsmpDnpHQKeLzgiiX","GameEvents",void 0);e("G",{VIEW_RESIZE:"view-resize",VIEW_RESIZED:"view-resized",REQUEST_VIEW_RESIZE:"request-view-resize",LAYOUT_CHANGED:"layout-changed",GAMEPLAY_UPDATE_CONFIG:"gameplay-update-config",UPGRADE_DYNAMIC_ATLAS:"upgrade-dynamic-atlas",ASSET_QUALITY_CHANGE:"asset-quality-change",REQUEST_UPGRADE_ASSET:"request-upgrade-asset",CLEAR_HYBRID_FILE_CACHE:"clear-hybrid-file-cache",PRELOAD_LANGUAGE:"preload-language",CHOOSE_LANGUAGE:"choose-language",LOCALIZE_APPLIED:"localize-applied"});n._RF.pop(),n._RF.push({},"5c76fxO2ppOqYp4WNO+Kavm","GameWorld",void 0);var C=e("a",{Layout:{Portrait:"portrait",Landscape:"landscape"},DesignSize:{Portrait:{WIDTH:750,HEIGHT:1366},Landscape:{WIDTH:1920,HEIGHT:1350},Resolution:2},AcceptPortraitRatio:1024/768,PRIMARY_LAYOUT:"auto",FULL_CANVAS_TO_SCREEN:!0,FULL_PORTRAIT_SIZE:!0,FULL_LANDSCAPE_SIZE:!0});n._RF.pop(),n._RF.push({},"358fdIqjFdNzZGa95REWt2F","Ads",void 0);var k=e("r",{MAX_BOTTOM_BANNER_RATIO:1/6});n._RF.pop(),n._RF.push({},"d159egaUVVLHKLg1UL865ub","SoundKeys",void 0);var w=GameCore.Utils.Object,L="sounds/",D=e("n",{BEE_FLYING:"".concat(L,"bee-flying"),BEE_STING_DOGE:"".concat(L,"bee-sting-doge"),BG_MUSIC:"".concat(L,"bg-music"),BUTTON_CLICK:"".concat(L,"button-click"),COLLECTING_COINS:"".concat(L,"collecting-coins"),DOGE_DIES:"".concat(L,"doge-dies"),DOGE_HURT:"".concat(L,"doge-hurt"),END_DRAW:"".concat(L,"end-draw"),HAND_CLAP:"".concat(L,"hand-clap"),LEVEL_FAIL:"".concat(L,"level-fail"),LEVEL_PASS:"".concat(L,"level-pass"),LOST_STAR_IN_GAMEPLAY:"".concat(L,"lost-star-in-gameplay"),RAISE_STAR:"".concat(L,"raise-star"),SPAWN_COINS:"".concat(L,"spawn-coins"),STAR_RAISE:"".concat(L,"star-raise"),TOUCH_START:"".concat(L,"touch-start"),BEE_BULLET_EXPLODE:"".concat(L,"bee-bullet-explode")}),O=w.vals(D),B=e("k",O.reduce((function(e,n,t){return w.assign(e,g({},n,t))}),{}));t(B);e("m",w.invert(B));n._RF.pop(),n._RF.push({},"2113dSiFcdKCJK3F10MNHVP","AnimAbortSignalAdapter",void 0);var F=GameCore.Utils.Signal,b=function(){function e(n){_(this,e),this.oldCallbacks=[],this.newCallbacks=[],this.signal=n}return m(e,[{key:"once",value:function(e){var n=this,t=function(){return e(new Error(n.signal.reason))};this.oldCallbacks.push(t),this.newCallbacks.push(e),this.signal.addAbortListener(t)}},{key:"off",value:function(e){var n=this.newCallbacks.indexOf(e);if(-1!==n){var t=this.oldCallbacks[n];this.signal.removeAbortListener(t),this.oldCallbacks.splice(n,1),this.newCallbacks.splice(n,1)}}},{key:"abort",value:function(e){var n=e instanceof Error?e.message:e;this.signal.abort(n)}},{key:"aborted",get:function(){return this.signal.aborted}},{key:"reason",get:function(){return"string"==typeof this.signal.reason?new Error(this.signal.reason):void 0}},{key:"wrap",value:function(e){if(!this.aborted)return e}},{key:"chain",value:function(e){var n=this;e instanceof F.Signal?e.once((function(){return n.abort()})):e.addEventListener("abort",(function(){return n.abort()}))}},{key:"promise",value:function(){var e=this;return this.aborted?Promise.resolve(this.reason):new Promise((function(n){e.once((function(e){return n(e)}))}))}}]),e}();n._RF.pop(),n._RF.push({},"c7c0e+0tjZA7aG6a9yUNytM","AnimUtils",void 0);var P=GameCore.Utils.Signal;function G(e){return e instanceof P.Signal?e:new b(e)}var U=e("o",function(){function e(){_(this,e)}return m(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"elasticOut",value:function(e,n,t){var i=n||.1,a=t||.1;if(0===e)return 0;if(1===e)return 1;var o=a/4;return i<1?i=1:o=a*Math.asin(1/n)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin((e-o)*(2*Math.PI)/a)+1}},{key:"easeOutExpo",value:function(e){return 1===e?1:1-Math.pow(2,-10*e)}},{key:"easeInExpo",value:function(e){return 0===e?0:Math.pow(2,10*e-10)}},{key:"runTweenAsync",value:function(e,n){if(void 0===n)return new Promise((function(n){e.call((function(){return n({tween:e})})).start()}));var t=G(n);return t.aborted?Promise.resolve({tween:e}):new Promise((function(n){var i=function(){e.stop(),n({tween:e})};t.once(i),e.call((function(){t.off(i),n({tween:e})})).start()}))}},{key:"runOnUpdateAsync",value:function(e,n,t,a){return new Promise((function(o,s){var r=i(e).to(n,{},{onUpdate:function(e,n){if(void 0!==n)try{t(n)}catch(e){s(e instanceof Error?e:new Error(String(e)))}}});if(void 0!==a){var u=G(a);if(u.aborted)o({tween:r});else{var l=function(){r.stop(),o({tween:r})};u.once(l),r.call((function(){u.off(l),o({tween:r})})).start()}}else r.call((function(){return o({tween:r})})).start()}))}},{key:"waitTweenAsync",value:function(e,n){return new Promise((function(t){var a=i({}).delay(e);if(void 0!==n){var o=G(n);if(o.aborted)t();else{var s=function(){a.stop(),t()};o.once(s),a.call((function(){o.off(s),t()})).start()}}else a.call((function(){return t()})).start()}))}},{key:"runAnimationAsync",value:function(e,n,t){if(void 0===t)return new Promise((function(t){e.once(a.EventType.FINISHED,t),e.play(n)}));var i=G(t);return i.aborted?Promise.resolve():new Promise((function(t){var o=function(){e.stop(),t()};i.once(o),e.once(a.EventType.FINISHED,(function(){i.off(o),t()})),e.play(n)}))}}]),e}());n._RF.pop(),n._RF.push({},"31871PLRYRJu7yCCX5F6lWK","AudioUtils",void 0);var M=GameCore.Utils.Signal,W=e("l",function(){function e(){_(this,e),this.signalController=new M.SignalController}var n,t,i,a,s;return m(e,[{key:"sound",get:function(){var e;return null===(e=o("Sound"))||void 0===e?void 0:e.getComponent("Sound")}},{key:"music",get:function(){var e;return null===(e=o("Music"))||void 0===e?void 0:e.getComponent("Music")}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"muteAudio",value:function(e){this.muteMusic(e),this.muteSound(e)}},{key:"playSound",value:(s=T((function*(e,n){var t,i;null!==(t=globalThis.game.player.getPlayerSetting("sound"))&&void 0!==t&&t&&(yield null===(i=this.inst.sound)||void 0===i?void 0:i.play(e,n))})),function(e,n){return s.apply(this,arguments)})},{key:"pauseSound",value:function(e){var n;null===(n=this.inst.sound)||void 0===n||n.pause(e)}},{key:"resumeSound",value:function(e){var n;null===(n=this.inst.sound)||void 0===n||n.resume(e)}},{key:"stopSound",value:function(e){var n;null===(n=this.inst.sound)||void 0===n||n.stop(e)}},{key:"stopAllSounds",value:function(){var e;null===(e=this.inst.sound)||void 0===e||e.stopAll()}},{key:"muteSound",value:function(e){var n;null===(n=this.inst.sound)||void 0===n||n.mute(e)}},{key:"playMusic",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.inst.music&&(n||!this.inst.music.playing(D.BG_MUSIC))){var t=globalThis.game.player,i=null!==(e=t.getPlayerSetting("music"))&&void 0!==e&&e;i&&this.inst.music.play(D.BG_MUSIC)}}},{key:"pauseMusic",value:function(){var e;null===(e=this.inst.music)||void 0===e||e.pause(D.BG_MUSIC)}},{key:"muteMusic",value:function(e){var n;null===(n=this.inst.music)||void 0===n||n.mute(e)}},{key:"turnUpMusic",value:(a=T((function*(){var e,n;(null!==(e=null===(n=this.inst.music)||void 0===n?void 0:n.getVolume())&&void 0!==e?e:0)>.8||(yield this.setVolumeMusic(.8,!0))})),function(){return a.apply(this,arguments)})},{key:"turnDownMusic",value:(i=T((function*(){var e,n;(null!==(e=null===(n=this.inst.music)||void 0===n?void 0:n.getVolume())&&void 0!==e?e:0)<.3||(yield this.setVolumeMusic(.3,!0))})),function(){return i.apply(this,arguments)})},{key:"turnOffMusic",value:(t=T((function*(){yield this.setVolumeMusic(0)})),function(){return t.apply(this,arguments)})},{key:"getVolumeMusic",value:function(){var e,n;return null!==(e=null===(n=this.inst.music)||void 0===n?void 0:n.getVolume())&&void 0!==e?e:0}},{key:"setVolumeMusic",value:(n=T((function*(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.inst.music){var i=this.inst.signalController.renew();if(t){var a=this.inst.music.getVolume(),o=a;yield U.runOnUpdateAsync(this.inst.music.node,1,(function(t){n.inst.music&&(o=a+(e-a)*t,n.inst.music.setVolume(o))}),i)}else{var s;null===(s=this.inst.music)||void 0===s||s.setVolume(e)}}})),function(e){return n.apply(this,arguments)})}]),e}());n._RF.pop(),n._RF.push({},"05faedSJ2NHFqLe9b3g4RIl","CocosUtils",void 0);var H,V,x=GameCore.Utils.Device,K=e("C",function(){function e(){_(this,e)}return m(e,[{key:"getBoundingBoxTo",value:function(e,n){var t=l.mat4();l.Mat4.fromSRT(t,n.getRotation(),n.getPosition(),n.getScale());var i=n.getComponent(r);if(!i)throw new Error("Node must have UITransform component");var a=i.anchorPoint,o=i.contentSize,s=o.width,u=o.height,c=new l.Rect(-a.x*s,-a.y*u,s,u),d=l.mat4();if(l.Mat4.multiply(d,e,t),c.transformMat4(d),!n.children||0===n.children.length)return c;var h,v=n.children,f=n.getWorldMatrix(),y=R(v);try{for(y.s();!(h=y.n()).done;){var p=h.value;if(null!=p&&p.active)if(p.getComponent(r)){var S=this.getBoundingBoxTo(f,p);S&&l.Rect.union(c,c,S)}}}catch(e){y.e(e)}finally{y.f()}return c}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"getBoundingBoxToWorld",value:function(e){if(e.parent){var n=e.parent.getWorldMatrix();return this.inst.getBoundingBoxTo(n,e)}var t=e.getComponent(r);if(!t)throw new Error("Node must have UITransform component");return t.getBoundingBox()}},{key:"getWorldGameSize",value:function(){var e=C.DesignSize.Resolution,n=u.instance.getDesignResolutionSize();return{width:n.width/e,height:n.height/e}}},{key:"worldSizeToCssSize",value:function(e){var n=C.DesignSize.Resolution,t=Math.min(x.pixelRatio(),n);return Math.round(e*t)}},{key:"cssSizeToWorldSize",value:function(e){var n=C.DesignSize.Resolution,t=Math.min(x.pixelRatio(),n);return Math.round(e/t)}},{key:"getScreenWidthCss",value:function(){var e=document,n=e.body,t=e.documentElement,i=n.clientWidth,a=t.clientWidth;return Math.max(a,i)||0}},{key:"getScreenHeightCss",value:function(){var e=document,n=e.body,t=e.documentElement,i=n.clientHeight,a=t.clientHeight;return Math.max(a,i)||0}}]),e}());n._RF.pop(),n._RF.push({},"0eeb868JeVE67iFwhbkRCmE","ScreenKeys",void 0);var z=e("q",function(e){return e[e.LOADING_SCREEN=1]="LOADING_SCREEN",e[e.SETTINGS_SCREEN=2]="SETTINGS_SCREEN",e[e.NOTIFICATION_SCREEN=3]="NOTIFICATION_SCREEN",e[e.LOSE_SCREEN=4]="LOSE_SCREEN",e[e.WINNING_SCREEN=5]="WINNING_SCREEN",e[e.CONGRATULATION_SCREEN=6]="CONGRATULATION_SCREEN",e}(z||{})),Y=e("i",(g(H={},z.LOADING_SCREEN,"LoadingScreen"),g(H,z.SETTINGS_SCREEN,"SettingsScreen"),g(H,z.NOTIFICATION_SCREEN,"NotificationScreen"),g(H,z.LOSE_SCREEN,"LoseScreen"),g(H,z.WINNING_SCREEN,"WinningScreen"),g(H,z.CONGRATULATION_SCREEN,"CongratulationScreen"),H)),Z=(g(V={},Y[z.LOADING_SCREEN],z.LOADING_SCREEN),g(V,Y[z.SETTINGS_SCREEN],z.SETTINGS_SCREEN),g(V,Y[z.NOTIFICATION_SCREEN],z.NOTIFICATION_SCREEN),g(V,Y[z.LOSE_SCREEN],z.LOSE_SCREEN),g(V,Y[z.WINNING_SCREEN],z.WINNING_SCREEN),g(V,Y[z.CONGRATULATION_SCREEN],z.CONGRATULATION_SCREEN),[Y[z.NOTIFICATION_SCREEN],Y[z.LOADING_SCREEN]]);n._RF.pop(),n._RF.push({},"a0dcdDZxhZImZ8Cfg4Dc7SJ","ScreenUtils",void 0);var q=globalThis.game.event,j=GameCore,J=j.Events,X=j.Utils.Array,Q=e("f",function(){function e(){_(this,e),this.showedScreens=[]}var n,t;return m(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"preloadScreens",value:function(){q.emit(J.PRELOAD_SCREENS)}},{key:"openScreen",value:function(e,n){var t=Y[e];q.emit(J.OPEN_SCREEN,{screenName:t,screenData:n})}},{key:"closeScreen",value:function(e){var n=Y[e];q.emit(J.CLOSE_SCREEN,{screenName:n})}},{key:"openScreenAndWaitForClose",value:function(e,n){var t=this;return new Promise((function(i){t.openScreen(e,n);q.on(J.CLOSE_SCREEN,(function e(n){n.screenName===Y[s=creenKey]&&(q.off(J.CLOSE_SCREEN,e),i(n))}))}))}},{key:"showLoadingScreen",value:function(e){this.openScreen(z.LOADING_SCREEN,{duration:e})}},{key:"closeLoadingScreen",value:function(){this.closeScreen(z.LOADING_SCREEN)}},{key:"showNotificationScreen",value:function(e,n){this.openScreen(z.NOTIFICATION_SCREEN,{message:e,duration:n})}},{key:"closeNotificationScreen",value:function(){this.closeScreen(z.NOTIFICATION_SCREEN)}},{key:"addShowedScene",value:function(e){X.has(this.inst.showedScreens,e)||this.inst.showedScreens.push(e)}},{key:"showLoadingFullScreen",value:(t=T((function*(e){if(!X.has(this.inst.showedScreens,e)){this.addShowedScene(e);var n=o("Loading");if(n){n.active=!0;var t=n.getComponent("Loading");yield t.show(e)}}})),function(e){return t.apply(this,arguments)})},{key:"hideLoadingFullScreen",value:(n=T((function*(e){var n;if(!X.has(this.inst.showedScreens,e)){var t=null===(n=o("Loading"))||void 0===n?void 0:n.getComponent("Loading");yield null==t?void 0:t.hide(e)}})),function(e){return n.apply(this,arguments)})},{key:"showLoadingNotificationScreen",value:function(){this.openScreen(z.NOTIFICATION_SCREEN,{message:"Loading",enableCloseOnTouch:!1})}}]),e}());n._RF.pop(),n._RF.push({},"ba77cUVKIVES7OzU5CC+5pq","AdsUtils",void 0);var $=GameCore,ee=$.Configs,ne=ee.Ads,te=ne.Enabled,ie=ne.InterstitialAdOptions,ae=ne.RewardedVideoAdOptions,oe=ne.RewardedInterstitialAdOptions,se=ne.BannerDisplayAdOptions,re=ee.Gameplay.StartAdAtLevel,ue=$.Plugins.Ads,le=ue.Types,ce=ue.Status,de=$.Utils,he=de.Array,ve=de.Function,fe=de.Time,ye=globalThis.game.ads;e("A",function(){function e(){_(this,e),this.isAvoidBannerShowed=!1}var n,t,i,a,o;return m(e,[{key:"getAdReady",value:function(e,n){if(te)if(n){if(ye.getAdStatus(e,n)===ce.FILLED)return n}else{var t,i=ye.getAdsByType(e),a=R(i);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o.instance.status===ce.FILLED)return o.placementId}}catch(e){a.e(e)}finally{a.f()}}}},{key:"getAllAdReady",value:function(e){return te?ye.getAdsByType(e).filter((function(e){return e.instance.status===ce.FILLED})).map((function(e){return e.placementId})):[]}},{key:"getPlacementIdByService",value:function(e,n){var t,i,a,o;if(!n)return!1;switch(e){case le.BANNER:return(null===(t=he.search(se,(function(e){return e.AdService===n})))||void 0===t?void 0:t.PlacementId)||!1;case le.INTERSTITIAL:return(null===(i=he.search(ie,(function(e){return e.AdService===n})))||void 0===i?void 0:i.PlacementId)||!1;case le.REWARDED_VIDEO:return(null===(a=he.search(ae,(function(e){return e.AdService===n})))||void 0===a?void 0:a.PlacementId)||!1;case le.REWARDED_INTERSTITIAL:return(null===(o=he.search(oe,(function(e){return e.AdService===n})))||void 0===o?void 0:o.PlacementId)||!1;default:return!1}}},{key:"getAdIdByPayload",value:function(e,n){var t=n||{},i=t.adService,a=t.placementId;return this.getPlacementIdByService(e,i)||a}},{key:"getAdErrorMessage",value:function(e,n){switch(e){case le.REWARDED_VIDEO:case le.REWARDED_INTERSTITIAL:return this.isUserCancelledAdError(n)?"Sorry, no rewards!\n You have cancelled the ad.":"No ads to display.";default:return null}}},{key:"showAdWithType",value:(o=T((function*(n,t){var i=t||{},a=i.placementId,o=i.includeSDK,s=i.excludeSDK,r=i.forceLoad,u=i.adService;if(!this.canbeShowInSDK(o,s))return!1;var l=this.getAdIdByPayload(n,t),c=!1,d=!1;try{if(W.muteAudio(!0),r){Q.showLoadingScreen();var h=yield ve.allSettled([ye.loadAdAsync(n,l),fe.sleepAsync(500)]),v=N(h,1)[0];if("rejected"===(null==v?void 0:v.status))throw v.reason}for(;!c;)try{var f=this.getAdReady(n,l);if(!f)return!1;l=f,yield ye.showAdAsync(n,l),c=!0}catch(e){if(u)throw e;if(this.isUserCancelledAdError(e))throw e;if(this.isRequestAdTimeoutError(e))throw e;l=void 0,c=!1,d=!0}return!0}catch(e){d=!0;var y=this.getAdErrorMessage(n,e);return y&&Q.showNotificationScreen(y,2),!1}finally{W.muteAudio(!1),r&&Q.closeLoadingScreen(),d&&(l=a),e.preloadAdsByType(n,l)}})),function(e,n){return o.apply(this,arguments)})},{key:"canbeShowInSDK",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=GameSDK.getSDKName();return(null==n||!n.length||!he.has(n,t))&&!(null!=e&&e.length&&!he.has(e,t))}},{key:"isUserCancelledAdError",value:function(e){return e instanceof Object&&"code"in e&&"USER_INPUT"===e.code}},{key:"isRequestAdTimeoutError",value:function(e){return e instanceof Object&&"code"in e&&"SHOW_ADS_TIMEOUT"===e.code}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"preloadAds",value:(a=T((function*(){this.preloadAdsByType(le.INTERSTITIAL),this.preloadAdsByType(le.REWARDED_VIDEO),this.preloadAdsByType(le.REWARDED_INTERSTITIAL)})),function(){return a.apply(this,arguments)})},{key:"isServiceDegraded",value:function(){return ye.isServiceDegraded()}},{key:"preloadAdsByType",value:function(e,n){if(te){var t,i=ye.getAdsByType(e),a=R(i);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(!n||o.placementId===n)if(!(o.instance.status===ce.FILLED)){if(ye.getAdStatus(e,n)===ce.FILLED)return;ye.loadAdAsync(e,o.placementId).catch((function(){}))}}}catch(e){a.e(e)}finally{a.f()}}}},{key:"setAvoidBannerShowed",value:function(e){this._instance.isAvoidBannerShowed=e}},{key:"showBannerAds",value:function(){var e=this;if(te&&!this.inst.isAvoidBannerShowed){var n=u.instance.getVisibleSize(),t=K.worldSizeToCssSize(n.height*k.MAX_BOTTOM_BANNER_RATIO);se.forEach((function(n){var i=n.PlacementId,a=n.Position,o=n.BannerHeight;"bottom"===a&&o>t||e.showBannerAd(i)}))}}},{key:"hideBannerAds",value:function(){var e=this;te&&ye.getAdsByType(le.BANNER).forEach((function(n){n.instance.status!==ce.IDLE&&e.hideBannerAd(n.placementId)}))}},{key:"showBannerAd",value:function(e){this.inst.isAvoidBannerShowed||ye.showBannerAdAsync(e).catch((function(e){}))}},{key:"hideBannerAd",value:function(e){ye.hideBannerAdAsync(e).catch((function(e){}))}},{key:"isReadyAdShowable",value:function(e,n){var t=this.inst.getAdReady(e,n);return!!t&&ye.canbeShowAd(e,t)}},{key:"showInterstitialAdAsync",value:(i=T((function*(e){var n,t,i=e||{},a=i.forLevel,o=i.contextType,s=i.forceLoad;if(a&&re>=a)return!1;o&&(null===(n=window.GoogleAds)||void 0===n||n.setInterstitialType(o),null===(t=window.TranssionH5Ads)||void 0===t||t.setInterstitialType(o));var r=s;return this.inst.showAdWithType(le.INTERSTITIAL,I(I({},e),{},{forceLoad:r}))})),function(e){return i.apply(this,arguments)})},{key:"showRewardVideoAdAsync",value:(t=T((function*(e){var n,t,i=(e||{}).contextType;return i&&(null===(n=window.GoogleAds)||void 0===n||n.setRewardType(i),null===(t=window.TranssionH5Ads)||void 0===t||t.setRewardType(i)),this.inst.showAdWithType(le.REWARDED_VIDEO,I(I({},e),{},{forceLoad:!0}))})),function(e){return t.apply(this,arguments)})},{key:"showRewardedInterstitialAdAsync",value:(n=T((function*(e){var n,t,i=(e||{}).contextType;return i&&(null===(n=window.GoogleAds)||void 0===n||n.setRewardType(i),null===(t=window.TranssionH5Ads)||void 0===t||t.setRewardType(i)),this.inst.showAdWithType(le.REWARDED_INTERSTITIAL,I(I({},e),{},{forceLoad:!0}))})),function(e){return n.apply(this,arguments)})}]),e}());n._RF.pop();e("E",!1),e("B",!0);n._RF.push({},"32598ObpVZK/pecmWIdcs+7","SceneKeys",void 0);var pe=e("S",{TEST_SCENE:"TestScene",BOOT_SCENE:"BootScene",DASHBOARD_SCENE:"DashboardScene",GAME_SCENE:"GameScene",ENDLESS_SCENE:"EndlessScene",DRAFT_SCENE:"DraftScene",TEST_LAYOUT_SCENE:"TestLayoutScene",TEST_PERFORMANCE_SCENE:"TestPerformanceScene",TEST_PARTICLE_SYSTEM_SCENE:"TestParticleSystemScene"});n._RF.pop(),n._RF.push({},"97ca9J9nzNCeIjC1l+ZT/Hm","SceneUtils",void 0);var Se=globalThis.game.event,Ae=GameCore.Events;e("h",function(){function e(){_(this,e),this.loadedScenes={}}return m(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"switchScene",value:function(e,n){Se.emit(Ae.SWITCH_SCENE,{sceneName:e,sceneData:n})}},{key:"preloadScene",value:function(e){Se.emit(Ae.PRELOAD_SCENE,{sceneName:e})}},{key:"isSceneLoaded",value:function(e){var n;return null!==(n=this.inst.loadedScenes[e])&&void 0!==n&&n}},{key:"markIsSceneLoaded",value:function(e){this.inst.loadedScenes[e]=!0}},{key:"markIsTestScene",value:function(e){Se.emit(Ae.MARK_IS_TEST_SCENE,{sceneName:e})}},{key:"preloadDashboardScene",value:function(){this.preloadScene(pe.DASHBOARD_SCENE)}},{key:"switchToDashboardScene",value:function(e){this.switchScene(pe.DASHBOARD_SCENE,e)}},{key:"preloadGameScene",value:function(){this.preloadScene(pe.GAME_SCENE)}},{key:"switchToGameScene",value:function(e){W.stopAllSounds(),W.turnOffMusic(),this.switchScene(pe.GAME_SCENE,e)}},{key:"switchToEndlessScene",value:function(e){W.stopAllSounds(),W.turnOffMusic(),this.switchScene(pe.ENDLESS_SCENE,e)}}]),e}());n._RF.pop(),n._RF.push({},"f8533KH/fxOfYqya9sgLrSj","GameData",void 0);var Ee=e("b",{level:1,coins:0,bestEndlessScore:0});n._RF.pop(),n._RF.push({},"074c4KXFZ1Pq6d+66PrLd2+","PlayerData",void 0);e("P",{score:0,endlessScore:0,settings:{sound:!0,music:!0,vibrate:!0,language:"en"},gameData:Ee,isFirstLogin:!0,dailyRewarded:{logDays:[],firstReward:0,lastReward:0},lastCallSwitchGame:0,notificationData:{}});n._RF.pop(),n._RF.push({},"27101Dr1C9IFq4Thv9mNLal","Locales",void 0);e("c",["en","ru"]);var ge=e("p",{en:"fonts/gamefont.fnt",ru:"fonts/gamefont-ru.fnt"});e("L",{ru:"locales/ru"});n._RF.pop(),n._RF.push({},"d3c2a0dCmhOoKinH6/Rr9Tk","ResourceUtils",void 0);var me=GameCore.Utils,_e=me.Function,Te=me.Time,Re=["loadable","animations"],Ie=function(){var e=T((function*(){try{var e=Re.map((function(e){return Ne.loadBundle(e)}));yield Promise.all(e)}catch(e){console.warn("ResourceUtils: initBundles failed",e),yield Te.sleepAsync(500)}}));return function(){return e.apply(this,arguments)}}(),Ne=e("R",function(){function e(){_(this,e),this.bundles={loadable:null,animations:null}}var n,t,i,a,o,s,r,u,l,E,g,I,N,C,k,w,L;return m(e,[{key:"getBundleNameByType",value:function(e){switch(e){case h:return"animations";default:return"loadable"}}},{key:"loadBundleByType",value:(L=T((function*(n){var t=this.getBundleNameByType(n);return e.loadBundle(t)})),function(e){return L.apply(this,arguments)})},{key:"getBundleByType",value:function(e){var n,t=this.getBundleNameByType(e);return null!==(n=this.bundles[t])&&void 0!==n?n:null}},{key:"preloadAsset",value:(w=T((function*(e,n,t){var i=this;yield this.loadBundleByType(n);var a=this.getBundleByType(n);if(a)return new Promise((function(o,s){a.preload(e,n,(function(a){if(a)return console.warn("Failed to preload asset at path: ".concat(e),a),void s(a);t?i.loadAssetAsync(e,n).finally(o):o()}))}))})),function(e,n,t){return w.apply(this,arguments)})},{key:"loadAssetAsync",value:(k=T((function*(e,n){yield this.loadBundleByType(n);var t=this.getBundleByType(n);if(!t)return null;var i=this.getAsset(e,n);return i||new Promise((function(i,a){t.load(e,n,(function(n,t){t?i(t):(console.warn("[ResourceUtils] Failed to load asset at path: ".concat(e),n),a(null))}))}))})),function(e,n){return k.apply(this,arguments)})},{key:"loadAssetsAsync",value:(C=T((function*(e,n){yield this.loadBundleByType(n);var t=this.getBundleByType(n);if(!t)return null;for(var i=[],a=[],o=0,s=e.length;o<s;o++){var r=e[o],u=this.getAsset(r,n);u?i.push({index:o,asset:u}):a.push({index:o,path:r})}return 0===a.length?Promise.resolve(i.map((function(e){return e.asset}))):new Promise((function(e){t.load(a.map((function(e){return e.path})),n,(function(n,t){if(n||t.length!==a.length)e(null);else{for(var o=0,s=t.length;o<s;o++){var r,u=t[o];if(u){var l=null===(r=a[o])||void 0===r?void 0:r.index;if(!l)return;i.splice(l,0,{index:l,asset:u})}}e(i.map((function(e){return e.asset})))}}))}))})),function(e,n){return C.apply(this,arguments)})},{key:"loadDirAsync",value:(N=T((function*(e,n){yield this.loadBundleByType(n);var t=this.getBundleByType(n);return t?new Promise((function(i){t.loadDir(e,n,(function(n,t){t?i(t):(console.warn("Failed to load assets at path: ".concat(e),n),i([]))}))})):Promise.resolve([])})),function(e,n){return N.apply(this,arguments)})},{key:"preloadDirAsync",value:(I=T((function*(e,n,t){var i=this;yield this.loadBundleByType(n);var a=this.getBundleByType(n);if(a)return new Promise((function(o,s){a.preloadDir(e,n,(function(a){if(a)return console.warn("Failed to preload assets at path: ".concat(e),a),void s(a);t?i.loadDirAsync(e,n).finally(o):o()}))}))})),function(e,n,t){return I.apply(this,arguments)})},{key:"getAsset",value:function(n,t){var i=this.getBundleByType(t);if(!i)return null;var a=e.getAssetInfo(n,t);return a?i.get(a.path,t):null}},{key:"loadFontAsync",value:function(e){var n=ge[e].replace(/\.[^.]+$/,"");return this.loadAssetAsync(n,y)}},{key:"loadSpriteFramesAsync",value:(g=T((function*(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=yield this.loadAssetsAsync(e,f);if(t){var i,a=R(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.packable=n}}catch(e){a.e(e)}finally{a.f()}}return t})),function(e){return g.apply(this,arguments)})}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"loadBundle",value:(E=T((function*(e){var n=this;this.inst.bundles[e]||(yield new Promise((function(t,i){var a=setTimeout(i,15e3);p.loadBundle(e,null,(function(o,s){clearTimeout(a);var r=n.inst.bundles[e];r||!o&&s?(n.inst.bundles[e]=null!=r?r:s,t(!0)):i(o)}))})))})),function(e){return E.apply(this,arguments)})},{key:"loadAudioAsync",value:(l=T((function*(e){return this.inst.loadAssetAsync(e,S)})),function(e){return l.apply(this,arguments)})},{key:"loadJsonAsync",value:(u=T((function*(e){return this.inst.loadAssetAsync(e,c)})),function(e){return u.apply(this,arguments)})},{key:"loadPrefabAsync",value:(r=T((function*(e){return this.inst.loadAssetAsync(e,d)})),function(e){return r.apply(this,arguments)})},{key:"loadAnimClipAsync",value:(s=T((function*(e){return this.inst.loadAssetAsync(e,h)})),function(e){return s.apply(this,arguments)})},{key:"loadSkeletonDataAsync",value:(o=T((function*(e){return this.inst.loadAssetAsync(e,A.SkeletonData)})),function(e){return o.apply(this,arguments)})},{key:"loadImageSpriteFrameAsync",value:(a=T((function*(e){var n=yield this.inst.loadAssetAsync(e,v);return n?f.createWithImage(n):null})),function(e){return a.apply(this,arguments)})},{key:"loadSpriteFrameAsync",value:(i=T((function*(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=yield this.inst.loadAssetAsync(e,f);return t&&(t.packable=n),t})),function(e){return i.apply(this,arguments)})},{key:"loadSpriteFramesDirAsync",value:(t=T((function*(e){return this.inst.loadDirAsync(e,f)})),function(e){return t.apply(this,arguments)})},{key:"preloadJson",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,c,n)}},{key:"preloadPrefab",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,d,n)}},{key:"preloadAnimClip",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,h,n)}},{key:"preloadImageSpriteFrame",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,v,n)}},{key:"preloadSpriteFrame",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,f,n)}},{key:"preloadSpriteFramesDir",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadDirAsync(e,f,n)}},{key:"getAssetInfo",value:function(e,n){var t=this.inst.getBundleByType(n);return t?t.getInfoWithPath(e,n):null}},{key:"getAsset",value:function(e,n){return this.inst.getAsset(e,n)}},{key:"loadFontAsync",value:function(e){return this.inst.loadFontAsync(e)}},{key:"loadSpriteFramesAsync",value:(n=T((function*(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.inst.loadSpriteFramesAsync(e,n)})),function(e){return n.apply(this,arguments)})}]),e}());_e.retryAsync(Ie,Ie),n._RF.pop(),n._RF.push({},"52b52FNwvhBKY/becAy420o","Leaderboard",void 0);e("d",{GLOBAL:"global-leaderboard-key",FRIENDS:"friends-leaderboard-key"}),e("e",{GLOBAL:"global-leaderboard-id",FRIENDS:"friends-leaderboard-id"});n._RF.pop(),n._RF.push({},"09bc071ZcpI978b1NdKUaqD","AnalyticsUtils",void 0);var Ce=GameCore.Utils.Array,ke=globalThis.game.analytics;e("g",function(){function e(){_(this,e)}return m(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"trackCurrentPage",value:function(e,n){if(!Ce.has(Z,e)&&(n||Ce.has(this.trackingPages,e))){this.trackingPages=this.trackingPages.filter((function(n){return n!==e})),n&&this.trackingPages.push(e);var t=this.getCurrentPage();ke.pageview(t)}}},{key:"switchSceneTracking",value:function(){this.trackingPages=[];var e=this.getCurrentPage();ke.pageview(e)}},{key:"getCurrentPage",value:function(){var e,n;return this.trackingPages.length>0?this.trackingPages[this.trackingPages.length-1]||"Unknown Page":null!==(e=null===(n=E.getScene())||void 0===n?void 0:n.name)&&void 0!==e?e:"Unknown Scene"}}]),e}()).trackingPages=[],n._RF.pop(),n._RF.push({},"688b9uHmGxIzor34fF2fnWU","GeneralUtils",void 0);e("j",function(){function e(){_(this,e)}return m(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"setBlockInput",value:function(e){var n=o("Canvas/InputBlocker");n&&(n.active=e)}},{key:"getBlockInput",value:function(){var e=o("Canvas/InputBlocker");return!!e&&e.active}}]),e}());n._RF.pop()}}}));

System.register("chunks:///rollupPluginModLoBabelHelpers-aaa6c593.js",[],(function(e){return{execute:function(){function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(t){return(r=e("m","function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}))(t)}function n(e,t,r,n,o,i,u){try{var c=e[i](u),f=c.value}catch(e){return void r(e)}c.done?t(f):Promise.resolve(f).then(n,o)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function i(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(t){return(u=e("p",Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)}))(t)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,r){return(l=f()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&c(o,r.prototype),o}).apply(null,arguments)}function a(t){var r="function"==typeof Map?new Map:void 0;return(a=e("n",(function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return l(e,arguments,u(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)})))(t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?e("q",Reflect.get.bind()):e("q",(function(e,t,r){var n=b(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}))).apply(this,arguments)}function v(e,t,r,n){return(v="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,r,n){var o,u=b(e,t);if(u){if((o=Object.getOwnPropertyDescriptor(u,t)).set)return o.set.call(n,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(n,t)){if(!o.writable)return!1;o.value=r,Object.defineProperty(n,t,o)}else i(n,t,r);return!0})(e,t,r,n)}function d(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}e({_:function(e,t,r,n,o){var i={};Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0);i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0);void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null);return i},a:function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)},b:function(e){var t=f();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}},c:function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d:function(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})},e:p,f:function(e,t,r){t&&o(e.prototype,t);r&&o(e,r);return Object.defineProperty(e,"prototype",{writable:!1}),e},g:function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var u=e.apply(t,r);function c(e){n(u,o,i,c,f,"next",e)}function f(e){n(u,o,i,c,f,"throw",e)}c(void 0)}))}},h:function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}},i:function(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},j:function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,c=[],f=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(e){l=!0,o=e}finally{try{if(!f&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},k:i,l:function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},m:r,n:a,o:function(e,t,r,n,o){if(!v(e,t,r,n||e)&&o)throw new TypeError("failed to set property");return r},p:u,q:s})}}}));

} }; });