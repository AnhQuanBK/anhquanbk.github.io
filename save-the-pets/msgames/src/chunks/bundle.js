function _instanceof(o,s){if(null!=s&&"undefined"!=typeof Symbol&&s[Symbol.hasInstance])return!!s[Symbol.hasInstance](o);return o instanceof s}function _type_of(o){return o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o}function _ts_generator(o,s){var c,l,d,f,h={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return f={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function verb(o){return function(s){return step([o,s])}}function step(f){if(c)throw new TypeError("Generator is already executing.");while(h)try{if(c=1,l&&(d=2&f[0]?l.return:f[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,f[1])).done)return d;if(l=0,d)f=[2&f[0],d.value];switch(f[0]){case 0:case 1:d=f;break;case 4:h.label++;return{value:f[1],done:false};case 5:h.label++;l=f[1];f=[0];continue;case 7:f=h.ops.pop();h.trys.pop();continue;default:if(d=h.trys,!(d=d.length>0&&d[d.length-1])&&(6===f[0]||2===f[0])){h=0;continue}if(3===f[0]&&(!d||f[1]>d[0]&&f[1]<d[3])){h.label=f[1];break}if(6===f[0]&&h.label<d[1]){h.label=d[1];d=f;break}if(d&&h.label<d[2]){h.label=d[2];h.ops.push(f);break}if(d[2])h.ops.pop();h.trys.pop();continue}f=s.call(o,h)}catch(o){f=[6,o];l=0}finally{c=d=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:true}}}System.register([],function(o,s){return{execute:function(){System.register("chunks:///Screens-fa8213f8.js",["cc"],function(o){var s,c,l,d,f,h,p,v,y,g,m,S,E,_,A,b,w,R,I,k,C,N,T,O,en,et,ei,er,eo,ea,eu;return{setters:[function(o){s=o.cclegacy,c=o.isCCObject,l=o.AudioSource,d=o.resources,f=o.AudioClip,h=o._decorator,p=o.CCString,v=o.director,y=o.Component,g=o.UITransform,m=o.view,S=o.screen,E=o.math,_=o.ccenum,A=o.tween,b=o.Animation,w=o.find,R=o.ProgressBar,I=o.Label,k=o.UIOpacity,C=o.Prefab,N=o.instantiate,T=o.View,O=o.game,en=o.AnimationClip,et=o.ImageAsset,ei=o.SpriteFrame,er=o.Node,eo=o.Widget,ea=o.Vec3,eu=o.Enum}],execute:function(){function P(o,s){var c=Object.keys(o);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable})),c.push.apply(c,l)}return c}function L(o,s,c,l,d,f,h){try{var p=o[f](h),v=p.value}catch(o){return void c(o)}p.done?s(v):Promise.resolve(v).then(l,d)}function F(o){return function(){var s=this,c=arguments;return new Promise(function(l,d){var f=o.apply(s,c);function a(o){L(f,l,d,a,u,"next",o)}function u(o){L(f,l,d,a,u,"throw",o)}a(void 0)})}}function D(o,s){if(!_instanceof(o,s))throw new TypeError("Cannot call a class as a function")}function M(o,s){for(var c=0;c<s.length;c++){var l=s[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(o,$(l.key),l)}}function B(o,s,c){return s&&M(o.prototype,s),c&&M(o,c),Object.defineProperty(o,"prototype",{writable:!1}),o}function G(o,s,c){return(s=$(s))in o?Object.defineProperty(o,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[s]=c,o}function V(o,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),s&&W(o,s)}function U(s){return(U=o("o",Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)}))(s)}function W(o,s){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,s){return o.__proto__=s,o})(o,s)}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function x(){return(x=j()?Reflect.construct.bind():function(o,s,c){var l=[null];l.push.apply(l,s);var d=new(Function.bind.apply(o,l));return c&&W(d,c.prototype),d}).apply(null,arguments)}function z(o){var s="function"==typeof Map?new Map:void 0;return(z=function(o){if(null===o||(c=o,-1===Function.toString.call(c).indexOf("[native code]")))return o;var c;if("function"!=typeof o)throw new TypeError("Super expression must either be null or a function");if(void 0!==s){if(s.has(o))return s.get(o);s.set(o,i)}function i(){return x(o,arguments,U(this).constructor)}return i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),W(i,o)})(o)}function q(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function H(o,s){if(s&&("object"==(void 0===s?"undefined":_type_of(s))||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return q(o)}function K(o){var s=j();return function(){var c,l=U(o);if(s){var d=U(this).constructor;c=Reflect.construct(l,arguments,d)}else c=l.apply(this,arguments);return H(this,c)}}function Y(o,s){for(;!Object.prototype.hasOwnProperty.call(o,s)&&null!==(o=U(o)););return o}function Z(){return(Z="undefined"!=typeof Reflect&&Reflect.get?o("n",Reflect.get.bind()):o("n",function(o,s,c){var l=Y(o,s);if(l){var d=Object.getOwnPropertyDescriptor(l,s);return d.get?d.get.call(arguments.length<3?o:c):d.value}})).apply(this,arguments)}function J(o,s){if(o){if("string"==typeof o)return X(o,s);var c=Object.prototype.toString.call(o).slice(8,-1);return"Object"===c&&o.constructor&&(c=o.constructor.name),"Map"===c||"Set"===c?Array.from(o):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?X(o,s):void 0}}function X(o,s){(null==s||s>o.length)&&(s=o.length);for(var c=0,l=new Array(s);c<s;c++)l[c]=o[c];return l}function Q(o,s){var c="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!c){if(Array.isArray(o)||(c=J(o))||s&&o&&"number"==typeof o.length){c&&(o=c);var l=0,r=function(){};return{s:r,n:function(){return l>=o.length?{done:!0}:{done:!1,value:o[l++]}},e:function(o){throw o},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,f=!0,h=!1;return{s:function(){c=c.call(o)},n:function(){var o=c.next();return f=o.done,o},e:function(o){h=!0,d=o},f:function(){try{f||null==c.return||c.return()}finally{if(h)throw d}}}}function $(o){var s=function(o,s){if("object"!=(void 0===o?"undefined":_type_of(o))||null===o)return o;var c=o[Symbol.toPrimitive];if(void 0!==c){var l=c.call(o,s||"default");if("object"!=(void 0===l?"undefined":_type_of(l)))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(o)}(o,"string");return"symbol"==(void 0===s?"undefined":_type_of(s))?s:String(s)}function ee(o,s,c,l){c&&Object.defineProperty(o,s,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(l):void 0})}function ne(o,s,c,l,d){var f={};return Object.keys(l).forEach(function(o){f[o]=l[o]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,l){return l(o,s,c)||c},f),d&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(d):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(o,s,f),f=null),f}function te(o,s,c){var l=c.value;c.value=function(){if(this.enabledInHierarchy){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return null==l?void 0:l.apply(this,s)}}}function ie(o,s,c){var l=c.value,d=function(){var o=F(function(){var o,s,c;var d=arguments;return _ts_generator(this,function(f){switch(f.label){case 0:if(!this.enabledInHierarchy)return[3,2];for(o=d.length,s=new Array(o),c=0;c<o;c++)s[c]=d[c];return[4,null==l?void 0:l.apply(this,s)];case 1:return[2,f.sent()];case 2:return[2,Promise.resolve()]}})});return function(){return o.apply(this,arguments)}}();c.value=d}o({I:G,_:ne,a:V,b:K,c:D,d:ee,e:q,f:B,k:Q,m:function(o){return function(o){if(Array.isArray(o))return X(o)}(o)||function(o){if("undefined"!=typeof Symbol&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)}(o)||J(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},n:Z,o:U,s:function(o){for(var s=1;s<arguments.length;s++){var c=null!=arguments[s]?arguments[s]:{};s%2?P(Object(c),!0).forEach(function(s){G(o,s,c[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):P(Object(c)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(c,s))})}return o},t:F,x:function(o,s){return function(o){if(Array.isArray(o))return o}(o)||function(o,s){var c=null==o?null:"undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(null!=c){var l,d,f,h,p=[],v=!0,y=!1;try{if(f=(c=c.call(o)).next,0===s){if(Object(c)!==c)return;v=!1}else for(;!(v=(l=f.call(c)).done)&&(p.push(l.value),p.length!==s);v=!0);}catch(o){y=!0,d=o}finally{try{if(!v&&null!=c.return&&(h=c.return(),Object(h)!==h))return}finally{if(y)throw d}}return p}}(o,s)||J(o,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}),s._RF.push({},"147a4TjOC9PMpdhlBiKEn54","onlyRunInLifeCycle",void 0),s._RF.pop(),s._RF.push({},"6944aqu6zZOGIj+df3KBDrm","onlyRunInLifeCycleAsync",void 0),s._RF.pop(),s._RF.push({},"99384AdWHlKDIyVvCAqSwJE","index",void 0),s._RF.pop(),s._RF.push({},"09236E0KzVAqotP4Yn9R+4m","MissingPropertiesError",void 0);var es=function(o){V(t,o);var s=K(t);function t(o,c){var l;return D(this,t),(l=s.call(this,"".concat(o," is missing these required properties: [").concat(c.map(function(o){return o.propertyName}).join(", "),"]"))).className=o,l.errors=c,l}return B(t)}(z(Error));s._RF.pop(),s._RF.push({},"4ce5394i3hCZoi5cZm0Vn2l","MissingPropertyError",void 0);var ec=function(o){V(t,o);var s=K(t);function t(o,c){var l;return D(this,t),(l=s.call(this,"".concat(o," is missing the required property: <").concat(c,">"))).className=o,l.propertyName=c,l}return B(t)}(z(Error));s._RF.pop(),s._RF.push({},"a2990W72mRAYaItrPHe4H5V","required",void 0);var el=GameCore.Utils,ed=el.String,ef=el.Valid,eh=globalThis.game.monitorError,ep="_compUtils_ReqPropsMap";function de(o){return null===o}function he(o){return void 0===o}function fe(o){return de(o)||he(o)}function pe(o){if("function"==typeof o)return o;switch(o){case"null-check":return de;case"undefined-check":return he;default:return fe}}function ve(o){return function(s,c){if("function"==typeof s)throw new Error("The required decorator can only be applied to non-static class properties.");var l,d=s.constructor.name,f=(l=c,"".concat("_compUtils_ReqPropsMethod","_").concat(ed.capitalize(l)));if(void 0!==s[f])throw new Error("The required decorator found that property name ".concat(f," already exists. The reserved method name ").concat(f," is used already or the decorator was applied multiple times."));s[f]=function(s){if(o(this[c]))throw new ec(s,c)},void 0===s[ep]&&(s[ep]={}),void 0===s[ep][d]&&(s[ep][d]=[]),s[ep][d].push(f)}}function ye(o,s){if("string"!=typeof s)return ve(pe(o));var c=o;ve(pe())(c,s)}s._RF.pop(),s._RF.push({},"75e1e0Ei7ZOOr/FzyprYnVJ","index",void 0),s._RF.pop(),s._RF.push({},"bfa55FbayJE75F0wBdnknTr","ComponentUtils",void 0);var ev=GameCore.Utils,ey=ev.Array,eg=ev.Object,em=ev.Valid,eS=["cc.Mask","cc.Label","cc.Canvas","cc.Camera","cc.Layout","cc.Button","cc.Sprite","cc.Widget","cc.Renderer","cc.Animation","cc.UIOpacity"],eE=o("C",function(){function e(){D(this,e),this.validComponentCalled={}}return B(e,[{key:"validateRequiredComponents",value:function(o){var s,c=o.name,l=o.constructor,d=Q(this.getRequiredComponentNames(l));try{for(d.s();!(s=d.n()).done;){var f=s.value;if(!o.getComponent(f))throw new Error("".concat(c,": Missing required ").concat(f," component"))}}catch(o){d.e(o)}finally{d.f()}}},{key:"validateRequiredProperties",value:function(o){var s,l=o.name,d=o.constructor,f=Q(this.getRequiredPropNames(d));try{for(f.s();!(s=f.n()).done;){var h=s.value;if(!eg.hasOwn(o,h))throw new Error("".concat(l,": Missing required ").concat(h," property"));var p=this.getProperty(h,o);if(!c(p))throw new Error("".concat(l,": ").concat(h," property is not a cc object"))}}catch(o){f.e(o)}finally{f.f()}}},{key:"validateCustomProperties",value:function(o){var s,l=o.name,d=Q(this.getCustomPropNames(o));try{for(d.s();!(s=d.n()).done;){var f=s.value;if(!eg.hasOwn(o,f))throw new Error("".concat(l,": Missing required ").concat(f," property"));var h=this.getProperty(f,o);if(!c(h))throw new Error("".concat(l,": ").concat(f," property is not a cc object"))}}catch(o){d.e(o)}finally{d.f()}}},{key:"getProperty",value:function(o,s){var c;if(eg.hasOwn(s,o))return(null!==(c=Object.getOwnPropertyDescriptor(s,o))&&void 0!==c?c:{}).value}},{key:"getProps",value:function(o){if(!eg.hasOwn(o,"__props__"))return[];var s=o.__props__;return Array.isArray(s)?s:[]}},{key:"getRequiredPropNames",value:function(o){return this.getProps(o).filter(function(s){return"node"!==s&&!!eg.hasOwn(o,s)&&!!c(o[s])&&!s.startsWith("_")})}},{key:"getBaseComponentName",value:function(o){for(var s=0,c=eS;s<c.length;s++){var l=c[s];if(l.indexOf(o)>=0)return l}return o}},{key:"getRequiredComponentNames",value:function(o){var s=this;if(!eg.hasOwn(o,"_requireComponent"))return[];var c=o._requireComponent;return Array.isArray(c)?c.map(function(o){return s.getBaseComponentName(o)}):[]}},{key:"getCustomPropNames",value:function(o){var s=this,l=Object.keys(o),d=this.getProps(o.constructor);return ey.difference(l,d).filter(function(o){return o.indexOf("_")<0}).filter(function(l){if(!eg.hasOwn(o,l))return!1;var d=s.getProperty(l,o);return!(!em.isObject(d)||!c(d))})}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"required",value:function(o,s){return"string"==typeof s?ye(o,s):ye(o)}},{key:"validateRequiredProperties",value:function(o,s){!function(o,s){var c,l=s?s.name:o.constructor.name,d=s?s.prototype[ep]:o.constructor.prototype[ep],f=null!==(c=null==d?void 0:d[l])&&void 0!==c?c:[],h=[],p=o;for(var v in f)if("function"==typeof p[v])try{p[v](l)}catch(o){if(!_instanceof(o,ec))throw o;h.push(o)}if(0!==h.length){var y=new es(l,h);if(ef.isDebugger())throw y;null==eh||eh.sendException(y)}}(o,s)}},{key:"lazyValidateProperties",value:function(o,s){var c=!(arguments.length>1&&void 0!==s)||s;if(c){var l=o.constructor,d=l.name;if(!this.inst.validComponentCalled[d])try{this.inst.validateRequiredComponents(o),this.inst.validateRequiredProperties(o),this.inst.validateCustomProperties(o)}catch(s){o.enabled=!1}finally{this.inst.validComponentCalled[d]=!0}}}}]),e}());eE.onlyRunInLifeCycle=function(){return te.apply(void 0,arguments)},eE.onlyRunInLifeCycleAsync=function(){return ie.apply(void 0,arguments)},s._RF.pop(),s._RF.push({},"cc0a5OvhdRCMZRZuRscaz+7","AudioPlayer",void 0);var e_=function(o){V(t,o);var s=K(t);function t(o,c){var l;return D(this,t),(l=s.call(this,o)).audioSource=c,l}return B(t,[{key:"play",value:function(o){if(o){var s=o.volume,c=void 0===s?1:s,l=o.loop,d=void 0!==l&&l;this.audioSource.volume=c,this.audioSource.loop=d}this.audioSource.play()}},{key:"pause",value:function(){this.audioSource.pause()}},{key:"resume",value:function(){this.audioSource.state===l.AudioState.PAUSED&&this.audioSource.play()}},{key:"stop",value:function(){this.audioSource.stop()}},{key:"setVolume",value:function(o){this.audioSource.volume=o}},{key:"getVolume",value:function(){return this.audioSource.volume}},{key:"getAudioSource",value:function(){return this.audioSource}}]),t}(GameCore.Plugins.Audio.BaseAudioPlayer);s._RF.pop(),s._RF.push({},"8b5ecHv/+BJiorK1kiVbTcf","AudioChannel",void 0);var eA=GameCore,eb=eA.Plugins.Audio.BaseChannelManager,ew=eA.Utils.Array,eR=function(o){V(a,o);var s,c=K(a);function a(o,s){var d;return D(this,a),(d=c.call(this,s)).allowMultipleTracking={},d.handleLoadedAudio=function(o,s){var c=d.node.addComponent(l);return c.clip=s,c.playOnAwake=!1,new e_(o,c)},d.node=o,d}return B(a,[{key:"playing",value:function(o){var s,c=null===(s=this.getAudioClip(o))||void 0===s?void 0:s.audioPlayer;return!!c&&c.getAudioSource().state===l.AudioState.PLAYING}},{key:"onLoadAudio",value:(s=F(function(o,s){var c;return _ts_generator(this,function(s){c=this;return[2,new Promise(function(s,l){d.load(o,f,function(d,f){try{if(d)throw new Error(d.message);if(!c.node.isValid)return;var h=c.handleLoadedAudio(o,f);s(h)}catch(o){_instanceof(o,Error)?l(o):l(new Error("Audio load: Unknown error"))}})})]})}),function(o,c){return s.apply(this,arguments)})},{key:"playWithRealConfig",value:function(o,s){if(this.isCanPlay(s)){if(s){var c=s.volume,l=void 0===c?1:c,d=s.allowMultiple,f=void 0!==d&&d;if(s.volume=this.getVolume()*l,f){var h=o.getAudioSource().clip;if(!h)return;return void this.requestDuplicateAudioPlayer(o.getKey(),h,s).play(s)}}o.play(s)}}},{key:"isCanPlay",value:function(o){var s=this;if(o){var c=o.checkList;if((void 0===c?[]:c).some(function(o){var c=s.getAudioClip(o);return!!c&&c.audioPlayer.getAudioSource().state===l.AudioState.PLAYING}))return!1}return!0}},{key:"requestDuplicateAudioPlayer",value:function(o,s,c){var l=this.getDuplicateAudioFromPool(o);if(l){if(c){var d=l.key,f=c.volume,h=void 0===f?1:f;this.setAudioClip(d,{volume:h})}return l.audioPlayer}var p="".concat(o,"_").concat(this.allowMultipleTracking[o].currentPostFix),v=this.handleLoadedAudio(p,s);return this.allowMultipleTracking[o].list.push({audioPlayer:v,key:p}),this.allowMultipleTracking[o].currentPostFix+=1,this.setAudioClip(p,{audioPlayer:v,volume:1}),v}},{key:"getDuplicateAudioFromPool",value:function(o){if(this.allowMultipleTracking[o]){var s=this.allowMultipleTracking[o].list,c=ew.search(s,function(o){return o.audioPlayer.getAudioSource().state!==l.AudioState.PLAYING});if(c)return c}else this.allowMultipleTracking[o]={currentPostFix:1,list:[]};return null}}]),a}(eb);s._RF.pop();var eI,ek,eC,eN,eT;o("E",!1),o("J",!0);s._RF.push({},"1a025mmN7BL7r5cF6gWR4b/","Music",void 0);var eO,eP,eF,eL,eD,eB=h.ccclass,eG=h.property,eM=globalThis.game,eV=eM.audio,eU=eM.player,eW=o("M",(eI=eB("Music"),ek=eG(p),eI((eT=ne((eN=function(o){V(t,o);var s=K(t);function t(){var o;D(this,t);for(var c=arguments.length,l=new Array(c),d=0;d<c;d++)l[d]=arguments[d];return ee(o=s.call.apply(s,[this].concat(l)),"channelId",eT,q(o)),o.channel=null,o}return B(t,[{key:"__preload",value:function(){this.makePersistent(),this.channel=new eR(this.node,this.channelId),eV.addChannel(this.channel)}},{key:"makePersistent",value:function(){v.addPersistRootNode(this.node)}},{key:"playing",value:function(o){var s,c;return null!==(s=null===(c=this.channel)||void 0===c?void 0:c.playing(o))&&void 0!==s&&s}},{key:"play",value:function(o,s){if(this.isMusicEnable()){var c=null!=s?s:{};c.loop||(c.loop=!0),eV.play(o,c,this.channelId)}}},{key:"isMusicEnable",value:function(){return!!eU.getPlayerSetting("music")}},{key:"setVolume",value:function(o){eV.setVolume(o,this.channelId)}},{key:"getVolume",value:function(){return eV.getVolume(this.channelId)}},{key:"pause",value:function(o){eV.pause(o,this.channelId)}},{key:"resume",value:function(o){this.isMusicEnable()&&eV.resume(o,this.channelId)}},{key:"stop",value:function(o){eV.stop(o,this.channelId)}},{key:"mute",value:function(o){o?eV.mute(this.channelId):eV.unmute(this.channelId)}}]),t}(y)).prototype,"channelId",[ek],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"global_music"}}),eC=eN))||eC));s._RF.pop(),s._RF.push({},"1299a7X1XNNEKxSKMV6E5jQ","Sound",void 0);var ej=h.ccclass,ex=h.property,eq=globalThis.game,ez=eq.audio,eK=eq.player,eH=o("D",(eO=ej("Sound"),eP=ex(p),eO((eD=ne((eL=function(o){V(t,o);var s=K(t);function t(){var o;D(this,t);for(var c=arguments.length,l=new Array(c),d=0;d<c;d++)l[d]=arguments[d];return ee(o=s.call.apply(s,[this].concat(l)),"channelId",eD,q(o)),o.channel=null,o}return B(t,[{key:"__preload",value:function(){this.channel=new eR(this.node,this.channelId),ez.addChannel(this.channel)}},{key:"onLoad",value:function(){""===this.channelId&&(this.channelId=this.node.uuid)}},{key:"makePersistent",value:function(){v.addPersistRootNode(this.node)}},{key:"removePersistent",value:function(){v.removePersistRootNode(this.node)}},{key:"play",value:function(o,s){this.isSoundEnable()&&ez.play(o,s,this.channelId)}},{key:"isSoundEnable",value:function(){return!!eK.getPlayerSetting("sound")}},{key:"setVolume",value:function(o){ez.setVolume(o,this.channelId)}},{key:"pause",value:function(o){ez.pause(o,this.channelId)}},{key:"resume",value:function(o){this.isSoundEnable()&&ez.resume(o,this.channelId)}},{key:"stop",value:function(o){ez.stop(o,this.channelId)}},{key:"stopAll",value:function(){ez.stopAll(this.channelId)}},{key:"mute",value:function(o){o?ez.mute(this.channelId):ez.unmute(this.channelId)}}]),t}(y)).prototype,"channelId",[eP],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),eF=eL))||eF));s._RF.pop(),s._RF.push({},"244e9OHsmpDnpHQKeLzgiiX","GameEvents",void 0);o("G",{VIEW_RESIZE:"view-resize",VIEW_RESIZED:"view-resized",REQUEST_VIEW_RESIZE:"request-view-resize",LAYOUT_CHANGED:"layout-changed",GAMEPLAY_UPDATE_CONFIG:"gameplay-update-config",UPGRADE_DYNAMIC_ATLAS:"upgrade-dynamic-atlas",ASSET_QUALITY_CHANGE:"asset-quality-change",CHANGE_QUALITY_ASSETS:"change-quality-assets",CLEAR_HYBRID_FILE_CACHE:"clear-hybrid-file-cache"});s._RF.pop(),s._RF.push({},"5c76fxO2ppOqYp4WNO+Kavm","GameWorld",void 0);o("g",{Layout:{Portrait:"portrait",Landscape:"landscape"},DesignSize:{Portrait:{WIDTH:750,HEIGHT:1366},Landscape:{WIDTH:1920,HEIGHT:1350}},PRIMARY_LAYOUT:"auto",FULL_CANVAS_TO_SCREEN:!1,FULL_PORTRAIT_SIZE:!1,FULL_LANDSCAPE_SIZE:!1});s._RF.pop(),s._RF.push({},"05faedSJ2NHFqLe9b3g4RIl","CocosUtils",void 0);var eY=o("h",function(){function e(){D(this,e)}return B(e,[{key:"getWindowSizeVsWorldGameRatio",value:function(){var o=m.getVisibleSize(),s=S.windowSize.width,c=window.devicePixelRatio;return s/(c=c>2?2:c)/o.width}},{key:"getBoundingBoxTo",value:function(o,s){var c=E.mat4();E.Mat4.fromSRT(c,s.getRotation(),s.getPosition(),s.getScale());var l=s.getComponent(g);if(!l)throw new Error("Node must have UITransform component");var d=l.anchorPoint,f=l.contentSize,h=f.width,p=f.height,v=new E.Rect(-d.x*h,-d.y*p,h,p),y=E.mat4();if(E.Mat4.multiply(y,o,c),v.transformMat4(y),!s.children||0===s.children.length)return v;var m,S=s.children,_=s.getWorldMatrix(),A=Q(S);try{for(A.s();!(m=A.n()).done;){var b=m.value;if(null!=b&&b.active){if(b.getComponent(g)){var w=this.getBoundingBoxTo(_,b);w&&E.Rect.union(v,v,w)}}}}catch(o){A.e(o)}finally{A.f()}return v}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"getBoundingBoxToWorld",value:function(o){if(o.parent){var s=o.parent.getWorldMatrix();return this.inst.getBoundingBoxTo(s,o)}var c=o.getComponent(g);if(!c)throw new Error("Node must have UITransform component");return c.getBoundingBox()}},{key:"worldSizeToCssSize",value:function(o){return o*this.inst.getWindowSizeVsWorldGameRatio()}},{key:"cssSizeToWorldSize",value:function(o){return o/this.inst.getWindowSizeVsWorldGameRatio()}},{key:"getScreenWidthCss",value:function(){var o=document,s=o.body,c=o.documentElement,l=s.clientWidth,d=c.clientWidth;return Math.max(d,l)||0}},{key:"getScreenHeightCss",value:function(){var o=document,s=o.body,c=o.documentElement,l=s.clientHeight,d=c.clientHeight;return Math.max(d,l)||0}}]),e}());s._RF.pop(),s._RF.push({},"d159egaUVVLHKLg1UL865ub","SoundKeys",void 0);var eZ=o("l",{BEE_FLYING:"sounds/bee-flying",BEE_STING_DOGE:"sounds/bee-sting-doge",BG_MUSIC:"sounds/bg-music",BUTTON_CLICK:"sounds/button-click",COLLECTING_COINS:"sounds/collecting-coins",DOGE_DIES:"sounds/doge-dies",DOGE_HURT:"sounds/doge-hurt",END_DRAW:"sounds/end-draw",HAND_CLAP:"sounds/hand-clap",LEVEL_FAIL:"sounds/level-fail",LEVEL_PASS:"sounds/level-pass",LOST_STAR_IN_GAMEPLAY:"sounds/lost-star-in-gameplay",RAISE_STAR:"sounds/raise-star",SPAWN_COINS:"sounds/spawn-coins",STAR_RAISE:"sounds/star-raise",TOUCH_START:"sounds/touch-start",BEE_BULLET_EXPLODE:"sounds/bee-bullet-explode"}),eQ=Object.values(eZ),eJ=o("S",eQ.reduce(function(o,s,c){return Object.assign(o,G({},s,c))},{}));_(eJ);var eX,e$;o("i",eQ);s._RF.pop(),s._RF.push({},"0eeb868JeVE67iFwhbkRCmE","ScreenKeys",void 0);var e0=o("r",function(o){return o[o.LOADING_SCREEN=1]="LOADING_SCREEN",o[o.SETTINGS_SCREEN=2]="SETTINGS_SCREEN",o[o.NOTIFICATION_SCREEN=3]="NOTIFICATION_SCREEN",o[o.LOSE_SCREEN=4]="LOSE_SCREEN",o[o.WINNING_SCREEN=5]="WINNING_SCREEN",o[o.CONGRATULATION_SCREEN=6]="CONGRATULATION_SCREEN",o}(e0||{})),e1=o("B",(G(eX={},e0.LOADING_SCREEN,"LoadingScreen"),G(eX,e0.SETTINGS_SCREEN,"SettingsScreen"),G(eX,e0.NOTIFICATION_SCREEN,"NotificationScreen"),G(eX,e0.LOSE_SCREEN,"LoseScreen"),G(eX,e0.WINNING_SCREEN,"WinningScreen"),G(eX,e0.CONGRATULATION_SCREEN,"CongratulationScreen"),eX)),e2=(G(e$={},e1[e0.LOADING_SCREEN],e0.LOADING_SCREEN),G(e$,e1[e0.SETTINGS_SCREEN],e0.SETTINGS_SCREEN),G(e$,e1[e0.NOTIFICATION_SCREEN],e0.NOTIFICATION_SCREEN),G(e$,e1[e0.LOSE_SCREEN],e0.LOSE_SCREEN),G(e$,e1[e0.WINNING_SCREEN],e0.WINNING_SCREEN),G(e$,e1[e0.CONGRATULATION_SCREEN],e0.CONGRATULATION_SCREEN),[e1[e0.NOTIFICATION_SCREEN],e1[e0.LOADING_SCREEN]]);s._RF.pop(),s._RF.push({},"09bc071ZcpI978b1NdKUaqD","AnalyticsUtils",void 0);var e3=globalThis.game.analytics;o("j",function(){function e(){D(this,e)}return B(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"trackCurrentPage",value:function(o,s){if(!e2.includes(o)&&(s||this.trackingPages.includes(o))){this.trackingPages=this.trackingPages.filter(function(s){return s!==o}),s&&this.trackingPages.push(o);var c=this.getCurrentPage();e3.pageview(c)}}},{key:"switchSceneTracking",value:function(){this.trackingPages=[];var o=this.getCurrentPage();e3.pageview(o)}},{key:"getCurrentPage",value:function(){var o,s;return this.trackingPages.length>0?this.trackingPages[this.trackingPages.length-1]:null!==(o=null===(s=v.getScene())||void 0===s?void 0:s.name)&&void 0!==o?o:"Unknown Scene"}}]),e}()).trackingPages=[],s._RF.pop(),s._RF.push({},"ca600QzdYZDSLmGmfSVyz4h","AnimAbortSignal",void 0);var e4=GameCore.Utils.Array,e5=function(){function e(){D(this,e),this.callbacks=[],this.isAborted=!1,this.abortReason="",this.callbacks=[]}var o;return B(e,[{key:"aborted",get:function(){return this.isAborted}},{key:"reason",get:function(){return this.abortReason}},{key:"addAbortListener",value:function(o){this.callbacks.push(o)}},{key:"removeAbortListener",value:function(o){var s=e4.searchIndex(this.callbacks,function(s){return s===o});-1!==s&&this.callbacks.splice(s,1)}},{key:"abort",value:function(o){if(!this.isAborted){this.isAborted=!0,this.abortReason=o;var s,c=Q(this.callbacks);try{for(c.s();!(s=c.n()).done;){var l=s.value;"function"==typeof l&&l()}}catch(o){c.e(o)}finally{c.f()}this.callbacks=[]}}},{key:"untilAborted",value:(o=F(function(){var o;return _ts_generator(this,function(s){o=this;if(!this.isAborted)return[2,new Promise(function(s){o.addAbortListener(function(){return s()})})];return[2]})}),function(){return o.apply(this,arguments)})},{key:"call",value:function(o){this.aborted||o(this)}},{key:"callAsync",value:function(o){return this.aborted?Promise.resolve():o(this)}},{key:"chain",value:function(o){var s=this;_instanceof(o,e)?o.addAbortListener(function(){return s.abort()}):o.addEventListener("abort",function(){return s.abort()})}}],[{key:"hasBeenAborted",value:function(o){return null==o||o.aborted}}]),e}();s._RF.pop(),s._RF.push({},"c7c0e+0tjZA7aG6a9yUNytM","AnimUtils",void 0);var e7=o("O",function(){function e(){D(this,e)}return B(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"elasticOut",value:function(o,s,c){var l=s||.1,d=c||.1;if(0===o)return 0;if(1===o)return 1;var f=d/4;return l<1?l=1:f=d*Math.asin(1/s)/(2*Math.PI),s*Math.pow(2,-10*o)*Math.sin(2*Math.PI*(o-f)/d)+1}},{key:"easeOutExpo",value:function(o){return 1===o?1:1-Math.pow(2,-10*o)}},{key:"easeInExpo",value:function(o){return 0===o?0:Math.pow(2,10*o-10)}},{key:"runTweenAsync",value:function(o,s){return new Promise(function(c){var l=o.call(function(){c({tween:o})}).start();s&&(s.aborted?(l.stop(),c({tween:o})):s.addAbortListener(function(){l.stop(),c({tween:o})}))})}},{key:"runOnUpdateAsync",value:function(o,s,c,l){return new Promise(function(d,f){var h=A(o).to(s,{},{onUpdate:function(o,s){if(void 0!==s)try{c(s)}catch(o){f(_instanceof(o,Error)?o:new Error(JSON.stringify(o)))}}}).call(function(){d({tween:h})}).start();l&&(l.aborted?(h.stop(),d({tween:h})):l.addAbortListener(function(){h.stop(),d({tween:h})}))})}},{key:"waitTweenAsync",value:function(o,s){return new Promise(function(c){var l=A({});l.delay(o),l.call(function(){c()}),l.start(),s&&(s.aborted?(l.stop(),c()):s.addAbortListener(function(){l.stop(),c()}))})}},{key:"runAnimationAsync",value:function(o,s){return new Promise(function(c){o.play(s),o.once(b.EventType.FINISHED,function(){c()})})}}]),e}());s._RF.pop(),s._RF.push({},"31871PLRYRJu7yCCX5F6lWK","AudioUtils",void 0);var e6=o("A",function(){function e(){D(this,e),this.signal=new e5}var o,s,c,l,d;return B(e,[{key:"sound",get:function(){var o,s;return null!==(o=null===(s=w("Sound"))||void 0===s?void 0:s.getComponent(eH))&&void 0!==o?o:null}},{key:"music",get:function(){var o,s;return null!==(o=null===(s=w("Music"))||void 0===s?void 0:s.getComponent(eW))&&void 0!==o?o:null}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"muteAudio",value:function(o){this.muteMusic(o),this.muteSound(o)}},{key:"playSound",value:(d=F(function(o,s){var c,l,d;return _ts_generator(this,function(f){switch(f.label){case 0:d=null!==(c=globalThis.game.player.getPlayerSetting("sound"))&&void 0!==c&&c;if(!d)return[3,2];return[4,null===(l=this.inst.sound)||void 0===l?void 0:l.play(o,s)];case 1:d=f.sent();f.label=2;case 2:return[2]}})}),function(o,s){return d.apply(this,arguments)})},{key:"pauseSound",value:function(o){var s;null===(s=this.inst.sound)||void 0===s||s.pause(o)}},{key:"resumeSound",value:function(o){var s;null===(s=this.inst.sound)||void 0===s||s.resume(o)}},{key:"stopSound",value:function(o){var s;null===(s=this.inst.sound)||void 0===s||s.stop(o)}},{key:"stopAllSounds",value:function(){var o;null===(o=this.inst.sound)||void 0===o||o.stopAll()}},{key:"muteSound",value:function(o){var s;null===(s=this.inst.sound)||void 0===s||s.mute(o)}},{key:"playMusic",value:function(o){var s,c=arguments.length>0&&void 0!==o&&o;if(this.inst.music&&(c||!this.inst.music.playing(eZ.BG_MUSIC))){var l=globalThis.game.player,d=null!==(s=l.getPlayerSetting("music"))&&void 0!==s&&s;d&&this.inst.music.play(eZ.BG_MUSIC)}}},{key:"pauseMusic",value:function(){var o;null===(o=this.inst.music)||void 0===o||o.pause(eZ.BG_MUSIC)}},{key:"muteMusic",value:function(o){var s;null===(s=this.inst.music)||void 0===s||s.mute(o)}},{key:"turnUpMusic",value:(l=F(function(){var o,s,c;return _ts_generator(this,function(l){switch(l.label){case 0:c=(null!==(o=null===(s=this.inst.music)||void 0===s?void 0:s.getVolume())&&void 0!==o?o:0)>.8;if(c)return[3,2];return[4,this.setVolumeMusic(.8,!0)];case 1:c=l.sent();l.label=2;case 2:return[2]}})}),function(){return l.apply(this,arguments)})},{key:"turnDownMusic",value:(c=F(function(){var o,s,c;return _ts_generator(this,function(l){switch(l.label){case 0:c=(null!==(o=null===(s=this.inst.music)||void 0===s?void 0:s.getVolume())&&void 0!==o?o:0)<.3;if(c)return[3,2];return[4,this.setVolumeMusic(.3,!0)];case 1:c=l.sent();l.label=2;case 2:return[2]}})}),function(){return c.apply(this,arguments)})},{key:"turnOffMusic",value:(s=F(function(){return _ts_generator(this,function(o){switch(o.label){case 0:return[4,this.setVolumeMusic(0)];case 1:o.sent();return[2]}})}),function(){return s.apply(this,arguments)})},{key:"getVolumeMusic",value:function(){var o,s;return null!==(o=null===(s=this.inst.music)||void 0===s?void 0:s.getVolume())&&void 0!==o?o:0}},{key:"setVolumeMusic",value:(o=F(function(o){var s,c,l,d,f,h;var p=arguments;return _ts_generator(this,function(v){switch(v.label){case 0:s=this,c=p.length>1&&void 0!==p[1]&&p[1];if(!this.inst.music)return[3,3];this.inst.signal.abort();l=new e5;if(this.inst.signal=l,!c)return[3,2];d=this.inst.music.getVolume(),f=d;return[4,e7.runOnUpdateAsync(this.inst.music.node,1,function(c){s.inst.music&&(f=d+(o-d)*c,s.inst.music.setVolume(f))},l)];case 1:v.sent();return[3,3];case 2:null===(h=this.inst.music)||void 0===h||h.setVolume(o);v.label=3;case 3:return[2]}})}),function(s){return o.apply(this,arguments)})}]),e}());s._RF.pop(),s._RF.push({},"358fdIqjFdNzZGa95REWt2F","Ads",void 0);var e9=o("z",{MAX_BOTTOM_BANNER_RATIO:1/6});s._RF.pop(),s._RF.push({},"adb272QtfxDGZ+87PwkWEiN","GameSettings",void 0);var e8=o("v",{MaxLevel:325,WaitForPassSecs:6});s._RF.pop(),s._RF.push({},"f8533KH/fxOfYqya9sgLrSj","GameData",void 0);var nn=o("H",{level:1,coins:0,totalLevel:e8.MaxLevel,passAllLevels:!1,levelProgress:{},bestEndlessScore:0});s._RF.pop(),s._RF.push({},"52b52FNwvhBKY/becAy420o","Leaderboard",void 0);o("L",{GLOBAL:"global-leaderboard-key",FRIENDS:"friends-leaderboard-key"}),o("K",{GLOBAL:"global-leaderboard-id",FRIENDS:"friends-leaderboard-id"});s._RF.pop(),s._RF.push({},"074c4KXFZ1Pq6d+66PrLd2+","PlayerData",void 0);o("P",{score:0,endlessScore:0,settings:{sound:!0,music:!0,vibrate:!0,language:"en"},gameData:nn,isFirstLogin:!0,dailyRewarded:{logDays:[],lastRewarded:0}});s._RF.pop(),s._RF.push({},"32598ObpVZK/pecmWIdcs+7","SceneKeys",void 0);var nt,ni,nr,no,na,nu,ns,nc=o("y",{TEST_SCENE:"TestScene",BOOT_SCENE:"BootScene",DASHBOARD_SCENE:"DashboardScene",GAME_SCENE:"GameScene",ENDLESS_SCENE:"EndlessScene",DRAFT_SCENE:"DraftScene",TEST_LAYOUT_SCENE:"TestLayoutScene",TEST_PERFORMANCE_SCENE:"TestPerformanceScene",TEST_PARTICLE_SYSTEM_SCENE:"TestParticleSystemScene"});s._RF.pop(),s._RF.push({},"7b024d/xQ1BBZV0UpNjM9UQ","LoadingFullScreen",void 0);var nl,nd,nf,nh,np,nv=h.ccclass,ny=h.property,ng=(nt=nv("LoadingFullScreen"),ni=ny(R),nr=ny(I),nt((nu=ne((na=function(o){V(r,o);var s,c,l=K(r);function r(){var o;D(this,r);for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];return ee(o=l.call.apply(l,[this].concat(c)),"progressBar",nu,q(o)),ee(o,"loadingText",ns,q(o)),o}return B(r,[{key:"__preload",value:function(){this.uiOpacity=this.getComponent(k),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){eE.lazyValidateProperties(this)}},{key:"runLoadingTextAnimation",value:function(){var o=this,s=0;this.schedule(function(){s=s>2?0:s+1,o.loadingText.string="Loading"+".".repeat(s)},.5)}},{key:"stopLoadingTextAnimation",value:function(){this.unscheduleAllCallbacks()}},{key:"show",value:(c=F(function(o){var s,c;return _ts_generator(this,function(o){switch(o.label){case 0:this.uiOpacity.opacity=0,this.progressBar.progress=0;s=A(this.uiOpacity).to(.2,{opacity:255},{easing:"cubicOut"}),c=A(this.progressBar).to(8,{progress:.9},{easing:"cubicOut"});this.runLoadingTextAnimation(),e7.runTweenAsync(s);return[4,e7.runTweenAsync(c)];case 1:o.sent();return[2]}})}),function(o){return c.apply(this,arguments)})},{key:"hide",value:(s=F(function(o){var s,c;return _ts_generator(this,function(o){switch(o.label){case 0:if(!(this.uiOpacity&&this.progressBar))return[3,3];this.uiOpacity.opacity=255,this.progressBar.progress=.9;s=A(this.uiOpacity).to(.15,{opacity:0},{easing:"cubicIn"}),c=A(this.progressBar).to(.2,{progress:1},{easing:"cubicIn"});this.runLoadingTextAnimation();return[4,e7.runTweenAsync(c)];case 1:o.sent(),this.stopLoadingTextAnimation();return[4,e7.runTweenAsync(s)];case 2:o.sent(),this.node.active=!1;o.label=3;case 3:return[2]}})}),function(o){return s.apply(this,arguments)})}]),r}(y)).prototype,"progressBar",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ns=ne(na.prototype,"loadingText",[nr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=na))||no);s._RF.pop(),s._RF.push({},"daa70r49mtGR6iXhcKLcS3q","Loading",void 0);var nm=h.ccclass,nS=h.property,nE=(nl=nm("Loading"),nd=nS(C),nl((np=ne((nh=function(o){V(r,o);var s,c,l=K(r);function r(){var o;D(this,r);for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];return ee(o=l.call.apply(l,[this].concat(c)),"loadingPrefab",np,q(o)),o.loadingNode=null,o}return B(r,[{key:"__preload",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){eE.lazyValidateProperties(this)}},{key:"onLoad",value:function(){this.makePersistent()}},{key:"makePersistent",value:function(){v.addPersistRootNode(this.node)}},{key:"createLoadingFullScreen",value:function(){var o,s=w("Canvas");if(s&&!s.getChildByName("Loading")){this.loadingNode||(this.loadingNode=N(this.loadingPrefab));var c=N._clone(this.loadingNode);this.loadingFullScreen=c.getComponent(ng),this.node.active=!1,null===(o=w("Canvas"))||void 0===o||o.addChild(c)}}},{key:"show",value:(c=F(function(o){var s;return _ts_generator(this,function(c){switch(c.label){case 0:this.createLoadingFullScreen();s=this.node.active;if(s)return[3,2];this.node.active=!0;return[4,this.loadingFullScreen.show(o)];case 1:s=c.sent();c.label=2;case 2:return[2]}})}),function(o){return c.apply(this,arguments)})},{key:"hide",value:(s=F(function(o){var s,c;return _ts_generator(this,function(l){switch(l.label){case 0:c=null!==(s=this.node)&&void 0!==s&&s.active&&this.loadingFullScreen;if(!c)return[3,2];return[4,this.loadingFullScreen.hide(o)];case 1:c=(l.sent(),this.node.active=!1);l.label=2;case 2:return[2]}})}),function(o){return s.apply(this,arguments)})}]),r}(y)).prototype,"loadingPrefab",[nd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nf=nh))||nf);s._RF.pop(),s._RF.push({},"a0dcdDZxhZImZ8Cfg4Dc7SJ","ScreenUtils",void 0);var n_=globalThis.game.event,nA=GameCore,nb=nA.Events,nw=nA.Utils.Array,nR=o("q",function(){function e(){D(this,e),this.showedScreens=[]}var o,s;return B(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"preloadScreens",value:function(){n_.emit(nb.PRELOAD_SCREENS)}},{key:"openScreen",value:function(o,s){var c=e1[o];n_.emit(nb.OPEN_SCREEN,{screenName:c,screenData:s})}},{key:"closeScreen",value:function(o){var s=e1[o];n_.emit(nb.CLOSE_SCREEN,{screenName:s})}},{key:"openScreenAndWaitForClose",value:function(o,s){var c=this;return new Promise(function(l){c.openScreen(o,s);n_.on(nb.CLOSE_SCREEN,function n(s){s.screenName===e1[o]&&(n_.off(nb.CLOSE_SCREEN,n),l(s))})})}},{key:"showLoadingScreen",value:function(o){this.openScreen(e0.LOADING_SCREEN,{duration:o})}},{key:"closeLoadingScreen",value:function(){this.closeScreen(e0.LOADING_SCREEN)}},{key:"showNotificationScreen",value:function(o,s){this.openScreen(e0.NOTIFICATION_SCREEN,{message:o,duration:s})}},{key:"closeNotificationScreen",value:function(){this.closeScreen(e0.NOTIFICATION_SCREEN)}},{key:"addShowedScene",value:function(o){nw.has(this.inst.showedScreens,o)||this.inst.showedScreens.push(o)}},{key:"showLoadingFullScreen",value:(s=F(function(o){var s,c,l;return _ts_generator(this,function(d){switch(d.label){case 0:if(!!nw.has(this.inst.showedScreens,o))return[3,3];this.addShowedScene(o);c=w("Loading");l=c;if(!l)return[3,2];c.active=!0;return[4,null===(s=c.getComponent(nE))||void 0===s?void 0:s.show(o)];case 1:l=d.sent();d.label=2;case 2:d.label=3;case 3:return[2]}})}),function(o){return s.apply(this,arguments)})},{key:"hideLoadingFullScreen",value:(o=F(function(o){var s,c;return _ts_generator(this,function(l){switch(l.label){case 0:c=nw.has(this.inst.showedScreens,o);if(c)return[3,2];return[4,null===(s=w("Loading"))||void 0===s||null===(s=s.getComponent(nE))||void 0===s?void 0:s.hide(o)];case 1:c=l.sent();l.label=2;case 2:return[2]}})}),function(s){return o.apply(this,arguments)})},{key:"showLoadingNotificationScreen",value:function(){this.openScreen(e0.NOTIFICATION_SCREEN,{message:"Loading",enableCloseOnTouch:!1})}}]),e}());s._RF.pop(),s._RF.push({},"ba77cUVKIVES7OzU5CC+5pq","AdsUtils",void 0);var nI=GameCore,nk=nI.Configs,nC=nI.Plugins.Ads,nN=nC.Types,nT=nC.Status,nO=nI.Utils.Array,nP=globalThis.game.ads;o("u",function(){function e(){D(this,e),this.isAvoidBannerShowed=!1}var o,s,c,l;return B(e,[{key:"canbeShowInSDK",value:function(o,s){var c=arguments.length>0&&void 0!==o?o:[],l=arguments.length>1&&void 0!==s?s:[],d=GameSDK.getSDKName();return(null==l||!l.length||!nO.has(l,d))&&!(null!=c&&c.length&&!nO.has(c,d))}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"preloadAds",value:(l=F(function(){var o,s,c,l,d,f,h,p;return _ts_generator(this,function(v){o=nk.Ads,s=o.Enabled,c=o.InterstitialAdOptions,l=o.RewardedVideoAdOptions,d=o.RewardedInterstitialAdOptions;if(s){f=nN.INTERSTITIAL,h=nN.REWARDED_VIDEO,p=nN.REWARDED_INTERSTITIAL;c.forEach(function(o){var s=o.PlacementId;nP.loadAdAsync(f,s).catch(function(){})}),l.forEach(function(o){var s=o.PlacementId;nP.loadAdAsync(h,s).catch(function(){})}),d.forEach(function(o){var s=o.PlacementId;nP.loadAdAsync(p,s).catch(function(){})})}return[2]})}),function(){return l.apply(this,arguments)})},{key:"setAvoidBannerShowed",value:function(o){this._instance.isAvoidBannerShowed=o}},{key:"showBannerAds",value:function(){var o=this,s=nk.Ads,c=s.Enabled,l=s.BannerDisplayAdOptions;if(c&&!this.inst.isAvoidBannerShowed){var d=T.instance.getVisibleSize(),f=eY.worldSizeToCssSize(d.height*e9.MAX_BOTTOM_BANNER_RATIO);l.forEach(function(s){var c=s.PlacementId,l=s.Position,d=s.BannerHeight;"bottom"===l&&d>f||o.showBannerAd(c)})}}},{key:"hideBannerAds",value:function(){var o=this,s=nk.Ads,c=s.Enabled,l=s.BannerDisplayAdOptions;c&&l.forEach(function(s){var c=s.PlacementId;o.hideBannerAd(c)})}},{key:"showBannerAd",value:function(o){this.inst.isAvoidBannerShowed||nP.showBannerAdAsync(o).catch(function(o){})}},{key:"hideBannerAd",value:function(o){nP.hideBannerAdAsync(o).catch(function(o){})}},{key:"canShowInterstitialAd",value:function(){var o=nP.getAdStatus(nN.INTERSTITIAL)===nT.FILLED;return nP.canbeShowInterstitialAd()&&o}},{key:"canShowRewardedVideoAd",value:function(){return nP.getAdStatus(nN.REWARDED_VIDEO)===nT.FILLED}},{key:"canShowRewardedInterstitialAd",value:function(){return nP.getAdStatus(nN.REWARDED_INTERSTITIAL)===nT.FILLED}},{key:"showInterstitialAdAsync",value:(c=F(function(o){var s,c,l,d,f;return _ts_generator(this,function(h){switch(h.label){case 0:s=o.forLevel,c=o.includeSDK,l=o.excludeSDK;if(!this.inst.canbeShowInSDK(c,l))return[2,!1];if(s&&nk.Gameplay.StartAdAtLevel>=s)return[2,!1];if(!nP.canbeShowInterstitialAd())return[2,!1];d=e6.getVolumeMusic();h.label=1;case 1:h.trys.push([1,4,5,6]);e6.muteSound(!0),e6.setVolumeMusic(0,!0);f=nP.getAdStatus(nN.INTERSTITIAL)===nT.FILLED;if(!f)return[3,3];return[4,nP.showAdAsync(nN.INTERSTITIAL)];case 2:f=h.sent();h.label=3;case 3:return[2,!0];case 4:h.sent();return[2,!1];case 5:O.resume(),e6.muteAudio(!1),e6.setVolumeMusic(d,!0),nP.loadAdAsync(nN.INTERSTITIAL).catch(function(){});return[7];case 6:return[2]}})}),function(o){return c.apply(this,arguments)})},{key:"showRewardVideoAdAsync",value:(s=F(function(o){var s,c,l,d,f;return _ts_generator(this,function(h){switch(h.label){case 0:s=o.includeSDK,c=o.excludeSDK;if(!this.inst.canbeShowInSDK(s,c))return[2,!1];l=e6.getVolumeMusic();h.label=1;case 1:h.trys.push([1,5,6,7]);e6.muteSound(!0),e6.setVolumeMusic(0,!0),nR.showLoadingScreen();d=nP.getAdStatus(nN.REWARDED_VIDEO)!==nT.FILLED;if(!d)return[3,3];return[4,nP.loadAdAsync(nN.REWARDED_VIDEO)];case 2:d=h.sent();h.label=3;case 3:return[4,nP.showAdAsync(nN.REWARDED_VIDEO)];case 4:return[2,(h.sent(),!0)];case 5:f=h.sent();return[2,(_instanceof(f,Object)&&"code"in f&&"USER_INPUT"===f.code?nR.showNotificationScreen("Sorry, no rewards!\n You have cancelled the ad.",2):nR.showNotificationScreen("No ads to display.",2),!1)];case 6:O.resume(),nR.closeLoadingScreen(),e6.muteAudio(!1),e6.setVolumeMusic(l,!0),nP.loadAdAsync(nN.REWARDED_VIDEO).catch(function(){});return[7];case 7:return[2]}})}),function(o){return s.apply(this,arguments)})},{key:"showRewardedInterstitialAdAsync",value:(o=F(function(o){var s,c,l,d;return _ts_generator(this,function(f){switch(f.label){case 0:s=o.includeSDK,c=o.excludeSDK;if(!this.inst.canbeShowInSDK(s,c))return[2,!1];l=e6.getVolumeMusic();f.label=1;case 1:f.trys.push([1,5,6,7]);e6.muteSound(!0),e6.setVolumeMusic(0,!0);d=nP.getAdStatus(nN.REWARDED_INTERSTITIAL)!==nT.FILLED;if(!d)return[3,3];nR.showLoadingScreen();return[4,nP.loadAdAsync(nN.REWARDED_INTERSTITIAL)];case 2:d=f.sent();f.label=3;case 3:return[4,nP.showAdAsync(nN.REWARDED_INTERSTITIAL)];case 4:return[2,(f.sent(),!0)];case 5:f.sent();return[2,!1];case 6:O.resume(),nR.closeLoadingScreen(),e6.muteAudio(!1),e6.setVolumeMusic(l,!0),nP.loadAdAsync(nN.REWARDED_INTERSTITIAL).catch(function(){});return[7];case 7:return[2]}})}),function(s){return o.apply(this,arguments)})}]),e}());s._RF.pop(),s._RF.push({},"688b9uHmGxIzor34fF2fnWU","GeneralUtils",void 0);o("p",function(){function e(){D(this,e)}var o,s,c,l,f;return B(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"setBlockInput",value:function(o){var s=w("Canvas/InputBlocker");s&&(s.active=o)}},{key:"getBlockInput",value:function(){var o=w("Canvas/InputBlocker");return!!o&&o.active}},{key:"loadPrefabAsync",value:function(o){var s=d.getInfoWithPath(o,C);if(s&&null!==d.get(s.path,C)){var c=d.get(s.path,C);if(null!==c)return Promise.resolve(c)}return new Promise(function(s){d.load(o,C,function(o,c){o&&s(null),s(c)})})}},{key:"loadAnimClipAsync",value:(f=F(function(o){var s,c;return _ts_generator(this,function(l){s=d.getInfoWithPath(o,en);if(s&&null!==d.get(s.path,en)){c=d.get(s.path,en);if(null!==c)return[2,Promise.resolve(c)]}return[2,new Promise(function(s){d.load(o,en,function(o,c){o&&s(null),s(c)})})]})}),function(o){return f.apply(this,arguments)})},{key:"loadImageSpriteFrameAsync",value:(l=F(function(o){var s,c;return _ts_generator(this,function(l){s=d.getInfoWithPath(o,et);if(s&&null!==d.get(s.path,et)){c=d.get(s.path,et);if(null!==c)return[2,Promise.resolve(ei.createWithImage(c))]}return[2,new Promise(function(s){d.load(o,et,function(o,c){o&&s(null),s(ei.createWithImage(c))})})]})}),function(o){return l.apply(this,arguments)})},{key:"loadSpriteFrameAsync",value:(c=F(function(o){var s,c,l;var f=arguments;return _ts_generator(this,function(h){s=!(f.length>1&&void 0!==f[1])||f[1],c=d.getInfoWithPath(o,ei);if(c&&null!==d.get(c.path,ei)){l=d.get(c.path,ei);if(null!==l)return[2,(l.packable=s,Promise.resolve(l))]}return[2,new Promise(function(c){d.load(o,ei,function(o,l){!o&&l?(l.packable=s,c(l)):c(null)})})]})}),function(o){return c.apply(this,arguments)})},{key:"loadSpriteFramesDirAsync",value:(s=F(function(o){var s,c,l,f,h,p;return _ts_generator(this,function(v){s=d.getDirWithPath(o,ei);if(s.length>0){l=[],f=Q(s);try{for(f.s();!(c=f.n()).done;){h=c.value,p=d.get(h.path,ei);if(!p)return[2,this.loadSpriteFramesFromDirAsync(o)];l.push(p)}}catch(o){f.e(o)}finally{f.f()}return[2,l]}return[2,this.loadSpriteFramesFromDirAsync(o)]})}),function(o){return s.apply(this,arguments)})},{key:"loadSpriteFramesFromDirAsync",value:(o=F(function(o){return _ts_generator(this,function(s){return[2,new Promise(function(s){d.loadDir(o,ei,function(o,c){o&&s([]),s(c)})})]})}),function(s){return o.apply(this,arguments)})}]),e}());s._RF.pop(),s._RF.push({},"97ca9J9nzNCeIjC1l+ZT/Hm","SceneUtils",void 0);var nF,nL,nD,nB,nG,nM,nV,nU=globalThis.game.event,nW=GameCore.Events;o("w",function(){function e(){D(this,e)}return B(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"switchScene",value:function(o,s){nU.emit(nW.SWITCH_SCENE,{sceneName:o,sceneData:s})}},{key:"preloadScene",value:function(o){nU.emit(nW.PRELOAD_SCENE,{sceneName:o})}},{key:"markIsTestScene",value:function(o){nU.emit(nW.MARK_IS_TEST_SCENE,{sceneName:o})}},{key:"preloadDashboardScene",value:function(){this.preloadScene(nc.DASHBOARD_SCENE)}},{key:"switchToDashboardScene",value:function(o){this.switchScene(nc.DASHBOARD_SCENE,o)}},{key:"preloadGameScene",value:function(){this.preloadScene(nc.GAME_SCENE)}},{key:"switchToGameScene",value:function(o){this.switchScene(nc.GAME_SCENE,o)}},{key:"switchToEndlessScene",value:function(o){this.switchScene(nc.ENDLESS_SCENE,o)}}]),e}());s._RF.pop(),s._RF.push({},"acb0egHPppFmYJalVNrDDv/","BaseScreen",void 0);var nj,nx,nq,nz,nK,nH=h.ccclass,nY=h.property,nZ=h.disallowMultiple,nQ=GameCore.Events,nJ=globalThis.game.event;o("F",(nF=nH("BaseScreen"),nL=nY(er),nD=nY(er),nF(nB=nZ((nM=ne((nG=function(o){V(t,o);var s=K(t);function t(){var o;D(this,t);for(var c=arguments.length,l=new Array(c),d=0;d<c;d++)l[d]=arguments[d];return ee(o=s.call.apply(s,[this].concat(l)),"container",nM,q(o)),ee(o,"backgroundMask",nV,q(o)),o.data={},o}return B(t,[{key:"__preload",value:function(){this.animation=this.getComponent(b),this.validateRequiredComponents(),this.initializeNodes()}},{key:"initializeNodes",value:function(){var o=this.getMaskOpacity(),s=this.getContainerOpacity();o&&s&&(o.opacity=0,s.opacity=0)}},{key:"validateRequiredComponents",value:function(){eE.lazyValidateProperties(this)}},{key:"open",value:function(o){o&&(this.data=o),this.show(),this.runAnimation("OpenScreen")}},{key:"close",value:function(){var o=this;this.node.active&&(this.animation.once(b.EventType.FINISHED,function(){nJ.emit(nQ.CLOSED_SCREEN,{screenName:o.node.name}),o.hide()}),this.runAnimation("CloseScreen"))}},{key:"runAnimation",value:function(o){if(!this.isAnimationExist(o))throw new Error("".concat(this.node.name,": Animation component must have ").concat(o," clip"));this.animation.play(o)}},{key:"isAnimationExist",value:function(o){return this.animation.clips.some(function(s){return!(!s||s.name!==o)})}},{key:"getMaskOpacity",value:function(){var o=this.backgroundMask.getComponent(k);return o||null}},{key:"getContainerOpacity",value:function(){var o=this.container.getComponent(k);return o||null}},{key:"show",value:function(){var o=this.node.getComponent(eo);if(o){o.enabled=!0,o.updateAlignment();var s,c=Q(this.node.getComponentsInChildren(eo));try{for(c.s();!(s=c.n()).done;)s.value.updateAlignment()}catch(o){c.e(o)}finally{c.f()}}}},{key:"hide",value:function(){this.node.setWorldPosition(new ea(-1e3,-1e3,0));var o=this.node.getComponent(eo);o&&(o.enabled=!1)}}]),t}(y)).prototype,"container",[nL],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nV=ne(nG.prototype,"backgroundMask",[nD],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nB=nG))||nB)||nB));s._RF.pop(),s._RF.push({},"d562cAXnG1PQ6vXfOEq2wVu","Screens",void 0);var nX=h.ccclass,n$=h.property;o("N",(nj=nX("Screens"),nx=n$({type:eu(e0)}),nj((nK=ne((nz=function(o){V(t,o);var s=K(t);function t(){var o;D(this,t);for(var c=arguments.length,l=new Array(c),d=0;d<c;d++)l[d]=arguments[d];return ee(o=s.call.apply(s,[this].concat(l)),"screenKeys",nK,q(o)),o}return B(t)}(y)).prototype,"screenKeys",[nx],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nq=nz))||nq));s._RF.pop()}}})}}});