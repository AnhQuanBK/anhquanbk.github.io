System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///rollupPluginModLoBabelHelpers-e4e8a5d4.js",[],(function(e){return{execute:function(){function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e,t,r,n,o,i,u){try{var c=e[i](u),a=c.value}catch(e){return void r(e)}c.done?t(a):Promise.resolve(a).then(n,o)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function o(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(t){return(i=e("j",Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)}))(t)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,r){return(a=c()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o}).apply(null,arguments)}function l(t){var r="function"==typeof Map?new Map:void 0;return(l=e("n",(function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return a(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})))(t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}function b(){return(b="undefined"!=typeof Reflect&&Reflect.get?e("i",Reflect.get.bind()):e("i",(function(e,t,r){var n=y(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}))).apply(this,arguments)}function s(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}e({_:function(e,t,r,n,o){var i={};Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0);i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0);void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null);return i},a:function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)},b:function(e){var t=c();return function(){var r,n=i(e);if(t){var o=i(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}},c:function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d:function(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})},e:f,f:function(e,t,r){t&&n(e.prototype,t);r&&n(e,r);return Object.defineProperty(e,"prototype",{writable:!1}),e},g:function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}},h:function(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},i:b,j:i,k:function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},l:function(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var u=e.apply(t,n);function c(e){r(u,o,i,c,a,"next",e)}function a(e){r(u,o,i,c,a,"throw",e)}c(void 0)}))}},m:function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},n:l,o:o})}}}));

System.register("chunks:///Screens-3494e286.js",["cc","./rollupPluginModLoBabelHelpers-e4e8a5d4.js"],(function(e){var n,t,i,a,o,r,s,u,c,l,d,h,v,f,p,y,g,A,m,S,E,_,k,I,R,w,C,N,b,T,L,P,O,F,D,M,G,B,V,U,W,x;return{setters:[function(e){n=e.cclegacy,t=e.isCCObject,i=e.AudioSource,a=e.resources,o=e.AudioClip,r=e._decorator,s=e.CCString,u=e.director,c=e.Component,l=e.UITransform,d=e.view,h=e.screen,v=e.math,f=e.ccenum,p=e.tween,y=e.Animation,g=e.find,A=e.ProgressBar,m=e.Label,S=e.UIOpacity,E=e.Prefab,_=e.instantiate,k=e.View,I=e.game,R=e.AnimationClip,w=e.ImageAsset,C=e.SpriteFrame,N=e.Node,b=e.Widget,T=e.Vec3,L=e.Enum},function(e){P=e.l,O=e.a,F=e.b,D=e.c,M=e.f,G=e.n,B=e.g,V=e._,U=e.d,W=e.e,x=e.o}],execute:function(){function q(e,n,t){var i=t.value;t.value=function(){if(this.enabledInHierarchy){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return null==i?void 0:i.apply(this,t)}console.info("Skipping method call ".concat(String(n)," because component ").concat(this.constructor.name," is not enabled in hierarchy"))}}function z(e,n,t){var i=t.value,a=function(){var e=P((function*(){if(this.enabledInHierarchy){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return yield null==i?void 0:i.apply(this,t)}return console.info("Skipping method call ".concat(String(n)," because component ").concat(this.constructor.name," is not enabled in hierarchy")),Promise.resolve()}));return function(){return e.apply(this,arguments)}}();t.value=a}n._RF.push({},"147a4TjOC9PMpdhlBiKEn54","onlyRunInLifeCycle",void 0),n._RF.pop(),n._RF.push({},"6944aqu6zZOGIj+df3KBDrm","onlyRunInLifeCycleAsync",void 0),n._RF.pop(),n._RF.push({},"99384AdWHlKDIyVvCAqSwJE","index",void 0),n._RF.pop(),n._RF.push({},"09236E0KzVAqotP4Yn9R+4m","MissingPropertiesError",void 0);var H=function(e){O(t,e);var n=F(t);function t(e,i){var a;return D(this,t),(a=n.call(this,"".concat(e," is missing these required properties: [").concat(i.map((function(e){return e.propertyName})).join(", "),"]"))).className=e,a.errors=i,a}return M(t)}(G(Error));n._RF.pop(),n._RF.push({},"4ce5394i3hCZoi5cZm0Vn2l","MissingPropertyError",void 0);var K=function(e){O(t,e);var n=F(t);function t(e,i){var a;return D(this,t),(a=n.call(this,"".concat(e," is missing the required property: <").concat(i,">"))).className=e,a.propertyName=i,a}return M(t)}(G(Error));n._RF.pop(),n._RF.push({},"a2990W72mRAYaItrPHe4H5V","required",void 0);var Y=GameCore.Utils,j=Y.String,Z=Y.Valid,J=globalThis.game.monitorError,X="_compUtils_ReqPropsMap";function Q(e){return null===e}function $(e){return void 0===e}function ee(e){return Q(e)||$(e)}function ne(e){if("function"==typeof e)return e;switch(e){case"null-check":return Q;case"undefined-check":return $;default:return ee}}function te(e){return function(n,t){if("function"==typeof n)throw new Error("The required decorator can only be applied to non-static class properties.");var i,a=n.constructor.name,o=(i=t,"".concat("_compUtils_ReqPropsMethod","_").concat(j.capitalize(i)));if(void 0!==n[o])throw new Error("The required decorator found that property name ".concat(o," already exists. The reserved method name ").concat(o," is used already or the decorator was applied multiple times."));n[o]=function(n){if(e(this[t]))throw new K(n,t)},void 0===n[X]&&(n[X]={}),void 0===n[X][a]&&(n[X][a]=[]),n[X][a].push(o)}}function ie(e,n){if("string"!=typeof n)return te(ne(e));var t=e;te(ne())(t,n)}n._RF.pop(),n._RF.push({},"75e1e0Ei7ZOOr/FzyprYnVJ","index",void 0),n._RF.pop(),n._RF.push({},"bfa55FbayJE75F0wBdnknTr","ComponentUtils",void 0);var ae=GameCore.Utils,oe=ae.Array,re=ae.Object,se=ae.Valid,ue=["cc.Mask","cc.Label","cc.Canvas","cc.Camera","cc.Layout","cc.Button","cc.Sprite","cc.Widget","cc.Renderer","cc.Animation","cc.UIOpacity"],ce=e("C",function(){function e(){D(this,e),this.validComponentCalled={}}return M(e,[{key:"validateRequiredComponents",value:function(e){var n,t=e.name,i=e.constructor,a=this.getRequiredComponentNames(i),o=B(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(!e.getComponent(r))throw new Error("".concat(t,": Missing required ").concat(r," component"))}}catch(e){o.e(e)}finally{o.f()}}},{key:"validateRequiredProperties",value:function(e){var n,i=e.name,a=e.constructor,o=this.getRequiredPropNames(a),r=B(o);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(!re.hasOwn(e,s))throw new Error("".concat(i,": Missing required ").concat(s," property"));var u=this.getProperty(s,e);if(!t(u))throw new Error("".concat(i,": ").concat(s," property is not a cc object"))}}catch(e){r.e(e)}finally{r.f()}}},{key:"validateCustomProperties",value:function(e){var n,i=e.name,a=this.getCustomPropNames(e),o=B(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(!re.hasOwn(e,r))throw new Error("".concat(i,": Missing required ").concat(r," property"));var s=this.getProperty(r,e);if(!t(s))throw new Error("".concat(i,": ").concat(r," property is not a cc object"))}}catch(e){o.e(e)}finally{o.f()}}},{key:"getProperty",value:function(e,n){var t;if(re.hasOwn(n,e))return(null!==(t=Object.getOwnPropertyDescriptor(n,e))&&void 0!==t?t:{}).value}},{key:"getProps",value:function(e){if(!re.hasOwn(e,"__props__"))return[];var n=e.__props__;return Array.isArray(n)?n:[]}},{key:"getRequiredPropNames",value:function(e){return this.getProps(e).filter((function(n){return"node"!==n&&(!!re.hasOwn(e,n)&&(!!t(e[n])&&!n.startsWith("_")))}))}},{key:"getBaseComponentName",value:function(e){for(var n=0,t=ue;n<t.length;n++){var i=t[n];if(i.indexOf(e)>=0)return i}return e}},{key:"getRequiredComponentNames",value:function(e){var n=this;if(!re.hasOwn(e,"_requireComponent"))return[];var t=e._requireComponent;return Array.isArray(t)?t.map((function(e){return n.getBaseComponentName(e)})):[]}},{key:"getCustomPropNames",value:function(e){var n=this,i=Object.keys(e),a=this.getProps(e.constructor);return oe.difference(i,a).filter((function(e){return e.indexOf("_")<0})).filter((function(i){if(!re.hasOwn(e,i))return!1;var a=n.getProperty(i,e);return!(!se.isObject(a)||!t(a))}))}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"required",value:function(e,n){return"string"==typeof n?ie(e,n):ie(e)}},{key:"validateRequiredProperties",value:function(e,n){!function(e,n){var t,i=n?n.name:e.constructor.name,a=n?n.prototype[X]:e.constructor.prototype[X],o=null!==(t=null==a?void 0:a[i])&&void 0!==t?t:[],r=[],s=e;for(var u in o)if("function"==typeof s[u])try{s[u](i)}catch(c){if(!(c instanceof K))throw c;r.push(c)}if(0!==r.length){var c=new H(i,r);if(Z.isDebugger())throw c;console.error(c),null==J||J.sendException(c)}}(e,n)}},{key:"lazyValidateProperties",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(n){var t=e.constructor,i=t.name;if(!this.inst.validComponentCalled[i])try{this.inst.validateRequiredComponents(e),this.inst.validateRequiredProperties(e),this.inst.validateCustomProperties(e)}catch(n){e.enabled=!1,console.error(n)}finally{this.inst.validComponentCalled[i]=!0}}}}]),e}());ce.onlyRunInLifeCycle=function(){return q.apply(void 0,arguments)},ce.onlyRunInLifeCycleAsync=function(){return z.apply(void 0,arguments)},n._RF.pop(),n._RF.push({},"cc0a5OvhdRCMZRZuRscaz+7","AudioPlayer",void 0);var le=function(e){O(t,e);var n=F(t);function t(e,i){var a;return D(this,t),(a=n.call(this,e)).audioSource=i,a}return M(t,[{key:"play",value:function(e){if(e){var n=e.volume,t=void 0===n?1:n,i=e.loop,a=void 0!==i&&i;this.audioSource.volume=t,this.audioSource.loop=a}this.audioSource.play()}},{key:"pause",value:function(){this.audioSource.pause()}},{key:"resume",value:function(){this.audioSource.state===i.AudioState.PAUSED&&this.audioSource.play()}},{key:"stop",value:function(){this.audioSource.stop()}},{key:"setVolume",value:function(e){this.audioSource.volume=e}},{key:"getVolume",value:function(){return this.audioSource.volume}},{key:"getAudioSource",value:function(){return this.audioSource}}]),t}(GameCore.Plugins.Audio.BaseAudioPlayer);n._RF.pop(),n._RF.push({},"8b5ecHv/+BJiorK1kiVbTcf","AudioChannel",void 0);var de=GameCore,he=de.Plugins.Audio.BaseChannelManager,ve=de.Utils.Array,fe=function(e){O(r,e);var n,t=F(r);function r(e,n){var a;return D(this,r),(a=t.call(this,n)).allowMultipleTracking={},a.handleLoadedAudio=function(e,n){var t=a.node.addComponent(i);return t.clip=n,t.playOnAwake=!1,new le(e,t)},a.node=e,a}return M(r,[{key:"playing",value:function(e){var n,t=null===(n=this.getAudioClip(e))||void 0===n?void 0:n.audioPlayer;return!!t&&t.getAudioSource().state===i.AudioState.PLAYING}},{key:"onLoadAudio",value:(n=P((function*(e,n){var t=this;return new Promise((function(n,i){a.load(e,o,(function(a,o){try{if(a)throw new Error(a.message);if(!t.node.isValid)return;var r=t.handleLoadedAudio(e,o);n(r)}catch(a){a instanceof Error?i(a):i(new Error("Audio load: Unknown error"))}}))}))})),function(e,t){return n.apply(this,arguments)})},{key:"playWithRealConfig",value:function(e,n){if(this.isCanPlay(n)){if(n){var t=n.volume,i=void 0===t?1:t,a=n.allowMultiple,o=void 0!==a&&a;if(n.volume=this.getVolume()*i,o){var r=e.getAudioSource().clip;if(!r)return;return void this.requestDuplicateAudioPlayer(e.getKey(),r,n).play(n)}}e.play(n)}}},{key:"isCanPlay",value:function(e){var n=this;if(e){var t=e.checkList;if((void 0===t?[]:t).some((function(e){var t=n.getAudioClip(e);return!!t&&t.audioPlayer.getAudioSource().state===i.AudioState.PLAYING})))return!1}return!0}},{key:"requestDuplicateAudioPlayer",value:function(e,n,t){var i=this.getDuplicateAudioFromPool(e);if(i){if(t){var a=i.key,o=t.volume,r=void 0===o?1:o;this.setAudioClip(a,{volume:r})}return i.audioPlayer}var s="".concat(e,"_").concat(this.allowMultipleTracking[e].currentPostFix),u=this.handleLoadedAudio(s,n);return this.allowMultipleTracking[e].list.push({audioPlayer:u,key:s}),this.allowMultipleTracking[e].currentPostFix+=1,this.setAudioClip(s,{audioPlayer:u,volume:1}),u}},{key:"getDuplicateAudioFromPool",value:function(e){if(this.allowMultipleTracking[e]){var n=this.allowMultipleTracking[e].list,t=ve.search(n,(function(e){return e.audioPlayer.getAudioSource().state!==i.AudioState.PLAYING}));if(t)return t}else this.allowMultipleTracking[e]={currentPostFix:1,list:[]};return null}}]),r}(he);n._RF.pop();var pe,ye,ge,Ae,me;e("E",!1),e("q",!0);n._RF.push({},"1a025mmN7BL7r5cF6gWR4b/","Music",void 0);var Se,Ee,_e,ke,Ie,Re=r.ccclass,we=r.property,Ce=globalThis.game,Ne=Ce.audio,be=Ce.player,Te=e("M",(pe=Re("Music"),ye=we(s),pe((me=V((Ae=function(e){O(t,e);var n=F(t);function t(){var e;D(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),U(e,"channelId",me,W(e)),e.channel=null,e}return M(t,[{key:"__preload",value:function(){this.makePersistent(),this.channel=new fe(this.node,this.channelId),Ne.addChannel(this.channel)}},{key:"makePersistent",value:function(){u.addPersistRootNode(this.node)}},{key:"playing",value:function(e){var n,t;return null!==(n=null===(t=this.channel)||void 0===t?void 0:t.playing(e))&&void 0!==n&&n}},{key:"play",value:function(e,n){if(this.isMusicEnable()){var t=null!=n?n:{};t.loop||(t.loop=!0),Ne.play(e,t,this.channelId)}}},{key:"isMusicEnable",value:function(){return!!be.getPlayerSetting("music")}},{key:"setVolume",value:function(e){Ne.setVolume(e,this.channelId)}},{key:"getVolume",value:function(){return Ne.getVolume(this.channelId)}},{key:"pause",value:function(e){Ne.pause(e,this.channelId)}},{key:"resume",value:function(e){this.isMusicEnable()&&Ne.resume(e,this.channelId)}},{key:"stop",value:function(e){Ne.stop(e,this.channelId)}},{key:"mute",value:function(e){e?Ne.mute(this.channelId):Ne.unmute(this.channelId)}}]),t}(c)).prototype,"channelId",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"global_music"}}),ge=Ae))||ge));n._RF.pop(),n._RF.push({},"1299a7X1XNNEKxSKMV6E5jQ","Sound",void 0);var Le=r.ccclass,Pe=r.property,Oe=globalThis.game,Fe=Oe.audio,De=Oe.player,Me=e("o",(Se=Le("Sound"),Ee=Pe(s),Se((Ie=V((ke=function(e){O(t,e);var n=F(t);function t(){var e;D(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),U(e,"channelId",Ie,W(e)),e.channel=null,e}return M(t,[{key:"__preload",value:function(){this.channel=new fe(this.node,this.channelId),Fe.addChannel(this.channel)}},{key:"onLoad",value:function(){""===this.channelId&&(this.channelId=this.node.uuid)}},{key:"makePersistent",value:function(){u.addPersistRootNode(this.node)}},{key:"removePersistent",value:function(){u.removePersistRootNode(this.node)}},{key:"play",value:function(e,n){this.isSoundEnable()&&Fe.play(e,n,this.channelId)}},{key:"isSoundEnable",value:function(){return!!De.getPlayerSetting("sound")}},{key:"setVolume",value:function(e){Fe.setVolume(e,this.channelId)}},{key:"pause",value:function(e){Fe.pause(e,this.channelId)}},{key:"resume",value:function(e){this.isSoundEnable()&&Fe.resume(e,this.channelId)}},{key:"stop",value:function(e){Fe.stop(e,this.channelId)}},{key:"stopAll",value:function(){Fe.stopAll(this.channelId)}},{key:"mute",value:function(e){e?Fe.mute(this.channelId):Fe.unmute(this.channelId)}}]),t}(c)).prototype,"channelId",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_e=ke))||_e));n._RF.pop(),n._RF.push({},"244e9OHsmpDnpHQKeLzgiiX","GameEvents",void 0);e("G",{VIEW_RESIZE:"view-resize",VIEW_RESIZED:"view-resized",REQUEST_VIEW_RESIZE:"request-view-resize",LAYOUT_CHANGED:"layout-changed",GAMEPLAY_UPDATE_CONFIG:"gameplay-update-config",UPGRADE_DYNAMIC_ATLAS:"upgrade-dynamic-atlas",ASSET_QUALITY_CHANGE:"asset-quality-change",CHANGE_QUALITY_ASSETS:"change-quality-assets",CLEAR_HYBRID_FILE_CACHE:"clear-hybrid-file-cache"});n._RF.pop(),n._RF.push({},"5c76fxO2ppOqYp4WNO+Kavm","GameWorld",void 0);e("a",{Layout:{Portrait:"portrait",Landscape:"landscape"},DesignSize:{Portrait:{WIDTH:750,HEIGHT:1366},Landscape:{WIDTH:1920,HEIGHT:1350}},PRIMARY_LAYOUT:"auto",FULL_CANVAS_TO_SCREEN:!1,FULL_PORTRAIT_SIZE:!1,FULL_LANDSCAPE_SIZE:!1});n._RF.pop(),n._RF.push({},"05faedSJ2NHFqLe9b3g4RIl","CocosUtils",void 0);var Ge=e("b",function(){function e(){D(this,e)}return M(e,[{key:"getWindowSizeVsWorldGameRatio",value:function(){var e=d.getVisibleSize(),n=h.windowSize.width,t=window.devicePixelRatio;return n/(t=t>2?2:t)/e.width}},{key:"getBoundingBoxTo",value:function(e,n){var t=v.mat4();v.Mat4.fromSRT(t,n.getRotation(),n.getPosition(),n.getScale());var i=n.getComponent(l);if(!i)throw new Error("Node must have UITransform component");var a=i.anchorPoint,o=i.contentSize,r=o.width,s=o.height,u=new v.Rect(-a.x*r,-a.y*s,r,s),c=v.mat4();if(v.Mat4.multiply(c,e,t),u.transformMat4(c),!n.children||0===n.children.length)return u;var d,h=n.children,f=n.getWorldMatrix(),p=B(h);try{for(p.s();!(d=p.n()).done;){var y=d.value;if(null!=y&&y.active)if(y.getComponent(l)){var g=this.getBoundingBoxTo(f,y);g&&v.Rect.union(u,u,g)}}}catch(e){p.e(e)}finally{p.f()}return u}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"getBoundingBoxToWorld",value:function(e){if(e.parent){var n=e.parent.getWorldMatrix();return this.inst.getBoundingBoxTo(n,e)}var t=e.getComponent(l);if(!t)throw new Error("Node must have UITransform component");return t.getBoundingBox()}},{key:"worldSizeToCssSize",value:function(e){return e*this.inst.getWindowSizeVsWorldGameRatio()}},{key:"cssSizeToWorldSize",value:function(e){return e/this.inst.getWindowSizeVsWorldGameRatio()}},{key:"getScreenWidthCss",value:function(){var e=document,n=e.body,t=e.documentElement,i=n.clientWidth,a=t.clientWidth;return Math.max(a,i)||0}},{key:"getScreenHeightCss",value:function(){var e=document,n=e.body,t=e.documentElement,i=n.clientHeight,a=t.clientHeight;return Math.max(a,i)||0}}]),e}());n._RF.pop(),n._RF.push({},"d159egaUVVLHKLg1UL865ub","SoundKeys",void 0);var Be=e("e",{BEE_FLYING:"sounds/bee-flying",BEE_STING_DOGE:"sounds/bee-sting-doge",BG_MUSIC:"sounds/bg-music",BUTTON_CLICK:"sounds/button-click",COLLECTING_COINS:"sounds/collecting-coins",DOGE_DIES:"sounds/doge-dies",DOGE_HURT:"sounds/doge-hurt",END_DRAW:"sounds/end-draw",HAND_CLAP:"sounds/hand-clap",LEVEL_FAIL:"sounds/level-fail",LEVEL_PASS:"sounds/level-pass",LOST_STAR_IN_GAMEPLAY:"sounds/lost-star-in-gameplay",RAISE_STAR:"sounds/raise-star",SPAWN_COINS:"sounds/spawn-coins",STAR_RAISE:"sounds/star-raise",TOUCH_START:"sounds/touch-start",BEE_BULLET_EXPLODE:"sounds/bee-bullet-explode"}),Ve=Object.values(Be),Ue=e("S",Ve.reduce((function(e,n,t){return Object.assign(e,x({},n,t))}),{}));f(Ue);var We,xe;e("c",Ve);n._RF.pop(),n._RF.push({},"0eeb868JeVE67iFwhbkRCmE","ScreenKeys",void 0);var qe=e("h",function(e){return e[e.LOADING_SCREEN=1]="LOADING_SCREEN",e[e.SETTINGS_SCREEN=2]="SETTINGS_SCREEN",e[e.NOTIFICATION_SCREEN=3]="NOTIFICATION_SCREEN",e[e.LOSE_SCREEN=4]="LOSE_SCREEN",e[e.WINNING_SCREEN=5]="WINNING_SCREEN",e[e.CONGRATULATION_SCREEN=6]="CONGRATULATION_SCREEN",e}(qe||{})),ze=e("n",(x(We={},qe.LOADING_SCREEN,"LoadingScreen"),x(We,qe.SETTINGS_SCREEN,"SettingsScreen"),x(We,qe.NOTIFICATION_SCREEN,"NotificationScreen"),x(We,qe.LOSE_SCREEN,"LoseScreen"),x(We,qe.WINNING_SCREEN,"WinningScreen"),x(We,qe.CONGRATULATION_SCREEN,"CongratulationScreen"),We)),He=(x(xe={},ze[qe.LOADING_SCREEN],qe.LOADING_SCREEN),x(xe,ze[qe.SETTINGS_SCREEN],qe.SETTINGS_SCREEN),x(xe,ze[qe.NOTIFICATION_SCREEN],qe.NOTIFICATION_SCREEN),x(xe,ze[qe.LOSE_SCREEN],qe.LOSE_SCREEN),x(xe,ze[qe.WINNING_SCREEN],qe.WINNING_SCREEN),x(xe,ze[qe.CONGRATULATION_SCREEN],qe.CONGRATULATION_SCREEN),[ze[qe.NOTIFICATION_SCREEN],ze[qe.LOADING_SCREEN]]);n._RF.pop(),n._RF.push({},"09bc071ZcpI978b1NdKUaqD","AnalyticsUtils",void 0);var Ke=globalThis.game.analytics;e("d",function(){function e(){D(this,e)}return M(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"trackCurrentPage",value:function(e,n){if(!He.includes(e)&&(n||this.trackingPages.includes(e))){this.trackingPages=this.trackingPages.filter((function(n){return n!==e})),n&&this.trackingPages.push(e);var t=this.getCurrentPage();Ke.pageview(t)}}},{key:"switchSceneTracking",value:function(){this.trackingPages=[];var e=this.getCurrentPage();Ke.pageview(e)}},{key:"getCurrentPage",value:function(){var e,n;return this.trackingPages.length>0?this.trackingPages[this.trackingPages.length-1]:null!==(e=null===(n=u.getScene())||void 0===n?void 0:n.name)&&void 0!==e?e:"Unknown Scene"}}]),e}()).trackingPages=[],n._RF.pop(),n._RF.push({},"ca600QzdYZDSLmGmfSVyz4h","AnimAbortSignal",void 0);var Ye=GameCore.Utils.Array,je=function(){function e(){D(this,e),this.callbacks=[],this.isAborted=!1,this.abortReason="",this.callbacks=[]}var n;return M(e,[{key:"aborted",get:function(){return this.isAborted}},{key:"reason",get:function(){return this.abortReason}},{key:"addAbortListener",value:function(e){this.callbacks.push(e)}},{key:"removeAbortListener",value:function(e){var n=Ye.searchIndex(this.callbacks,(function(n){return n===e}));-1!==n?this.callbacks.splice(n,1):console.warn("Abort listener not found")}},{key:"abort",value:function(e){if(!this.isAborted){this.isAborted=!0,this.abortReason=e;var n,t=B(this.callbacks);try{for(t.s();!(n=t.n()).done;){var i=n.value;"function"==typeof i&&i()}}catch(e){t.e(e)}finally{t.f()}this.callbacks=[]}}},{key:"untilAborted",value:(n=P((function*(){var e=this;if(!this.isAborted)return new Promise((function(n){e.addAbortListener((function(){return n()}))}))})),function(){return n.apply(this,arguments)})},{key:"call",value:function(e){this.aborted||e(this)}},{key:"callAsync",value:function(e){return this.aborted?Promise.resolve():e(this)}},{key:"chain",value:function(n){var t=this;n instanceof e?n.addAbortListener((function(){return t.abort()})):n.addEventListener("abort",(function(){return t.abort()}))}}],[{key:"hasBeenAborted",value:function(e){return null==e||e.aborted}}]),e}();n._RF.pop(),n._RF.push({},"c7c0e+0tjZA7aG6a9yUNytM","AnimUtils",void 0);var Ze=e("t",function(){function e(){D(this,e)}return M(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"elasticOut",value:function(e,n,t){var i=n||.1,a=t||.1;if(0===e)return 0;if(1===e)return 1;var o=a/4;return i<1?i=1:o=a*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-o)*(2*Math.PI)/a)+1}},{key:"easeOutExpo",value:function(e){return 1===e?1:1-Math.pow(2,-10*e)}},{key:"easeInExpo",value:function(e){return 0===e?0:Math.pow(2,10*e-10)}},{key:"runTweenAsync",value:function(e,n){return new Promise((function(t){var i=e.call((function(){t({tween:e})})).start();n&&(n.aborted?(i.stop(),t({tween:e})):n.addAbortListener((function(){i.stop(),t({tween:e})})))}))}},{key:"runOnUpdateAsync",value:function(e,n,t,i){return new Promise((function(a,o){var r=p(e).to(n,{},{onUpdate:function(e,n){if(void 0!==n)try{t(n)}catch(e){o(e instanceof Error?e:new Error(JSON.stringify(e)))}}}).call((function(){a({tween:r})})).start();i&&(i.aborted?(r.stop(),a({tween:r})):i.addAbortListener((function(){r.stop(),a({tween:r})})))}))}},{key:"waitTweenAsync",value:function(e,n){return new Promise((function(t){var i=p({});i.delay(e),i.call((function(){t()})),i.start(),n&&(n.aborted?(i.stop(),t()):n.addAbortListener((function(){i.stop(),t()})))}))}},{key:"runAnimationAsync",value:function(e,n){return new Promise((function(t){e.play(n),e.once(y.EventType.FINISHED,(function(){t()}))}))}}]),e}());n._RF.pop(),n._RF.push({},"31871PLRYRJu7yCCX5F6lWK","AudioUtils",void 0);var Je=e("A",function(){function e(){D(this,e),this.signal=new je}var n,t,i,a,o;return M(e,[{key:"sound",get:function(){var e,n;return null!==(e=null===(n=g("Sound"))||void 0===n?void 0:n.getComponent(Me))&&void 0!==e?e:null}},{key:"music",get:function(){var e,n;return null!==(e=null===(n=g("Music"))||void 0===n?void 0:n.getComponent(Te))&&void 0!==e?e:null}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"muteAudio",value:function(e){this.muteMusic(e),this.muteSound(e)}},{key:"playSound",value:(o=P((function*(e,n){var t,i;null!==(t=globalThis.game.player.getPlayerSetting("sound"))&&void 0!==t&&t&&(yield null===(i=this.inst.sound)||void 0===i?void 0:i.play(e,n))})),function(e,n){return o.apply(this,arguments)})},{key:"pauseSound",value:function(e){var n;null===(n=this.inst.sound)||void 0===n||n.pause(e)}},{key:"resumeSound",value:function(e){var n;null===(n=this.inst.sound)||void 0===n||n.resume(e)}},{key:"stopSound",value:function(e){var n;null===(n=this.inst.sound)||void 0===n||n.stop(e)}},{key:"stopAllSounds",value:function(){var e;null===(e=this.inst.sound)||void 0===e||e.stopAll()}},{key:"muteSound",value:function(e){var n;null===(n=this.inst.sound)||void 0===n||n.mute(e)}},{key:"playMusic",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.inst.music&&(n||!this.inst.music.playing(Be.BG_MUSIC))){var t=globalThis.game.player,i=null!==(e=t.getPlayerSetting("music"))&&void 0!==e&&e;i&&this.inst.music.play(Be.BG_MUSIC)}}},{key:"pauseMusic",value:function(){var e;null===(e=this.inst.music)||void 0===e||e.pause(Be.BG_MUSIC)}},{key:"muteMusic",value:function(e){var n;null===(n=this.inst.music)||void 0===n||n.mute(e)}},{key:"turnUpMusic",value:(a=P((function*(){var e,n;(null!==(e=null===(n=this.inst.music)||void 0===n?void 0:n.getVolume())&&void 0!==e?e:0)>.8||(yield this.setVolumeMusic(.8,!0))})),function(){return a.apply(this,arguments)})},{key:"turnDownMusic",value:(i=P((function*(){var e,n;(null!==(e=null===(n=this.inst.music)||void 0===n?void 0:n.getVolume())&&void 0!==e?e:0)<.3||(yield this.setVolumeMusic(.3,!0))})),function(){return i.apply(this,arguments)})},{key:"turnOffMusic",value:(t=P((function*(){yield this.setVolumeMusic(0)})),function(){return t.apply(this,arguments)})},{key:"getVolumeMusic",value:function(){var e,n;return null!==(e=null===(n=this.inst.music)||void 0===n?void 0:n.getVolume())&&void 0!==e?e:0}},{key:"setVolumeMusic",value:(n=P((function*(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.inst.music){this.inst.signal.abort();var i=new je;if(this.inst.signal=i,t){var a=this.inst.music.getVolume(),o=a;yield Ze.runOnUpdateAsync(this.inst.music.node,1,(function(t){n.inst.music&&(o=a+(e-a)*t,n.inst.music.setVolume(o))}),i)}else{var r;null===(r=this.inst.music)||void 0===r||r.setVolume(e)}}})),function(e){return n.apply(this,arguments)})}]),e}());n._RF.pop(),n._RF.push({},"358fdIqjFdNzZGa95REWt2F","Ads",void 0);var Xe=e("m",{MAX_BOTTOM_BANNER_RATIO:1/6});n._RF.pop(),n._RF.push({},"adb272QtfxDGZ+87PwkWEiN","GameSettings",void 0);var Qe=e("j",{MaxLevel:325,WaitForPassSecs:6});n._RF.pop(),n._RF.push({},"f8533KH/fxOfYqya9sgLrSj","GameData",void 0);var $e=e("p",{level:1,coins:0,totalLevel:Qe.MaxLevel,passAllLevels:!1,levelProgress:{},bestEndlessScore:0});n._RF.pop(),n._RF.push({},"52b52FNwvhBKY/becAy420o","Leaderboard",void 0);e("L",{GLOBAL:"global-leaderboard-key",FRIENDS:"friends-leaderboard-key"}),e("r",{GLOBAL:"global-leaderboard-id",FRIENDS:"friends-leaderboard-id"});n._RF.pop(),n._RF.push({},"074c4KXFZ1Pq6d+66PrLd2+","PlayerData",void 0);e("P",{score:0,endlessScore:0,settings:{sound:!0,music:!0,vibrate:!0,language:"en"},gameData:$e,isFirstLogin:!0,dailyRewarded:{logDays:[],lastRewarded:0}});n._RF.pop(),n._RF.push({},"32598ObpVZK/pecmWIdcs+7","SceneKeys",void 0);var en,nn,tn,an,on,rn,sn,un=e("l",{TEST_SCENE:"TestScene",BOOT_SCENE:"BootScene",DASHBOARD_SCENE:"DashboardScene",GAME_SCENE:"GameScene",ENDLESS_SCENE:"EndlessScene",DRAFT_SCENE:"DraftScene",TEST_LAYOUT_SCENE:"TestLayoutScene",TEST_PERFORMANCE_SCENE:"TestPerformanceScene",TEST_PARTICLE_SYSTEM_SCENE:"TestParticleSystemScene"});n._RF.pop(),n._RF.push({},"7b024d/xQ1BBZV0UpNjM9UQ","LoadingFullScreen",void 0);var cn,ln,dn,hn,vn,fn=r.ccclass,pn=r.property,yn=(en=fn("LoadingFullScreen"),nn=pn(A),tn=pn(m),en((rn=V((on=function(e){O(a,e);var n,t,i=F(a);function a(){var e;D(this,a);for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return e=i.call.apply(i,[this].concat(t)),U(e,"progressBar",rn,W(e)),U(e,"loadingText",sn,W(e)),e}return M(a,[{key:"__preload",value:function(){this.uiOpacity=this.getComponent(S),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){ce.lazyValidateProperties(this)}},{key:"runLoadingTextAnimation",value:function(){var e=this,n=0;this.schedule((function(){n=n>2?0:n+1,e.loadingText.string="Loading"+".".repeat(n)}),.5)}},{key:"stopLoadingTextAnimation",value:function(){this.unscheduleAllCallbacks()}},{key:"show",value:(t=P((function*(e){this.uiOpacity.opacity=0,this.progressBar.progress=0;var n=p(this.uiOpacity).to(.2,{opacity:255},{easing:"cubicOut"}),t=p(this.progressBar).to(8,{progress:.9},{easing:"cubicOut"});this.runLoadingTextAnimation(),Ze.runTweenAsync(n),yield Ze.runTweenAsync(t)})),function(e){return t.apply(this,arguments)})},{key:"hide",value:(n=P((function*(e){if(this.uiOpacity&&this.progressBar){this.uiOpacity.opacity=255,this.progressBar.progress=.9;var n=p(this.uiOpacity).to(.15,{opacity:0},{easing:"cubicIn"}),t=p(this.progressBar).to(.2,{progress:1},{easing:"cubicIn"});this.runLoadingTextAnimation(),yield Ze.runTweenAsync(t),this.stopLoadingTextAnimation(),yield Ze.runTweenAsync(n),this.node.active=!1}})),function(e){return n.apply(this,arguments)})}]),a}(c)).prototype,"progressBar",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sn=V(on.prototype,"loadingText",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=on))||an);n._RF.pop(),n._RF.push({},"daa70r49mtGR6iXhcKLcS3q","Loading",void 0);var gn=r.ccclass,An=r.property,mn=(cn=gn("Loading"),ln=An(E),cn((vn=V((hn=function(e){O(a,e);var n,t,i=F(a);function a(){var e;D(this,a);for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return e=i.call.apply(i,[this].concat(t)),U(e,"loadingPrefab",vn,W(e)),e.loadingNode=null,e}return M(a,[{key:"__preload",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){ce.lazyValidateProperties(this)}},{key:"onLoad",value:function(){this.makePersistent()}},{key:"makePersistent",value:function(){u.addPersistRootNode(this.node)}},{key:"createLoadingFullScreen",value:function(){var e,n=g("Canvas");if(n&&!n.getChildByName("Loading")){this.loadingNode||(this.loadingNode=_(this.loadingPrefab));var t=_._clone(this.loadingNode);this.loadingFullScreen=t.getComponent(yn),this.node.active=!1,null===(e=g("Canvas"))||void 0===e||e.addChild(t)}}},{key:"show",value:(t=P((function*(e){this.createLoadingFullScreen(),this.node.active||(this.node.active=!0,yield this.loadingFullScreen.show(e))})),function(e){return t.apply(this,arguments)})},{key:"hide",value:(n=P((function*(e){var n;null!==(n=this.node)&&void 0!==n&&n.active&&this.loadingFullScreen&&(yield this.loadingFullScreen.hide(e),this.node.active=!1)})),function(e){return n.apply(this,arguments)})}]),a}(c)).prototype,"loadingPrefab",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dn=hn))||dn);n._RF.pop(),n._RF.push({},"a0dcdDZxhZImZ8Cfg4Dc7SJ","ScreenUtils",void 0);var Sn=globalThis.game.event,En=GameCore,_n=En.Events,kn=En.Utils.Array,In=e("g",function(){function e(){D(this,e),this.showedScreens=[]}var n,t;return M(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"preloadScreens",value:function(){Sn.emit(_n.PRELOAD_SCREENS)}},{key:"openScreen",value:function(e,n){var t=ze[e];Sn.emit(_n.OPEN_SCREEN,{screenName:t,screenData:n})}},{key:"closeScreen",value:function(e){var n=ze[e];Sn.emit(_n.CLOSE_SCREEN,{screenName:n})}},{key:"openScreenAndWaitForClose",value:function(e,n){var t=this;return new Promise((function(i){t.openScreen(e,n);Sn.on(_n.CLOSE_SCREEN,(function n(t){t.screenName===ze[e]&&(Sn.off(_n.CLOSE_SCREEN,n),i(t))}))}))}},{key:"showLoadingScreen",value:function(e){this.openScreen(qe.LOADING_SCREEN,{duration:e})}},{key:"closeLoadingScreen",value:function(){this.closeScreen(qe.LOADING_SCREEN)}},{key:"showNotificationScreen",value:function(e,n){this.openScreen(qe.NOTIFICATION_SCREEN,{message:e,duration:n})}},{key:"closeNotificationScreen",value:function(){this.closeScreen(qe.NOTIFICATION_SCREEN)}},{key:"addShowedScene",value:function(e){kn.has(this.inst.showedScreens,e)||this.inst.showedScreens.push(e)}},{key:"showLoadingFullScreen",value:(t=P((function*(e){var n;if(!kn.has(this.inst.showedScreens,e)){this.addShowedScene(e);var t=g("Loading");t&&(t.active=!0,yield null===(n=t.getComponent(mn))||void 0===n?void 0:n.show(e))}})),function(e){return t.apply(this,arguments)})},{key:"hideLoadingFullScreen",value:(n=P((function*(e){var n;kn.has(this.inst.showedScreens,e)||(yield null===(n=g("Loading"))||void 0===n||null===(n=n.getComponent(mn))||void 0===n?void 0:n.hide(e))})),function(e){return n.apply(this,arguments)})},{key:"showLoadingNotificationScreen",value:function(){this.openScreen(qe.NOTIFICATION_SCREEN,{message:"Loading",enableCloseOnTouch:!1})}}]),e}());n._RF.pop(),n._RF.push({},"ba77cUVKIVES7OzU5CC+5pq","AdsUtils",void 0);var Rn=GameCore,wn=Rn.Configs,Cn=Rn.Plugins.Ads,Nn=Cn.Types,bn=Cn.Status,Tn=Rn.Utils.Array,Ln=globalThis.game.ads,Pn="_fallback";e("i",function(){function e(){D(this,e),this.isAvoidBannerShowed=!1}var n,t,i,a,o,r,s,u,c,l;return M(e,[{key:"canbeShowInSDK",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=GameSDK.getSDKName();return(null==n||!n.length||!Tn.has(n,t))&&!(null!=e&&e.length&&!Tn.has(e,t))}},{key:"loadMainAdAsync",value:(l=P((function*(e){try{var n=e.type,t=e.placementId;yield Ln.loadAdAsync(n,t)}catch(e){return console.warn("loadMainAdAsync failed",e),e}return!0})),function(e){return l.apply(this,arguments)})},{key:"loadFallbackAdAsync",value:(c=P((function*(e){try{var n=e.type,t=e.placementId;yield Ln.loadAdAsync(n,t+Pn)}catch(e){return console.warn("loadFallbackAdAsync failed",e),e}return!0})),function(e){return c.apply(this,arguments)})},{key:"showMainAdAsync",value:(u=P((function*(e){try{var n=e.type,t=e.placementId;Ln.getAdStatus(n,t),yield Ln.showAdAsync(n,t)}catch(e){return console.warn("showMainAdAsync failed",e),e}return!0})),function(e){return u.apply(this,arguments)})},{key:"showFallbackAdAsync",value:(s=P((function*(e){try{var n=e.type,t=e.placementId;Ln.getAdStatus(n,t+Pn),yield Ln.showAdAsync(n,t+Pn)}catch(e){return console.warn("showFallbackAdAsync failed",e),e}return!0})),function(e){return s.apply(this,arguments)})},{key:"getFirstInterstitialAdConfig",value:function(){return wn.Ads.InterstitialAdOptions[0]||null}},{key:"getFirstRewardedVideoAdConfig",value:function(){return wn.Ads.RewardedVideoAdOptions[0]||null}},{key:"getFirstRewardedInterstitialAdConfig",value:function(){return wn.Ads.RewardedInterstitialAdOptions[0]||null}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"preloadAds",value:(r=P((function*(){var e=wn.Ads,n=e.Enabled,t=e.InterstitialAdOptions,i=e.RewardedVideoAdOptions,a=e.RewardedInterstitialAdOptions;if(n){var o=Nn.INTERSTITIAL,r=Nn.REWARDED_VIDEO,s=Nn.REWARDED_INTERSTITIAL;t.forEach((function(e){var n=e.PlacementId;Ln.loadAdAsync(o,n).catch((function(){Ln.loadAdAsync(o,n+Pn).catch((function(){}))}))})),i.forEach((function(e){var n=e.PlacementId;Ln.loadAdAsync(r,n).catch((function(){Ln.loadAdAsync(r,n+Pn).catch((function(){}))}))})),a.forEach((function(e){var n=e.PlacementId;Ln.loadAdAsync(s,n).catch((function(){Ln.loadAdAsync(s,n+Pn).catch((function(){}))}))}))}})),function(){return r.apply(this,arguments)})},{key:"setAvoidBannerShowed",value:function(e){this._instance.isAvoidBannerShowed=e}},{key:"showBannerAds",value:function(){var e=this,n=wn.Ads,t=n.Enabled,i=n.BannerDisplayAdOptions;if(t&&!this.inst.isAvoidBannerShowed){var a=k.instance.getVisibleSize(),o=Ge.worldSizeToCssSize(a.height*Xe.MAX_BOTTOM_BANNER_RATIO);i.forEach((function(n){var t=n.PlacementId,i=n.Position,a=n.BannerHeight;"bottom"===i&&a>o||e.showBannerAd(t)}))}}},{key:"hideBannerAds",value:function(){var e=this,n=wn.Ads,t=n.Enabled,i=n.BannerDisplayAdOptions;t&&i.forEach((function(n){var t=n.PlacementId;e.hideBannerAd(t)}))}},{key:"showBannerAd",value:function(e){this.inst.isAvoidBannerShowed||Ln.showBannerAdAsync(e).catch((function(e){}))}},{key:"hideBannerAd",value:function(e){Ln.hideBannerAdAsync(e).catch((function(e){}))}},{key:"canShowInterstitialAd",value:function(e){var n=wn.Ads,t=n.Enabled,i=n.InterstitialAdOptions;if(!t)return!1;var a=!1;return i.forEach((function(n){if(!a){var t=n.PlacementId;if(!e||e===t){var i=Ln.getAdStatus(Nn.INTERSTITIAL,t),o=Ln.getAdStatus(Nn.INTERSTITIAL,t+"_fallback");(i===bn.FILLED||o===bn.FILLED)&&(a=!0)}}})),Ln.canbeShowInterstitialAd(e)&&a}},{key:"canShowRewardedVideoAd",value:function(e){var n=wn.Ads,t=n.Enabled,i=n.RewardedVideoAdOptions;if(!t)return!1;var a=!1;return i.forEach((function(n){if(!a){var t=n.PlacementId;if(!e||e===t){var i=Ln.getAdStatus(Nn.REWARDED_VIDEO,t),o=Ln.getAdStatus(Nn.REWARDED_VIDEO,t+"_fallback");(i===bn.FILLED||o===bn.FILLED)&&(a=!0)}}})),a}},{key:"canShowRewardedInterstitialAd",value:function(e){var n=wn.Ads,t=n.Enabled,i=n.RewardedInterstitialAdOptions;if(!t)return!1;var a=!1;return i.forEach((function(n){if(!a){var t=n.PlacementId;if(!e||e===t){var i=Ln.getAdStatus(Nn.REWARDED_INTERSTITIAL,t),o=Ln.getAdStatus(Nn.REWARDED_INTERSTITIAL,t+"_fallback");(i===bn.FILLED||o===bn.FILLED)&&(a=!0)}}})),a}},{key:"showInterstitialAdAsync",value:(o=P((function*(e){var n=e.forLevel,t=e.includeSDK,i=e.excludeSDK,a=e.placementId;if(!this.inst.canbeShowInSDK(t,i))return!1;if(n&&wn.Gameplay.StartAdAtLevel>=n)return!1;if(!Ln.canbeShowInterstitialAd())return!1;var o=this.inst.getFirstInterstitialAdConfig(),r=Je.getVolumeMusic(),s={type:Nn.INTERSTITIAL,placementId:a||(null==o?void 0:o.PlacementId)};try{return Je.muteSound(!0),Je.setVolumeMusic(0,!0),yield this.handleShowAdAsync(s),!0}catch(e){return console.warn("showInterstitialAdAsync failed",e),!1}finally{I.resume(),Je.muteAudio(!1),Je.setVolumeMusic(r,!0),this.handleLoadAdAsync(s).catch((function(){}))}})),function(e){return o.apply(this,arguments)})},{key:"showRewardVideoAdAsync",value:(a=P((function*(e){var n=e.includeSDK,t=e.excludeSDK,i=e.placementId;if(!this.inst.canbeShowInSDK(n,t))return!1;var a=Je.getVolumeMusic(),o=this.inst.getFirstRewardedVideoAdConfig(),r={type:Nn.REWARDED_VIDEO,placementId:i||(null==o?void 0:o.PlacementId)};try{return Je.muteSound(!0),Je.setVolumeMusic(0,!0),In.showLoadingScreen(),yield this.handleLoadAdAsync(r),yield this.handleShowAdAsync(r),!0}catch(e){return console.warn("showRewardVideoAdAsync failed",e),e instanceof Object&&"code"in e&&"USER_INPUT"===e.code?In.showNotificationScreen("Sorry, no rewards!\n You have cancelled the ad.",2):In.showNotificationScreen("No ads to display.",2),!1}finally{I.resume(),In.closeLoadingScreen(),Je.muteAudio(!1),Je.setVolumeMusic(a,!0),this.handleLoadAdAsync(r).catch((function(){}))}})),function(e){return a.apply(this,arguments)})},{key:"showRewardedInterstitialAdAsync",value:(i=P((function*(e){var n=e.includeSDK,t=e.excludeSDK,i=e.placementId;if(!this.inst.canbeShowInSDK(n,t))return!1;var a=Je.getVolumeMusic(),o=this.inst.getFirstRewardedInterstitialAdConfig(),r={type:Nn.REWARDED_INTERSTITIAL,placementId:i||(null==o?void 0:o.PlacementId)};try{return Je.muteSound(!0),Je.setVolumeMusic(0,!0),yield this.handleLoadAdAsync(r),yield this.handleShowAdAsync(r),!0}catch(e){return console.warn("showRewardedInterstitialAdAsync failed",e),!1}finally{I.resume(),In.closeLoadingScreen(),Je.muteAudio(!1),Je.setVolumeMusic(a,!0),this.handleLoadAdAsync(r).catch((function(){}))}})),function(e){return i.apply(this,arguments)})},{key:"handleLoadAdAsync",value:(t=P((function*(e){var n=yield this.inst.loadMainAdAsync(e);if(!0!==n&&!0!==(yield this.inst.loadFallbackAdAsync(e)))throw n})),function(e){return t.apply(this,arguments)})},{key:"handleShowAdAsync",value:(n=P((function*(e){var n=yield this.inst.showMainAdAsync(e);if(!0!==n){if(this.isUserCancelledAdError(n))throw n;if(!0!==(yield this.inst.showFallbackAdAsync(e)))throw n}})),function(e){return n.apply(this,arguments)})},{key:"isUserCancelledAdError",value:function(e){return e instanceof Object&&"code"in e&&"USER_INPUT"===e.code}}]),e}());n._RF.pop(),n._RF.push({},"688b9uHmGxIzor34fF2fnWU","GeneralUtils",void 0);e("f",function(){function e(){D(this,e)}var n,t,i,o,r;return M(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"setBlockInput",value:function(e){var n=g("Canvas/InputBlocker");n&&(n.active=e)}},{key:"getBlockInput",value:function(){var e=g("Canvas/InputBlocker");return!!e&&e.active}},{key:"loadPrefabAsync",value:function(e){var n=a.getInfoWithPath(e,E);if(n&&null!==a.get(n.path,E)){var t=a.get(n.path,E);if(null!==t)return Promise.resolve(t)}return new Promise((function(n){a.load(e,E,(function(e,t){e&&n(null),n(t)}))}))}},{key:"loadAnimClipAsync",value:(r=P((function*(e){var n=a.getInfoWithPath(e,R);if(n&&null!==a.get(n.path,R)){var t=a.get(n.path,R);if(null!==t)return Promise.resolve(t)}return new Promise((function(n){a.load(e,R,(function(e,t){e&&n(null),n(t)}))}))})),function(e){return r.apply(this,arguments)})},{key:"loadImageSpriteFrameAsync",value:(o=P((function*(e){var n=a.getInfoWithPath(e,w);if(n&&null!==a.get(n.path,w)){var t=a.get(n.path,w);if(null!==t)return Promise.resolve(C.createWithImage(t))}return new Promise((function(n){a.load(e,w,(function(e,t){e&&n(null),n(C.createWithImage(t))}))}))})),function(e){return o.apply(this,arguments)})},{key:"loadSpriteFrameAsync",value:(i=P((function*(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=a.getInfoWithPath(e,C);if(t&&null!==a.get(t.path,C)){var i=a.get(t.path,C);if(null!==i)return i.packable=n,Promise.resolve(i)}return new Promise((function(t){a.load(e,C,(function(e,i){!e&&i?(i.packable=n,t(i)):t(null)}))}))})),function(e){return i.apply(this,arguments)})},{key:"loadSpriteFramesDirAsync",value:(t=P((function*(e){var n=a.getDirWithPath(e,C);if(n.length>0){var t,i=[],o=B(n);try{for(o.s();!(t=o.n()).done;){var r=t.value,s=a.get(r.path,C);if(!s)return this.loadSpriteFramesFromDirAsync(e);i.push(s)}}catch(e){o.e(e)}finally{o.f()}return i}return this.loadSpriteFramesFromDirAsync(e)})),function(e){return t.apply(this,arguments)})},{key:"loadSpriteFramesFromDirAsync",value:(n=P((function*(e){return new Promise((function(n){a.loadDir(e,C,(function(e,t){e&&n([]),n(t)}))}))})),function(e){return n.apply(this,arguments)})}]),e}());n._RF.pop(),n._RF.push({},"97ca9J9nzNCeIjC1l+ZT/Hm","SceneUtils",void 0);var On,Fn,Dn,Mn,Gn,Bn,Vn,Un=globalThis.game.event,Wn=GameCore.Events;e("k",function(){function e(){D(this,e)}return M(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"switchScene",value:function(e,n){Un.emit(Wn.SWITCH_SCENE,{sceneName:e,sceneData:n})}},{key:"preloadScene",value:function(e){Un.emit(Wn.PRELOAD_SCENE,{sceneName:e})}},{key:"markIsTestScene",value:function(e){Un.emit(Wn.MARK_IS_TEST_SCENE,{sceneName:e})}},{key:"preloadDashboardScene",value:function(){this.preloadScene(un.DASHBOARD_SCENE)}},{key:"switchToDashboardScene",value:function(e){this.switchScene(un.DASHBOARD_SCENE,e)}},{key:"preloadGameScene",value:function(){this.preloadScene(un.GAME_SCENE)}},{key:"switchToGameScene",value:function(e){Je.stopAllSounds(),Je.turnOffMusic(),this.switchScene(un.GAME_SCENE,e)}},{key:"switchToEndlessScene",value:function(e){Je.stopAllSounds(),Je.turnOffMusic(),this.switchScene(un.ENDLESS_SCENE,e)}}]),e}());n._RF.pop(),n._RF.push({},"acb0egHPppFmYJalVNrDDv/","BaseScreen",void 0);var xn,qn,zn,Hn,Kn,Yn=r.ccclass,jn=r.property,Zn=r.disallowMultiple,Jn=GameCore.Events,Xn=globalThis.game.event;e("B",(On=Yn("BaseScreen"),Fn=jn(N),Dn=jn(N),On(Mn=Zn((Bn=V((Gn=function(e){O(t,e);var n=F(t);function t(){var e;D(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),U(e,"container",Bn,W(e)),U(e,"backgroundMask",Vn,W(e)),e.data={},e}return M(t,[{key:"__preload",value:function(){this.animation=this.getComponent(y),this.validateRequiredComponents(),this.initializeNodes()}},{key:"initializeNodes",value:function(){var e=this.getMaskOpacity(),n=this.getContainerOpacity();e&&n&&(e.opacity=0,n.opacity=0)}},{key:"validateRequiredComponents",value:function(){ce.lazyValidateProperties(this)}},{key:"open",value:function(e){e&&(this.data=e),this.show(),this.runAnimation("OpenScreen")}},{key:"close",value:function(){var e=this;this.node.active&&(this.animation.once(y.EventType.FINISHED,(function(){Xn.emit(Jn.CLOSED_SCREEN,{screenName:e.node.name}),e.hide()})),this.runAnimation("CloseScreen"))}},{key:"runAnimation",value:function(e){if(!this.isAnimationExist(e))throw new Error("".concat(this.node.name,": Animation component must have ").concat(e," clip"));this.animation.play(e)}},{key:"isAnimationExist",value:function(e){return this.animation.clips.some((function(n){return!(!n||n.name!==e)}))}},{key:"getMaskOpacity",value:function(){var e=this.backgroundMask.getComponent(S);return e||(console.warn("BaseScreen: maskOpacity not found"),null)}},{key:"getContainerOpacity",value:function(){var e=this.container.getComponent(S);return e||(console.warn("BaseScreen: containerOpacity not found"),null)}},{key:"show",value:function(){var e=this.node.getComponent(b);if(e){e.enabled=!0,e.updateAlignment();var n,t=this.node.getComponentsInChildren(b),i=B(t);try{for(i.s();!(n=i.n()).done;){n.value.updateAlignment()}}catch(e){i.e(e)}finally{i.f()}}}},{key:"hide",value:function(){this.node.setWorldPosition(new T(-1e3,-1e3,0));var e=this.node.getComponent(b);e&&(e.enabled=!1)}}]),t}(c)).prototype,"container",[Fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vn=V(Gn.prototype,"backgroundMask",[Dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mn=Gn))||Mn)||Mn));n._RF.pop(),n._RF.push({},"d562cAXnG1PQ6vXfOEq2wVu","Screens",void 0);var Qn=r.ccclass,$n=r.property;e("s",(xn=Qn("Screens"),qn=$n({type:L(qe)}),xn((Kn=V((Hn=function(e){O(t,e);var n=F(t);function t(){var e;D(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),U(e,"screenKeys",Kn,W(e)),e}return M(t)}(c)).prototype,"screenKeys",[qn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zn=Hn))||zn));n._RF.pop()}}}));

} }; });