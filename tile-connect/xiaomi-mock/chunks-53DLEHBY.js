var Gt=Object.create,T=Object.defineProperty,jt=Object.defineProperties,me=Object.getOwnPropertyDescriptor,Kt=Object.getOwnPropertyDescriptors,Bt=Object.getOwnPropertyNames,N=Object.getOwnPropertySymbols,Ft=Object.getPrototypeOf,$=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable,Ht=Math.pow,ge=(e,t,n)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||={})$.call(t,n)&&ge(e,n,t[n]);if(N)for(var n of N(t))fe.call(t,n)&&ge(e,n,t[n]);return e},zt=(e,t)=>jt(e,Kt(t)),Vt=(e,t)=>{var n={};for(var a in e)$.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&N)for(var a of N(e))t.indexOf(a)<0&&fe.call(e,a)&&(n[a]=e[a]);return n},l=(e,t)=>()=>(e&&(t=e(e=0)),t),Wt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),$t=(e,t)=>{for(var n in t)T(e,n,{get:t[n],enumerable:!0})},qt=(e,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Bt(t))!$.call(e,i)&&i!==n&&T(e,i,{get:()=>t[i],enumerable:!(a=me(t,i))||a.enumerable});return e},Xt=(e,t,n)=>(n=e!=null?Gt(Ft(e)):{},qt(t||!e||!e.__esModule?T(n,"default",{value:e,enumerable:!0}):n,e)),Yt=(e,t,n,a)=>{for(var i=a>1?void 0:a?me(t,n):t,r=e.length-1,s;r>=0;r--)(s=e[r])&&(i=(a?s(t,n,i):s(i))||i);return a&&i&&T(t,n,i),i},we,d=l(()=>{we={AppId:"386123013553237",AppDescription:"",ApiHost:"https://igs-leaderboard.suncs.app",OtherHost:"https://igs-leaderboard.suncs.app",Ads:{Enabled:!0,PreloadAds:!0,NotifyPlayerBeforeShow:!1,ShowAdOnLoad:{Enabled:!1,DelaySeconds:0,PlacementId:"interstitial_demo"},DegradationTracking:{ResetTimeMinutes:5,MaxFailedAttempts:8},AdServiceConfigs:{AdSense:{Enabled:!0,UsePreload:!0,DataAdClient:"ca-pub-3423367744172781",DataAdChannel:"",DataAdBreakTest:!1,DataAdFrequencyHint:30},Savana:{Enabled:!1,UsePreload:!1,DataAdClient:"ca-pub-1234567890",DataAdChannel:"1234567890",DataAdBreakTest:!1,DataAdFrequencyHint:45,BannerAdSlotId:"1234567890"},AppLovin:{Enabled:!1,UsePreload:!1}},InterstitialAdOptions:[{AdService:"adsense",PlacementId:"interstitial_xiaomi",SecondsFirstTime:30,SecondsBetweenAds:45}],RewardedVideoAdOptions:[{AdService:"adsense",PlacementId:"rewarded_xiaomi",SecondsFirstTime:0,SecondsBetweenAds:0}],RewardedInterstitialAdOptions:[{AdService:"adsense",PlacementId:"rewarded_interstitial_xiaomi",SecondsFirstTime:0,SecondsBetweenAds:0}],BannerDisplayAdOptions:[{AdService:"adsense",PlacementId:"6662285344",Platform:"ALL",Position:"bottom",BannerHeight:51,SecondsReload:60}]},Languages:{DetectPlayerLocale:!0},GameSDKOptions:{AllowWithoutSDK:!0,MSGames:{LoginOnStart:!1,MaxLoginAttemptsPerDay:1},Yandex:{LoginOnStart:!1,MaxLoginAttemptsPerDay:1},TranssionH5:{GaId:"G-XXXXXXXXXX"}},Core:{InitAsync:!0,AverageLoadTime:3,StartSDKAfterLoadGame:!0,FastCheckTournamentContext:!0},GameEngine:{ForceDesktopDPR:2,AutoResizeCanvas:!0,PreferredFPS:{Mobile:60,Desktop:60},DynamicAtlas:{IOS:{Enabled:!0,AutoAtlasSize:!1,MaxAtlasCount:2,MaxAtlasSize:4096,MaxFrameSize:2048},Android:{Enabled:!0,AutoAtlasSize:!1,MaxAtlasCount:2,MaxAtlasSize:4096,MaxFrameSize:2048},Desktop:{Enabled:!0,AutoAtlasSize:!1,MaxAtlasCount:2,MaxAtlasSize:4096,MaxFrameSize:2048},UsePowerOfTwo:!1,TextureBleeding:!0,AllowNonePackable:!1,TextureAtlasOptimize:!0,OnlyOptimizeWhenRenderTooLong:!0},DynamicAssets:{Enabled:!0,Debug:!1,Resolution:{Adjust:2,Original:2},Compression:{PNG:{quality:50,dither:.6,palette:!0,compressionLevel:8},JPEG:{quality:50,mozjpeg:!0},WEBP:{quality:35,lossless:!1,alphaQuality:40,smartSubsample:!0,preset:"drawing"}},IgnoreFiles:[]},HybridFileCache:{Enabled:!0,BuildMode:{Enabled:!0,SupportedExtensions:[".json",".cconb"]},PreviewMode:{Enabled:!1,CacheScene:!1,CachePrefab:!1,CacheUuidExtension:!1,SupportedExtensions:[".json",".cconb"]}}},Gameplay:{StartAdAtLevel:1,MaxRescueCount:1,Tutorial:{Enabled:!0,ForceUseTutorial:!1}},Firebase:{Enabled:!1,Options:{AppId:"",ApiKey:"",ProjectId:"",AuthDomain:"",StorageBucket:"",MeasurementId:"",MessagingSenderId:""},Services:{Analytics:{Enabled:!1},Performance:{Enabled:!1},RemoteConfig:{Enabled:!1}}},Analytics:{GoogleAnalytics:{Enabled:!0,ConsoleLog:!1},ClarityAnalytics:{Enabled:!1,ConsoleLog:!1,ScreenshotCanvas:{Interval:1500,ByEvent:["APP_READY","PAGE_VIEW","BUTTON_CLICK","AD_SHOWING","LEVEL_START","LEVEL_END"]}},FirebaseAnalytics:{Enabled:!1,ConsoleLog:!1},FacebookAnalytics:{Prefix:"fba",Enabled:!1,ConsoleLog:!1}},PerformanceMonitor:{CoreFlows:!0,EngineFlows:!0,FpsTracking:{Enabled:!0,TrackingDuration:60,TrackingInterval:10},LoadResources:!0},RemoteConfig:{Enabled:!1,Options:{ForceReloadGame:!1,FetchIntervalInSeconds:300},ServiceType:"mockup",DefaultConfigId:"default",SupportedDataTypes:["Ludex","Gameplay"],MockupConfig:{Enabled:!0},SelfHostedConfig:{Enabled:!1,AppId:"",ApiKey:"",ApiUrl:""}},Network:{MaximumRequest:6,Timeout:15e3,Retries:3},Leaderboards:{LeaderboardList:[]},Notification:{Enabled:!1,ApiUrl:"https://notifications.sunstudio.io"},DailyRewards:{MaxDays:7,MockTime:0,CheckInterrupt:!1},Mockup:{Ads:{Enabled:!1,ErrorRate:5,GiphyApiKey:"VmjHIRsfrwCAssDS4mDo9DoImxJm1lLM",SafeAreaBottom:0},Match:{Enabled:!1,ErrorRate:5,PlayerInfo:{Id:"player-mock",Name:"Player Mock",Photo:"",Signature:""},OpponentInfo:{Id:"opponent-mock",Name:"Opponent Mock",Photo:"",Signature:""}},GameSDK:{SlowAPI:{Enabled:!1,ErrorRate:5,StartDelay:1e3,InitialDelay:1e3,PlayerDataDelay:1e3},Context:{Enabled:!1},Player:{SubscribeBot:{Enabled:!1,CanSubscribeBot:!0},ConnectedPlayers:{Enabled:!1,ErrorRate:5,RandomDelayMs:1e3,NumOfPlayers:3}},AddShortcut:{Enabled:!1},Tournament:{Enabled:!1,ErrorRates:5,RandomDelayMs:1e3,NumOfTournament:{Normal:10,HostPage:2}},Payments:{Enabled:!1,ErrorRates:5,RandomDelayMs:1e3,Products:[]}},Profile:{Enabled:!1,ErrorRate:5,RandomDelayMs:1e3,AvatarUrl:"https://picsum.photos/seed/%1/300/300",RandomNameApiKey:"a1f7164dc9d2468b953aef67b0a19355"},Leaderboards:{Enabled:!1,MinScore:10,MaxScore:100,ErrorRate:5,NumOfLeaders:{Min:10,Max:50},DefaultLimit:60,RandomDelayMs:1e3},LoadingScreen:{Enabled:!1}},Debugger:{Console:{Enabled:!1},Profiler:{Enabled:!1},EventLogging:{Enabled:!1},CanvasRecorder:{Enabled:!1,OnlyCore:!1,PanelExpanded:!1,Options:{Type:"png",Quality:.85,RecordFps:60,SyncFps:!0}},MonitorError:{Enabled:!0,ApiKey:"25cc3278b962baf4dfeefd23e01fe2ba",Service:"BugSnag",TrackUser:!1,TrackPerformance:!1,FilterErrors:{Codes:{Accepted:[],Ignored:["USER_INPUT","NETWORK_FAILURE"]},Messages:{Accepted:[],Ignored:["Load image failed"]}},Feedback:!1},ListPlayerDevIds:["guest-007"],InputRecorder:{Enabled:!1,Logging:!0,PlaybackDelay:0,TimeScale:1,UseVisualizer:!0,SkipInactivity:{Enabled:!0,MinTime:3e3},MouseEvents:{mousedown:!0,mouseup:!0,mousemove:!0,mouseenter:!0,mouseleave:!0,mouseout:!0,mouseover:!0}}},AdaptivePerformance:{Enabled:!0,Quality:{Min:1,Max:2,AdjustStep:.1},Options:{FpsThreshold:48,CheckInterval:2e3,AutoUpgradeQuality:!0,OnlyUpdateWhenSwitchScene:!1},TrackingSceneNames:["GameScene"]},FrameCapture:{Enabled:!1,Options:{Quality:.85,RenderType:"jpeg",UseBlobIfPossible:!0,FallbackWithWideframe:"Default"},WideframeConfigs:{ShareScore:{Width:1500,Height:2e3,Wideframe:"./public/wideframes/share-score.png",RenderOptions:{}},ShareLeaderboard:{Width:1500,Height:2e3,Wideframe:"./public/wideframes/share-leaderboard.png",RenderOptions:{}},UpdateChallenge:{Width:952,Height:492,Wideframe:"./public/wideframes/update-challenge.png",RenderOptions:{}},ResultChallenge:{Width:952,Height:492,Wideframe:"./public/wideframes/result-challenge.png",RenderOptions:{}}}}}}),xe,u=l(()=>{xe={AllowWithoutSDK:!0}}),G,be,h=l(()=>{"use strict";G={},be=window.addEventListener.bind(window),window.addEventListener=(e,t,n)=>{G[e]||(G[e]=[]),G[e].push(t),be(e,t,n)}});function Qt(){let e=["error","unhandledrejection"],t=window.__listeners??[];for(let n of e)t[n]?.[0]&&window.removeEventListener(n,t[n].shift())}function Ie(e){window.__errorQueue&&window.__errorQueue.push(typeof e=="string"?new Error(e):e)}function Jt(){window.addEventListener("error",e=>{Ie(e.error)}),window.addEventListener("unhandledrejection",e=>{Ie(e.reason)})}var p=l(()=>{"use strict";window.__errorQueue=[],window.onload=()=>{Qt(),Jt()}}),ve,j,Se,Ae,q,x,Pe,M,De,Ee,X,Y,_e,Oe,Q,y=l(()=>{"use strict";ve=()=>{let e=setInterval(()=>{if(window.__sdkLoadingCount>=70){clearInterval(e);return}GameSDK.setLoadingProgress(window.__sdkLoadingCount++)},30)},j=null,Se=()=>{j=setTimeout(()=>{window.__sdkLoadingCount>0||GameSDK.extra.displayWarnLoading?.(!0)},8e3)},Ae=()=>{j!==null&&clearTimeout(j),GameSDK.extra.displayWarnLoading?.(!1)},q=async()=>{Se();try{await GameSDK.initializeAsync()}catch{setTimeout(q,2e3);return}Ae(),window.__sdkLoadingCount=1,GameSDK.setLoadingProgress(window.__sdkLoadingCount),ve(),Pe(),window.__sdkInitiated=!0},x={},Pe=async()=>{try{let e="G-0NDF7HM7HY";if(!e)return;let t=e.split(" ");t.length===0&&t.push("G-3ZG4F3ZNXH");let n=t[0];if(!n||n==="null")return;let a="no_entry";try{a=await GameSDK.getEntryPointAsync()??a}catch{}let i=document.createElement("script");i.async=!0,i.src=`https://www.googletagmanager.com/gtag/js?id=${n}`,document.head.appendChild(i);let r=GameSDK.player.getID();if(!r)throw new Error("User ID is undefined.");De(r,a,t)}catch(e){M(e)}finally{X()}},M=e=>{let{analytics:t}=codex;t?.event("app_crash_handle",{error:e});let n=e instanceof Error?e:new Error(String(e));window.__errorQueue?.push(n)},De=(e,t,n)=>{try{window.focus();let a=GameSDK.getEntryPointData()||{},{fbig_ad_id:i,fbig_adset_id:r,fbig_campaign_id:s,fb_instant_game_adset_id:o,fb_instant_game_ad_id:c,fb_instant_game_campaign_id:b}=a,I=i||c,D=r||o,S=s||b;window.gtag("js",new Date),window.gtag("set","client_id",`100.${e}`),window.gtag("set","user_id",e),window.gtag("set","send_page_view",!1);let v=14;for(let V of n)window.gtag("config",V,{cookie_flags:"SameSite=NoneSecure",build:v,medium:t,campaign:S,groups:"GA"});let L=Ludex.Utils.Browser.getQueryParams().entry_point||t;x.user_id=e,x.player_id=e,x.app_version=v,x.traffic_source=t,x.traffic_source_detail=L,x.ad_id=I,x.adset_id=D,x.campaign_id=S,window.gtag("set","user_properties",x)}catch(a){M(a)}},Ee=30,X=(e=0)=>{if(!(e>=Ee)){if(!codex?.event){setTimeout(()=>X(e+1),50);return}Y(),Oe()}},Y=()=>{let{analytics:e,event:t}=codex;if(!e||!t){setTimeout(()=>Y(),50);return}let{Events:n,Plugins:{Analytics:{Events:{APP_LAUNCH:a,APP_INITIALIZED:i}}}}=Ludex;e.event(a),t.catchUp(n.GAME_SDK_READY,()=>{e.event(i)})},_e=()=>{try{let{player:e}=codex,t=e.getBestScore(),n=e.getGameData()?.coins??0,a=e.isFirstSession();x.new_user=a,x.coins=n,x.score=t;let i=GameSDK.getEntryPointData(),{content:r,notif_id:s}=i||{};(r||s)&&(x.traffic_source_detail=r??`notif_${s}`),window.gtag("set","user_properties",x)}catch(e){M(e)}},Oe=()=>{try{if(!GameSDK.player.getID())return;codex.event.catchUp(Ludex.Events.PLAYER_INFO_LOADED,_e)}catch(e){M(e)}},Q=()=>{let{GameSDK:e}=window;if(!e){setTimeout(Q,50);return}q()},Q()});function Zt(){let e=arguments;e[0]==="event"&&(typeof e[2]!="object"&&(e[2]={}),e[2].build=14,e[2].send_to="GA",e[2].extend_session=1),window.dataLayer.push(e)}function en(){try{let e="G-0NDF7HM7HY";if(!e)return;let t=e.split(" ")[0],n=document.createElement("link");n.rel="preload",n.href=`https://www.googletagmanager.com/gtag/js?id=${t}`,n.as="script",document.head.appendChild(n)}catch{}}var m=l(()=>{"use strict";window.dataLayer=window.dataLayer||[],window.gtag=Zt,en()}),_,f=l(()=>{"use strict";_=window.performance||{},(typeof _.mark!="function"||typeof _.measure!="function")&&(_={mark:()=>{},measure:()=>{}}),_.mark("load-start"),window.__perf=_}),Le,J,Te=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),Le=class{adapter;extra;currentContextID=null;currentContextType="SOLO";currentContextPlayers=[];s=null;e=null;o=null;m;v=[];d;constructor(e){this.adapter=e,this.extra=e.extra}setCurrentContextId(e){this.f(e),this.currentContextID=e,this.currentContextType="THREAD"}initContextInfo(e,t){let{Array:n,String:a}=Ludex.Utils;this.m={},this.d={},this.v=n.fillWith(10,()=>a.generateObjectId()),!(!e||!t)&&(["SOLO","THREAD","POST","GROUP"].indexOf(t)<0||(this.currentContextID=e,this.currentContextType=t))}getID(){return this.currentContextID}getType(){return this.currentContextType}async q(){if(this.o)return;let e=(await import("./chunks-W676US7S.js")).default;typeof e=="function"&&(this.o=new e,await this.o.setupTemplate())}async X(){if(this.s)return;let e=(await import("./chunks-W676US7S.js")).default;typeof e=="function"&&(this.s=new e,await this.s.setupTemplate())}async Y(){if(this.e)return;let e=(await import("./chunks-W676US7S.js")).default;typeof e=="function"&&(this.e=new e,await this.e.setupTemplate())}async switchAsync(e,t=!1){if(this.extra.checkPopupShown(),await this.extra.awaitRandomDelay(),this.validateSwitchAsyncContextId(e),e==="SOLO"&&t){this.currentContextID=null,this.currentContextType="SOLO",this.g([]);return}await this.q(),await new Promise((a,i)=>{this.o||this.adapter.extra.exceptionUnsupported(),this.o.onYes(this.i(a)),this.o.onNo(this.r(i)),this.o.show(e),this.extra.isPopupShown=!0}),this.currentContextID=e,this.currentContextType="THREAD",this.U(e,10);let n=this.d[e].map(a=>this.S(a));this.g(n)}async chooseAsync(e){this.extra.checkPopupShown(),await this.extra.awaitRandomDelay(),await this.X(),await new Promise((i,r)=>{this.s||this.adapter.extra.exceptionUnsupported(),this.s.onYes(this.i(i)),this.s.onNo(this.r(r)),this.s.show(),this.extra.isPopupShown=!0});let t=Math.floor(Math.random()*this.v.length),n=this.v[t];this.f(n),this.currentContextID=n,this.currentContextType="THREAD",this.U(n,2);let a=this.d[n].map(i=>this.S(i));this.g(a)}async createAsync(e){if(this.extra.checkPopupShown(),await this.extra.awaitRandomDelay(),await this.Q(e),await this.Y(),await new Promise((a,i)=>{this.e||this.adapter.extra.exceptionUnsupported(),this.e.onYes(this.i(a)),this.e.onNo(this.r(i)),this.e.show(e),this.extra.isPopupShown=!0}),!this.m[e]){let{Utils:{String:a}}=Ludex;this.m[e]=a.generateObjectId()}let t=this.m[e];this.f(t),this.currentContextID=t,this.currentContextType="THREAD";let n=this.S(e);this.g([n])}i=e=>()=>{this.extra.isPopupShown=!1,e(!0)};r=e=>()=>{this.extra.isPopupShown=!1;try{this.extra.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}};async getPlayersAsync(){return await this.extra.awaitRandomDelay(),this.currentContextPlayers}U(e,t){if(!this.d[e]){let{Array:n,String:a}=Ludex.Utils,i=Math.floor(Math.random()*t),r=n.fillWith(i,()=>a.generateObjectId());this.d[e]=r}return this.d[e]}S(e){return{getID:()=>e,getName:()=>`Player ${e}`,getPhoto:()=>""}}g(e){if(this.currentContextType==="SOLO"){this.currentContextPlayers=[];return}this.currentContextPlayers=e}f(e){this.currentContextID===e&&this.extra.exceptionSameContext()}async Q(e){if((!e||Array.isArray(e))&&this.extra.exceptionClientUnsupportedOperation("Client does not support no player IDS or multiple player IDs yet"),!Ludex.Utils.Valid.isString(e)){let n=`Array of type String contained a value of another type: ${e}`;this.extra.exceptionInvalidParam(n)}if(e===GameSDK.player.getID()&&this.extra.exceptionInvalidParam("At least one player id besides the current player must be provided."),(await GameSDK.player.getConnectedPlayersAsync()).some(n=>n.getID()===e))return;let t=`Provided ID ${e} is not a connected player of the current player.`;this.extra.exceptionInvalidParam(t)}validateSwitchAsyncContextId(e){this.f(e),!Ludex.Utils.Valid.isString(e)&&this.extra.exceptionClientUnsupportedOperation("Client requires update to support this operation")}},J=Le}),Ce,tn=l(()=>{Ce="./assets/async-popup.html"}),Me,nn=l(()=>{Me="./assets/loading.html"}),ke,k,Z,Ue,Re,Ne=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),tn(),nn(),ke=e=>!!document.querySelector(e),k={},Z=async e=>{let{template:t,selector:n}=e;if(t in k)return await k[t],document.querySelector(n);let a=(await fetch(t)).text();k[t]=a;let i=await k[t];return ke(n)||document.body.insertAdjacentHTML("beforeend",i),document.querySelector(n)},Ue=async()=>Z({template:Ce,selector:"#async-popup-container"}),Re=async()=>Z({template:Me,selector:"#loading-screen"})}),Ge,je,Ke,an=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),Ne(),je=class{w=0;a=null;constructor(){this.J()}async J(){this.a=await Re(),this.a&&(this.a.setAttribute("data-clarity-unmask","true"),this.Z())}Z(){if(!this.a)return;let e="logo-128x128.png",t=this.a.querySelector("#lds-game-icon");t&&t instanceof HTMLElement&&(t.style.backgroundImage=`url(${e})`,t.style.backgroundColor="transparent");let n=this.a.querySelector("#lds-game-icon-blur");n&&n instanceof HTMLElement&&(n.style.backgroundImage=`url(${e})`,n.style.backgroundColor="transparent")}setLoadingProgress(e){if(this.w>=e)return;this.w=e,this.w>=100&&(this.w=100);let t=document.getElementById("lds-percent");t&&(t.innerHTML=`${e}`)}displayWarnLoading(e){let t=document.getElementById("lds-warn-text");t&&(clearTimeout(Ge),e?(t.style.display="block",t.offsetWidth,t.style.opacity="0.8"):(t.style.opacity="0",Ge=setTimeout(()=>{t.style.display="none"},300)))}removeLoadingElement(){this.a&&(this.a.style.opacity="0",setTimeout(()=>{this.a?.remove()},300))}},Ke=je}),Be,Fe,rn=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),Be=class extends Error{code;constructor(e,t){super(t),this.code=e}},Fe=Be}),He,ze,ee,Ve=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),an(),rn(),He=1e4,ze=class{adapter;isGuest=!1;isPopupShown=!1;loadingElement=null;constructor(e){this.adapter=e}isRestricted(){return!1}async subscribeBotAsync(){if(!await this.adapter.player.canSubscribeBotAsync())return!1;let{analytics:e}=globalThis.codex,{Plugins:{Analytics:{Events:{BOT_SUBSCRIBE:t,BOT_SUBSCRIBE_POPUP:n}}}}=Ludex;e.event(n);try{return await this.R(),await this.adapter.player.subscribeBotAsync(),e.event(t,{success:!0}),!0}catch{return e.event(t,{success:!1}),!1}}async checkAndCreateShortcutAsync(){if(!await this.adapter.canCreateShortcutAsync())return;let{analytics:e}=globalThis.codex,{Plugins:{Analytics:{Events:{SHORTCUT_CREATE:t,SHORTCUT_CREATE_POPUP:n}}}}=Ludex;e.event(n);try{await this.R(),await this.adapter.createShortcutAsync(),e.event(t,{success:!0})}catch{e.event(t,{success:!1})}}R(){let{Utils:{Valid:e}}=Ludex;return e.isValueChangeAsync(()=>window.__sdkInitiated,!0,{timeout:1e4,checkInterval:100})}async waitLudexReadyAsync(){let e=0;return new Promise(t=>{let n=setInterval(()=>{if("Ludex"in window){clearInterval(n),t();return}e+=10,e>He&&(e=0)},10)})}createLoadingElement(){this.loadingElement||(this.loadingElement=new Ke)}setLoadingElementProgress(e){this.loadingElement&&this.loadingElement.setLoadingProgress(e)}displayWarnLoading(e){this.loadingElement&&this.loadingElement.displayWarnLoading(e)}destroyLoadingElement(){this.loadingElement&&this.loadingElement.removeLoadingElement()}checkPopupShown(){this.isPopupShown&&this.exceptionPendingRequest("Please wait for the popup to close")}async delayInitialAsync(){let{Utils:{Time:e},Configs:{Mockup:{GameSDK:{SlowAPI:t}}}}=Ludex;!t.Enabled||t.InitialDelay<=0||await e.sleepAsync(t.InitialDelay)}async delayStartAsync(){let{Configs:{Mockup:{GameSDK:{SlowAPI:e}}},Utils:{Time:t}}=Ludex;!e.Enabled||e.StartDelay<=0||await t.sleepAsync(e.StartDelay)}async delayPlayerDataAsync(){let{Configs:{Mockup:{GameSDK:{SlowAPI:e}}},Utils:{Time:t}}=Ludex;!e.Enabled||e.PlayerDataDelay<=0||await t.sleepAsync(e.PlayerDataDelay)}awaitRandomDelay(e=1e3){let{Utils:{Time:t}}=Ludex;return t.sleepAsync(Math.random()*e)}randomException(e){let t=Math.floor(Math.random()*e.length),n=e[t];this[`exception${n}`]()}getErrorMessage(e){let{Valid:t,Object:n}=Ludex.Utils;return!n.hasOwn(e,"message")||!t.isString(e.message)?null:e.message}t(e,t){throw new Fe(e,t)}exceptionUserInput(e){this.t("USER_INPUT",e)}exceptionUnsupported(){this.t("UNSUPPORTED","Unsupported method")}exceptionInvalidParam(e){this.t("INVALID_PARAM",e)}exceptionPendingRequest(e){this.t("PENDING_REQUEST",e)}exceptionMethodNotImplemented(){this.t("METHOD_NOT_IMPLEMENTED","Method not implemented")}exceptionTournamentNotFound(e){this.t("TOURNAMENT_NOT_FOUND",e)}exceptionSameContext(){this.t("SAME_CONTEXT","Must specify a context other than the current one.")}exceptionInvalidOperation(e){this.t("INVALID_OPERATION",e)}exceptionNetworkFailure(e="Request failed to be processed"){this.t("NETWORK_FAILURE",e)}exceptionUnknown(e){this.t("UNKNOWN",e)}exceptionClientUnsupportedOperation(e){this.t("CLIENT_UNSUPPORTED_OPERATION",e)}exceptionRateLimited(e){this.t("RATE_LIMITED",e)}},ee=ze}),te,ne,We,ae,$e=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),te="Tile Connect".replace(/ /g,"-"),ne="https://picsum.photos/seed/%1/300/300",We=class{adapter;extra;defaultPlayerInfo;currentPlayerInfo;infoKey=`${te}_PlayerInfo`;dataKey=`${te}_PlayerData`;u=null;b=null;constructor(e){this.adapter=e,this.extra=e.extra,this.initDefaultPlayerInfo()}initDefaultPlayerInfo(){let e="guest-007";this.defaultPlayerInfo={playerId:e,playerName:"Guest",playerPhoto:ne.replace("%1",e)},this.extra.isGuest=!0,this.currentPlayerInfo=C({},this.defaultPlayerInfo)}initPlayerInfo(e){this.updateCurrentPlayerInfo(e);let{Utils:{Browser:t}}=Ludex;t.writeLocalStorage(this.infoKey,this.currentPlayerInfo)}async canSubscribeBotAsync(){return await this.N(),this.u||this.extra.exceptionUnsupported(),this.u.canSubscribeBotAsync()}async subscribeBotAsync(){return await this.N(),this.u||this.extra.exceptionUnsupported(),this.u.subscribeBotAsync()}getID(){return this.currentPlayerInfo.playerId}getName(){return this.currentPlayerInfo.playerName}getPhoto(){return this.currentPlayerInfo.playerPhoto}async getDataAsync(e){if(e.length<1)return{};await this.extra.delayPlayerDataAsync();let{Utils:{Browser:t,Valid:n,Object:a}}=Ludex,i=t.getLocalStorage(this.dataKey);if(!n.isObject(i))return{};let r={};for(let s of e)a.hasOwn(i,s)&&(r[s]=i[s]);return r}async setDataAsync(e){await this.extra.delayPlayerDataAsync();let{Utils:{Browser:t}}=Ludex;t.writeLocalStorage(this.dataKey,e)}async getSignedPlayerInfoAsync(){return{getPlayerID:()=>this.getID()??"",getSignature:this.ee}}async getConnectedPlayersAsync(){return await this.te(),this.b||this.extra.exceptionUnsupported(),this.b.getConnectedPlayersAsync()}updateCurrentPlayerInfo(e){let{Utils:{Browser:t,Valid:n,Object:a,String:i}}=Ludex,r=e??"";if(this.extra.isGuest){let o=t.getLocalStorage(this.infoKey);n.isObject(o)&&a.hasOwn(o,"playerId")&&n.isString(o.playerId)&&(r=o.playerId)}n.isEmpty(r)&&(r=i.generateObjectId());let s=this.getName();if(n.isEmpty(s)){let{language:o}=codex;s=o.getText("core.nameless")??"Nameless"}this.currentPlayerInfo.playerId=r,this.currentPlayerInfo.playerName=s,this.currentPlayerInfo.playerPhoto=ne.replace("%1",r),this.ne(r)}ae(){let{Match:e}=Ludex.Configs.Mockup;return e.Enabled?e.PlayerInfo:null}ie(){let{Match:e}=Ludex.Configs.Mockup;return e.Enabled?e.OpponentInfo:null}ne(e){let t=this.ie();e!==t?.Id&&(t=this.ae()),t&&(this.currentPlayerInfo.playerId=t.Id,t.Name&&(this.currentPlayerInfo.playerName=t.Name),t.Photo&&(this.currentPlayerInfo.playerPhoto=t.Photo))}ee=()=>{let e=this.re();return Ludex.Utils.Valid.isString(e)?e:"default_token"};re(){let{Configs:{Mockup:{Match:e}}}=Ludex,t=e.PlayerInfo.Id===this.getID(),n=e.OpponentInfo.Id===this.getID();return t?e.PlayerInfo.Signature:n?e.OpponentInfo.Signature:null}async N(){if(this.u)return;let e=(await import("./chunks-W676US7S.js")).default;typeof e=="function"&&(this.u=new e(this.adapter))}async te(){if(this.b)return;let e=(await import("./chunks-W676US7S.js")).default;typeof e=="function"&&(this.b=new e(this.extra))}},ae=We}),qe,Xe,sn=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),qe=class{id;A;P;D;E;_;constructor(e,t,n=!1){let{config:a,data:i}=t;this.id=e,this.A=a.title,this.P=`0123${this.id}`,this.D=JSON.stringify(i??{}),this.E=a.endTime??this.se(),this._=n?"PAGE_HOSTED":"DEFAULT"}se(){return Math.round((Date.now()+1e3*60*60*24*7)/1e3)}getID(){return this.id}getTitle(){return this.A}getPayload(){return this.D}getEndTime(){return this.E}getContextID(){return this.P}getTournamentType(){return this._}toObject(){return{id:this.id,title:this.A,payload:this.D,endTime:this.E,contextId:this.P,tournamentType:this._}}},Xe=qe}),O,Ye,Qe,Je,Ze,et,ie,K,tt,re,nt=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),Te(),sn(),O=["Unsupported","NetworkFailure","PendingRequest","ClientUnsupportedOperation"],Ye=[...O,"InvalidParam","UserInput"],Qe=[...O,"InvalidOperation","UserInput"],Je=[...O,"InvalidParam","UserInput"],Ze=[...O,"InvalidParam","UserInput"],et=[...O,"NetworkFailure"],ie="TournamentsDataMockKey",K="TournamentLeadersMockKey",tt=class{adapter;extra;context;l=null;e=null;constructor(e){this.adapter=e,this.extra=e.extra,this.context=e.context}async initTournamentInfoAsync(e){let{Configs:{Mockup:{GameSDK:{Tournament:{Enabled:t}}}}}=Ludex;t&&(await this.createMockTournamentsData(),e&&await this.oe(e))}oe=async e=>{this.G(e)&&await this.joinAsync(e)};async createMockTournamentsData(){let{Utils:{Object:e},Configs:{Mockup:{GameSDK:{Tournament:{Enabled:t,NumOfTournament:n}}}}}=Ludex,{Normal:a,HostPage:i}=n;if(!t)return;let r=this.p(),s=e.vals(r),o=this.le(s),c=o.filter(W=>W.tournamentType==="DEFAULT"),b=o.filter(W=>W.tournamentType==="PAGE_HOSTED"),{length:I}=c,{length:D}=b,S=a-I,v=i-D,L=this.ce(S),V=this.de(v);await Promise.all([...L,...V])}le(e){let t=Date.now()/1e3,n=e.filter(i=>i.endTime>t),a={};for(let i of n)a[i.id]=i;return this.j(a),n}ce(e){let{Utils:{String:t,Array:n,Number:a},Configs:{Mockup:{GameSDK:{Tournament:{ExtraPlayerTournamentPayload:i}}}}}=Ludex,{leaderboard:r}=codex,s=GameSDK.player.getID(),o=GameSDK.player.getName();return n.length(e).map(async()=>{let c=`${o}'s Tournament ${t.generateObjectId()}`,b=await r.createLeaderboardAsync({name:c}),I=this.O({initialScore:0,config:{title:c,tournamentTitle:c},data:C({playerId:s,playerName:o,leaderboardId:b},i)}).getID().toString();if(this.I(I))return;let D=a.random(2),S=codex.player.getConnectedPlayerIds(D,0).map(v=>({playerId:v,score:a.random(4)}));S.sort((v,L)=>v.score-L.score),this.L(I,S)})}de(e){let{Utils:{String:t,Array:n,Number:a},Configs:{Mockup:{GameSDK:{Tournament:{ExtraGlobalTournamentPayload:i}}}}}=Ludex,{leaderboard:r}=codex;return n.length(e).map(async()=>{let s=t.generateObjectId(),o=C({leaderboardId:s,playerId:"global"},i),c=`Global Tournament ${s}`;await r.createLeaderboardAsync({name:c,_id:s,type:"world_tournament_leaderboard",description:JSON.stringify(o)});let b=this.O({initialScore:0,config:{title:c,tournamentTitle:c},data:o},!0).getID().toString();if(this.I(b))return;let I=a.random(2),D=n.length(I).map(()=>({playerId:t.generateObjectId(),score:a.random(4)}));D.sort((S,v)=>S.score-v.score),this.L(b,D)})}async n(){let{Configs:{Mockup:{GameSDK:{Tournament:{RandomDelayMs:e}}}}}=Ludex;return this.extra.awaitRandomDelay(e)}randomError(e){let{Configs:{Mockup:{GameSDK:{Tournament:{ErrorRates:t}}}}}=Ludex;Math.random()*100<t&&this.extra.randomException(e)}async ue(){if(this.e)return;let e=(await import("./chunks-W676US7S.js")).default;typeof e=="function"&&(this.e=new e,await this.e.setupTemplate())}async he(){if(this.l)return;let e=(await import("./chunks-W676US7S.js")).default;typeof e=="function"&&(this.l=new e,await this.l.setupTemplate())}async createAsync(e){this.extra.checkPopupShown(),await this.n(),this.context.getID()!==null&&this.extra.exceptionInvalidOperation("Cannot create tournament while in a context"),this.pe(e),this.randomError(Ye),await this.ue(),await new Promise((a,i)=>{this.e||this.adapter.extra.exceptionUnsupported(),this.e.onYes(this.i(a)),this.e.onNo(this.r(i)),this.e.show(e),this.extra.isPopupShown=!0});let t=this.O(e),n=t.getContextID();return this.ye(n),t}O(e,t=!1){let{Utils:{String:n}}=Ludex,a=n.generateObjectId(),i=new Xe(a,e,t),r=i.toObject();return this.me(a,r),i}async postScoreAsync(e){await this.n(),this.K(),e<0&&this.extra.exceptionInvalidParam("Score must be a positive number"),this.randomError(Ze);let t=codex.player.getPlayerId();this.B(t,e)}async shareAsync(e){this.extra.checkPopupShown(),await this.n(),this.K(),this.fe(e),this.randomError(Je),await this.he();let{score:t}=e,n=t,a=this.T();if(a){let r=codex.player.getPlayerId(),s=a.getID().toString(),o=this.ge(s,r);o&&o<t&&(n=o)}await new Promise((r,s)=>{this.l||this.adapter.extra.exceptionUnsupported(),this.l.onYes(this.i(r)),this.l.onNo(this.r(s)),this.l.show(n),this.extra.isPopupShown=!0});let i=codex.player.getPlayerId();this.B(i,t)}async getTournamentsAsync(){await this.n(),this.randomError(et);let e=this.p(),{Utils:{Object:t}}=Ludex;return t.vals(e).map(n=>this.C(n.id)).filter(n=>n!==null)}async joinAsync(e){await this.n();let{Utils:{Valid:t}}=Ludex;t.isString(e)||this.extra.exceptionInvalidParam("Tournament ID must be a string");let n=this.C(e);n||this.extra.exceptionTournamentNotFound("Tournament could not be found."),this.randomError(Qe);let a=n.getContextID();await GameSDK.context.switchAsync(a)}ye(e){this.context instanceof J&&this.context.setCurrentContextId(e)}i=e=>()=>{this.extra.isPopupShown=!1,e(!0)};r=e=>()=>{this.extra.isPopupShown=!1;try{this.extra.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}};T(){let e=this.context.getID();if(!e)return null;let t=this.p();for(let n in t)if(Object.hasOwn(t,n)&&t[n].contextId===e)return this.C(n);return null}pe(e){let{Utils:{Object:t,Valid:n}}=Ludex;n.isObject(e)||this.extra.exceptionInvalidParam("Payload must be an object"),t.hasOwn(e,"initialScore")||this.extra.exceptionInvalidParam("Payload must have initialScore"),t.hasOwn(e,"config")||this.extra.exceptionInvalidParam("Payload must have config");let{initialScore:a,config:i}=e;n.isNumber(a)||this.extra.exceptionInvalidParam("initialScore must be a number"),n.isObject(i)||this.extra.exceptionInvalidParam("Config must be an object"),t.hasOwn(i,"title")||this.extra.exceptionInvalidParam("Config must have title"),t.hasOwn(i,"tournamentTitle")||this.extra.exceptionInvalidParam("Config must have tournamentTitle"),t.hasOwn(e,"data")&&!n.isObject(e.data)&&this.extra.exceptionInvalidParam("Data must be an object")}fe(e){let{Utils:{Object:t,Valid:n}}=Ludex;n.isObject(e)||this.extra.exceptionInvalidParam("Payload must be an object"),t.hasOwn(e,"score")||this.extra.exceptionInvalidParam("Payload must have score");let{score:a}=e;n.isNumber(a)||this.extra.exceptionInvalidParam("Score must be a number"),t.hasOwn(e,"data")&&!n.isObject(e.data)&&this.extra.exceptionInvalidParam("Data must be an object")}K(){this.T()||this.extra.exceptionTournamentNotFound("There is no tournament for this context.")}C(e){let t=this.G(e);return t?{getID:()=>t.id,getTitle:()=>t.title,getPayload:()=>t.payload,getEndTime:()=>t.endTime,getContextID:()=>t.contextId,getTournamentType:()=>t.tournamentType}:null}G(e){let t=this.p();return t[e]?t[e]:null}me(e,t){let n=this.p();n[e]=t,this.j(n)}p(){let{Utils:{Browser:e,Valid:t}}=Ludex,n=e.getLocalStorage(ie);return t.isObject(n)?n:{}}j(e){let{Utils:{Browser:t,Valid:n}}=Ludex;n.isObject(e)&&t.writeLocalStorage(ie,e)}ge(e,t){let n=this.F(e,t);return n?n.score??null:null}B(e,t){let n=this.T();if(!n)return;let a=n.getID().toString();if(!a)return;let i=this.F(a,e);if(!i){this.H(a,{playerId:e,score:t});return}i.score<t&&(i.score=t,this.H(a,i))}F(e,t){let n=this.I(e);if(!n.length)return null;let{Utils:{Array:a}}=Ludex;return a.search(n,i=>i.playerId===t)??null}I(e){let{Utils:{Browser:t,Object:n}}=Ludex,a=t.getLocalStorage(K);if(!n.hasOwn(a,e))return[];let i=a[e];return Array.isArray(i)?(i.sort((r,s)=>s.score-r.score),i):[]}H(e,t){let{Utils:{Array:n}}=Ludex,a=this.I(e),i=n.searchIndex(a,r=>r.playerId===t.playerId);i===-1?a.push(t):a[i]=t,this.L(e,a)}L(e,t){let{Utils:{Browser:n,Object:a}}=Ludex;if(!Array.isArray(t))return;let i=n.getLocalStorage(K)??{};a.assign(i,{[e]:t}),n.writeLocalStorage(K,i)}},re=tt}),U,at,it,rt,st,se,B,ot,lt,on=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),U=["Unsupported","NetworkFailure","PendingRequest","ClientUnsupportedOperation"],at=[...U,"InvalidParam"],it=[...U,"InvalidParam","UserInput"],rt=[...U,"NetworkFailure"],st=[...U,"InvalidParam","UserInput"],se="ProductsDataMockKey",B="PurchasesDataMockKey",ot=class{adapter;extra;context;c=null;constructor(e){this.adapter=e,this.extra=e.extra,this.context=e.context}async initPaymentInfoAsync(){let{Configs:{Mockup:{GameSDK:{Payments:{Enabled:e}}}}}=Ludex;e&&await this.createMockProductsData()}async getCatalogAsync(){await this.n(),this.randomError(at);let e=this.M();return Object.values(e)}async we(){if(this.c)return;let e=(await import("./chunks-AQ5BZKUP.js")).default;typeof e=="function"&&(this.c=new e,await this.c.setupTemplate())}async purchaseAsync(e){return this.extra.checkPopupShown(),await this.n(),this.xe(e),this.randomError(it),await this.we(),await new Promise((t,n)=>{this.c||this.adapter.extra.exceptionUnsupported(),this.c.onYes(this.i(t)),this.c.onNo(this.r(n)),this.c.show(e),this.extra.isPopupShown=!0}),this.be(e)}async getPurchasesAsync(){await this.n(),this.randomError(rt);let e=this.adapter.player.getID();return e?this.k()[e]||[]:[]}async consumePurchaseAsync(e){await this.n(),this.Ie(e),this.randomError(st);let t=this.adapter.player.getID();if(!t)return;let n=(this.k()[t]||[]).filter(a=>a.purchaseToken!==e);this.z(t,n)}onReady(e){e()}async n(){let{Configs:{Mockup:{GameSDK:{Payments:{RandomDelayMs:e}}}}}=Ludex;return this.extra.awaitRandomDelay(e)}randomError(e){let{Configs:{Mockup:{GameSDK:{Payments:{ErrorRates:t}}}}}=Ludex;Math.random()*100<t&&this.extra.randomException(e)}xe(e){let{Utils:{Object:t,Valid:n}}=Ludex;n.isObject(e)||this.extra.exceptionInvalidParam("Config must be an object"),t.hasOwn(e,"productID")||this.extra.exceptionInvalidParam("Config must have productID");let{productID:a}=e;n.isString(a)||this.extra.exceptionInvalidParam("productID must be a string"),t.hasOwn(e,"developerPayload")&&!n.isString(e.developerPayload)&&this.extra.exceptionInvalidParam("developerPayload must be a string")}Ie(e){let{Utils:{Valid:t}}=Ludex;t.isString(e)||this.extra.exceptionInvalidParam("Purchase token must be a string")}be(e){let{Utils:{String:t}}=Ludex,n={productID:e.productID,paymentID:t.generateObjectId(),purchaseToken:t.generateObjectId(),purchaseTime:new Date().toISOString(),developerPayload:e.developerPayload,signedRequest:t.generateObjectId()},a=this.adapter.player.getID();if(a){let i=this.k()[a]||[];i.push(n),this.z(a,i)}return n}async createMockProductsData(){let{Configs:{Mockup:{GameSDK:{Payments:{Enabled:e,Products:t}}}}}=Ludex;if(!e)return;let n=this.M();if(Object.values(n).length>=t.length)return;let a=this.ve();await Promise.all(a)}ve(){let{Configs:{Mockup:{GameSDK:{Payments:{Products:e}}}}}=Ludex;return e.map(t=>{let n={productID:t.id,title:`Product ${t.id}`,description:`Description for ${t.id}`,price:t.price.toString(),priceCurrencyCode:"USD"};return this.Se(t.id,n),n})}M(){let{Utils:{Browser:e,Valid:t}}=Ludex,n=e.getLocalStorage(se);return t.isObject(n)?n:{}}Se(e,t){let n=this.M();n[e]=t,this.Ae(n)}Ae(e){let{Utils:{Browser:t,Valid:n}}=Ludex;n.isObject(e)&&t.writeLocalStorage(se,e)}k(){let{Utils:{Browser:e,Valid:t}}=Ludex,n=e.getLocalStorage(B);return t.isObject(n)?n:{}}z(e,t){let{Utils:{Browser:n}}=Ludex;if(!Array.isArray(t))return;let a=n.getLocalStorage(B)??{};a[e]=t,n.writeLocalStorage(B,a)}i=e=>()=>{this.extra.isPopupShown=!1,e(!0)};r=e=>()=>{this.extra.isPopupShown=!1;try{this.extra.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}}},lt=ot}),ct,oe,dt=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),Te(),Ve(),$e(),nt(),on(),ct=class{extra;player;context;tournament;payments;h=null;isInitialized=!1;bannerAdInstances={};rewardedVideoInstance=null;interstitialAdInstance=null;rewardedInterstitialInstance=null;initialize(){this.extra=new ee(this),this.player=new ae(this),this.context=new J(this),this.tournament=new re(this),this.payments=new lt(this)}isNeedSDK(){return xe?.AllowWithoutSDK!==!0}getLocale(){return Ludex.Utils.Browser.getLocale()}getPlatform(){let{Device:e}=Ludex.Utils;return e.isAndroid()?"ANDROID":e.isIOS()?"IOS":e.isDesktop()?"WEB":e.isMobile()?"MOBILE_WEB":null}getSDKName(){return"Ludex"}getSDKVersion(){return"1.0.0"}async initializeAsync(){if(this.isInitialized)return;this.initialize(),this.extra.createLoadingElement(),this.isNeedSDK()&&await this.checkSDKInitialized(),await this.extra.waitLudexReadyAsync(),await this.extra.delayInitialAsync();let e=Ludex.Utils.Browser.getQueryParams();if(e.splashPreview){this.extra.destroyLoadingElement();return}let t=e.playerId;this.player.initPlayerInfo(t);let n=e.context_source_id,a=e.context_type;this.context.initContextInfo(n,a),this.isInitialized=!0}async checkSDKInitialized(){}async startGameAsync(e=!0){this.isInitialized||this.extra.exceptionInvalidOperation("GameSDK is not initialized"),await this.extra.delayStartAsync();let t=90;window.__sdkLoadingCount=t,this.setLoadingProgress(t),this.extra.destroyLoadingElement();let{Events:n,Utils:{Browser:{getQueryParams:a}}}=Ludex,i=a().tournament_id;await this.tournament.initTournamentInfoAsync(i),await this.payments.initPaymentInfoAsync(),e&&codex.event.emit(n.GAME_SDK_STARTED)}setLoadingProgress(e){this.extra.setLoadingElementProgress(e)}getEntryPointData(){let{Utils:{Browser:e,Json:t}}=Ludex,{payload:n="{}"}=e.getQueryParams();return typeof n!="string"?{}:t.decode(n)}async getEntryPointAsync(){return"no_entry"}async loadBannerAdAsync(e){if(e){if(!this.bannerAdInstances[e]){let t=(await import("./chunks-W676US7S.js")).default;typeof t!="function"&&this.extra.exceptionInvalidOperation("Banner ads mock is not enabled"),this.bannerAdInstances[e]=new t("banner",e)}await this.bannerAdInstances[e].loadAsync(),await this.bannerAdInstances[e].showAsync()}}async hideBannerAdAsync(e){this.bannerAdInstances[e]&&await this.bannerAdInstances[e].hideAsync()}getBannerHeight(e){return e.BannerHeight}async getInterstitialAdAsync(e){if(!this.interstitialAdInstance){let t=(await import("./chunks-W676US7S.js")).default;typeof t!="function"&&this.extra.exceptionInvalidOperation("Interstitial ads mock is not enabled"),this.interstitialAdInstance=new t("interstitial",e)}return this.interstitialAdInstance}async getRewardedVideoAsync(e){if(!this.rewardedVideoInstance){let t=(await import("./chunks-W676US7S.js")).default;typeof t!="function"&&this.extra.exceptionInvalidOperation("Rewarded video ads mock is not enabled"),this.rewardedVideoInstance=new t("rewarded",e)}return this.rewardedVideoInstance}async getRewardedInterstitialAsync(e){if(!this.rewardedInterstitialInstance){let t=(await import("./chunks-W676US7S.js")).default;typeof t!="function"&&this.extra.exceptionInvalidOperation("Rewarded interstitial ads mock is not enabled"),this.rewardedInterstitialInstance=new t("rewarded_interstitial",e)}return this.rewardedInterstitialInstance}async getTournamentAsync(){this.tournament.randomError(["Unsupported","NetworkFailure"]);let e=this.context.getID(),{Array:t,Valid:n}=Ludex.Utils;n.isString(e)||this.extra.exceptionInvalidOperation("Not in a context");let a=await this.tournament.getTournamentsAsync(),i=t.search(a,r=>r.getContextID()===e);return i||this.extra.exceptionTournamentNotFound("A Tournament with current context was not found"),i}getSupportedAPIs(){let{CanSubscribeBot:e}=Ludex.Configs.Mockup.GameSDK.Player.SubscribeBot;return e?["player.canSubscribeBotAsync"]:[]}async canCreateShortcutAsync(){return await this.V(),this.h||this.extra.exceptionUnsupported(),this.h.canCreateShortcutAsync()}async createShortcutAsync(){return await this.V(),this.h||this.extra.exceptionUnsupported(),this.h.createShortcutAsync()}async V(){if(this.h)return;let e=(await import("./chunks-W676US7S.js")).default;typeof e=="function"&&(this.h=new e(this))}},oe=ct}),ut,ht,ln=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),Ve(),ut=class extends ee{get W(){return this.adapter.sdk}constructor(e){super(e),this.adapter=e}logEvent(e){try{let{Events:t}=Ludex.Plugins.Analytics;switch(e){case t.LOAD_START:this.W.loadStart();break;case t.LOAD_COMPLETE:this.W.loadReady();break}}catch{}}createLoadingElement(){}getCoreserData(){return this.adapter.player.getCoreserData()}},ht=ut}),pt,le,yt,cn=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),pt=()=>{let e=le();if(!e)return null;let{Utils:{Browser:t,Valid:n}}=Ludex,a=t.getLocalStorage(e.playerDataKey),i=t.getLocalStorage(e.playerInfoKey),r={};return n.isObject(a)&&(r.playerData=a),n.isObject(i)&&(r.playerInfo=i),r},le=()=>{let e="Tile Connect Master",t=`${e}_fbPlayerData`,n=`${e}_guestId`;return{playerDataKey:t,playerInfoKey:n}},yt=()=>{let e=le(),{Utils:{Browser:t}}=Ludex;if(e){try{t.removeKeyLocalStorage(e.playerDataKey)}catch{}try{t.removeKeyLocalStorage(e.playerInfoKey)}catch{}}}}),mt,ft,dn=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),$e(),cn(),mt=class extends ae{$={};constructor(e){super(e),this.Pe()}Pe(){let e=pt(),{Utils:{Valid:t}}=Ludex;!e||t.isEmpty(e)||(this.$=e,yt())}getCoreserData(){return this.$}},ft=mt}),gt,wt,un=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),gt=class{id;title;contextId;payload;endTime;tournamentType;constructor(e){let{_id:t,name:n,type:a,createdAt:i,expireTime:r}=e,s=JSON.parse(e.description),o=C({leaderboardId:t},s);this.id=s.tournamentId,this.title=n,this.contextId=s.contextId,this.payload=JSON.stringify(o),this.endTime=Math.round((new Date(i).getTime()+r*1e3)/1e3),this.tournamentType=a==="world_tournament_leaderboard"?"PAGE_HOSTED":"DEFAULT"}getID(){return this.id}getTitle(){return this.title}getPayload(){return this.payload}getEndTime(){return this.endTime}getContextID(){return this.contextId}getTournamentType(){return this.tournamentType}},wt=gt}),xt,bt,hn=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),nt(),un(),xt=class extends re{async joinAsync(e){let{Array:t}=Ludex.Utils,n=await this.getTournamentsAsync(),a=t.search(n,i=>i.getID()===e);a||this.extra.exceptionTournamentNotFound("Tournament could not be found."),await GameSDK.context.switchAsync(a.getContextID())}async getTournamentsAsync(){let e=[];try{let{leaderboard:t}=codex,n=await t.requestLeaderboardsAsync({limit:100,type:"world_tournament_leaderboard"});for(let a of n){let i=new wt(a);e.push(i)}}catch{}return e}},bt=xt}),It,vt,pn=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),dt(),ln(),dn(),hn(),It=class extends oe{sdk;constructor(e){super(),this.sdk=e}initialize(){super.initialize(),this.extra=new ht(this),this.player=new ft(this),this.tournament=new bt(this)}getSDKName(){return"Xiaomi"}getSDKVersion(){return"1.0.0"}async checkSDKInitialized(){typeof window.funmax!="object"&&this.extra.exceptionInvalidOperation("Xiaomi SDK is not initialized")}},vt=It}),St,At,Pt,ce,Dt=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),St=class{usedCallLocations;constructor(){this.usedCallLocations=Object.create(null)}getCallerLine(){let e=new Error;if(!e.stack)return null;let t=e.stack.split(`
`)[4];return t?t.trim():null}blockAccess(){try{let e=this.getCallerLine();if(!e||this.usedCallLocations[e])return!1;if(["eval","at <","(<"].some(t=>e.includes(t)))throw new Error(`Access blocked for the caller: ${e}`);return this.usedCallLocations[e]=!0,!1}catch{return!0}}},At=new St,Pt=(e,t)=>{let n=Object.getOwnPropertyDescriptor(e,t);if(!n)return;let{value:a,get:i,initializer:r}=n;a&&typeof a!="object"||i&&typeof i!="function"||r&&typeof r!="function"||Object.defineProperty(e,t,{enumerable:!1,get(){if(!At.blockAccess())return a??r?.call(this)??i?.call(this)},set(){}})},ce=Pt});function yn(){let e;window.funmax={};let t=window,n="GameSDK";return"FBInstant"in t?(n="FBInstant",e=new A(window.FBInstant)):"YaGames"in t?(n="Yandex",e=new A(window.YaGames)):"funmax"in t?(n="Xiaomi",e=new vt(window.funmax)):"$msstart"in t?(n="MsGames",e=new A(window.$msstart)):"gdsdk"in t?(n="GameDistribution",e=new A(window.gdsdk)):"h5sdk"in t?(n="TranssionH5",e=new A(window.h5sdk)):"CrazyGames"in t?(n="CrazyGames",e=new A(window.CrazyGames.SDK)):"GlanceGamingAdInterface"in t?(n="Glance",e=new A(window.GlanceGamingAdInterface)):e=new oe,e}var g=l(()=>{"use strict";P(),P(),P(),P(),P(),P(),P(),pn(),P(),dt(),Dt(),window.GameSDK=Object.seal(yn()),ce(window,"GameSDK")});function mn(e,t){var n=!1,a=!1,i=0;function r(){n&&(n=!1,e()),a&&o()}function s(){_t(r)}function o(){var c=Date.now();if(n){if(c-i<Ot)return;a=!0}else n=!0,a=!1,setTimeout(s,t);i=c}return o}function F(e){return parseFloat(e)||0}function Et(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(a,i){var r=e["border-"+i+"-width"];return a+F(r)},0)}function fn(e){for(var t=["top","right","bottom","left"],n={},a=0,i=t;a<i.length;a++){var r=i[a],s=e["padding-"+r];n[r]=F(s)}return n}function gn(e){var t=e.getBBox();return H(0,0,t.width,t.height)}function wn(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return he;var a=E(e).getComputedStyle(e),i=fn(a),r=i.left+i.right,s=i.top+i.bottom,o=F(a.width),c=F(a.height);if(a.boxSizing==="border-box"&&(Math.round(o+r)!==t&&(o-=Et(a,"left","right")+r),Math.round(c+s)!==n&&(c-=Et(a,"top","bottom")+s)),!xn(e)){var b=Math.round(o+r)-t,I=Math.round(c+s)-n;Math.abs(b)!==1&&(o-=b),Math.abs(I)!==1&&(c-=I)}return H(i.left,i.top,o,c)}function xn(e){return e===E(e).document.documentElement}function bn(e){return z?kt(e)?gn(e):wn(e):he}function In(e){var t=e.x,n=e.y,a=e.width,i=e.height,r=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(r.prototype);return ue(s,{x:t,y:n,width:a,height:i,top:n,right:t+a,bottom:i+n,left:t}),s}function H(e,t,n,a){return{x:e,y:t,width:n,height:a}}var de,z,R,_t,Ot,Lt,Tt,Ct,Mt,ue,E,he,kt,Ut,Rt,Nt,pe,ye,vn,Sn=l(()=>{d(),u(),h(),p(),y(),m(),f(),w(),g(),de=function(){if(typeof Map<"u")return Map;function e(t,n){var a=-1;return t.some(function(i,r){return i[0]===n?(a=r,!0):!1}),a}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var a=e(this.__entries__,n),i=this.__entries__[a];return i&&i[1]},t.prototype.set=function(n,a){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=a:this.__entries__.push([n,a])},t.prototype.delete=function(n){var a=this.__entries__,i=e(a,n);~i&&a.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,a){a===void 0&&(a=null);for(var i=0,r=this.__entries__;i<r.length;i++){var s=r[i];n.call(a,s[1],s[0])}},t}()}(),z=typeof window<"u"&&typeof document<"u"&&window.document===document,R=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),_t=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(R):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Ot=2,Lt=20,Tt=["top","right","bottom","left","width","height","size","weight"],Ct=typeof MutationObserver<"u",Mt=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=mn(this.refresh.bind(this),Lt)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,a=n.indexOf(t);~a&&n.splice(a,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!z||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ct?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!z||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,a=n===void 0?"":n,i=Tt.some(function(r){return!!~a.indexOf(r)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),ue=function(e,t){for(var n=0,a=Object.keys(t);n<a.length;n++){var i=a[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},E=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||R},he=H(0,0,0,0),kt=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof E(e).SVGGraphicsElement}:function(e){return e instanceof E(e).SVGElement&&typeof e.getBBox=="function"}}(),Ut=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=H(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=bn(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),Rt=function(){function e(t,n){var a=In(n);ue(this,{target:t,contentRect:a})}return e}(),Nt=function(){function e(t,n,a){if(this.activeObservations_=[],this.observations_=new de,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=a}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof E(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new Ut(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof E(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(a){return new Rt(a.target,a.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),pe=typeof WeakMap<"u"?new WeakMap:new de,ye=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Mt.getInstance(),a=new Nt(t,n,this);pe.set(this,a)}return e}(),["observe","unobserve","disconnect"].forEach(function(e){ye.prototype[e]=function(){var t;return(t=pe.get(this))[e].apply(t,arguments)}}),vn=function(){return typeof R.ResizeObserver<"u"?R.ResizeObserver:ye}()}),w=l(()=>{"use strict";Sn()}),A,P=l(()=>{d(),u(),h(),p(),y(),m(),f(),w(),g(),A=null});export{Ht as a,C as b,zt as c,Vt as d,l as e,Wt as f,$t as g,Xt as h,Yt as i,d as j,we as k,u as l,h as m,p as n,y as o,m as p,f as q,A as r,P as s,Ue as t,Ne as u,ce as v,Dt as w,g as x,w as y};
