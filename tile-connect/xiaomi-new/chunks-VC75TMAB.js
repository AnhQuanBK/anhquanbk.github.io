var Dt=Object.create,T=Object.defineProperty,_t=Object.defineProperties,he=Object.getOwnPropertyDescriptor,Ot=Object.getOwnPropertyDescriptors,Lt=Object.getOwnPropertyNames,R=Object.getOwnPropertySymbols,Tt=Object.getPrototypeOf,q=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,Ct=Math.pow,ye=(e,t,n)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N=(e,t)=>{for(var n in t||={})q.call(t,n)&&ye(e,n,t[n]);if(R)for(var n of R(t))pe.call(t,n)&&ye(e,n,t[n]);return e},Mt=(e,t)=>_t(e,Ot(t)),kt=(e,t)=>{var n={};for(var a in e)q.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&R)for(var a of R(e))t.indexOf(a)<0&&pe.call(e,a)&&(n[a]=e[a]);return n},l=(e,t)=>()=>(e&&(t=e(e=0)),t),Ut=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Rt=(e,t)=>{for(var n in t)T(e,n,{get:t[n],enumerable:!0})},Nt=(e,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Lt(t))!q.call(e,i)&&i!==n&&T(e,i,{get:()=>t[i],enumerable:!(a=he(t,i))||a.enumerable});return e},Gt=(e,t,n)=>(n=e!=null?Dt(Tt(e)):{},Nt(t||!e||!e.__esModule?T(n,"default",{value:e,enumerable:!0}):n,e)),jt=(e,t,n,a)=>{for(var i=a>1?void 0:a?he(t,n):t,r=e.length-1,s;r>=0;r--)(s=e[r])&&(i=(a?s(t,n,i):s(i))||i);return a&&i&&T(t,n,i),i},me,d=l(()=>{me={AppId:"xiaomi-tile-connect",AppDescription:"",ApiHost:"",OtherHost:"",Ads:{Enabled:!0,PreloadAds:!0,NotifyPlayerBeforeShow:!1,ShowAdOnLoad:{Enabled:!1,DelaySeconds:0,PlacementId:"interstitial_demo"},DegradationTracking:{ResetTimeMinutes:5,MaxFailedAttempts:8},AdServiceConfigs:{AdSense:{Enabled:!0,UsePreload:!0,DataAdClient:"ca-pub-3423367744172781",DataAdChannel:"",DataAdBreakTest:!0,DataAdFrequencyHint:30},Savana:{Enabled:!1,UsePreload:!1,DataAdClient:"ca-pub-1234567890",DataAdChannel:"1234567890",DataAdBreakTest:!1,DataAdFrequencyHint:45,BannerAdSlotId:"1234567890"},AppLovin:{Enabled:!1,UsePreload:!1}},InterstitialAdOptions:[{AdService:"adsense",PlacementId:"interstitial_xiaomi",SecondsFirstTime:30,SecondsBetweenAds:45}],RewardedVideoAdOptions:[{AdService:"adsense",PlacementId:"rewarded_xiaomi",SecondsFirstTime:0,SecondsBetweenAds:0}],RewardedInterstitialAdOptions:[{AdService:"adsense",PlacementId:"rewarded_interstitial_xiaomi",SecondsFirstTime:0,SecondsBetweenAds:0}],BannerDisplayAdOptions:[{AdService:"adsense",PlacementId:"6662285344",Platform:"ALL",Position:"bottom",BannerHeight:51,SecondsReload:60}]},Languages:{DetectPlayerLocale:!0},GameSDKOptions:{AllowWithoutSDK:!0,MSGames:{LoginOnStart:!1,MaxLoginAttemptsPerDay:1},Yandex:{LoginOnStart:!1,MaxLoginAttemptsPerDay:1},TranssionH5:{GaId:"G-XXXXXXXXXX"}},Core:{InitAsync:!0,AverageLoadTime:3,StartSDKAfterLoadGame:!0,FastCheckTournamentContext:!0},GameEngine:{ForceDesktopDPR:2,AutoResizeCanvas:!0,PreferredFPS:{Mobile:60,Desktop:60},DynamicAtlas:{IOS:{Enabled:!0,AutoAtlasSize:!1,MaxAtlasCount:2,MaxAtlasSize:4096,MaxFrameSize:2048},Android:{Enabled:!0,AutoAtlasSize:!1,MaxAtlasCount:2,MaxAtlasSize:4096,MaxFrameSize:2048},Desktop:{Enabled:!0,AutoAtlasSize:!1,MaxAtlasCount:2,MaxAtlasSize:4096,MaxFrameSize:2048},UsePowerOfTwo:!1,TextureBleeding:!0,AllowNonePackable:!1,TextureAtlasOptimize:!0,OnlyOptimizeWhenRenderTooLong:!0},DynamicAssets:{Enabled:!0,Debug:!1,Resolution:{Adjust:2,Original:2},Compression:{PNG:{quality:50,dither:.6,palette:!0,compressionLevel:8},JPEG:{quality:50,mozjpeg:!0},WEBP:{quality:35,lossless:!1,alphaQuality:40,smartSubsample:!0,preset:"drawing"}},IgnoreFiles:[]},HybridFileCache:{Enabled:!0,BuildMode:{Enabled:!0,SupportedExtensions:[".json",".cconb"]},PreviewMode:{Enabled:!1,CacheScene:!1,CachePrefab:!1,CacheUuidExtension:!1,SupportedExtensions:[".json",".cconb"]}}},Gameplay:{StartAdAtLevel:1,MaxRescueCount:1,Tutorial:{Enabled:!0,ForceUseTutorial:!1}},Firebase:{Enabled:!1,Options:{AppId:"",ApiKey:"",ProjectId:"",AuthDomain:"",StorageBucket:"",MeasurementId:"",MessagingSenderId:""},Services:{Analytics:{Enabled:!1},Performance:{Enabled:!1},RemoteConfig:{Enabled:!1}}},Analytics:{GoogleAnalytics:{Enabled:!0,ConsoleLog:!1},ClarityAnalytics:{Enabled:!1,ConsoleLog:!1,ScreenshotCanvas:{Interval:1500,ByEvent:["APP_READY","PAGE_VIEW","BUTTON_CLICK","AD_SHOWING","LEVEL_START","LEVEL_END"]}},FirebaseAnalytics:{Enabled:!1,ConsoleLog:!1},FacebookAnalytics:{Prefix:"fba",Enabled:!1,ConsoleLog:!1}},PerformanceMonitor:{CoreFlows:!0,EngineFlows:!0,FpsTracking:{Enabled:!0,TrackingDuration:60,TrackingInterval:10},LoadResources:!0},RemoteConfig:{Enabled:!1,Options:{ForceReloadGame:!1,FetchIntervalInSeconds:300},ServiceType:"mockup",DefaultConfigId:"default",SupportedDataTypes:["Ludex","Gameplay"],MockupConfig:{Enabled:!0},SelfHostedConfig:{Enabled:!1,AppId:"",ApiKey:"",ApiUrl:""}},Network:{MaximumRequest:6,Timeout:15e3,Retries:3},Leaderboards:{LeaderboardList:[]},Notification:{Enabled:!1,ApiUrl:"https://notifications.sunstudio.io"},DailyRewards:{MaxDays:7,MockTime:0,CheckInterrupt:!1},Mockup:{Ads:{Enabled:!1,ErrorRate:5,GiphyApiKey:"VmjHIRsfrwCAssDS4mDo9DoImxJm1lLM",SafeAreaBottom:0},Match:{Enabled:!1,ErrorRate:5,PlayerInfo:{Id:"player-mock",Name:"Player Mock",Photo:"",Signature:""},OpponentInfo:{Id:"opponent-mock",Name:"Opponent Mock",Photo:"",Signature:""}},GameSDK:{SlowAPI:{Enabled:!1,ErrorRate:5,StartDelay:1e3,InitialDelay:1e3,PlayerDataDelay:1e3},Context:{Enabled:!1},Player:{SubscribeBot:{Enabled:!1,CanSubscribeBot:!0},ConnectedPlayers:{Enabled:!1,ErrorRate:5,RandomDelayMs:1e3,NumOfPlayers:3}},AddShortcut:{Enabled:!1},Tournament:{Enabled:!1,ErrorRates:5,RandomDelayMs:1e3,NumOfTournament:{Normal:10,HostPage:2}},Payments:{Enabled:!1,ErrorRates:5,RandomDelayMs:1e3,Products:[]}},Profile:{Enabled:!1,ErrorRate:5,RandomDelayMs:1e3,AvatarUrl:"https://picsum.photos/seed/%1/300/300",RandomNameApiKey:"a1f7164dc9d2468b953aef67b0a19355"},Leaderboards:{Enabled:!1,MinScore:10,MaxScore:100,ErrorRate:5,NumOfLeaders:{Min:10,Max:50},DefaultLimit:60,RandomDelayMs:1e3},LoadingScreen:{Enabled:!1}},Debugger:{Console:{Enabled:!1},Profiler:{Enabled:!1},EventLogging:{Enabled:!1},CanvasRecorder:{Enabled:!1,OnlyCore:!1,PanelExpanded:!1,Options:{Type:"png",Quality:.85,RecordFps:60,SyncFps:!0}},MonitorError:{Enabled:!0,ApiKey:"25cc3278b962baf4dfeefd23e01fe2ba",Service:"BugSnag",TrackUser:!1,TrackPerformance:!1,FilterErrors:{Codes:{Accepted:[],Ignored:["USER_INPUT","NETWORK_FAILURE"]},Messages:{Accepted:[],Ignored:["Load image failed"]}},Feedback:!1},ListPlayerDevIds:["guest-007"],InputRecorder:{Enabled:!1,Logging:!0,PlaybackDelay:0,TimeScale:1,UseVisualizer:!0,SkipInactivity:{Enabled:!0,MinTime:3e3},MouseEvents:{mousedown:!0,mouseup:!0,mousemove:!0,mouseenter:!0,mouseleave:!0,mouseout:!0,mouseover:!0}}},AdaptivePerformance:{Enabled:!0,Quality:{Min:1,Max:2,AdjustStep:.1},Options:{FpsThreshold:48,CheckInterval:2e3,AutoUpgradeQuality:!0,OnlyUpdateWhenSwitchScene:!1},TrackingSceneNames:["GameScene"]},FrameCapture:{Enabled:!1,Options:{Quality:.85,RenderType:"jpeg",UseBlobIfPossible:!0,FallbackWithWideframe:"Default"},WideframeConfigs:{ShareScore:{Width:1500,Height:2e3,Wideframe:"./public/wideframes/share-score.png",RenderOptions:{}},ShareLeaderboard:{Width:1500,Height:2e3,Wideframe:"./public/wideframes/share-leaderboard.png",RenderOptions:{}},UpdateChallenge:{Width:952,Height:492,Wideframe:"./public/wideframes/update-challenge.png",RenderOptions:{}},ResultChallenge:{Width:952,Height:492,Wideframe:"./public/wideframes/result-challenge.png",RenderOptions:{}}}}}}),fe,u=l(()=>{fe={AllowWithoutSDK:!0}}),G,ge,h=l(()=>{"use strict";G={},ge=window.addEventListener.bind(window),window.addEventListener=(e,t,n)=>{G[e]||(G[e]=[]),G[e].push(t),ge(e,t,n)}});function Kt(){let e=["error","unhandledrejection"],t=window.__listeners??[];for(let n of e)t[n]?.[0]&&window.removeEventListener(n,t[n].shift())}function we(e){window.__errorQueue&&window.__errorQueue.push(typeof e=="string"?new Error(e):e)}function Bt(){window.addEventListener("error",e=>{we(e.error)}),window.addEventListener("unhandledrejection",e=>{we(e.reason)})}var p=l(()=>{"use strict";window.__errorQueue=[],window.onload=()=>{Kt(),Bt()}}),xe,j,be,Ie,$,x,ve,C,Pe,Se,X,Y,Ae,Ee,Q,y=l(()=>{"use strict";xe=()=>{let e=setInterval(()=>{if(window.__sdkLoadingCount>=70){clearInterval(e);return}GameSDK.setLoadingProgress(window.__sdkLoadingCount++)},30)},j=null,be=()=>{j=setTimeout(()=>{window.__sdkLoadingCount>0||GameSDK.extra.displayWarnLoading?.(!0)},8e3)},Ie=()=>{j!==null&&clearTimeout(j),GameSDK.extra.displayWarnLoading?.(!1)},$=async()=>{be();try{await GameSDK.initializeAsync()}catch{setTimeout($,2e3);return}Ie(),window.__sdkLoadingCount=1,GameSDK.setLoadingProgress(window.__sdkLoadingCount),xe(),ve(),window.__sdkInitiated=!0},x={},ve=async()=>{try{let e="G-0NDF7HM7HY";if(!e)return;let t=e.split(" ");t.length===0&&t.push("G-3ZG4F3ZNXH");let n=t[0];if(!n||n==="null")return;let a="no_entry";try{a=await GameSDK.getEntryPointAsync()??a}catch{}let i=document.createElement("script");i.async=!0,i.src=`https://www.googletagmanager.com/gtag/js?id=${n}`,document.head.appendChild(i);let r=GameSDK.player.getID();if(!r)throw new Error("User ID is undefined.");Pe(r,a,t)}catch(e){C(e)}finally{X()}},C=e=>{let{analytics:t}=codex;t?.event("app_crash_handle",{error:e});let n=e instanceof Error?e:new Error(String(e));window.__errorQueue?.push(n)},Pe=(e,t,n)=>{try{window.focus();let a=GameSDK.getEntryPointData()||{},{fbig_ad_id:i,fbig_adset_id:r,fbig_campaign_id:s,fb_instant_game_adset_id:o,fb_instant_game_ad_id:c,fb_instant_game_campaign_id:b}=a,I=i||c,E=r||o,P=s||b;window.gtag("js",new Date),window.gtag("set","client_id",`100.${e}`),window.gtag("set","user_id",e),window.gtag("set","send_page_view",!1);let v=11;for(let V of n)window.gtag("config",V,{cookie_flags:"SameSite=NoneSecure",build:v,medium:t,campaign:P,groups:"GA"});let L=Ludex.Utils.Browser.getQueryParams().entry_point||t;x.user_id=e,x.player_id=e,x.app_version=v,x.traffic_source=t,x.traffic_source_detail=L,x.ad_id=I,x.adset_id=E,x.campaign_id=P,window.gtag("set","user_properties",x)}catch(a){C(a)}},Se=30,X=(e=0)=>{if(!(e>=Se)){if(!codex?.event){setTimeout(()=>X(e+1),50);return}Y(),Ee()}},Y=()=>{let{analytics:e,event:t}=codex;if(!e||!t){setTimeout(()=>Y(),50);return}let{Events:n,Plugins:{Analytics:{Events:{APP_LAUNCH:a,APP_INITIALIZED:i}}}}=Ludex;e.event(a),t.catchUp(n.GAME_SDK_READY,()=>{e.event(i)})},Ae=()=>{try{let{player:e}=codex,t=e.getBestScore(),n=e.getGameData()?.coins??0,a=e.isFirstSession();x.new_user=a,x.coins=n,x.score=t;let i=GameSDK.getEntryPointData(),{content:r,notif_id:s}=i||{};(r||s)&&(x.traffic_source_detail=r??`notif_${s}`),window.gtag("set","user_properties",x)}catch(e){C(e)}},Ee=()=>{try{if(!GameSDK.player.getID())return;codex.event.catchUp(Ludex.Events.PLAYER_INFO_LOADED,Ae)}catch(e){C(e)}},Q=()=>{let{GameSDK:e}=window;if(!e){setTimeout(Q,50);return}$()},Q()});function Ft(){let e=arguments;e[0]==="event"&&(typeof e[2]!="object"&&(e[2]={}),e[2].build=11,e[2].send_to="GA",e[2].extend_session=1),window.dataLayer.push(e)}function Ht(){try{let e="G-0NDF7HM7HY";if(!e)return;let t=e.split(" ")[0],n=document.createElement("link");n.rel="preload",n.href=`https://www.googletagmanager.com/gtag/js?id=${t}`,n.as="script",document.head.appendChild(n)}catch{}}var m=l(()=>{"use strict";window.dataLayer=window.dataLayer||[],window.gtag=Ft,Ht()}),_,f=l(()=>{"use strict";_=window.performance||{},(typeof _.mark!="function"||typeof _.measure!="function")&&(_={mark:()=>{},measure:()=>{}}),_.mark("load-start"),window.__perf=_}),De,J,_e=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),De=class{adapter;extra;currentContextID=null;currentContextType="SOLO";currentContextPlayers=[];s=null;e=null;o=null;m;v=[];d;constructor(e){this.adapter=e,this.extra=e.extra}setCurrentContextId(e){this.f(e),this.currentContextID=e,this.currentContextType="THREAD"}initContextInfo(e,t){let{Array:n,String:a}=Ludex.Utils;this.m={},this.d={},this.v=n.fillWith(10,()=>a.generateObjectId()),!(!e||!t)&&(["SOLO","THREAD","POST","GROUP"].indexOf(t)<0||(this.currentContextID=e,this.currentContextType=t))}getID(){return this.currentContextID}getType(){return this.currentContextType}async q(){if(this.o)return;let e=(await import("./chunks-QDGVQ45N.js")).default;typeof e=="function"&&(this.o=new e,await this.o.setupTemplate())}async $(){if(this.s)return;let e=(await import("./chunks-QDGVQ45N.js")).default;typeof e=="function"&&(this.s=new e,await this.s.setupTemplate())}async X(){if(this.e)return;let e=(await import("./chunks-QDGVQ45N.js")).default;typeof e=="function"&&(this.e=new e,await this.e.setupTemplate())}async switchAsync(e,t=!1){if(this.extra.checkPopupShown(),await this.extra.awaitRandomDelay(),this.validateSwitchAsyncContextId(e),e==="SOLO"&&t){this.currentContextID=null,this.currentContextType="SOLO",this.g([]);return}await this.q(),await new Promise((a,i)=>{this.o||this.adapter.extra.exceptionUnsupported(),this.o.onYes(this.i(a)),this.o.onNo(this.r(i)),this.o.show(e),this.extra.isPopupShown=!0}),this.currentContextID=e,this.currentContextType="THREAD",this.U(e,10);let n=this.d[e].map(a=>this.P(a));this.g(n)}async chooseAsync(e){this.extra.checkPopupShown(),await this.extra.awaitRandomDelay(),await this.$(),await new Promise((i,r)=>{this.s||this.adapter.extra.exceptionUnsupported(),this.s.onYes(this.i(i)),this.s.onNo(this.r(r)),this.s.show(),this.extra.isPopupShown=!0});let t=Math.floor(Math.random()*this.v.length),n=this.v[t];this.f(n),this.currentContextID=n,this.currentContextType="THREAD",this.U(n,2);let a=this.d[n].map(i=>this.P(i));this.g(a)}async createAsync(e){if(this.extra.checkPopupShown(),await this.extra.awaitRandomDelay(),await this.Y(e),await this.X(),await new Promise((a,i)=>{this.e||this.adapter.extra.exceptionUnsupported(),this.e.onYes(this.i(a)),this.e.onNo(this.r(i)),this.e.show(e),this.extra.isPopupShown=!0}),!this.m[e]){let{Utils:{String:a}}=Ludex;this.m[e]=a.generateObjectId()}let t=this.m[e];this.f(t),this.currentContextID=t,this.currentContextType="THREAD";let n=this.P(e);this.g([n])}i=e=>()=>{this.extra.isPopupShown=!1,e(!0)};r=e=>()=>{this.extra.isPopupShown=!1;try{this.extra.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}};async getPlayersAsync(){return await this.extra.awaitRandomDelay(),this.currentContextPlayers}U(e,t){if(!this.d[e]){let{Array:n,String:a}=Ludex.Utils,i=Math.floor(Math.random()*t),r=n.fillWith(i,()=>a.generateObjectId());this.d[e]=r}return this.d[e]}P(e){return{getID:()=>e,getName:()=>`Player ${e}`,getPhoto:()=>""}}g(e){if(this.currentContextType==="SOLO"){this.currentContextPlayers=[];return}this.currentContextPlayers=e}f(e){this.currentContextID===e&&this.extra.exceptionSameContext()}async Y(e){if((!e||Array.isArray(e))&&this.extra.exceptionClientUnsupportedOperation("Client does not support no player IDS or multiple player IDs yet"),!Ludex.Utils.Valid.isString(e)){let n=`Array of type String contained a value of another type: ${e}`;this.extra.exceptionInvalidParam(n)}if(e===GameSDK.player.getID()&&this.extra.exceptionInvalidParam("At least one player id besides the current player must be provided."),(await GameSDK.player.getConnectedPlayersAsync()).some(n=>n.getID()===e))return;let t=`Provided ID ${e} is not a connected player of the current player.`;this.extra.exceptionInvalidParam(t)}validateSwitchAsyncContextId(e){this.f(e),!Ludex.Utils.Valid.isString(e)&&this.extra.exceptionClientUnsupportedOperation("Client requires update to support this operation")}},J=De}),Oe,zt=l(()=>{Oe="./assets/async-popup.html"}),Le,Vt=l(()=>{Le="./assets/loading.html"}),Te,M,Z,Ce,Me,ke=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),zt(),Vt(),Te=e=>!!document.querySelector(e),M={},Z=async e=>{let{template:t,selector:n}=e;if(t in M)return await M[t],document.querySelector(n);let a=(await fetch(t)).text();M[t]=a;let i=await M[t];return Te(n)||document.body.insertAdjacentHTML("beforeend",i),document.querySelector(n)},Ce=async()=>Z({template:Oe,selector:"#async-popup-container"}),Me=async()=>Z({template:Le,selector:"#loading-screen"})}),Ue,Re,Ne,Wt=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),ke(),Re=class{w=0;a=null;constructor(){this.Q()}async Q(){this.a=await Me(),this.a&&(this.a.setAttribute("data-clarity-unmask","true"),this.J())}J(){if(!this.a)return;let e="logo-128x128.png",t=this.a.querySelector("#lds-game-icon");t&&t instanceof HTMLElement&&(t.style.backgroundImage=`url(${e})`,t.style.backgroundColor="transparent");let n=this.a.querySelector("#lds-game-icon-blur");n&&n instanceof HTMLElement&&(n.style.backgroundImage=`url(${e})`,n.style.backgroundColor="transparent")}setLoadingProgress(e){if(this.w>=e)return;this.w=e,this.w>=100&&(this.w=100);let t=document.getElementById("lds-percent");t&&(t.innerHTML=`${e}`)}displayWarnLoading(e){let t=document.getElementById("lds-warn-text");t&&(clearTimeout(Ue),e?(t.style.display="block",t.offsetWidth,t.style.opacity="0.8"):(t.style.opacity="0",Ue=setTimeout(()=>{t.style.display="none"},300)))}removeLoadingElement(){this.a&&(this.a.style.opacity="0",setTimeout(()=>{this.a?.remove()},300))}},Ne=Re}),Ge,je,qt=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),Ge=class extends Error{code;constructor(e,t){super(t),this.code=e}},je=Ge}),Ke,Be,ee,Fe=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),Wt(),qt(),Ke=1e4,Be=class{adapter;isGuest=!1;isPopupShown=!1;loadingElement=null;constructor(e){this.adapter=e}isRestricted(){return!1}async subscribeBotAsync(){if(!await this.adapter.player.canSubscribeBotAsync())return!1;let{analytics:e}=globalThis.codex,{Plugins:{Analytics:{Events:{BOT_SUBSCRIBE:t,BOT_SUBSCRIBE_POPUP:n}}}}=Ludex;e.event(n);try{return await this.R(),await this.adapter.player.subscribeBotAsync(),e.event(t,{success:!0}),!0}catch{return e.event(t,{success:!1}),!1}}async checkAndCreateShortcutAsync(){if(!await this.adapter.canCreateShortcutAsync())return;let{analytics:e}=globalThis.codex,{Plugins:{Analytics:{Events:{SHORTCUT_CREATE:t,SHORTCUT_CREATE_POPUP:n}}}}=Ludex;e.event(n);try{await this.R(),await this.adapter.createShortcutAsync(),e.event(t,{success:!0})}catch{e.event(t,{success:!1})}}R(){let{Utils:{Valid:e}}=Ludex;return e.isValueChangeAsync(()=>window.__sdkInitiated,!0,{timeout:1e4,checkInterval:100})}async waitLudexReadyAsync(){let e=0;return new Promise(t=>{let n=setInterval(()=>{if("Ludex"in window){clearInterval(n),t();return}e+=10,e>Ke&&(e=0)},10)})}createLoadingElement(){this.loadingElement||(this.loadingElement=new Ne)}setLoadingElementProgress(e){this.loadingElement&&this.loadingElement.setLoadingProgress(e)}displayWarnLoading(e){this.loadingElement&&this.loadingElement.displayWarnLoading(e)}destroyLoadingElement(){this.loadingElement&&this.loadingElement.removeLoadingElement()}checkPopupShown(){this.isPopupShown&&this.exceptionPendingRequest("Please wait for the popup to close")}async delayInitialAsync(){let{Utils:{Time:e},Configs:{Mockup:{GameSDK:{SlowAPI:t}}}}=Ludex;!t.Enabled||t.InitialDelay<=0||await e.sleepAsync(t.InitialDelay)}async delayStartAsync(){let{Configs:{Mockup:{GameSDK:{SlowAPI:e}}},Utils:{Time:t}}=Ludex;!e.Enabled||e.StartDelay<=0||await t.sleepAsync(e.StartDelay)}async delayPlayerDataAsync(){let{Configs:{Mockup:{GameSDK:{SlowAPI:e}}},Utils:{Time:t}}=Ludex;!e.Enabled||e.PlayerDataDelay<=0||await t.sleepAsync(e.PlayerDataDelay)}awaitRandomDelay(e=1e3){let{Utils:{Time:t}}=Ludex;return t.sleepAsync(Math.random()*e)}randomException(e){let t=Math.floor(Math.random()*e.length),n=e[t];this[`exception${n}`]()}getErrorMessage(e){let{Valid:t,Object:n}=Ludex.Utils;return!n.hasOwn(e,"message")||!t.isString(e.message)?null:e.message}t(e,t){throw new je(e,t)}exceptionUserInput(e){this.t("USER_INPUT",e)}exceptionUnsupported(){this.t("UNSUPPORTED","Unsupported method")}exceptionInvalidParam(e){this.t("INVALID_PARAM",e)}exceptionPendingRequest(e){this.t("PENDING_REQUEST",e)}exceptionMethodNotImplemented(){this.t("METHOD_NOT_IMPLEMENTED","Method not implemented")}exceptionTournamentNotFound(e){this.t("TOURNAMENT_NOT_FOUND",e)}exceptionSameContext(){this.t("SAME_CONTEXT","Must specify a context other than the current one.")}exceptionInvalidOperation(e){this.t("INVALID_OPERATION",e)}exceptionNetworkFailure(e="Request failed to be processed"){this.t("NETWORK_FAILURE",e)}exceptionUnknown(e){this.t("UNKNOWN",e)}exceptionClientUnsupportedOperation(e){this.t("CLIENT_UNSUPPORTED_OPERATION",e)}exceptionRateLimited(e){this.t("RATE_LIMITED",e)}},ee=Be}),te,ne,He,ze,$t=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),te="Tile Connect".replace(/ /g,"-"),ne="https://picsum.photos/seed/%1/300/300",He=class{adapter;extra;defaultPlayerInfo;currentPlayerInfo;infoKey=`${te}_PlayerInfo`;dataKey=`${te}_PlayerData`;u=null;b=null;constructor(e){this.adapter=e,this.extra=e.extra,this.initDefaultPlayerInfo()}initDefaultPlayerInfo(){let e="guest-007";this.defaultPlayerInfo={playerId:e,playerName:"Guest",playerPhoto:ne.replace("%1",e)},this.extra.isGuest=!0,this.currentPlayerInfo=N({},this.defaultPlayerInfo)}initPlayerInfo(e){this.updateCurrentPlayerInfo(e);let{Utils:{Browser:t}}=Ludex;t.writeLocalStorage(this.infoKey,this.currentPlayerInfo)}async canSubscribeBotAsync(){return await this.N(),this.u||this.extra.exceptionUnsupported(),this.u.canSubscribeBotAsync()}async subscribeBotAsync(){return await this.N(),this.u||this.extra.exceptionUnsupported(),this.u.subscribeBotAsync()}getID(){return this.currentPlayerInfo.playerId}getName(){return this.currentPlayerInfo.playerName}getPhoto(){return this.currentPlayerInfo.playerPhoto}async getDataAsync(e){if(e.length<1)return{};await this.extra.delayPlayerDataAsync();let{Utils:{Browser:t,Valid:n,Object:a}}=Ludex,i=t.getLocalStorage(this.dataKey);if(!n.isObject(i))return{};let r={};for(let s of e)a.hasOwn(i,s)&&(r[s]=i[s]);return r}async setDataAsync(e){await this.extra.delayPlayerDataAsync();let{Utils:{Browser:t}}=Ludex;t.writeLocalStorage(this.dataKey,e)}async getSignedPlayerInfoAsync(){return{getPlayerID:()=>this.getID()??"",getSignature:this.Z}}async getConnectedPlayersAsync(){return await this.ee(),this.b||this.extra.exceptionUnsupported(),this.b.getConnectedPlayersAsync()}updateCurrentPlayerInfo(e){let{Utils:{Browser:t,Valid:n,Object:a,String:i}}=Ludex,r=e??"";if(this.extra.isGuest){let o=t.getLocalStorage(this.infoKey);n.isObject(o)&&a.hasOwn(o,"playerId")&&n.isString(o.playerId)&&(r=o.playerId)}n.isEmpty(r)&&(r=i.generateObjectId());let s=this.getName();if(n.isEmpty(s)){let{language:o}=codex;s=o.getText("core.nameless")??"Nameless"}this.currentPlayerInfo.playerId=r,this.currentPlayerInfo.playerName=s,this.currentPlayerInfo.playerPhoto=ne.replace("%1",r),this.te(r)}ne(){let{Match:e}=Ludex.Configs.Mockup;return e.Enabled?e.PlayerInfo:null}ae(){let{Match:e}=Ludex.Configs.Mockup;return e.Enabled?e.OpponentInfo:null}te(e){let t=this.ae();e!==t?.Id&&(t=this.ne()),t&&(this.currentPlayerInfo.playerId=t.Id,t.Name&&(this.currentPlayerInfo.playerName=t.Name),t.Photo&&(this.currentPlayerInfo.playerPhoto=t.Photo))}Z=()=>{let e=this.ie();return Ludex.Utils.Valid.isString(e)?e:"default_token"};ie(){let{Configs:{Mockup:{Match:e}}}=Ludex,t=e.PlayerInfo.Id===this.getID(),n=e.OpponentInfo.Id===this.getID();return t?e.PlayerInfo.Signature:n?e.OpponentInfo.Signature:null}async N(){if(this.u)return;let e=(await import("./chunks-QDGVQ45N.js")).default;typeof e=="function"&&(this.u=new e(this.adapter))}async ee(){if(this.b)return;let e=(await import("./chunks-QDGVQ45N.js")).default;typeof e=="function"&&(this.b=new e(this.extra))}},ze=He}),Ve,We,Xt=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),Ve=class{id;S;A;E;D;_;constructor(e,t,n=!1){let{config:a,data:i}=t;this.id=e,this.S=a.title,this.A=`0123${this.id}`,this.E=JSON.stringify(i??{}),this.D=a.endTime??this.re(),this._=n?"PAGE_HOSTED":"DEFAULT"}re(){return Math.round((Date.now()+1e3*60*60*24*7)/1e3)}getID(){return this.id}getTitle(){return this.S}getPayload(){return this.E}getEndTime(){return this.D}getContextID(){return this.A}getTournamentType(){return this._}toObject(){return{id:this.id,title:this.S,payload:this.E,endTime:this.D,contextId:this.A,tournamentType:this._}}},We=Ve}),O,qe,$e,Xe,Ye,Qe,ae,K,Je,Ze,Yt=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),_e(),Xt(),O=["Unsupported","NetworkFailure","PendingRequest","ClientUnsupportedOperation"],qe=[...O,"InvalidParam","UserInput"],$e=[...O,"InvalidOperation","UserInput"],Xe=[...O,"InvalidParam","UserInput"],Ye=[...O,"InvalidParam","UserInput"],Qe=[...O,"NetworkFailure"],ae="TournamentsDataMockKey",K="TournamentLeadersMockKey",Je=class{adapter;extra;context;l=null;e=null;constructor(e){this.adapter=e,this.extra=e.extra,this.context=e.context}async initTournamentInfoAsync(e){let{Configs:{Mockup:{GameSDK:{Tournament:{Enabled:t}}}}}=Ludex;t&&(await this.createMockTournamentsData(),e&&await this.se(e))}se=async e=>{this.G(e)&&await this.joinAsync(e)};async createMockTournamentsData(){let{Utils:{Object:e},Configs:{Mockup:{GameSDK:{Tournament:{Enabled:t,NumOfTournament:n}}}}}=Ludex,{Normal:a,HostPage:i}=n;if(!t)return;let r=this.p(),s=e.vals(r),o=this.oe(s),c=o.filter(W=>W.tournamentType==="DEFAULT"),b=o.filter(W=>W.tournamentType==="PAGE_HOSTED"),{length:I}=c,{length:E}=b,P=a-I,v=i-E,L=this.le(P),V=this.ce(v);await Promise.all([...L,...V])}oe(e){let t=Date.now()/1e3,n=e.filter(i=>i.endTime>t),a={};for(let i of n)a[i.id]=i;return this.j(a),n}le(e){let{Utils:{String:t,Array:n,Number:a},Configs:{Mockup:{GameSDK:{Tournament:{ExtraPlayerTournamentPayload:i}}}}}=Ludex,{leaderboard:r}=codex,s=GameSDK.player.getID(),o=GameSDK.player.getName();return n.length(e).map(async()=>{let c=`${o}'s Tournament ${t.generateObjectId()}`,b=await r.createLeaderboardAsync({name:c}),I=this.O({initialScore:0,config:{title:c,tournamentTitle:c},data:N({playerId:s,playerName:o,leaderboardId:b},i)}).getID().toString();if(this.I(I))return;let E=a.random(2),P=codex.player.getConnectedPlayerIds(E,0).map(v=>({playerId:v,score:a.random(4)}));P.sort((v,L)=>v.score-L.score),this.L(I,P)})}ce(e){let{Utils:{String:t,Array:n,Number:a},Configs:{Mockup:{GameSDK:{Tournament:{ExtraGlobalTournamentPayload:i}}}}}=Ludex,{leaderboard:r}=codex;return n.length(e).map(async()=>{let s=t.generateObjectId(),o=N({leaderboardId:s,playerId:"global"},i),c=`Global Tournament ${s}`;await r.createLeaderboardAsync({name:c,_id:s,type:"world_tournament_leaderboard",description:JSON.stringify(o)});let b=this.O({initialScore:0,config:{title:c,tournamentTitle:c},data:o},!0).getID().toString();if(this.I(b))return;let I=a.random(2),E=n.length(I).map(()=>({playerId:t.generateObjectId(),score:a.random(4)}));E.sort((P,v)=>P.score-v.score),this.L(b,E)})}async n(){let{Configs:{Mockup:{GameSDK:{Tournament:{RandomDelayMs:e}}}}}=Ludex;return this.extra.awaitRandomDelay(e)}randomError(e){let{Configs:{Mockup:{GameSDK:{Tournament:{ErrorRates:t}}}}}=Ludex;Math.random()*100<t&&this.extra.randomException(e)}async de(){if(this.e)return;let e=(await import("./chunks-QDGVQ45N.js")).default;typeof e=="function"&&(this.e=new e,await this.e.setupTemplate())}async ue(){if(this.l)return;let e=(await import("./chunks-QDGVQ45N.js")).default;typeof e=="function"&&(this.l=new e,await this.l.setupTemplate())}async createAsync(e){this.extra.checkPopupShown(),await this.n(),this.context.getID()!==null&&this.extra.exceptionInvalidOperation("Cannot create tournament while in a context"),this.he(e),this.randomError(qe),await this.de(),await new Promise((a,i)=>{this.e||this.adapter.extra.exceptionUnsupported(),this.e.onYes(this.i(a)),this.e.onNo(this.r(i)),this.e.show(e),this.extra.isPopupShown=!0});let t=this.O(e),n=t.getContextID();return this.pe(n),t}O(e,t=!1){let{Utils:{String:n}}=Ludex,a=n.generateObjectId(),i=new We(a,e,t),r=i.toObject();return this.ye(a,r),i}async postScoreAsync(e){await this.n(),this.K(),e<0&&this.extra.exceptionInvalidParam("Score must be a positive number"),this.randomError(Ye);let t=codex.player.getPlayerId();this.B(t,e)}async shareAsync(e){this.extra.checkPopupShown(),await this.n(),this.K(),this.me(e),this.randomError(Xe),await this.ue();let{score:t}=e,n=t,a=this.T();if(a){let r=codex.player.getPlayerId(),s=a.getID().toString(),o=this.fe(s,r);o&&o<t&&(n=o)}await new Promise((r,s)=>{this.l||this.adapter.extra.exceptionUnsupported(),this.l.onYes(this.i(r)),this.l.onNo(this.r(s)),this.l.show(n),this.extra.isPopupShown=!0});let i=codex.player.getPlayerId();this.B(i,t)}async getTournamentsAsync(){await this.n(),this.randomError(Qe);let e=this.p(),{Utils:{Object:t}}=Ludex;return t.vals(e).map(n=>this.C(n.id)).filter(n=>n!==null)}async joinAsync(e){await this.n();let{Utils:{Valid:t}}=Ludex;t.isString(e)||this.extra.exceptionInvalidParam("Tournament ID must be a string");let n=this.C(e);n||this.extra.exceptionTournamentNotFound("Tournament could not be found."),this.randomError($e);let a=n.getContextID();await GameSDK.context.switchAsync(a)}pe(e){this.context instanceof J&&this.context.setCurrentContextId(e)}i=e=>()=>{this.extra.isPopupShown=!1,e(!0)};r=e=>()=>{this.extra.isPopupShown=!1;try{this.extra.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}};T(){let e=this.context.getID();if(!e)return null;let t=this.p();for(let n in t)if(Object.hasOwn(t,n)&&t[n].contextId===e)return this.C(n);return null}he(e){let{Utils:{Object:t,Valid:n}}=Ludex;n.isObject(e)||this.extra.exceptionInvalidParam("Payload must be an object"),t.hasOwn(e,"initialScore")||this.extra.exceptionInvalidParam("Payload must have initialScore"),t.hasOwn(e,"config")||this.extra.exceptionInvalidParam("Payload must have config");let{initialScore:a,config:i}=e;n.isNumber(a)||this.extra.exceptionInvalidParam("initialScore must be a number"),n.isObject(i)||this.extra.exceptionInvalidParam("Config must be an object"),t.hasOwn(i,"title")||this.extra.exceptionInvalidParam("Config must have title"),t.hasOwn(i,"tournamentTitle")||this.extra.exceptionInvalidParam("Config must have tournamentTitle"),t.hasOwn(e,"data")&&!n.isObject(e.data)&&this.extra.exceptionInvalidParam("Data must be an object")}me(e){let{Utils:{Object:t,Valid:n}}=Ludex;n.isObject(e)||this.extra.exceptionInvalidParam("Payload must be an object"),t.hasOwn(e,"score")||this.extra.exceptionInvalidParam("Payload must have score");let{score:a}=e;n.isNumber(a)||this.extra.exceptionInvalidParam("Score must be a number"),t.hasOwn(e,"data")&&!n.isObject(e.data)&&this.extra.exceptionInvalidParam("Data must be an object")}K(){this.T()||this.extra.exceptionTournamentNotFound("There is no tournament for this context.")}C(e){let t=this.G(e);return t?{getID:()=>t.id,getTitle:()=>t.title,getPayload:()=>t.payload,getEndTime:()=>t.endTime,getContextID:()=>t.contextId,getTournamentType:()=>t.tournamentType}:null}G(e){let t=this.p();return t[e]?t[e]:null}ye(e,t){let n=this.p();n[e]=t,this.j(n)}p(){let{Utils:{Browser:e,Valid:t}}=Ludex,n=e.getLocalStorage(ae);return t.isObject(n)?n:{}}j(e){let{Utils:{Browser:t,Valid:n}}=Ludex;n.isObject(e)&&t.writeLocalStorage(ae,e)}fe(e,t){let n=this.F(e,t);return n?n.score??null:null}B(e,t){let n=this.T();if(!n)return;let a=n.getID().toString();if(!a)return;let i=this.F(a,e);if(!i){this.H(a,{playerId:e,score:t});return}i.score<t&&(i.score=t,this.H(a,i))}F(e,t){let n=this.I(e);if(!n.length)return null;let{Utils:{Array:a}}=Ludex;return a.search(n,i=>i.playerId===t)??null}I(e){let{Utils:{Browser:t,Object:n}}=Ludex,a=t.getLocalStorage(K);if(!n.hasOwn(a,e))return[];let i=a[e];return Array.isArray(i)?(i.sort((r,s)=>s.score-r.score),i):[]}H(e,t){let{Utils:{Array:n}}=Ludex,a=this.I(e),i=n.searchIndex(a,r=>r.playerId===t.playerId);i===-1?a.push(t):a[i]=t,this.L(e,a)}L(e,t){let{Utils:{Browser:n,Object:a}}=Ludex;if(!Array.isArray(t))return;let i=n.getLocalStorage(K)??{};a.assign(i,{[e]:t}),n.writeLocalStorage(K,i)}},Ze=Je}),k,et,tt,nt,at,ie,B,it,rt,Qt=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),k=["Unsupported","NetworkFailure","PendingRequest","ClientUnsupportedOperation"],et=[...k,"InvalidParam"],tt=[...k,"InvalidParam","UserInput"],nt=[...k,"NetworkFailure"],at=[...k,"InvalidParam","UserInput"],ie="ProductsDataMockKey",B="PurchasesDataMockKey",it=class{adapter;extra;context;c=null;constructor(e){this.adapter=e,this.extra=e.extra,this.context=e.context}async initPaymentInfoAsync(){let{Configs:{Mockup:{GameSDK:{Payments:{Enabled:e}}}}}=Ludex;e&&await this.createMockProductsData()}async getCatalogAsync(){await this.n(),this.randomError(et);let e=this.M();return Object.values(e)}async ge(){if(this.c)return;let e=(await import("./chunks-EMHXHDFG.js")).default;typeof e=="function"&&(this.c=new e,await this.c.setupTemplate())}async purchaseAsync(e){return this.extra.checkPopupShown(),await this.n(),this.we(e),this.randomError(tt),await this.ge(),await new Promise((t,n)=>{this.c||this.adapter.extra.exceptionUnsupported(),this.c.onYes(this.i(t)),this.c.onNo(this.r(n)),this.c.show(e),this.extra.isPopupShown=!0}),this.xe(e)}async getPurchasesAsync(){await this.n(),this.randomError(nt);let e=this.adapter.player.getID();return e?this.k()[e]||[]:[]}async consumePurchaseAsync(e){await this.n(),this.be(e),this.randomError(at);let t=this.adapter.player.getID();if(!t)return;let n=(this.k()[t]||[]).filter(a=>a.purchaseToken!==e);this.z(t,n)}onReady(e){e()}async n(){let{Configs:{Mockup:{GameSDK:{Payments:{RandomDelayMs:e}}}}}=Ludex;return this.extra.awaitRandomDelay(e)}randomError(e){let{Configs:{Mockup:{GameSDK:{Payments:{ErrorRates:t}}}}}=Ludex;Math.random()*100<t&&this.extra.randomException(e)}we(e){let{Utils:{Object:t,Valid:n}}=Ludex;n.isObject(e)||this.extra.exceptionInvalidParam("Config must be an object"),t.hasOwn(e,"productID")||this.extra.exceptionInvalidParam("Config must have productID");let{productID:a}=e;n.isString(a)||this.extra.exceptionInvalidParam("productID must be a string"),t.hasOwn(e,"developerPayload")&&!n.isString(e.developerPayload)&&this.extra.exceptionInvalidParam("developerPayload must be a string")}be(e){let{Utils:{Valid:t}}=Ludex;t.isString(e)||this.extra.exceptionInvalidParam("Purchase token must be a string")}xe(e){let{Utils:{String:t}}=Ludex,n={productID:e.productID,paymentID:t.generateObjectId(),purchaseToken:t.generateObjectId(),purchaseTime:new Date().toISOString(),developerPayload:e.developerPayload,signedRequest:t.generateObjectId()},a=this.adapter.player.getID();if(a){let i=this.k()[a]||[];i.push(n),this.z(a,i)}return n}async createMockProductsData(){let{Configs:{Mockup:{GameSDK:{Payments:{Enabled:e,Products:t}}}}}=Ludex;if(!e)return;let n=this.M();if(Object.values(n).length>=t.length)return;let a=this.Ie();await Promise.all(a)}Ie(){let{Configs:{Mockup:{GameSDK:{Payments:{Products:e}}}}}=Ludex;return e.map(t=>{let n={productID:t.id,title:`Product ${t.id}`,description:`Description for ${t.id}`,price:t.price.toString(),priceCurrencyCode:"USD"};return this.ve(t.id,n),n})}M(){let{Utils:{Browser:e,Valid:t}}=Ludex,n=e.getLocalStorage(ie);return t.isObject(n)?n:{}}ve(e,t){let n=this.M();n[e]=t,this.Pe(n)}Pe(e){let{Utils:{Browser:t,Valid:n}}=Ludex;n.isObject(e)&&t.writeLocalStorage(ie,e)}k(){let{Utils:{Browser:e,Valid:t}}=Ludex,n=e.getLocalStorage(B);return t.isObject(n)?n:{}}z(e,t){let{Utils:{Browser:n}}=Ludex;if(!Array.isArray(t))return;let a=n.getLocalStorage(B)??{};a[e]=t,n.writeLocalStorage(B,a)}i=e=>()=>{this.extra.isPopupShown=!1,e(!0)};r=e=>()=>{this.extra.isPopupShown=!1;try{this.extra.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}}},rt=it}),st,re,ot=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),_e(),Fe(),$t(),Yt(),Qt(),st=class{extra;player;context;tournament;payments;h=null;isInitialized=!1;bannerAdInstances={};rewardedVideoInstance=null;interstitialAdInstance=null;rewardedInterstitialInstance=null;initialize(){this.extra=new ee(this),this.player=new ze(this),this.context=new J(this),this.tournament=new Ze(this),this.payments=new rt(this)}isNeedSDK(){return fe?.AllowWithoutSDK!==!0}getLocale(){return Ludex.Utils.Browser.getLocale()}getPlatform(){let{Device:e}=Ludex.Utils;return e.isAndroid()?"ANDROID":e.isIOS()?"IOS":e.isDesktop()?"WEB":e.isMobile()?"MOBILE_WEB":null}getSDKName(){return"Ludex"}getSDKVersion(){return"1.0.0"}async initializeAsync(){if(this.isInitialized)return;this.initialize(),this.extra.createLoadingElement(),this.isNeedSDK()&&await this.checkSDKInitialized(),await this.extra.waitLudexReadyAsync(),await this.extra.delayInitialAsync();let e=Ludex.Utils.Browser.getQueryParams();if(e.splashPreview){this.extra.destroyLoadingElement();return}let t=e.playerId;this.player.initPlayerInfo(t);let n=e.context_source_id,a=e.context_type;this.context.initContextInfo(n,a),this.isInitialized=!0}async checkSDKInitialized(){}async startGameAsync(e=!0){this.isInitialized||this.extra.exceptionInvalidOperation("GameSDK is not initialized"),await this.extra.delayStartAsync();let t=90;window.__sdkLoadingCount=t,this.setLoadingProgress(t),this.extra.destroyLoadingElement();let{Events:n,Utils:{Browser:{getQueryParams:a}}}=Ludex,i=a().tournament_id;await this.tournament.initTournamentInfoAsync(i),await this.payments.initPaymentInfoAsync(),e&&codex.event.emit(n.GAME_SDK_STARTED)}setLoadingProgress(e){this.extra.setLoadingElementProgress(e)}getEntryPointData(){let{Utils:{Browser:e,Json:t}}=Ludex,{payload:n="{}"}=e.getQueryParams();return typeof n!="string"?{}:t.decode(n)}async getEntryPointAsync(){return"no_entry"}async loadBannerAdAsync(e){if(e){if(!this.bannerAdInstances[e]){let t=(await import("./chunks-QDGVQ45N.js")).default;typeof t!="function"&&this.extra.exceptionInvalidOperation("Banner ads mock is not enabled"),this.bannerAdInstances[e]=new t("banner",e)}await this.bannerAdInstances[e].loadAsync(),await this.bannerAdInstances[e].showAsync()}}async hideBannerAdAsync(e){this.bannerAdInstances[e]&&await this.bannerAdInstances[e].hideAsync()}getBannerHeight(e){return e.BannerHeight}async getInterstitialAdAsync(e){if(!this.interstitialAdInstance){let t=(await import("./chunks-QDGVQ45N.js")).default;typeof t!="function"&&this.extra.exceptionInvalidOperation("Interstitial ads mock is not enabled"),this.interstitialAdInstance=new t("interstitial",e)}return this.interstitialAdInstance}async getRewardedVideoAsync(e){if(!this.rewardedVideoInstance){let t=(await import("./chunks-QDGVQ45N.js")).default;typeof t!="function"&&this.extra.exceptionInvalidOperation("Rewarded video ads mock is not enabled"),this.rewardedVideoInstance=new t("rewarded",e)}return this.rewardedVideoInstance}async getRewardedInterstitialAsync(e){if(!this.rewardedInterstitialInstance){let t=(await import("./chunks-QDGVQ45N.js")).default;typeof t!="function"&&this.extra.exceptionInvalidOperation("Rewarded interstitial ads mock is not enabled"),this.rewardedInterstitialInstance=new t("rewarded_interstitial",e)}return this.rewardedInterstitialInstance}async getTournamentAsync(){this.tournament.randomError(["Unsupported","NetworkFailure"]);let e=this.context.getID(),{Array:t,Valid:n}=Ludex.Utils;n.isString(e)||this.extra.exceptionInvalidOperation("Not in a context");let a=await this.tournament.getTournamentsAsync(),i=t.search(a,r=>r.getContextID()===e);return i||this.extra.exceptionTournamentNotFound("A Tournament with current context was not found"),i}getSupportedAPIs(){let{CanSubscribeBot:e}=Ludex.Configs.Mockup.GameSDK.Player.SubscribeBot;return e?["player.canSubscribeBotAsync"]:[]}async canCreateShortcutAsync(){return await this.V(),this.h||this.extra.exceptionUnsupported(),this.h.canCreateShortcutAsync()}async createShortcutAsync(){return await this.V(),this.h||this.extra.exceptionUnsupported(),this.h.createShortcutAsync()}async V(){if(this.h)return;let e=(await import("./chunks-QDGVQ45N.js")).default;typeof e=="function"&&(this.h=new e(this))}},re=st}),lt,ct,Jt=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),Fe(),lt=class extends ee{get W(){return this.adapter.sdk}constructor(e){super(e),this.adapter=e}logEvent(e){try{let{Events:t}=Ludex.Plugins.Analytics;switch(e){case t.LOAD_START:this.W.loadStart();break;case t.LOAD_COMPLETE:this.W.loadReady();break}}catch{}}createLoadingElement(){}},ct=lt}),dt,ut,Zt=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),ot(),Jt(),dt=class extends re{sdk;constructor(e){super(),this.sdk=e}initialize(){super.initialize(),this.extra=new ct(this)}getSDKName(){return"Xiaomi"}getSDKVersion(){return"1.0.0"}async checkSDKInitialized(){typeof window.funmax!="object"&&this.extra.exceptionInvalidOperation("Xiaomi SDK is not initialized")}},ut=dt}),ht,pt,yt,se,mt=l(()=>{"use strict";d(),u(),h(),p(),y(),m(),f(),w(),g(),ht=class{usedCallLocations;constructor(){this.usedCallLocations=Object.create(null)}getCallerLine(){let e=new Error;if(!e.stack)return null;let t=e.stack.split(`
`)[4];return t?t.trim():null}blockAccess(){try{let e=this.getCallerLine();if(!e||this.usedCallLocations[e])return!1;if(["eval","at <","(<"].some(t=>e.includes(t)))throw new Error(`Access blocked for the caller: ${e}`);return this.usedCallLocations[e]=!0,!1}catch{return!0}}},pt=new ht,yt=(e,t)=>{let n=Object.getOwnPropertyDescriptor(e,t);if(!n)return;let{value:a,get:i,initializer:r}=n;a&&typeof a!="object"||i&&typeof i!="function"||r&&typeof r!="function"||Object.defineProperty(e,t,{enumerable:!1,get(){if(!pt.blockAccess())return a??r?.call(this)??i?.call(this)},set(){}})},se=yt});function en(){let e,t=window,n="GameSDK";return"FBInstant"in t?(n="FBInstant",e=new S(window.FBInstant)):"YaGames"in t?(n="Yandex",e=new S(window.YaGames)):"funmax"in t?(n="Xiaomi",e=new ut(window.funmax)):"$msstart"in t?(n="MsGames",e=new S(window.$msstart)):"gdsdk"in t?(n="GameDistribution",e=new S(window.gdsdk)):"h5sdk"in t?(n="TranssionH5",e=new S(window.h5sdk)):"CrazyGames"in t?(n="CrazyGames",e=new S(window.CrazyGames.SDK)):"GlanceGamingAdInterface"in t?(n="Glance",e=new S(window.GlanceGamingAdInterface)):e=new re,e}var g=l(()=>{"use strict";A(),A(),A(),A(),A(),A(),A(),Zt(),A(),ot(),mt(),window.GameSDK=Object.seal(en()),se(window,"GameSDK")});function tn(e,t){var n=!1,a=!1,i=0;function r(){n&&(n=!1,e()),a&&o()}function s(){gt(r)}function o(){var c=Date.now();if(n){if(c-i<wt)return;a=!0}else n=!0,a=!1,setTimeout(s,t);i=c}return o}function F(e){return parseFloat(e)||0}function ft(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(a,i){var r=e["border-"+i+"-width"];return a+F(r)},0)}function nn(e){for(var t=["top","right","bottom","left"],n={},a=0,i=t;a<i.length;a++){var r=i[a],s=e["padding-"+r];n[r]=F(s)}return n}function an(e){var t=e.getBBox();return H(0,0,t.width,t.height)}function rn(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return ce;var a=D(e).getComputedStyle(e),i=nn(a),r=i.left+i.right,s=i.top+i.bottom,o=F(a.width),c=F(a.height);if(a.boxSizing==="border-box"&&(Math.round(o+r)!==t&&(o-=ft(a,"left","right")+r),Math.round(c+s)!==n&&(c-=ft(a,"top","bottom")+s)),!sn(e)){var b=Math.round(o+r)-t,I=Math.round(c+s)-n;Math.abs(b)!==1&&(o-=b),Math.abs(I)!==1&&(c-=I)}return H(i.left,i.top,o,c)}function sn(e){return e===D(e).document.documentElement}function on(e){return z?Pt(e)?an(e):rn(e):ce}function ln(e){var t=e.x,n=e.y,a=e.width,i=e.height,r=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(r.prototype);return le(s,{x:t,y:n,width:a,height:i,top:n,right:t+a,bottom:i+n,left:t}),s}function H(e,t,n,a){return{x:e,y:t,width:n,height:a}}var oe,z,U,gt,wt,xt,bt,It,vt,le,D,ce,Pt,St,At,Et,de,ue,cn,dn=l(()=>{d(),u(),h(),p(),y(),m(),f(),w(),g(),oe=function(){if(typeof Map<"u")return Map;function e(t,n){var a=-1;return t.some(function(i,r){return i[0]===n?(a=r,!0):!1}),a}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var a=e(this.__entries__,n),i=this.__entries__[a];return i&&i[1]},t.prototype.set=function(n,a){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=a:this.__entries__.push([n,a])},t.prototype.delete=function(n){var a=this.__entries__,i=e(a,n);~i&&a.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,a){a===void 0&&(a=null);for(var i=0,r=this.__entries__;i<r.length;i++){var s=r[i];n.call(a,s[1],s[0])}},t}()}(),z=typeof window<"u"&&typeof document<"u"&&window.document===document,U=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),gt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(U):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),wt=2,xt=20,bt=["top","right","bottom","left","width","height","size","weight"],It=typeof MutationObserver<"u",vt=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=tn(this.refresh.bind(this),xt)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,a=n.indexOf(t);~a&&n.splice(a,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!z||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),It?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!z||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,a=n===void 0?"":n,i=bt.some(function(r){return!!~a.indexOf(r)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),le=function(e,t){for(var n=0,a=Object.keys(t);n<a.length;n++){var i=a[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},D=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||U},ce=H(0,0,0,0),Pt=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof D(e).SVGGraphicsElement}:function(e){return e instanceof D(e).SVGElement&&typeof e.getBBox=="function"}}(),St=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=H(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=on(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),At=function(){function e(t,n){var a=ln(n);le(this,{target:t,contentRect:a})}return e}(),Et=function(){function e(t,n,a){if(this.activeObservations_=[],this.observations_=new oe,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=a}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof D(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new St(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof D(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(a){return new At(a.target,a.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),de=typeof WeakMap<"u"?new WeakMap:new oe,ue=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=vt.getInstance(),a=new Et(t,n,this);de.set(this,a)}return e}(),["observe","unobserve","disconnect"].forEach(function(e){ue.prototype[e]=function(){var t;return(t=de.get(this))[e].apply(t,arguments)}}),cn=function(){return typeof U.ResizeObserver<"u"?U.ResizeObserver:ue}()}),w=l(()=>{"use strict";dn()}),S,A=l(()=>{d(),u(),h(),p(),y(),m(),f(),w(),g(),S=null});export{Ct as a,N as b,Mt as c,kt as d,l as e,Ut as f,Rt as g,Gt as h,jt as i,d as j,me as k,u as l,h as m,p as n,y as o,m as p,f as q,S as r,A as s,Ce as t,ke as u,se as v,mt as w,g as x,w as y};
