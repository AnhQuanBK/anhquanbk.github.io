var Kt=Object.create,T=Object.defineProperty,Bt=Object.defineProperties,ge=Object.getOwnPropertyDescriptor,Ft=Object.getOwnPropertyDescriptors,zt=Object.getOwnPropertyNames,G=Object.getOwnPropertySymbols,Ht=Object.getPrototypeOf,q=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,Vt=Math.pow,xe=(e,t,n)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||={})q.call(t,n)&&xe(e,n,t[n]);if(G)for(var n of G(t))we.call(t,n)&&xe(e,n,t[n]);return e},Wt=(e,t)=>Bt(e,Ft(t)),$t=(e,t)=>{var n={};for(var a in e)q.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&G)for(var a of G(e))t.indexOf(a)<0&&we.call(e,a)&&(n[a]=e[a]);return n},l=(e,t)=>()=>(e&&(t=e(e=0)),t),qt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Xt=(e,t)=>{for(var n in t)T(e,n,{get:t[n],enumerable:!0})},Yt=(e,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of zt(t))!q.call(e,r)&&r!==n&&T(e,r,{get:()=>t[r],enumerable:!(a=ge(t,r))||a.enumerable});return e},Qt=(e,t,n)=>(n=e!=null?Kt(Ht(e)):{},Yt(t||!e||!e.__esModule?T(n,"default",{value:e,enumerable:!0}):n,e)),Jt=(e,t,n,a)=>{for(var r=a>1?void 0:a?ge(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(r=(a?s(t,n,r):s(r))||r);return a&&r&&T(t,n,r),r},be,c=l(()=>{be={AppId:"836135013553732",AppDescription:"",ApiHost:"https://fbig-singleplay-apps.citigo.site",OtherHost:"https://igs-leaderboard.suncs.app",Ads:{Enabled:!0,PreloadAds:!0,NotifyPlayerBeforeShow:!1,ShowAdOnLoad:{Enabled:!1,DelaySeconds:0,PlacementId:"interstitial_demo"},DegradationTracking:{ResetTimeMinutes:5,MaxFailedAttempts:8},AdServiceConfigs:{AdSense:{Enabled:!0,UsePreload:!0,DataAdClient:"ca-pub-3423367744172781",DataAdChannel:"",DataAdBreakTest:!1,DataAdFrequencyHint:30},Savana:{Enabled:!1,UsePreload:!1,DataAdClient:"ca-pub-1234567890",DataAdChannel:"1234567890",DataAdBreakTest:!1,DataAdFrequencyHint:45,BannerAdSlotId:"1234567890"},AppLovin:{Enabled:!1,UsePreload:!1}},InterstitialAdOptions:[{AdService:"adsense",PlacementId:"interstitial_xiaomi",SecondsFirstTime:30,SecondsBetweenAds:45}],RewardedVideoAdOptions:[{AdService:"adsense",PlacementId:"rewarded_xiaomi",SecondsFirstTime:0,SecondsBetweenAds:0}],RewardedInterstitialAdOptions:[{AdService:"adsense",PlacementId:"rewarded_interstitial_xiaomi",SecondsFirstTime:0,SecondsBetweenAds:0}],BannerDisplayAdOptions:[{AdService:"adsense",PlacementId:"6662285344",Platform:"ALL",Position:"bottom",BannerHeight:51,SecondsReload:60}]},Languages:{DetectPlayerLocale:!0},GameSDKOptions:{AllowWithoutSDK:!0,MSGames:{LoginOnStart:!1,MaxLoginAttemptsPerDay:1},Yandex:{LoginOnStart:!1,MaxLoginAttemptsPerDay:1},TranssionH5:{GaId:"G-XXXXXXXXXX"}},Core:{InitAsync:!0,AverageLoadTime:3,StartSDKAfterLoadGame:!0,FastCheckTournamentContext:!0},GameEngine:{ForceDesktopDPR:2,AutoResizeCanvas:!0,PreferredFPS:{Mobile:60,Desktop:60},DynamicAtlas:{IOS:{Enabled:!0,AutoAtlasSize:!1,MaxAtlasCount:2,MaxAtlasSize:4096,MaxFrameSize:2048},Android:{Enabled:!0,AutoAtlasSize:!1,MaxAtlasCount:2,MaxAtlasSize:4096,MaxFrameSize:2048},Desktop:{Enabled:!0,AutoAtlasSize:!1,MaxAtlasCount:2,MaxAtlasSize:4096,MaxFrameSize:2048},UsePowerOfTwo:!1,TextureBleeding:!0,AllowNonePackable:!1,TextureAtlasOptimize:!0,OnlyOptimizeWhenRenderTooLong:!0},DynamicAssets:{Enabled:!0,Debug:!1,Resolution:{Adjust:2,Original:2},Compression:{PNG:{quality:50,dither:.6,palette:!0,compressionLevel:8},JPEG:{quality:50,mozjpeg:!0},WEBP:{quality:35,lossless:!1,alphaQuality:40,smartSubsample:!0,preset:"drawing"}},IgnoreFiles:[]},HybridFileCache:{Enabled:!0,BuildMode:{Enabled:!0,SupportedExtensions:[".json",".cconb"]},PreviewMode:{Enabled:!1,CacheScene:!1,CachePrefab:!1,CacheUuidExtension:!1,SupportedExtensions:[".json",".cconb"]}}},Gameplay:{StartAdAtLevel:1,MaxRescueCount:1,Tutorial:{Enabled:!0,ForceUseTutorial:!1}},Firebase:{Enabled:!1,Options:{AppId:"",ApiKey:"",ProjectId:"",AuthDomain:"",StorageBucket:"",MeasurementId:"",MessagingSenderId:""},Services:{Analytics:{Enabled:!1},Performance:{Enabled:!1},RemoteConfig:{Enabled:!1}}},Analytics:{GoogleAnalytics:{Enabled:!0,ConsoleLog:!1},ClarityAnalytics:{Enabled:!1,ConsoleLog:!1,ScreenshotCanvas:{Interval:1500,ByEvent:["APP_READY","PAGE_VIEW","BUTTON_CLICK","AD_SHOWING","LEVEL_START","LEVEL_END"]}},FirebaseAnalytics:{Enabled:!1,ConsoleLog:!1},FacebookAnalytics:{Prefix:"fba",Enabled:!1,ConsoleLog:!1}},PerformanceMonitor:{CoreFlows:!0,EngineFlows:!0,FpsTracking:{Enabled:!0,TrackingDuration:60,TrackingInterval:10},LoadResources:!0},RemoteConfig:{Enabled:!1,Options:{ForceReloadGame:!1,FetchIntervalInSeconds:300},ServiceType:"mockup",DefaultConfigId:"default",SupportedDataTypes:["Ludex","Gameplay"],MockupConfig:{Enabled:!0},SelfHostedConfig:{Enabled:!1,AppId:"",ApiKey:"",ApiUrl:""}},Network:{MaximumRequest:6,Timeout:15e3,Retries:3},Leaderboards:{LeaderboardList:[]},Notification:{Enabled:!1,ApiUrl:"https://notifications.sunstudio.io"},DailyRewards:{MaxDays:7,MockTime:0,CheckInterrupt:!1},Mockup:{Ads:{Enabled:!1,ErrorRate:5,GiphyApiKey:"VmjHIRsfrwCAssDS4mDo9DoImxJm1lLM",SafeAreaBottom:0},Match:{Enabled:!1,ErrorRate:5,PlayerInfo:{Id:"player-mock",Name:"Player Mock",Photo:"",Signature:""},OpponentInfo:{Id:"opponent-mock",Name:"Opponent Mock",Photo:"",Signature:""}},GameSDK:{SlowAPI:{Enabled:!1,ErrorRate:5,StartDelay:1e3,InitialDelay:1e3,PlayerDataDelay:1e3},Context:{Enabled:!1},Player:{SubscribeBot:{Enabled:!1,CanSubscribeBot:!0},ConnectedPlayers:{Enabled:!1,ErrorRate:5,RandomDelayMs:1e3,NumOfPlayers:3}},AddShortcut:{Enabled:!1},Tournament:{Enabled:!1,ErrorRates:5,RandomDelayMs:1e3,NumOfTournament:{Normal:10,HostPage:2}},Payments:{Enabled:!1,ErrorRates:5,RandomDelayMs:1e3,Products:[]}},Profile:{Enabled:!1,ErrorRate:5,RandomDelayMs:1e3,AvatarUrl:"https://picsum.photos/seed/%1/300/300",RandomNameApiKey:"a1f7164dc9d2468b953aef67b0a19355"},Leaderboards:{Enabled:!1,MinScore:10,MaxScore:100,ErrorRate:5,NumOfLeaders:{Min:10,Max:50},DefaultLimit:60,RandomDelayMs:1e3},LoadingScreen:{Enabled:!1}},Debugger:{Console:{Enabled:!1},Profiler:{Enabled:!1},EventLogging:{Enabled:!1},CanvasRecorder:{Enabled:!1,OnlyCore:!1,PanelExpanded:!1,Options:{Type:"png",Quality:.85,RecordFps:60,SyncFps:!0}},MonitorError:{Enabled:!0,ApiKey:"25cc3278b962baf4dfeefd23e01fe2ba",Service:"BugSnag",TrackUser:!1,TrackPerformance:!1,FilterErrors:{Codes:{Accepted:[],Ignored:["USER_INPUT","NETWORK_FAILURE"]},Messages:{Accepted:[],Ignored:["Load image failed"]}},Feedback:!1},ListPlayerDevIds:["guest-007"],InputRecorder:{Enabled:!1,Logging:!0,PlaybackDelay:0,TimeScale:1,UseVisualizer:!0,SkipInactivity:{Enabled:!0,MinTime:3e3},MouseEvents:{mousedown:!0,mouseup:!0,mousemove:!0,mouseenter:!0,mouseleave:!0,mouseout:!0,mouseover:!0}}},AdaptivePerformance:{Enabled:!0,Quality:{Min:1,Max:2,AdjustStep:.1},Options:{FpsThreshold:48,CheckInterval:2e3,AutoUpgradeQuality:!0,OnlyUpdateWhenSwitchScene:!1},TrackingSceneNames:["GameScene"]},FrameCapture:{Enabled:!1,Options:{Quality:.85,RenderType:"jpeg",UseBlobIfPossible:!0,FallbackWithWideframe:"Default"},WideframeConfigs:{ShareScore:{Width:1500,Height:2e3,Wideframe:"./public/wideframes/share-score.png",RenderOptions:{}},ShareLeaderboard:{Width:1500,Height:2e3,Wideframe:"./public/wideframes/share-leaderboard.png",RenderOptions:{}},UpdateChallenge:{Width:952,Height:492,Wideframe:"./public/wideframes/update-challenge.png",RenderOptions:{}},ResultChallenge:{Width:952,Height:492,Wideframe:"./public/wideframes/result-challenge.png",RenderOptions:{}}}}}}),Ie,d=l(()=>{Ie={AllowWithoutSDK:!0}}),N,ve,u=l(()=>{"use strict";N={},ve=window.addEventListener.bind(window),window.addEventListener=(e,t,n)=>{N[e]||(N[e]=[]),N[e].push(t),ve(e,t,n)}});function Zt(){let e=["error","unhandledrejection"],t=window.__listeners??[];for(let n of e)t[n]?.[0]&&window.removeEventListener(n,t[n].shift())}function Se(e){window.__errorQueue&&window.__errorQueue.push(typeof e=="string"?new Error(e):e)}function en(){window.addEventListener("error",e=>{Se(e.error)}),window.addEventListener("unhandledrejection",e=>{Se(e.reason)})}var h=l(()=>{"use strict";window.__errorQueue=[],window.onload=()=>{Zt(),en()}}),X,Ae,j,Pe,De,Y,x,Ee,M,_e,Oe,Q,J,Le,Te,Z,p=l(()=>{"use strict";X=0,Ae=()=>{let e=setInterval(()=>{if(window.__sdkLoadingCount>=70){clearInterval(e);return}X!==window.__sdkLoadingCount&&(X=window.__sdkLoadingCount,GameSDK.setLoadingProgress(window.__sdkLoadingCount))},500)},j=null,Pe=()=>{j=setTimeout(()=>{window.__sdkLoadingCount>0||GameSDK.extra.displayWarnLoading?.(!0)},8e3)},De=()=>{j!==null&&clearTimeout(j),GameSDK.extra.displayWarnLoading?.(!1)},Y=async()=>{Pe();try{await GameSDK.initializeAsync()}catch{setTimeout(Y,2e3);return}De(),window.__sdkLoadingCount=1,GameSDK.setLoadingProgress(window.__sdkLoadingCount),Ae(),Ee(),window.__sdkInitiated=!0},x={},Ee=async()=>{try{let e="G-0NDF7HM7HY";if(!e)return;let t=e.split(" ");t.length===0&&t.push("G-3ZG4F3ZNXH");let n=t[0];if(!n||n==="null")return;let a="no_entry";try{a=await GameSDK.getEntryPointAsync()??a}catch{}let r=document.createElement("script");r.async=!0,r.src=`https://www.googletagmanager.com/gtag/js?id=${n}`,document.head.appendChild(r);let i=GameSDK.player.getID();if(!i)throw new Error("User ID is undefined.");_e(i,a,t)}catch(e){M(e)}finally{Q()}},M=e=>{let{analytics:t}=codex;t?.event("app_crash_handle",{error:e});let n=e instanceof Error?e:new Error(String(e));window.__errorQueue?.push(n)},_e=(e,t,n)=>{try{window.focus();let a=GameSDK.getEntryPointData()||{},{fbig_ad_id:r,fbig_adset_id:i,fbig_campaign_id:s,fb_instant_game_adset_id:o,fb_instant_game_ad_id:w,fb_instant_game_campaign_id:b}=a,I=r||w,D=i||o,S=s||b;window.gtag("js",new Date),window.gtag("set","client_id",`100.${e}`),window.gtag("set","user_id",e),window.gtag("set","send_page_view",!1);let v=16;for(let W of n)window.gtag("config",W,{cookie_flags:"SameSite=NoneSecure",build:v,medium:t,campaign:S,groups:"GA"});let L=Ludex.Utils.Browser.getQueryParams().entry_point||t;x.user_id=e,x.player_id=e,x.app_version=v,x.traffic_source=t,x.traffic_source_detail=L,x.ad_id=I,x.adset_id=D,x.campaign_id=S,window.gtag("set","user_properties",x)}catch(a){M(a)}},Oe=30,Q=(e=0)=>{if(!(e>=Oe)){if(!codex?.event){setTimeout(()=>Q(e+1),50);return}J(),Te()}},J=()=>{let{analytics:e,event:t}=codex;if(!e||!t){setTimeout(()=>J(),50);return}let{Events:n,Plugins:{Analytics:{Events:{APP_LAUNCH:a,APP_INITIALIZED:r}}}}=Ludex;e.event(a),t.catchUp(n.GAME_SDK_READY,()=>{e.event(r)})},Le=()=>{try{let{player:e}=codex,t=e.getBestScore(),n=e.getGameData()?.coins??0,a=e.isFirstSession();x.new_user=a,x.coins=n,x.score=t;let r=GameSDK.getEntryPointData(),{content:i,notif_id:s}=r||{};(i||s)&&(x.traffic_source_detail=i??`notif_${s}`),window.gtag("set","user_properties",x)}catch(e){M(e)}},Te=()=>{try{if(!GameSDK.player.getID())return;codex.event.catchUp(Ludex.Events.PLAYER_INFO_LOADED,Le)}catch(e){M(e)}},Z=()=>{let{GameSDK:e}=window;if(!e){setTimeout(Z,50);return}Y()},Z()});function tn(){let e=arguments;e[0]==="event"&&(typeof e[2]!="object"&&(e[2]={}),e[2].build=16,e[2].send_to="GA",e[2].extend_session=1),window.dataLayer.push(e)}function nn(){try{let e="G-0NDF7HM7HY";if(!e)return;let t=e.split(" ")[0],n=document.createElement("link");n.rel="preload",n.href=`https://www.googletagmanager.com/gtag/js?id=${t}`,n.as="script",document.head.appendChild(n)}catch{}}var y=l(()=>{"use strict";window.dataLayer=window.dataLayer||[],window.gtag=tn,nn()}),_,m=l(()=>{"use strict";_=window.performance||{},(typeof _.mark!="function"||typeof _.measure!="function")&&(_={mark:()=>{},measure:()=>{}}),_.mark("load-start"),window.__perf=_}),Ce,K,ee=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),Ce=class{adapter;extra;currentContextID=null;currentContextType="SOLO";currentContextPlayers=[];s=null;e=null;o=null;m;v=[];d;constructor(e){this.adapter=e,this.extra=e.extra}setCurrentContextId(e){this.f(e),this.currentContextID=e,this.currentContextType="THREAD"}initContextInfo(e,t){let{Array:n,String:a}=Ludex.Utils;if(this.m={},this.d={},this.v=n.fillWith(10,()=>a.generateObjectId()),!(!e||!t)){if(["SOLO","THREAD","POST","GROUP"].indexOf(t)<0)return;this.currentContextID=e,this.currentContextType=t}}getID(){return this.currentContextID}getType(){return this.currentContextType}async q(){if(this.o)return;let e=(await import("./chunks-IWF4QUTW.js")).default;typeof e=="function"&&(this.o=new e,await this.o.setupTemplate())}async X(){if(this.s)return;let e=(await import("./chunks-IWF4QUTW.js")).default;typeof e=="function"&&(this.s=new e,await this.s.setupTemplate())}async Y(){if(this.e)return;let e=(await import("./chunks-IWF4QUTW.js")).default;typeof e=="function"&&(this.e=new e,await this.e.setupTemplate())}async switchAsync(e,t=!1){if(this.extra.checkPopupShown(),await this.extra.awaitRandomDelay(),this.validateSwitchAsyncContextId(e),e==="SOLO"&&t){this.currentContextID=null,this.currentContextType="SOLO",this.g([]);return}await this.q(),await new Promise((a,r)=>{this.o||this.adapter.extra.exceptionUnsupported(),this.o.onYes(this.r(a)),this.o.onNo(this.i(r)),this.o.show(e),this.extra.isPopupShown=!0}),this.currentContextID=e,this.currentContextType="THREAD",this.U(e,10);let n=this.d[e].map(a=>this.S(a));this.g(n)}async chooseAsync(e){this.extra.checkPopupShown(),await this.extra.awaitRandomDelay(),await this.X(),await new Promise((r,i)=>{this.s||this.adapter.extra.exceptionUnsupported(),this.s.onYes(this.r(r)),this.s.onNo(this.i(i)),this.s.show(),this.extra.isPopupShown=!0});let t=Math.floor(Math.random()*this.v.length),n=this.v[t];this.f(n),this.currentContextID=n,this.currentContextType="THREAD",this.U(n,2);let a=this.d[n].map(r=>this.S(r));this.g(a)}async createAsync(e){if(this.extra.checkPopupShown(),await this.extra.awaitRandomDelay(),await this.Q(e),await this.Y(),await new Promise((a,r)=>{this.e||this.adapter.extra.exceptionUnsupported(),this.e.onYes(this.r(a)),this.e.onNo(this.i(r)),this.e.show(e),this.extra.isPopupShown=!0}),!this.m[e]){let{Utils:{String:a}}=Ludex;this.m[e]=a.generateObjectId()}let t=this.m[e];this.f(t),this.currentContextID=t,this.currentContextType="THREAD";let n=this.S(e);this.g([n])}r=e=>()=>{this.extra.isPopupShown=!1,e(!0)};i=e=>()=>{this.extra.isPopupShown=!1;try{this.extra.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}};async getPlayersAsync(){return await this.extra.awaitRandomDelay(),this.currentContextPlayers}U(e,t){if(!this.d[e]){let{Array:n,String:a}=Ludex.Utils,r=Math.floor(Math.random()*t),i=n.fillWith(r,()=>a.generateObjectId());this.d[e]=i}return this.d[e]}S(e){return{getID:()=>e,getName:()=>`Player ${e}`,getPhoto:()=>""}}g(e){if(this.currentContextType==="SOLO"){this.currentContextPlayers=[];return}this.currentContextPlayers=e}f(e){this.currentContextID===e&&this.extra.exceptionSameContext()}async Q(e){if((!e||Array.isArray(e))&&this.extra.exceptionClientUnsupportedOperation("Client does not support no player IDS or multiple player IDs yet"),!Ludex.Utils.Valid.isString(e)){let n=`Array of type String contained a value of another type: ${e}`;this.extra.exceptionInvalidParam(n)}if(e===GameSDK.player.getID()&&this.extra.exceptionInvalidParam("At least one player id besides the current player must be provided."),(await GameSDK.player.getConnectedPlayersAsync()).some(n=>n.getID()===e))return;let t=`Provided ID ${e} is not a connected player of the current player.`;this.extra.exceptionInvalidParam(t)}validateSwitchAsyncContextId(e){this.f(e),!Ludex.Utils.Valid.isString(e)&&this.extra.exceptionClientUnsupportedOperation("Client requires update to support this operation")}},K=Ce}),Me,an=l(()=>{Me="./assets/async-popup.html"}),ke,rn=l(()=>{ke="./assets/loading.html"}),Ue,k,te,Re,Ge,Ne=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),an(),rn(),Ue=e=>!!document.querySelector(e),k={},te=async e=>{let{template:t,selector:n}=e;if(t in k)return await k[t],document.querySelector(n);let a=(await fetch(t)).text();k[t]=a;let r=await k[t];return Ue(n)||document.body.insertAdjacentHTML("beforeend",r),document.querySelector(n)},Re=async()=>te({template:Me,selector:"#async-popup-container"}),Ge=async()=>te({template:ke,selector:"#loading-screen"})}),je,Ke,Be,sn=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),Ne(),Ke=class{w=0;a=null;constructor(){this.J()}async J(){this.a=await Ge(),this.a&&(this.a.setAttribute("data-clarity-unmask","true"),this.Z())}Z(){if(!this.a)return;let e="logo-128x128.png",t=this.a.querySelector("#lds-game-icon");t&&t instanceof HTMLElement&&(t.style.backgroundImage=`url(${e})`,t.style.backgroundColor="transparent");let n=this.a.querySelector("#lds-game-icon-blur");n&&n instanceof HTMLElement&&(n.style.backgroundImage=`url(${e})`,n.style.backgroundColor="transparent")}setLoadingProgress(e){if(this.w>=e)return;this.w=e,this.w>=100&&(this.w=100);let t=document.getElementById("lds-percent");t&&(t.innerHTML=`${e}`)}displayWarnLoading(e){let t=document.getElementById("lds-warn-text");t&&(clearTimeout(je),e?(t.style.display="block",t.offsetWidth,t.style.opacity="0.8"):(t.style.opacity="0",je=setTimeout(()=>{t.style.display="none"},300)))}removeLoadingElement(){this.a&&(this.a.style.opacity="0",setTimeout(()=>{this.a?.remove()},300))}},Be=Ke}),Fe,ze,on=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),Fe=class extends Error{code;constructor(e,t){super(t),this.code=e}},ze=Fe}),He,Ve,ne,We=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),sn(),on(),He=1e4,Ve=class{adapter;isGuest=!1;isPopupShown=!1;loadingElement=null;constructor(e){this.adapter=e}isRestricted(){return!1}async subscribeBotAsync(){if(!await this.adapter.player.canSubscribeBotAsync())return!1;let{analytics:e}=codex,{Plugins:{Analytics:{Events:{BOT_SUBSCRIBE:t,BOT_SUBSCRIBE_POPUP:n}}}}=Ludex;e.event(n);try{return await this.R(),await this.adapter.player.subscribeBotAsync(),e.event(t,{success:!0}),!0}catch{return e.event(t,{success:!1}),!1}}async checkAndCreateShortcutAsync(){if(!await this.adapter.canCreateShortcutAsync())return;let{analytics:e}=codex,{Plugins:{Analytics:{Events:{SHORTCUT_CREATE:t,SHORTCUT_CREATE_POPUP:n}}}}=Ludex;e.event(n);try{await this.R(),await this.adapter.createShortcutAsync(),e.event(t,{success:!0})}catch{e.event(t,{success:!1})}}R(){let{Utils:{Valid:e}}=Ludex;return e.isValueChangeAsync(()=>window.__sdkInitiated,!0,{timeout:1e4,checkInterval:100})}async waitLudexReadyAsync(){let e=0;return new Promise(t=>{let n=setInterval(()=>{if("Ludex"in window){clearInterval(n),t();return}e+=10,e>He&&(e=0)},10)})}createLoadingElement(){this.loadingElement||(this.loadingElement=new Be)}setLoadingElementProgress(e){this.loadingElement&&this.loadingElement.setLoadingProgress(e)}displayWarnLoading(e){this.loadingElement&&this.loadingElement.displayWarnLoading(e)}destroyLoadingElement(){this.loadingElement&&this.loadingElement.removeLoadingElement()}checkPopupShown(){this.isPopupShown&&this.exceptionPendingRequest("Please wait for the popup to close")}async delayInitialAsync(){let{Utils:{Time:e},Configs:{Mockup:{GameSDK:{SlowAPI:t}}}}=Ludex;!t.Enabled||t.InitialDelay<=0||await e.sleepAsync(t.InitialDelay)}async delayStartAsync(){let{Configs:{Mockup:{GameSDK:{SlowAPI:e}}},Utils:{Time:t}}=Ludex;!e.Enabled||e.StartDelay<=0||await t.sleepAsync(e.StartDelay)}async delayPlayerDataAsync(){let{Configs:{Mockup:{GameSDK:{SlowAPI:e}}},Utils:{Time:t}}=Ludex;!e.Enabled||e.PlayerDataDelay<=0||await t.sleepAsync(e.PlayerDataDelay)}awaitRandomDelay(e=1e3){let{Utils:{Time:t}}=Ludex;return t.sleepAsync(Math.random()*e)}randomException(e){let t=Math.floor(Math.random()*e.length),n=e[t];this[`exception${n}`]()}getErrorMessage(e){let{Valid:t,Object:n}=Ludex.Utils;return!n.hasOwn(e,"message")||!t.isString(e.message)?null:e.message}t(e,t){throw new ze(e,t)}exceptionUserInput(e){this.t("USER_INPUT",e)}exceptionUnsupported(){this.t("UNSUPPORTED","Unsupported method")}exceptionInvalidParam(e){this.t("INVALID_PARAM",e)}exceptionPendingRequest(e){this.t("PENDING_REQUEST",e)}exceptionMethodNotImplemented(){this.t("METHOD_NOT_IMPLEMENTED","Method not implemented")}exceptionTournamentNotFound(e){this.t("TOURNAMENT_NOT_FOUND",e)}exceptionSameContext(){this.t("SAME_CONTEXT","Must specify a context other than the current one.")}exceptionInvalidOperation(e){this.t("INVALID_OPERATION",e)}exceptionNetworkFailure(e="Request failed to be processed"){this.t("NETWORK_FAILURE",e)}exceptionUnknown(e){this.t("UNKNOWN",e)}exceptionClientUnsupportedOperation(e){this.t("CLIENT_UNSUPPORTED_OPERATION",e)}exceptionRateLimited(e){this.t("RATE_LIMITED",e)}},ne=Ve}),ae,re,$e,ie,qe=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),ae="Tile Connect".replace(/ /g,"-"),re="https://picsum.photos/seed/%1/300/300",$e=class{adapter;extra;defaultPlayerInfo;currentPlayerInfo;infoKey=`${ae}_PlayerInfo`;dataKey=`${ae}_PlayerData`;u=null;b=null;constructor(e){this.adapter=e,this.extra=e.extra,this.initDefaultPlayerInfo()}initDefaultPlayerInfo(){let e="guest-007";this.defaultPlayerInfo={playerId:e,playerName:"Guest",playerPhoto:re.replace("%1",e)},this.extra.isGuest=!0,this.currentPlayerInfo=C({},this.defaultPlayerInfo)}initPlayerInfo(e){this.updateCurrentPlayerInfo(e);let{Utils:{Browser:t}}=Ludex;t.writeLocalStorage(this.infoKey,this.currentPlayerInfo)}async canSubscribeBotAsync(){return await this.G(),this.u||this.extra.exceptionUnsupported(),this.u.canSubscribeBotAsync()}async subscribeBotAsync(){return await this.G(),this.u||this.extra.exceptionUnsupported(),this.u.subscribeBotAsync()}getID(){return this.currentPlayerInfo.playerId}getName(){return this.currentPlayerInfo.playerName}getPhoto(){return this.currentPlayerInfo.playerPhoto}async getDataAsync(e){if(e.length<1)return{};await this.extra.delayPlayerDataAsync();let{Utils:{Browser:t,Valid:n,Object:a}}=Ludex,r=t.getLocalStorage(this.dataKey);if(!n.isObject(r))return{};let i={};for(let s of e)a.hasOwn(r,s)&&(i[s]=r[s]);return i}async setDataAsync(e){await this.extra.delayPlayerDataAsync();let{Utils:{Browser:t}}=Ludex;t.writeLocalStorage(this.dataKey,e)}async getSignedPlayerInfoAsync(){return{getPlayerID:()=>this.getID()??"",getSignature:this.ee}}async getConnectedPlayersAsync(){return await this.te(),this.b||this.extra.exceptionUnsupported(),this.b.getConnectedPlayersAsync()}updateCurrentPlayerInfo(e){let{Utils:{Browser:t,Valid:n,Object:a,String:r}}=Ludex,i=e??"";if(this.extra.isGuest){let o=t.getLocalStorage(this.infoKey);n.isObject(o)&&a.hasOwn(o,"playerId")&&n.isString(o.playerId)&&(i=o.playerId)}n.isEmpty(i)&&(i=r.generateObjectId());let s=this.getName();if(n.isEmpty(s)){let{language:o}=codex;s=o.getText("core.nameless")??"Nameless"}this.currentPlayerInfo.playerId=i,this.currentPlayerInfo.playerName=s,this.currentPlayerInfo.playerPhoto=re.replace("%1",i),this.ne(i)}ae(){let{Match:e}=Ludex.Configs.Mockup;return e.Enabled?e.PlayerInfo:null}re(){let{Match:e}=Ludex.Configs.Mockup;return e.Enabled?e.OpponentInfo:null}ne(e){let t=this.re();e!==t?.Id&&(t=this.ae()),t&&(this.currentPlayerInfo.playerId=t.Id,t.Name&&(this.currentPlayerInfo.playerName=t.Name),t.Photo&&(this.currentPlayerInfo.playerPhoto=t.Photo))}ee=()=>{let e=this.ie();return Ludex.Utils.Valid.isString(e)?e:"default_token"};ie(){let{Configs:{Mockup:{Match:e}}}=Ludex,t=e.PlayerInfo.Id===this.getID(),n=e.OpponentInfo.Id===this.getID();return t?e.PlayerInfo.Signature:n?e.OpponentInfo.Signature:null}async G(){if(this.u)return;let e=(await import("./chunks-IWF4QUTW.js")).default;typeof e=="function"&&(this.u=new e(this.adapter))}async te(){if(this.b)return;let e=(await import("./chunks-IWF4QUTW.js")).default;typeof e=="function"&&(this.b=new e(this.extra))}},ie=$e}),Xe,Ye,ln=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),Xe=class{id;A;P;D;E;_;constructor(e,t,n=!1){let{config:a,data:r}=t;this.id=e,this.A=a.title,this.P=`0123${this.id}`,this.D=JSON.stringify(r??{}),this.E=a.endTime??this.se(),this._=n?"PAGE_HOSTED":"DEFAULT"}se(){return Math.round((Date.now()+1e3*60*60*24*7)/1e3)}getID(){return this.id}getTitle(){return this.A}getPayload(){return this.D}getEndTime(){return this.E}getContextID(){return this.P}getTournamentType(){return this._}toObject(){return{id:this.id,title:this.A,payload:this.D,endTime:this.E,contextId:this.P,tournamentType:this._}}},Ye=Xe}),O,Qe,Je,Ze,et,tt,se,B,nt,oe,at=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),ee(),ln(),O=["Unsupported","NetworkFailure","PendingRequest","ClientUnsupportedOperation"],Qe=[...O,"InvalidParam","UserInput"],Je=[...O,"InvalidOperation","UserInput"],Ze=[...O,"InvalidParam","UserInput"],et=[...O,"InvalidParam","UserInput"],tt=[...O,"NetworkFailure"],se="TournamentsDataMockKey",B="TournamentLeadersMockKey",nt=class{adapter;extra;context;l=null;e=null;constructor(e){this.adapter=e,this.extra=e.extra,this.context=e.context}async initTournamentInfoAsync(e){let{Configs:{Mockup:{GameSDK:{Tournament:{Enabled:t}}}}}=Ludex;t&&(await this.createMockTournamentsData(),e&&await this.oe(e))}oe=async e=>{this.N(e)&&await this.joinAsync(e)};async createMockTournamentsData(){let{Utils:{Object:e},Configs:{Mockup:{GameSDK:{Tournament:{Enabled:t,NumOfTournament:n}}}}}=Ludex,{Normal:a,HostPage:r}=n;if(!t)return;let i=this.p(),s=e.vals(i),o=this.le(s),w=o.filter($=>$.tournamentType==="DEFAULT"),b=o.filter($=>$.tournamentType==="PAGE_HOSTED"),{length:I}=w,{length:D}=b,S=a-I,v=r-D,L=this.ce(S),W=this.de(v);await Promise.all([...L,...W])}le(e){let t=Date.now()/1e3,n=e.filter(r=>r.endTime>t),a={};for(let r of n)a[r.id]=r;return this.j(a),n}ce(e){let{Utils:{String:t,Array:n,Number:a},Configs:{Mockup:{GameSDK:{Tournament:{ExtraPlayerTournamentPayload:r}}}}}=Ludex,{leaderboard:i}=codex,s=GameSDK.player.getID(),o=GameSDK.player.getName();return n.length(e).map(async()=>{let w=`${o}'s Tournament ${t.generateObjectId()}`,b=await i.createLeaderboardAsync({name:w}),I=this.O({initialScore:0,config:{title:w,tournamentTitle:w},data:C({playerId:s,playerName:o,leaderboardId:b},r)}).getID().toString();if(this.I(I))return;let D=a.random(2),S=codex.player.getConnectedPlayerIds(D,0).map(v=>({playerId:v,score:a.random(4)}));S.sort((v,L)=>v.score-L.score),this.L(I,S)})}de(e){let{Utils:{String:t,Array:n,Number:a},Configs:{Mockup:{GameSDK:{Tournament:{ExtraGlobalTournamentPayload:r}}}}}=Ludex,{leaderboard:i}=codex;return n.length(e).map(async()=>{let s=t.generateObjectId(),o=C({leaderboardId:s,playerId:"global"},r),w=`Global Tournament ${s}`;await i.createLeaderboardAsync({name:w,_id:s,type:"world_tournament_leaderboard",description:JSON.stringify(o)});let b=this.O({initialScore:0,config:{title:w,tournamentTitle:w},data:o},!0).getID().toString();if(this.I(b))return;let I=a.random(2),D=n.length(I).map(()=>({playerId:t.generateObjectId(),score:a.random(4)}));D.sort((S,v)=>S.score-v.score),this.L(b,D)})}async n(){let{Configs:{Mockup:{GameSDK:{Tournament:{RandomDelayMs:e}}}}}=Ludex;return this.extra.awaitRandomDelay(e)}randomError(e){let{Configs:{Mockup:{GameSDK:{Tournament:{ErrorRates:t}}}}}=Ludex;Math.random()*100<t&&this.extra.randomException(e)}async ue(){if(this.e)return;let e=(await import("./chunks-IWF4QUTW.js")).default;typeof e=="function"&&(this.e=new e,await this.e.setupTemplate())}async he(){if(this.l)return;let e=(await import("./chunks-IWF4QUTW.js")).default;typeof e=="function"&&(this.l=new e,await this.l.setupTemplate())}async createAsync(e){this.extra.checkPopupShown(),await this.n(),this.context.getID()!==null&&this.extra.exceptionInvalidOperation("Cannot create tournament while in a context"),this.pe(e),this.randomError(Qe),await this.ue(),await new Promise((a,r)=>{this.e||this.adapter.extra.exceptionUnsupported(),this.e.onYes(this.r(a)),this.e.onNo(this.i(r)),this.e.show(e),this.extra.isPopupShown=!0});let t=this.O(e),n=t.getContextID();return this.ye(n),t}O(e,t=!1){let{Utils:{String:n}}=Ludex,a=n.generateObjectId(),r=new Ye(a,e,t),i=r.toObject();return this.me(a,i),r}async postScoreAsync(e){await this.n(),this.K(),e<0&&this.extra.exceptionInvalidParam("Score must be a positive number"),this.randomError(et);let t=codex.player.getPlayerId();this.B(t,e)}async shareAsync(e){this.extra.checkPopupShown(),await this.n(),this.K(),this.fe(e),this.randomError(Ze),await this.he();let{score:t}=e,n=t,a=this.T();if(a){let i=codex.player.getPlayerId(),s=a.getID().toString(),o=this.ge(s,i);o&&o<t&&(n=o)}await new Promise((i,s)=>{this.l||this.adapter.extra.exceptionUnsupported(),this.l.onYes(this.r(i)),this.l.onNo(this.i(s)),this.l.show(n),this.extra.isPopupShown=!0});let r=codex.player.getPlayerId();this.B(r,t)}async getTournamentsAsync(){await this.n(),this.randomError(tt);let e=this.p(),{Utils:{Object:t}}=Ludex;return t.vals(e).map(n=>this.C(n.id)).filter(n=>n!==null)}async joinAsync(e){await this.n();let{Utils:{Valid:t}}=Ludex;t.isString(e)||this.extra.exceptionInvalidParam("Tournament ID must be a string");let n=this.C(e);n||this.extra.exceptionTournamentNotFound("Tournament could not be found."),this.randomError(Je);let a=n.getContextID();await GameSDK.context.switchAsync(a)}ye(e){this.context instanceof K&&this.context.setCurrentContextId(e)}r=e=>()=>{this.extra.isPopupShown=!1,e(!0)};i=e=>()=>{this.extra.isPopupShown=!1;try{this.extra.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}};T(){let e=this.context.getID();if(!e)return null;let t=this.p();for(let n in t)if(Object.hasOwn(t,n)&&t[n].contextId===e)return this.C(n);return null}pe(e){let{Utils:{Object:t,Valid:n}}=Ludex;n.isObject(e)||this.extra.exceptionInvalidParam("Payload must be an object"),t.hasOwn(e,"initialScore")||this.extra.exceptionInvalidParam("Payload must have initialScore"),t.hasOwn(e,"config")||this.extra.exceptionInvalidParam("Payload must have config");let{initialScore:a,config:r}=e;n.isNumber(a)||this.extra.exceptionInvalidParam("initialScore must be a number"),n.isObject(r)||this.extra.exceptionInvalidParam("Config must be an object"),t.hasOwn(r,"title")||this.extra.exceptionInvalidParam("Config must have title"),t.hasOwn(r,"tournamentTitle")||this.extra.exceptionInvalidParam("Config must have tournamentTitle"),t.hasOwn(e,"data")&&!n.isObject(e.data)&&this.extra.exceptionInvalidParam("Data must be an object")}fe(e){let{Utils:{Object:t,Valid:n}}=Ludex;n.isObject(e)||this.extra.exceptionInvalidParam("Payload must be an object"),t.hasOwn(e,"score")||this.extra.exceptionInvalidParam("Payload must have score");let{score:a}=e;n.isNumber(a)||this.extra.exceptionInvalidParam("Score must be a number"),t.hasOwn(e,"data")&&!n.isObject(e.data)&&this.extra.exceptionInvalidParam("Data must be an object")}K(){this.T()||this.extra.exceptionTournamentNotFound("There is no tournament for this context.")}C(e){let t=this.N(e);return t?{getID:()=>t.id,getTitle:()=>t.title,getPayload:()=>t.payload,getEndTime:()=>t.endTime,getContextID:()=>t.contextId,getTournamentType:()=>t.tournamentType}:null}N(e){let t=this.p();return t[e]?t[e]:null}me(e,t){let n=this.p();n[e]=t,this.j(n)}p(){let{Utils:{Browser:e,Valid:t}}=Ludex,n=e.getLocalStorage(se);return t.isObject(n)?n:{}}j(e){let{Utils:{Browser:t,Valid:n}}=Ludex;n.isObject(e)&&t.writeLocalStorage(se,e)}ge(e,t){let n=this.F(e,t);return n?n.score??null:null}B(e,t){let n=this.T();if(!n)return;let a=n.getID().toString();if(!a)return;let r=this.F(a,e);if(!r){this.z(a,{playerId:e,score:t});return}r.score<t&&(r.score=t,this.z(a,r))}F(e,t){let n=this.I(e);if(!n.length)return null;let{Utils:{Array:a}}=Ludex;return a.search(n,r=>r.playerId===t)??null}I(e){let{Utils:{Browser:t,Object:n}}=Ludex,a=t.getLocalStorage(B);if(!n.hasOwn(a,e))return[];let r=a[e];return Array.isArray(r)?(r.sort((i,s)=>s.score-i.score),r):[]}z(e,t){let{Utils:{Array:n}}=Ludex,a=this.I(e),r=n.searchIndex(a,i=>i.playerId===t.playerId);r===-1?a.push(t):a[r]=t,this.L(e,a)}L(e,t){let{Utils:{Browser:n,Object:a}}=Ludex;if(!Array.isArray(t))return;let r=n.getLocalStorage(B)??{};a.assign(r,{[e]:t}),n.writeLocalStorage(B,r)}},oe=nt}),U,rt,it,st,ot,le,F,lt,ct,cn=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),U=["Unsupported","NetworkFailure","PendingRequest","ClientUnsupportedOperation"],rt=[...U,"InvalidParam"],it=[...U,"InvalidParam","UserInput"],st=[...U,"NetworkFailure"],ot=[...U,"InvalidParam","UserInput"],le="ProductsDataMockKey",F="PurchasesDataMockKey",lt=class{adapter;extra;context;c=null;constructor(e){this.adapter=e,this.extra=e.extra,this.context=e.context}async initPaymentInfoAsync(){let{Configs:{Mockup:{GameSDK:{Payments:{Enabled:e}}}}}=Ludex;e&&await this.createMockProductsData()}async getCatalogAsync(){await this.n(),this.randomError(rt);let e=this.M();return Object.values(e)}async we(){if(this.c)return;let e=(await import("./chunks-VMRR5ICN.js")).default;typeof e=="function"&&(this.c=new e,await this.c.setupTemplate())}async purchaseAsync(e){return this.extra.checkPopupShown(),await this.n(),this.xe(e),this.randomError(it),await this.we(),await new Promise((t,n)=>{this.c||this.adapter.extra.exceptionUnsupported(),this.c.onYes(this.r(t)),this.c.onNo(this.i(n)),this.c.show(e),this.extra.isPopupShown=!0}),this.be(e)}async getPurchasesAsync(){await this.n(),this.randomError(st);let e=this.adapter.player.getID();return e?this.k()[e]||[]:[]}async consumePurchaseAsync(e){await this.n(),this.Ie(e),this.randomError(ot);let t=this.adapter.player.getID();if(!t)return;let n=(this.k()[t]||[]).filter(a=>a.purchaseToken!==e);this.H(t,n)}onReady(e){e()}async n(){let{Configs:{Mockup:{GameSDK:{Payments:{RandomDelayMs:e}}}}}=Ludex;return this.extra.awaitRandomDelay(e)}randomError(e){let{Configs:{Mockup:{GameSDK:{Payments:{ErrorRates:t}}}}}=Ludex;Math.random()*100<t&&this.extra.randomException(e)}xe(e){let{Utils:{Object:t,Valid:n}}=Ludex;n.isObject(e)||this.extra.exceptionInvalidParam("Config must be an object"),t.hasOwn(e,"productID")||this.extra.exceptionInvalidParam("Config must have productID");let{productID:a}=e;n.isString(a)||this.extra.exceptionInvalidParam("productID must be a string"),t.hasOwn(e,"developerPayload")&&!n.isString(e.developerPayload)&&this.extra.exceptionInvalidParam("developerPayload must be a string")}Ie(e){let{Utils:{Valid:t}}=Ludex;t.isString(e)||this.extra.exceptionInvalidParam("Purchase token must be a string")}be(e){let{Utils:{String:t}}=Ludex,n={productID:e.productID,paymentID:t.generateObjectId(),purchaseToken:t.generateObjectId(),purchaseTime:new Date().toISOString(),developerPayload:e.developerPayload,signedRequest:t.generateObjectId()},a=this.adapter.player.getID();if(a){let r=this.k()[a]||[];r.push(n),this.H(a,r)}return n}async createMockProductsData(){let{Configs:{Mockup:{GameSDK:{Payments:{Enabled:e,Products:t}}}}}=Ludex;if(!e)return;let n=this.M();if(Object.values(n).length>=t.length)return;let a=this.ve();await Promise.all(a)}ve(){let{Configs:{Mockup:{GameSDK:{Payments:{Products:e}}}}}=Ludex;return e.map(t=>{let n={productID:t.id,title:`Product ${t.id}`,description:`Description for ${t.id}`,price:t.price.toString(),priceCurrencyCode:"USD"};return this.Se(t.id,n),n})}M(){let{Utils:{Browser:e,Valid:t}}=Ludex,n=e.getLocalStorage(le);return t.isObject(n)?n:{}}Se(e,t){let n=this.M();n[e]=t,this.Ae(n)}Ae(e){let{Utils:{Browser:t,Valid:n}}=Ludex;n.isObject(e)&&t.writeLocalStorage(le,e)}k(){let{Utils:{Browser:e,Valid:t}}=Ludex,n=e.getLocalStorage(F);return t.isObject(n)?n:{}}H(e,t){let{Utils:{Browser:n}}=Ludex;if(!Array.isArray(t))return;let a=n.getLocalStorage(F)??{};a[e]=t,n.writeLocalStorage(F,a)}r=e=>()=>{this.extra.isPopupShown=!1,e(!0)};i=e=>()=>{this.extra.isPopupShown=!1;try{this.extra.exceptionUserInput("Player closed the context menu")}catch(t){e(t)}}},ct=lt}),dt,ce,ut=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),ee(),We(),qe(),at(),cn(),dt=class{extra;player;context;tournament;payments;h=null;isInitialized=!1;bannerAdInstances={};rewardedVideoInstance=null;interstitialAdInstance=null;rewardedInterstitialInstance=null;initialize(){this.extra=new ne(this),this.player=new ie(this),this.context=new K(this),this.tournament=new oe(this),this.payments=new ct(this)}isNeedSDK(){return Ie?.AllowWithoutSDK!==!0}getLocale(){return Ludex.Utils.Browser.getLocale()}getPlatform(){let{Device:e}=Ludex.Utils;return e.isAndroid()?"ANDROID":e.isIOS()?"IOS":e.isDesktop()?"WEB":e.isMobile()?"MOBILE_WEB":null}getSDKName(){return"Ludex"}getSDKVersion(){return"1.0.0"}async initializeAsync(){if(this.isInitialized)return;this.initialize(),this.extra.createLoadingElement(),this.isNeedSDK()&&await this.checkSDKInitialized(),await this.extra.waitLudexReadyAsync(),await this.extra.delayInitialAsync();let e=Ludex.Utils.Browser.getQueryParams();if(e.splashPreview){this.extra.destroyLoadingElement();return}let t=e.playerId;this.player.initPlayerInfo(t);let n=e.context_source_id,a=e.context_type;this.context.initContextInfo(n,a),this.isInitialized=!0}async checkSDKInitialized(){}async startGameAsync(e=!0){this.isInitialized||this.extra.exceptionInvalidOperation("GameSDK is not initialized"),await this.extra.delayStartAsync();let t=90;window.__sdkLoadingCount=t,this.setLoadingProgress(t),this.extra.destroyLoadingElement();let{Events:n,Utils:{Browser:{getQueryParams:a}}}=Ludex,r=a().tournament_id;await this.tournament.initTournamentInfoAsync(r),await this.payments.initPaymentInfoAsync(),e&&codex.event.emit(n.GAME_SDK_STARTED)}setLoadingProgress(e){this.extra.setLoadingElementProgress(e)}getEntryPointData(){let{Utils:{Browser:e,Json:t}}=Ludex,{payload:n="{}"}=e.getQueryParams();return typeof n!="string"?{}:t.decode(n)}async getEntryPointAsync(){return"no_entry"}async loadBannerAdAsync(e){if(e){if(!this.bannerAdInstances[e]){let t=(await import("./chunks-IWF4QUTW.js")).default;typeof t!="function"&&this.extra.exceptionInvalidOperation("Banner ads mock is not enabled"),this.bannerAdInstances[e]=new t("banner",e)}await this.bannerAdInstances[e].loadAsync(),await this.bannerAdInstances[e].showAsync()}}async hideBannerAdAsync(e){this.bannerAdInstances[e]&&await this.bannerAdInstances[e].hideAsync()}getBannerHeight(e){return e.BannerHeight}async getInterstitialAdAsync(e){if(!this.interstitialAdInstance){let t=(await import("./chunks-IWF4QUTW.js")).default;typeof t!="function"&&this.extra.exceptionInvalidOperation("Interstitial ads mock is not enabled"),this.interstitialAdInstance=new t("interstitial",e)}return this.interstitialAdInstance}async getRewardedVideoAsync(e){if(!this.rewardedVideoInstance){let t=(await import("./chunks-IWF4QUTW.js")).default;typeof t!="function"&&this.extra.exceptionInvalidOperation("Rewarded video ads mock is not enabled"),this.rewardedVideoInstance=new t("rewarded",e)}return this.rewardedVideoInstance}async getRewardedInterstitialAsync(e){if(!this.rewardedInterstitialInstance){let t=(await import("./chunks-IWF4QUTW.js")).default;typeof t!="function"&&this.extra.exceptionInvalidOperation("Rewarded interstitial ads mock is not enabled"),this.rewardedInterstitialInstance=new t("rewarded_interstitial",e)}return this.rewardedInterstitialInstance}async getTournamentAsync(){this.tournament.randomError(["Unsupported","NetworkFailure"]);let e=this.context.getID(),{Array:t,Valid:n}=Ludex.Utils;n.isString(e)||this.extra.exceptionInvalidOperation("Not in a context");let a=await this.tournament.getTournamentsAsync(),r=t.search(a,i=>i.getContextID()===e);return r||this.extra.exceptionTournamentNotFound("A Tournament with current context was not found"),r}getSupportedAPIs(){let{CanSubscribeBot:e}=Ludex.Configs.Mockup.GameSDK.Player.SubscribeBot;return e?["player.canSubscribeBotAsync"]:[]}async canCreateShortcutAsync(){return await this.V(),this.h||this.extra.exceptionUnsupported(),this.h.canCreateShortcutAsync()}async createShortcutAsync(){return await this.V(),this.h||this.extra.exceptionUnsupported(),this.h.createShortcutAsync()}async V(){if(this.h)return;let e=(await import("./chunks-IWF4QUTW.js")).default;typeof e=="function"&&(this.h=new e(this))}},ce=dt}),ht,pt,dn=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),We(),ht=class extends ne{get W(){return this.adapter.sdk}constructor(e){super(e),this.adapter=e}logEvent(e){try{let{Events:t}=Ludex.Plugins.Analytics;switch(e){case t.LOAD_START:this.W.loadStart();break;case t.LOAD_COMPLETE:this.W.loadReady();break}}catch{}}createLoadingElement(){}getCoreserData(){return this.adapter.player.getCoreserData()}},pt=ht}),yt,de,mt,un=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),yt=()=>{let e=de();if(!e)return null;let{Utils:{Browser:t,Valid:n}}=Ludex,a=t.getLocalStorage(e.playerDataKey),r=t.getLocalStorage(e.playerInfoKey),i={};return n.isObject(a)&&(i.playerData=a),n.isObject(r)&&(i.playerInfo=r),i},de=()=>{let e="Tile Connect Master",t=`${e}_fbPlayerData`,n=`${e}_guestId`;return{playerDataKey:t,playerInfoKey:n}},mt=()=>{let e=de(),{Utils:{Browser:t}}=Ludex;if(e){try{t.removeKeyLocalStorage(e.playerDataKey)}catch{}try{t.removeKeyLocalStorage(e.playerInfoKey)}catch{}}}}),ft,gt,hn=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),qe(),un(),ft=class extends ie{$={};constructor(e){super(e),this.Pe()}updateCurrentPlayerInfo(e){super.updateCurrentPlayerInfo(e);let{Utils:{String:t}}=Ludex,{playerId:n}=this.currentPlayerInfo;this.currentPlayerInfo.playerName=t.generateNameUsingString(n),this.extra.isGuest=!1}Pe(){let e=yt(),{Utils:{Valid:t}}=Ludex;!e||t.isEmpty(e)||(this.$=e,mt())}getCoreserData(){return this.$}},gt=ft}),wt,xt,pn=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),wt=class{id;title;contextId;payload;endTime;tournamentType;constructor(e){let{_id:t,name:n,type:a,createdAt:r,expireTime:i}=e,s=JSON.parse(e.description),o=C({leaderboardId:t},s);this.id=s.tournamentId,this.title=n,this.contextId=s.contextId,this.payload=JSON.stringify(o),this.endTime=Math.round((new Date(r).getTime()+i*1e3)/1e3),this.tournamentType=a==="world_tournament_leaderboard"?"PAGE_HOSTED":"DEFAULT"}getID(){return this.id}getTitle(){return this.title}getPayload(){return this.payload}getEndTime(){return this.endTime}getContextID(){return this.contextId}getTournamentType(){return this.tournamentType}},xt=wt}),bt,It,yn=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),at(),pn(),bt=class extends oe{async joinAsync(e){let{Array:t}=Ludex.Utils,n=await this.getTournamentsAsync(),a=t.search(n,r=>r.getID()===e);a||this.extra.exceptionTournamentNotFound("Tournament could not be found."),await GameSDK.context.switchAsync(a.getContextID())}async getTournamentsAsync(){let e=[];try{let{leaderboard:t}=codex,n=await t.requestLeaderboardsAsync({limit:100,type:"world_tournament_leaderboard"});for(let a of n){let r=new xt(a);e.push(r)}}catch{}return e}},It=bt}),vt,St,mn=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),ee(),vt=class extends K{getID(){return this.currentContextID}getType(){return this.currentContextType}async switchAsync(e,t=!1){if(this.validateSwitchAsyncContextId(e),e==="SOLO"&&t){this.currentContextID=null,this.currentContextType="SOLO";return}this.currentContextID=e,this.currentContextType="THREAD"}async getPlayersAsync(){return await this.extra.awaitRandomDelay(),this.currentContextPlayers}},St=vt}),At,Pt,fn=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),ut(),dn(),hn(),yn(),mn(),At=class extends ce{sdk;constructor(e){super(),this.sdk=e}initialize(){super.initialize(),this.extra=new pt(this),this.player=new gt(this),this.tournament=new It(this),this.context=new St(this)}getSDKName(){return"Xiaomi"}getSDKVersion(){return"1.0.0"}async checkSDKInitialized(){typeof window.funmax!="object"&&this.extra.exceptionInvalidOperation("Xiaomi SDK is not initialized")}},Pt=At}),Dt,gn,Et,ue,_t=l(()=>{"use strict";c(),d(),u(),h(),p(),y(),m(),g(),f(),Dt=class{usedCallLocations;constructor(){this.usedCallLocations=Object.create(null)}getCallerLine(){let e=new Error;if(!e.stack)return null;let t=e.stack.split(`
`)[4];return t?t.trim():null}blockAccess(){try{let e=this.getCallerLine();if(!e||this.usedCallLocations[e])return!1;if(["eval","at <","(<"].some(t=>e.includes(t)))throw new Error(`Access blocked for the caller: ${e}`);return this.usedCallLocations[e]=!0,!1}catch{return!0}}},gn=new Dt,Et=(e,t)=>{},ue=Et});function wn(){let e,t=window,n="GameSDK";return"FBInstant"in t?(n="FBInstant",e=new A(window.FBInstant)):"YaGames"in t?(n="Yandex",e=new A(window.YaGames)):"funmax"in t?(n="Xiaomi",e=new Pt(window.funmax)):"$msstart"in t?(n="MsGames",e=new A(window.$msstart)):"gdsdk"in t?(n="GameDistribution",e=new A(window.gdsdk)):"h5sdk"in t?(n="TranssionH5",e=new A(window.h5sdk)):"CrazyGames"in t?(n="CrazyGames",e=new A(window.CrazyGames.SDK)):"GlanceGamingAdInterface"in t?(n="Glance",e=new A(window.GlanceGamingAdInterface)):e=new ce,e}var f=l(()=>{"use strict";P(),P(),P(),P(),P(),P(),P(),fn(),P(),ut(),_t(),window.GameSDK=Object.seal(wn()),ue(window,"GameSDK")});function xn(e,t){var n=!1,a=!1,r=0;function i(){n&&(n=!1,e()),a&&o()}function s(){Lt(i)}function o(){var w=Date.now();if(n){if(w-r<Tt)return;a=!0}else n=!0,a=!1,setTimeout(s,t);r=w}return o}function z(e){return parseFloat(e)||0}function Ot(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(a,r){var i=e["border-"+r+"-width"];return a+z(i)},0)}function bn(e){for(var t=["top","right","bottom","left"],n={},a=0,r=t;a<r.length;a++){var i=r[a],s=e["padding-"+i];n[i]=z(s)}return n}function In(e){var t=e.getBBox();return H(0,0,t.width,t.height)}function vn(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return ye;var a=E(e).getComputedStyle(e),r=bn(a),i=r.left+r.right,s=r.top+r.bottom,o=z(a.width),w=z(a.height);if(a.boxSizing==="border-box"&&(Math.round(o+i)!==t&&(o-=Ot(a,"left","right")+i),Math.round(w+s)!==n&&(w-=Ot(a,"top","bottom")+s)),!Sn(e)){var b=Math.round(o+i)-t,I=Math.round(w+s)-n;Math.abs(b)!==1&&(o-=b),Math.abs(I)!==1&&(w-=I)}return H(r.left,r.top,o,w)}function Sn(e){return e===E(e).document.documentElement}function An(e){return V?Rt(e)?In(e):vn(e):ye}function Pn(e){var t=e.x,n=e.y,a=e.width,r=e.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(i.prototype);return pe(s,{x:t,y:n,width:a,height:r,top:n,right:t+a,bottom:r+n,left:t}),s}function H(e,t,n,a){return{x:e,y:t,width:n,height:a}}var he,V,R,Lt,Tt,Ct,Mt,kt,Ut,pe,E,ye,Rt,Gt,Nt,jt,me,fe,Dn,En=l(()=>{c(),d(),u(),h(),p(),y(),m(),g(),f(),he=function(){if(typeof Map<"u")return Map;function e(t,n){var a=-1;return t.some(function(r,i){return r[0]===n?(a=i,!0):!1}),a}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var a=e(this.__entries__,n),r=this.__entries__[a];return r&&r[1]},t.prototype.set=function(n,a){var r=e(this.__entries__,n);~r?this.__entries__[r][1]=a:this.__entries__.push([n,a])},t.prototype.delete=function(n){var a=this.__entries__,r=e(a,n);~r&&a.splice(r,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,a){a===void 0&&(a=null);for(var r=0,i=this.__entries__;r<i.length;r++){var s=i[r];n.call(a,s[1],s[0])}},t}()}(),V=typeof window<"u"&&typeof document<"u"&&window.document===document,R=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Lt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(R):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Tt=2,Ct=20,Mt=["top","right","bottom","left","width","height","size","weight"],kt=typeof MutationObserver<"u",Ut=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=xn(this.refresh.bind(this),Ct)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,a=n.indexOf(t);~a&&n.splice(a,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!V||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),kt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!V||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,a=n===void 0?"":n,r=Mt.some(function(i){return!!~a.indexOf(i)});r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),pe=function(e,t){for(var n=0,a=Object.keys(t);n<a.length;n++){var r=a[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},E=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||R},ye=H(0,0,0,0),Rt=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof E(e).SVGGraphicsElement}:function(e){return e instanceof E(e).SVGElement&&typeof e.getBBox=="function"}}(),Gt=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=H(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=An(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),Nt=function(){function e(t,n){var a=Pn(n);pe(this,{target:t,contentRect:a})}return e}(),jt=function(){function e(t,n,a){if(this.activeObservations_=[],this.observations_=new he,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=a}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof E(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new Gt(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof E(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(a){return new Nt(a.target,a.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),me=typeof WeakMap<"u"?new WeakMap:new he,fe=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ut.getInstance(),a=new jt(t,n,this);me.set(this,a)}return e}(),["observe","unobserve","disconnect"].forEach(function(e){fe.prototype[e]=function(){var t;return(t=me.get(this))[e].apply(t,arguments)}}),Dn=function(){return typeof R.ResizeObserver<"u"?R.ResizeObserver:fe}()}),g=l(()=>{"use strict";En()}),A,P=l(()=>{c(),d(),u(),h(),p(),y(),m(),g(),f(),A=null});export{Vt as a,C as b,Wt as c,$t as d,l as e,qt as f,Xt as g,Qt as h,Jt as i,c as j,be as k,d as l,u as m,h as n,p as o,y as p,m as q,A as r,P as s,Re as t,Ne as u,ue as v,_t as w,f as x,g as y};
