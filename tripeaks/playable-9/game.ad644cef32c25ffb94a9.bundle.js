(function(){var t=[,,,,,,function(t,e){"use strict";e.Z=function(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*#%&!",r="",i=t;void 0!=e&&(i-=e.length,r+=e);for(var a=0;a<i;a++){var s=Math.floor(67*Math.random());r+=n.charAt(s)}return r}},,function(t){function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=function(){return[]},e.resolve=e,e.id=8,t.exports=e},function(){HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){for(var r=atob(this.toDataURL(e,n).split(",")[1]),i=r.length,a=i>>2,s=new Uint8Array(i),o=new Uint32Array(s.buffer,0,a),h=0,l=0;h<a;h++)o[h]=r.charCodeAt(l++)|r.charCodeAt(l++)<<8|r.charCodeAt(l++)<<16|r.charCodeAt(l++)<<24;for(var c=3&i;c--;)s[l]=r.charCodeAt(l++);t(new Blob([s],{type:e||"image/png"}))}})},function(t,e,n){"use strict";var r=function(t,e){return void 0===e&&(e=1),Array.from({length:Math.ceil(t.length/e)},(function(n,r){return t.slice(r*e,r*e+e)}))},i=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=[t[n],t[e]];t[e]=r[0],t[n]=r[1]}},a=function(t,e,n){return n.indexOf(t)===e&&null!==t&&void 0!==t},s=function(t){return t.filter(a)},o={chunk:r,difference:function(t,e){return t.filter((function(t){return!e.includes(t)}))},shuffle:i,unique:s},h=n(4),l=n.n(h),c=l()((function(t,e){if("string"===typeof t){var n=e[t.toLowerCase()];if("string"===typeof n)return n}return"?"})),u=l()((function(t){for(var e=null,n=[],r=/:([A-Z0-9?]+)/gm;null!==(e=r.exec(t));)n.push(e[1]);return n})),d=l()((function(t){for(var e=null,n=[],r=/([0-9]+[A-Z?]{1}|[A-Z?]{1})/gm;null!==(e=r.exec(t));){var i=e[0];if(i.length>=2){var a=i.length,s=i.slice(0,a-1),o=i[a-1],h=new Array(+s).fill(o);n.push.apply(n,h)}else n.push(i)}return n})),f=function(t,e){var n=t,r=GameCore.Utils.Object.invert(e),i={},a=0,s=0;return u(n).forEach((function(t){a=0,s++,i[s]||(i[s]={}),d(t).forEach((function(t){a++,i[s][a]=c(t,r)}))})),i},v=l()((function(t,e){var n=e[t];return"string"===typeof n?""+n.toUpperCase():"?"})),m=function t(e,n,r){void 0===r&&(r=!1);var i="";if(!GameCore.Utils.Valid.isObject(e))return i;var a="",s=1;for(var o in e)if(GameCore.Utils.Object.hasOwn(e,o)){var h=e[o];if(GameCore.Utils.Valid.isObject(h))i+=":"+t(h,n,!0);else if(GameCore.Utils.Valid.isString(h)){var l=v(h,n);l===a?(s++,i=i.slice(0,-2)):s=1,i+=""+s+l,a=l}}return i=i.replace(/1([A-Z])/g,"$1")},g=function(t){try{return atob(t)}catch(e){return""}},p={decodeMap:f,encodeMap:m,hashToString:g,stringToHash:function(t){try{return btoa(t)}catch(e){return""}}},w=function(t){try{return JSON.parse(t)}catch(e){return null}},b=function(t){try{return JSON.stringify(t,null,0)}catch(e){return""}},y=function(t){return w(b(t))},x={clone:y,decode:w,encode:b},A=function(t){var e="object"===typeof t||"function"===typeof t,n=Array.isArray(t);return null!==t&&e&&!n},S=function(t){return void 0===t||null===t},C=function t(e){if(!A(e))return e;for(var n in e){S(e[n])&&delete e[n];var r=e[n];A(r)&&(e[n]=t(r))}return e},M=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},k=function(t){var e={};return Object.keys(t).forEach((function(n){if(M(t,n)){var r=t[n];"string"===typeof r&&(e[r]=n)}})),e},T=function(t,e){if(!Array.isArray(t))return{};var n={};return t.forEach((function(t){if(M(t,e)){var r=t[e];"string"===typeof r&&(n[r]=t)}})),n},I=Object,R=function(t,e){if("assign"in I)return I.assign(t,e);var n=t;for(var r in e)n[r]=e[r];return n},E=function t(e,n){for(var r in n){var i;if(A(e[r])&&A(n[r]))t(e[r],n[r]);else R(e,((i={})[r]=n[r],i))}return e},F={clear:C,hasOwn:M,invert:k,keyBy:T,merge:E,assign:R},P=function(t){return t?t[0].toUpperCase()+t.slice(1):t},L=function(t){var e=0;if(0==t.length)return e;for(var n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n),e&=e}return e},B=function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return void 0!==r&&e.push(n+"="+r),e}),[]).join("&")},Y=function(t){void 0===t&&(t="0x");for(var e=t,n=0;n<6;n++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},D=n(6),X=function(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[\u0111\u0110]/g,(function(t){return"\u0111"===t?"d":"D"}))},O=function(t,e){var n=t.split(" "),r=(n.length<=1?[].concat(n):[n[0],n.pop()]).join(" "),i=r.lastIndexOf(" ")||0,a=i>=0?i:e;return(r.length>e?r.substring(0,a):r).substring(0,e)},V=function(t){void 0===t&&(t=16);var e=function(e){return Math.floor(e).toString(t)};return e(Date.now()/1e3)+" ".repeat(t).replace(/./g,(function(){return e(Math.random()*t)}))},N=n(16),U=function(t,e){var n=GameCore.Utils.String.removeDiacritics(t);return GameCore.Utils.String.getShortName(n,e)},W=n(15);var G=function(t){for(var e=0,n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n),e|=0}return e=Math.abs(e)},z=["James","Mary","John","Patricia","Robert","Jennifer","Michael","Linda","William","Elizabeth","David","Susan","Richard","Jessica","Joseph","Sarah","Thomas","Karen","Charles","Nancy","Christopher","Lisa","Daniel","Margaret","Matthew","Betty","Anthony","Sandra","Mark","Ashley","Donald","Dorothy","Steven","Kimberly","Paul","Emily","Andrew","Donna","Joshua","Michelle","Kenneth","Carol","Kevin","Amanda","Brian","Melissa","George","Deborah"],H=["Smith","Johnson","Williams","Jones","Brown","Davis","Miller","Wilson","Moore","Taylor","Anderson","Thomas","Jackson","White","Harris","Martin","Thompson","Garcia","Martinez","Robinson","Clark","Rodriguez","Lewis","Lee","Walker","Hall","Allen","Young","Hernandez","King","Wright","Lopez","Hill","Scott","Green","Adams","Baker","Gonzalez","Nelson","Carter","Mitchell","Perez","Roberts","Turner","Phillips","Campbell","Parker","Evans"],_=function(t){var e=G(t),n=e%z.length,r=(e>>8)%H.length,i=(e>>16)%1e4;return""+z[n]+H[r]+i},q={capitalize:P,hashCode:L,params:B,toCamelCase:function(t){var e=t.replace(/[-_\s.]+(.)?/g,(function(t,e){return e?e.toUpperCase():""}));return e.substr(0,1).toLowerCase()+e.substr(1)},toUpperCamelCase:function(t){var e=t.replace(/[-_\s.]+(.)?/g,(function(t,e){return e?e.toUpperCase():""}));return e.substr(0,1).toUpperCase()+e.substr(1)},randomColor:Y,randomName:W.Z,random:D.Z,removeDiacritics:X,getShortName:O,getShortNameWithNonDiacritic:U,generateObjectId:V,replaceVariables:N.Z,generateNameUsingString:_},Z={isBoolean:function(t){return"boolean"===typeof t},isDebugger:function(){return!1},isFunction:function(t){return"function"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:A,isPropertyKey:function(t){return["string","number","symbol"].indexOf(typeof t)>-1},isString:function(t){return"string"===typeof t},isValueChangeAsync:function(t,e,n){var r=n||{},i=r.timeout,a=void 0===i?1e3:i,s=r.checkInterval,o=void 0===s?100:s;return new Promise((function(n){var r=setInterval((function(){("function"===typeof t?t():t)===("function"===typeof e?e():e)&&(clearInterval(r),n(!0))}),o);a>0&&setTimeout((function(){clearInterval(r),n(!1)}),a)}))}},j=function(t){var e=t.scene,n=t.key,r=t.newKey,i=e.textures.get(n).getSourceImage();if(!i)return!1;var a=Math.min(i.width,i.height);r||e.textures.removeKey(n);var s=e.textures.createCanvas(r||n,a,a);s.setFilter(Phaser.Textures.FilterMode.LINEAR);var o=s.context;return o.beginPath(),o.arc(a/2,a/2,a/2,0,2*Math.PI,!1),o.clip(),s.draw((i.width-a)/2,(i.height-a)/2,i),!0},K=function(t){var e=t.scene,n=t.key,r=t.newKey,i=t.radius,a=t.width,s=t.height,o=e.textures.get(n).getSourceImage();if(!o)return!1;a||(a=o.width),s||(s=o.height),r||e.textures.removeKey(n);var h=e.textures.createCanvas(r||n,a,s);h.setFilter(Phaser.Textures.FilterMode.LINEAR);var l=h.context,c=Math.min(a,s)/100*i/2;return l.beginPath(),l.moveTo(0+c,0),l.lineTo(0+a-c,0),l.quadraticCurveTo(0+a,0,0+a,0+c),l.lineTo(0+a,0+s-c),l.quadraticCurveTo(0+a,0+s,0+a-c,0+s),l.lineTo(0+c,0+s),l.quadraticCurveTo(0,0+s,0,0+s-c),l.lineTo(0,0+c),l.quadraticCurveTo(0,0,0+c,0),l.closePath(),l.clip(),h.draw(0,0,o),!0};var J=function(){var t=GameCore.Utils.Device.pixelRatio(),e=function(){var t=document,e=t.body,n=t.documentElement,r=e.clientHeight,i=n.clientHeight;return Math.max(i,r)||0}()*t;return GameCore.Utils.Device.isDesktop()&&(e*=1.25),e<840?2:e<1e3?2.67:3},Q=function(t,e){var n=t.split(","),r=n[0].match(/:(.*?);/);if(!r)return null;for(var i=r[1],a=atob(n[n.length-1]),s=a.length,o=new Uint8Array(s);s--;)o[s]=a.charCodeAt(s);return new File([o],e,{type:i})},$=new Image,tt=function(t,e){return void 0===e&&(e=!0),new Promise((function(n){e&&($=new Image),$.onload=function(){n($)},$.onerror=function(){n(null)},$.src=URL.createObjectURL(t)}))},et=n(1),nt=n(0),rt=n.n(nt),it=function(){var t=(0,et.Z)(rt().mark((function t(e,n){var r;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(t){return t.blob()})).catch((function(){return null}));case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return t.abrupt("return",new File([r],n));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),at={drawCircle:j,drawBorder:K,getImageScale:J,base64ToFile:Q,blobToHtmlImage:tt,blobUrlToFile:it,frameToHtmlImage:n(17).Z},st=n(18),ot=function(t,e,n){void 0===n&&(n="0");for(var r=t.toString(),i=r.length,a=0;a<e-i;a++)r=n+r;return r},ht=function(t,e,n){void 0===n&&(n="0");for(var r=t.toString(),i=r.length,a=0;a<e-i;a++)r+=n;return r},lt=function(t,e){var n=(e||{}).betweenCharacter,r=void 0===n?",":n,i=t.toString().split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,r),i.join(".")},ct=function(t,e){void 0===e&&(e=1e5);var n=e;if((t=Math.floor(t))<n)return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");var r=t.toString();if(1e5<=t&&t<1e6)r=Math.floor(t/Math.pow(10,3)).toString()+"K";else if(1e6<=t&&t<1e8){var i=Math.floor(t/Math.pow(10,5)).toString(),a=i.length-1;r=i.slice(0,a)+"."+i.slice(a)+"M"}else if(1e8<=t&&t<1e9){r=Math.floor(t/Math.pow(10,6)).toString()+"M"}else if(1e9<=t){r=Math.floor(t/Math.pow(10,9)).toString()+"B"}return r.replace(/\B(?=(\d{3})+(?!\d))/g,".")},ut=function(t,e){var n=e?Math.random()>.5?1:-1:1;return Math.floor(Math.random()*t)*n},dt=n(19),ft={Array:o,Hash:p,Json:x,Object:F,String:q,Valid:Z,Image:at,Number:{toAbbreviatedString:st.Z,padStart:ot,padEnd:ht,numberWithCommas:lt,formatNumber:ct,random:ut,normalizeNumber:dt.Z},Device:{isDesktop:function(){return!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)},isMobile:function(){return/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)},isAndroid:function(){return window.__fbPlatform?"ANDROID"===window.__fbPlatform:/Android/i.test(navigator.userAgent)},isIOS:function(){return window.__fbPlatform?"IOS"===window.__fbPlatform:/iPhone|iPad|iPod/i.test(navigator.userAgent)},isMobileWeb:function(){return window.__fbPlatform?"MOBILE_WEB"===window.__fbPlatform:/mobile/i.test(navigator.userAgent)},pixelRatio:function(){return window.devicePixelRatio||1}},Time:{isToday:function(t){var e=new Date(t),n=new Date;return e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear()},sleepAsync:function(t){return new Promise((function(e){return setTimeout(e,t)}))}},Align:{topLeft:function(t,e,n){if(t.parentContainer){var r=t.parentContainer;t.setX(-r.width/2+t.width/2-e),t.setY(-r.height/2+t.height/2-n)}},bottomLeft:function(t,e,n){if(t.parentContainer){var r=t.parentContainer;t.setX(-r.width/2+t.width/2-e),t.setY(r.height/2-t.height/2+n)}},topRight:function(t,e,n){if(t.parentContainer){var r=t.parentContainer;t.setX(r.width/2-t.width/2+e),t.setY(-r.height/2+t.height/2-n)}},bottomRight:function(t,e,n){if(t.parentContainer){var r=t.parentContainer;t.setX(r.width/2-t.width/2+e),t.setY(r.height/2-t.height/2+n)}},leftCenter:function(t,e,n){if(t.parentContainer){var r=t.parentContainer;t.setX(-r.width/2+t.width/2-e),t.setY(n)}},rightCenter:function(t,e,n){if(t.parentContainer){var r=t.parentContainer;t.setX(r.width/2-t.width/2+e),t.setY(n)}},topCenter:function(t,e,n){if(t.parentContainer){var r=t.parentContainer;t.setX(e),t.setY(-r.height/2+t.height/2-n)}},bottomCenter:function(t,e,n){if(t.parentContainer){var r=t.parentContainer;t.setX(e),t.setY(r.height/2-t.height/2+n)}}}},vt=n(5),mt=n(14),gt={ENV:"production",AppId:"solitaire-tripeaks-journey",ApiHost:"https://fbig-singleplay-apps.citigo.site",OtherHost:"https://fbig-leaderboards.citigo.site",Notification:{Enable:!0},LeadersBoard:{Prefix:"leaderboards"},Debugger:{ShowConsole:!1,ShowInspector:!1,ShowMonitoring:!1},Statistics:{Enable:!1,ShowFPSInGame:!1,ShowMemoryInGame:!1},Rollbar:{Enable:!1},WeeklyTournament:{Enable:!1,LevelStart:11,LeaderboardLimit:10,UseLeaderboardMock:!1,LeaderboardMockId:void 0},BoxingDuel:{Enable:!1,LevelStart:12,Duration:6e5,MaxScore:2e3,JustBot:!1,RewardCoin:500,MockOpponent:!0},OffshoreRace:{Enable:!0,LevelStart:13,RaceOpponentCount:4,RequiredLevels:8},Ads:{Enabled:!0,Mockup:{Enable:!1},AdServiceConfigs:{Google:{DataAdClient:"ca-pub-2993382360222769",DataAdFrequencyHint:30,DataAdBreakTest:!1,DataAdChannel:"8470678732"}},InterstitialAdOptions:{secondsFirstTime:30,secondsBetweenAds:30,showWhenStartGame:!1},LevelRequired:{Interstitial:4,Rewarded:5}},GameDecoration:{Enable:!0,Load32Bit:!1,MaxLocations:2},Analytics:{GoogleAnalytics:null,FacebookAnalytics:null}},pt={ENV:"production",AppId:"solitaire-tripeaks-journey",ApiHost:"https://fbig-singleplay-apps.citigo.site",OtherHost:"https://fbig-leaderboards.citigo.site",Notification:{Enable:!0},LeadersBoard:{Prefix:"leaderboards"},Debugger:{ShowConsole:!1,ShowInspector:!1,ShowMonitoring:!1},Statistics:{Enable:!1,ShowFPSInGame:!1,ShowMemoryInGame:!1},Rollbar:{Enable:!1},WeeklyTournament:{Enable:!1,LevelStart:11,LeaderboardLimit:10,UseLeaderboardMock:!1,LeaderboardMockId:void 0},BoxingDuel:{Enable:!1,LevelStart:12,Duration:6e5,MaxScore:2e3,JustBot:!1,RewardCoin:500,MockOpponent:!0},OffshoreRace:{Enable:!0,LevelStart:13,RaceOpponentCount:4,RequiredLevels:8},Ads:{Enabled:!0,Mockup:{Enable:!1},AdServiceConfigs:{Google:{DataAdClient:"ca-pub-2993382360222769",DataAdFrequencyHint:30,DataAdBreakTest:!1,DataAdChannel:"8470678732"}},InterstitialAdOptions:{secondsFirstTime:30,secondsBetweenAds:30,showWhenStartGame:!1},LevelRequired:{Interstitial:4,Rewarded:5}},GameDecoration:{Enable:!0,Load32Bit:!1,MaxLocations:2},Analytics:{GoogleAnalytics:null,FacebookAnalytics:null}},wt={ENV:"development",AppId:"solitaire-tripeaks-journey",ApiHost:"https://fbig-singleplay-apps-dev.sunstudio.io",OtherHost:"https://leaderboards-dev.sunstudio.io",SyncProfileFromAPI:!1,Notification:{Enable:!0,DisableSendNotification:!1,ApiUrl:"https://notifications.sunstudio.io",GameTitle:"Solitaire TriPeaks Journey",GameImage:"https://sunstudio.io/images/logo.png",DailyNotificationMessages:{MONDAY:"The journey awaits! Return to Solitaire TriPeaks and conquer the next peak! \ud83c\udfd4\ufe0f",TUESDAY:"Ready for some fun? Your next adventure is waiting for you. Jump back in now! \ud83d\ude80",WEDNESDAY:"Season of Adventure starts today! Collect rewards with each peak you clear during the season. \ud83c\udf81",THURSDAY:"Today\u2019s your lucky day! Find the Lucky Card to win a bonus reward on your journey! \ud83c\udf40",FRIDAY:"You've reached a major milestone on your journey! Log in to celebrate with a special reward! \ud83c\udfa1",SATURDAY:"You\u2019re on a roll! Keep your streak alive and earn extra rewards as you progress. \u2728",SUNDAY:"Only the best can conquer this peak! Up for the challenge? Show off your TriPeaks mastery! \ud83c\udf08"}},AddShortcut:{UseMock:!1},SubscribeBot:{UseMock:!1},PlayerMock:{id:"",signature:""},OpponentMock:{id:"",signature:""},MatchMockFailRate:5,Gameplay:{StartLevel:1,StartScore:0,StartDiamonds:0,DefaultDiamondsForNewUser:300,LevelDifficultRate:{FromUnder30:1.07,FromUnder35:1.05,FromUnder45:1.05,FromUnder200:1.1},StartAdAtLevel:2,GiftTime:10800,AwardDiamonds:100,FreeItems:!1,DelayStart:2e3,DelayLevelUp:1800,DelayFinishGame:2900,EnableVibrate:!0,ChallengeReward:{winCoinCount:500,loseCoinCount:0,drawCoinCount:250}},Tutorial:{ForceUseTutorial:!1,NumberOfTutorial:{FirstMove:3,TargetScore:1,CurrentScore:1,ColorfulGem:1,ItemPaint:1,ItemHammer:1,ItemShuffle:1}},PlayerDataStore:"playerData",Game:{AutoResize:!0,PortraitRatio:360/590,PortraitWidth:360,PortraitHeight:590,LandscapeRatio:760/540,LandscapeWidth:760,LandscapeHeight:360,ForcePixelRatio:0,DisableLandscape:!1,FullSizeOnLandscape:!1},Debugger:{ShowInspector:!1,ShowMonitoring:!1,ShowConsole:!1,Expanded:!0,AutoRefresh:!0,InspectorAutoUpdate:!0,Opacity:.8,ListPlayerDevIds:[]},Statistics:{Enable:!1,DisplayMode:0,FPS:!0,MS:!0,MB:!0,Opacity:.8,ShowFPSInGame:!0,ShowMemoryInGame:!1},ParticleEditor:{Enable:!1,Opacity:.8,Expanded:!0},ProfilerPlugin:{Enable:!1},CanvasRecorder:{Enable:!1,Options:{Type:"png",Quality:.85,RecordFps:60,SyncFps:!0}},Match:{MaxRescueCount:1,RescueGamePopupTimeout:15,ContinueSingleMatchEnabled:!1,SingleMatchStore:"singleMatch",LocalSingleMatchDefault:{_id:"12345678890",status:"open",playerId:"",score:0,level:1,startedAt:0,updateAt:0,finishAt:0,data:{}}},DailyRewards:{MaxDays:7,MockTime:0,CheckInterrupt:!0},DailyTasks:{Duration:86400},Tournament:{UseMock:!1,ForcePlay:!1,UseLeaderboard:!1,TournamentContextIds:[],YourMockTournamentCount:1},LeadersBoard:{Name:null,UseMock:!1,Prefix:"leaderboards",LeaderboardId:"5fbb6bee3f2485dac9b1dfa3",Limit:50,MockOptions:{PlayerEntryIndex:-1}},LanguageSupport:{en:"en"},EnableEffectSceneTransition:!0,DefaultTheme:"default",ThemeSupport:{default:"default"},Ads:{Enabled:!0,AdService:"msgames",FallbackService:"google",AdServiceConfigs:{Google:{DataAdClient:"",DataAdFrequencyHint:30,DataAdBreakTest:!1,MaxScriptLoadRetryCount:3}},CalculateSafeAreaBottom:!0,EnableRewardVideoResetInterstitial:!1,Mockup:{Enable:!1,ErrorRate:5,GiphyApiKey:""},InterstitialAdOptions:{pID:"",showWhenStartGame:!1,secondsFirstTime:30,secondsBetweenAds:30},LevelRequired:{Interstitial:10,Rewarded:5},RewardAdOptions:{pID:"",secondsFirstTime:0,secondsBetweenAds:0},BannerAdOptions:[{placementId:"123",position:"bottom",bannerWidth:320,bannerHeight:50,platform:"MOBILE",secondsReload:60},{placementId:"456",position:"right",bannerWidth:160,bannerHeight:600,platform:"DESKTOP",secondsReload:60}]},Network:{MaximumRequest:6,Timeout:15e3,Retries:3},Analytics:{GameAnalytics:{key:"",secret:"",consoleLog:!1,CustomDesignEvents:[{name:"level_start",dimensions:["level","boosters"],metrics:[]},{name:"level_end",dimensions:["level","boosters","success"],metrics:["add_cards_count_by_ad","add_cards_count_by_coin","coins","moves","remaining_pile_count","remaining_stock_count","streak_count","time_played","undo_count","wild_card_used_count"]},{name:"luck_reward",dimensions:[""],metrics:["value"]}]},GoogleAnalytics:{consoleLog:!1},FacebookAnalytics:{prefix:"fba",consoleLog:!1}},Sentry:{errorCodes:{accepted:[],ignored:["USER_INPUT","NETWORK_FAILURE"]},errorMessages:{accepted:[],ignored:["Load image failed","Script error."]}},Rollbar:{Enable:!1,UseMockup:!1,FilterError:{Codes:{accepted:[],ignored:["USER_INPUT","NETWORK_FAILURE"]},Messages:{accepted:[],ignored:["Load image failed","Request failed to be processed","Script error."]}}},Performance:{Enable:!1,trackingSceneKeys:["DASHBOARD_SCENE","GAME_SCENE"],minQuality:1,maxQuality:2,fpsThreshold:48,checkInterval:2e3,qualityAdjustStep:.1,autoUpgradeQuality:!0,onlyUpdateWhenSwitchScene:!0},Level:{url:"./assets/levels/",urlPortrait:"./assets/levels-portrait/",alwaysLoadNew:!1},GameplayDebugger:!1,RemoteConfigs:{MaxAddCardsByCoin:99,LuckyBar:5,Interstitial:3},WeeklyTournament:{Enable:!0,LevelStart:11,LeaderboardLimit:10,UseLeaderboardMock:!1,LeaderboardMockId:void 0,Rewards:{Top1:1,Top2:1,Top3:1,Top4:7,Top5:20}},BoxingDuel:{Enable:!0,LevelStart:12,Duration:6e5,MaxScore:2e3,JustBot:!1,RewardCoin:500,MockOpponent:!1},OffshoreRace:{Enable:!0,LevelStart:13,RaceOpponentCount:4,RequiredLevels:15,Duration:18e5},RequestFullScreenBeforeStart:!1,GameDecoration:{Enable:!0,Load32Bit:!1,MaxLocations:30}};wt=(0,mt.TS)((0,vt.Z)({},wt),pt);var bt=wt=(0,mt.TS)((0,vt.Z)({},wt),gt),yt=function(t){return function(e){try{var n=window.game,r=e.module;if(n.scene.getScenes(!0)[0].scene.key!==t)return;var i=r.default;n.scene.remove(t),n.scene.add(t,i,!0),n.scene.bringToTop(n.globalScene)}catch(s){var a;null==(a=void 0)||a.invalidate()}}},xt=n(20),At=!1,St=function t(e,n,r){n.forEach((function(n){if(n.name){var i=null;if(i=r?r.getByName(n.name):e.children.getByName(n.name)){if("Container"===n.type){var a=i,s=n.getAll();if(t(e,s,a),!a.hotContainer)return}var o=Reflect.ownKeys(n),h=["_events","_sysEvents","input","localTransform","list","displayList"],l=o.filter((function(t){if("string"!==typeof t)return!1;if(h.indexOf(t)>=0)return!1;if(!i)return!1;var e=Reflect.get(n,t);return!(e instanceof Function)&&(!(e instanceof Phaser.Scene)&&(!(e instanceof Phaser.GameObjects.Group)&&(!(e instanceof Phaser.GameObjects.GameObject)&&e===Reflect.get(i,t))))}));l.length<1||l.forEach((function(t){if(i){var e=Reflect.get(n,t);Reflect.get(i,t),Reflect.set(i,t,e)}}))}}}))},Ct={ImageScale:1,Configs:bt,Utils:ft,LiveUpdate:{Scene:yt,SceneObjects:function(t,e){return void 0===e&&(e=At),function(n){try{var r=window.game,i=n.module,a=r.scene.getScenes(!0)[0];if(a.scene.key!==t)return;At=e;var s=i.default,o=t+"-draft";r.scene.remove(o);var h=r.scene.add(o,s);a=r.scene.getScene(t),h.events.once(Phaser.Scenes.Events.RENDER,(0,xt.D)((function(){var t=h.children.getAll();St(a,t),r.scene.remove(o)})),50),r.scene.run(o),r.scene.bringToTop(a),r.scene.bringToTop(r.globalScene)}catch(l){}}}}};window.GameCore=Ct,Ct.ImageScale=ft.Image.getImageScale();if(!ft.Valid.isDebugger()){var Mt=function(){};console.log=Mt,console.warn=Mt,console.info=Mt,console.error=Mt,console.debug=Mt,console.trace=Mt,console.table=Mt}},,function(t,e,n){"use strict";var r=n(24),i=n(23),a=n(7);function s(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}window.SpinePlugin=function(){var t=Object.create,e=Object.defineProperty,o=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(n(8),function(t,n,r,i){if(n&&"object"===typeof n||"function"===typeof n)for(var a,l=function(){var s=a.value;c.call(t,s)||s===r||e(t,s,{get:function(){return n[s]},enumerable:!(i=o(n,s))||i.enumerable})},u=s(h(n));!(a=u()).done;)l();return t}),d=function(t,n,r){return function(t,n,r){n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r}(t,"symbol"!==typeof n?n+"":n,r),r},f={};if(function(t,n){for(var r in n)e(t,r,{get:n[r],enumerable:!0})}(f,{Alpha:function(){return $r},AlphaMixin:function(){return hi},AlphaTimeline:function(){return ct},Animation:function(){return G},AnimationState:function(){return Pt},AnimationStateAdapter:function(){return Vt},AnimationStateData:function(){return qt},AssetManager:function(){return zn},AssetManagerBase:function(){return we},AtlasAttachmentLoader:function(){return fe},Attachment:function(){return Y},AttachmentTimeline:function(){return ft},BinaryInput:function(){return qe},BlendMode:function(){return ze},Bone:function(){return ge},BoneData:function(){return ve},BoundingBoxAttachment:function(){return Zt},CURRENT:function(){return _t},CameraController:function(){return fr},ClippingAttachment:function(){return jt},Color:function(){return S},Color2Attribute:function(){return Ar},ColorAttribute:function(){return xr},ComputedSize:function(){return _r},ComputedSizeMixin:function(){return ei},ConstraintData:function(){return pe},CurveTimeline:function(){return Z},CurveTimeline1:function(){return j},CurveTimeline2:function(){return K},DebugUtils:function(){return E},DeformTimeline:function(){return vt},Depth:function(){return qr},DepthMixin:function(){return ni},Downloader:function(){return be},DrawOrderTimeline:function(){return gt},Event:function(){return ye},EventData:function(){return xe},EventQueue:function(){return Xt},EventTimeline:function(){return mt},EventType:function(){return Ot},FIRST:function(){return Ut},FakeTexture:function(){return te},Flip:function(){return Zr},FlipMixin:function(){return ri},GLTexture:function(){return Gn},HOLD_FIRST:function(){return Gt},HOLD_MIX:function(){return zt},HOLD_SUBSEQUENT:function(){return Wt},IkConstraint:function(){return Ae},IkConstraintData:function(){return Se},IkConstraintTimeline:function(){return pt},Inherit:function(){return me},InheritTimeline:function(){return ot},Input:function(){return ur},IntSet:function(){return y},Interpolation:function(){return k},LoadingScreen:function(){return Ur},M00:function(){return _n},M01:function(){return qn},M02:function(){return Zn},M03:function(){return jn},M10:function(){return Kn},M11:function(){return Jn},M12:function(){return Qn},M13:function(){return $n},M20:function(){return tr},M21:function(){return er},M22:function(){return nr},M23:function(){return rr},M30:function(){return ir},M31:function(){return ar},M32:function(){return sr},M33:function(){return or},ManagedWebGLRenderingContext:function(){return Wn},MathUtils:function(){return M},Matrix4:function(){return lr},Mesh:function(){return gr},MeshAttachment:function(){return ae},MixBlend:function(){return z},MixDirection:function(){return H},Origin:function(){return Qr},OriginMixin:function(){return oi},OrthoCamera:function(){return cr},PathAttachment:function(){return se},PathConstraint:function(){return Re},PathConstraintData:function(){return Ce},PathConstraintMixTimeline:function(){return xt},PathConstraintPositionTimeline:function(){return bt},PathConstraintSpacingTimeline:function(){return yt},Physics:function(){return Oe},PhysicsConstraintDampingTimeline:function(){return Mt},PhysicsConstraintGravityTimeline:function(){return It},PhysicsConstraintInertiaTimeline:function(){return St},PhysicsConstraintMassTimeline:function(){return kt},PhysicsConstraintMixTimeline:function(){return Rt},PhysicsConstraintResetTimeline:function(){return Et},PhysicsConstraintStrengthTimeline:function(){return Ct},PhysicsConstraintTimeline:function(){return At},PhysicsConstraintWindTimeline:function(){return Tt},PointAttachment:function(){return oe},PolygonBatcher:function(){return Cr},Pool:function(){return F},Position2Attribute:function(){return wr},Position3Attribute:function(){return br},PositionMode:function(){return Me},Pow:function(){return T},PowOut:function(){return I},RGB2Timeline:function(){return dt},RGBA2Timeline:function(){return ut},RGBATimeline:function(){return ht},RGBTimeline:function(){return lt},RegionAttachment:function(){return he},ResizeMode:function(){return Or},RotateMode:function(){return Te},RotateTimeline:function(){return J},SETUP:function(){return Ht},SUBSEQUENT:function(){return Nt},ScaleTimeline:function(){return et},ScaleXTimeline:function(){return nt},ScaleYTimeline:function(){return rt},SceneRenderer:function(){return Xr},ScrollFactor:function(){return jr},ScrollFactorMixin:function(){return ii},SequenceTimeline:function(){return Ft},SetupPoseBoundsProvider:function(){return ci},Shader:function(){return vr},ShapeRenderer:function(){return kr},ShapeType:function(){return Tr},ShearTimeline:function(){return it},ShearXTimeline:function(){return at},ShearYTimeline:function(){return st},Skeleton:function(){return Be},SkeletonBinary:function(){return _e},SkeletonBounds:function(){return Ln},SkeletonClipping:function(){return Yn},SkeletonData:function(){return Ne},SkeletonDebugRenderer:function(){return Ir},SkeletonJson:function(){return Dn},SkeletonRenderer:function(){return Er},Skin:function(){return We},SkinEntry:function(){return Ue},SkinsAndAnimationBoundsProvider:function(){return ui},Slot:function(){return Fe},SlotData:function(){return Ge},SpacingMode:function(){return ke},SpineCanvas:function(){return zr},SpineGameObject:function(){return di},SpinePlugin:function(){return gi},StringSet:function(){return x},TexCoordAttribute:function(){return yr},Texture:function(){return Kt},TextureAtlas:function(){return ee},TextureAtlasPage:function(){return re},TextureAtlasRegion:function(){return ie},TextureFilter:function(){return Jt},TextureRegion:function(){return $t},TextureWrap:function(){return Qt},TimeKeeper:function(){return L},Timeline:function(){return q},Touch:function(){return dr},TrackEntry:function(){return Dt},Transform:function(){return Kr},TransformConstraint:function(){return Pe},TransformConstraintData:function(){return He},TransformConstraintTimeline:function(){return wt},TransformMixin:function(){return ai},TranslateTimeline:function(){return Q},TranslateXTimeline:function(){return $},TranslateYTimeline:function(){return tt},Triangulator:function(){return Bn},Utils:function(){return R},Vector2:function(){return P},Vector3:function(){return Hn},VertexAttachment:function(){return D},VertexAttribute:function(){return pr},VertexAttributeType:function(){return Sr},Visible:function(){return Jr},VisibleMixin:function(){return si},WindowedMean:function(){return B},createMixin:function(){return ti}}),"undefined"!==typeof window&&window.Phaser){var v=window.require;window.require=function(t){return v?v(t):"Phaser"===t?window.Phaser:void 0}}var m,g,p,w=(m=window.Phaser,g=1,p=null!=m?t(l(m)):{},u(!g&&m&&m.__esModule?p:e(p,"default",{value:m,enumerable:!0}),m)),b="spine",y=function(){function t(){this.array=new Array}var e=t.prototype;return e.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},e.contains=function(t){return void 0!=this.array[0|t]},e.remove=function(t){this.array[0|t]=void 0},e.clear=function(){this.array.length=0},t}(),x=function(){function t(){this.entries={},this.size=0}var e=t.prototype;return e.add=function(t){var e=this.entries[t];return this.entries[t]=!0,!e&&(this.size++,!0)},e.addAll=function(t){for(var e=this.size,n=0,r=t.length;n<r;n++)this.add(t[n]);return e!=this.size},e.contains=function(t){return this.entries[t]},e.clear=function(){this.entries={},this.size=0},t}(),A=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.r=t,this.g=e,this.b=n,this.a=r}var e=t.prototype;return e.set=function(t,e,n,r){return this.r=t,this.g=e,this.b=n,this.a=r,this.clamp()},e.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},e.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=8!=t.length?1:parseInt(t.substr(6,2),16)/255,this},e.add=function(t,e,n,r){return this.r+=t,this.g+=e,this.b+=n,this.a+=r,this.clamp()},e.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255},t.rgb888ToColor=function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255},e.toRgb888=function(){var t=function(t){return("0"+(255*t).toString(16)).slice(-2)};return Number("0x"+t(this.r)+t(this.g)+t(this.b))},t.fromString=function(e){return(new t).setFromString(e)},t}(),S=A;d(S,"WHITE",new A(1,1,1,1)),d(S,"RED",new A(1,0,0,1)),d(S,"GREEN",new A(0,1,0,1)),d(S,"BLUE",new A(0,0,1,1)),d(S,"MAGENTA",new A(1,0,1,1));var C=function(){function t(){}return t.clamp=function(t,e,n){return t<e?e:t>n?n:t},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.atan2Deg=function(e,n){return Math.atan2(e,n)*t.degRad},t.signum=function(t){return t>0?1:t<0?-1:0},t.toInt=function(t){return t>0?Math.floor(t):Math.ceil(t)},t.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},t.randomTriangular=function(e,n){return t.randomTriangularWith(e,n,.5*(e+n))},t.randomTriangularWith=function(t,e,n){var r=Math.random(),i=e-t;return r<=(n-t)/i?t+Math.sqrt(r*i*(n-t)):e-Math.sqrt((1-r)*i*(e-n))},t.isPowerOfTwo=function(t){return t&&0===(t&t-1)},t}(),M=C;d(M,"PI",3.1415927),d(M,"PI2",2*C.PI),d(M,"invPI2",1/C.PI2),d(M,"radiansToDegrees",180/C.PI),d(M,"radDeg",C.radiansToDegrees),d(M,"degreesToRadians",C.PI/180),d(M,"degRad",C.degreesToRadians);var k=function(){function t(){}return t.prototype.apply=function(t,e,n){return t+(e-t)*this.applyInternal(n)},t}(),T=function(t){function e(e){var n;return(n=t.call(this)||this).power=2,n.power=e,n}return(0,a.Z)(e,t),e.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},e}(k),I=function(t){function e(e){return t.call(this,e)||this}return(0,a.Z)(e,t),e.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},e}(T),R=function(){function t(){}return t.arrayCopy=function(t,e,n,r,i){for(var a=e,s=r;a<e+i;a++,s++)n[s]=t[a]},t.arrayFill=function(t,e,n,r){for(var i=e;i<n;i++)t[i]=r},t.setArraySize=function(t,e,n){void 0===n&&(n=0);var r=t.length;if(r==e)return t;if(t.length=e,r<e)for(var i=r;i<e;i++)t[i]=n;return t},t.ensureArrayCapacity=function(e,n,r){return void 0===r&&(r=0),e.length>=n?e:t.setArraySize(e,n,r)},t.newArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var n=new Array(e),r=0;r<n.length;r++)n[r]=0;return n},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var n=new Array(e),r=0;r<n.length;r++)n[r]=0;return n},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?Math.fround(e):e},t.webkit602BugfixHelper=function(t,e){},t.contains=function(t,e,n){void 0===n&&(n=!0);for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},t.enumValue=function(t,e){return t[e[0].toUpperCase()+e.slice(1)]},t}();d(R,"SUPPORTS_TYPED_ARRAYS","undefined"!==typeof Float32Array);var E=function(){function t(){}return t.logBones=function(t){for(var e=0;e<t.bones.length;e++)t.bones[e]},t}(),F=function(){function t(t){this.items=new Array,this.instantiator=void 0,this.instantiator=t}var e=t.prototype;return e.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},e.free=function(t){t.reset&&t.reset(),this.items.push(t)},e.freeAll=function(t){for(var e=0;e<t.length;e++)this.free(t[e])},e.clear=function(){this.items.length=0},t}(),P=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}var e=t.prototype;return e.set=function(t,e){return this.x=t,this.y=e,this},e.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},e.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t}(),L=function(){function t(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return t.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t}(),B=function(){function t(t){void 0===t&&(t=32),this.values=void 0,this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}var e=t.prototype;return e.hasEnoughData=function(){return this.addedValues>=this.values.length},e.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},e.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},t}(),Y=function(t){if(this.name=void 0,!t)throw new Error("name cannot be null.");this.name=t},D=function(t){function e(n){var r;return(r=t.call(this,n)||this).id=e.nextID++,r.bones=null,r.vertices=[],r.worldVerticesLength=0,r.timelineAttachment=(0,i.Z)(r),r}(0,a.Z)(e,t);var n=e.prototype;return n.computeWorldVertices=function(t,e,n,r,i,a){n=i+(n>>1)*a;var s=t.bone.skeleton,o=t.deform,h=this.vertices,l=this.bones;if(l){for(var c=0,u=0,d=0;d<e;d+=2){var f=l[c];c+=f+1,u+=f}var v=s.bones;if(0==o.length)for(var m=i,g=3*u;m<n;m+=a){var p=0,w=0,b=l[c++];for(b+=c;c<b;c++,g+=3){var y=v[l[c]],x=h[g],A=h[g+1],S=h[g+2];p+=(x*y.a+A*y.b+y.worldX)*S,w+=(x*y.c+A*y.d+y.worldY)*S}r[m]=p,r[m+1]=w}else for(var C=o,M=i,k=3*u,T=u<<1;M<n;M+=a){var I=0,R=0,E=l[c++];for(E+=c;c<E;c++,k+=3,T+=2){var F=v[l[c]],P=h[k]+C[T],L=h[k+1]+C[T+1],B=h[k+2];I+=(P*F.a+L*F.b+F.worldX)*B,R+=(P*F.c+L*F.d+F.worldY)*B}r[M]=I,r[M+1]=R}}else{o.length>0&&(h=o);for(var Y=t.bone,D=Y.worldX,X=Y.worldY,O=Y.a,V=Y.b,N=Y.c,U=Y.d,W=e,G=i;G<n;W+=2,G+=a){var z=h[W],H=h[W+1];r[G]=z*O+H*V+D,r[G+1]=z*N+H*U+X}}},n.copyTo=function(t){this.bones?(t.bones=new Array(this.bones.length),R.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices&&(t.vertices=R.newFloatArray(this.vertices.length),R.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)),t.worldVerticesLength=this.worldVerticesLength,t.timelineAttachment=this.timelineAttachment},e}(Y);d(D,"nextID",0);var X=function(){function t(e){this.id=t.nextID(),this.regions=void 0,this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}var e=t.prototype;return e.copy=function(){var e=new t(this.regions.length);return R.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},e.apply=function(t,e){var n=t.sequenceIndex;-1==n&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var r=this.regions[n];e.region!=r&&(e.region=r,e.updateRegion())},e.getPath=function(t,e){for(var n=t,r=(this.start+e).toString(),i=this.digits-r.length;i>0;i--)n+="0";return n+=r},t.nextID=function(){return t._nextID++},t}();d(X,"_nextID",0);var O,V,N,U=((O=U||{})[O.hold=0]="hold",O[O.once=1]="once",O[O.loop=2]="loop",O[O.pingpong=3]="pingpong",O[O.onceReverse=4]="onceReverse",O[O.loopReverse=5]="loopReverse",O[O.pingpongReverse=6]="pingpongReverse",O),W=[0,1,2,3,4,5,6],G=function(){function t(t,e,n){if(this.name=void 0,this.timelines=[],this.timelineIds=new x,this.duration=void 0,!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(e),this.duration=n}var e=t.prototype;return e.setTimelines=function(t){if(!t)throw new Error("timelines cannot be null.");this.timelines=t,this.timelineIds.clear();for(var e=0;e<t.length;e++)this.timelineIds.addAll(t[e].getPropertyIds())},e.hasTimeline=function(t){for(var e=0;e<t.length;e++)if(this.timelineIds.contains(t[e]))return!0;return!1},e.apply=function(t,e,n,r,i,a,s,o){if(!t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,e>0&&(e%=this.duration));for(var h=this.timelines,l=0,c=h.length;l<c;l++)h[l].apply(t,e,n,i,a,s,o)},t}(),z=((V=z||{})[V.setup=0]="setup",V[V.first=1]="first",V[V.replace=2]="replace",V[V.add=3]="add",V),H=((N=H||{})[N.mixIn=0]="mixIn",N[N.mixOut=1]="mixOut",N),_={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,inherit:7,rgb:8,alpha:9,rgb2:10,attachment:11,deform:12,event:13,drawOrder:14,ikConstraint:15,transformConstraint:16,pathConstraintPosition:17,pathConstraintSpacing:18,pathConstraintMix:19,physicsConstraintInertia:20,physicsConstraintStrength:21,physicsConstraintDamping:22,physicsConstraintMass:23,physicsConstraintWind:24,physicsConstraintGravity:25,physicsConstraintMix:26,physicsConstraintReset:27,sequence:28},q=function(){function t(t,e){this.propertyIds=void 0,this.frames=void 0,this.propertyIds=e,this.frames=R.newFloatArray(t*this.getFrameEntries())}var e=t.prototype;return e.getPropertyIds=function(){return this.propertyIds},e.getFrameEntries=function(){return 1},e.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},e.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(t,e){for(var n=t.length,r=1;r<n;r++)if(t[r]>e)return r-1;return n-1},t.search=function(t,e,n){for(var r=t.length,i=n;i<r;i+=n)if(t[i]>e)return i-n;return r-n},t}(),Z=function(t){function e(e,n,r){var i;return(i=t.call(this,e,r)||this).curves=void 0,i.curves=R.newFloatArray(e+18*n),i.curves[e-1]=1,i}(0,a.Z)(e,t);var n=e.prototype;return n.setLinear=function(t){this.curves[t]=0},n.setStepped=function(t){this.curves[t]=1},n.shrink=function(t){var e=this.getFrameCount()+18*t;if(this.curves.length>e){var n=R.newFloatArray(e);R.arrayCopy(this.curves,0,n,0,e),this.curves=n}},n.setBezier=function(t,e,n,r,i,a,s,o,h,l,c){var u=this.curves,d=this.getFrameCount()+18*t;0==n&&(u[e]=2+d);for(var f=.03*(r-2*a+o),v=.03*(i-2*s+h),m=.006*(3*(a-o)-r+l),g=.006*(3*(s-h)-i+c),p=2*f+m,w=2*v+g,b=.3*(a-r)+f+.16666667*m,y=.3*(s-i)+v+.16666667*g,x=r+b,A=i+y,S=d+18;d<S;d+=2)u[d]=x,u[d+1]=A,b+=p,y+=w,p+=m,w+=g,x+=b,A+=y},n.getBezierValue=function(t,e,n,r){var i=this.curves;if(i[r]>t){var a=this.frames[e],s=this.frames[e+n];return s+(t-a)/(i[r]-a)*(i[r+1]-s)}var o=r+18;for(r+=2;r<o;r+=2)if(i[r]>=t){var h=i[r-2],l=i[r-1];return l+(t-h)/(i[r]-h)*(i[r+1]-l)}e+=this.getFrameEntries();var c=i[o-2],u=i[o-1];return u+(t-c)/(this.frames[e]-c)*(this.frames[e+n]-u)},e}(q),j=function(t){function e(e,n,r){return t.call(this,e,n,[r])||this}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameEntries=function(){return 2},n.setFrame=function(t,e,n){t<<=1,this.frames[t]=e,this.frames[t+1]=n},n.getCurveValue=function(t){for(var e=this.frames,n=e.length-2,r=2;r<=n;r+=2)if(e[r]>t){n=r-2;break}var i=this.curves[n>>1];switch(i){case 0:var a=e[n],s=e[n+1];return s+(t-a)/(e[n+2]-a)*(e[n+2+1]-s);case 1:return e[n+1]}return this.getBezierValue(t,n,1,i-2)},n.getRelativeValue=function(t,e,n,r,i){if(t<this.frames[0]){switch(n){case 0:return i;case 1:return r+(i-r)*e}return r}var a=this.getCurveValue(t);switch(n){case 0:return i+a*e;case 1:case 2:a+=i-r}return r+a*e},n.getAbsoluteValue=function(t,e,n,r,i){if(t<this.frames[0]){switch(n){case 0:return i;case 1:return r+(i-r)*e}return r}var a=this.getCurveValue(t);return 0==n?i+(a-i)*e:r+(a-r)*e},n.getAbsoluteValue2=function(t,e,n,r,i,a){if(t<this.frames[0]){switch(n){case 0:return i;case 1:return r+(i-r)*e}return r}return 0==n?i+(a-i)*e:r+(a-r)*e},n.getScaleValue=function(t,e,n,r,i,a){if(t<this.frames[0]){switch(n){case 0:return a;case 1:return i+(a-i)*e}return i}var s=this.getCurveValue(t)*a;if(1==e)return 3==n?i+s-a:s;if(1==r)switch(n){case 0:return a+(Math.abs(s)*M.signum(a)-a)*e;case 1:case 2:return i+(Math.abs(s)*M.signum(i)-i)*e}else{var o=0;switch(n){case 0:return(o=Math.abs(a)*M.signum(s))+(s-o)*e;case 1:case 2:return(o=Math.abs(i)*M.signum(s))+(s-o)*e}}return i+(s-a)*e},e}(Z),K=function(t){function e(e,n,r,i){return t.call(this,e,n,[r,i])||this}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameEntries=function(){return 3},n.setFrame=function(t,e,n,r){t*=3,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=r},e}(Z),J=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,_.rotate+"|"+r)||this).boneIndex=0,i.boneIndex=r,i}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,s){var o=t.bones[this.boneIndex];o.active&&(o.rotation=this.getRelativeValue(n,i,a,o.rotation,o.data.rotation))},e}(j),Q=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,_.x+"|"+r,_.y+"|"+r)||this).boneIndex=0,i.boneIndex=r,i}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,s){var o=t.bones[this.boneIndex];if(o.active){var h=this.frames;if(n<h[0])switch(a){case 0:return o.x=o.data.x,void(o.y=o.data.y);case 1:o.x+=(o.data.x-o.x)*i,o.y+=(o.data.y-o.y)*i}else{var l=0,c=0,u=q.search(h,n,3),d=this.curves[u/3];switch(d){case 0:var f=h[u];l=h[u+1],c=h[u+2];var v=(n-f)/(h[u+3]-f);l+=(h[u+3+1]-l)*v,c+=(h[u+3+2]-c)*v;break;case 1:l=h[u+1],c=h[u+2];break;default:l=this.getBezierValue(n,u,1,d-2),c=this.getBezierValue(n,u,2,d+18-2)}switch(a){case 0:o.x=o.data.x+l*i,o.y=o.data.y+c*i;break;case 1:case 2:o.x+=(o.data.x+l-o.x)*i,o.y+=(o.data.y+c-o.y)*i;break;case 3:o.x+=l*i,o.y+=c*i}}}},e}(K),$=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,_.x+"|"+r)||this).boneIndex=0,i.boneIndex=r,i}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,s){var o=t.bones[this.boneIndex];o.active&&(o.x=this.getRelativeValue(n,i,a,o.x,o.data.x))},e}(j),tt=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,_.y+"|"+r)||this).boneIndex=0,i.boneIndex=r,i}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,s){var o=t.bones[this.boneIndex];o.active&&(o.y=this.getRelativeValue(n,i,a,o.y,o.data.y))},e}(j),et=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,_.scaleX+"|"+r,_.scaleY+"|"+r)||this).boneIndex=0,i.boneIndex=r,i}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,s){var o=t.bones[this.boneIndex];if(o.active){var h=this.frames;if(n<h[0])switch(a){case 0:return o.scaleX=o.data.scaleX,void(o.scaleY=o.data.scaleY);case 1:o.scaleX+=(o.data.scaleX-o.scaleX)*i,o.scaleY+=(o.data.scaleY-o.scaleY)*i}else{var l,c,u=q.search(h,n,3),d=this.curves[u/3];switch(d){case 0:var f=h[u];l=h[u+1],c=h[u+2];var v=(n-f)/(h[u+3]-f);l+=(h[u+3+1]-l)*v,c+=(h[u+3+2]-c)*v;break;case 1:l=h[u+1],c=h[u+2];break;default:l=this.getBezierValue(n,u,1,d-2),c=this.getBezierValue(n,u,2,d+18-2)}if(l*=o.data.scaleX,c*=o.data.scaleY,1==i)3==a?(o.scaleX+=l-o.data.scaleX,o.scaleY+=c-o.data.scaleY):(o.scaleX=l,o.scaleY=c);else{var m=0,g=0;if(1==s)switch(a){case 0:m=o.data.scaleX,g=o.data.scaleY,o.scaleX=m+(Math.abs(l)*M.signum(m)-m)*i,o.scaleY=g+(Math.abs(c)*M.signum(g)-g)*i;break;case 1:case 2:m=o.scaleX,g=o.scaleY,o.scaleX=m+(Math.abs(l)*M.signum(m)-m)*i,o.scaleY=g+(Math.abs(c)*M.signum(g)-g)*i;break;case 3:o.scaleX+=(l-o.data.scaleX)*i,o.scaleY+=(c-o.data.scaleY)*i}else switch(a){case 0:m=Math.abs(o.data.scaleX)*M.signum(l),g=Math.abs(o.data.scaleY)*M.signum(c),o.scaleX=m+(l-m)*i,o.scaleY=g+(c-g)*i;break;case 1:case 2:m=Math.abs(o.scaleX)*M.signum(l),g=Math.abs(o.scaleY)*M.signum(c),o.scaleX=m+(l-m)*i,o.scaleY=g+(c-g)*i;break;case 3:o.scaleX+=(l-o.data.scaleX)*i,o.scaleY+=(c-o.data.scaleY)*i}}}}},e}(K),nt=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,_.scaleX+"|"+r)||this).boneIndex=0,i.boneIndex=r,i}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,s){var o=t.bones[this.boneIndex];o.active&&(o.scaleX=this.getScaleValue(n,i,a,s,o.scaleX,o.data.scaleX))},e}(j),rt=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,_.scaleY+"|"+r)||this).boneIndex=0,i.boneIndex=r,i}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,s){var o=t.bones[this.boneIndex];o.active&&(o.scaleY=this.getScaleValue(n,i,a,s,o.scaleY,o.data.scaleY))},e}(j),it=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,_.shearX+"|"+r,_.shearY+"|"+r)||this).boneIndex=0,i.boneIndex=r,i}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,s){var o=t.bones[this.boneIndex];if(o.active){var h=this.frames;if(n<h[0])switch(a){case 0:return o.shearX=o.data.shearX,void(o.shearY=o.data.shearY);case 1:o.shearX+=(o.data.shearX-o.shearX)*i,o.shearY+=(o.data.shearY-o.shearY)*i}else{var l=0,c=0,u=q.search(h,n,3),d=this.curves[u/3];switch(d){case 0:var f=h[u];l=h[u+1],c=h[u+2];var v=(n-f)/(h[u+3]-f);l+=(h[u+3+1]-l)*v,c+=(h[u+3+2]-c)*v;break;case 1:l=h[u+1],c=h[u+2];break;default:l=this.getBezierValue(n,u,1,d-2),c=this.getBezierValue(n,u,2,d+18-2)}switch(a){case 0:o.shearX=o.data.shearX+l*i,o.shearY=o.data.shearY+c*i;break;case 1:case 2:o.shearX+=(o.data.shearX+l-o.shearX)*i,o.shearY+=(o.data.shearY+c-o.shearY)*i;break;case 3:o.shearX+=l*i,o.shearY+=c*i}}}},e}(K),at=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,_.shearX+"|"+r)||this).boneIndex=0,i.boneIndex=r,i}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,s){var o=t.bones[this.boneIndex];o.active&&(o.shearX=this.getRelativeValue(n,i,a,o.shearX,o.data.shearX))},e}(j),st=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,_.shearY+"|"+r)||this).boneIndex=0,i.boneIndex=r,i}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,s){var o=t.bones[this.boneIndex];o.active&&(o.shearY=this.getRelativeValue(n,i,a,o.shearY,o.data.shearY))},e}(j),ot=function(t){function e(e,n){var r;return(r=t.call(this,e,[_.inherit+"|"+n])||this).boneIndex=0,r.boneIndex=n,r}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameEntries=function(){return 2},n.setFrame=function(t,e,n){t*=2,this.frames[t]=e,this.frames[t+1]=n},n.apply=function(t,e,n,r,i,a,s){var o=t.bones[this.boneIndex];if(o.active){var h=this.frames;n<h[0]?0!=a&&1!=a||(o.inherit=o.data.inherit):o.inherit=this.frames[q.search(h,n,2)+1]}},e}(q),ht=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,[_.rgb+"|"+r,_.alpha+"|"+r])||this).slotIndex=0,i.slotIndex=r,i}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameEntries=function(){return 5},n.setFrame=function(t,e,n,r,i,a){t*=5,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=r,this.frames[t+3]=i,this.frames[t+4]=a},n.apply=function(t,e,n,r,i,a,s){var o=t.slots[this.slotIndex];if(o.bone.active){var h=this.frames,l=o.color;if(n<h[0]){var c=o.data.color;switch(a){case 0:return void l.setFromColor(c);case 1:l.add((c.r-l.r)*i,(c.g-l.g)*i,(c.b-l.b)*i,(c.a-l.a)*i)}}else{var u=0,d=0,f=0,v=0,m=q.search(h,n,5),g=this.curves[m/5];switch(g){case 0:var p=h[m];u=h[m+1],d=h[m+2],f=h[m+3],v=h[m+4];var w=(n-p)/(h[m+5]-p);u+=(h[m+5+1]-u)*w,d+=(h[m+5+2]-d)*w,f+=(h[m+5+3]-f)*w,v+=(h[m+5+4]-v)*w;break;case 1:u=h[m+1],d=h[m+2],f=h[m+3],v=h[m+4];break;default:u=this.getBezierValue(n,m,1,g-2),d=this.getBezierValue(n,m,2,g+18-2),f=this.getBezierValue(n,m,3,g+36-2),v=this.getBezierValue(n,m,4,g+54-2)}1==i?l.set(u,d,f,v):(0==a&&l.setFromColor(o.data.color),l.add((u-l.r)*i,(d-l.g)*i,(f-l.b)*i,(v-l.a)*i))}}},e}(Z),lt=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,[_.rgb+"|"+r])||this).slotIndex=0,i.slotIndex=r,i}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameEntries=function(){return 4},n.setFrame=function(t,e,n,r,i){t<<=2,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=r,this.frames[t+3]=i},n.apply=function(t,e,n,r,i,a,s){var o=t.slots[this.slotIndex];if(o.bone.active){var h=this.frames,l=o.color;if(n<h[0]){var c=o.data.color;switch(a){case 0:return l.r=c.r,l.g=c.g,void(l.b=c.b);case 1:l.r+=(c.r-l.r)*i,l.g+=(c.g-l.g)*i,l.b+=(c.b-l.b)*i}}else{var u=0,d=0,f=0,v=q.search(h,n,4),m=this.curves[v>>2];switch(m){case 0:var g=h[v];u=h[v+1],d=h[v+2],f=h[v+3];var p=(n-g)/(h[v+4]-g);u+=(h[v+4+1]-u)*p,d+=(h[v+4+2]-d)*p,f+=(h[v+4+3]-f)*p;break;case 1:u=h[v+1],d=h[v+2],f=h[v+3];break;default:u=this.getBezierValue(n,v,1,m-2),d=this.getBezierValue(n,v,2,m+18-2),f=this.getBezierValue(n,v,3,m+36-2)}if(1==i)l.r=u,l.g=d,l.b=f;else{if(0==a){var w=o.data.color;l.r=w.r,l.g=w.g,l.b=w.b}l.r+=(u-l.r)*i,l.g+=(d-l.g)*i,l.b+=(f-l.b)*i}}}},e}(Z),ct=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,_.alpha+"|"+r)||this).slotIndex=0,i.slotIndex=r,i}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,s){var o=t.slots[this.slotIndex];if(o.bone.active){var h=o.color;if(n<this.frames[0]){var l=o.data.color;switch(a){case 0:return void(h.a=l.a);case 1:h.a+=(l.a-h.a)*i}}else{var c=this.getCurveValue(n);1==i?h.a=c:(0==a&&(h.a=o.data.color.a),h.a+=(c-h.a)*i)}}},e}(j),ut=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,[_.rgb+"|"+r,_.alpha+"|"+r,_.rgb2+"|"+r])||this).slotIndex=0,i.slotIndex=r,i}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameEntries=function(){return 8},n.setFrame=function(t,e,n,r,i,a,s,o,h){t<<=3,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=r,this.frames[t+3]=i,this.frames[t+4]=a,this.frames[t+5]=s,this.frames[t+6]=o,this.frames[t+7]=h},n.apply=function(t,e,n,r,i,a,s){var o=t.slots[this.slotIndex];if(o.bone.active){var h=this.frames,l=o.color,c=o.darkColor;if(n<h[0]){var u=o.data.color,d=o.data.darkColor;switch(a){case 0:return l.setFromColor(u),c.r=d.r,c.g=d.g,void(c.b=d.b);case 1:l.add((u.r-l.r)*i,(u.g-l.g)*i,(u.b-l.b)*i,(u.a-l.a)*i),c.r+=(d.r-c.r)*i,c.g+=(d.g-c.g)*i,c.b+=(d.b-c.b)*i}}else{var f=0,v=0,m=0,g=0,p=0,w=0,b=0,y=q.search(h,n,8),x=this.curves[y>>3];switch(x){case 0:var A=h[y];f=h[y+1],v=h[y+2],m=h[y+3],g=h[y+4],p=h[y+5],w=h[y+6],b=h[y+7];var S=(n-A)/(h[y+8]-A);f+=(h[y+8+1]-f)*S,v+=(h[y+8+2]-v)*S,m+=(h[y+8+3]-m)*S,g+=(h[y+8+4]-g)*S,p+=(h[y+8+5]-p)*S,w+=(h[y+8+6]-w)*S,b+=(h[y+8+7]-b)*S;break;case 1:f=h[y+1],v=h[y+2],m=h[y+3],g=h[y+4],p=h[y+5],w=h[y+6],b=h[y+7];break;default:f=this.getBezierValue(n,y,1,x-2),v=this.getBezierValue(n,y,2,x+18-2),m=this.getBezierValue(n,y,3,x+36-2),g=this.getBezierValue(n,y,4,x+54-2),p=this.getBezierValue(n,y,5,x+72-2),w=this.getBezierValue(n,y,6,x+90-2),b=this.getBezierValue(n,y,7,x+108-2)}if(1==i)l.set(f,v,m,g),c.r=p,c.g=w,c.b=b;else{if(0==a){l.setFromColor(o.data.color);var C=o.data.darkColor;c.r=C.r,c.g=C.g,c.b=C.b}l.add((f-l.r)*i,(v-l.g)*i,(m-l.b)*i,(g-l.a)*i),c.r+=(p-c.r)*i,c.g+=(w-c.g)*i,c.b+=(b-c.b)*i}}}},e}(Z),dt=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,[_.rgb+"|"+r,_.rgb2+"|"+r])||this).slotIndex=0,i.slotIndex=r,i}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameEntries=function(){return 7},n.setFrame=function(t,e,n,r,i,a,s,o){t*=7,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=r,this.frames[t+3]=i,this.frames[t+4]=a,this.frames[t+5]=s,this.frames[t+6]=o},n.apply=function(t,e,n,r,i,a,s){var o=t.slots[this.slotIndex];if(o.bone.active){var h=this.frames,l=o.color,c=o.darkColor;if(n<h[0]){var u=o.data.color,d=o.data.darkColor;switch(a){case 0:return l.r=u.r,l.g=u.g,l.b=u.b,c.r=d.r,c.g=d.g,void(c.b=d.b);case 1:l.r+=(u.r-l.r)*i,l.g+=(u.g-l.g)*i,l.b+=(u.b-l.b)*i,c.r+=(d.r-c.r)*i,c.g+=(d.g-c.g)*i,c.b+=(d.b-c.b)*i}}else{var f=0,v=0,m=0,g=0,p=0,w=0,b=q.search(h,n,7),y=this.curves[b/7];switch(y){case 0:var x=h[b];f=h[b+1],v=h[b+2],m=h[b+3],g=h[b+4],p=h[b+5],w=h[b+6];var A=(n-x)/(h[b+7]-x);f+=(h[b+7+1]-f)*A,v+=(h[b+7+2]-v)*A,m+=(h[b+7+3]-m)*A,g+=(h[b+7+4]-g)*A,p+=(h[b+7+5]-p)*A,w+=(h[b+7+6]-w)*A;break;case 1:f=h[b+1],v=h[b+2],m=h[b+3],g=h[b+4],p=h[b+5],w=h[b+6];break;default:f=this.getBezierValue(n,b,1,y-2),v=this.getBezierValue(n,b,2,y+18-2),m=this.getBezierValue(n,b,3,y+36-2),g=this.getBezierValue(n,b,4,y+54-2),p=this.getBezierValue(n,b,5,y+72-2),w=this.getBezierValue(n,b,6,y+90-2)}if(1==i)l.r=f,l.g=v,l.b=m,c.r=g,c.g=p,c.b=w;else{if(0==a){var S=o.data.color,C=o.data.darkColor;l.r=S.r,l.g=S.g,l.b=S.b,c.r=C.r,c.g=C.g,c.b=C.b}l.r+=(f-l.r)*i,l.g+=(v-l.g)*i,l.b+=(m-l.b)*i,c.r+=(g-c.r)*i,c.g+=(p-c.g)*i,c.b+=(w-c.b)*i}}}},e}(Z),ft=function(t){function e(e,n){var r;return(r=t.call(this,e,[_.attachment+"|"+n])||this).slotIndex=0,r.attachmentNames=void 0,r.slotIndex=n,r.attachmentNames=new Array(e),r}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameCount=function(){return this.frames.length},n.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},n.apply=function(t,e,n,r,i,a,s){var o=t.slots[this.slotIndex];o.bone.active&&(1!=s?n<this.frames[0]?0!=a&&1!=a||this.setAttachment(t,o,o.data.attachmentName):this.setAttachment(t,o,this.attachmentNames[q.search1(this.frames,n)]):0==a&&this.setAttachment(t,o,o.data.attachmentName))},n.setAttachment=function(t,e,n){e.setAttachment(n?t.getAttachment(this.slotIndex,n):null)},e}(q),vt=function(t){function e(e,n,r,i){var a;return(a=t.call(this,e,n,[_.deform+"|"+r+"|"+i.id])||this).slotIndex=0,a.attachment=void 0,a.vertices=void 0,a.slotIndex=r,a.attachment=i,a.vertices=new Array(e),a}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameCount=function(){return this.frames.length},n.setFrame=function(t,e,n){this.frames[t]=e,this.vertices[t]=n},n.setBezier=function(t,e,n,r,i,a,s,o,h,l,c){var u=this.curves,d=this.getFrameCount()+18*t;0==n&&(u[e]=2+d);for(var f=.03*(r-2*a+o),v=.03*h-.06*s,m=.006*(3*(a-o)-r+l),g=.018*(s-h+.33333333),p=2*f+m,w=2*v+g,b=.3*(a-r)+f+.16666667*m,y=.3*s+v+.16666667*g,x=r+b,A=y,S=d+18;d<S;d+=2)u[d]=x,u[d+1]=A,b+=p,y+=w,p+=m,w+=g,x+=b,A+=y},n.getCurvePercent=function(t,e){var n=this.curves,r=n[e];switch(r){case 0:var i=this.frames[e];return(t-i)/(this.frames[e+this.getFrameEntries()]-i);case 1:return 0}if(n[r-=2]>t){var a=this.frames[e];return n[r+1]*(t-a)/(n[r]-a)}var s=r+18;for(r+=2;r<s;r+=2)if(n[r]>=t){var o=n[r-2],h=n[r-1];return h+(t-o)/(n[r]-o)*(n[r+1]-h)}var l=n[s-2],c=n[s-1];return c+(1-c)*(t-l)/(this.frames[e+this.getFrameEntries()]-l)},n.apply=function(t,e,n,r,i,a,s){var o=t.slots[this.slotIndex];if(o.bone.active){var h=o.getAttachment();if(h&&h instanceof D&&h.timelineAttachment==this.attachment){var l=o.deform;0==l.length&&(a=0);var c=this.vertices,u=c[0].length,d=this.frames;if(n<d[0])switch(a){case 0:return void(l.length=0);case 1:if(1==i)return void(l.length=0);l.length=u;var f=h;if(f.bones){i=1-i;for(m=0;m<u;m++)l[m]*=i}else for(var v=f.vertices,m=0;m<u;m++)l[m]+=(v[m]-l[m])*i}else if(l.length=u,n>=d[d.length-1]){var g=c[d.length-1];if(1==i)if(3==a){var p=h;if(p.bones)for(var w=0;w<u;w++)l[w]+=g[w];else for(var b=p.vertices,y=0;y<u;y++)l[y]+=g[y]-b[y]}else R.arrayCopy(g,0,l,0,u);else switch(a){case 0:var x=h;if(x.bones)for(var A=0;A<u;A++)l[A]=g[A]*i;else for(var S=x.vertices,C=0;C<u;C++){var M=S[C];l[C]=M+(g[C]-M)*i}break;case 1:case 2:for(var k=0;k<u;k++)l[k]+=(g[k]-l[k])*i;break;case 3:var T=h;if(T.bones)for(var I=0;I<u;I++)l[I]+=g[I]*i;else for(var E=T.vertices,F=0;F<u;F++)l[F]+=(g[F]-E[F])*i}}else{var P=q.search1(d,n),L=this.getCurvePercent(n,P),B=c[P],Y=c[P+1];if(1==i)if(3==a){var X=h;if(X.bones)for(var O=0;O<u;O++){var V=B[O];l[O]+=V+(Y[O]-V)*L}else for(var N=X.vertices,U=0;U<u;U++){var W=B[U];l[U]+=W+(Y[U]-W)*L-N[U]}}else for(var G=0;G<u;G++){var z=B[G];l[G]=z+(Y[G]-z)*L}else switch(a){case 0:var H=h;if(H.bones)for(var _=0;_<u;_++){var Z=B[_];l[_]=(Z+(Y[_]-Z)*L)*i}else for(var j=H.vertices,K=0;K<u;K++){var J=B[K],Q=j[K];l[K]=Q+(J+(Y[K]-J)*L-Q)*i}break;case 1:case 2:for(var $=0;$<u;$++){var tt=B[$];l[$]+=(tt+(Y[$]-tt)*L-l[$])*i}break;case 3:var et=h;if(et.bones)for(var nt=0;nt<u;nt++){var rt=B[nt];l[nt]+=(rt+(Y[nt]-rt)*L)*i}else for(var it=et.vertices,at=0;at<u;at++){var st=B[at];l[at]+=(st+(Y[at]-st)*L-it[at])*i}}}}}},e}(Z),mt=function(t){function e(n){var r;return(r=t.call(this,n,e.propertyIds)||this).events=void 0,r.events=new Array(n),r}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameCount=function(){return this.frames.length},n.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},n.apply=function(t,e,n,r,i,a,s){if(r){var o=this.frames,h=this.frames.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,r,i,a,s),e=-1;else if(e>=o[h-1])return;if(!(n<o[0])){var l=0;if(e<o[0])l=0;else for(var c=o[l=q.search1(o,e)+1];l>0&&o[l-1]==c;)l--;for(;l<h&&n>=o[l];l++)r.push(this.events[l])}}},e}(q);d(mt,"propertyIds",[""+_.event]);var gt=function(t){function e(n){var r;return(r=t.call(this,n,e.propertyIds)||this).drawOrders=void 0,r.drawOrders=new Array(n),r}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameCount=function(){return this.frames.length},n.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},n.apply=function(t,e,n,r,i,a,s){if(1!=s)if(n<this.frames[0])0!=a&&1!=a||R.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var o=q.search1(this.frames,n),h=this.drawOrders[o];if(h)for(var l=t.drawOrder,c=t.slots,u=0,d=h.length;u<d;u++)l[u]=c[h[u]];else R.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}else 0==a&&R.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},e}(q);d(gt,"propertyIds",[""+_.drawOrder]);var pt=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,[_.ikConstraint+"|"+r])||this).constraintIndex=0,i.constraintIndex=r,i}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameEntries=function(){return 6},n.setFrame=function(t,e,n,r,i,a,s){t*=6,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=r,this.frames[t+3]=i,this.frames[t+4]=a?1:0,this.frames[t+5]=s?1:0},n.apply=function(t,e,n,r,i,a,s){var o=t.ikConstraints[this.constraintIndex];if(o.active){var h=this.frames;if(n<h[0])switch(a){case 0:return o.mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,void(o.stretch=o.data.stretch);case 1:o.mix+=(o.data.mix-o.mix)*i,o.softness+=(o.data.softness-o.softness)*i,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}else{var l=0,c=0,u=q.search(h,n,6),d=this.curves[u/6];switch(d){case 0:var f=h[u];l=h[u+1],c=h[u+2];var v=(n-f)/(h[u+6]-f);l+=(h[u+6+1]-l)*v,c+=(h[u+6+2]-c)*v;break;case 1:l=h[u+1],c=h[u+2];break;default:l=this.getBezierValue(n,u,1,d-2),c=this.getBezierValue(n,u,2,d+18-2)}0==a?(o.mix=o.data.mix+(l-o.data.mix)*i,o.softness=o.data.softness+(c-o.data.softness)*i,1==s?(o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch):(o.bendDirection=h[u+3],o.compress=0!=h[u+4],o.stretch=0!=h[u+5])):(o.mix+=(l-o.mix)*i,o.softness+=(c-o.softness)*i,0==s&&(o.bendDirection=h[u+3],o.compress=0!=h[u+4],o.stretch=0!=h[u+5]))}}},e}(Z),wt=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,[_.transformConstraint+"|"+r])||this).constraintIndex=0,i.constraintIndex=r,i}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameEntries=function(){return 7},n.setFrame=function(t,e,n,r,i,a,s,o){var h=this.frames;h[t*=7]=e,h[t+1]=n,h[t+2]=r,h[t+3]=i,h[t+4]=a,h[t+5]=s,h[t+6]=o},n.apply=function(t,e,n,r,i,a,s){var o=t.transformConstraints[this.constraintIndex];if(o.active){var h=this.frames;if(n<h[0]){var l=o.data;switch(a){case 0:return o.mixRotate=l.mixRotate,o.mixX=l.mixX,o.mixY=l.mixY,o.mixScaleX=l.mixScaleX,o.mixScaleY=l.mixScaleY,void(o.mixShearY=l.mixShearY);case 1:o.mixRotate+=(l.mixRotate-o.mixRotate)*i,o.mixX+=(l.mixX-o.mixX)*i,o.mixY+=(l.mixY-o.mixY)*i,o.mixScaleX+=(l.mixScaleX-o.mixScaleX)*i,o.mixScaleY+=(l.mixScaleY-o.mixScaleY)*i,o.mixShearY+=(l.mixShearY-o.mixShearY)*i}}else{var c,u,d,f,v,m,g=q.search(h,n,7),p=this.curves[g/7];switch(p){case 0:var w=h[g];c=h[g+1],u=h[g+2],d=h[g+3],f=h[g+4],v=h[g+5],m=h[g+6];var b=(n-w)/(h[g+7]-w);c+=(h[g+7+1]-c)*b,u+=(h[g+7+2]-u)*b,d+=(h[g+7+3]-d)*b,f+=(h[g+7+4]-f)*b,v+=(h[g+7+5]-v)*b,m+=(h[g+7+6]-m)*b;break;case 1:c=h[g+1],u=h[g+2],d=h[g+3],f=h[g+4],v=h[g+5],m=h[g+6];break;default:c=this.getBezierValue(n,g,1,p-2),u=this.getBezierValue(n,g,2,p+18-2),d=this.getBezierValue(n,g,3,p+36-2),f=this.getBezierValue(n,g,4,p+54-2),v=this.getBezierValue(n,g,5,p+72-2),m=this.getBezierValue(n,g,6,p+90-2)}if(0==a){var y=o.data;o.mixRotate=y.mixRotate+(c-y.mixRotate)*i,o.mixX=y.mixX+(u-y.mixX)*i,o.mixY=y.mixY+(d-y.mixY)*i,o.mixScaleX=y.mixScaleX+(f-y.mixScaleX)*i,o.mixScaleY=y.mixScaleY+(v-y.mixScaleY)*i,o.mixShearY=y.mixShearY+(m-y.mixShearY)*i}else o.mixRotate+=(c-o.mixRotate)*i,o.mixX+=(u-o.mixX)*i,o.mixY+=(d-o.mixY)*i,o.mixScaleX+=(f-o.mixScaleX)*i,o.mixScaleY+=(v-o.mixScaleY)*i,o.mixShearY+=(m-o.mixShearY)*i}}},e}(Z),bt=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,_.pathConstraintPosition+"|"+r)||this).constraintIndex=0,i.constraintIndex=r,i}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,s){var o=t.pathConstraints[this.constraintIndex];o.active&&(o.position=this.getAbsoluteValue(n,i,a,o.position,o.data.position))},e}(j),yt=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,_.pathConstraintSpacing+"|"+r)||this).constraintIndex=0,i.constraintIndex=r,i}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,s){var o=t.pathConstraints[this.constraintIndex];o.active&&(o.spacing=this.getAbsoluteValue(n,i,a,o.spacing,o.data.spacing))},e}(j),xt=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,[_.pathConstraintMix+"|"+r])||this).constraintIndex=0,i.constraintIndex=r,i}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameEntries=function(){return 4},n.setFrame=function(t,e,n,r,i){var a=this.frames;a[t<<=2]=e,a[t+1]=n,a[t+2]=r,a[t+3]=i},n.apply=function(t,e,n,r,i,a,s){var o=t.pathConstraints[this.constraintIndex];if(o.active){var h=this.frames;if(n<h[0])switch(a){case 0:return o.mixRotate=o.data.mixRotate,o.mixX=o.data.mixX,void(o.mixY=o.data.mixY);case 1:o.mixRotate+=(o.data.mixRotate-o.mixRotate)*i,o.mixX+=(o.data.mixX-o.mixX)*i,o.mixY+=(o.data.mixY-o.mixY)*i}else{var l,c,u,d=q.search(h,n,4),f=this.curves[d>>2];switch(f){case 0:var v=h[d];l=h[d+1],c=h[d+2],u=h[d+3];var m=(n-v)/(h[d+4]-v);l+=(h[d+4+1]-l)*m,c+=(h[d+4+2]-c)*m,u+=(h[d+4+3]-u)*m;break;case 1:l=h[d+1],c=h[d+2],u=h[d+3];break;default:l=this.getBezierValue(n,d,1,f-2),c=this.getBezierValue(n,d,2,f+18-2),u=this.getBezierValue(n,d,3,f+36-2)}if(0==a){var g=o.data;o.mixRotate=g.mixRotate+(l-g.mixRotate)*i,o.mixX=g.mixX+(c-g.mixX)*i,o.mixY=g.mixY+(u-g.mixY)*i}else o.mixRotate+=(l-o.mixRotate)*i,o.mixX+=(c-o.mixX)*i,o.mixY+=(u-o.mixY)*i}}},e}(Z),At=function(t){function e(e,n,r,i){var a;return(a=t.call(this,e,n,i+"|"+r)||this).constraintIndex=0,a.constraintIndex=r,a}return(0,a.Z)(e,t),e.prototype.apply=function(t,e,n,r,i,a,o){var h;if(-1==this.constraintIndex)for(var l,c=n>=this.frames[0]?this.getCurveValue(n):0,u=s(t.physicsConstraints);!(l=u()).done;){var d=l.value;d.active&&this.global(d.data)&&this.set(d,this.getAbsoluteValue2(n,i,a,this.get(d),this.setup(d),c))}else(h=t.physicsConstraints[this.constraintIndex]).active&&this.set(h,this.getAbsoluteValue(n,i,a,this.get(h),this.setup(h)))},e}(j),St=function(t){function e(e,n,r){return t.call(this,e,n,r,_.physicsConstraintInertia)||this}(0,a.Z)(e,t);var n=e.prototype;return n.setup=function(t){return t.data.inertia},n.get=function(t){return t.inertia},n.set=function(t,e){t.inertia=e},n.global=function(t){return t.inertiaGlobal},e}(At),Ct=function(t){function e(e,n,r){return t.call(this,e,n,r,_.physicsConstraintStrength)||this}(0,a.Z)(e,t);var n=e.prototype;return n.setup=function(t){return t.data.strength},n.get=function(t){return t.strength},n.set=function(t,e){t.strength=e},n.global=function(t){return t.strengthGlobal},e}(At),Mt=function(t){function e(e,n,r){return t.call(this,e,n,r,_.physicsConstraintDamping)||this}(0,a.Z)(e,t);var n=e.prototype;return n.setup=function(t){return t.data.damping},n.get=function(t){return t.damping},n.set=function(t,e){t.damping=e},n.global=function(t){return t.dampingGlobal},e}(At),kt=function(t){function e(e,n,r){return t.call(this,e,n,r,_.physicsConstraintMass)||this}(0,a.Z)(e,t);var n=e.prototype;return n.setup=function(t){return 1/t.data.massInverse},n.get=function(t){return 1/t.massInverse},n.set=function(t,e){t.massInverse=1/e},n.global=function(t){return t.massGlobal},e}(At),Tt=function(t){function e(e,n,r){return t.call(this,e,n,r,_.physicsConstraintWind)||this}(0,a.Z)(e,t);var n=e.prototype;return n.setup=function(t){return t.data.wind},n.get=function(t){return t.wind},n.set=function(t,e){t.wind=e},n.global=function(t){return t.windGlobal},e}(At),It=function(t){function e(e,n,r){return t.call(this,e,n,r,_.physicsConstraintGravity)||this}(0,a.Z)(e,t);var n=e.prototype;return n.setup=function(t){return t.data.gravity},n.get=function(t){return t.gravity},n.set=function(t,e){t.gravity=e},n.global=function(t){return t.gravityGlobal},e}(At),Rt=function(t){function e(e,n,r){return t.call(this,e,n,r,_.physicsConstraintMix)||this}(0,a.Z)(e,t);var n=e.prototype;return n.setup=function(t){return t.data.mix},n.get=function(t){return t.mix},n.set=function(t,e){t.mix=e},n.global=function(t){return t.mixGlobal},e}(At),Et=function(t){function e(n,r){var i;return(i=t.call(this,n,e.propertyIds)||this).constraintIndex=void 0,i.constraintIndex=r,i}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameCount=function(){return this.frames.length},n.setFrame=function(t,e){this.frames[t]=e},n.apply=function(t,e,n,r,i,a,o){var h;if(-1==this.constraintIndex||(h=t.physicsConstraints[this.constraintIndex]).active){var l=this.frames;if(e>n)this.apply(t,e,Number.MAX_VALUE,[],i,a,o),e=-1;else if(e>=l[l.length-1])return;if(!(n<l[0])&&(e<l[0]||n>=l[q.search1(l,e)+1]))if(null!=h)h.reset();else for(var c,u=s(t.physicsConstraints);!(c=u()).done;){var d=c.value;d.active&&d.reset()}}},e}(q);d(Et,"propertyIds",[_.physicsConstraintReset.toString()]);var Ft=function(t){function e(e,n,r){var i;return(i=t.call(this,e,[_.sequence+"|"+n+"|"+r.sequence.id])||this).slotIndex=void 0,i.attachment=void 0,i.slotIndex=n,i.attachment=r,i}(0,a.Z)(e,t);var n=e.prototype;return n.getFrameEntries=function(){return e.ENTRIES},n.getSlotIndex=function(){return this.slotIndex},n.getAttachment=function(){return this.attachment},n.setFrame=function(t,n,r,i,a){var s=this.frames;s[t*=e.ENTRIES]=n,s[t+e.MODE]=r|i<<4,s[t+e.DELAY]=a},n.apply=function(t,n,r,i,a,s,o){var h=t.slots[this.slotIndex];if(h.bone.active){var l=h.attachment,c=this.attachment;if(l==c||l instanceof D&&l.timelineAttachment==c){var u=this.frames;if(r<u[0])0!=s&&1!=s||(h.sequenceIndex=-1);else{var d=q.search(u,r,e.ENTRIES),f=u[d],v=u[d+e.MODE],m=u[d+e.DELAY];if(this.attachment.sequence){var g=v>>4,p=this.attachment.sequence.regions.length,w=W[15&v];if(0!=w)switch(g+=(r-f)/m+1e-5|0,w){case 1:g=Math.min(p-1,g);break;case 2:g%=p;break;case 3:var b=(p<<1)-2;(g=0==b?0:g%b)>=p&&(g=b-g);break;case 4:g=Math.max(p-1-g,0);break;case 5:g=p-1-g%p;break;case 6:var y=(p<<1)-2;(g=0==y?0:(g+p-1)%y)>=p&&(g=y-g)}h.sequenceIndex=g}}}}},e}(q);d(Ft,"ENTRIES",3),d(Ft,"MODE",1),d(Ft,"DELAY",2);var Pt=function(){function t(t){this.data=void 0,this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new Xt(this),this.propertyIDs=new x,this.animationsChanged=!1,this.trackEntryPool=new F((function(){return new Dt})),this.data=t}t.emptyAnimation=function(){return t._emptyAnimation};var e=t.prototype;return e.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,r=e.length;n<r;n++){var i=e[n];if(i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var a=t*i.timeScale;if(i.delay>0){if(i.delay-=a,i.delay>0)continue;a=-i.delay,i.delay=0}var s=i.next;if(s){var o=i.trackLast-s.delay;if(o>=0){for(s.delay=0,s.trackTime+=0==i.timeScale?0:(o/i.timeScale+t)*s.timeScale,i.trackTime+=a,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=t,s=s.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&!i.mixingFrom){e[n]=null,this.queue.end(i),this.clearNext(i);continue}if(i.mixingFrom&&this.updateMixingFrom(i,t)){var h=i.mixingFrom;for(i.mixingFrom=null,h&&(h.mixingTo=null);h;)this.queue.end(h),h=h.mixingFrom}i.trackTime+=a}}this.queue.drain()},e.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(!n)return!0;var r=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=n.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),r):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)},e.apply=function(t){if(!t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,n=this.tracks,r=!1,i=0,a=n.length;i<a;i++){var s=n[i];if(s&&!(s.delay>0)){r=!0;var o=0==i?1:s.mixBlend,h=s.alpha;s.mixingFrom?h*=this.applyMixingFrom(s,t,o):s.trackTime>=s.trackEnd&&!s.next&&(h=0);var l=h>=s.alphaAttachmentThreshold,c=s.animationLast,u=s.getAnimationTime(),d=u,f=e;s.reverse&&(d=s.animation.duration-d,f=null);var v=s.animation.timelines,m=v.length;if(0==i&&1==h||3==o){0==i&&(l=!0);for(var g=0;g<m;g++){R.webkit602BugfixHelper(h,o);var p=v[g];p instanceof ft?this.applyAttachmentTimeline(p,t,d,o,l):p.apply(t,c,d,f,h,o,0)}}else{var w=s.timelineMode,b=s.shortestRotation,y=!b&&s.timelinesRotation.length!=m<<1;y&&(s.timelinesRotation.length=m<<1);for(var x=0;x<m;x++){var A=v[x],S=w[x]==Nt?o:0;!b&&A instanceof J?this.applyRotateTimeline(A,t,d,h,S,s.timelinesRotation,x<<1,y):A instanceof ft?this.applyAttachmentTimeline(A,t,d,o,l):(R.webkit602BugfixHelper(h,o),A.apply(t,c,d,f,h,S,0))}}this.queueEvents(s,u),e.length=0,s.nextAnimationLast=u,s.nextTrackLast=s.trackTime}}for(var C=this.unkeyedState+Ht,M=t.slots,k=0,T=t.slots.length;k<T;k++){var I=M[k];if(I.attachmentState==C){var E=I.data.attachmentName;I.setAttachment(E?t.getAttachment(I.data.index,E):null)}}return this.unkeyedState+=2,this.queue.drain(),r},e.applyMixingFrom=function(t,e,n){var r=t.mixingFrom;r.mixingFrom&&this.applyMixingFrom(r,e,n);var i=0;0==t.mixDuration?(i=1,1==n&&(n=0)):((i=t.mixTime/t.mixDuration)>1&&(i=1),1!=n&&(n=r.mixBlend));var a=i<r.mixAttachmentThreshold,s=i<r.mixDrawOrderThreshold,o=r.animation.timelines,h=o.length,l=r.alpha*t.interruptAlpha,c=l*(1-i),u=r.animationLast,d=r.getAnimationTime(),f=d,v=null;if(r.reverse?f=r.animation.duration-f:i<r.eventThreshold&&(v=this.events),3==n)for(var m=0;m<h;m++)o[m].apply(e,u,f,v,c,n,1);else{var g=r.timelineMode,p=r.timelineHoldMix,w=r.shortestRotation,b=!w&&r.timelinesRotation.length!=h<<1;b&&(r.timelinesRotation.length=h<<1),r.totalAlpha=0;for(var y=0;y<h;y++){var x=o[y],A=1,S=void 0,C=0;switch(g[y]){case Nt:if(!s&&x instanceof gt)continue;S=n,C=c;break;case Ut:S=0,C=c;break;case Wt:S=n,C=l;break;case Gt:S=0,C=l;break;default:S=0;var M=p[y];C=l*Math.max(0,1-M.mixTime/M.mixDuration)}r.totalAlpha+=C,!w&&x instanceof J?this.applyRotateTimeline(x,e,f,C,S,r.timelinesRotation,y<<1,b):x instanceof ft?this.applyAttachmentTimeline(x,e,f,S,a&&C>=r.alphaAttachmentThreshold):(R.webkit602BugfixHelper(C,n),s&&x instanceof gt&&0==S&&(A=0),x.apply(e,u,f,v,C,S,A))}}return t.mixDuration>0&&this.queueEvents(r,d),this.events.length=0,r.nextAnimationLast=d,r.nextTrackLast=r.trackTime,i},e.applyAttachmentTimeline=function(t,e,n,r,i){var a=e.slots[t.slotIndex];a.bone.active&&(n<t.frames[0]?0!=r&&1!=r||this.setAttachment(e,a,a.data.attachmentName,i):this.setAttachment(e,a,t.attachmentNames[q.search1(t.frames,n)],i),a.attachmentState<=this.unkeyedState&&(a.attachmentState=this.unkeyedState+Ht))},e.setAttachment=function(t,e,n,r){e.setAttachment(n?t.getAttachment(e.data.index,n):null),r&&(e.attachmentState=this.unkeyedState+_t)},e.applyRotateTimeline=function(t,e,n,r,i,a,s,o){if(o&&(a[s]=0),1!=r){var h=e.bones[t.boneIndex];if(h.active){var l=0,c=0;if(n<t.frames[0])switch(i){case 0:h.rotation=h.data.rotation;default:return;case 1:l=h.rotation,c=h.data.rotation}else l=0==i?h.data.rotation:h.rotation,c=h.data.rotation+t.getCurveValue(n);var u=0,d=c-l;if(0==(d-=360*Math.ceil(d/360-.5)))u=a[s];else{var f=0,v=0;o?(f=0,v=d):(f=a[s],v=a[s+1]);var m=f-f%360;u=d+m;var g=d>=0,p=f>=0;Math.abs(v)<=90&&M.signum(v)!=M.signum(d)&&(Math.abs(f-m)>180?(u+=360*M.signum(f),p=g):0!=m?u-=360*M.signum(f):p=g),p!=g&&(u+=360*M.signum(f)),a[s]=u}a[s+1]=d,h.rotation=l+u*r}}else t.apply(e,0,n,null,1,i,0)},e.queueEvents=function(t,e){for(var n=t.animationStart,r=t.animationEnd,i=r-n,a=t.trackLast%i,s=this.events,o=0,h=s.length;o<h;o++){var l=s[o];if(l.time<a)break;l.time>r||this.queue.event(t,l)}var c=!1;if(t.loop)if(0==i)c=!0;else{var u=Math.floor(t.trackTime/i);c=u>0&&u>Math.floor(t.trackLast/i)}else c=e>=r&&t.animationLast<r;for(c&&this.queue.complete(t);o<h;o++){var d=s[o];d.time<n||this.queue.event(t,d)}},e.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},e.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(e){this.queue.end(e),this.clearNext(e);for(var n=e;;){var r=n.mixingFrom;if(!r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[e.trackIndex]=null,this.queue.drain()}}},e.setCurrent=function(t,e,n){var r=this.expandToIndex(t);this.tracks[t]=e,e.previous=null,r&&(n&&this.queue.interrupt(r),e.mixingFrom=r,r.mixingTo=e,e.mixTime=0,r.mixingFrom&&r.mixDuration>0&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)},e.setAnimation=function(t,e,n){void 0===n&&(n=!1);var r=this.data.skeletonData.findAnimation(e);if(!r)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,r,n)},e.setAnimationWith=function(t,e,n){if(void 0===n&&(n=!1),!e)throw new Error("animation cannot be null.");var r=!0,i=this.expandToIndex(t);i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.clearNext(i),i=i.mixingFrom,r=!1):this.clearNext(i));var a=this.trackEntry(t,e,n,i);return this.setCurrent(t,a,r),this.queue.drain(),a},e.addAnimation=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=0);var i=this.data.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,n,r)},e.addAnimationWith=function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=0),!e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(i)for(;i.next;)i=i.next;var a=this.trackEntry(t,e,n,i);return i?(i.next=a,a.previous=i,r<=0&&(r+=i.getTrackComplete()-a.mixDuration)):(this.setCurrent(t,a,!0),this.queue.drain()),a.delay=r,a},e.setEmptyAnimation=function(e,n){void 0===n&&(n=0);var r=this.setAnimationWith(e,t.emptyAnimation(),!1);return r.mixDuration=n,r.trackEnd=n,r},e.addEmptyAnimation=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,r);return r<=0&&(i.delay+=i.mixDuration-n),i.mixDuration=n,i.trackEnd=n,i},e.setEmptyAnimations=function(t){void 0===t&&(t=0);var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},e.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(R.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},e.trackEntry=function(t,e,n,r){var i=this.trackEntryPool.obtain();return i.reset(),i.trackIndex=t,i.animation=e,i.loop=n,i.holdPrevious=!1,i.reverse=!1,i.shortestRotation=!1,i.eventThreshold=0,i.alphaAttachmentThreshold=0,i.mixAttachmentThreshold=0,i.mixDrawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.mixTime=0,i.mixDuration=r?this.data.getMix(r.animation,e):0,i.interruptAlpha=1,i.totalAlpha=0,i.mixBlend=2,i},e.clearNext=function(t){for(var e=t.next;e;)this.queue.dispose(e),e=e.next;t.next=null},e._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=this.tracks,e=0,n=t.length;e<n;e++){var r=t[e];if(r){for(;r.mixingFrom;)r=r.mixingFrom;do{r.mixingTo&&3==r.mixBlend||this.computeHold(r),r=r.mixingTo}while(r)}}},e.computeHold=function(t){var e=t.mixingTo,n=t.animation.timelines,r=t.animation.timelines.length,i=t.timelineMode;i.length=r;var a=t.timelineHoldMix;a.length=0;var s=this.propertyIDs;if(e&&e.holdPrevious)for(var o=0;o<r;o++)i[o]=s.addAll(n[o].getPropertyIds())?Gt:Wt;else t:for(var h=0;h<r;h++){var l=n[h],c=l.getPropertyIds();if(s.addAll(c))if(!e||l instanceof ft||l instanceof gt||l instanceof mt||!e.animation.hasTimeline(c))i[h]=Ut;else{for(var u=e.mixingTo;u;u=u.mixingTo)if(!u.animation.hasTimeline(c)){if(t.mixDuration>0){i[h]=zt,a[h]=u;continue t}break}i[h]=Gt}else i[h]=Nt}},e.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},e.addListener=function(t){if(!t)throw new Error("listener cannot be null.");this.listeners.push(t)},e.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},e.clearListeners=function(){this.listeners.length=0},e.clearListenerNotifications=function(){this.queue.clear()},t}();d(Pt,"_emptyAnimation",new G("<empty>",[],0));var Lt,Bt,Yt,Dt=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.mixAttachmentThreshold=0,this.alphaAttachmentThreshold=0,this.mixDrawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this._mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=2,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}var e=t.prototype;return e.setMixDurationWithDelay=function(t,e){this._mixDuration=t,null!=this.previous&&e<=0&&(e+=this.previous.getTrackComplete()-t),this.delay=e},e.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},e.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},e.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},e.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},e.resetRotationDirections=function(){this.timelinesRotation.length=0},e.getTrackComplete=function(){var t=this.animationEnd-this.animationStart;if(0!=t){if(this.loop)return t*(1+(this.trackTime/t|0));if(this.trackTime<t)return t}return this.trackTime},e.wasApplied=function(){return-1!=this.nextTrackLast},e.isNextReady=function(){return null!=this.next&&this.nextTrackLast-this.next.delay>=0},(0,r.Z)(t,[{key:"mixDuration",get:function(){return this._mixDuration},set:function(t){this._mixDuration=t}}]),t}(),Xt=function(){function t(t){this.objects=[],this.drainDisabled=!1,this.animState=void 0,this.animState=t}var e=t.prototype;return e.start=function(t){this.objects.push(Ot.start),this.objects.push(t),this.animState.animationsChanged=!0},e.interrupt=function(t){this.objects.push(Ot.interrupt),this.objects.push(t)},e.end=function(t){this.objects.push(Ot.end),this.objects.push(t),this.animState.animationsChanged=!0},e.dispose=function(t){this.objects.push(Ot.dispose),this.objects.push(t)},e.complete=function(t){this.objects.push(Ot.complete),this.objects.push(t)},e.event=function(t,e){this.objects.push(Ot.event),this.objects.push(t),this.objects.push(e)},e.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];switch(r){case Ot.start:i.listener&&i.listener.start&&i.listener.start(i);for(var a=0;a<e.length;a++){var s=e[a];s.start&&s.start(i)}break;case Ot.interrupt:i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(var o=0;o<e.length;o++){var h=e[o];h.interrupt&&h.interrupt(i)}break;case Ot.end:i.listener&&i.listener.end&&i.listener.end(i);for(var l=0;l<e.length;l++){var c=e[l];c.end&&c.end(i)}case Ot.dispose:i.listener&&i.listener.dispose&&i.listener.dispose(i);for(var u=0;u<e.length;u++){var d=e[u];d.dispose&&d.dispose(i)}this.animState.trackEntryPool.free(i);break;case Ot.complete:i.listener&&i.listener.complete&&i.listener.complete(i);for(var f=0;f<e.length;f++){var v=e[f];v.complete&&v.complete(i)}break;case Ot.event:var m=t[2+n++];i.listener&&i.listener.event&&i.listener.event(i,m);for(var g=0;g<e.length;g++){var p=e[g];p.event&&p.event(i,m)}}}this.clear(),this.drainDisabled=!1}},e.clear=function(){this.objects.length=0},t}(),Ot=((Lt=Ot||{})[Lt.start=0]="start",Lt[Lt.interrupt=1]="interrupt",Lt[Lt.end=2]="end",Lt[Lt.dispose=3]="dispose",Lt[Lt.complete=4]="complete",Lt[Lt.event=5]="event",Lt),Vt=function(){function t(){}var e=t.prototype;return e.start=function(t){},e.interrupt=function(t){},e.end=function(t){},e.dispose=function(t){},e.complete=function(t){},e.event=function(t,e){},t}(),Nt=0,Ut=1,Wt=2,Gt=3,zt=4,Ht=1,_t=2,qt=function(){function t(t){if(this.skeletonData=void 0,this.animationToMixTime={},this.defaultMix=0,!t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}var e=t.prototype;return e.setMix=function(t,e,n){var r=this.skeletonData.findAnimation(t);if(!r)throw new Error("Animation not found: "+t);var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);this.setMixWith(r,i,n)},e.setMixWith=function(t,e,n){if(!t)throw new Error("from cannot be null.");if(!e)throw new Error("to cannot be null.");var r=t.name+"."+e.name;this.animationToMixTime[r]=n},e.getMix=function(t,e){var n=t.name+"."+e.name,r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r},t}(),Zt=function(t){function e(e){var n;return(n=t.call(this,e)||this).color=new S(1,1,1,1),n}return(0,a.Z)(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t},e}(D),jt=function(t){function e(e){var n;return(n=t.call(this,e)||this).endSlot=null,n.color=new S(.2275,.2275,.8078,1),n}return(0,a.Z)(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},e}(D),Kt=function(){function t(t){this._image=void 0,this._image=t}return t.prototype.getImage=function(){return this._image},t}(),Jt=((Bt=Jt||{})[Bt.Nearest=9728]="Nearest",Bt[Bt.Linear=9729]="Linear",Bt[Bt.MipMap=9987]="MipMap",Bt[Bt.MipMapNearestNearest=9984]="MipMapNearestNearest",Bt[Bt.MipMapLinearNearest=9985]="MipMapLinearNearest",Bt[Bt.MipMapNearestLinear=9986]="MipMapNearestLinear",Bt[Bt.MipMapLinearLinear=9987]="MipMapLinearLinear",Bt),Qt=((Yt=Qt||{})[Yt.MirroredRepeat=33648]="MirroredRepeat",Yt[Yt.ClampToEdge=33071]="ClampToEdge",Yt[Yt.Repeat=10497]="Repeat",Yt),$t=function(){this.texture=void 0,this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.degrees=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0},te=function(t){function e(){return t.apply(this,arguments)||this}(0,a.Z)(e,t);var n=e.prototype;return n.setFilters=function(t,e){},n.setWraps=function(t,e){},n.dispose=function(){},e}(Kt),ee=function(){function t(t){this.pages=new Array,this.regions=new Array;for(var e=new ne(t),n=new Array(4),r={size:function(t){t.width=parseInt(n[1]),t.height=parseInt(n[2])},format:function(){},filter:function(t){t.minFilter=R.enumValue(Jt,n[1]),t.magFilter=R.enumValue(Jt,n[2])},repeat:function(t){-1!=n[1].indexOf("x")&&(t.uWrap=10497),-1!=n[1].indexOf("y")&&(t.vWrap=10497)},pma:function(t){t.pma="true"==n[1]}},i={xy:function(t){t.x=parseInt(n[1]),t.y=parseInt(n[2])},size:function(t){t.width=parseInt(n[1]),t.height=parseInt(n[2])},bounds:function(t){t.x=parseInt(n[1]),t.y=parseInt(n[2]),t.width=parseInt(n[3]),t.height=parseInt(n[4])},offset:function(t){t.offsetX=parseInt(n[1]),t.offsetY=parseInt(n[2])},orig:function(t){t.originalWidth=parseInt(n[1]),t.originalHeight=parseInt(n[2])},offsets:function(t){t.offsetX=parseInt(n[1]),t.offsetY=parseInt(n[2]),t.originalWidth=parseInt(n[3]),t.originalHeight=parseInt(n[4])},rotate:function(t){var e=n[1];"true"==e?t.degrees=90:"false"!=e&&(t.degrees=parseInt(e))},index:function(t){t.index=parseInt(n[1])}},a=e.readLine();a&&0==a.trim().length;)a=e.readLine();for(;a&&0!=a.trim().length&&0!=e.readEntry(n,a);)a=e.readLine();for(var s=null,o=null,h=null;null!==a;)if(0==a.trim().length)s=null,a=e.readLine();else if(s){for(var l=new ie(s,a);;){var c=e.readEntry(n,a=e.readLine());if(0==c)break;var u=i[n[0]];if(u)u(l);else{o||(o=[]),h||(h=[]),o.push(n[0]);for(var d=[],f=0;f<c;f++)d.push(parseInt(n[f+1]));h.push(d)}}0==l.originalWidth&&0==l.originalHeight&&(l.originalWidth=l.width,l.originalHeight=l.height),o&&o.length>0&&h&&h.length>0&&(l.names=o,l.values=h,o=null,h=null),l.u=l.x/s.width,l.v=l.y/s.height,90==l.degrees?(l.u2=(l.x+l.height)/s.width,l.v2=(l.y+l.width)/s.height):(l.u2=(l.x+l.width)/s.width,l.v2=(l.y+l.height)/s.height),this.regions.push(l)}else{for(s=new re(a.trim());0!=e.readEntry(n,a=e.readLine());){var v=r[n[0]];v&&v(s)}this.pages.push(s)}}var e=t.prototype;return e.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.setTextures=function(t,e){void 0===e&&(e="");for(var n,r=s(this.pages);!(n=r()).done;){var i=n.value;i.setTexture(t.get(e+i.name))}},e.dispose=function(){for(var t=0;t<this.pages.length;t++){var e;null==(e=this.pages[t].texture)||e.dispose()}},t}(),ne=function(){function t(t){this.lines=void 0,this.index=0,this.lines=t.split(/\r\n|\r|\n/)}var e=t.prototype;return e.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},e.readEntry=function(t,e){if(!e)return 0;if(0==(e=e.trim()).length)return 0;var n=e.indexOf(":");if(-1==n)return 0;t[0]=e.substr(0,n).trim();for(var r=1,i=n+1;;r++){var a=e.indexOf(",",i);if(-1==a)return t[r]=e.substr(i).trim(),r;if(t[r]=e.substr(i,a-i).trim(),i=a+1,4==r)return 4}},t}(),re=function(){function t(t){this.name=void 0,this.minFilter=9728,this.magFilter=9728,this.uWrap=33071,this.vWrap=33071,this.texture=null,this.width=0,this.height=0,this.pma=!1,this.regions=new Array,this.name=t}return t.prototype.setTexture=function(t){this.texture=t,t.setFilters(this.minFilter,this.magFilter),t.setWraps(this.uWrap,this.vWrap);for(var e,n=s(this.regions);!(e=n()).done;){e.value.texture=t}},t}(),ie=function(t){function e(e,n){var r;return(r=t.call(this)||this).page=void 0,r.name=void 0,r.x=0,r.y=0,r.offsetX=0,r.offsetY=0,r.originalWidth=0,r.originalHeight=0,r.index=0,r.degrees=0,r.names=null,r.values=null,r.page=e,r.name=n,e.regions.push((0,i.Z)(r)),r}return(0,a.Z)(e,t),e}($t),ae=function(t){function e(e,n){var r;return(r=t.call(this,e)||this).region=null,r.path=void 0,r.regionUVs=[],r.uvs=[],r.triangles=[],r.color=new S(1,1,1,1),r.width=0,r.height=0,r.hullLength=0,r.edges=[],r.parentMesh=null,r.sequence=null,r.tempColor=new S(0,0,0,0),r.path=n,r}(0,a.Z)(e,t);var n=e.prototype;return n.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var t=this.regionUVs;this.uvs&&this.uvs.length==t.length||(this.uvs=R.newFloatArray(t.length));var e=this.uvs,n=this.uvs.length,r=this.region.u,i=this.region.v,a=0,s=0;if(this.region instanceof ie){var o=this.region,h=o.page,l=h.width,c=h.height;switch(o.degrees){case 90:r-=(o.originalHeight-o.offsetY-o.height)/l,i-=(o.originalWidth-o.offsetX-o.width)/c,a=o.originalHeight/l,s=o.originalWidth/c;for(var u=0;u<n;u+=2)e[u]=r+t[u+1]*a,e[u+1]=i+(1-t[u])*s;return;case 180:r-=(o.originalWidth-o.offsetX-o.width)/l,i-=o.offsetY/c,a=o.originalWidth/l,s=o.originalHeight/c;for(var d=0;d<n;d+=2)e[d]=r+(1-t[d])*a,e[d+1]=i+(1-t[d+1])*s;return;case 270:r-=o.offsetY/l,i-=o.offsetX/c,a=o.originalHeight/l,s=o.originalWidth/c;for(var f=0;f<n;f+=2)e[f]=r+(1-t[f+1])*a,e[f+1]=i+t[f]*s;return}r-=o.offsetX/l,i-=(o.originalHeight-o.offsetY-o.height)/c,a=o.originalWidth/l,s=o.originalHeight/c}else this.region?(a=this.region.u2-r,s=this.region.v2-i):(r=i=0,a=s=1);for(var v=0;v<n;v+=2)e[v]=r+t[v]*a,e[v+1]=i+t[v+1]*s},n.getParentMesh=function(){return this.parentMesh},n.setParentMesh=function(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},n.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var t=new e(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),R.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),R.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),R.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,t.sequence=null!=this.sequence?this.sequence.copy():null,this.edges&&(t.edges=new Array(this.edges.length),R.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},n.computeWorldVertices=function(e,n,r,i,a,s){null!=this.sequence&&this.sequence.apply(e,this),t.prototype.computeWorldVertices.call(this,e,n,r,i,a,s)},n.newLinkedMesh=function(){var t=new e(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),t.timelineAttachment=this.timelineAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),null!=t.region&&t.updateRegion(),t},e}(D),se=function(t){function e(e){var n;return(n=t.call(this,e)||this).lengths=[],n.closed=!1,n.constantSpeed=!1,n.color=new S(1,1,1,1),n}return(0,a.Z)(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),R.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t},e}(D),oe=function(t){function e(e){var n;return(n=t.call(this,e)||this).x=0,n.y=0,n.rotation=0,n.color=new S(.38,.94,0,1),n}(0,a.Z)(e,t);var n=e.prototype;return n.computeWorldPosition=function(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e},n.computeWorldRotation=function(t){var e=this.rotation*M.degRad,n=Math.cos(e),r=Math.sin(e),i=n*t.a+r*t.b,a=n*t.c+r*t.d;return M.atan2Deg(a,i)},n.copy=function(){var t=new e(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},e}(D),he=function(t){function e(e,n){var r;return(r=t.call(this,e)||this).x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new S(1,1,1,1),r.path=void 0,r.region=null,r.sequence=null,r.offset=R.newFloatArray(8),r.uvs=R.newFloatArray(8),r.tempColor=new S(1,1,1,1),r.path=n,r}(0,a.Z)(e,t);var n=e.prototype;return n.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var t=this.region,e=this.uvs;if(null==t)return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=1,e[5]=1,e[6]=1,void(e[7]=0);var n=this.width/this.region.originalWidth*this.scaleX,r=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*n,a=-this.height/2*this.scaleY+this.region.offsetY*r,s=i+this.region.width*n,o=a+this.region.height*r,h=this.rotation*M.degRad,l=Math.cos(h),c=Math.sin(h),u=this.x,d=this.y,f=i*l+u,v=i*c,m=a*l+d,g=a*c,p=s*l+u,w=s*c,b=o*l+d,y=o*c,x=this.offset;x[0]=f-g,x[1]=m+v,x[2]=f-y,x[3]=b+v,x[4]=p-y,x[5]=b+w,x[6]=p-g,x[7]=m+w,90==t.degrees?(e[0]=t.u2,e[1]=t.v2,e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},n.computeWorldVertices=function(t,e,n,r){null!=this.sequence&&this.sequence.apply(t,this);var i=t.bone,a=this.offset,s=i.worldX,o=i.worldY,h=i.a,l=i.b,c=i.c,u=i.d,d=0,f=0;d=a[0],f=a[1],e[n]=d*h+f*l+s,e[n+1]=d*c+f*u+o,n+=r,d=a[2],f=a[3],e[n]=d*h+f*l+s,e[n+1]=d*c+f*u+o,n+=r,d=a[4],f=a[5],e[n]=d*h+f*l+s,e[n+1]=d*c+f*u+o,n+=r,d=a[6],f=a[7],e[n]=d*h+f*l+s,e[n+1]=d*c+f*u+o},n.copy=function(){var t=new e(this.name,this.path);return t.region=this.region,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,R.arrayCopy(this.uvs,0,t.uvs,0,8),R.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t.sequence=null!=this.sequence?this.sequence.copy():null,t},e}(Y);d(he,"X1",0),d(he,"Y1",1),d(he,"C1R",2),d(he,"C1G",3),d(he,"C1B",4),d(he,"C1A",5),d(he,"U1",6),d(he,"V1",7),d(he,"X2",8),d(he,"Y2",9),d(he,"C2R",10),d(he,"C2G",11),d(he,"C2B",12),d(he,"C2A",13),d(he,"U2",14),d(he,"V2",15),d(he,"X3",16),d(he,"Y3",17),d(he,"C3R",18),d(he,"C3G",19),d(he,"C3B",20),d(he,"C3A",21),d(he,"U3",22),d(he,"V3",23),d(he,"X4",24),d(he,"Y4",25),d(he,"C4R",26),d(he,"C4G",27),d(he,"C4B",28),d(he,"C4A",29),d(he,"U4",30),d(he,"V4",31);var le,ce,ue,de,fe=function(){function t(t){this.atlas=void 0,this.atlas=t}var e=t.prototype;return e.loadSequence=function(t,e,n){for(var r=n.regions,i=0,a=r.length;i<a;i++){var s=n.getPath(e,i),o=this.atlas.findRegion(s);if(null==o)throw new Error("Region not found in atlas: "+s+" (sequence: "+t+")");r[i]=o}},e.newRegionAttachment=function(t,e,n,r){var i=new he(e,n);if(null!=r)this.loadSequence(e,n,r);else{var a=this.atlas.findRegion(n);if(!a)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");i.region=a}return i},e.newMeshAttachment=function(t,e,n,r){var i=new ae(e,n);if(null!=r)this.loadSequence(e,n,r);else{var a=this.atlas.findRegion(n);if(!a)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");i.region=a}return i},e.newBoundingBoxAttachment=function(t,e){return new Zt(e)},e.newPathAttachment=function(t,e){return new se(e)},e.newPointAttachment=function(t,e){return new oe(e)},e.newClippingAttachment=function(t,e){return new jt(e)},t}(),ve=function(t,e,n){if(this.index=0,this.name=void 0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.inherit=me.Normal,this.skinRequired=!1,this.color=new S,this.icon=void 0,this.visible=!1,t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n},me=((le=me||{})[le.Normal=0]="Normal",le[le.OnlyTranslation=1]="OnlyTranslation",le[le.NoRotationOrReflection=2]="NoRotationOrReflection",le[le.NoScale=3]="NoScale",le[le.NoScaleOrReflection=4]="NoScaleOrReflection",le),ge=function(){function t(t,e,n){if(this.data=void 0,this.skeleton=void 0,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.inherit=0,this.sorted=!1,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}var e=t.prototype;return e.isActive=function(){return this.active},e.update=function(t){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},e.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.updateWorldTransformWith=function(t,e,n,r,i,a,s){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=r,this.ascaleY=i,this.ashearX=a,this.ashearY=s;var o=this.parent;if(!o){var h=this.skeleton,l=h.scaleX,c=h.scaleY,u=(n+a)*M.degRad,d=(n+90+s)*M.degRad;return this.a=Math.cos(u)*r*l,this.b=Math.cos(d)*i*l,this.c=Math.sin(u)*r*c,this.d=Math.sin(d)*i*c,this.worldX=t*l+h.x,void(this.worldY=e*c+h.y)}var f=o.a,v=o.b,m=o.c,g=o.d;switch(this.worldX=f*t+v*e+o.worldX,this.worldY=m*t+g*e+o.worldY,this.inherit){case 0:var p=(n+a)*M.degRad,w=(n+90+s)*M.degRad,b=Math.cos(p)*r,y=Math.cos(w)*i,x=Math.sin(p)*r,A=Math.sin(w)*i;return this.a=f*b+v*x,this.b=f*y+v*A,this.c=m*b+g*x,void(this.d=m*y+g*A);case 1:var S=(n+a)*M.degRad,C=(n+90+s)*M.degRad;this.a=Math.cos(S)*r,this.b=Math.cos(C)*i,this.c=Math.sin(S)*r,this.d=Math.sin(C)*i;break;case 2:var k=f*f+m*m,T=0;k>1e-4?(k=Math.abs(f*g-v*m)/k,f/=this.skeleton.scaleX,v=(m/=this.skeleton.scaleY)*k,g=f*k,T=Math.atan2(m,f)*M.radDeg):(f=0,m=0,T=90-Math.atan2(g,v)*M.radDeg);var I=(n+a-T)*M.degRad,R=(n+s-T+90)*M.degRad,E=Math.cos(I)*r,F=Math.cos(R)*i,P=Math.sin(I)*r,L=Math.sin(R)*i;this.a=f*E-v*P,this.b=f*F-v*L,this.c=m*E+g*P,this.d=m*F+g*L;break;case 3:case 4:n*=M.degRad;var B=Math.cos(n),Y=Math.sin(n),D=(f*B+v*Y)/this.skeleton.scaleX,X=(m*B+g*Y)/this.skeleton.scaleY,O=Math.sqrt(D*D+X*X);O>1e-5&&(O=1/O),D*=O,X*=O,O=Math.sqrt(D*D+X*X),3==this.inherit&&f*g-v*m<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(O=-O),n=Math.PI/2+Math.atan2(X,D);var V=Math.cos(n)*O,N=Math.sin(n)*O;a*=M.degRad,s=(90+s)*M.degRad;var U=Math.cos(a)*r,W=Math.cos(s)*i,G=Math.sin(a)*r,z=Math.sin(s)*i;this.a=D*U+V*G,this.b=D*W+V*z,this.c=X*U+N*G,this.d=X*W+N*z}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY},e.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY,this.inherit=t.inherit},e.updateAppliedTransform=function(){var t=this.parent;if(!t)return this.ax=this.worldX-this.skeleton.x,this.ay=this.worldY-this.skeleton.y,this.arotation=Math.atan2(this.c,this.a)*M.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*M.radDeg);var e,n,r,i,a=t.a,s=t.b,o=t.c,h=t.d,l=1/(a*h-s*o),c=h*l,u=s*l,d=o*l,f=a*l,v=this.worldX-t.worldX,m=this.worldY-t.worldY;if(this.ax=v*c-m*u,this.ay=m*f-v*d,1==this.inherit)e=this.a,n=this.b,r=this.c,i=this.d;else{switch(this.inherit){case 2:var g=Math.abs(a*h-s*o)/(a*a+o*o),p=a/this.skeleton.scaleX;s=-(o/this.skeleton.scaleY)*g*this.skeleton.scaleX,c=(h=p*g*this.skeleton.scaleY)*(l=1/(a*h-s*o)),u=s*l;break;case 3:case 4:var w=M.cosDeg(this.rotation),b=M.sinDeg(this.rotation);a=(a*w+s*b)/this.skeleton.scaleX,o=(o*w+h*b)/this.skeleton.scaleY;var y=Math.sqrt(a*a+o*o);y>1e-5&&(y=1/y),a*=y,o*=y,y=Math.sqrt(a*a+o*o),3==this.inherit&&l<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(y=-y);var x=M.PI/2+Math.atan2(o,a);s=Math.cos(x)*y,c=(h=Math.sin(x)*y)*(l=1/(a*h-s*o)),u=s*l,d=o*l,f=a*l}e=c*this.a-u*this.c,n=c*this.b-u*this.d,r=f*this.c-d*this.a,i=f*this.d-d*this.b}if(this.ashearX=0,this.ascaleX=Math.sqrt(e*e+r*r),this.ascaleX>1e-4){var A=e*i-n*r;this.ascaleY=A/this.ascaleX,this.ashearY=-Math.atan2(e*n+r*i,A)*M.radDeg,this.arotation=Math.atan2(r,e)*M.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(n*n+i*i),this.ashearY=0,this.arotation=90-Math.atan2(i,n)*M.radDeg},e.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*M.radDeg},e.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*M.radDeg},e.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},e.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},e.worldToLocal=function(t){var e=1/(this.a*this.d-this.b*this.c),n=t.x-this.worldX,r=t.y-this.worldY;return t.x=n*this.d*e-r*this.b*e,t.y=r*this.a*e-n*this.c*e,t},e.localToWorld=function(t){var e=t.x,n=t.y;return t.x=e*this.a+n*this.b+this.worldX,t.y=e*this.c+n*this.d+this.worldY,t},e.worldToParent=function(t){if(null==t)throw new Error("world cannot be null.");return null==this.parent?t:this.parent.worldToLocal(t)},e.parentToWorld=function(t){if(null==t)throw new Error("world cannot be null.");return null==this.parent?t:this.parent.localToWorld(t)},e.worldToLocalRotation=function(t){var e=M.sinDeg(t),n=M.cosDeg(t);return Math.atan2(this.a*e-this.c*n,this.d*n-this.b*e)*M.radDeg+this.rotation-this.shearX},e.localToWorldRotation=function(t){t-=this.rotation-this.shearX;var e=M.sinDeg(t),n=M.cosDeg(t);return Math.atan2(n*this.c+e*this.d,n*this.a+e*this.b)*M.radDeg},e.rotateWorld=function(t){t*=M.degRad;var e=Math.sin(t),n=Math.cos(t),r=this.a,i=this.b;this.a=n*r-e*this.c,this.b=n*i-e*this.d,this.c=e*r+n*this.c,this.d=e*i+n*this.d},t}(),pe=function(t,e,n){this.name=t,this.order=e,this.skinRequired=n},we=function(){function t(t,e,n){void 0===e&&(e=""),void 0===n&&(n=new be),this.pathPrefix="",this.textureLoader=void 0,this.downloader=void 0,this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.textureLoader=t,this.pathPrefix=e,this.downloader=n}var e=t.prototype;return e.start=function(t){return this.toLoad++,this.pathPrefix+t},e.success=function(t,e,n){this.toLoad--,this.loaded++,this.assets[e]=n,t&&t(e,n)},e.error=function(t,e,n){this.toLoad--,this.loaded++,this.errors[e]=n,t&&t(e,n)},e.loadAll=function(){var t=this;return new Promise((function(e,n){requestAnimationFrame((function r(){t.isLoadingComplete()?t.hasErrors()?n(t.errors):e(t):requestAnimationFrame(r)}))}))},e.setRawDataURI=function(t,e){this.downloader.rawDataUris[this.pathPrefix+t]=e},e.loadBinary=function(t,e,n){var r=this;void 0===e&&(e=function(){}),void 0===n&&(n=function(){}),t=this.start(t),this.downloader.downloadBinary(t,(function(n){r.success(e,t,n)}),(function(e,i){r.error(n,t,"Couldn't load binary "+t+": status "+e+", "+i)}))},e.loadText=function(t,e,n){var r=this;void 0===e&&(e=function(){}),void 0===n&&(n=function(){}),t=this.start(t),this.downloader.downloadText(t,(function(n){r.success(e,t,n)}),(function(e,i){r.error(n,t,"Couldn't load text "+t+": status "+e+", "+i)}))},e.loadJson=function(t,e,n){var r=this;void 0===e&&(e=function(){}),void 0===n&&(n=function(){}),t=this.start(t),this.downloader.downloadJson(t,(function(n){r.success(e,t,n)}),(function(e,i){r.error(n,t,"Couldn't load JSON "+t+": status "+e+", "+i)}))},e.loadTexture=function(t,e,n){var r=this;if(void 0===e&&(e=function(){}),void 0===n&&(n=function(){}),t=this.start(t),!!("undefined"===typeof window||"undefined"===typeof navigator||!window.document))fetch(t,{mode:"cors"}).then((function(e){return e.ok?e.blob():(r.error(n,t,"Couldn't load image: "+t),null)})).then((function(t){return t?createImageBitmap(t,{premultiplyAlpha:"none",colorSpaceConversion:"none"}):null})).then((function(n){n&&r.success(e,t,r.textureLoader(n))}));else{var i=new Image;i.crossOrigin="anonymous",i.onload=function(){r.success(e,t,r.textureLoader(i))},i.onerror=function(){r.error(n,t,"Couldn't load image: "+t)},this.downloader.rawDataUris[t]&&(t=this.downloader.rawDataUris[t]),i.src=t}},e.loadTextureAtlas=function(t,e,n,r){var i=this;void 0===e&&(e=function(){}),void 0===n&&(n=function(){});var a=t.lastIndexOf("/"),o=a>=0?t.substring(0,a+1):"";t=this.start(t),this.downloader.downloadText(t,(function(a){try{for(var h,l=new ee(a),c=l.pages.length,u=!1,d=function(){var a=h.value;i.loadTexture(r?r[a.name]:o+a.name,(function(n,r){u||(a.setTexture(r),0==--c&&i.success(e,t,l))}),(function(e,r){u||i.error(n,t,"Couldn't load texture atlas "+t+" page image: "+e),u=!0}))},f=s(l.pages);!(h=f()).done;)d()}catch(v){i.error(n,t,"Couldn't parse texture atlas "+t+": "+v.message)}}),(function(e,r){i.error(n,t,"Couldn't load texture atlas "+t+": status "+e+", "+r)}))},e.get=function(t){return this.assets[this.pathPrefix+t]},e.require=function(t){t=this.pathPrefix+t;var e=this.assets[t];if(e)return e;var n=this.errors[t];throw Error("Asset not found: "+t+(n?"\n"+n:""))},e.remove=function(t){t=this.pathPrefix+t;var e=this.assets[t];return e.dispose&&e.dispose(),delete this.assets[t],e},e.removeAll=function(){for(var t in this.assets){var e=this.assets[t];e.dispose&&e.dispose()}this.assets={}},e.isLoadingComplete=function(){return 0==this.toLoad},e.getToLoad=function(){return this.toLoad},e.getLoaded=function(){return this.loaded},e.dispose=function(){this.removeAll()},e.hasErrors=function(){return Object.keys(this.errors).length>0},e.getErrors=function(){return this.errors},t}(),be=function(){function t(){this.callbacks={},this.rawDataUris={}}var e=t.prototype;return e.dataUriToString=function(t){if(!t.startsWith("data:"))throw new Error("Not a data URI.");var e=t.indexOf("base64,");return-1!=e?(e+=7,atob(t.substr(e))):t.substr(t.indexOf(",")+1)},e.base64ToUint8Array=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.charCodeAt(i);return r},e.dataUriToUint8Array=function(t){if(!t.startsWith("data:"))throw new Error("Not a data URI.");var e=t.indexOf("base64,");if(-1==e)throw new Error("Not a binary data URI.");return e+=7,this.base64ToUint8Array(t.substr(e))},e.downloadText=function(t,e,n){var r=this;if(!this.start(t,e,n))if(this.rawDataUris[t])try{var i=this.rawDataUris[t];this.finish(t,200,this.dataUriToString(i))}catch(o){this.finish(t,400,JSON.stringify(o))}else{var a=new XMLHttpRequest;a.overrideMimeType("text/html"),a.open("GET",t,!0);var s=function(){r.finish(t,a.status,a.responseText)};a.onload=s,a.onerror=s,a.send()}},e.downloadJson=function(t,e,n){this.downloadText(t,(function(t){e(JSON.parse(t))}),n)},e.downloadBinary=function(t,e,n){var r=this;if(!this.start(t,e,n))if(this.rawDataUris[t])try{var i=this.rawDataUris[t];this.finish(t,200,this.dataUriToUint8Array(i))}catch(o){this.finish(t,400,JSON.stringify(o))}else{var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType="arraybuffer";var s=function(){r.finish(t,a.status,a.response)};a.onload=function(){200==a.status||0==a.status?r.finish(t,200,new Uint8Array(a.response)):s()},a.onerror=s,a.send()}},e.start=function(t,e,n){var r=this.callbacks[t];try{if(r)return!0;this.callbacks[t]=r=[]}finally{r.push(e,n)}},e.finish=function(t,e,n){var r=this.callbacks[t];delete this.callbacks[t];for(var i=200==e||0==e?[n]:[e,n],a=i.length-1,s=r.length;a<s;a+=2)r[a].apply(null,i)},t}(),ye=function(t,e){if(this.data=void 0,this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!e)throw new Error("data cannot be null.");this.time=t,this.data=e},xe=function(t){this.name=void 0,this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=t},Ae=function(){function t(t,e){if(this.data=void 0,this.bones=void 0,this.target=void 0,this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0;n<t.bones.length;n++){var r=e.findBone(t.bones[n].name);if(!r)throw new Error("Couldn't find bone "+t.bones[n].name);this.bones.push(r)}var i=e.findBone(t.target.name);if(!i)throw new Error("Couldn't find bone "+t.target.name);this.target=i,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch}var e=t.prototype;return e.isActive=function(){return this.active},e.setToSetupPose=function(){var t=this.data;this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch},e.update=function(t){if(0!=this.mix){var e=this.target,n=this.bones;switch(n.length){case 1:this.apply1(n[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(n[0],n[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}},e.apply1=function(t,e,n,r,i,a,s){var o=t.parent;if(!o)throw new Error("IK bone must have parent.");var h=o.a,l=o.b,c=o.c,u=o.d,d=-t.ashearX-t.arotation,f=0,v=0;switch(t.inherit){case 1:f=(e-t.worldX)*M.signum(t.skeleton.scaleX),v=(n-t.worldY)*M.signum(t.skeleton.scaleY);break;case 2:var m=Math.abs(h*u-l*c)/Math.max(1e-4,h*h+c*c),g=h/t.skeleton.scaleX,p=c/t.skeleton.scaleY;l=-p*m*t.skeleton.scaleX,u=g*m*t.skeleton.scaleY,d+=Math.atan2(p,g)*M.radDeg;default:var w=e-o.worldX,b=n-o.worldY,y=h*u-l*c;Math.abs(y)<=1e-4?(f=0,v=0):(f=(w*u-b*l)/y-t.ax,v=(b*h-w*c)/y-t.ay)}d+=Math.atan2(v,f)*M.radDeg,t.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var x=t.ascaleX,A=t.ascaleY;if(r||i){switch(t.inherit){case 3:case 4:f=e-t.worldX,v=n-t.worldY}var S=t.data.length*x;if(S>1e-4){var C=f*f+v*v;if(r&&C<S*S||i&&C>S*S){var k=(Math.sqrt(C)/S-1)*s+1;x*=k,a&&(A*=k)}}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+d*s,x,A,t.ashearX,t.ashearY)},e.apply2=function(t,e,n,r,i,a,s,o,h){if(0==t.inherit&&0==e.inherit){var l=t.ax,c=t.ay,u=t.ascaleX,d=t.ascaleY,f=u,v=d,m=e.ascaleX,g=0,p=0,w=0;u<0?(u=-u,g=180,w=-1):(g=0,w=1),d<0&&(d=-d,w=-w),m<0?(m=-m,p=180):p=0;var b=e.ax,y=0,x=0,A=0,S=t.a,C=t.b,k=t.c,T=t.d,I=Math.abs(u-d)<=1e-4;!I||a?(y=0,x=S*b+t.worldX,A=k*b+t.worldY):(x=S*b+C*(y=e.ay)+t.worldX,A=k*b+T*y+t.worldY);var R=t.parent;if(!R)throw new Error("IK parent must itself have a parent.");S=R.a,C=R.b,k=R.c;var E,F,P=S*(T=R.d)-C*k,L=x-R.worldX,B=A-R.worldY,Y=(L*T-B*C)*(P=Math.abs(P)<=1e-4?0:1/P)-l,D=(B*S-L*k)*P-c,X=Math.sqrt(Y*Y+D*D),O=e.data.length*m;if(X<1e-4)return this.apply1(t,n,r,!1,a,!1,h),void e.updateWorldTransformWith(b,y,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var V=((L=n-R.worldX)*T-(B=r-R.worldY)*C)*P-l,N=(B*S-L*k)*P-c,U=V*V+N*N;if(0!=o){o*=u*(m+1)*.5;var W=Math.sqrt(U),G=W-X-O*u+o;if(G>0){var z=Math.min(1,G/(2*o))-1;U=(V-=(z=(G-o*(1-z*z))/W)*V)*V+(N-=z*N)*N}}t:if(I){var H=(U-X*X-(O*=u)*O)/(2*X*O);H<-1?(H=-1,F=Math.PI*i):H>1?(H=1,F=0,a&&(f*=S=(Math.sqrt(U)/(X+O)-1)*h+1,s&&(v*=S))):F=Math.acos(H)*i,S=X+O*H,C=O*Math.sin(F),E=Math.atan2(N*S-V*C,V*S+N*C)}else{var _=(S=u*O)*S,q=(C=d*O)*C,Z=Math.atan2(N,V),j=-2*q*X,K=q-_;if((T=j*j-4*K*(k=q*X*X+_*U-_*q))>=0){var J=Math.sqrt(T);j<0&&(J=-J);var Q=(J=.5*-(j+J))/K,$=k/J,tt=Math.abs(Q)<Math.abs($)?Q:$;if(tt*tt<=U){B=Math.sqrt(U-tt*tt)*i,E=Z-Math.atan2(B,tt),F=Math.atan2(B/d,(tt-X)/u);break t}}var et=M.PI,nt=X-S,rt=nt*nt,it=0,at=0,st=X+S,ot=st*st,ht=0;(k=-S*X/(_-q))>=-1&&k<=1&&(k=Math.acos(k),(T=(L=S*Math.cos(k)+X)*L+(B=C*Math.sin(k))*B)<rt&&(et=k,rt=T,nt=L,it=B),T>ot&&(at=k,ot=T,st=L,ht=B)),U<=.5*(rt+ot)?(E=Z-Math.atan2(it*i,nt),F=et*i):(E=Z-Math.atan2(ht*i,st),F=at*i)}var lt=Math.atan2(y,b)*w,ct=t.arotation;(E=(E-lt)*M.radDeg+g-ct)>180?E-=360:E<-180&&(E+=360),t.updateWorldTransformWith(l,c,ct+E*h,f,v,0,0),ct=e.arotation,(F=((F+lt)*M.radDeg-e.ashearX)*w+p-ct)>180?F-=360:F<-180&&(F+=360),e.updateWorldTransformWith(b,y,ct+F*h,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}},t}(),Se=function(t){function e(e){var n;return(n=t.call(this,e,0,!1)||this).bones=new Array,n._target=null,n.bendDirection=0,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=0,n.softness=0,n}return(0,a.Z)(e,t),(0,r.Z)(e,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(t){this._target=t}}]),e}(pe),Ce=function(t){function e(e){var n;return(n=t.call(this,e,0,!1)||this).bones=new Array,n._target=null,n.positionMode=Me.Fixed,n.spacingMode=ke.Fixed,n.rotateMode=Te.Chain,n.offsetRotation=0,n.position=0,n.spacing=0,n.mixRotate=0,n.mixX=0,n.mixY=0,n}return(0,a.Z)(e,t),(0,r.Z)(e,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(t){this._target=t}}]),e}(pe),Me=((ce=Me||{})[ce.Fixed=0]="Fixed",ce[ce.Percent=1]="Percent",ce),ke=((ue=ke||{})[ue.Length=0]="Length",ue[ue.Fixed=1]="Fixed",ue[ue.Percent=2]="Percent",ue[ue.Proportional=3]="Proportional",ue),Te=((de=Te||{})[de.Tangent=0]="Tangent",de[de.Chain=1]="Chain",de[de.ChainScale=2]="ChainScale",de),Ie=function(){function t(t,e){if(this.data=void 0,this.bones=void 0,this.target=void 0,this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,r=t.bones.length;n<r;n++){var i=e.findBone(t.bones[n].name);if(!i)throw new Error("Couldn't find bone "+t.bones[n].name+".");this.bones.push(i)}var a=e.findSlot(t.target.name);if(!a)throw new Error("Couldn't find target bone "+t.target.name);this.target=a,this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}var e=t.prototype;return e.isActive=function(){return this.active},e.setToSetupPose=function(){var t=this.data;this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY},e.update=function(e){var n=this.target.getAttachment();if(n instanceof se){var r=this.mixRotate,i=this.mixX,a=this.mixY;if(0!=r||0!=i||0!=a){var s=this.data,o=0==s.rotateMode,h=2==s.rotateMode,l=this.bones,c=l.length,u=o?c:c+1,d=R.setArraySize(this.spaces,u),f=h?this.lengths=R.setArraySize(this.lengths,c):[],v=this.spacing;switch(s.spacingMode){case 2:if(h)for(var m=0,g=u-1;m<g;m++){var p=l[m],w=p.data.length,b=w*p.a,y=w*p.c;f[m]=Math.sqrt(b*b+y*y)}R.arrayFill(d,1,u,v);break;case 3:for(var x=0,A=0,S=u-1;A<S;){var C=l[A],k=C.data.length;if(k<t.epsilon)h&&(f[A]=0),d[++A]=v;else{var T=k*C.a,I=k*C.c,E=Math.sqrt(T*T+I*I);h&&(f[A]=E),d[++A]=E,x+=E}}if(x>0){x=u/x*v;for(var F=1;F<u;F++)d[F]*=x}break;default:for(var P=0==s.spacingMode,L=0,B=u-1;L<B;){var Y=l[L],D=Y.data.length;if(D<t.epsilon)h&&(f[L]=0),d[++L]=v;else{var X=D*Y.a,O=D*Y.c,V=Math.sqrt(X*X+O*O);h&&(f[L]=V),d[++L]=(P?D+v:v)*V/D}}}var N=this.computeWorldPositions(n,u,o),U=N[0],W=N[1],G=s.offsetRotation,z=!1;if(0==G)z=1==s.rotateMode;else{z=!1;var H=this.target.bone;G*=H.a*H.d-H.b*H.c>0?M.degRad:-M.degRad}for(var _=0,q=3;_<c;_++,q+=3){var Z=l[_];Z.worldX+=(U-Z.worldX)*i,Z.worldY+=(W-Z.worldY)*a;var j=N[q],K=N[q+1],J=j-U,Q=K-W;if(h){var $=f[_];if(0!=$){var tt=(Math.sqrt(J*J+Q*Q)/$-1)*r+1;Z.a*=tt,Z.c*=tt}}if(U=j,W=K,r>0){var et=Z.a,nt=Z.b,rt=Z.c,it=Z.d,at=0,st=0,ot=0;if(at=o?N[q-1]:0==d[_+1]?N[q+2]:Math.atan2(Q,J),at-=Math.atan2(rt,et),z){st=Math.cos(at),ot=Math.sin(at);var ht=Z.data.length;U+=(ht*(st*et-ot*rt)-J)*r,W+=(ht*(ot*et+st*rt)-Q)*r}else at+=G;at>M.PI?at-=M.PI2:at<-M.PI&&(at+=M.PI2),at*=r,st=Math.cos(at),ot=Math.sin(at),Z.a=st*et-ot*rt,Z.b=st*nt-ot*it,Z.c=ot*et+st*rt,Z.d=ot*nt+st*it}Z.updateAppliedTransform()}}}},e.computeWorldPositions=function(e,n,r){var i=this.target,a=this.position,s=this.spaces,o=R.setArraySize(this.positions,3*n+2),h=this.world,l=e.closed,c=e.worldVerticesLength,u=c/6,d=t.NONE;if(!e.constantSpeed){var f,v=e.lengths,m=v[u-=l?1:2];switch(1==this.data.positionMode&&(a*=m),this.data.spacingMode){case 2:f=m;break;case 3:f=m/n;break;default:f=1}h=R.setArraySize(this.world,8);for(var g=0,p=0,w=0;g<n;g++,p+=3){var b=s[g]*f,y=a+=b;if(l)(y%=m)<0&&(y+=m),w=0;else{if(y<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(i,2,4,h,0,2)),this.addBeforePosition(y,h,0,o,p);continue}if(y>m){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(i,c-6,4,h,0,2)),this.addAfterPosition(y-m,h,0,o,p);continue}}for(;;w++){var x=v[w];if(!(y>x)){if(0==w)y/=x;else{var A=v[w-1];y=(y-A)/(x-A)}break}}w!=d&&(d=w,l&&w==u?(e.computeWorldVertices(i,c-4,4,h,0,2),e.computeWorldVertices(i,0,4,h,4,2)):e.computeWorldVertices(i,6*w+2,8,h,0,2)),this.addCurvePosition(y,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],o,p,r||g>0&&0==b)}return o}l?(c+=2,h=R.setArraySize(this.world,c),e.computeWorldVertices(i,2,c-4,h,0,2),e.computeWorldVertices(i,0,2,h,c-4,2),h[c-2]=h[0],h[c-1]=h[1]):(u--,c-=4,h=R.setArraySize(this.world,c),e.computeWorldVertices(i,2,c,h,0,2));for(var S,C=R.setArraySize(this.curves,u),M=0,k=h[0],T=h[1],I=0,E=0,F=0,P=0,L=0,B=0,Y=0,D=0,X=0,O=0,V=0,N=0,U=0,W=0,G=0,z=2;G<u;G++,z+=6)I=h[z],E=h[z+1],F=h[z+2],P=h[z+3],V=2*(Y=.1875*(k-2*I+F))+(X=.09375*(3*(I-F)-k+(L=h[z+4]))),N=2*(D=.1875*(T-2*E+P))+(O=.09375*(3*(E-P)-T+(B=h[z+5]))),U=.75*(I-k)+Y+.16666667*X,W=.75*(E-T)+D+.16666667*O,M+=Math.sqrt(U*U+W*W),U+=V,W+=N,V+=X,N+=O,M+=Math.sqrt(U*U+W*W),U+=V,W+=N,M+=Math.sqrt(U*U+W*W),U+=V+X,W+=N+O,M+=Math.sqrt(U*U+W*W),C[G]=M,k=L,T=B;switch(1==this.data.positionMode&&(a*=M),this.data.spacingMode){case 2:S=M;break;case 3:S=M/n;break;default:S=1}for(var H=this.segments,_=0,q=0,Z=0,j=0,K=0;q<n;q++,Z+=3){var J=s[q]*S,Q=a+=J;if(l)(Q%=M)<0&&(Q+=M),j=0;else{if(Q<0){this.addBeforePosition(Q,h,0,o,Z);continue}if(Q>M){this.addAfterPosition(Q-M,h,c-4,o,Z);continue}}for(;;j++){var $=C[j];if(!(Q>$)){if(0==j)Q/=$;else{var tt=C[j-1];Q=(Q-tt)/($-tt)}break}}if(j!=d){d=j;var et=6*j;for(k=h[et],T=h[et+1],I=h[et+2],E=h[et+3],F=h[et+4],P=h[et+5],V=2*(Y=.03*(k-2*I+F))+(X=.006*(3*(I-F)-k+(L=h[et+6]))),N=2*(D=.03*(T-2*E+P))+(O=.006*(3*(E-P)-T+(B=h[et+7]))),U=.3*(I-k)+Y+.16666667*X,W=.3*(E-T)+D+.16666667*O,_=Math.sqrt(U*U+W*W),H[0]=_,et=1;et<8;et++)U+=V,W+=N,V+=X,N+=O,_+=Math.sqrt(U*U+W*W),H[et]=_;U+=V,W+=N,_+=Math.sqrt(U*U+W*W),H[8]=_,U+=V+X,W+=N+O,_+=Math.sqrt(U*U+W*W),H[9]=_,K=0}for(Q*=_;;K++){var nt=H[K];if(!(Q>nt)){if(0==K)Q/=nt;else{var rt=H[K-1];Q=K+(Q-rt)/(nt-rt)}break}}this.addCurvePosition(.1*Q,k,T,I,E,F,P,L,B,o,Z,r||q>0&&0==J)}return o},e.addBeforePosition=function(t,e,n,r,i){var a=e[n],s=e[n+1],o=e[n+2]-a,h=e[n+3]-s,l=Math.atan2(h,o);r[i]=a+t*Math.cos(l),r[i+1]=s+t*Math.sin(l),r[i+2]=l},e.addAfterPosition=function(t,e,n,r,i){var a=e[n+2],s=e[n+3],o=a-e[n],h=s-e[n+1],l=Math.atan2(h,o);r[i]=a+t*Math.cos(l),r[i+1]=s+t*Math.sin(l),r[i+2]=l},e.addCurvePosition=function(t,e,n,r,i,a,s,o,h,l,c,u){if(0==t||isNaN(t))return l[c]=e,l[c+1]=n,void(l[c+2]=Math.atan2(i-n,r-e));var d=t*t,f=d*t,v=1-t,m=v*v,g=m*v,p=v*t,w=3*p,b=v*w,y=w*t,x=e*g+r*b+a*y+o*f,A=n*g+i*b+s*y+h*f;l[c]=x,l[c+1]=A,u&&(l[c+2]=t<.001?Math.atan2(i-n,r-e):Math.atan2(A-(n*m+i*p*2+s*d),x-(e*m+r*p*2+a*d)))},t}(),Re=Ie;d(Re,"NONE",-1),d(Re,"BEFORE",-2),d(Re,"AFTER",-3),d(Re,"epsilon",1e-5);var Ee=function(){function t(t,e){this.data=void 0,this._bone=null,this.inertia=0,this.strength=0,this.damping=0,this.massInverse=0,this.wind=0,this.gravity=0,this.mix=0,this._reset=!0,this.ux=0,this.uy=0,this.cx=0,this.cy=0,this.tx=0,this.ty=0,this.xOffset=0,this.xVelocity=0,this.yOffset=0,this.yVelocity=0,this.rotateOffset=0,this.rotateVelocity=0,this.scaleOffset=0,this.scaleVelocity=0,this.active=!1,this.skeleton=void 0,this.remaining=0,this.lastTime=0,this.data=t,this.skeleton=e,this.bone=e.bones[t.bone.index],this.inertia=t.inertia,this.strength=t.strength,this.damping=t.damping,this.massInverse=t.massInverse,this.wind=t.wind,this.gravity=t.gravity,this.mix=t.mix}var e=t.prototype;return e.reset=function(){this.remaining=0,this.lastTime=this.skeleton.time,this._reset=!0,this.xOffset=0,this.xVelocity=0,this.yOffset=0,this.yVelocity=0,this.rotateOffset=0,this.rotateVelocity=0,this.scaleOffset=0,this.scaleVelocity=0},e.setToSetupPose=function(){var t=this.data;this.inertia=t.inertia,this.strength=t.strength,this.damping=t.damping,this.massInverse=t.massInverse,this.wind=t.wind,this.gravity=t.gravity,this.mix=t.mix},e.isActive=function(){return this.active},e.update=function(t){var e=this.mix;if(0!=e){var n=this.data.x>0,r=this.data.y>0,i=this.data.rotate>0||this.data.shearX>0,a=this.data.scaleX>0,s=this.bone,o=s.data.length;switch(t){case 0:return;case 1:this.reset();case 2:var h=Math.max(this.skeleton.time-this.lastTime,0);this.remaining+=h,this.lastTime=this.skeleton.time;var l=s.worldX,c=s.worldY;if(this._reset)this._reset=!1,this.ux=l,this.uy=c;else{var u=this.remaining,d=this.inertia,f=this.data.limit*h,v=this.data.step,m=this.skeleton.data.referenceScale,g=-1;if(n||r){if(n){var p=(this.ux-l)*d;this.xOffset+=p>f?f:p<-f?-f:p,this.ux=l}if(r){var w=(this.uy-c)*d;this.yOffset+=w>f?f:w<-f?-f:w,this.uy=c}if(u>=v){g=Math.pow(this.damping,60*v);var b=this.massInverse*v,y=this.strength,x=this.wind*m,A=(Be.yDown?-this.gravity:this.gravity)*m;do{n&&(this.xVelocity+=(x-this.xOffset*y)*b,this.xOffset+=this.xVelocity*v,this.xVelocity*=g),r&&(this.yVelocity-=(A+this.yOffset*y)*b,this.yOffset+=this.yVelocity*v,this.yVelocity*=g),u-=v}while(u>=v)}n&&(s.worldX+=this.xOffset*e*this.data.x),r&&(s.worldY+=this.yOffset*e*this.data.y)}if(i||a){var S=Math.atan2(s.c,s.a),C=0,k=0,T=0,I=this.cx-s.worldX,R=this.cy-s.worldY;if(I>f?I=f:I<-f&&(I=-f),R>f?R=f:R<-f&&(R=-f),i){T=(this.data.rotate+this.data.shearX)*e;var E=Math.atan2(R+this.ty,I+this.tx)-S-this.rotateOffset*T;this.rotateOffset+=(E-Math.ceil(E*M.invPI2-.5)*M.PI2)*d,E=this.rotateOffset*T+S,C=Math.cos(E),k=Math.sin(E),a&&(E=o*s.getWorldScaleX())>0&&(this.scaleOffset+=(I*C+R*k)*d/E)}else{C=Math.cos(S),k=Math.sin(S);var F=o*s.getWorldScaleX();F>0&&(this.scaleOffset+=(I*C+R*k)*d/F)}if((u=this.remaining)>=v){-1==g&&(g=Math.pow(this.damping,60*v));for(var P=this.massInverse*v,L=this.strength,B=this.wind,Y=Be.yDown?-this.gravity:this.gravity,D=o/m;;)if(u-=v,a&&(this.scaleVelocity+=(B*C-Y*k-this.scaleOffset*L)*P,this.scaleOffset+=this.scaleVelocity*v,this.scaleVelocity*=g),i){if(this.rotateVelocity-=((B*k+Y*C)*D+this.rotateOffset*L)*P,this.rotateOffset+=this.rotateVelocity*v,this.rotateVelocity*=g,u<v)break;var X=this.rotateOffset*T+S;C=Math.cos(X),k=Math.sin(X)}else if(u<v)break}}this.remaining=u}this.cx=s.worldX,this.cy=s.worldY;break;case 3:n&&(s.worldX+=this.xOffset*e*this.data.x),r&&(s.worldY+=this.yOffset*e*this.data.y)}if(i){var O=this.rotateOffset*e,V=0,N=0,U=0;if(this.data.shearX>0){var W=0;this.data.rotate>0&&(W=O*this.data.rotate,V=Math.sin(W),N=Math.cos(W),U=s.b,s.b=N*U-V*s.d,s.d=V*U+N*s.d),W+=O*this.data.shearX,V=Math.sin(W),N=Math.cos(W),U=s.a,s.a=N*U-V*s.c,s.c=V*U+N*s.c}else O*=this.data.rotate,V=Math.sin(O),N=Math.cos(O),U=s.a,s.a=N*U-V*s.c,s.c=V*U+N*s.c,U=s.b,s.b=N*U-V*s.d,s.d=V*U+N*s.d}if(a){var G=1+this.scaleOffset*e*this.data.scaleX;s.a*=G,s.c*=G}3!=t&&(this.tx=o*s.a,this.ty=o*s.c),s.updateAppliedTransform()}},e.translate=function(t,e){this.ux-=t,this.uy-=e,this.cx-=t,this.cy-=e},e.rotate=function(t,e,n){var r=n*M.degRad,i=Math.cos(r),a=Math.sin(r),s=this.cx-t,o=this.cy-e;this.translate(s*i-o*a-s,s*a+o*i-o)},(0,r.Z)(t,[{key:"bone",get:function(){if(this._bone)return this._bone;throw new Error("Bone not set.")},set:function(t){this._bone=t}}]),t}(),Fe=function(){function t(t,e){if(this.data=void 0,this.bone=void 0,this.color=void 0,this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!t)throw new Error("data cannot be null.");if(!e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new S,this.darkColor=t.darkColor?new S:null,this.setToSetupPose()}var e=t.prototype;return e.getSkeleton=function(){return this.bone.skeleton},e.getAttachment=function(){return this.attachment},e.setAttachment=function(t){this.attachment!=t&&(t instanceof D&&this.attachment instanceof D&&t.timelineAttachment==this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=t,this.sequenceIndex=-1)},e.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},t}(),Pe=function(){function t(t,e){if(this.data=void 0,this.bones=void 0,this.target=void 0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new P,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0;n<t.bones.length;n++){var r=e.findBone(t.bones[n].name);if(!r)throw new Error("Couldn't find bone "+t.bones[n].name+".");this.bones.push(r)}var i=e.findBone(t.target.name);if(!i)throw new Error("Couldn't find target bone "+t.target.name+".");this.target=i,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY}var e=t.prototype;return e.isActive=function(){return this.active},e.setToSetupPose=function(){var t=this.data;this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY},e.update=function(t){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleY&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},e.applyAbsoluteWorld=function(){for(var t=this.mixRotate,e=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,a=this.mixShearY,s=0!=e||0!=n,o=this.target,h=o.a,l=o.b,c=o.c,u=o.d,d=h*u-l*c>0?M.degRad:-M.degRad,f=this.data.offsetRotation*d,v=this.data.offsetShearY*d,m=this.bones,g=0,p=m.length;g<p;g++){var w=m[g];if(0!=t){var b=w.a,y=w.b,x=w.c,A=w.d,S=Math.atan2(c,h)-Math.atan2(x,b)+f;S>M.PI?S-=M.PI2:S<-M.PI&&(S+=M.PI2),S*=t;var C=Math.cos(S),k=Math.sin(S);w.a=C*b-k*x,w.b=C*y-k*A,w.c=k*b+C*x,w.d=k*y+C*A}if(s){var T=this.temp;o.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),w.worldX+=(T.x-w.worldX)*e,w.worldY+=(T.y-w.worldY)*n}if(0!=r){var I=Math.sqrt(w.a*w.a+w.c*w.c);0!=I&&(I=(I+(Math.sqrt(h*h+c*c)-I+this.data.offsetScaleX)*r)/I),w.a*=I,w.c*=I}if(0!=i){var R=Math.sqrt(w.b*w.b+w.d*w.d);0!=R&&(R=(R+(Math.sqrt(l*l+u*u)-R+this.data.offsetScaleY)*i)/R),w.b*=R,w.d*=R}if(a>0){var E=w.b,F=w.d,P=Math.atan2(F,E),L=Math.atan2(u,l)-Math.atan2(c,h)-(P-Math.atan2(w.c,w.a));L>M.PI?L-=M.PI2:L<-M.PI&&(L+=M.PI2),L=P+(L+v)*a;var B=Math.sqrt(E*E+F*F);w.b=Math.cos(L)*B,w.d=Math.sin(L)*B}w.updateAppliedTransform()}},e.applyRelativeWorld=function(){for(var t=this.mixRotate,e=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,a=this.mixShearY,s=0!=e||0!=n,o=this.target,h=o.a,l=o.b,c=o.c,u=o.d,d=h*u-l*c>0?M.degRad:-M.degRad,f=this.data.offsetRotation*d,v=this.data.offsetShearY*d,m=this.bones,g=0,p=m.length;g<p;g++){var w=m[g];if(0!=t){var b=w.a,y=w.b,x=w.c,A=w.d,S=Math.atan2(c,h)+f;S>M.PI?S-=M.PI2:S<-M.PI&&(S+=M.PI2),S*=t;var C=Math.cos(S),k=Math.sin(S);w.a=C*b-k*x,w.b=C*y-k*A,w.c=k*b+C*x,w.d=k*y+C*A}if(s){var T=this.temp;o.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),w.worldX+=T.x*e,w.worldY+=T.y*n}if(0!=r){var I=(Math.sqrt(h*h+c*c)-1+this.data.offsetScaleX)*r+1;w.a*=I,w.c*=I}if(0!=i){var R=(Math.sqrt(l*l+u*u)-1+this.data.offsetScaleY)*i+1;w.b*=R,w.d*=R}if(a>0){var E=Math.atan2(u,l)-Math.atan2(c,h);E>M.PI?E-=M.PI2:E<-M.PI&&(E+=M.PI2);var F=w.b,P=w.d;E=Math.atan2(P,F)+(E-M.PI/2+v)*a;var L=Math.sqrt(F*F+P*P);w.b=Math.cos(E)*L,w.d=Math.sin(E)*L}w.updateAppliedTransform()}},e.applyAbsoluteLocal=function(){for(var t=this.mixRotate,e=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,a=this.mixShearY,s=this.target,o=this.bones,h=0,l=o.length;h<l;h++){var c=o[h],u=c.arotation;0!=t&&(u+=(s.arotation-u+this.data.offsetRotation)*t);var d=c.ax,f=c.ay;d+=(s.ax-d+this.data.offsetX)*e,f+=(s.ay-f+this.data.offsetY)*n;var v=c.ascaleX,m=c.ascaleY;0!=r&&0!=v&&(v=(v+(s.ascaleX-v+this.data.offsetScaleX)*r)/v),0!=i&&0!=m&&(m=(m+(s.ascaleY-m+this.data.offsetScaleY)*i)/m);var g=c.ashearY;0!=a&&(g+=(s.ashearY-g+this.data.offsetShearY)*a),c.updateWorldTransformWith(d,f,u,v,m,c.ashearX,g)}},e.applyRelativeLocal=function(){for(var t=this.mixRotate,e=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,a=this.mixShearY,s=this.target,o=this.bones,h=0,l=o.length;h<l;h++){var c=o[h],u=c.arotation+(s.arotation+this.data.offsetRotation)*t,d=c.ax+(s.ax+this.data.offsetX)*e,f=c.ay+(s.ay+this.data.offsetY)*n,v=c.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*r+1),m=c.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*i+1),g=c.ashearY+(s.ashearY+this.data.offsetShearY)*a;c.updateWorldTransformWith(d,f,u,v,m,c.ashearX,g)}},t}(),Le=function(){function t(t){if(this.data=void 0,this.bones=void 0,this.slots=void 0,this.drawOrder=void 0,this.ikConstraints=void 0,this.transformConstraints=void 0,this.pathConstraints=void 0,this.physicsConstraints=void 0,this._updateCache=new Array,this.skin=null,this.color=void 0,this.scaleX=1,this._scaleY=1,this.x=0,this.y=0,this.time=0,!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n=t.bones[e],r=void 0;if(n.parent){var i=this.bones[n.parent.index];r=new ge(n,this,i),i.children.push(r)}else r=new ge(n,this,null);this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(var a=0;a<t.slots.length;a++){var s=t.slots[a],o=this.bones[s.boneData.index],h=new Fe(s,o);this.slots.push(h),this.drawOrder.push(h)}this.ikConstraints=new Array;for(var l=0;l<t.ikConstraints.length;l++){var c=t.ikConstraints[l];this.ikConstraints.push(new Ae(c,this))}this.transformConstraints=new Array;for(var u=0;u<t.transformConstraints.length;u++){var d=t.transformConstraints[u];this.transformConstraints.push(new Pe(d,this))}this.pathConstraints=new Array;for(var f=0;f<t.pathConstraints.length;f++){var v=t.pathConstraints[f];this.pathConstraints.push(new Re(v,this))}this.physicsConstraints=new Array;for(var m=0;m<t.physicsConstraints.length;m++){var g=t.physicsConstraints[m];this.physicsConstraints.push(new Ee(g,this))}this.color=new S(1,1,1,1),this.updateCache()}var e=t.prototype;return e.updateCache=function(){var t=this._updateCache;t.length=0;for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(this.skin)for(var a=this.skin.bones,s=0,o=this.skin.bones.length;s<o;s++){var h=this.bones[a[s].index];do{h.sorted=!1,h.active=!0,h=h.parent}while(h)}var l=this.ikConstraints,c=this.transformConstraints,u=this.pathConstraints,d=this.physicsConstraints,f=l.length,v=c.length,m=u.length,g=this.physicsConstraints.length,p=f+v+m+g;t:for(var w=0;w<p;w++){for(var b=0;b<f;b++){var y=l[b];if(y.data.order==w){this.sortIkConstraint(y);continue t}}for(var x=0;x<v;x++){var A=c[x];if(A.data.order==w){this.sortTransformConstraint(A);continue t}}for(var S=0;S<m;S++){var C=u[S];if(C.data.order==w){this.sortPathConstraint(C);continue t}}for(var M=0;M<g;M++){var k=d[M];if(k.data.order==w){this.sortPhysicsConstraint(k);continue t}}}for(var T=0,I=e.length;T<I;T++)this.sortBone(e[T])},e.sortIkConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&R.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target;this.sortBone(e);var n=t.bones,r=n[0];if(this.sortBone(r),1==n.length)this._updateCache.push(t),this.sortReset(r.children);else{var i=n[n.length-1];this.sortBone(i),this._updateCache.push(t),this.sortReset(r.children),i.sorted=!0}}},e.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||this.skin&&R.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,n=e.data.index,r=e.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var i=0,a=this.data.skins.length;i<a;i++)this.sortPathConstraintAttachment(this.data.skins[i],n,r);var s=e.getAttachment();s instanceof se&&this.sortPathConstraintAttachmentWith(s,r);for(var o=t.bones,h=o.length,l=0;l<h;l++)this.sortBone(o[l]);this._updateCache.push(t);for(var c=0;c<h;c++)this.sortReset(o[c].children);for(var u=0;u<h;u++)o[u].sorted=!0}},e.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&R.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var r=0;r<n;r++){var i=e[r];this.sortBone(i.parent),this.sortBone(i)}else for(var a=0;a<n;a++)this.sortBone(e[a]);this._updateCache.push(t);for(var s=0;s<n;s++)this.sortReset(e[s].children);for(var o=0;o<n;o++)e[o].sorted=!0}},e.sortPathConstraintAttachment=function(t,e,n){var r=t.attachments[e];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)},e.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof se){var n=t.bones;if(n)for(var r=this.bones,i=0,a=n.length;i<a;){var s=n[i++];for(s+=i;i<s;)this.sortBone(r[n[i++]])}else this.sortBone(e)}},e.sortPhysicsConstraint=function(t){var e=t.bone;t.active=e.active&&(!t.data.skinRequired||null!=this.skin&&R.contains(this.skin.constraints,t.data,!0)),t.active&&(this.sortBone(e),this._updateCache.push(t),this.sortReset(e.children),e.sorted=!0)},e.sortBone=function(t){if(t&&!t.sorted){var e=t.parent;e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},e.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}},e.updateWorldTransform=function(t){if(void 0===t||null===t)throw new Error("physics is undefined");for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var a=this._updateCache,s=0,o=a.length;s<o;s++)a[s].update(t)},e.updateWorldTransformWith=function(t,e){var n=this.getRootBone();if(!n)throw new Error("Root bone must not be null.");var r=e.a,i=e.b,a=e.c,s=e.d;n.worldX=r*this.x+i*this.y+e.worldX,n.worldY=a*this.x+s*this.y+e.worldY;var o=(n.rotation+n.shearX)*M.degRad,h=(n.rotation+90+n.shearY)*M.degRad,l=Math.cos(o)*n.scaleX,c=Math.cos(h)*n.scaleY,u=Math.sin(o)*n.scaleX,d=Math.sin(h)*n.scaleY;n.a=(r*l+i*u)*this.scaleX,n.b=(r*c+i*d)*this.scaleX,n.c=(a*l+s*u)*this.scaleY,n.d=(a*c+s*d)*this.scaleY;for(var f=this._updateCache,v=0,m=f.length;v<m;v++){var g=f[v];g!=n&&g.update(t)}},e.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},e.setBonesToSetupPose=function(){for(var t,e=s(this.bones);!(t=e()).done;){t.value.setToSetupPose()}for(var n,r=s(this.ikConstraints);!(n=r()).done;){n.value.setToSetupPose()}for(var i,a=s(this.transformConstraints);!(i=a()).done;){i.value.setToSetupPose()}for(var o,h=s(this.pathConstraints);!(o=h()).done;){o.value.setToSetupPose()}for(var l,c=s(this.physicsConstraints);!(l=c()).done;){l.value.setToSetupPose()}},e.setSlotsToSetupPose=function(){var t=this.slots;R.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},e.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},e.findBone=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.findSlot=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.setSkinByName=function(t){var e=this.data.findSkin(t);if(!e)throw new Error("Skin not found: "+t);this.setSkin(e)},e.setSkin=function(t){if(t!=this.skin){if(t)if(this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n],a=i.data.attachmentName;if(a){var s=t.getAttachment(n,a);s&&i.setAttachment(s)}}this.skin=t,this.updateCache()}},e.getAttachmentByName=function(t,e){var n=this.data.findSlot(t);if(!n)throw new Error("Can't find slot with name "+t);return this.getAttachment(n.index,e)},e.getAttachment=function(t,e){if(!e)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(t,e);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},e.setAttachment=function(t,e){if(!t)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,i=n.length;r<i;r++){var a=n[r];if(a.data.name==t){var s=null;if(e&&!(s=this.getAttachment(r,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void a.setAttachment(s)}}throw new Error("Slot not found: "+t)},e.findIkConstraint=function(t){var e;if(!t)throw new Error("constraintName cannot be null.");return null!=(e=this.ikConstraints.find((function(e){return e.data.name==t})))?e:null},e.findTransformConstraint=function(t){var e;if(!t)throw new Error("constraintName cannot be null.");return null!=(e=this.transformConstraints.find((function(e){return e.data.name==t})))?e:null},e.findPathConstraint=function(t){var e;if(!t)throw new Error("constraintName cannot be null.");return null!=(e=this.pathConstraints.find((function(e){return e.data.name==t})))?e:null},e.findPhysicsConstraint=function(t){var e;if(null==t)throw new Error("constraintName cannot be null.");return null!=(e=this.physicsConstraints.find((function(e){return e.data.name==t})))?e:null},e.getBoundsRect=function(){var t=new P,e=new P;return this.getBounds(t,e),{x:t.x,y:t.y,width:e.x,height:e.y}},e.getBounds=function(e,n,r,i){if(void 0===r&&(r=new Array(2)),void 0===i&&(i=null),!e)throw new Error("offset cannot be null.");if(!n)throw new Error("size cannot be null.");for(var a=this.drawOrder,s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY,c=0,u=a.length;c<u;c++){var d=a[c];if(d.bone.active){var f=0,v=null,m=null,g=d.getAttachment();if(g instanceof he)f=8,v=R.setArraySize(r,f,0),g.computeWorldVertices(d,v,0,2),m=t.quadTriangles;else if(g instanceof ae){var p=g;f=p.worldVerticesLength,v=R.setArraySize(r,f,0),p.computeWorldVertices(d,0,f,v,0,2),m=p.triangles}else if(g instanceof jt&&null!=i){i.clipStart(d,g);continue}if(v&&m){null!=i&&i.isClipping()&&(i.clipTriangles(v,m,m.length),v=i.clippedVertices,f=i.clippedVertices.length);for(var w=0,b=v.length;w<b;w+=2){var y=v[w],x=v[w+1];s=Math.min(s,y),o=Math.min(o,x),h=Math.max(h,y),l=Math.max(l,x)}}null!=i&&i.clipEndWithSlot(d)}}null!=i&&i.clipEnd(),e.set(s,o),n.set(h-s,l-o)},e.update=function(t){this.time+=t},e.physicsTranslate=function(t,e){for(var n=this.physicsConstraints,r=0,i=n.length;r<i;r++)n[r].translate(t,e)},e.physicsRotate=function(t,e,n){for(var r=this.physicsConstraints,i=0,a=r.length;i<a;i++)r[i].rotate(t,e,n)},(0,r.Z)(t,[{key:"scaleY",get:function(){return t.yDown?-this._scaleY:this._scaleY},set:function(t){this._scaleY=t}}]),t}(),Be=Le;d(Be,"quadTriangles",[0,1,2,2,3,0]),d(Be,"yDown",!1);var Ye,De,Xe,Oe=((Ye=Oe||{})[Ye.none=0]="none",Ye[Ye.reset=1]="reset",Ye[Ye.update=2]="update",Ye[Ye.pose=3]="pose",Ye),Ve=function(t){function e(e){var n;return(n=t.call(this,e,0,!1)||this)._bone=null,n.x=0,n.y=0,n.rotate=0,n.scaleX=0,n.shearX=0,n.limit=0,n.step=0,n.inertia=0,n.strength=0,n.damping=0,n.massInverse=0,n.wind=0,n.gravity=0,n.mix=0,n.inertiaGlobal=!1,n.strengthGlobal=!1,n.dampingGlobal=!1,n.massGlobal=!1,n.windGlobal=!1,n.gravityGlobal=!1,n.mixGlobal=!1,n}return(0,a.Z)(e,t),(0,r.Z)(e,[{key:"bone",get:function(){if(this._bone)return this._bone;throw new Error("BoneData not set.")},set:function(t){this._bone=t}}]),e}(pe),Ne=function(){function t(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.physicsConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.referenceScale=100,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}var e=t.prototype;return e.findBone=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.findSlot=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.findSkin=function(t){if(!t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.findEvent=function(t){if(!t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.findAnimation=function(t){if(!t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.findIkConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.findTransformConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.findPathConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.findPhysicsConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.physicsConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t}(),Ue=function(t,e,n){void 0===t&&(t=0),this.slotIndex=t,this.name=e,this.attachment=n},We=function(){function t(t){if(this.name=void 0,this.attachments=new Array,this.bones=Array(),this.constraints=new Array,this.color=new S(.99607843,.61960787,.30980393,1),!t)throw new Error("name cannot be null.");this.name=t}var e=t.prototype;return e.setAttachment=function(t,e,n){if(!n)throw new Error("attachment cannot be null.");var r=this.attachments;t>=r.length&&(r.length=t+1),r[t]||(r[t]={}),r[t][e]=n},e.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(var a=0;a<t.constraints.length;a++){for(var s=t.constraints[a],o=!1,h=0;h<this.constraints.length;h++)if(this.constraints[h]==s){o=!0;break}o||this.constraints.push(s)}for(var l=t.getAttachments(),c=0;c<l.length;c++){var u=l[c];this.setAttachment(u.slotIndex,u.name,u.attachment)}},e.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(var a=0;a<t.constraints.length;a++){for(var s=t.constraints[a],o=!1,h=0;h<this.constraints.length;h++)if(this.constraints[h]==s){o=!0;break}o||this.constraints.push(s)}for(var l=t.getAttachments(),c=0;c<l.length;c++){var u=l[c];u.attachment&&(u.attachment instanceof ae?(u.attachment=u.attachment.newLinkedMesh(),this.setAttachment(u.slotIndex,u.name,u.attachment)):(u.attachment=u.attachment.copy(),this.setAttachment(u.slotIndex,u.name,u.attachment)))}},e.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},e.removeAttachment=function(t,e){var n=this.attachments[t];n&&delete n[e]},e.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var n=this.attachments[e];if(n)for(var r in n){var i=n[r];i&&t.push(new Ue(e,r,i))}}return t},e.getAttachmentsForSlot=function(t,e){var n=this.attachments[t];if(n)for(var r in n){var i=n[r];i&&e.push(new Ue(t,r,i))}},e.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.attachAll=function(t,e){for(var n=0,r=0;r<t.slots.length;r++){var i=t.slots[r],a=i.getAttachment();if(a&&n<e.attachments.length){var s=e.attachments[n];for(var o in s){if(a==s[o]){var h=this.getAttachment(n,o);h&&i.setAttachment(h);break}}}n++}},t}(),Ge=function(t,e,n){if(this.index=0,this.name=void 0,this.boneData=void 0,this.color=new S(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=ze.Normal,this.visible=!0,t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n},ze=((De=ze||{})[De.Normal=0]="Normal",De[De.Additive=1]="Additive",De[De.Multiply=2]="Multiply",De[De.Screen=3]="Screen",De),He=function(t){function e(e){var n;return(n=t.call(this,e,0,!1)||this).bones=new Array,n._target=null,n.mixRotate=0,n.mixX=0,n.mixY=0,n.mixScaleX=0,n.mixScaleY=0,n.mixShearY=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return(0,a.Z)(e,t),(0,r.Z)(e,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(t){this._target=t}}]),e}(pe),_e=function(){function t(t){this.scale=1,this.attachmentLoader=void 0,this.linkedMeshes=new Array,this.attachmentLoader=t}var e=t.prototype;return e.readSkeletonData=function(t){var e=this.scale,n=new Ne;n.name="";var r=new qe(t),i=r.readInt32(),a=r.readInt32();n.hash=0==a&&0==i?null:a.toString(16)+i.toString(16),n.version=r.readString(),n.x=r.readFloat(),n.y=r.readFloat(),n.width=r.readFloat(),n.height=r.readFloat(),n.referenceScale=r.readFloat()*e;var s=r.readBoolean();s&&(n.fps=r.readFloat(),n.imagesPath=r.readString(),n.audioPath=r.readString());var o=0;o=r.readInt(!0);for(var h=0;h<o;h++){var l=r.readString();if(!l)throw new Error("String in string table must not be null.");r.strings.push(l)}o=r.readInt(!0);for(var c=0;c<o;c++){var u=r.readString();if(!u)throw new Error("Bone name must not be null.");var d,f=0==c?null:n.bones[r.readInt(!0)],v=new ve(c,u,f);if(v.rotation=r.readFloat(),v.x=r.readFloat()*e,v.y=r.readFloat()*e,v.scaleX=r.readFloat(),v.scaleY=r.readFloat(),v.shearX=r.readFloat(),v.shearY=r.readFloat(),v.length=r.readFloat()*e,v.inherit=r.readByte(),v.skinRequired=r.readBoolean(),s)S.rgba8888ToColor(v.color,r.readInt32()),v.icon=null!=(d=r.readString())?d:void 0,v.visible=r.readBoolean();n.bones.push(v)}o=r.readInt(!0);for(var m=0;m<o;m++){var g=r.readString();if(!g)throw new Error("Slot name must not be null.");var p=n.bones[r.readInt(!0)],w=new Ge(m,g,p);S.rgba8888ToColor(w.color,r.readInt32());var b=r.readInt32();-1!=b&&S.rgb888ToColor(w.darkColor=new S,b),w.attachmentName=r.readStringRef(),w.blendMode=r.readInt(!0),s&&(w.visible=r.readBoolean()),n.slots.push(w)}o=r.readInt(!0);for(var y,x=0;x<o;x++){var A=r.readString();if(!A)throw new Error("IK constraint data name must not be null.");var C=new Se(A);C.order=r.readInt(!0),y=r.readInt(!0);for(var M=0;M<y;M++)C.bones.push(n.bones[r.readInt(!0)]);C.target=n.bones[r.readInt(!0)];var k=r.readByte();C.skinRequired=0!=(1&k),C.bendDirection=0!=(2&k)?1:-1,C.compress=0!=(4&k),C.stretch=0!=(8&k),C.uniform=0!=(16&k),0!=(32&k)&&(C.mix=0!=(64&k)?r.readFloat():1),0!=(128&k)&&(C.softness=r.readFloat()*e),n.ikConstraints.push(C)}o=r.readInt(!0);for(var T,I=0;I<o;I++){var E=r.readString();if(!E)throw new Error("Transform constraint data name must not be null.");var F=new He(E);F.order=r.readInt(!0),T=r.readInt(!0);for(var P=0;P<T;P++)F.bones.push(n.bones[r.readInt(!0)]);F.target=n.bones[r.readInt(!0)];var L=r.readByte();F.skinRequired=0!=(1&L),F.local=0!=(2&L),F.relative=0!=(4&L),0!=(8&L)&&(F.offsetRotation=r.readFloat()),0!=(16&L)&&(F.offsetX=r.readFloat()*e),0!=(32&L)&&(F.offsetY=r.readFloat()*e),0!=(64&L)&&(F.offsetScaleX=r.readFloat()),0!=(128&L)&&(F.offsetScaleY=r.readFloat()),0!=(1&(L=r.readByte()))&&(F.offsetShearY=r.readFloat()),0!=(2&L)&&(F.mixRotate=r.readFloat()),0!=(4&L)&&(F.mixX=r.readFloat()),0!=(8&L)&&(F.mixY=r.readFloat()),0!=(16&L)&&(F.mixScaleX=r.readFloat()),0!=(32&L)&&(F.mixScaleY=r.readFloat()),0!=(64&L)&&(F.mixShearY=r.readFloat()),n.transformConstraints.push(F)}o=r.readInt(!0);for(var B,Y=0;Y<o;Y++){var D=r.readString();if(!D)throw new Error("Path constraint data name must not be null.");var X=new Ce(D);X.order=r.readInt(!0),X.skinRequired=r.readBoolean(),B=r.readInt(!0);for(var O=0;O<B;O++)X.bones.push(n.bones[r.readInt(!0)]);X.target=n.slots[r.readInt(!0)];var V=r.readByte();X.positionMode=1&V,X.spacingMode=V>>1&3,X.rotateMode=V>>3&3,0!=(128&V)&&(X.offsetRotation=r.readFloat()),X.position=r.readFloat(),0==X.positionMode&&(X.position*=e),X.spacing=r.readFloat(),0!=X.spacingMode&&1!=X.spacingMode||(X.spacing*=e),X.mixRotate=r.readFloat(),X.mixX=r.readFloat(),X.mixY=r.readFloat(),n.pathConstraints.push(X)}o=r.readInt(!0);for(var N=0;N<o;N++){var U=r.readString();if(!U)throw new Error("Physics constraint data name must not be null.");var W=new Ve(U);W.order=r.readInt(!0),W.bone=n.bones[r.readInt(!0)];var G=r.readByte();W.skinRequired=0!=(1&G),0!=(2&G)&&(W.x=r.readFloat()),0!=(4&G)&&(W.y=r.readFloat()),0!=(8&G)&&(W.rotate=r.readFloat()),0!=(16&G)&&(W.scaleX=r.readFloat()),0!=(32&G)&&(W.shearX=r.readFloat()),W.limit=(0!=(64&G)?r.readFloat():5e3)*e,W.step=1/r.readUnsignedByte(),W.inertia=r.readFloat(),W.strength=r.readFloat(),W.damping=r.readFloat(),W.massInverse=0!=(128&G)?r.readFloat():1,W.wind=r.readFloat(),W.gravity=r.readFloat(),0!=(1&(G=r.readByte()))&&(W.inertiaGlobal=!0),0!=(2&G)&&(W.strengthGlobal=!0),0!=(4&G)&&(W.dampingGlobal=!0),0!=(8&G)&&(W.massGlobal=!0),0!=(16&G)&&(W.windGlobal=!0),0!=(32&G)&&(W.gravityGlobal=!0),0!=(64&G)&&(W.mixGlobal=!0),W.mix=0!=(128&G)?r.readFloat():1,n.physicsConstraints.push(W)}var z=this.readSkin(r,n,!0,s);z&&(n.defaultSkin=z,n.skins.push(z));var H=n.skins.length;for(R.setArraySize(n.skins,o=H+r.readInt(!0));H<o;H++){var _=this.readSkin(r,n,!1,s);if(!_)throw new Error("readSkin() should not have returned null.");n.skins[H]=_}o=this.linkedMeshes.length;for(var q=0;q<o;q++){var Z=this.linkedMeshes[q],j=n.skins[Z.skinIndex];if(!Z.parent)throw new Error("Linked mesh parent must not be null");var K=j.getAttachment(Z.slotIndex,Z.parent);if(!K)throw new Error("Parent mesh not found: "+Z.parent);Z.mesh.timelineAttachment=Z.inheritTimeline?K:Z.mesh,Z.mesh.setParentMesh(K),null!=Z.mesh.region&&Z.mesh.updateRegion()}this.linkedMeshes.length=0,o=r.readInt(!0);for(var J=0;J<o;J++){var Q=r.readString();if(!Q)throw new Error("Event data name must not be null");var $=new xe(Q);$.intValue=r.readInt(!1),$.floatValue=r.readFloat(),$.stringValue=r.readString(),$.audioPath=r.readString(),$.audioPath&&($.volume=r.readFloat(),$.balance=r.readFloat()),n.events.push($)}o=r.readInt(!0);for(var tt=0;tt<o;tt++){var et=r.readString();if(!et)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(r,et,n))}return n},e.readSkin=function(t,e,n,r){var i=null,a=0;if(n){if(0==(a=t.readInt(!0)))return null;i=new We("default")}else{var s=t.readString();if(!s)throw new Error("Skin name must not be null.");i=new We(s),r&&S.rgba8888ToColor(i.color,t.readInt32()),i.bones.length=t.readInt(!0);for(var o=0,h=i.bones.length;o<h;o++)i.bones[o]=e.bones[t.readInt(!0)];for(var l=0,c=t.readInt(!0);l<c;l++)i.constraints.push(e.ikConstraints[t.readInt(!0)]);for(var u=0,d=t.readInt(!0);u<d;u++)i.constraints.push(e.transformConstraints[t.readInt(!0)]);for(var f=0,v=t.readInt(!0);f<v;f++)i.constraints.push(e.pathConstraints[t.readInt(!0)]);for(var m=0,g=t.readInt(!0);m<g;m++)i.constraints.push(e.physicsConstraints[t.readInt(!0)]);a=t.readInt(!0)}for(var p=0;p<a;p++)for(var w=t.readInt(!0),b=0,y=t.readInt(!0);b<y;b++){var x=t.readStringRef();if(!x)throw new Error("Attachment name must not be null");var A=this.readAttachment(t,e,i,w,x,r);A&&i.setAttachment(w,x,A)}return i},e.readAttachment=function(t,e,n,r,i,a){var s=this.scale,o=t.readByte(),h=0!=(8&o)?t.readStringRef():i;if(!h)throw new Error("Attachment name must not be null");switch(7&o){case Ke.Region:var l=0!=(16&o)?t.readStringRef():null,c=0!=(32&o)?t.readInt32():4294967295,u=0!=(64&o)?this.readSequence(t):null,d=0!=(128&o)?t.readFloat():0,f=t.readFloat(),v=t.readFloat(),m=t.readFloat(),g=t.readFloat(),p=t.readFloat(),w=t.readFloat();l||(l=h);var b=this.attachmentLoader.newRegionAttachment(n,h,l,u);return b?(b.path=l,b.x=f*s,b.y=v*s,b.scaleX=m,b.scaleY=g,b.rotation=d,b.width=p*s,b.height=w*s,S.rgba8888ToColor(b.color,c),b.sequence=u,null==u&&b.updateRegion(),b):null;case Ke.BoundingBox:var y=this.readVertices(t,0!=(16&o)),x=a?t.readInt32():0,A=this.attachmentLoader.newBoundingBoxAttachment(n,h);return A?(A.worldVerticesLength=y.length,A.vertices=y.vertices,A.bones=y.bones,a&&S.rgba8888ToColor(A.color,x),A):null;case Ke.Mesh:var C=0!=(16&o)?t.readStringRef():h,M=0!=(32&o)?t.readInt32():4294967295,k=0!=(64&o)?this.readSequence(t):null,T=t.readInt(!0),I=this.readVertices(t,0!=(128&o)),E=this.readFloatArray(t,I.length,1),F=this.readShortArray(t,3*(I.length-T-2)),P=[],L=0,B=0;a&&(P=this.readShortArray(t,t.readInt(!0)),L=t.readFloat(),B=t.readFloat()),C||(C=h);var Y=this.attachmentLoader.newMeshAttachment(n,h,C,k);return Y?(Y.path=C,S.rgba8888ToColor(Y.color,M),Y.bones=I.bones,Y.vertices=I.vertices,Y.worldVerticesLength=I.length,Y.triangles=F,Y.regionUVs=E,null==k&&Y.updateRegion(),Y.hullLength=T<<1,Y.sequence=k,a&&(Y.edges=P,Y.width=L*s,Y.height=B*s),Y):null;case Ke.LinkedMesh:var D=0!=(16&o)?t.readStringRef():h;if(null==D)throw new Error("Path of linked mesh must not be null");var X=0!=(32&o)?t.readInt32():4294967295,O=0!=(64&o)?this.readSequence(t):null,V=0!=(128&o),N=t.readInt(!0),U=t.readStringRef(),W=0,G=0;a&&(W=t.readFloat(),G=t.readFloat());var z=this.attachmentLoader.newMeshAttachment(n,h,D,O);return z?(z.path=D,S.rgba8888ToColor(z.color,X),z.sequence=O,a&&(z.width=W*s,z.height=G*s),this.linkedMeshes.push(new Ze(z,N,r,U,V)),z):null;case Ke.Path:for(var H=0!=(16&o),_=0!=(32&o),q=this.readVertices(t,0!=(64&o)),Z=R.newArray(q.length/6,0),j=0,K=Z.length;j<K;j++)Z[j]=t.readFloat()*s;var J=a?t.readInt32():0,Q=this.attachmentLoader.newPathAttachment(n,h);return Q?(Q.closed=H,Q.constantSpeed=_,Q.worldVerticesLength=q.length,Q.vertices=q.vertices,Q.bones=q.bones,Q.lengths=Z,a&&S.rgba8888ToColor(Q.color,J),Q):null;case Ke.Point:var $=t.readFloat(),tt=t.readFloat(),et=t.readFloat(),nt=a?t.readInt32():0,rt=this.attachmentLoader.newPointAttachment(n,h);return rt?(rt.x=tt*s,rt.y=et*s,rt.rotation=$,a&&S.rgba8888ToColor(rt.color,nt),rt):null;case Ke.Clipping:var it=t.readInt(!0),at=this.readVertices(t,0!=(16&o)),st=a?t.readInt32():0,ot=this.attachmentLoader.newClippingAttachment(n,h);return ot?(ot.endSlot=e.slots[it],ot.worldVerticesLength=at.length,ot.vertices=at.vertices,ot.bones=at.bones,a&&S.rgba8888ToColor(ot.color,st),ot):null}return null},e.readSequence=function(t){var e=new X(t.readInt(!0));return e.start=t.readInt(!0),e.digits=t.readInt(!0),e.setupIndex=t.readInt(!0),e},e.readVertices=function(t,e){var n=this.scale,r=t.readInt(!0),i=new je;if(i.length=r<<1,!e)return i.vertices=this.readFloatArray(t,i.length,n),i;for(var a=new Array,s=new Array,o=0;o<r;o++){var h=t.readInt(!0);s.push(h);for(var l=0;l<h;l++)s.push(t.readInt(!0)),a.push(t.readFloat()*n),a.push(t.readFloat()*n),a.push(t.readFloat())}return i.vertices=R.toFloatArray(a),i.bones=s,i},e.readFloatArray=function(t,e,n){var r=new Array(e);if(1==n)for(var i=0;i<e;i++)r[i]=t.readFloat();else for(var a=0;a<e;a++)r[a]=t.readFloat()*n;return r},e.readShortArray=function(t,e){for(var n=new Array(e),r=0;r<e;r++)n[r]=t.readInt(!0);return n},e.readAnimation=function(t,e,n){t.readInt(!0);for(var r=new Array,i=this.scale,a=0,s=t.readInt(!0);a<s;a++)for(var o=t.readInt(!0),h=0,l=t.readInt(!0);h<l;h++){var c=t.readByte(),u=t.readInt(!0),d=u-1;switch(c){case dn:for(var f=new ft(u,o),v=0;v<u;v++)f.setFrame(v,t.readFloat(),t.readStringRef());r.push(f);break;case fn:for(var m=t.readInt(!0),g=new ht(u,m,o),p=t.readFloat(),w=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,y=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255,A=0,S=0;g.setFrame(A,p,w,b,y,x),A!=d;A++){var C=t.readFloat(),M=t.readUnsignedByte()/255,k=t.readUnsignedByte()/255,T=t.readUnsignedByte()/255,I=t.readUnsignedByte()/255;switch(t.readByte()){case Fn:g.setStepped(A);break;case Pn:$e(t,g,S++,A,0,p,C,w,M,1),$e(t,g,S++,A,1,p,C,b,k,1),$e(t,g,S++,A,2,p,C,y,T,1),$e(t,g,S++,A,3,p,C,x,I,1)}p=C,w=M,b=k,y=T,x=I}r.push(g);break;case vn:for(var E=t.readInt(!0),F=new lt(u,E,o),P=t.readFloat(),L=t.readUnsignedByte()/255,B=t.readUnsignedByte()/255,Y=t.readUnsignedByte()/255,D=0,X=0;F.setFrame(D,P,L,B,Y),D!=d;D++){var O=t.readFloat(),V=t.readUnsignedByte()/255,N=t.readUnsignedByte()/255,U=t.readUnsignedByte()/255;switch(t.readByte()){case Fn:F.setStepped(D);break;case Pn:$e(t,F,X++,D,0,P,O,L,V,1),$e(t,F,X++,D,1,P,O,B,N,1),$e(t,F,X++,D,2,P,O,Y,U,1)}P=O,L=V,B=N,Y=U}r.push(F);break;case mn:for(var z=t.readInt(!0),H=new ut(u,z,o),_=t.readFloat(),q=t.readUnsignedByte()/255,Z=t.readUnsignedByte()/255,j=t.readUnsignedByte()/255,K=t.readUnsignedByte()/255,At=t.readUnsignedByte()/255,Pt=t.readUnsignedByte()/255,Lt=t.readUnsignedByte()/255,Bt=0,Yt=0;H.setFrame(Bt,_,q,Z,j,K,At,Pt,Lt),Bt!=d;Bt++){var Dt=t.readFloat(),Xt=t.readUnsignedByte()/255,Ot=t.readUnsignedByte()/255,Vt=t.readUnsignedByte()/255,Nt=t.readUnsignedByte()/255,Ut=t.readUnsignedByte()/255,Wt=t.readUnsignedByte()/255,Gt=t.readUnsignedByte()/255;switch(t.readByte()){case Fn:H.setStepped(Bt);break;case Pn:$e(t,H,Yt++,Bt,0,_,Dt,q,Xt,1),$e(t,H,Yt++,Bt,1,_,Dt,Z,Ot,1),$e(t,H,Yt++,Bt,2,_,Dt,j,Vt,1),$e(t,H,Yt++,Bt,3,_,Dt,K,Nt,1),$e(t,H,Yt++,Bt,4,_,Dt,At,Ut,1),$e(t,H,Yt++,Bt,5,_,Dt,Pt,Wt,1),$e(t,H,Yt++,Bt,6,_,Dt,Lt,Gt,1)}_=Dt,q=Xt,Z=Ot,j=Vt,K=Nt,At=Ut,Pt=Wt,Lt=Gt}r.push(H);break;case gn:for(var zt=t.readInt(!0),Ht=new dt(u,zt,o),_t=t.readFloat(),qt=t.readUnsignedByte()/255,Zt=t.readUnsignedByte()/255,jt=t.readUnsignedByte()/255,Kt=t.readUnsignedByte()/255,Jt=t.readUnsignedByte()/255,Qt=t.readUnsignedByte()/255,$t=0,te=0;Ht.setFrame($t,_t,qt,Zt,jt,Kt,Jt,Qt),$t!=d;$t++){var ee=t.readFloat(),ne=t.readUnsignedByte()/255,re=t.readUnsignedByte()/255,ie=t.readUnsignedByte()/255,ae=t.readUnsignedByte()/255,se=t.readUnsignedByte()/255,oe=t.readUnsignedByte()/255;switch(t.readByte()){case Fn:Ht.setStepped($t);break;case Pn:$e(t,Ht,te++,$t,0,_t,ee,qt,ne,1),$e(t,Ht,te++,$t,1,_t,ee,Zt,re,1),$e(t,Ht,te++,$t,2,_t,ee,jt,ie,1),$e(t,Ht,te++,$t,3,_t,ee,Kt,ae,1),$e(t,Ht,te++,$t,4,_t,ee,Jt,se,1),$e(t,Ht,te++,$t,5,_t,ee,Qt,oe,1)}_t=ee,qt=ne,Zt=re,jt=ie,Kt=ae,Jt=se,Qt=oe}r.push(Ht);break;case pn:for(var he=new ct(u,t.readInt(!0),o),le=t.readFloat(),ce=t.readUnsignedByte()/255,ue=0,de=0;he.setFrame(ue,le,ce),ue!=d;ue++){var fe=t.readFloat(),ve=t.readUnsignedByte()/255;switch(t.readByte()){case Fn:he.setStepped(ue);break;case Pn:$e(t,he,de++,ue,0,le,fe,ce,ve,1)}le=fe,ce=ve}r.push(he)}}for(var me=0,ge=t.readInt(!0);me<ge;me++)for(var pe=t.readInt(!0),we=0,be=t.readInt(!0);we<be;we++){var xe=t.readByte(),Ae=t.readInt(!0);if(xe!=un){var Se=t.readInt(!0);switch(xe){case tn:r.push(Je(t,new J(Ae,Se,pe),1));break;case en:r.push(Qe(t,new Q(Ae,Se,pe),i));break;case nn:r.push(Je(t,new $(Ae,Se,pe),i));break;case rn:r.push(Je(t,new tt(Ae,Se,pe),i));break;case an:r.push(Qe(t,new et(Ae,Se,pe),1));break;case sn:r.push(Je(t,new nt(Ae,Se,pe),1));break;case on:r.push(Je(t,new rt(Ae,Se,pe),1));break;case hn:r.push(Qe(t,new it(Ae,Se,pe),1));break;case ln:r.push(Je(t,new at(Ae,Se,pe),1));break;case cn:r.push(Je(t,new st(Ae,Se,pe),1))}}else{for(var Ce=new ot(Ae,pe),Me=0;Me<Ae;Me++)Ce.setFrame(Me,t.readFloat(),t.readByte());r.push(Ce)}}for(var ke=0,Te=t.readInt(!0);ke<Te;ke++){for(var Ie=t.readInt(!0),Re=t.readInt(!0),Ee=Re-1,Fe=new pt(Re,t.readInt(!0),Ie),Pe=t.readByte(),Le=t.readFloat(),Be=0!=(1&Pe)?0!=(2&Pe)?t.readFloat():1:0,Ye=0!=(4&Pe)?t.readFloat()*i:0,De=0,Xe=0;Fe.setFrame(De,Le,Be,Ye,0!=(8&Pe)?1:-1,0!=(16&Pe),0!=(32&Pe)),De!=Ee;De++){Pe=t.readByte();var Oe=t.readFloat(),Ve=0!=(1&Pe)?0!=(2&Pe)?t.readFloat():1:0,Ne=0!=(4&Pe)?t.readFloat()*i:0;0!=(64&Pe)?Fe.setStepped(De):0!=(128&Pe)&&($e(t,Fe,Xe++,De,0,Le,Oe,Be,Ve,1),$e(t,Fe,Xe++,De,1,Le,Oe,Ye,Ne,i)),Le=Oe,Be=Ve,Ye=Ne}r.push(Fe)}for(var Ue=0,We=t.readInt(!0);Ue<We;Ue++){for(var Ge=t.readInt(!0),ze=t.readInt(!0),He=ze-1,_e=new wt(ze,t.readInt(!0),Ge),qe=t.readFloat(),Ze=t.readFloat(),je=t.readFloat(),Ke=t.readFloat(),Ln=t.readFloat(),Bn=t.readFloat(),Yn=t.readFloat(),Dn=0,Xn=0;_e.setFrame(Dn,qe,Ze,je,Ke,Ln,Bn,Yn),Dn!=He;Dn++){var On=t.readFloat(),Vn=t.readFloat(),Nn=t.readFloat(),Un=t.readFloat(),Wn=t.readFloat(),Gn=t.readFloat(),zn=t.readFloat();switch(t.readByte()){case Fn:_e.setStepped(Dn);break;case Pn:$e(t,_e,Xn++,Dn,0,qe,On,Ze,Vn,1),$e(t,_e,Xn++,Dn,1,qe,On,je,Nn,1),$e(t,_e,Xn++,Dn,2,qe,On,Ke,Un,1),$e(t,_e,Xn++,Dn,3,qe,On,Ln,Wn,1),$e(t,_e,Xn++,Dn,4,qe,On,Bn,Gn,1),$e(t,_e,Xn++,Dn,5,qe,On,Yn,zn,1)}qe=On,Ze=Vn,je=Nn,Ke=Un,Ln=Wn,Bn=Gn,Yn=zn}r.push(_e)}for(var Hn=0,_n=t.readInt(!0);Hn<_n;Hn++)for(var qn=t.readInt(!0),Zn=n.pathConstraints[qn],jn=0,Kn=t.readInt(!0);jn<Kn;jn++){var Jn=t.readByte(),Qn=t.readInt(!0),$n=t.readInt(!0);switch(Jn){case yn:r.push(Je(t,new bt(Qn,$n,qn),0==Zn.positionMode?i:1));break;case xn:r.push(Je(t,new yt(Qn,$n,qn),0==Zn.spacingMode||1==Zn.spacingMode?i:1));break;case An:for(var tr=new xt(Qn,$n,qn),er=t.readFloat(),nr=t.readFloat(),rr=t.readFloat(),ir=t.readFloat(),ar=0,sr=0,or=tr.getFrameCount()-1;tr.setFrame(ar,er,nr,rr,ir),ar!=or;ar++){var hr=t.readFloat(),lr=t.readFloat(),cr=t.readFloat(),ur=t.readFloat();switch(t.readByte()){case Fn:tr.setStepped(ar);break;case Pn:$e(t,tr,sr++,ar,0,er,hr,nr,lr,1),$e(t,tr,sr++,ar,1,er,hr,rr,cr,1),$e(t,tr,sr++,ar,2,er,hr,ir,ur,1)}er=hr,nr=lr,rr=cr,ir=ur}r.push(tr)}}for(var dr=0,fr=t.readInt(!0);dr<fr;dr++)for(var vr=t.readInt(!0)-1,mr=0,gr=t.readInt(!0);mr<gr;mr++){var pr=t.readByte(),wr=t.readInt(!0);if(pr!=En){var br=t.readInt(!0);switch(pr){case Sn:r.push(Je(t,new St(wr,br,vr),1));break;case Cn:r.push(Je(t,new Ct(wr,br,vr),1));break;case Mn:r.push(Je(t,new Mt(wr,br,vr),1));break;case kn:r.push(Je(t,new kt(wr,br,vr),1));break;case Tn:r.push(Je(t,new Tt(wr,br,vr),1));break;case In:r.push(Je(t,new It(wr,br,vr),1));break;case Rn:r.push(Je(t,new Rt(wr,br,vr),1))}}else{for(var yr=new Et(wr,vr),xr=0;xr<wr;xr++)yr.setFrame(xr,t.readFloat());r.push(yr)}}for(var Ar=0,Sr=t.readInt(!0);Ar<Sr;Ar++)for(var Cr=n.skins[t.readInt(!0)],Mr=0,kr=t.readInt(!0);Mr<kr;Mr++)for(var Tr=t.readInt(!0),Ir=0,Rr=t.readInt(!0);Ir<Rr;Ir++){var Er=t.readStringRef();if(!Er)throw new Error("attachmentName must not be null.");var Fr=Cr.getAttachment(Tr,Er),Pr=t.readByte(),Lr=t.readInt(!0),Br=Lr-1;switch(Pr){case wn:for(var Yr=Fr,Dr=Yr.bones,Xr=Yr.vertices,Or=Dr?Xr.length/3*2:Xr.length,Vr=t.readInt(!0),Nr=new vt(Lr,Vr,Tr,Yr),Ur=t.readFloat(),Wr=0,Gr=0;;Wr++){var zr=void 0,Hr=t.readInt(!0);if(0==Hr)zr=Dr?R.newFloatArray(Or):Xr;else{zr=R.newFloatArray(Or);var _r=t.readInt(!0);if(Hr+=_r,1==i)for(var qr=_r;qr<Hr;qr++)zr[qr]=t.readFloat();else for(var Zr=_r;Zr<Hr;Zr++)zr[Zr]=t.readFloat()*i;if(!Dr)for(var jr=0,Kr=zr.length;jr<Kr;jr++)zr[jr]+=Xr[jr]}if(Nr.setFrame(Wr,Ur,zr),Wr==Br)break;var Jr=t.readFloat();switch(t.readByte()){case Fn:Nr.setStepped(Wr);break;case Pn:$e(t,Nr,Gr++,Wr,0,Ur,Jr,0,1,1)}Ur=Jr}r.push(Nr);break;case bn:for(var Qr=new Ft(Lr,Tr,Fr),$r=0;$r<Lr;$r++){var ti=t.readFloat(),ei=t.readInt32();Qr.setFrame($r,ti,W[15&ei],ei>>4,t.readFloat())}r.push(Qr)}}var ni=t.readInt(!0);if(ni>0){for(var ri=new gt(ni),ii=n.slots.length,ai=0;ai<ni;ai++){for(var si=t.readFloat(),oi=t.readInt(!0),hi=R.newArray(ii,0),li=ii-1;li>=0;li--)hi[li]=-1;for(var ci=R.newArray(ii-oi,0),ui=0,di=0,fi=0;fi<oi;fi++){for(var vi=t.readInt(!0);ui!=vi;)ci[di++]=ui++;hi[ui+t.readInt(!0)]=ui++}for(;ui<ii;)ci[di++]=ui++;for(var mi=ii-1;mi>=0;mi--)-1==hi[mi]&&(hi[mi]=ci[--di]);ri.setFrame(ai,si,hi)}r.push(ri)}var gi=t.readInt(!0);if(gi>0){for(var pi=new mt(gi),wi=0;wi<gi;wi++){var bi=t.readFloat(),yi=n.events[t.readInt(!0)],xi=new ye(bi,yi);xi.intValue=t.readInt(!1),xi.floatValue=t.readFloat(),xi.stringValue=t.readString(),null==xi.stringValue&&(xi.stringValue=yi.stringValue),xi.data.audioPath&&(xi.volume=t.readFloat(),xi.balance=t.readFloat()),pi.setFrame(wi,xi)}r.push(pi)}for(var Ai=0,Si=0,Ci=r.length;Si<Ci;Si++)Ai=Math.max(Ai,r[Si].getDuration());return new G(e,r,Ai)},t}(),qe=function(){function t(t,e,n,r){void 0===e&&(e=new Array),void 0===n&&(n=0),void 0===r&&(r=new DataView(t instanceof ArrayBuffer?t:t.buffer)),this.strings=e,this.index=n,this.buffer=r}var e=t.prototype;return e.readByte=function(){return this.buffer.getInt8(this.index++)},e.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},e.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},e.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},e.readInt=function(t){var e=this.readByte(),n=127&e;return 0!=(128&e)&&(n|=(127&(e=this.readByte()))<<7,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<14,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<21,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<28)))),t?n:n>>>1^-(1&n)},e.readStringRef=function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]},e.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",n=0;n<t;){var r=this.readUnsignedByte();switch(r>>4){case 12:case 13:e+=String.fromCharCode((31&r)<<6|63&this.readByte()),n+=2;break;case 14:e+=String.fromCharCode((15&r)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:e+=String.fromCharCode(r),n++}}return e},e.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},e.readBoolean=function(){return 0!=this.readByte()},t}(),Ze=function(t,e,n,r,i){this.parent=void 0,this.skinIndex=void 0,this.slotIndex=void 0,this.mesh=void 0,this.inheritTimeline=void 0,this.mesh=t,this.skinIndex=e,this.slotIndex=n,this.parent=r,this.inheritTimeline=i},je=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=0),this.bones=t,this.vertices=e,this.length=n},Ke=((Xe=Ke||{})[Xe.Region=0]="Region",Xe[Xe.BoundingBox=1]="BoundingBox",Xe[Xe.Mesh=2]="Mesh",Xe[Xe.LinkedMesh=3]="LinkedMesh",Xe[Xe.Path=4]="Path",Xe[Xe.Point=5]="Point",Xe[Xe.Clipping=6]="Clipping",Xe);function Je(t,e,n){for(var r=t.readFloat(),i=t.readFloat()*n,a=0,s=0,o=e.getFrameCount()-1;e.setFrame(a,r,i),a!=o;a++){var h=t.readFloat(),l=t.readFloat()*n;switch(t.readByte()){case Fn:e.setStepped(a);break;case Pn:$e(t,e,s++,a,0,r,h,i,l,n)}r=h,i=l}return e}function Qe(t,e,n){for(var r=t.readFloat(),i=t.readFloat()*n,a=t.readFloat()*n,s=0,o=0,h=e.getFrameCount()-1;e.setFrame(s,r,i,a),s!=h;s++){var l=t.readFloat(),c=t.readFloat()*n,u=t.readFloat()*n;switch(t.readByte()){case Fn:e.setStepped(s);break;case Pn:$e(t,e,o++,s,0,r,l,i,c,n),$e(t,e,o++,s,1,r,l,a,u,n)}r=l,i=c,a=u}return e}function $e(t,e,n,r,i,a,s,o,h,l){e.setBezier(n,r,i,a,o,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,s,h)}var tn=0,en=1,nn=2,rn=3,an=4,sn=5,on=6,hn=7,ln=8,cn=9,un=10,dn=0,fn=1,vn=2,mn=3,gn=4,pn=5,wn=0,bn=1,yn=0,xn=1,An=2,Sn=0,Cn=1,Mn=2,kn=4,Tn=5,In=6,Rn=7,En=8,Fn=1,Pn=2,Ln=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new F((function(){return R.newFloatArray(16)}))}var e=t.prototype;return e.update=function(t,e){if(!t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,r=this.polygons,i=this.polygonPool,a=t.slots,s=a.length;n.length=0,i.freeAll(r),r.length=0;for(var o=0;o<s;o++){var h=a[o];if(h.bone.active){var l=h.getAttachment();if(l instanceof Zt){var c=l;n.push(c);var u=i.obtain();u.length!=c.worldVerticesLength&&(u=R.newFloatArray(c.worldVerticesLength)),r.push(u),c.computeWorldVertices(h,0,c.worldVerticesLength,u,0,2)}}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},e.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=this.polygons,a=0,s=i.length;a<s;a++)for(var o=i[a],h=o,l=0,c=o.length;l<c;l+=2){var u=h[l],d=h[l+1];t=Math.min(t,u),e=Math.min(e,d),n=Math.max(n,u),r=Math.max(r,d)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=r},e.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},e.aabbIntersectsSegment=function(t,e,n,r){var i=this.minX,a=this.minY,s=this.maxX,o=this.maxY;if(t<=i&&n<=i||e<=a&&r<=a||t>=s&&n>=s||e>=o&&r>=o)return!1;var h=(r-e)/(n-t),l=h*(i-t)+e;if(l>a&&l<o)return!0;if((l=h*(s-t)+e)>a&&l<o)return!0;var c=(a-e)/h+t;return c>i&&c<s||(c=(o-e)/h+t)>i&&c<s},e.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},e.containsPoint=function(t,e){for(var n=this.polygons,r=0,i=n.length;r<i;r++)if(this.containsPointPolygon(n[r],t,e))return this.boundingBoxes[r];return null},e.containsPointPolygon=function(t,e,n){for(var r=t,i=t.length,a=i-2,s=!1,o=0;o<i;o+=2){var h=r[o+1],l=r[a+1];if(h<n&&l>=n||l<n&&h>=n){var c=r[o];c+(n-h)/(l-h)*(r[a]-c)<e&&(s=!s)}a=o}return s},e.intersectsSegment=function(t,e,n,r){for(var i=this.polygons,a=0,s=i.length;a<s;a++)if(this.intersectsSegmentPolygon(i[a],t,e,n,r))return this.boundingBoxes[a];return null},e.intersectsSegmentPolygon=function(t,e,n,r,i){for(var a=t,s=t.length,o=e-r,h=n-i,l=e*i-n*r,c=a[s-2],u=a[s-1],d=0;d<s;d+=2){var f=a[d],v=a[d+1],m=c*v-u*f,g=c-f,p=u-v,w=o*p-h*g,b=(l*g-o*m)/w;if((b>=c&&b<=f||b>=f&&b<=c)&&(b>=e&&b<=r||b>=r&&b<=e)){var y=(l*p-h*m)/w;if((y>=u&&y<=v||y>=v&&y<=u)&&(y>=n&&y<=i||y>=i&&y<=n))return!0}c=f,u=v}return!1},e.getPolygon=function(t){if(!t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},e.getWidth=function(){return this.maxX-this.minX},e.getHeight=function(){return this.maxY-this.minY},t}(),Bn=function(){function t(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new F((function(){return new Array})),this.polygonIndicesPool=new F((function(){return new Array}))}var e=t.prototype;return e.triangulate=function(e){var n=e,r=e.length>>1,i=this.indicesArray;i.length=0;for(var a=0;a<r;a++)i[a]=a;var s=this.isConcaveArray;s.length=0;for(var o=0,h=r;o<h;++o)s[o]=t.isConcave(o,r,n,i);var l=this.triangles;for(l.length=0;r>3;){for(var c=r-1,u=0,d=1;;){t:if(!s[u]){for(var f=i[c]<<1,v=i[u]<<1,m=i[d]<<1,g=n[f],p=n[f+1],w=n[v],b=n[v+1],y=n[m],x=n[m+1],A=(d+1)%r;A!=c;A=(A+1)%r)if(s[A]){var S=i[A]<<1,C=n[S],M=n[S+1];if(t.positiveArea(y,x,g,p,C,M)&&t.positiveArea(g,p,w,b,C,M)&&t.positiveArea(w,b,y,x,C,M))break t}break}if(0==d){do{if(!s[u])break;u--}while(u>0);break}c=u,u=d,d=(d+1)%r}l.push(i[(r+u-1)%r]),l.push(i[u]),l.push(i[(u+1)%r]),i.splice(u,1),s.splice(u,1);var k=(--r+u-1)%r,T=u==r?0:u;s[k]=t.isConcave(k,r,n,i),s[T]=t.isConcave(T,r,n,i)}return 3==r&&(l.push(i[2]),l.push(i[0]),l.push(i[1])),l},e.decompose=function(e,n){var r=e,i=this.convexPolygons;this.polygonPool.freeAll(i),i.length=0;var a=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(a),a.length=0;var s=this.polygonIndicesPool.obtain();s.length=0;var o=this.polygonPool.obtain();o.length=0;for(var h=-1,l=0,c=0,u=n.length;c<u;c+=3){var d=n[c]<<1,f=n[c+1]<<1,v=n[c+2]<<1,m=r[d],g=r[d+1],p=r[f],w=r[f+1],b=r[v],y=r[v+1],x=!1;if(h==d){var A=o.length-4,S=t.winding(o[A],o[A+1],o[A+2],o[A+3],b,y),C=t.winding(b,y,o[0],o[1],o[2],o[3]);S==l&&C==l&&(o.push(b),o.push(y),s.push(v),x=!0)}x||(o.length>0?(i.push(o),a.push(s)):(this.polygonPool.free(o),this.polygonIndicesPool.free(s)),(o=this.polygonPool.obtain()).length=0,o.push(m),o.push(g),o.push(p),o.push(w),o.push(b),o.push(y),(s=this.polygonIndicesPool.obtain()).length=0,s.push(d),s.push(f),s.push(v),l=t.winding(m,g,p,w,b,y),h=d)}o.length>0&&(i.push(o),a.push(s));for(var M=0,k=i.length;M<k;M++)if(0!=(s=a[M]).length)for(var T=s[0],I=s[s.length-1],R=(o=i[M]).length-4,E=o[R],F=o[R+1],P=o[R+2],L=o[R+3],B=o[0],Y=o[1],D=o[2],X=o[3],O=t.winding(E,F,P,L,B,Y),V=0;V<k;V++)if(V!=M){var N=a[V];if(3==N.length){var U=N[0],W=N[1],G=N[2],z=i[V],H=z[z.length-2],_=z[z.length-1];if(U==T&&W==I){var q=t.winding(E,F,P,L,H,_),Z=t.winding(H,_,B,Y,D,X);q==O&&Z==O&&(z.length=0,N.length=0,o.push(H),o.push(_),s.push(G),E=P,F=L,P=H,L=_,V=0)}}}for(var j=i.length-1;j>=0;j--)0==(o=i[j]).length&&(i.splice(j,1),this.polygonPool.free(o),s=a[j],a.splice(j,1),this.polygonIndicesPool.free(s));return i},t.isConcave=function(t,e,n,r){var i=r[(e+t-1)%e]<<1,a=r[t]<<1,s=r[(t+1)%e]<<1;return!this.positiveArea(n[i],n[i+1],n[a],n[a+1],n[s],n[s+1])},t.positiveArea=function(t,e,n,r,i,a){return t*(a-r)+n*(e-a)+i*(r-e)>=0},t.winding=function(t,e,n,r,i,a){var s=n-t,o=r-e;return i*o-a*s+s*e-t*o>=0?1:-1},t}(),Yn=function(){function t(){this.triangulator=new Bn,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedUVs=new Array,this.clippedTriangles=new Array,this.scratch=new Array,this.clipAttachment=null,this.clippingPolygons=null}var e=t.prototype;return e.clipStart=function(e,n){if(this.clipAttachment)return 0;this.clipAttachment=n;var r=n.worldVerticesLength,i=R.setArraySize(this.clippingPolygon,r);n.computeWorldVertices(e,0,r,i,0,2);var a=this.clippingPolygon;t.makeClockwise(a);for(var s=this.clippingPolygons=this.triangulator.decompose(a,this.triangulator.triangulate(a)),o=0,h=s.length;o<h;o++){var l=s[o];t.makeClockwise(l),l.push(l[0]),l.push(l[1])}return s.length},e.clipEndWithSlot=function(t){this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},e.clipEnd=function(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},e.isClipping=function(){return null!=this.clipAttachment},e.clipTriangles=function(t,e,n,r,i,a,s){r&&i&&a&&"boolean"===typeof s?this.clipTrianglesRender(t,e,n,r,i,a,s):this.clipTrianglesNoRender(t,e,n)},e.clipTrianglesNoRender=function(t,e,n){var r=this.clipOutput,i=this.clippedVertices,a=this.clippedTriangles,s=this.clippingPolygons,o=s.length,h=0;i.length=0,a.length=0;for(var l=0;l<n;l+=3)for(var c=e[l]<<1,u=t[c],d=t[c+1],f=t[c=e[l+1]<<1],v=t[c+1],m=t[c=e[l+2]<<1],g=t[c+1],p=0;p<o;p++){var w=i.length;if(!this.clip(u,d,f,v,m,g,s[p],r)){var b=R.setArraySize(i,w+6);b[w]=u,b[w+1]=d,b[w+2]=f,b[w+3]=v,b[w+4]=m,b[w+5]=g,w=a.length;var y=R.setArraySize(a,w+3);y[w]=h,y[w+1]=h+1,y[w+2]=h+2,h+=3;break}var x=r.length;if(0!=x){for(var A=x>>1,S=this.clipOutput,C=R.setArraySize(i,w+2*A),M=0;M<x;M+=2,w+=2){var k=S[M],T=S[M+1];C[w]=k,C[w+1]=T}w=a.length;var I=R.setArraySize(a,w+3*(A-2));A--;for(var E=1;E<A;E++,w+=3)I[w]=h,I[w+1]=h+E,I[w+2]=h+E+1;h+=A+1}}},e.clipTrianglesRender=function(t,e,n,r,i,a,s){var o=this.clipOutput,h=this.clippedVertices,l=this.clippedTriangles,c=this.clippingPolygons,u=c.length,d=s?12:8,f=0;h.length=0,l.length=0;for(var v=0;v<n;v+=3)for(var m=e[v]<<1,g=t[m],p=t[m+1],w=r[m],b=r[m+1],y=t[m=e[v+1]<<1],x=t[m+1],A=r[m],S=r[m+1],C=t[m=e[v+2]<<1],M=t[m+1],k=r[m],T=r[m+1],I=0;I<u;I++){var E=h.length;if(!this.clip(g,p,y,x,C,M,c[I],o)){var F=R.setArraySize(h,E+3*d);F[E]=g,F[E+1]=p,F[E+2]=i.r,F[E+3]=i.g,F[E+4]=i.b,F[E+5]=i.a,s?(F[E+6]=w,F[E+7]=b,F[E+8]=a.r,F[E+9]=a.g,F[E+10]=a.b,F[E+11]=a.a,F[E+12]=y,F[E+13]=x,F[E+14]=i.r,F[E+15]=i.g,F[E+16]=i.b,F[E+17]=i.a,F[E+18]=A,F[E+19]=S,F[E+20]=a.r,F[E+21]=a.g,F[E+22]=a.b,F[E+23]=a.a,F[E+24]=C,F[E+25]=M,F[E+26]=i.r,F[E+27]=i.g,F[E+28]=i.b,F[E+29]=i.a,F[E+30]=k,F[E+31]=T,F[E+32]=a.r,F[E+33]=a.g,F[E+34]=a.b,F[E+35]=a.a):(F[E+6]=w,F[E+7]=b,F[E+8]=y,F[E+9]=x,F[E+10]=i.r,F[E+11]=i.g,F[E+12]=i.b,F[E+13]=i.a,F[E+14]=A,F[E+15]=S,F[E+16]=C,F[E+17]=M,F[E+18]=i.r,F[E+19]=i.g,F[E+20]=i.b,F[E+21]=i.a,F[E+22]=k,F[E+23]=T),E=l.length;var P=R.setArraySize(l,E+3);P[E]=f,P[E+1]=f+1,P[E+2]=f+2,f+=3;break}var L=o.length;if(0!=L){for(var B=x-M,Y=C-y,D=g-C,X=M-p,O=1/(B*D+Y*(p-M)),V=L>>1,N=this.clipOutput,U=R.setArraySize(h,E+V*d),W=0;W<L;W+=2,E+=d){var G=N[W],z=N[W+1];U[E]=G,U[E+1]=z,U[E+2]=i.r,U[E+3]=i.g,U[E+4]=i.b,U[E+5]=i.a;var H=G-C,_=z-M,q=(B*H+Y*_)*O,Z=(X*H+D*_)*O,j=1-q-Z;U[E+6]=w*q+A*Z+k*j,U[E+7]=b*q+S*Z+T*j,s&&(U[E+8]=a.r,U[E+9]=a.g,U[E+10]=a.b,U[E+11]=a.a)}E=l.length;var K=R.setArraySize(l,E+3*(V-2));V--;for(var J=1;J<V;J++,E+=3)K[E]=f,K[E+1]=f+J,K[E+2]=f+J+1;f+=V+1}}},e.clipTrianglesUnpacked=function(t,e,n,r){var i=this.clipOutput,a=this.clippedVertices,s=this.clippedUVs,o=this.clippedTriangles,h=this.clippingPolygons,l=h.length,c=0;a.length=0,s.length=0,o.length=0;for(var u=0;u<n;u+=3)for(var d=e[u]<<1,f=t[d],v=t[d+1],m=r[d],g=r[d+1],p=t[d=e[u+1]<<1],w=t[d+1],b=r[d],y=r[d+1],x=t[d=e[u+2]<<1],A=t[d+1],S=r[d],C=r[d+1],M=0;M<l;M++){var k=a.length;if(!this.clip(f,v,p,w,x,A,h[M],i)){var T=R.setArraySize(a,k+6);T[k]=f,T[k+1]=v,T[k+2]=p,T[k+3]=w,T[k+4]=x,T[k+5]=A;var I=R.setArraySize(s,k+6);I[k]=m,I[k+1]=g,I[k+2]=b,I[k+3]=y,I[k+4]=S,I[k+5]=C,k=o.length;var E=R.setArraySize(o,k+3);E[k]=c,E[k+1]=c+1,E[k+2]=c+2,c+=3;break}var F=i.length;if(0!=F){for(var P=w-A,L=x-p,B=f-x,Y=A-v,D=1/(P*B+L*(v-A)),X=F>>1,O=this.clipOutput,V=R.setArraySize(a,k+2*X),N=R.setArraySize(s,k+2*X),U=0;U<F;U+=2,k+=2){var W=O[U],G=O[U+1];V[k]=W,V[k+1]=G;var z=W-x,H=G-A,_=(P*z+L*H)*D,q=(Y*z+B*H)*D,Z=1-_-q;N[k]=m*_+b*q+S*Z,N[k+1]=g*_+y*q+C*Z}k=o.length;var j=R.setArraySize(o,k+3*(X-2));X--;for(var K=1;K<X;K++,k+=3)j[k]=c,j[k+1]=c+K,j[k+2]=c+K+1;c+=X+1}}},e.clip=function(t,e,n,r,i,a,s,o){var h,l=o,c=!1;s.length%4>=2?(h=o,o=this.scratch):h=this.scratch,h.length=0,h.push(t),h.push(e),h.push(n),h.push(r),h.push(i),h.push(a),h.push(t),h.push(e),o.length=0;for(var u=s.length-4,d=s,f=0;;f+=2){for(var v=d[f],m=d[f+1],g=v-d[f+2],p=m-d[f+3],w=o.length,b=h,y=0,x=h.length-2;y<x;){var A=b[y],S=b[y+1],C=b[y+=2],M=b[y+1],k=p*(v-C)>g*(m-M),T=p*(v-A)-g*(m-S);if(T>0){if(k){o.push(C),o.push(M);continue}var I=C-A,R=M-S,E=T/(I*p-R*g);if(!(E>=0&&E<=1)){o.push(C),o.push(M);continue}o.push(A+I*E),o.push(S+R*E)}else if(k){var F=C-A,P=M-S,L=T/(F*p-P*g);if(!(L>=0&&L<=1)){o.push(C),o.push(M);continue}o.push(A+F*L),o.push(S+P*L),o.push(C),o.push(M)}c=!0}if(w==o.length)return l.length=0,!0;if(o.push(o[0]),o.push(o[1]),f==u)break;var B=o;(o=h).length=0,h=B}if(l!=o){l.length=0;for(var Y=0,D=o.length-2;Y<D;Y++)l[Y]=o[Y]}else l.length=l.length-2;return c},t.makeClockwise=function(t){for(var e=t,n=t.length,r=e[n-2]*e[1]-e[0]*e[n-1],i=0,a=0,s=0,o=0,h=n-3;o<h;o+=2)i=e[o],a=e[o+1],s=e[o+2],r+=i*e[o+3]-s*a;if(!(r<0))for(var l=0,c=n-2,u=n>>1;l<u;l+=2){var d=e[l],f=e[l+1],v=c-l;e[l]=e[v],e[l+1]=e[v+1],e[v]=d,e[v+1]=f}},t}(),Dn=function(){function t(t){this.attachmentLoader=void 0,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}var e=t.prototype;return e.readSkeletonData=function(t){var e,n,r=this.scale,i=new Ne,a="string"===typeof t?JSON.parse(t):t,s=a.skeleton;s&&(i.hash=s.hash,i.version=s.spine,i.x=s.x,i.y=s.y,i.width=s.width,i.height=s.height,i.referenceScale=Un(s,"referenceScale",100)*r,i.fps=s.fps,i.imagesPath=null!=(e=s.images)?e:null,i.audioPath=null!=(n=s.audio)?n:null);if(a.bones)for(var o=0;o<a.bones.length;o++){var h=a.bones[o],l=null,c=Un(h,"parent",null);c&&(l=i.findBone(c));var u=new ve(i.bones.length,h.name,l);u.length=Un(h,"length",0)*r,u.x=Un(h,"x",0)*r,u.y=Un(h,"y",0)*r,u.rotation=Un(h,"rotation",0),u.scaleX=Un(h,"scaleX",1),u.scaleY=Un(h,"scaleY",1),u.shearX=Un(h,"shearX",0),u.shearY=Un(h,"shearY",0),u.inherit=R.enumValue(me,Un(h,"inherit","Normal")),u.skinRequired=Un(h,"skin",!1);var d=Un(h,"color",null);d&&u.color.setFromString(d),i.bones.push(u)}if(a.slots)for(var f=0;f<a.slots.length;f++){var v=a.slots[f],m=v.name,g=i.findBone(v.bone);if(!g)throw new Error("Couldn't find bone "+v.bone+" for slot "+m);var p=new Ge(i.slots.length,m,g),w=Un(v,"color",null);w&&p.color.setFromString(w);var b=Un(v,"dark",null);b&&(p.darkColor=S.fromString(b)),p.attachmentName=Un(v,"attachment",null),p.blendMode=R.enumValue(ze,Un(v,"blend","normal")),p.visible=Un(v,"visible",!0),i.slots.push(p)}if(a.ik)for(var y=0;y<a.ik.length;y++){var x=a.ik[y],A=new Se(x.name);A.order=Un(x,"order",0),A.skinRequired=Un(x,"skin",!1);for(var C=0;C<x.bones.length;C++){var M=i.findBone(x.bones[C]);if(!M)throw new Error("Couldn't find bone "+x.bones[C]+" for IK constraint "+x.name+".");A.bones.push(M)}var k=i.findBone(x.target);if(!k)throw new Error("Couldn't find target bone "+x.target+" for IK constraint "+x.name+".");A.target=k,A.mix=Un(x,"mix",1),A.softness=Un(x,"softness",0)*r,A.bendDirection=Un(x,"bendPositive",!0)?1:-1,A.compress=Un(x,"compress",!1),A.stretch=Un(x,"stretch",!1),A.uniform=Un(x,"uniform",!1),i.ikConstraints.push(A)}if(a.transform)for(var T=0;T<a.transform.length;T++){var I=a.transform[T],E=new He(I.name);E.order=Un(I,"order",0),E.skinRequired=Un(I,"skin",!1);for(var F=0;F<I.bones.length;F++){var P=I.bones[F],L=i.findBone(P);if(!L)throw new Error("Couldn't find bone "+P+" for transform constraint "+I.name+".");E.bones.push(L)}var B=I.target,Y=i.findBone(B);if(!Y)throw new Error("Couldn't find target bone "+B+" for transform constraint "+I.name+".");E.target=Y,E.local=Un(I,"local",!1),E.relative=Un(I,"relative",!1),E.offsetRotation=Un(I,"rotation",0),E.offsetX=Un(I,"x",0)*r,E.offsetY=Un(I,"y",0)*r,E.offsetScaleX=Un(I,"scaleX",0),E.offsetScaleY=Un(I,"scaleY",0),E.offsetShearY=Un(I,"shearY",0),E.mixRotate=Un(I,"mixRotate",1),E.mixX=Un(I,"mixX",1),E.mixY=Un(I,"mixY",E.mixX),E.mixScaleX=Un(I,"mixScaleX",1),E.mixScaleY=Un(I,"mixScaleY",E.mixScaleX),E.mixShearY=Un(I,"mixShearY",1),i.transformConstraints.push(E)}if(a.path)for(var D=0;D<a.path.length;D++){var X=a.path[D],O=new Ce(X.name);O.order=Un(X,"order",0),O.skinRequired=Un(X,"skin",!1);for(var V=0;V<X.bones.length;V++){var N=X.bones[V],U=i.findBone(N);if(!U)throw new Error("Couldn't find bone "+N+" for path constraint "+X.name+".");O.bones.push(U)}var W=X.target,G=i.findSlot(W);if(!G)throw new Error("Couldn't find target slot "+W+" for path constraint "+X.name+".");O.target=G,O.positionMode=R.enumValue(Me,Un(X,"positionMode","Percent")),O.spacingMode=R.enumValue(ke,Un(X,"spacingMode","Length")),O.rotateMode=R.enumValue(Te,Un(X,"rotateMode","Tangent")),O.offsetRotation=Un(X,"rotation",0),O.position=Un(X,"position",0),0==O.positionMode&&(O.position*=r),O.spacing=Un(X,"spacing",0),0!=O.spacingMode&&1!=O.spacingMode||(O.spacing*=r),O.mixRotate=Un(X,"mixRotate",1),O.mixX=Un(X,"mixX",1),O.mixY=Un(X,"mixY",O.mixX),i.pathConstraints.push(O)}if(a.physics)for(var z=0;z<a.physics.length;z++){var H=a.physics[z],_=new Ve(H.name);_.order=Un(H,"order",0),_.skinRequired=Un(H,"skin",!1);var q=H.bone,Z=i.findBone(q);if(null==Z)throw new Error("Physics bone not found: "+q);_.bone=Z,_.x=Un(H,"x",0),_.y=Un(H,"y",0),_.rotate=Un(H,"rotate",0),_.scaleX=Un(H,"scaleX",0),_.shearX=Un(H,"shearX",0),_.limit=Un(H,"limit",5e3)*r,_.step=1/Un(H,"fps",60),_.inertia=Un(H,"inertia",1),_.strength=Un(H,"strength",100),_.damping=Un(H,"damping",1),_.massInverse=1/Un(H,"mass",1),_.wind=Un(H,"wind",0),_.gravity=Un(H,"gravity",0),_.mix=Un(H,"mix",1),_.inertiaGlobal=Un(H,"inertiaGlobal",!1),_.strengthGlobal=Un(H,"strengthGlobal",!1),_.dampingGlobal=Un(H,"dampingGlobal",!1),_.massGlobal=Un(H,"massGlobal",!1),_.windGlobal=Un(H,"windGlobal",!1),_.gravityGlobal=Un(H,"gravityGlobal",!1),_.mixGlobal=Un(H,"mixGlobal",!1),i.physicsConstraints.push(_)}if(a.skins)for(var j=0;j<a.skins.length;j++){var K=a.skins[j],J=new We(K.name);if(K.bones)for(var Q=0;Q<K.bones.length;Q++){var $=K.bones[Q],tt=i.findBone($);if(!tt)throw new Error("Couldn't find bone "+$+" for skin "+K.name+".");J.bones.push(tt)}if(K.ik)for(var et=0;et<K.ik.length;et++){var nt=K.ik[et],rt=i.findIkConstraint(nt);if(!rt)throw new Error("Couldn't find IK constraint "+nt+" for skin "+K.name+".");J.constraints.push(rt)}if(K.transform)for(var it=0;it<K.transform.length;it++){var at=K.transform[it],st=i.findTransformConstraint(at);if(!st)throw new Error("Couldn't find transform constraint "+at+" for skin "+K.name+".");J.constraints.push(st)}if(K.path)for(var ot=0;ot<K.path.length;ot++){var ht=K.path[ot],lt=i.findPathConstraint(ht);if(!lt)throw new Error("Couldn't find path constraint "+ht+" for skin "+K.name+".");J.constraints.push(lt)}if(K.physics)for(var ct=0;ct<K.physics.length;ct++){var ut=K.physics[ct],dt=i.findPhysicsConstraint(ut);if(!dt)throw new Error("Couldn't find physics constraint "+ut+" for skin "+K.name+".");J.constraints.push(dt)}for(var ft in K.attachments){var vt=i.findSlot(ft);if(!vt)throw new Error("Couldn't find slot "+ft+" for skin "+K.name+".");var mt=K.attachments[ft];for(var gt in mt){var pt=this.readAttachment(mt[gt],J,vt.index,gt,i);pt&&J.setAttachment(vt.index,gt,pt)}}i.skins.push(J),"default"==J.name&&(i.defaultSkin=J)}for(var wt=0,bt=this.linkedMeshes.length;wt<bt;wt++){var yt=this.linkedMeshes[wt],xt=yt.skin?i.findSkin(yt.skin):i.defaultSkin;if(!xt)throw new Error("Skin not found: "+yt.skin);var At=xt.getAttachment(yt.slotIndex,yt.parent);if(!At)throw new Error("Parent mesh not found: "+yt.parent);yt.mesh.timelineAttachment=yt.inheritTimeline?At:yt.mesh,yt.mesh.setParentMesh(At),null!=yt.mesh.region&&yt.mesh.updateRegion()}if(this.linkedMeshes.length=0,a.events)for(var St in a.events){var Ct=a.events[St],Mt=new xe(St);Mt.intValue=Un(Ct,"int",0),Mt.floatValue=Un(Ct,"float",0),Mt.stringValue=Un(Ct,"string",""),Mt.audioPath=Un(Ct,"audio",null),Mt.audioPath&&(Mt.volume=Un(Ct,"volume",1),Mt.balance=Un(Ct,"balance",0)),i.events.push(Mt)}if(a.animations)for(var kt in a.animations){var Tt=a.animations[kt];this.readAnimation(Tt,kt,i)}return i},e.readAttachment=function(t,e,n,r,i){var a=this.scale;switch(r=Un(t,"name",r),Un(t,"type","region")){case"region":var s=Un(t,"path",r),o=this.readSequence(Un(t,"sequence",null)),h=this.attachmentLoader.newRegionAttachment(e,r,s,o);if(!h)return null;h.path=s,h.x=Un(t,"x",0)*a,h.y=Un(t,"y",0)*a,h.scaleX=Un(t,"scaleX",1),h.scaleY=Un(t,"scaleY",1),h.rotation=Un(t,"rotation",0),h.width=t.width*a,h.height=t.height*a,h.sequence=o;var l=Un(t,"color",null);return l&&h.color.setFromString(l),null!=h.region&&h.updateRegion(),h;case"boundingbox":var c=this.attachmentLoader.newBoundingBoxAttachment(e,r);if(!c)return null;this.readVertices(t,c,t.vertexCount<<1);var u=Un(t,"color",null);return u&&c.color.setFromString(u),c;case"mesh":case"linkedmesh":var d=Un(t,"path",r),f=this.readSequence(Un(t,"sequence",null)),v=this.attachmentLoader.newMeshAttachment(e,r,d,f);if(!v)return null;v.path=d;var m=Un(t,"color",null);m&&v.color.setFromString(m),v.width=Un(t,"width",0)*a,v.height=Un(t,"height",0)*a,v.sequence=f;var g=Un(t,"parent",null);if(g)return this.linkedMeshes.push(new Xn(v,Un(t,"skin",null),n,g,Un(t,"timelines",!0))),v;var p=t.uvs;return this.readVertices(t,v,p.length),v.triangles=t.triangles,v.regionUVs=p,null!=v.region&&v.updateRegion(),v.edges=Un(t,"edges",null),v.hullLength=2*Un(t,"hull",0),v;case"path":var w=this.attachmentLoader.newPathAttachment(e,r);if(!w)return null;w.closed=Un(t,"closed",!1),w.constantSpeed=Un(t,"constantSpeed",!0);var b=t.vertexCount;this.readVertices(t,w,b<<1);for(var y=R.newArray(b/3,0),x=0;x<t.lengths.length;x++)y[x]=t.lengths[x]*a;w.lengths=y;var A=Un(t,"color",null);return A&&w.color.setFromString(A),w;case"point":var S=this.attachmentLoader.newPointAttachment(e,r);if(!S)return null;S.x=Un(t,"x",0)*a,S.y=Un(t,"y",0)*a,S.rotation=Un(t,"rotation",0);var C=Un(t,"color",null);return C&&S.color.setFromString(C),S;case"clipping":var M=this.attachmentLoader.newClippingAttachment(e,r);if(!M)return null;var k=Un(t,"end",null);k&&(M.endSlot=i.findSlot(k));var T=t.vertexCount;this.readVertices(t,M,T<<1);var I=Un(t,"color",null);return I&&M.color.setFromString(I),M}return null},e.readSequence=function(t){if(null==t)return null;var e=new X(Un(t,"count",0));return e.start=Un(t,"start",1),e.digits=Un(t,"digits",0),e.setupIndex=Un(t,"setup",0),e},e.readVertices=function(t,e,n){var r=this.scale;e.worldVerticesLength=n;var i=t.vertices;if(n!=i.length){for(var a=new Array,s=new Array,o=0,h=i.length;o<h;){var l=i[o++];s.push(l);for(var c=o+4*l;o<c;o+=4)s.push(i[o]),a.push(i[o+1]*r),a.push(i[o+2]*r),a.push(i[o+3])}e.bones=s,e.vertices=R.toFloatArray(a)}else{var u=R.toFloatArray(i);if(1!=r)for(var d=0,f=i.length;d<f;d++)u[d]*=r;e.vertices=u}},e.readAnimation=function(t,e,n){var r=this.scale,i=new Array;if(t.slots)for(var a in t.slots){var s=t.slots[a],o=n.findSlot(a);if(!o)throw new Error("Slot not found: "+a);var h=o.index;for(var l in s){var c=s[l];if(c){var u=c.length;if("attachment"==l){for(var d=new ft(u,h),f=0;f<u;f++){var v=c[f];d.setFrame(f,Un(v,"time",0),Un(v,"name",null))}i.push(d)}else if("rgba"==l){for(var m=new ht(u,u<<2,h),g=c[0],p=Un(g,"time",0),w=S.fromString(g.color),b=0,y=0;;b++){m.setFrame(b,p,w.r,w.g,w.b,w.a);var x=c[b+1];if(!x){m.shrink(y);break}var A=Un(x,"time",0),C=S.fromString(x.color),M=g.curve;M&&(y=Nn(M,m,y,b,0,p,A,w.r,C.r,1),y=Nn(M,m,y,b,1,p,A,w.g,C.g,1),y=Nn(M,m,y,b,2,p,A,w.b,C.b,1),y=Nn(M,m,y,b,3,p,A,w.a,C.a,1)),p=A,w=C,g=x}i.push(m)}else if("rgb"==l){for(var k=new lt(u,3*u,h),T=c[0],I=Un(T,"time",0),E=S.fromString(T.color),F=0,P=0;;F++){k.setFrame(F,I,E.r,E.g,E.b);var L=c[F+1];if(!L){k.shrink(P);break}var B=Un(L,"time",0),Y=S.fromString(L.color),D=T.curve;D&&(P=Nn(D,k,P,F,0,I,B,E.r,Y.r,1),P=Nn(D,k,P,F,1,I,B,E.g,Y.g,1),P=Nn(D,k,P,F,2,I,B,E.b,Y.b,1)),I=B,E=Y,T=L}i.push(k)}else if("alpha"==l)i.push(On(c,new ct(u,u,h),0,1));else if("rgba2"==l){for(var X=new ut(u,7*u,h),O=c[0],V=Un(O,"time",0),N=S.fromString(O.light),W=S.fromString(O.dark),z=0,H=0;;z++){X.setFrame(z,V,N.r,N.g,N.b,N.a,W.r,W.g,W.b);var _=c[z+1];if(!_){X.shrink(H);break}var q=Un(_,"time",0),Z=S.fromString(_.light),j=S.fromString(_.dark),K=O.curve;K&&(H=Nn(K,X,H,z,0,V,q,N.r,Z.r,1),H=Nn(K,X,H,z,1,V,q,N.g,Z.g,1),H=Nn(K,X,H,z,2,V,q,N.b,Z.b,1),H=Nn(K,X,H,z,3,V,q,N.a,Z.a,1),H=Nn(K,X,H,z,4,V,q,W.r,j.r,1),H=Nn(K,X,H,z,5,V,q,W.g,j.g,1),H=Nn(K,X,H,z,6,V,q,W.b,j.b,1)),V=q,N=Z,W=j,O=_}i.push(X)}else if("rgb2"==l){for(var At=new dt(u,6*u,h),Pt=c[0],Lt=Un(Pt,"time",0),Bt=S.fromString(Pt.light),Yt=S.fromString(Pt.dark),Dt=0,Xt=0;;Dt++){At.setFrame(Dt,Lt,Bt.r,Bt.g,Bt.b,Yt.r,Yt.g,Yt.b);var Ot=c[Dt+1];if(!Ot){At.shrink(Xt);break}var Vt=Un(Ot,"time",0),Nt=S.fromString(Ot.light),Ut=S.fromString(Ot.dark),Wt=Pt.curve;Wt&&(Xt=Nn(Wt,At,Xt,Dt,0,Lt,Vt,Bt.r,Nt.r,1),Xt=Nn(Wt,At,Xt,Dt,1,Lt,Vt,Bt.g,Nt.g,1),Xt=Nn(Wt,At,Xt,Dt,2,Lt,Vt,Bt.b,Nt.b,1),Xt=Nn(Wt,At,Xt,Dt,3,Lt,Vt,Yt.r,Ut.r,1),Xt=Nn(Wt,At,Xt,Dt,4,Lt,Vt,Yt.g,Ut.g,1),Xt=Nn(Wt,At,Xt,Dt,5,Lt,Vt,Yt.b,Ut.b,1)),Lt=Vt,Bt=Nt,Yt=Ut,Pt=Ot}i.push(At)}}}}if(t.bones)for(var Gt in t.bones){var zt=t.bones[Gt],Ht=n.findBone(Gt);if(!Ht)throw new Error("Bone not found: "+Gt);var _t=Ht.index;for(var qt in zt){var Zt=zt[qt],jt=Zt.length;if(0!=jt)if("rotate"===qt)i.push(On(Zt,new J(jt,jt,_t),0,1));else if("translate"===qt){var Kt=new Q(jt,jt<<1,_t);i.push(Vn(Zt,Kt,"x","y",0,r))}else if("translatex"===qt){var Jt=new $(jt,jt,_t);i.push(On(Zt,Jt,0,r))}else if("translatey"===qt){var Qt=new tt(jt,jt,_t);i.push(On(Zt,Qt,0,r))}else if("scale"===qt){var $t=new et(jt,jt<<1,_t);i.push(Vn(Zt,$t,"x","y",1,1))}else if("scalex"===qt){var te=new nt(jt,jt,_t);i.push(On(Zt,te,1,1))}else if("scaley"===qt){var ee=new rt(jt,jt,_t);i.push(On(Zt,ee,1,1))}else if("shear"===qt){var ne=new it(jt,jt<<1,_t);i.push(Vn(Zt,ne,"x","y",0,1))}else if("shearx"===qt){var re=new at(jt,jt,_t);i.push(On(Zt,re,0,1))}else if("sheary"===qt){var ie=new st(jt,jt,_t);i.push(On(Zt,ie,0,1))}else if("inherit"===qt){for(var ae=new ot(jt,Ht.index),se=0;se<Zt.length;se++){var oe=Zt[se];ae.setFrame(se,Un(oe,"time",0),R.enumValue(me,Un(oe,"inherit","Normal")))}i.push(ae)}}}if(t.ik)for(var he in t.ik){var le=t.ik[he],ce=le[0];if(ce){var ue=n.findIkConstraint(he);if(!ue)throw new Error("IK Constraint not found: "+he);for(var de=n.ikConstraints.indexOf(ue),fe=new pt(le.length,le.length<<1,de),ve=Un(ce,"time",0),ge=Un(ce,"mix",1),pe=Un(ce,"softness",0)*r,we=0,be=0;;we++){fe.setFrame(we,ve,ge,pe,Un(ce,"bendPositive",!0)?1:-1,Un(ce,"compress",!1),Un(ce,"stretch",!1));var xe=le[we+1];if(!xe){fe.shrink(be);break}var Ae=Un(xe,"time",0),Se=Un(xe,"mix",1),Ce=Un(xe,"softness",0)*r,Me=ce.curve;Me&&(be=Nn(Me,fe,be,we,0,ve,Ae,ge,Se,1),be=Nn(Me,fe,be,we,1,ve,Ae,pe,Ce,r)),ve=Ae,ge=Se,pe=Ce,ce=xe}i.push(fe)}}if(t.transform)for(var ke in t.transform){var Te=t.transform[ke],Ie=Te[0];if(Ie){var Re=n.findTransformConstraint(ke);if(!Re)throw new Error("Transform constraint not found: "+ke);for(var Ee=n.transformConstraints.indexOf(Re),Fe=new wt(Te.length,6*Te.length,Ee),Pe=Un(Ie,"time",0),Le=Un(Ie,"mixRotate",1),Be=Un(Ie,"mixX",1),Ye=Un(Ie,"mixY",Be),De=Un(Ie,"mixScaleX",1),Xe=Un(Ie,"mixScaleY",De),Oe=Un(Ie,"mixShearY",1),Ve=0,Ne=0;;Ve++){Fe.setFrame(Ve,Pe,Le,Be,Ye,De,Xe,Oe);var Ue=Te[Ve+1];if(!Ue){Fe.shrink(Ne);break}var We=Un(Ue,"time",0),Ge=Un(Ue,"mixRotate",1),ze=Un(Ue,"mixX",1),He=Un(Ue,"mixY",ze),_e=Un(Ue,"mixScaleX",1),qe=Un(Ue,"mixScaleY",_e),Ze=Un(Ue,"mixShearY",1),je=Ie.curve;je&&(Ne=Nn(je,Fe,Ne,Ve,0,Pe,We,Le,Ge,1),Ne=Nn(je,Fe,Ne,Ve,1,Pe,We,Be,ze,1),Ne=Nn(je,Fe,Ne,Ve,2,Pe,We,Ye,He,1),Ne=Nn(je,Fe,Ne,Ve,3,Pe,We,De,_e,1),Ne=Nn(je,Fe,Ne,Ve,4,Pe,We,Xe,qe,1),Ne=Nn(je,Fe,Ne,Ve,5,Pe,We,Oe,Ze,1)),Pe=We,Le=Ge,Be=ze,Ye=He,De=_e,Xe=qe,De=_e,Ie=Ue}i.push(Fe)}}if(t.path)for(var Ke in t.path){var Je=t.path[Ke],Qe=n.findPathConstraint(Ke);if(!Qe)throw new Error("Path constraint not found: "+Ke);var $e=n.pathConstraints.indexOf(Qe);for(var tn in Je){var en=Je[tn],nn=en[0];if(nn){var rn=en.length;if("position"===tn){var an=new bt(rn,rn,$e);i.push(On(en,an,0,0==Qe.positionMode?r:1))}else if("spacing"===tn){var sn=new yt(rn,rn,$e);i.push(On(en,sn,0,0==Qe.spacingMode||1==Qe.spacingMode?r:1))}else if("mix"===tn){for(var on=new xt(rn,3*rn,$e),hn=Un(nn,"time",0),ln=Un(nn,"mixRotate",1),cn=Un(nn,"mixX",1),un=Un(nn,"mixY",cn),dn=0,fn=0;;dn++){on.setFrame(dn,hn,ln,cn,un);var vn=en[dn+1];if(!vn){on.shrink(fn);break}var mn=Un(vn,"time",0),gn=Un(vn,"mixRotate",1),pn=Un(vn,"mixX",1),wn=Un(vn,"mixY",pn),bn=nn.curve;bn&&(fn=Nn(bn,on,fn,dn,0,hn,mn,ln,gn,1),fn=Nn(bn,on,fn,dn,1,hn,mn,cn,pn,1),fn=Nn(bn,on,fn,dn,2,hn,mn,un,wn,1)),hn=mn,ln=gn,cn=pn,un=wn,nn=vn}i.push(on)}}}}if(t.physics)for(var yn in t.physics){var xn=t.physics[yn],An=-1;if(yn.length>0){var Sn=n.findPhysicsConstraint(yn);if(!Sn)throw new Error("Physics constraint not found: "+yn);An=n.physicsConstraints.indexOf(Sn)}for(var Cn in xn){var Mn=xn[Cn],kn=Mn[0];if(kn){var Tn=Mn.length;if("reset"!=Cn){var In=void 0;if("inertia"==Cn)In=new St(Tn,Tn,An);else if("strength"==Cn)In=new Ct(Tn,Tn,An);else if("damping"==Cn)In=new Mt(Tn,Tn,An);else if("mass"==Cn)In=new kt(Tn,Tn,An);else if("wind"==Cn)In=new Tt(Tn,Tn,An);else if("gravity"==Cn)In=new It(Tn,Tn,An);else{if("mix"!=Cn)continue;In=new Rt(Tn,Tn,An)}i.push(On(Mn,In,0,1))}else{for(var Rn=new Et(Tn,An),En=0;null!=kn;kn=Mn[En+1],En++)Rn.setFrame(En,Un(kn,"time",0));i.push(Rn)}}}}if(t.attachments)for(var Fn in t.attachments){var Pn=t.attachments[Fn],Ln=n.findSkin(Fn);if(!Ln)throw new Error("Skin not found: "+Fn);for(var Bn in Pn){var Yn=Pn[Bn],Dn=n.findSlot(Bn);if(!Dn)throw new Error("Slot not found: "+Bn);var Xn=Dn.index;for(var Wn in Yn){var Gn=Yn[Wn],zn=Ln.getAttachment(Xn,Wn);for(var Hn in Gn){var _n=Gn[Hn],qn=_n[0];if(qn)if("deform"==Hn){for(var Zn=zn.bones,jn=zn.vertices,Kn=Zn?jn.length/3*2:jn.length,Jn=new vt(_n.length,_n.length,Xn,zn),Qn=Un(qn,"time",0),$n=0,tr=0;;$n++){var er=void 0,nr=Un(qn,"vertices",null);if(nr){er=R.newFloatArray(Kn);var rr=Un(qn,"offset",0);if(R.arrayCopy(nr,0,er,rr,nr.length),1!=r)for(var ir=rr,ar=ir+nr.length;ir<ar;ir++)er[ir]*=r;if(!Zn)for(var sr=0;sr<Kn;sr++)er[sr]+=jn[sr]}else er=Zn?R.newFloatArray(Kn):jn;Jn.setFrame($n,Qn,er);var or=_n[$n+1];if(!or){Jn.shrink(tr);break}var hr=Un(or,"time",0),lr=qn.curve;lr&&(tr=Nn(lr,Jn,tr,$n,0,Qn,hr,0,1,1)),Qn=hr,qn=or}i.push(Jn)}else if("sequence"==Hn){for(var cr=new Ft(_n.length,Xn,zn),ur=0,dr=0;dr<_n.length;dr++){var fr=Un(qn,"delay",ur),vr=Un(qn,"time",0),mr=U[Un(qn,"mode","hold")],gr=Un(qn,"index",0);cr.setFrame(dr,vr,mr,gr,fr),ur=fr,qn=_n[dr+1]}i.push(cr)}}}}}if(t.drawOrder){for(var pr=new gt(t.drawOrder.length),wr=n.slots.length,br=0,yr=0;yr<t.drawOrder.length;yr++,br++){var xr=t.drawOrder[yr],Ar=null,Sr=Un(xr,"offsets",null);if(Sr){Ar=R.newArray(wr,-1);for(var Cr=R.newArray(wr-Sr.length,0),Mr=0,kr=0,Tr=0;Tr<Sr.length;Tr++){var Ir=Sr[Tr],Rr=n.findSlot(Ir.slot);if(!Rr)throw new Error("Slot not found: "+Rr);for(var Er=Rr.index;Mr!=Er;)Cr[kr++]=Mr++;Ar[Mr+Ir.offset]=Mr++}for(;Mr<wr;)Cr[kr++]=Mr++;for(var Fr=wr-1;Fr>=0;Fr--)-1==Ar[Fr]&&(Ar[Fr]=Cr[--kr])}pr.setFrame(br,Un(xr,"time",0),Ar)}i.push(pr)}if(t.events){for(var Pr=new mt(t.events.length),Lr=0,Br=0;Br<t.events.length;Br++,Lr++){var Yr=t.events[Br],Dr=n.findEvent(Yr.name);if(!Dr)throw new Error("Event not found: "+Yr.name);var Xr=new ye(R.toSinglePrecision(Un(Yr,"time",0)),Dr);Xr.intValue=Un(Yr,"int",Dr.intValue),Xr.floatValue=Un(Yr,"float",Dr.floatValue),Xr.stringValue=Un(Yr,"string",Dr.stringValue),Xr.data.audioPath&&(Xr.volume=Un(Yr,"volume",1),Xr.balance=Un(Yr,"balance",0)),Pr.setFrame(Lr,Xr)}i.push(Pr)}for(var Or=0,Vr=0,Nr=i.length;Vr<Nr;Vr++)Or=Math.max(Or,i[Vr].getDuration());n.animations.push(new G(e,i,Or))},t}(),Xn=function(t,e,n,r,i){this.parent=void 0,this.skin=void 0,this.slotIndex=void 0,this.mesh=void 0,this.inheritTimeline=void 0,this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r,this.inheritTimeline=i};function On(t,e,n,r){for(var i=t[0],a=Un(i,"time",0),s=Un(i,"value",n)*r,o=0,h=0;;h++){e.setFrame(h,a,s);var l=t[h+1];if(!l)return e.shrink(o),e;var c=Un(l,"time",0),u=Un(l,"value",n)*r;i.curve&&(o=Nn(i.curve,e,o,h,0,a,c,s,u,r)),a=c,s=u,i=l}}function Vn(t,e,n,r,i,a){for(var s=t[0],o=Un(s,"time",0),h=Un(s,n,i)*a,l=Un(s,r,i)*a,c=0,u=0;;u++){e.setFrame(u,o,h,l);var d=t[u+1];if(!d)return e.shrink(c),e;var f=Un(d,"time",0),v=Un(d,n,i)*a,m=Un(d,r,i)*a,g=s.curve;g&&(c=Nn(g,e,c,u,0,o,f,h,v,a),c=Nn(g,e,c,u,1,o,f,l,m,a)),o=f,h=v,l=m,s=d}}function Nn(t,e,n,r,i,a,s,o,h,l){if("stepped"==t)return e.setStepped(r),n;var c=i<<2,u=t[c],d=t[c+1]*l,f=t[c+2],v=t[c+3]*l;return e.setBezier(n,r,i,a,o,u,d,f,v,s,h),n+1}function Un(t,e,n){return void 0!==t[e]?t[e]:n}!function(){var t;"undefined"===typeof Math.fround&&(Math.fround=(t=new Float32Array(1),function(e){return t[0]=e,t[0]}))}();var Wn=function(){function t(t,e){var n=this;if(void 0===e&&(e={alpha:"true"}),this.canvas=void 0,this.gl=void 0,this.restorables=new Array,t instanceof WebGLRenderingContext||"undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext)this.gl=t,this.canvas=this.gl.canvas;else{var r=t;this.gl=r.getContext("webgl2",e)||r.getContext("webgl",e),this.canvas=r,r.addEventListener("webglcontextlost",(function(t){t&&t.preventDefault()})),r.addEventListener("webglcontextrestored",(function(t){for(var e=0,r=n.restorables.length;e<r;e++)n.restorables[e].restore()}))}}var e=t.prototype;return e.addRestorable=function(t){this.restorables.push(t)},e.removeRestorable=function(t){var e=this.restorables.indexOf(t);e>-1&&this.restorables.splice(e,1)},t}(),Gn=function(t){function e(e,n,r){var a;return void 0===r&&(r=!1),(a=t.call(this,n)||this).context=void 0,a.texture=null,a.boundUnit=0,a.useMipMaps=!1,a.context=e instanceof Wn?e:new Wn(e),a.useMipMaps=r,a.restore(),a.context.addRestorable((0,i.Z)(a)),a}(0,a.Z)(e,t);var n=e.prototype;return n.setFilters=function(t,n){var r=this.context.gl;this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e.validateMagFilter(n)),this.useMipMaps=e.usesMipMaps(t),this.useMipMaps&&r.generateMipmap(r.TEXTURE_2D)},e.validateMagFilter=function(t){switch(t){case 9987:case 9985:case 9986:case 9984:return 9729;default:return t}},e.usesMipMaps=function(t){switch(t){case 9987:case 9985:case 9986:case 9984:return!0;default:return!1}},n.setWraps=function(t,e){var n=this.context.gl;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e)},n.update=function(t){var n=this.context.gl;this.texture||(this.texture=this.context.gl.createTexture()),this.bind(),e.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,this._image),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,t?n.LINEAR_MIPMAP_LINEAR:n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),t&&n.generateMipmap(n.TEXTURE_2D)},n.restore=function(){this.texture=null,this.update(this.useMipMaps)},n.bind=function(t){void 0===t&&(t=0);var e=this.context.gl;this.boundUnit=t,e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.unbind=function(){var t=this.context.gl;t.activeTexture(t.TEXTURE0+this.boundUnit),t.bindTexture(t.TEXTURE_2D,null)},n.dispose=function(){this.context.removeRestorable(this),this.context.gl.deleteTexture(this.texture)},e}(Kt);d(Gn,"DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL",!1);var zn=function(t){function e(e,n,r){return void 0===n&&(n=""),void 0===r&&(r=new be),t.call(this,(function(t){return new Gn(e,t)}),n,r)||this}return(0,a.Z)(e,t),e}(we),Hn=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=0,this.y=0,this.z=0,this.x=t,this.y=e,this.z=n}var e=t.prototype;return e.setFrom=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},e.set=function(t,e,n){return this.x=t,this.y=e,this.z=n,this},e.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},e.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},e.scale=function(t){return this.x*=t,this.y*=t,this.z*=t,this},e.normalize=function(){var t=this.length();return 0==t||(t=1/t,this.x*=t,this.y*=t,this.z*=t),this},e.cross=function(t){return this.set(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},e.multiply=function(t){var e=t.values;return this.set(this.x*e[_n]+this.y*e[qn]+this.z*e[Zn]+e[jn],this.x*e[Kn]+this.y*e[Jn]+this.z*e[Qn]+e[$n],this.x*e[tr]+this.y*e[er]+this.z*e[nr]+e[rr])},e.project=function(t){var e=t.values,n=1/(this.x*e[ir]+this.y*e[ar]+this.z*e[sr]+e[or]);return this.set((this.x*e[_n]+this.y*e[qn]+this.z*e[Zn]+e[jn])*n,(this.x*e[Kn]+this.y*e[Jn]+this.z*e[Qn]+e[$n])*n,(this.x*e[tr]+this.y*e[er]+this.z*e[nr]+e[rr])*n)},e.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},e.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},e.distance=function(t){var e=t.x-this.x,n=t.y-this.y,r=t.z-this.z;return Math.sqrt(e*e+n*n+r*r)},t}(),_n=0,qn=4,Zn=8,jn=12,Kn=1,Jn=5,Qn=9,$n=13,tr=2,er=6,nr=10,rr=14,ir=3,ar=7,sr=11,or=15,hr=function(){function t(){this.temp=new Float32Array(16),this.values=new Float32Array(16);var t=this.values;t[_n]=1,t[Jn]=1,t[nr]=1,t[or]=1}var e=t.prototype;return e.set=function(t){return this.values.set(t),this},e.transpose=function(){var t=this.temp,e=this.values;return t[_n]=e[_n],t[qn]=e[Kn],t[Zn]=e[tr],t[jn]=e[ir],t[Kn]=e[qn],t[Jn]=e[Jn],t[Qn]=e[er],t[$n]=e[ar],t[tr]=e[Zn],t[er]=e[Qn],t[nr]=e[nr],t[rr]=e[sr],t[ir]=e[jn],t[ar]=e[$n],t[sr]=e[rr],t[or]=e[or],this.set(t)},e.identity=function(){var t=this.values;return t[_n]=1,t[qn]=0,t[Zn]=0,t[jn]=0,t[Kn]=0,t[Jn]=1,t[Qn]=0,t[$n]=0,t[tr]=0,t[er]=0,t[nr]=1,t[rr]=0,t[ir]=0,t[ar]=0,t[sr]=0,t[or]=1,this},e.invert=function(){var t=this.values,e=this.temp,n=t[ir]*t[er]*t[Qn]*t[jn]-t[tr]*t[ar]*t[Qn]*t[jn]-t[ir]*t[Jn]*t[nr]*t[jn]+t[Kn]*t[ar]*t[nr]*t[jn]+t[tr]*t[Jn]*t[sr]*t[jn]-t[Kn]*t[er]*t[sr]*t[jn]-t[ir]*t[er]*t[Zn]*t[$n]+t[tr]*t[ar]*t[Zn]*t[$n]+t[ir]*t[qn]*t[nr]*t[$n]-t[_n]*t[ar]*t[nr]*t[$n]-t[tr]*t[qn]*t[sr]*t[$n]+t[_n]*t[er]*t[sr]*t[$n]+t[ir]*t[Jn]*t[Zn]*t[rr]-t[Kn]*t[ar]*t[Zn]*t[rr]-t[ir]*t[qn]*t[Qn]*t[rr]+t[_n]*t[ar]*t[Qn]*t[rr]+t[Kn]*t[qn]*t[sr]*t[rr]-t[_n]*t[Jn]*t[sr]*t[rr]-t[tr]*t[Jn]*t[Zn]*t[or]+t[Kn]*t[er]*t[Zn]*t[or]+t[tr]*t[qn]*t[Qn]*t[or]-t[_n]*t[er]*t[Qn]*t[or]-t[Kn]*t[qn]*t[nr]*t[or]+t[_n]*t[Jn]*t[nr]*t[or];if(0==n)throw new Error("non-invertible matrix");var r=1/n;return e[_n]=t[Qn]*t[rr]*t[ar]-t[$n]*t[nr]*t[ar]+t[$n]*t[er]*t[sr]-t[Jn]*t[rr]*t[sr]-t[Qn]*t[er]*t[or]+t[Jn]*t[nr]*t[or],e[qn]=t[jn]*t[nr]*t[ar]-t[Zn]*t[rr]*t[ar]-t[jn]*t[er]*t[sr]+t[qn]*t[rr]*t[sr]+t[Zn]*t[er]*t[or]-t[qn]*t[nr]*t[or],e[Zn]=t[Zn]*t[$n]*t[ar]-t[jn]*t[Qn]*t[ar]+t[jn]*t[Jn]*t[sr]-t[qn]*t[$n]*t[sr]-t[Zn]*t[Jn]*t[or]+t[qn]*t[Qn]*t[or],e[jn]=t[jn]*t[Qn]*t[er]-t[Zn]*t[$n]*t[er]-t[jn]*t[Jn]*t[nr]+t[qn]*t[$n]*t[nr]+t[Zn]*t[Jn]*t[rr]-t[qn]*t[Qn]*t[rr],e[Kn]=t[$n]*t[nr]*t[ir]-t[Qn]*t[rr]*t[ir]-t[$n]*t[tr]*t[sr]+t[Kn]*t[rr]*t[sr]+t[Qn]*t[tr]*t[or]-t[Kn]*t[nr]*t[or],e[Jn]=t[Zn]*t[rr]*t[ir]-t[jn]*t[nr]*t[ir]+t[jn]*t[tr]*t[sr]-t[_n]*t[rr]*t[sr]-t[Zn]*t[tr]*t[or]+t[_n]*t[nr]*t[or],e[Qn]=t[jn]*t[Qn]*t[ir]-t[Zn]*t[$n]*t[ir]-t[jn]*t[Kn]*t[sr]+t[_n]*t[$n]*t[sr]+t[Zn]*t[Kn]*t[or]-t[_n]*t[Qn]*t[or],e[$n]=t[Zn]*t[$n]*t[tr]-t[jn]*t[Qn]*t[tr]+t[jn]*t[Kn]*t[nr]-t[_n]*t[$n]*t[nr]-t[Zn]*t[Kn]*t[rr]+t[_n]*t[Qn]*t[rr],e[tr]=t[Jn]*t[rr]*t[ir]-t[$n]*t[er]*t[ir]+t[$n]*t[tr]*t[ar]-t[Kn]*t[rr]*t[ar]-t[Jn]*t[tr]*t[or]+t[Kn]*t[er]*t[or],e[er]=t[jn]*t[er]*t[ir]-t[qn]*t[rr]*t[ir]-t[jn]*t[tr]*t[ar]+t[_n]*t[rr]*t[ar]+t[qn]*t[tr]*t[or]-t[_n]*t[er]*t[or],e[nr]=t[qn]*t[$n]*t[ir]-t[jn]*t[Jn]*t[ir]+t[jn]*t[Kn]*t[ar]-t[_n]*t[$n]*t[ar]-t[qn]*t[Kn]*t[or]+t[_n]*t[Jn]*t[or],e[rr]=t[jn]*t[Jn]*t[tr]-t[qn]*t[$n]*t[tr]-t[jn]*t[Kn]*t[er]+t[_n]*t[$n]*t[er]+t[qn]*t[Kn]*t[rr]-t[_n]*t[Jn]*t[rr],e[ir]=t[Qn]*t[er]*t[ir]-t[Jn]*t[nr]*t[ir]-t[Qn]*t[tr]*t[ar]+t[Kn]*t[nr]*t[ar]+t[Jn]*t[tr]*t[sr]-t[Kn]*t[er]*t[sr],e[ar]=t[qn]*t[nr]*t[ir]-t[Zn]*t[er]*t[ir]+t[Zn]*t[tr]*t[ar]-t[_n]*t[nr]*t[ar]-t[qn]*t[tr]*t[sr]+t[_n]*t[er]*t[sr],e[sr]=t[Zn]*t[Jn]*t[ir]-t[qn]*t[Qn]*t[ir]-t[Zn]*t[Kn]*t[ar]+t[_n]*t[Qn]*t[ar]+t[qn]*t[Kn]*t[sr]-t[_n]*t[Jn]*t[sr],e[or]=t[qn]*t[Qn]*t[tr]-t[Zn]*t[Jn]*t[tr]+t[Zn]*t[Kn]*t[er]-t[_n]*t[Qn]*t[er]-t[qn]*t[Kn]*t[nr]+t[_n]*t[Jn]*t[nr],t[_n]=e[_n]*r,t[qn]=e[qn]*r,t[Zn]=e[Zn]*r,t[jn]=e[jn]*r,t[Kn]=e[Kn]*r,t[Jn]=e[Jn]*r,t[Qn]=e[Qn]*r,t[$n]=e[$n]*r,t[tr]=e[tr]*r,t[er]=e[er]*r,t[nr]=e[nr]*r,t[rr]=e[rr]*r,t[ir]=e[ir]*r,t[ar]=e[ar]*r,t[sr]=e[sr]*r,t[or]=e[or]*r,this},e.determinant=function(){var t=this.values;return t[ir]*t[er]*t[Qn]*t[jn]-t[tr]*t[ar]*t[Qn]*t[jn]-t[ir]*t[Jn]*t[nr]*t[jn]+t[Kn]*t[ar]*t[nr]*t[jn]+t[tr]*t[Jn]*t[sr]*t[jn]-t[Kn]*t[er]*t[sr]*t[jn]-t[ir]*t[er]*t[Zn]*t[$n]+t[tr]*t[ar]*t[Zn]*t[$n]+t[ir]*t[qn]*t[nr]*t[$n]-t[_n]*t[ar]*t[nr]*t[$n]-t[tr]*t[qn]*t[sr]*t[$n]+t[_n]*t[er]*t[sr]*t[$n]+t[ir]*t[Jn]*t[Zn]*t[rr]-t[Kn]*t[ar]*t[Zn]*t[rr]-t[ir]*t[qn]*t[Qn]*t[rr]+t[_n]*t[ar]*t[Qn]*t[rr]+t[Kn]*t[qn]*t[sr]*t[rr]-t[_n]*t[Jn]*t[sr]*t[rr]-t[tr]*t[Jn]*t[Zn]*t[or]+t[Kn]*t[er]*t[Zn]*t[or]+t[tr]*t[qn]*t[Qn]*t[or]-t[_n]*t[er]*t[Qn]*t[or]-t[Kn]*t[qn]*t[nr]*t[or]+t[_n]*t[Jn]*t[nr]*t[or]},e.translate=function(t,e,n){var r=this.values;return r[jn]+=t,r[$n]+=e,r[rr]+=n,this},e.copy=function(){return(new t).set(this.values)},e.projection=function(t,e,n,r){this.identity();var i=1/Math.tan(n*(Math.PI/180)/2),a=(e+t)/(t-e),s=2*e*t/(t-e),o=this.values;return o[_n]=i/r,o[Kn]=0,o[tr]=0,o[ir]=0,o[qn]=0,o[Jn]=i,o[er]=0,o[ar]=0,o[Zn]=0,o[Qn]=0,o[nr]=a,o[sr]=-1,o[jn]=0,o[$n]=0,o[rr]=s,o[or]=0,this},e.ortho2d=function(t,e,n,r){return this.ortho(t,t+n,e,e+r,0,1)},e.ortho=function(t,e,n,r,i,a){this.identity();var s=2/(e-t),o=2/(r-n),h=-2/(a-i),l=-(e+t)/(e-t),c=-(r+n)/(r-n),u=-(a+i)/(a-i),d=this.values;return d[_n]=s,d[Kn]=0,d[tr]=0,d[ir]=0,d[qn]=0,d[Jn]=o,d[er]=0,d[ar]=0,d[Zn]=0,d[Qn]=0,d[nr]=h,d[sr]=0,d[jn]=l,d[$n]=c,d[rr]=u,d[or]=1,this},e.multiply=function(t){var e=this.temp,n=this.values,r=t.values;return e[_n]=n[_n]*r[_n]+n[qn]*r[Kn]+n[Zn]*r[tr]+n[jn]*r[ir],e[qn]=n[_n]*r[qn]+n[qn]*r[Jn]+n[Zn]*r[er]+n[jn]*r[ar],e[Zn]=n[_n]*r[Zn]+n[qn]*r[Qn]+n[Zn]*r[nr]+n[jn]*r[sr],e[jn]=n[_n]*r[jn]+n[qn]*r[$n]+n[Zn]*r[rr]+n[jn]*r[or],e[Kn]=n[Kn]*r[_n]+n[Jn]*r[Kn]+n[Qn]*r[tr]+n[$n]*r[ir],e[Jn]=n[Kn]*r[qn]+n[Jn]*r[Jn]+n[Qn]*r[er]+n[$n]*r[ar],e[Qn]=n[Kn]*r[Zn]+n[Jn]*r[Qn]+n[Qn]*r[nr]+n[$n]*r[sr],e[$n]=n[Kn]*r[jn]+n[Jn]*r[$n]+n[Qn]*r[rr]+n[$n]*r[or],e[tr]=n[tr]*r[_n]+n[er]*r[Kn]+n[nr]*r[tr]+n[rr]*r[ir],e[er]=n[tr]*r[qn]+n[er]*r[Jn]+n[nr]*r[er]+n[rr]*r[ar],e[nr]=n[tr]*r[Zn]+n[er]*r[Qn]+n[nr]*r[nr]+n[rr]*r[sr],e[rr]=n[tr]*r[jn]+n[er]*r[$n]+n[nr]*r[rr]+n[rr]*r[or],e[ir]=n[ir]*r[_n]+n[ar]*r[Kn]+n[sr]*r[tr]+n[or]*r[ir],e[ar]=n[ir]*r[qn]+n[ar]*r[Jn]+n[sr]*r[er]+n[or]*r[ar],e[sr]=n[ir]*r[Zn]+n[ar]*r[Qn]+n[sr]*r[nr]+n[or]*r[sr],e[or]=n[ir]*r[jn]+n[ar]*r[$n]+n[sr]*r[rr]+n[or]*r[or],this.set(this.temp)},e.multiplyLeft=function(t){var e=this.temp,n=this.values,r=t.values;return e[_n]=r[_n]*n[_n]+r[qn]*n[Kn]+r[Zn]*n[tr]+r[jn]*n[ir],e[qn]=r[_n]*n[qn]+r[qn]*n[Jn]+r[Zn]*n[er]+r[jn]*n[ar],e[Zn]=r[_n]*n[Zn]+r[qn]*n[Qn]+r[Zn]*n[nr]+r[jn]*n[sr],e[jn]=r[_n]*n[jn]+r[qn]*n[$n]+r[Zn]*n[rr]+r[jn]*n[or],e[Kn]=r[Kn]*n[_n]+r[Jn]*n[Kn]+r[Qn]*n[tr]+r[$n]*n[ir],e[Jn]=r[Kn]*n[qn]+r[Jn]*n[Jn]+r[Qn]*n[er]+r[$n]*n[ar],e[Qn]=r[Kn]*n[Zn]+r[Jn]*n[Qn]+r[Qn]*n[nr]+r[$n]*n[sr],e[$n]=r[Kn]*n[jn]+r[Jn]*n[$n]+r[Qn]*n[rr]+r[$n]*n[or],e[tr]=r[tr]*n[_n]+r[er]*n[Kn]+r[nr]*n[tr]+r[rr]*n[ir],e[er]=r[tr]*n[qn]+r[er]*n[Jn]+r[nr]*n[er]+r[rr]*n[ar],e[nr]=r[tr]*n[Zn]+r[er]*n[Qn]+r[nr]*n[nr]+r[rr]*n[sr],e[rr]=r[tr]*n[jn]+r[er]*n[$n]+r[nr]*n[rr]+r[rr]*n[or],e[ir]=r[ir]*n[_n]+r[ar]*n[Kn]+r[sr]*n[tr]+r[or]*n[ir],e[ar]=r[ir]*n[qn]+r[ar]*n[Jn]+r[sr]*n[er]+r[or]*n[ar],e[sr]=r[ir]*n[Zn]+r[ar]*n[Qn]+r[sr]*n[nr]+r[or]*n[sr],e[or]=r[ir]*n[jn]+r[ar]*n[$n]+r[sr]*n[rr]+r[or]*n[or],this.set(this.temp)},e.lookAt=function(e,n,r){var i=t.xAxis,a=t.yAxis,s=t.zAxis;s.setFrom(n).normalize(),i.setFrom(n).normalize(),i.cross(r).normalize(),a.setFrom(i).cross(s).normalize(),this.identity();var o=this.values;return o[_n]=i.x,o[qn]=i.y,o[Zn]=i.z,o[Kn]=a.x,o[Jn]=a.y,o[Qn]=a.z,o[tr]=-s.x,o[er]=-s.y,o[nr]=-s.z,t.tmpMatrix.identity(),t.tmpMatrix.values[jn]=-e.x,t.tmpMatrix.values[$n]=-e.y,t.tmpMatrix.values[rr]=-e.z,this.multiply(t.tmpMatrix),this},t}(),lr=hr;d(lr,"xAxis",new Hn),d(lr,"yAxis",new Hn),d(lr,"zAxis",new Hn),d(lr,"tmpMatrix",new hr);var cr=function(){function t(t,e){this.position=new Hn(0,0,0),this.direction=new Hn(0,0,-1),this.up=new Hn(0,1,0),this.near=0,this.far=100,this.zoom=1,this.viewportWidth=0,this.viewportHeight=0,this.projectionView=new lr,this.inverseProjectionView=new lr,this.projection=new lr,this.view=new lr,this.viewportWidth=t,this.viewportHeight=e,this.update()}var e=t.prototype;return e.update=function(){var t=this.projection,e=this.view,n=this.projectionView,r=this.inverseProjectionView,i=this.zoom,a=this.viewportWidth,s=this.viewportHeight;t.ortho(i*(-a/2),i*(a/2),i*(-s/2),i*(s/2),this.near,this.far),e.lookAt(this.position,this.direction,this.up),n.set(t.values),n.multiply(e),r.set(n.values).invert()},e.screenToWorld=function(t,e,n){var r=t.x,i=n-t.y-1;return t.x=2*r/e-1,t.y=2*i/n-1,t.z=2*t.z-1,t.project(this.inverseProjectionView),t},e.worldToScreen=function(t,e,n){return t.project(this.projectionView),t.x=e*(t.x+1)/2,t.y=n*(t.y+1)/2,t.z=(t.z+1)/2,t},e.setViewport=function(t,e){this.viewportWidth=t,this.viewportHeight=e},t}(),ur=function(){function t(t){this.element=void 0,this.mouseX=0,this.mouseY=0,this.buttonDown=!1,this.touch0=null,this.touch1=null,this.initialPinchDistance=0,this.listeners=new Array,this.eventListeners=[],this.element=t,this.setupCallbacks(t)}var e=t.prototype;return e.setupCallbacks=function(t){var e=this,n=function(n){if(n instanceof MouseEvent){var r=t.getBoundingClientRect();e.mouseX=n.clientX-r.left,e.mouseY=n.clientY-r.top,e.listeners.map((function(t){e.buttonDown?t.dragged&&t.dragged(e.mouseX,e.mouseY):t.moved&&t.moved(e.mouseX,e.mouseY)}))}},r=function r(i){if(i instanceof MouseEvent){var a=t.getBoundingClientRect();e.mouseX=i.clientX-a.left,e.mouseY=i.clientY-a.top,e.buttonDown=!1,e.listeners.map((function(t){t.up&&t.up(e.mouseX,e.mouseY)})),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r)}};t.addEventListener("mousedown",(function(i){if(i instanceof MouseEvent){var a=t.getBoundingClientRect();e.mouseX=i.clientX-a.left,e.mouseY=i.clientY-a.top,e.buttonDown=!0,e.listeners.map((function(t){t.down&&t.down(e.mouseX,e.mouseY)})),document.addEventListener("mousemove",n),document.addEventListener("mouseup",r)}}),!0),t.addEventListener("mousemove",n,!0),t.addEventListener("mouseup",r,!0),t.addEventListener("wheel",(function(t){t.preventDefault();t.deltaY;t.deltaMode,WheelEvent.DOM_DELTA_LINE,t.deltaMode,WheelEvent.DOM_DELTA_PAGE,e.listeners.map((function(e){e.wheel&&e.wheel(t.deltaY)}))}),!0),t.addEventListener("touchstart",(function(n){if(!e.touch0||!e.touch1){var r=n.changedTouches.item(0);if(!r)return;var i=t.getBoundingClientRect(),a=r.clientX-i.left,s=r.clientY-i.top,o=new dr(r.identifier,a,s);if(e.mouseX=a,e.mouseY=s,e.buttonDown=!0,e.touch0){if(!e.touch1){e.touch1=o;var h=e.touch1.x-e.touch0.x,l=e.touch1.x-e.touch0.x;e.initialPinchDistance=Math.sqrt(h*h+l*l),e.listeners.map((function(t){t.zoom&&t.zoom(e.initialPinchDistance,e.initialPinchDistance)}))}}else e.touch0=o,e.listeners.map((function(t){t.down&&t.down(o.x,o.y)}))}n.preventDefault()}),!1),t.addEventListener("touchmove",(function(n){if(e.touch0){for(var r,i=n.changedTouches,a=t.getBoundingClientRect(),s=function(){var t=(r=i[o]).clientX-a.left,n=r.clientY-a.top;e.touch0.identifier===r.identifier&&(e.touch0.x=e.mouseX=t,e.touch0.y=e.mouseY=n,e.listeners.map((function(e){e.dragged&&e.dragged(t,n)}))),e.touch1&&e.touch1.identifier===r.identifier&&(e.touch1.x=e.mouseX=t,e.touch1.y=e.mouseY=n)},o=0;o<i.length;o++)s();if(e.touch0&&e.touch1){var h=e.touch1.x-e.touch0.x,l=e.touch1.x-e.touch0.x,c=Math.sqrt(h*h+l*l);e.listeners.map((function(t){t.zoom&&t.zoom(e.initialPinchDistance,c)}))}}n.preventDefault()}),!1);var i=function(n){if(e.touch0)for(var r,i=n.changedTouches,a=t.getBoundingClientRect(),s=function(){var t=(r=i[o]).clientX-a.left,n=r.clientY-a.top;if(e.touch0.identifier===r.identifier){if(e.touch0=null,e.mouseX=t,e.mouseY=n,e.listeners.map((function(e){e.up&&e.up(t,n)})),!e.touch1)return e.buttonDown=!1,1;e.touch0=e.touch1,e.touch1=null,e.mouseX=e.touch0.x,e.mouseX=e.touch0.x,e.buttonDown=!0,e.listeners.map((function(t){t.down&&t.down(e.touch0.x,e.touch0.y)}))}e.touch1&&e.touch1.identifier&&(e.touch1=null)},o=0;o<i.length&&!s();o++);n.preventDefault()};t.addEventListener("touchend",i,!1),t.addEventListener("touchcancel",i)},e.addListener=function(t){this.listeners.push(t)},e.removeListener=function(t){var e=this.listeners.indexOf(t);e>-1&&this.listeners.splice(e,1)},t}(),dr=function(t,e,n){this.identifier=t,this.x=e,this.y=n},fr=function(t,e){this.canvas=t,this.camera=e;var n=0,r=0,i=0,a=0,s=0,o=0,h=0;new ur(t).addListener({down:function(t,l){n=e.position.x,r=e.position.y,i=s=t,a=o=l,h=e.zoom},dragged:function(h,l){var c=h-i,u=l-a,d=e.screenToWorld(new Hn(0,0),t.clientWidth,t.clientHeight),f=e.screenToWorld(new Hn(c,u),t.clientWidth,t.clientHeight).sub(d);e.position.set(n-f.x,r-f.y,0),e.update(),s=h,o=l},wheel:function(n){var r=n/200*e.zoom,i=e.zoom+r;if(i>0){var a=0,h=0;if(n<0)a=s,h=o;else{var l=new Hn(t.clientWidth/2+15,t.clientHeight/2),c=s-l.x,u=t.clientHeight-1-o-l.y;a=l.x-c,h=t.clientHeight-1-l.y+u}var d=e.screenToWorld(new Hn(a,h),t.clientWidth,t.clientHeight);e.zoom=i,e.update();var f=e.screenToWorld(new Hn(a,h),t.clientWidth,t.clientHeight);e.position.add(d.sub(f)),e.update()}},zoom:function(t,n){var r=t/n;e.zoom=h*r},up:function(t,e){s=t,o=e},moved:function(t,e){s=t,o=e}})},vr=function(){function t(t,e,n){this.context=void 0,this.vs=null,this.vsSource=void 0,this.fs=null,this.fsSource=void 0,this.program=null,this.tmp2x2=new Float32Array(4),this.tmp3x3=new Float32Array(9),this.tmp4x4=new Float32Array(16),this.vertexShader=e,this.fragmentShader=n,this.vsSource=e,this.fsSource=n,this.context=t instanceof Wn?t:new Wn(t),this.context.addRestorable(this),this.compile()}var e=t.prototype;return e.getProgram=function(){return this.program},e.getVertexShader=function(){return this.vertexShader},e.getFragmentShader=function(){return this.fragmentShader},e.getVertexShaderSource=function(){return this.vsSource},e.getFragmentSource=function(){return this.fsSource},e.compile=function(){var t=this.context.gl;try{if(this.vs=this.compileShader(t.VERTEX_SHADER,this.vertexShader),!this.vs)throw new Error("Couldn't compile vertex shader.");if(this.fs=this.compileShader(t.FRAGMENT_SHADER,this.fragmentShader),!this.fs)throw new Error("Couldn#t compile fragment shader.");this.program=this.compileProgram(this.vs,this.fs)}catch(e){throw this.dispose(),e}},e.compileShader=function(t,e){var n=this.context.gl,r=n.createShader(t);if(!r)throw new Error("Couldn't create shader.");if(n.shaderSource(r,e),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS)){var i="Couldn't compile shader: "+n.getShaderInfoLog(r);if(n.deleteShader(r),!n.isContextLost())throw new Error(i)}return r},e.compileProgram=function(t,e){var n=this.context.gl,r=n.createProgram();if(!r)throw new Error("Couldn't compile program.");if(n.attachShader(r,t),n.attachShader(r,e),n.linkProgram(r),!n.getProgramParameter(r,n.LINK_STATUS)){var i="Couldn't compile shader program: "+n.getProgramInfoLog(r);if(n.deleteProgram(r),!n.isContextLost())throw new Error(i)}return r},e.restore=function(){this.compile()},e.bind=function(){this.context.gl.useProgram(this.program)},e.unbind=function(){this.context.gl.useProgram(null)},e.setUniformi=function(t,e){this.context.gl.uniform1i(this.getUniformLocation(t),e)},e.setUniformf=function(t,e){this.context.gl.uniform1f(this.getUniformLocation(t),e)},e.setUniform2f=function(t,e,n){this.context.gl.uniform2f(this.getUniformLocation(t),e,n)},e.setUniform3f=function(t,e,n,r){this.context.gl.uniform3f(this.getUniformLocation(t),e,n,r)},e.setUniform4f=function(t,e,n,r,i){this.context.gl.uniform4f(this.getUniformLocation(t),e,n,r,i)},e.setUniform2x2f=function(t,e){var n=this.context.gl;this.tmp2x2.set(e),n.uniformMatrix2fv(this.getUniformLocation(t),!1,this.tmp2x2)},e.setUniform3x3f=function(t,e){var n=this.context.gl;this.tmp3x3.set(e),n.uniformMatrix3fv(this.getUniformLocation(t),!1,this.tmp3x3)},e.setUniform4x4f=function(t,e){var n=this.context.gl;this.tmp4x4.set(e),n.uniformMatrix4fv(this.getUniformLocation(t),!1,this.tmp4x4)},e.getUniformLocation=function(t){var e=this.context.gl;if(!this.program)throw new Error("Shader not compiled.");var n=e.getUniformLocation(this.program,t);if(!n&&!e.isContextLost())throw new Error("Couldn't find location for uniform "+t);return n},e.getAttributeLocation=function(t){var e=this.context.gl;if(!this.program)throw new Error("Shader not compiled.");var n=e.getAttribLocation(this.program,t);if(-1==n&&!e.isContextLost())throw new Error("Couldn't find location for attribute "+t);return n},e.dispose=function(){this.context.removeRestorable(this);var t=this.context.gl;this.vs&&(t.deleteShader(this.vs),this.vs=null),this.fs&&(t.deleteShader(this.fs),this.fs=null),this.program&&(t.deleteProgram(this.program),this.program=null)},t.newColoredTextured=function(e){return new t(e,"\nattribute vec4 "+t.POSITION+";\nattribute vec4 "+t.COLOR+";\nattribute vec2 "+t.TEXCOORDS+";\nuniform mat4 "+t.MVP_MATRIX+";\nvarying vec4 v_color;\nvarying vec2 v_texCoords;\n\nvoid main () {\n\tv_color = "+t.COLOR+";\n\tv_texCoords = "+t.TEXCOORDS+";\n\tgl_Position = "+t.MVP_MATRIX+" * "+t.POSITION+";\n}\n","\n#ifdef GL_ES\n\t#define LOWP lowp\n\tprecision mediump float;\n#else\n\t#define LOWP\n#endif\nvarying LOWP vec4 v_color;\nvarying vec2 v_texCoords;\nuniform sampler2D u_texture;\n\nvoid main () {\n\tgl_FragColor = v_color * texture2D(u_texture, v_texCoords);\n}\n")},t.newTwoColoredTextured=function(e){return new t(e,"\nattribute vec4 "+t.POSITION+";\nattribute vec4 "+t.COLOR+";\nattribute vec4 "+t.COLOR2+";\nattribute vec2 "+t.TEXCOORDS+";\nuniform mat4 "+t.MVP_MATRIX+";\nvarying vec4 v_light;\nvarying vec4 v_dark;\nvarying vec2 v_texCoords;\n\nvoid main () {\n\tv_light = "+t.COLOR+";\n\tv_dark = "+t.COLOR2+";\n\tv_texCoords = "+t.TEXCOORDS+";\n\tgl_Position = "+t.MVP_MATRIX+" * "+t.POSITION+";\n}\n","\n#ifdef GL_ES\n\t#define LOWP lowp\n\tprecision mediump float;\n#else\n\t#define LOWP\n#endif\nvarying LOWP vec4 v_light;\nvarying LOWP vec4 v_dark;\nvarying vec2 v_texCoords;\nuniform sampler2D u_texture;\n\nvoid main () {\n\tvec4 texColor = texture2D(u_texture, v_texCoords);\n\tgl_FragColor.a = texColor.a * v_light.a;\n\tgl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;\n}\n")},t.newColored=function(e){return new t(e,"\nattribute vec4 "+t.POSITION+";\nattribute vec4 "+t.COLOR+";\nuniform mat4 "+t.MVP_MATRIX+";\nvarying vec4 v_color;\n\nvoid main () {\n\tv_color = "+t.COLOR+";\n\tgl_Position = "+t.MVP_MATRIX+" * "+t.POSITION+";\n}\n","\n#ifdef GL_ES\n\t#define LOWP lowp\n\tprecision mediump float;\n#else\n\t#define LOWP\n#endif\nvarying LOWP vec4 v_color;\n\nvoid main () {\n\tgl_FragColor = v_color;\n}\n")},t}();d(vr,"MVP_MATRIX","u_projTrans"),d(vr,"POSITION","a_position"),d(vr,"COLOR","a_color"),d(vr,"COLOR2","a_color2"),d(vr,"TEXCOORDS","a_texCoords"),d(vr,"SAMPLER","u_texture");var mr,gr=function(){function t(t,e,n,r){this.context=void 0,this.vertices=void 0,this.verticesBuffer=null,this.verticesLength=0,this.dirtyVertices=!1,this.indices=void 0,this.indicesBuffer=null,this.indicesLength=0,this.dirtyIndices=!1,this.elementsPerVertex=0,this.attributes=e,this.context=t instanceof Wn?t:new Wn(t),this.elementsPerVertex=0;for(var i=0;i<e.length;i++)this.elementsPerVertex+=e[i].numElements;this.vertices=new Float32Array(n*this.elementsPerVertex),this.indices=new Uint16Array(r),this.context.addRestorable(this)}var e=t.prototype;return e.getAttributes=function(){return this.attributes},e.maxVertices=function(){return this.vertices.length/this.elementsPerVertex},e.numVertices=function(){return this.verticesLength/this.elementsPerVertex},e.setVerticesLength=function(t){this.dirtyVertices=!0,this.verticesLength=t},e.getVertices=function(){return this.vertices},e.maxIndices=function(){return this.indices.length},e.numIndices=function(){return this.indicesLength},e.setIndicesLength=function(t){this.dirtyIndices=!0,this.indicesLength=t},e.getIndices=function(){return this.indices},e.getVertexSizeInFloats=function(){for(var t=0,e=0;e<this.attributes.length;e++){t+=this.attributes[e].numElements}return t},e.setVertices=function(t){if(this.dirtyVertices=!0,t.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(t,0),this.verticesLength=t.length},e.setIndices=function(t){if(this.dirtyIndices=!0,t.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(t,0),this.indicesLength=t.length},e.draw=function(t,e){this.drawWithOffset(t,e,0,this.indicesLength>0?this.indicesLength:this.verticesLength/this.elementsPerVertex)},e.drawWithOffset=function(t,e,n,r){var i=this.context.gl;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(t),this.indicesLength>0?i.drawElements(e,r,i.UNSIGNED_SHORT,2*n):i.drawArrays(e,n,r),this.unbind(t)},e.bind=function(t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer);for(var n=0,r=0;r<this.attributes.length;r++){var i=this.attributes[r],a=t.getAttributeLocation(i.name);e.enableVertexAttribArray(a),e.vertexAttribPointer(a,i.numElements,e.FLOAT,!1,4*this.elementsPerVertex,4*n),n+=i.numElements}this.indicesLength>0&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)},e.unbind=function(t){for(var e=this.context.gl,n=0;n<this.attributes.length;n++){var r=this.attributes[n],i=t.getAttributeLocation(r.name);e.disableVertexAttribArray(i)}e.bindBuffer(e.ARRAY_BUFFER,null),this.indicesLength>0&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},e.update=function(){var t=this.context.gl;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,this.verticesBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),t.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),t.DYNAMIC_DRAW),this.dirtyIndices=!1)},e.restore=function(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()},e.dispose=function(){this.context.removeRestorable(this);var t=this.context.gl;t.deleteBuffer(this.verticesBuffer),t.deleteBuffer(this.indicesBuffer)},t}(),pr=function(t,e,n){this.name=t,this.type=e,this.numElements=n},wr=function(t){function e(){return t.call(this,vr.POSITION,Sr.Float,2)||this}return(0,a.Z)(e,t),e}(pr),br=function(t){function e(){return t.call(this,vr.POSITION,Sr.Float,3)||this}return(0,a.Z)(e,t),e}(pr),yr=function(t){function e(e){return void 0===e&&(e=0),t.call(this,vr.TEXCOORDS+(0==e?"":e),Sr.Float,2)||this}return(0,a.Z)(e,t),e}(pr),xr=function(t){function e(){return t.call(this,vr.COLOR,Sr.Float,4)||this}return(0,a.Z)(e,t),e}(pr),Ar=function(t){function e(){return t.call(this,vr.COLOR2,Sr.Float,4)||this}return(0,a.Z)(e,t),e}(pr),Sr=((mr=Sr||{})[mr.Float=0]="Float",mr),Cr=function(){function t(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=10920),this.context=void 0,this.drawCalls=0,this.isDrawing=!1,this.mesh=void 0,this.shader=null,this.lastTexture=null,this.verticesLength=0,this.indicesLength=0,this.srcColorBlend=void 0,this.srcAlphaBlend=void 0,this.dstBlend=void 0,this.cullWasEnabled=!1,n>10920)throw new Error("Can't have more than 10920 triangles per batch: "+n);this.context=t instanceof Wn?t:new Wn(t);var r=e?[new wr,new xr,new yr,new Ar]:[new wr,new xr,new yr];this.mesh=new gr(t,r,n,3*n);var i=this.context.gl;this.srcColorBlend=i.SRC_ALPHA,this.srcAlphaBlend=i.ONE,this.dstBlend=i.ONE_MINUS_SRC_ALPHA}var e=t.prototype;return e.begin=function(e){if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0,this.shader=e,this.lastTexture=null,this.isDrawing=!0;var n=this.context.gl;n.enable(n.BLEND),n.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend),t.disableCulling&&(this.cullWasEnabled=n.isEnabled(n.CULL_FACE),this.cullWasEnabled&&n.disable(n.CULL_FACE))},e.setBlendMode=function(e,n){var r=t.blendModesGL[e],i=n?r.srcRgbPma:r.srcRgb,a=r.srcAlpha,s=r.dstRgb;this.srcColorBlend==i&&this.srcAlphaBlend==a&&this.dstBlend==s||(this.srcColorBlend=i,this.srcAlphaBlend=a,this.dstBlend=s,this.isDrawing&&this.flush(),this.context.gl.blendFuncSeparate(i,s,a,s))},e.draw=function(t,e,n){t!=this.lastTexture?(this.flush(),this.lastTexture=t):(this.verticesLength+e.length>this.mesh.getVertices().length||this.indicesLength+n.length>this.mesh.getIndices().length)&&this.flush();var r=this.mesh.numVertices();this.mesh.getVertices().set(e,this.verticesLength),this.verticesLength+=e.length,this.mesh.setVerticesLength(this.verticesLength);for(var i=this.mesh.getIndices(),a=this.indicesLength,s=0;s<n.length;a++,s++)i[a]=n[s]+r;this.indicesLength+=n.length,this.mesh.setIndicesLength(this.indicesLength)},e.flush=function(){if(0!=this.verticesLength){if(!this.lastTexture)throw new Error("No texture set.");if(!this.shader)throw new Error("No shader set.");this.lastTexture.bind(),this.mesh.draw(this.shader,this.context.gl.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++,t.globalDrawCalls++}},e.end=function(){if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this.verticesLength>0||this.indicesLength>0)&&this.flush(),this.shader=null,this.lastTexture=null,this.isDrawing=!1;var e=this.context.gl;e.disable(e.BLEND),t.disableCulling&&this.cullWasEnabled&&e.enable(e.CULL_FACE)},e.getDrawCalls=function(){return this.drawCalls},t.getAndResetGlobalDrawCalls=function(){var e=t.globalDrawCalls;return t.globalDrawCalls=0,e},e.dispose=function(){this.mesh.dispose()},t}();d(Cr,"disableCulling",!1),d(Cr,"globalDrawCalls",0),d(Cr,"blendModesGL",[{srcRgb:770,srcRgbPma:1,dstRgb:771,srcAlpha:1},{srcRgb:770,srcRgbPma:1,dstRgb:1,srcAlpha:1},{srcRgb:774,srcRgbPma:774,dstRgb:771,srcAlpha:1},{srcRgb:1,srcRgbPma:1,dstRgb:769,srcAlpha:1}]);var Mr,kr=function(){function t(t,e){if(void 0===e&&(e=10920),this.context=void 0,this.isDrawing=!1,this.mesh=void 0,this.shapeType=Tr.Filled,this.color=new S(1,1,1,1),this.shader=null,this.vertexIndex=0,this.tmp=new P,this.srcColorBlend=void 0,this.srcAlphaBlend=void 0,this.dstBlend=void 0,e>10920)throw new Error("Can't have more than 10920 triangles per batch: "+e);this.context=t instanceof Wn?t:new Wn(t),this.mesh=new gr(t,[new wr,new xr],e,0);var n=this.context.gl;this.srcColorBlend=n.SRC_ALPHA,this.srcAlphaBlend=n.ONE,this.dstBlend=n.ONE_MINUS_SRC_ALPHA}var e=t.prototype;return e.begin=function(t){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.shader=t,this.vertexIndex=0,this.isDrawing=!0;var e=this.context.gl;e.enable(e.BLEND),e.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend)},e.setBlendMode=function(t,e,n){(this.srcColorBlend=t,this.srcAlphaBlend=e,this.dstBlend=n,this.isDrawing)&&(this.flush(),this.context.gl.blendFuncSeparate(t,n,e,n))},e.setColor=function(t){this.color.setFromColor(t)},e.setColorWith=function(t,e,n,r){this.color.set(t,e,n,r)},e.point=function(t,e,n){this.check(Tr.Point,1),n||(n=this.color),this.vertex(t,e,n)},e.line=function(t,e,n,r,i){this.check(Tr.Line,2);this.mesh.getVertices(),this.vertexIndex;i||(i=this.color),this.vertex(t,e,i),this.vertex(n,r,i)},e.triangle=function(t,e,n,r,i,a,s,o,h,l){this.check(t?Tr.Filled:Tr.Line,3);this.mesh.getVertices(),this.vertexIndex;o||(o=this.color),h||(h=this.color),l||(l=this.color),t?(this.vertex(e,n,o),this.vertex(r,i,h),this.vertex(a,s,l)):(this.vertex(e,n,o),this.vertex(r,i,h),this.vertex(r,i,o),this.vertex(a,s,h),this.vertex(a,s,o),this.vertex(e,n,h))},e.quad=function(t,e,n,r,i,a,s,o,h,l,c,u,d){this.check(t?Tr.Filled:Tr.Line,3);this.mesh.getVertices(),this.vertexIndex;l||(l=this.color),c||(c=this.color),u||(u=this.color),d||(d=this.color),t?(this.vertex(e,n,l),this.vertex(r,i,c),this.vertex(a,s,u),this.vertex(a,s,u),this.vertex(o,h,d),this.vertex(e,n,l)):(this.vertex(e,n,l),this.vertex(r,i,c),this.vertex(r,i,c),this.vertex(a,s,u),this.vertex(a,s,u),this.vertex(o,h,d),this.vertex(o,h,d),this.vertex(e,n,l))},e.rect=function(t,e,n,r,i,a){this.quad(t,e,n,e+r,n,e+r,n+i,e,n+i,a,a,a,a)},e.rectLine=function(t,e,n,r,i,a,s){this.check(t?Tr.Filled:Tr.Line,8),s||(s=this.color);var o=this.tmp.set(i-n,e-r);o.normalize(),a*=.5;var h=o.x*a,l=o.y*a;t?(this.vertex(e+h,n+l,s),this.vertex(e-h,n-l,s),this.vertex(r+h,i+l,s),this.vertex(r-h,i-l,s),this.vertex(r+h,i+l,s),this.vertex(e-h,n-l,s)):(this.vertex(e+h,n+l,s),this.vertex(e-h,n-l,s),this.vertex(r+h,i+l,s),this.vertex(r-h,i-l,s),this.vertex(r+h,i+l,s),this.vertex(e+h,n+l,s),this.vertex(r-h,i-l,s),this.vertex(e-h,n-l,s))},e.x=function(t,e,n){this.line(t-n,e-n,t+n,e+n),this.line(t-n,e+n,t+n,e-n)},e.polygon=function(t,e,n,r){if(n<3)throw new Error("Polygon must contain at least 3 vertices");this.check(Tr.Line,2*n),r||(r=this.color);this.mesh.getVertices(),this.vertexIndex;n<<=1;for(var i=t[e<<=1],a=t[e+1],s=e+n,o=e,h=e+n-2;o<h;o+=2){var l=t[o],c=t[o+1],u=0,d=0;o+2>=s?(u=i,d=a):(u=t[o+2],d=t[o+3]),this.vertex(l,c,r),this.vertex(u,d,r)}},e.circle=function(t,e,n,r,i,a){if(void 0===a&&(a=0),0==a&&(a=Math.max(1,6*M.cbrt(r)|0)),a<=0)throw new Error("segments must be > 0.");i||(i=this.color);var s=2*M.PI/a,o=Math.cos(s),h=Math.sin(s),l=r,c=0;if(t){this.check(Tr.Filled,3*a+3),a--;for(var u=0;u<a;u++){this.vertex(e,n,i),this.vertex(e+l,n+c,i);var d=l;l=o*l-h*c,c=h*d+o*c,this.vertex(e+l,n+c,i)}this.vertex(e,n,i),this.vertex(e+l,n+c,i)}else{this.check(Tr.Line,2*a+2);for(var f=0;f<a;f++){this.vertex(e+l,n+c,i);var v=l;l=o*l-h*c,c=h*v+o*c,this.vertex(e+l,n+c,i)}this.vertex(e+l,n+c,i)}l=r,c=0,this.vertex(e+l,n+c,i)},e.curve=function(t,e,n,r,i,a,s,o,h,l){this.check(Tr.Line,2*h+2),l||(l=this.color);for(var c=1/h,u=c*c,d=c*c*c,f=3*c,v=3*u,m=6*u,g=6*d,p=t-2*n+i,w=e-2*r+a,b=3*(n-i)-t+s,y=3*(r-a)-e+o,x=t,A=e,S=(n-t)*f+p*v+b*d,C=(r-e)*f+w*v+y*d,M=p*m+b*g,k=w*m+y*g,T=b*g,I=y*g;h-- >0;)this.vertex(x,A,l),x+=S,A+=C,S+=M,C+=k,M+=T,k+=I,this.vertex(x,A,l);this.vertex(x,A,l),this.vertex(s,o,l)},e.vertex=function(t,e,n){var r=this.vertexIndex,i=this.mesh.getVertices();i[r++]=t,i[r++]=e,i[r++]=n.r,i[r++]=n.g,i[r++]=n.b,i[r++]=n.a,this.vertexIndex=r},e.end=function(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush();var t=this.context.gl;t.disable(t.BLEND),this.isDrawing=!1},e.flush=function(){if(0!=this.vertexIndex){if(!this.shader)throw new Error("No shader set.");this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0}},e.check=function(t,e){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType==t){if(!(this.mesh.maxVertices()-this.mesh.numVertices()<e))return;this.flush()}else this.flush(),this.shapeType=t},e.dispose=function(){this.mesh.dispose()},t}(),Tr=((Mr=Tr||{})[Mr.Point=0]="Point",Mr[Mr.Line=1]="Line",Mr[Mr.Filled=4]="Filled",Mr),Ir=function(){function t(t){this.boneLineColor=new S(1,0,0,1),this.boneOriginColor=new S(0,1,0,1),this.attachmentLineColor=new S(0,0,1,.5),this.triangleLineColor=new S(1,.64,0,.5),this.pathColor=(new S).setFromString("FF7F00"),this.clipColor=new S(.8,0,0,2),this.aabbColor=new S(0,1,0,.5),this.drawBones=!0,this.drawRegionAttachments=!0,this.drawBoundingBoxes=!0,this.drawMeshHull=!0,this.drawMeshTriangles=!0,this.drawPaths=!0,this.drawSkeletonXY=!1,this.drawClipping=!0,this.premultipliedAlpha=!1,this.scale=1,this.boneWidth=2,this.context=void 0,this.bounds=new Ln,this.temp=new Array,this.vertices=R.newFloatArray(2048),this.context=t instanceof Wn?t:new Wn(t)}var e=t.prototype;return e.draw=function(e,n,r){var i=n.x,a=n.y,s=this.context.gl,o=this.premultipliedAlpha?s.ONE:s.SRC_ALPHA;e.setBlendMode(o,s.ONE,s.ONE_MINUS_SRC_ALPHA);var h=n.bones;if(this.drawBones){e.setColor(this.boneLineColor);for(var l=0,c=h.length;l<c;l++){var u=h[l];if(!(r&&r.indexOf(u.data.name)>-1)&&u.parent){var d=u.data.length*u.a+u.worldX,f=u.data.length*u.c+u.worldY;e.rectLine(!0,u.worldX,u.worldY,d,f,this.boneWidth*this.scale)}}this.drawSkeletonXY&&e.x(i,a,4*this.scale)}if(this.drawRegionAttachments){e.setColor(this.attachmentLineColor);for(var v=n.slots,m=0,g=v.length;m<g;m++){var p=v[m],w=p.getAttachment();if(w instanceof he){var b=w,y=this.vertices;b.computeWorldVertices(p,y,0,2),e.line(y[0],y[1],y[2],y[3]),e.line(y[2],y[3],y[4],y[5]),e.line(y[4],y[5],y[6],y[7]),e.line(y[6],y[7],y[0],y[1])}}}if(this.drawMeshHull||this.drawMeshTriangles)for(var x=n.slots,A=0,S=x.length;A<S;A++){var C=x[A];if(C.bone.active){var M=C.getAttachment();if(M instanceof ae){var k=M,T=this.vertices;k.computeWorldVertices(C,0,k.worldVerticesLength,T,0,2);var I=k.triangles,E=k.hullLength;if(this.drawMeshTriangles){e.setColor(this.triangleLineColor);for(var F=0,P=I.length;F<P;F+=3){var L=2*I[F],B=2*I[F+1],Y=2*I[F+2];e.triangle(!1,T[L],T[L+1],T[B],T[B+1],T[Y],T[Y+1])}}if(this.drawMeshHull&&E>0){e.setColor(this.attachmentLineColor);for(var D=T[(E=2*(E>>1))-2],X=T[E-1],O=0,V=E;O<V;O+=2){var N=T[O],U=T[O+1];e.line(N,U,D,X),D=N,X=U}}}}}if(this.drawBoundingBoxes){var W=this.bounds;W.update(n,!0),e.setColor(this.aabbColor),e.rect(!1,W.minX,W.minY,W.getWidth(),W.getHeight());for(var G=W.polygons,z=W.boundingBoxes,H=0,_=G.length;H<_;H++){var q=G[H];e.setColor(z[H].color),e.polygon(q,0,q.length)}}if(this.drawPaths)for(var Z=n.slots,j=0,K=Z.length;j<K;j++){var J=Z[j];if(J.bone.active){var Q=J.getAttachment();if(Q instanceof se){var $=Q,tt=$.worldVerticesLength,et=this.temp=R.setArraySize(this.temp,tt,0);$.computeWorldVertices(J,0,tt,et,0,2);var nt=this.pathColor,rt=et[2],it=et[3],at=0,st=0;if($.closed){e.setColor(nt);var ot=et[0],ht=et[1],lt=et[tt-2],ct=et[tt-1];at=et[tt-4],st=et[tt-3],e.curve(rt,it,ot,ht,lt,ct,at,st,32),e.setColor(t.LIGHT_GRAY),e.line(rt,it,ot,ht),e.line(at,st,lt,ct)}tt-=4;for(var ut=4;ut<tt;ut+=6){var dt=et[ut],ft=et[ut+1],vt=et[ut+2],mt=et[ut+3];at=et[ut+4],st=et[ut+5],e.setColor(nt),e.curve(rt,it,dt,ft,vt,mt,at,st,32),e.setColor(t.LIGHT_GRAY),e.line(rt,it,dt,ft),e.line(at,st,vt,mt),rt=at,it=st}}}}if(this.drawBones){e.setColor(this.boneOriginColor);for(var gt=0,pt=h.length;gt<pt;gt++){var wt=h[gt];r&&r.indexOf(wt.data.name)>-1||e.circle(!0,wt.worldX,wt.worldY,3*this.scale,this.boneOriginColor,8)}}if(this.drawClipping){var bt=n.slots;e.setColor(this.clipColor);for(var yt=0,xt=bt.length;yt<xt;yt++){var At=bt[yt];if(At.bone.active){var St=At.getAttachment();if(St instanceof jt){var Ct=St,Mt=Ct.worldVerticesLength,kt=this.temp=R.setArraySize(this.temp,Mt,0);Ct.computeWorldVertices(At,0,Mt,kt,0,2);for(var Tt=0,It=kt.length;Tt<It;Tt+=2){var Rt=kt[Tt],Et=kt[Tt+1],Ft=kt[(Tt+2)%kt.length],Pt=kt[(Tt+3)%kt.length];e.line(Rt,Et,Ft,Pt)}}}}}},e.dispose=function(){},t}();d(Ir,"LIGHT_GRAY",new S(192/255,192/255,192/255,1)),d(Ir,"GREEN",new S(0,1,0,1));var Rr=function(t,e,n){this.vertices=t,this.numVertices=e,this.numFloats=n},Er=function(){function t(t,e){void 0===e&&(e=!0),this.premultipliedAlpha=!1,this.tempColor=new S,this.tempColor2=new S,this.vertices=void 0,this.vertexSize=8,this.twoColorTint=!1,this.renderable=new Rr([],0,0),this.clipper=new Yn,this.temp=new P,this.temp2=new P,this.temp3=new S,this.temp4=new S,this.twoColorTint=e,e&&(this.vertexSize+=4),this.vertices=R.newFloatArray(1024*this.vertexSize)}var e=t.prototype;return e.draw=function(e,n,r,i,a){void 0===r&&(r=-1),void 0===i&&(i=-1),void 0===a&&(a=null);var s,o,h,l=this.clipper,c=this.premultipliedAlpha,u=this.twoColorTint,d=null,f=this.renderable,v=n.drawOrder,m=n.color,g=u?12:8,p=!1;-1==r&&(p=!0);for(var w=0,b=v.length;w<b;w++){var y=l.isClipping()?2:g,x=v[w];if(x.bone.active)if(r>=0&&r==x.data.index&&(p=!0),p){i>=0&&i==x.data.index&&(p=!1);var A=x.getAttachment(),S=void 0;if(A instanceof he){var C=A;f.vertices=this.vertices,f.numVertices=4,f.numFloats=y<<2,C.computeWorldVertices(x,f.vertices,0,y),o=t.QUAD_TRIANGLES,s=C.uvs,S=C.region.texture,h=C.color}else{if(!(A instanceof ae)){if(A instanceof jt){var M=A;l.clipStart(x,M);continue}l.clipEndWithSlot(x);continue}var k=A;f.vertices=this.vertices,f.numVertices=k.worldVerticesLength>>1,f.numFloats=f.numVertices*y,f.numFloats>f.vertices.length&&(f.vertices=this.vertices=R.newFloatArray(f.numFloats)),k.computeWorldVertices(x,0,k.worldVerticesLength,f.vertices,0,y),o=k.triangles,S=k.region.texture,s=k.uvs,h=k.color}if(S){var T=x.color,I=this.tempColor;I.r=m.r*T.r*h.r,I.g=m.g*T.g*h.g,I.b=m.b*T.b*h.b,I.a=m.a*T.a*h.a,c&&(I.r*=I.a,I.g*=I.a,I.b*=I.a);var E=this.tempColor2;x.darkColor?(c?(E.r=x.darkColor.r*I.a,E.g=x.darkColor.g*I.a,E.b=x.darkColor.b*I.a):E.setFromColor(x.darkColor),E.a=c?1:0):E.set(0,0,0,1);var F=x.data.blendMode;if(F!=d&&(d=F,e.setBlendMode(d,c)),l.isClipping()){l.clipTriangles(f.vertices,o,o.length,s,I,E,u);var P=new Float32Array(l.clippedVertices),L=l.clippedTriangles;a&&a(P,P.length,g),e.draw(S,P,L)}else{var B=f.vertices;if(u)for(var Y=2,D=0,X=f.numFloats;Y<X;Y+=g,D+=2)B[Y]=I.r,B[Y+1]=I.g,B[Y+2]=I.b,B[Y+3]=I.a,B[Y+4]=s[D],B[Y+5]=s[D+1],B[Y+6]=E.r,B[Y+7]=E.g,B[Y+8]=E.b,B[Y+9]=E.a;else for(var O=2,V=0,N=f.numFloats;O<N;O+=g,V+=2)B[O]=I.r,B[O+1]=I.g,B[O+2]=I.b,B[O+3]=I.a,B[O+4]=s[V],B[O+5]=s[V+1];var U=f.vertices.subarray(0,f.numFloats);a&&a(f.vertices,f.numFloats,g),e.draw(S,U,o)}}l.clipEndWithSlot(x)}else l.clipEndWithSlot(x);else l.clipEndWithSlot(x)}l.clipEnd()},e.getSkeletonClipping=function(){return this.clipper},t}();d(Er,"QUAD_TRIANGLES",[0,1,2,2,3,0]);var Fr,Pr,Lr,Br=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],Yr=[0,1,2,2,3,0],Dr=new S(1,1,1,1),Xr=function(){function t(t,e,n){void 0===n&&(n=!0),this.context=void 0,this.canvas=void 0,this.camera=void 0,this.batcher=void 0,this.twoColorTint=!1,this.batcherShader=void 0,this.shapes=void 0,this.shapesShader=void 0,this.activeRenderer=null,this.skeletonRenderer=void 0,this.skeletonDebugRenderer=void 0,this.canvas=t,this.context=e instanceof Wn?e:new Wn(e),this.twoColorTint=n,this.camera=new cr(t.width,t.height),this.batcherShader=n?vr.newTwoColoredTextured(this.context):vr.newColoredTextured(this.context),this.batcher=new Cr(this.context,n),this.shapesShader=vr.newColored(this.context),this.shapes=new kr(this.context),this.skeletonRenderer=new Er(this.context,n),this.skeletonDebugRenderer=new Ir(this.context)}var e=t.prototype;return e.dispose=function(){this.batcher.dispose(),this.batcherShader.dispose(),this.shapes.dispose(),this.shapesShader.dispose(),this.skeletonDebugRenderer.dispose()},e.begin=function(){this.camera.update(),this.enableRenderer(this.batcher)},e.drawSkeleton=function(t,e,n,r,i){void 0===e&&(e=!1),void 0===n&&(n=-1),void 0===r&&(r=-1),void 0===i&&(i=null),this.enableRenderer(this.batcher),this.skeletonRenderer.premultipliedAlpha=e,this.skeletonRenderer.draw(this.batcher,t,n,r,i)},e.drawSkeletonDebug=function(t,e,n){void 0===e&&(e=!1),this.enableRenderer(this.shapes),this.skeletonDebugRenderer.premultipliedAlpha=e,this.skeletonDebugRenderer.draw(this.shapes,t,n)},e.drawTexture=function(t,e,n,r,i,a){this.enableRenderer(this.batcher),a||(a=Dr);var s=0;Br[s++]=e,Br[s++]=n,Br[s++]=a.r,Br[s++]=a.g,Br[s++]=a.b,Br[s++]=a.a,Br[s++]=0,Br[s++]=1,this.twoColorTint&&(Br[s++]=0,Br[s++]=0,Br[s++]=0,Br[s++]=0),Br[s++]=e+r,Br[s++]=n,Br[s++]=a.r,Br[s++]=a.g,Br[s++]=a.b,Br[s++]=a.a,Br[s++]=1,Br[s++]=1,this.twoColorTint&&(Br[s++]=0,Br[s++]=0,Br[s++]=0,Br[s++]=0),Br[s++]=e+r,Br[s++]=n+i,Br[s++]=a.r,Br[s++]=a.g,Br[s++]=a.b,Br[s++]=a.a,Br[s++]=1,Br[s++]=0,this.twoColorTint&&(Br[s++]=0,Br[s++]=0,Br[s++]=0,Br[s++]=0),Br[s++]=e,Br[s++]=n+i,Br[s++]=a.r,Br[s++]=a.g,Br[s++]=a.b,Br[s++]=a.a,Br[s++]=0,Br[s++]=0,this.twoColorTint&&(Br[s++]=0,Br[s++]=0,Br[s++]=0,Br[s]=0),this.batcher.draw(t,Br,Yr)},e.drawTextureUV=function(t,e,n,r,i,a,s,o,h,l){this.enableRenderer(this.batcher),l||(l=Dr);var c=0;Br[c++]=e,Br[c++]=n,Br[c++]=l.r,Br[c++]=l.g,Br[c++]=l.b,Br[c++]=l.a,Br[c++]=a,Br[c++]=s,this.twoColorTint&&(Br[c++]=0,Br[c++]=0,Br[c++]=0,Br[c++]=0),Br[c++]=e+r,Br[c++]=n,Br[c++]=l.r,Br[c++]=l.g,Br[c++]=l.b,Br[c++]=l.a,Br[c++]=o,Br[c++]=s,this.twoColorTint&&(Br[c++]=0,Br[c++]=0,Br[c++]=0,Br[c++]=0),Br[c++]=e+r,Br[c++]=n+i,Br[c++]=l.r,Br[c++]=l.g,Br[c++]=l.b,Br[c++]=l.a,Br[c++]=o,Br[c++]=h,this.twoColorTint&&(Br[c++]=0,Br[c++]=0,Br[c++]=0,Br[c++]=0),Br[c++]=e,Br[c++]=n+i,Br[c++]=l.r,Br[c++]=l.g,Br[c++]=l.b,Br[c++]=l.a,Br[c++]=a,Br[c++]=h,this.twoColorTint&&(Br[c++]=0,Br[c++]=0,Br[c++]=0,Br[c]=0),this.batcher.draw(t,Br,Yr)},e.drawTextureRotated=function(t,e,n,r,i,a,s,o,h){this.enableRenderer(this.batcher),h||(h=Dr);var l=e+a,c=n+s,u=-a,d=-s,f=r-a,v=i-s,m=u,g=d,p=u,w=v,b=f,y=v,x=f,A=d,S=0,C=0,k=0,T=0,I=0,R=0,E=0,F=0;if(0!=o){var P=M.cosDeg(o),L=M.sinDeg(o);k=(I=P*b-L*y)+((S=P*m-L*g)-(E=P*p-L*w)),T=(R=L*b+P*y)+((C=L*m+P*g)-(F=L*p+P*w))}else S=m,C=g,E=p,F=w,I=b,R=y,k=x,T=A;S+=l,C+=c,k+=l,T+=c,I+=l,R+=c,E+=l,F+=c;var B=0;Br[B++]=S,Br[B++]=C,Br[B++]=h.r,Br[B++]=h.g,Br[B++]=h.b,Br[B++]=h.a,Br[B++]=0,Br[B++]=1,this.twoColorTint&&(Br[B++]=0,Br[B++]=0,Br[B++]=0,Br[B++]=0),Br[B++]=k,Br[B++]=T,Br[B++]=h.r,Br[B++]=h.g,Br[B++]=h.b,Br[B++]=h.a,Br[B++]=1,Br[B++]=1,this.twoColorTint&&(Br[B++]=0,Br[B++]=0,Br[B++]=0,Br[B++]=0),Br[B++]=I,Br[B++]=R,Br[B++]=h.r,Br[B++]=h.g,Br[B++]=h.b,Br[B++]=h.a,Br[B++]=1,Br[B++]=0,this.twoColorTint&&(Br[B++]=0,Br[B++]=0,Br[B++]=0,Br[B++]=0),Br[B++]=E,Br[B++]=F,Br[B++]=h.r,Br[B++]=h.g,Br[B++]=h.b,Br[B++]=h.a,Br[B++]=0,Br[B++]=0,this.twoColorTint&&(Br[B++]=0,Br[B++]=0,Br[B++]=0,Br[B]=0),this.batcher.draw(t,Br,Yr)},e.drawRegion=function(t,e,n,r,i,a){this.enableRenderer(this.batcher),a||(a=Dr);var s=0;Br[s++]=e,Br[s++]=n,Br[s++]=a.r,Br[s++]=a.g,Br[s++]=a.b,Br[s++]=a.a,Br[s++]=t.u,Br[s++]=t.v2,this.twoColorTint&&(Br[s++]=0,Br[s++]=0,Br[s++]=0,Br[s++]=0),Br[s++]=e+r,Br[s++]=n,Br[s++]=a.r,Br[s++]=a.g,Br[s++]=a.b,Br[s++]=a.a,Br[s++]=t.u2,Br[s++]=t.v2,this.twoColorTint&&(Br[s++]=0,Br[s++]=0,Br[s++]=0,Br[s++]=0),Br[s++]=e+r,Br[s++]=n+i,Br[s++]=a.r,Br[s++]=a.g,Br[s++]=a.b,Br[s++]=a.a,Br[s++]=t.u2,Br[s++]=t.v,this.twoColorTint&&(Br[s++]=0,Br[s++]=0,Br[s++]=0,Br[s++]=0),Br[s++]=e,Br[s++]=n+i,Br[s++]=a.r,Br[s++]=a.g,Br[s++]=a.b,Br[s++]=a.a,Br[s++]=t.u,Br[s++]=t.v,this.twoColorTint&&(Br[s++]=0,Br[s++]=0,Br[s++]=0,Br[s]=0),this.batcher.draw(t.page.texture,Br,Yr)},e.line=function(t,e,n,r,i,a){this.enableRenderer(this.shapes),this.shapes.line(t,e,n,r,i)},e.triangle=function(t,e,n,r,i,a,s,o,h,l){this.enableRenderer(this.shapes),this.shapes.triangle(t,e,n,r,i,a,s,o,h,l)},e.quad=function(t,e,n,r,i,a,s,o,h,l,c,u,d){this.enableRenderer(this.shapes),this.shapes.quad(t,e,n,r,i,a,s,o,h,l,c,u,d)},e.rect=function(t,e,n,r,i,a){this.enableRenderer(this.shapes),this.shapes.rect(t,e,n,r,i,a)},e.rectLine=function(t,e,n,r,i,a,s){this.enableRenderer(this.shapes),this.shapes.rectLine(t,e,n,r,i,a,s)},e.polygon=function(t,e,n,r){this.enableRenderer(this.shapes),this.shapes.polygon(t,e,n,r)},e.circle=function(t,e,n,r,i,a){void 0===a&&(a=0),this.enableRenderer(this.shapes),this.shapes.circle(t,e,n,r,i,a)},e.curve=function(t,e,n,r,i,a,s,o,h,l){this.enableRenderer(this.shapes),this.shapes.curve(t,e,n,r,i,a,s,o,h,l)},e.end=function(){this.activeRenderer===this.batcher?this.batcher.end():this.activeRenderer===this.shapes&&this.shapes.end(),this.activeRenderer=null},e.resize=function(t){var e=this.canvas,n=window.devicePixelRatio||1,r=Math.round(e.clientWidth*n),i=Math.round(e.clientHeight*n);if(e.width==r&&e.height==i||(e.width=r,e.height=i),this.context.gl.viewport(0,0,e.width,e.height),t===Or.Expand)this.camera.setViewport(r,i);else if(t===Or.Fit){var a=e.width,s=e.height,o=this.camera.viewportWidth,h=this.camera.viewportHeight,l=h/o<s/a?o/a:h/s;this.camera.setViewport(a*l,s*l)}this.camera.update()},e.enableRenderer=function(t){this.activeRenderer!==t&&(this.end(),t instanceof Cr?(this.batcherShader.bind(),this.batcherShader.setUniform4x4f(vr.MVP_MATRIX,this.camera.projectionView.values),this.batcherShader.setUniformi("u_texture",0),this.batcher.begin(this.batcherShader),this.activeRenderer=this.batcher):t instanceof kr?(this.shapesShader.bind(),this.shapesShader.setUniform4x4f(vr.MVP_MATRIX,this.camera.projectionView.values),this.shapes.begin(this.shapesShader),this.activeRenderer=this.shapes):this.activeRenderer=this.skeletonDebugRenderer)},t}(),Or=((Fr=Or||{})[Fr.Stretch=0]="Stretch",Fr[Fr.Expand=1]="Expand",Fr[Fr.Fit=2]="Fit",Fr),Vr=0,Nr=163,Ur=function(){function t(t){if(this.renderer=void 0,this.logo=null,this.spinner=null,this.angle=0,this.fadeOut=0,this.fadeIn=0,this.timeKeeper=new L,this.backgroundColor=new S(.135,.135,.135,1),this.tempColor=new S,this.renderer=t,this.timeKeeper.maxDelta=9,!Lr){var e=navigator.userAgent.indexOf("Safari")>-1,n=function(){return Vr++};(Lr=new Image).src=Gr,e||(Lr.crossOrigin="anonymous"),Lr.onload=n,(Pr=new Image).src=Wr,e||(Pr.crossOrigin="anonymous"),Pr.onload=n}}var e=t.prototype;return e.dispose=function(){var t,e;null==(t=this.logo)||t.dispose(),null==(e=this.spinner)||e.dispose()},e.draw=function(t){if(void 0===t&&(t=!1),!(Vr<2||t&&this.fadeOut>1)){this.timeKeeper.update();var e=Math.abs(Math.sin(this.timeKeeper.totalTime+.25));this.angle-=200*this.timeKeeper.delta*(1+1.5*Math.pow(e,5));var n=this.tempColor,r=this.renderer,i=r.canvas,a=r.context.gl;if(r.resize(1),r.camera.position.set(i.width/2,i.height/2,0),r.batcher.setBlendMode(0,!0),t){if(this.fadeOut+=this.timeKeeper.delta*(this.timeKeeper.totalTime<1?2:1),this.fadeOut>1)return;n.setFromColor(this.backgroundColor),e=1-((e=1-this.fadeOut/1)-1)*(e-1),n.a*=e,n.a>0&&(r.camera.zoom=1,r.begin(),r.quad(!0,0,0,i.width,0,i.width,i.height,0,i.height,n,n,n,n),r.end())}else this.fadeIn+=this.timeKeeper.delta,this.backgroundColor.a>0&&(a.clearColor(this.backgroundColor.r,this.backgroundColor.g,this.backgroundColor.b,this.backgroundColor.a),a.clear(a.COLOR_BUFFER_BIT)),e=1;e*=Math.min(this.fadeIn/1,1),n.set(e,e,e,e),this.logo||(this.logo=new Gn(r.context,Lr),this.spinner=new Gn(r.context,Pr)),r.camera.zoom=Math.max(1,Nr/i.height),r.begin(),r.drawTexture(this.logo,(i.width-165)/2,(i.height-108)/2,165,108,n),this.spinner&&r.drawTextureRotated(this.spinner,(i.width-Nr)/2,(i.height-Nr)/2,Nr,Nr,81.5,81.5,this.angle,n),r.end()}},t}(),Wr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKMAAACjCAYAAADmbK6AAAALKElEQVR42u2de2iW5R/GPzuqcwfnnKfNmafl5tTNHWzqNi3DEMQykcAoJSsySkspjSIk0iD/07Kf4R+FnVBDUTshZGpWUEJaaiWFgZlUFmXmIe3HNXthyebeZ77P9H13ffBG8Y8H7ut7vff93N/7fu4vGGPiFZiez/Qtw9lytJajfzfw9z/j+efPOv7cV8W+lUNY2a8T/ayTCRsWFLJA5rtUO1LLkV5p9LJeJizQiHeqnlOtmVFtdTGrrZkJCxYXsTgaI6r9MY4/UpNItW4mFDaXsTlaM6qVZlBq3UwofFrJp0HMWJ9DvXUzobCznJ1BzFjWlTLrZkJh/TDWBzFjTgo51s2EgnKI0Rrx+FiOWzNzVaym91Syx5qZsGBWb2ZFa0ZN6dbMhAWTcpkUrRmXD2K5NTNhgVbH0Zpxbl/mWjMTFvRIo0e0ZpzcncnWzISKtvmiMWNRJ4qslwmVXRXsas2Ix8ZwzFqZsGFREYtaM+Oaa1ljrUzYkJ9G/ok6TlzKjJWZVFor0y7c1Zu7WjLiqiGsskamXdHopyT4vALmzS9k/t19uHtKHlOSIMn6xAtARjIZ1sFcUSZ0Y4La+G6M18hS2IlCn4a+WoC0JNL0d/dUupdnUj40g6EJ2VEdMnhrOG/p5f/jUXz8SgmvaGU6KpNRNsLVQV0OdXf24s63h/P2gWoOrBjMCr2GJFQnnxnIM3q5P1PPmaYv+4ev4/C6UtbpV2gzXCkgL5W8Bwt48OIc6ul6Tp+s4+SyASxLiI4+PYCn1bHzDZxvaQW6vZzto7MYnQIpNkf7kp5EuozYUroqEjcNKHHd0Tl9mBPN1pk+hFeieGBnBtog7UXjsj9pWg+m6duecw2cay1OC/uxMC47KmP9OIYfoz1YoC20J/rzRG4quTZK2EAyJGs20qwUbYw0aNRmUxtvfUW/uEtNzc1NB1/X8LVyd15hh82F43AvD+VlXcsSJEZa1CQ3ejleAO7oxR3RDP0XN91X4+NXYb8nkv7UNTwV7e0YTdu7I3g33t7tuaEbNwSZpps2fSyvs4M2Tjhot+jb0Xzbltj8r5j/xVt/6Z1Ob93U1ZYO691EhhzchcHeXosVjcNZysyezLw4xRZt05R+fTeuj8vOj+zKyG0j2aZcVVs6v+QalnjrMFZASQYl2nBoSyz06e3j/Xk8rgWYmMvEICu2pm1HOTuc7okV8FgRj0XukwzanhvCc/F+72TjoQjdObN1OFuDLmh0xP+WHtxiI10ukJlCprb4guiv1fP+avZrS1C7NAkliHZjDtZwMMgqbukAltpMlwuMy2FcEBPqvfLLar5Uqi0hBdEwryy+Mv5n6zkbjTBa+dlMlwvUZFETZKGiFM7tvbhdJ3gSVRO0wzIjnxmvl/J6a6JsGMYGrahtpssFeqbR841S3mhN80OjOaSDEdqd6SjaMKgzgzRK7q1ib3PT9sYyNo7JZoyNFNvRcVMZmy7WOvIuryv/Zvdmdt90+nY0bRp3AvROohFwdwW7dTG7RFlbwlqdrbOBYg005NAQmZU0HWt1rXMBH1Xw0dQ8pmqzoaPmdhun7bHZjNVe9qP9eFQfO1VkUmHjhAVUZ1GtnKFSbjrkrPfy4i4UW5t/6ZxM54J0CqxFe81KpGsQyE4h23oYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjLna+bdOy+IiFquIpGq16Pb79cNYv3IIK/X/ugx+Ui6TVKvYVU9Nc8gX8od8Ir/IN/KPfCQ/yVfyl/6/pfJvLChkQdD6wyqntquCXYuKWJSfRr6D0dEAxV3xlw/khyD+kd/ku/88cHo+09tS3LBpO1HHCVUqcIA6CqB4K+6X6x35L/JM2loXurlWmUmlA5XogOIcK8/If5HncrSWo7F6cKIWPjT/RXGOlWfkv8hzaWsN4uaaysE6WIkOKM6x8oz8F3kusXqo2vxC5jtYiQ4ozrH0TeS5qIZcrB7qkrwdA8U5Vp6R/yLPZV8V+2L14Cl5THGwEh1QnGPlGfkv8lyUlIzFQ1cNYVVHrcjZ0VCcFe9Y+Eb+izy3ceclUl43aFN52DXXssYpnY6a4qFS8ZcP2uIf+e7inRh6pdFrdTGrm8uiHx/L8T2V7NGWzvJBLJ/bl7mTuzO5qBNFDoiJID/IF/KHfCK/yDfyT3O7d/KbfNfS80hNIrU0g9L6HOq1x5iTQo6FNpeLfCQ/yVfyl3xmXYwxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHNk9z4JwJ0SqKTdQkbyEwhU393T6V7zzR6pieR3tE1ITeVXImhe6BXDGZFdRbVeank2TBhcaEMr0rwbixj49IBLL2/L/ffmMuNHfqO9tFZjJYBd1ewO3Lx+IcVfKhqna5nHZYR6XFPH+5R3eeI5t9fx/fvjeC9Jdew5OKZKqFR/RDVKL6vL/f9PJafmyvHsL+a/ff24V6NmjZQbGchVbY6UM2BluqHv1rCqzVZ1KQlkZboepCdQvacPsz5bjTfXao+yMEaDt7Wk9tSIMVGig3TejCtJSM2bSpkPjWPqd1S6Zao+lORSYWmgkOjORRNwZqd5ezMSiHLRooNr5XwWjS6/1XHX9vL2T67N7M1iyXa9JCrYjVrS1gbpJyw6hBfsmiNCYT0P9/A+Wj1/6qGr5YNYFlJBiWJogEzezLz/ZG8/9s4fgtSyuvNYbyp1IONFBtu7sHNv4/j9yAxUHWrdaWsG9+N8XHd+YxkMpSy+aySz841cC5oXbmHCnnI74yxAgZ3YbDeB4PEQCOpBpFNZWwa2ZWRcdnxLsl00crtRB0n2lLg8JNRfDKoM4NsolgBSmw/UMADba1+qpmqfyf6x1u/0a/og3I+aEunP6/i86osqmygcGarF4p54dex/Bo0LqfqOfVwIQ/HW5/RSkwV1oN2WLlHTc82TljAwM4M1O5LWwYKZTjibYXNS0N5KcjKTe10PadfLObFuJwK4ozp+UzXDBTUjL+M5ZcBnRkQV53dMIwNQTu6bSTbVEzbi5awuVByd2E/FgaN0Tc1fKOzBHHV2aAdVSdv6s5NNkp7cSH/++xAng2yyHx+CM/H21YhfdPp+0U1X0TbSZnXx8faG9Aop0MS0cToh1p+iLcpOkLj9t/JOk5eqoPHxnDsyf486an5yqCDK7XZ1O4oZ4dWyy3FSXHUAYq47uyYbMZoGmhpG3DlEFb6uNiVBhpyaHhnBO8oJmfqOROJjzIiP43hJ8UxITqqX56S2Hur2KsOnq3nrE6PPNKPRwrSKbAZrjTQNZmuE7oxYXMZmxWbw9dxWFu4W4ezVedOE6qzI7oyYkY+M7TPeWsPbk2UX1qioSN+E3OZqOR2cReKE+qQRFN0Pi7y73g/UawU1KzezJpXwLz5hczX1ueUPKYkNb6GJQZ+j7/aAfRZREsv+quGsMoamXZBW2Gt5eU0alorEzYsKmJRa/m4NdeyxlqZsCGa84DKnVorEzboC7podis69DfIJmwufHMc7famvvmxZiYsKOtKWbRm1OcW1syEBboSJFozLh/EcmtmwgIluaM14/phrLdmJixYXMTiaM24p5I91syEBTphFOR7Y2tmwgJNvUFOr+tov3UzoaAv44KYUatv62ZCoemdhtG0+hzqrZsJBR08DWLG0gxKrZu50qvpxos3U5NItW4mFPp1ot+lPlpq2lYXs9qamVBZUMiC1ox4pJYjvlfStAu6GmTLcLboMtPIV4/6im5fFfuUi9QIap2MiWP+D96R1vPmsD/fAAAAAElFTkSuQmCC",Gr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAABsCAYAAAALzHKmAAAQ7klEQVR42u3da4xdVRUA4D0zd2Y6nZY59DVtZ1puS9+lzC0YAi2UQ8AAQczFpPgA9VIeIQbirRqJ0cBUBVGjDr/QCKSNRSMmpuODxAdxqhgwxkhFjf6Sxh/+UUNVNGJCzR7uTvas7LXX2q9zzp3em6y0gTN3Zu75utZe5+yztxC9V+/Ve5X9En1Vjd7J6SFbLNF7naPw+l2jh7YHMBWssqMHtlsRdim4qsLtIawaPiHEQOLoNrA9iIkQDnRrVA1qD2LZ8ISoxYqKo13sQAtBWBayQWZUAXGRQM9JjCngDVY0UqJNDbQrMcaGmArdUKpIjbYiQLsCZCyIMQBy8QwnilR4Q5AuCpxFYvRFmBLbEiwKwpsSaWycVQGZBKMrwBjA9BhxDe57u2L2hOoKNCbOrgAZitEVYUxoKSMErQvSxYIzCkguRg5EF4AUhqUlhy/YUKSxcRaKsioYOQhD4I0yYxkR3PcJBcuFysmgsXAWBTMJyBCMIQh9kGGxXIXvexCQXbHGAMrBWTbM2CCpMSMLIxehC77lSJwXGth7M0FzoVJIXXDWQnGmhOkL0ic7YhhtWdGGkAuPAjUWGoF4faCmwBkbZmyUqUCyMqMLRA4+E6IsdTjidUHKBYrh9CnpRcH0ypKxsyOGEYNIIeTCOz91OIJ1QYoB5eAMyZo+MFNnyVTZ0YiRC9EGEMOyAgshxErHsL2XK1gOUgwohtM1a5YNM7Rsu4K0ZkcbRm4mpPBRwFZ5hg9eCqkrUB+csWGGogzNkqEgrdnRhpGLkINudaLgwvVB6oqzCjCTZElb2Y4B0gUjBtEG0ARnDRLjjoG9DwcshtQGlIPTljVjwUySLWNkyRCQVHa0ZUUTRAwgF91a33BEy0VKAcVwwqwZC2bqbOlUurllOxQkJzNyINoAYqjWhYYjWg5SCiiG05Q1U8FMjTIoS8YE6YORi1BHtJ4KIcQEEtTXUWAxpK44YVlPBdO1jCdFWTZIE8bVGEYMIRPcZGBw4HKQcoBiOE1ZMzbMgVQwU6JMAdKEEcuIJogUvg1YCCE2gsCO42DlIIVAKZwpYJaSLVNnSU6XjYHUmxhTmXaFaMO3EYkLqMC+FsLlIoVAKZzMrEnBhJeLfLNlKMrYWRIDCbOkFSSVHbHM6AKRC6/ODUewNqQ+OLlZkxpjUmV8MBbMUJSxyzY3Q1IgTRgxiBRCHdem0KDAUkBh9sRwwjEnAXMMgTnKhFlUtiwkS5rGka4g9SaGgxFmRC7AzTCEEBcyA36dDSsXqAtOLkysjGMwY5XxVChjZ0kuSCo7YlkRQsQQYtDEFsegsLoCxUp7Kpgps2UslFGzJGccSYHUmxhOZqwzEZqAbfUMCisHKIZzgsCpl3MTzMwTpi1bYp2477gyFKUxS7qWbdjY2EBS2dGE0QQRA7gNCyHEdhjE8RhUDlBT9tzgmjWZMFNlSy+Urk1OzCyJlW0XkK4YOQh1cDtcgwBrQmoDWkdgboBZE8mYsJSHlnFbJ+5bwmOPJ7lZkirbC8aRsMvmgtTHjBhGE0QbwJ2egUE1ITVlUC5OmDVdYNrKuN70xM6WoShjlW4464dbtiFIWK6x7GjESEHUUe0iYncnbMdQSE0Z1ITTNOb0hRmjjLtmS9dmJ2rp1jtuKktyyrb6YLEMCUHq2dGG0QQRQ7f72kzc+cJecerne8Wvv7JNPHPvenEkz8Sh3UtFc92QyGt9Yko/HgOLAIUZlItTz5ouMF3KuE+2jFLCQ1D6lm6fLMkBacuOJowYRBUXyfjuHjF3NhdnsfjvAfH6E9vFt9XxKgikEKgJZyyYalzOLeMu2bLbULI6bh+QGwmQ+rgRlumdGEQAao+K56bEL2woVUwOiev0r8OAUjiJrMmFCbvykGxZRAmPitK1dHM7bohyMsuyi/I8f0+e57fJYIKEZXpXo9E4mOf5XTKyLLvCBLETF8uY2SKepkC+dpX4T02Ivepr4HvZcOZ5fmee54fyPL+DmTUhzAs6n4n8bN5dr9f3YdkSg8nsxG0lPBVKVpNjG0/aGhzfLDmRZdnumZmZp8+c+cdZPV555fSr7Xb7s0jJ3i5Pcue4MxKkPPkvvXTqz/B92u32l0wYOzG1fkhcd/py8Rcbyq/vFM/KY1WA95h/3zzP71bfU6JsNpsfgj+P/FlbrdaDGExYyuXvLz8H+DudODH700ajcSM3W6Yu4alQ1spCOTd38jcKocTZbh9+9NixY99XJ8AEUkcpo9W64yH197m5k7+bnZ19QT+J09NHntQhwji/Jg58qi6++ofLxJ8gSFneVw2Ka4QQDfh1Ok4dZavVmtZ/nrm5k7/Vf55O1tRhboUw5+ZOvqyOl5+R/FyOHj32PYVU/tloNG5IXcKrhJIzngwp3fNjomazea/64BuNxts646f50lWv169utw9/DmtqdJQyZFaSJVuV6nq9fqMEof5/vV6/CYBqgJDlee+yAbF/+4i4ZWqZeNfaIfHWzn+Hx0KcEuU9+s8jv3ej0bhVlXOZydX/k0iRMeb8P0D5e6tj8zy/Xb9UJIc56h/yqVOnXul8lmuZ2bJslKmbHG7XrbpCmCXFRLvdfqQD6jTS3Jiy5I4OykM6ADV+1Eu1DmV6evopBORexzDi1L+X/HnGxsb2w3Hm9PSRJ9QxWPOTZdmlKht2hi+w6dkox5bqffI8fye3hDteGqKaHVsHXihKl0tB+h0cY+lute54AGRKDCW89LNTRynHb7ChUWVVjetOnJh9EYBUyPZeNCoOtsbFQwdXi4/esELcd+tq8cCHJ8UXp+viy9efLz7AgamjlKXc1AA1m83DoIRDlFubzeb96hhZLVTlgJ24gttutx+ONa50bHZKRenaeTs1OfpAfnr6yOOdE7EZdNwmlKocntXLNkA5JTGq47Ds+Lf94lWsyfnXleLfnIwJUN4DOnNYwuUxh2A3Ln9XULrfK8t3J27Tu3BVwiOjXJqoAy8UZej1yclGo3GTLN+gu3w+z/P3YaWbQqk3Ne12e4ZC+c8rxWsYytcPiP9RpZxCqWDKnxOiBNlyAUpOnGsoh4tA2Rm8X9xqtT6md5wyZmYe+0YRKL+1S/wYQ3n8zctBl5SBUv5djivfjMOPduIzcizeiYfr9foVvUwZG+XCuzibZKnSceZ5/v4QlKp8y7ElhnJlTeTP7BI/kllRYfzrfvHqFy4UX1vaL/aVlSmROzwbwdS29T2UcEwZF+V8ozM2lu1VY812u/15akypGh3TmFJesJbHHD167IdUxz3YJy5bNySuX1mbvy55CbMLtzU6tjGlsdFptVqfUMc0Go23F4wy1l2dSnbfvpMwVPe9WWVLDsrOJaF9MFu2Wq1PqmNkGce67xiXhTjdNwdlvV6/BgxfbPfBfVCetxi6b9/rlCup65QzM48dl2OjLMv26CibzeZ96sTIzEFdpwQXz9U1yrtVlpR/Zll2Fec65Y6l4pbbx8XHH9kknvzJlPjlHy8Tp29eKT5ou0aJoIT3w3dBlLDzVpfAJEZ1XOdaJZxnOSlvPMjPzxFljIvng914RwebsjYO7uhMyHu46sOfnf3Oz2TXDW6vvYxdFoIXz3Wc8J5zs9n8iOn2IrxTc2BM3Glqdp7dI553uaOjxrhwcob+MyuUpjs6WZZdon8OcigjPx8V+u+GTWFTSWEx3WYcdJ225jNDSE4q0GHCzlueHOyujn6bUWYgeb9ZZUaQPe+GzQ+Gc8+oOGhC+c1d4gfI16n3XDAhQ7+9qE9l01E2Go132GYKyXE1NiFDTcpoNpv3LOYJGWXNErJNW9sEp63p2RKiVPMn1bS1DgxsyhoGdGpmizj+xtXiDYnx7/vFmce3iWdW1cTVGEY4hQ2ZW0nNq8Qm/M6XbXm3S100lwGedFybuvNOibLI+ZS2ceU4eAxiEuvCkfmU8ycToDxETe6FgCBQHeqyAbFvfEhcO7BwDuXFCEbTZF840XeHK0jYcbs2OIGle0mVJ/mmnClEPQqxyTY5I8/zFhif7fSZee4bnrPOU4AssnRXHaVTCTd14dRDY3UbTIiSeFhsN/aMjgnqthFx880rxX3yATL5p3y4LPXzOaBkUyBjZMlYpbtQlIOBD475ZEusjMNSvkXe6VEoJVDkeZ2dzIfIFsRzU+JF2OyM9M9fTC/6SUYOyFQPjQ2nWiUjxnPfw5EeHqMWIqAeIFsAU847lJM2JM6xsewt1OIDLs99P7ZFHNdB/upS8XtPiD7PfLuCXJNolYyyFiNI/Zit65ItrOVafFbHcFohY7hPTN21Tjz4uc3iqfsnxKdX1MTl1OoYRFaMsToGB6Trw2JFP/OdZC2hJZ7ZkrMoAbbSGmelDJ91hFKuJeS7jlBMkJnrAqqJlgMUZS/dArPlGHNdSg5M3xXXtvquuEatvIYtDRhpxbUJuIgqsU5lGWtUploK0KuEU9mSW8YpmFQ556xNuYW7NiW13B+FkMiKHIy+C6eGgBxJvMR0oSv5hi6+z4HJyZoU0M2RVvDlrOQbcxVfX5AhZbuqy0v7ZstYMLHlAVlLTF9ALLbvu9Y5Zylpn/XOsd0ibIvxr2KCLHpp6SCUIdnSZSF+WzfOhem6GD+1KwR3Z4jNjrtDpNoZwmWd8yrupZN6Hx3fbMmFSe0Swdq2ZIPjxk1112Duo8OBGLrBkw/IoncdK2XHsdC9dHz204m50xh3tzFq1zFqtzHXrfCw7OgDsqyNnZLszVijsmXgrmNcmGtS78lIoMX2aJz03fKO2sDJddPQSCDPiQ1DfWBycY6XtXstc2PQKuxgG2McmXTPb9/9vmuJYXKyJrWjbeg+3xPM4O73nWqvbyw7xgZZSJbEUBa157cNJjdr2vb+5iA1YV3HxYscj30PDCEHIgcjtfm8K8hSsmRotkwFk5s1TTghUAopB6xrjHMBBkI0YYTZ0dZlxwLpkiWDULpmy5gwqayZgZNkA7oKQQCxctByYg0XIIEQQuRitGVHblMTA2ShKGPDpC6wu+DEgJqg2rDGDBtAF4Q6RAojp1xXGmSMbImVcR+YWNY04eQCtUG1ofUJ2/uvcETIgUhhdAE5GAlkKShjwHTNmhhODKgJqQ2sC14uOgyfD0IbRF+MlQaZAiZWyn2yJsTJATqGnHQO2Jhh+xlsACFCG0QbRtdyzQFZCZSxYPpmTS7Q5cjJHYNBYIkZpu99HoUQ/o4QIYSIZUZfjJ4ZMjZI32wZBDMU5yhy8pZTULl4XYP5fagMyEVoy4oupTpGduwnkloSlKEwY+AcQU4MhRTD6ovXBRwFzwWgCSEF0QVjJUGmgEllTS5OLlCIlIN1mS9mx/cZ5eLDALpCTI2RAhkTZQqYoTgpoCPECbaBHQ2ETL3PUl98ECAXYijG0OyYAmQoTG7W5ODkAF1CnVgm2JQx4okPA+gCMTbGskBGgRmaOblAh5GTORIrfKFx4VH4EIAxIXIxlg2SBbMvECY3e7oApbDaIgQu5/2HmeEKEINYiwSRi7EQkLFgumZOCuggctKGI4ULZN/vMeSLj0AYMytWEqMLzFg4fYDaoKaC6wvOFR4FkIPQFaILxrJAOsHsc/zlfYDWXE8qF22s8Pz5KHxcgEVALBtjJXBSSEOwFhk1Zgy4hitCT4hVw+gFs8/zwxqIBbUgyK7fcyA0PD9XX4iVxhiC0xdof6STWCsoBmKF7+cVCWFXQYyBMxRpf+STX1b0x45AhN0OMSrOGEirhrY/dfQAdjvS7oy+WCF6r1RIFxXWvlTRg1YVqFWBmxZbD99ig9pt0YPQw9rD1nstVri9V+/Ve3XrS/wfim4P5fIFxLoAAAAASUVORK5CYII=",zr=function(){function t(t,e){var n=this;this.context=void 0,this.time=new L,this.htmlCanvas=void 0,this.gl=void 0,this.renderer=void 0,this.assetManager=void 0,this.input=void 0,this.disposed=!1,this.config=e,e.pathPrefix||(e.pathPrefix=""),e.app||(e.app={loadAssets:function(){},initialize:function(){},update:function(){},render:function(){},error:function(){},dispose:function(){}}),e.webglConfig||(e.webglConfig={alpha:!0}),this.htmlCanvas=t,this.context=new Wn(t,e.webglConfig),this.renderer=new Xr(t,this.context),this.gl=this.context.gl,this.assetManager=new zn(this.context,e.pathPrefix),this.input=new ur(t),e.app.loadAssets&&e.app.loadAssets(this);var r=function t(){n.disposed||(requestAnimationFrame(t),n.time.update(),e.app.update&&e.app.update(n,n.time.delta),e.app.render&&e.app.render(n))};requestAnimationFrame((function t(){n.disposed||(n.assetManager.isLoadingComplete()?n.assetManager.hasErrors()?e.app.error&&e.app.error(n,n.assetManager.getErrors()):(e.app.initialize&&e.app.initialize(n),r()):requestAnimationFrame(t))}))}var e=t.prototype;return e.clear=function(t,e,n,r){this.gl.clearColor(t,e,n,r),this.gl.clear(this.gl.COLOR_BUFFER_BIT)},e.dispose=function(){this.config.app.dispose&&this.config.app.dispose(this),this.disposed=!0},t}(),Hr=Phaser.GameObjects.Components,_r=Hr.ComputedSize,qr=Hr.Depth,Zr=Hr.Flip,jr=Hr.ScrollFactor,Kr=Hr.Transform,Jr=Hr.Visible,Qr=Hr.Origin,$r=Hr.Alpha;function ti(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return Phaser.Class.mixin(t,e),t}}var ei=ti(_r),ni=ti(qr),ri=ti(Zr),ii=ti(jr),ai=ti(Kr),si=ti(Jr),oi=ti(Qr),hi=ti($r),li=function(t){function e(e,n){return t.call(this,e,n)||this}return(0,a.Z)(e,t),e}(Phaser.GameObjects.GameObject),ci=function(){function t(){}return t.prototype.calculateBounds=function(t){if(!t.skeleton)return{x:0,y:0,width:0,height:0};var e=new Be(t.skeleton.data);e.setToSetupPose(),e.updateWorldTransform(2);var n=e.getBoundsRect();return n.width==Number.NEGATIVE_INFINITY?{x:0,y:0,width:0,height:0}:n},t}(),ui=function(){function t(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=.05),this.animation=t,this.skins=e,this.timeStep=n}return t.prototype.calculateBounds=function(t){if(!t.skeleton||!t.animationState)return{x:0,y:0,width:0,height:0};var e=new Pt(t.animationState.data),n=new Be(t.skeleton.data),r=n.data;if(this.skins.length>0){for(var i,a=new We("custom-skin"),o=s(this.skins);!(i=o()).done;){var h=i.value,l=r.findSkin(h);null!=l&&a.addSkin(l)}n.setSkin(a)}n.setToSetupPose();var c=null!=this.animation?r.findAnimation(this.animation):null;if(null==c){n.updateWorldTransform(2);var u=n.getBoundsRect();return u.width==Number.NEGATIVE_INFINITY?{x:0,y:0,width:0,height:0}:u}var d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,m=Number.NEGATIVE_INFINITY;e.clearTracks(),e.setAnimationWith(0,c,!1);for(var g=Math.max(c.duration/this.timeStep,1),p=0;p<g;p++){var w=p>0?this.timeStep:0;e.update(w),e.apply(n),n.update(w),n.updateWorldTransform(2);var b=n.getBoundsRect();d=Math.min(d,b.x),f=Math.min(f,b.y),v=Math.max(v,d+b.width),m=Math.max(m,f+b.height)}var y={x:d,y:f,width:v-d,height:m-f};return y.width==Number.NEGATIVE_INFINITY?{x:0,y:0,width:0,height:0}:y},t}(),di=function(t){function e(e,n,r,i,a,s,o){var h;return void 0===o&&(o=new ci),(h=t.call(this,e,window.SPINE_GAME_OBJECT_TYPE?window.SPINE_GAME_OBJECT_TYPE:b)||this).blendMode=-1,h.skeleton=void 0,h.animationStateData=void 0,h.animationState=void 0,h.beforeUpdateWorldTransforms=function(){},h.afterUpdateWorldTransforms=function(){},h.premultipliedAlpha=!1,h.plugin=n,h.boundsProvider=o,h.setPosition(r,i),h.premultipliedAlpha=h.plugin.isAtlasPremultiplied(s),h.skeleton=h.plugin.createSkeleton(a,s),h.animationStateData=new qt(h.skeleton.data),h.animationState=new Pt(h.animationStateData),h.skeleton.updateWorldTransform(2),h.updateSize(),h}(0,a.Z)(e,t);var n=e.prototype;return n.updateSize=function(){if(this.skeleton){var t=this.boundsProvider.calculateBounds(this);this.width=t.width,this.height=t.height,this.displayOriginX=-t.x,this.displayOriginY=-t.y}},n.skeletonToPhaserWorldCoordinates=function(t){var e=this.getWorldTransformMatrix(),n=e.a,r=e.b,i=e.c,a=e.d,s=e.tx,o=e.ty,h=t.x,l=t.y;t.x=h*n+l*i+s,t.y=h*r+l*a+o},n.phaserWorldCoordinatesToSkeleton=function(t){var e=this.getWorldTransformMatrix(),n=(e=e.invert()).a,r=e.b,i=e.c,a=e.d,s=e.tx,o=e.ty,h=t.x,l=t.y;t.x=h*n+l*i+s,t.y=h*r+l*a+o},n.phaserWorldCoordinatesToBone=function(t,e){this.phaserWorldCoordinatesToSkeleton(t),e.parent?e.parent.worldToLocal(t):e.worldToLocal(t)},n.updatePose=function(t){this.animationState.update(t/1e3),this.animationState.apply(this.skeleton),this.beforeUpdateWorldTransforms(this),this.skeleton.update(t/1e3),this.skeleton.updateWorldTransform(2),this.afterUpdateWorldTransforms(this)},n.preUpdate=function(t,e){this.skeleton&&this.animationState&&this.updatePose(e)},n.preDestroy=function(){},n.willRender=function(t){var e=!this.skeleton||!(15!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id);if(this.visible||(e=!1),!e&&this.parentContainer&&this.plugin.webGLRenderer){var n=this.plugin.webGLRenderer;this.plugin.gl&&this.plugin.phaserRenderer instanceof Phaser.Renderer.WebGL.WebGLRenderer&&n.batcher.isDrawing&&(n.end(),this.plugin.phaserRenderer.pipelines.rebind())}return e},n.renderWebGL=function(t,e,n,r){if(this.skeleton&&this.animationState&&this.plugin.webGLRenderer){var i=this.plugin.webGLRenderer;t.newType&&(t.pipelines.clear(),i.begin()),n.addToRenderList(e);var a=Phaser.GameObjects.GetCalcMatrix(e,n,r).calc,s=a.a,o=a.b,h=a.c,l=a.d,c=a.tx,u=a.ty;i.drawSkeleton(this.skeleton,this.premultipliedAlpha,-1,-1,(function(t,e,n){for(var r=0;r<e;r+=n){var i=t[r],a=t[r+1];t[r]=i*s+a*h+c,t[r+1]=i*o+a*l+u}})),t.nextTypeMatch||(i.end(),t.pipelines.rebind())}},n.renderCanvas=function(t,e,n,r){if(this.skeleton&&this.animationState&&this.plugin.canvasRenderer){var i=t.currentContext,a=this.plugin.canvasRenderer;a.ctx=i,n.addToRenderList(e);var s=Phaser.GameObjects.GetCalcMatrix(e,n,r).calc,o=this.skeleton;o.x=s.tx,o.y=s.ty,o.scaleX=s.scaleX,o.scaleY=s.scaleY,o.getRootBone().rotation=-M.radiansToDegrees*s.rotationNormalized,this.skeleton.updateWorldTransform(2),i.save(),a.draw(o),i.restore()}},e}(ni(oi(ei(ri(ii(ai(si(hi(li))))))))),fi=function(t){function e(e){return t.call(this,e)||this}(0,a.Z)(e,t);var n=e.prototype;return n.setFilters=function(t,e){},n.setWraps=function(t,e){},n.dispose=function(){},e}(Kt),vi=R.newFloatArray(8),mi=function(){function t(t){this.ctx=void 0,this.triangleRendering=!1,this.debugRendering=!1,this.vertices=R.newFloatArray(8192),this.tempColor=new S,this.ctx=t}var e=t.prototype;return e.draw=function(t){this.triangleRendering?this.drawTriangles(t):this.drawImages(t)},e.drawImages=function(t){var e=this.ctx,n=this.tempColor,r=t.color,i=t.drawOrder;this.debugRendering&&(e.strokeStyle="green");for(var a=0,s=i.length;a<s;a++){var o=i[a],h=o.bone;if(h.active){var l=o.getAttachment();if(l instanceof he){l.computeWorldVertices(o,vi,0,2);var c=l.region,u=c.texture.getImage(),d=o.color,f=l.color;n.set(r.r*d.r*f.r,r.g*d.g*f.g,r.b*d.b*f.b,r.a*d.a*f.a),e.save(),e.transform(h.a,h.c,h.b,h.d,h.worldX,h.worldY),e.translate(l.offset[0],l.offset[1]),e.rotate(l.rotation*Math.PI/180);var v=l.width/c.originalWidth;e.scale(v*l.scaleX,v*l.scaleY);var m=c.width,g=c.height;if(e.translate(m/2,g/2),90==l.region.degrees){var p=m;m=g,g=p,e.rotate(-Math.PI/2)}e.scale(1,-1),e.translate(-m/2,-g/2),e.globalAlpha=n.a,e.drawImage(u,u.width*c.u,u.height*c.v,m,g,0,0,m,g),this.debugRendering&&e.strokeRect(0,0,m,g),e.restore()}}}},e.drawTriangles=function(e){for(var n=this.ctx,r=this.tempColor,i=e.color,a=e.drawOrder,s=null,o=this.vertices,h=null,l=0,c=a.length;l<c;l++){var u=a[l],d=u.getAttachment(),f=void 0;if(d instanceof he){var v=d;o=this.computeRegionVertices(u,v,!1),h=t.QUAD_TRIANGLES,f=v.region.texture.getImage()}else{if(!(d instanceof ae))continue;var m=d;o=this.computeMeshVertices(u,m,!1),h=m.triangles,f=m.region.texture.getImage()}if(f){u.data.blendMode!=s&&(s=u.data.blendMode);var g=u.color,p=d.color;r.set(i.r*g.r*p.r,i.g*g.g*p.g,i.b*g.b*p.b,i.a*g.a*p.a),n.globalAlpha=r.a;for(var w=0;w<h.length;w+=3){var b=8*h[w],y=8*h[w+1],x=8*h[w+2],A=o[b],S=o[b+1],C=o[b+6],M=o[b+7],k=o[y],T=o[y+1],I=o[y+6],R=o[y+7],E=o[x],F=o[x+1],P=o[x+6],L=o[x+7];this.drawTriangle(f,A,S,C,M,k,T,I,R,E,F,P,L),this.debugRendering&&(n.strokeStyle="green",n.beginPath(),n.moveTo(A,S),n.lineTo(k,T),n.lineTo(E,F),n.lineTo(A,S),n.stroke())}}}this.ctx.globalAlpha=1},e.drawTriangle=function(t,e,n,r,i,a,s,o,h,l,c,u,d){var f=this.ctx,v=t.width-1,m=t.height-1;r*=v,i*=m,o*=v,h*=m,u*=v,d*=m,f.beginPath(),f.moveTo(e,n),f.lineTo(a,s),f.lineTo(l,c),f.closePath(),a-=e,s-=n,l-=e,c-=n;var g=(o-=r)*(d-=i)-(u-=r)*(h-=i);if(0!=g){var p=(d*a-h*l)*(g=1/g),w=(d*s-h*c)*g,b=(o*l-u*a)*g,y=(o*c-u*s)*g,x=e-p*r-b*i,A=n-w*r-y*i;f.save(),f.transform(p,w,b,y,x,A),f.clip(),f.drawImage(t,0,0),f.restore()}},e.computeRegionVertices=function(e,n,r){var i=e.bone.skeleton.color,a=e.color,s=n.color,o=i.a*a.a*s.a,h=r?o:1,l=this.tempColor;l.set(i.r*a.r*s.r*h,i.g*a.g*s.g*h,i.b*a.b*s.b*h,o),n.computeWorldVertices(e,this.vertices,0,t.VERTEX_SIZE);var c=this.vertices,u=n.uvs;return c[he.C1R]=l.r,c[he.C1G]=l.g,c[he.C1B]=l.b,c[he.C1A]=l.a,c[he.U1]=u[0],c[he.V1]=u[1],c[he.C2R]=l.r,c[he.C2G]=l.g,c[he.C2B]=l.b,c[he.C2A]=l.a,c[he.U2]=u[2],c[he.V2]=u[3],c[he.C3R]=l.r,c[he.C3G]=l.g,c[he.C3B]=l.b,c[he.C3A]=l.a,c[he.U3]=u[4],c[he.V3]=u[5],c[he.C4R]=l.r,c[he.C4G]=l.g,c[he.C4B]=l.b,c[he.C4A]=l.a,c[he.U4]=u[6],c[he.V4]=u[7],c},e.computeMeshVertices=function(e,n,r){var i=e.bone.skeleton.color,a=e.color,s=n.color,o=i.a*a.a*s.a,h=r?o:1,l=this.tempColor;l.set(i.r*a.r*s.r*h,i.g*a.g*s.g*h,i.b*a.b*s.b*h,o);var c=n.worldVerticesLength/2,u=this.vertices;u.length<n.worldVerticesLength&&(this.vertices=u=R.newFloatArray(n.worldVerticesLength)),n.computeWorldVertices(e,0,n.worldVerticesLength,u,0,t.VERTEX_SIZE);for(var d=n.uvs,f=0,v=0,m=2;f<c;f++)u[m++]=l.r,u[m++]=l.g,u[m++]=l.b,u[m++]=l.a,u[m++]=d[v++],u[m++]=d[v++],m+=2;return u},t}();d(mi,"QUAD_TRIANGLES",[0,1,2,2,3,0]),d(mi,"VERTEX_SIZE",8);var gi=function(t){function e(e,n,r){var a;(a=t.call(this,e,n,r)||this).game=void 0,a.isWebGL=void 0,a.gl=void 0,a.canvasRenderer=void 0,a.phaserRenderer=void 0,a.skeletonDataCache=void 0,a.atlasCache=void 0,a.game=n.game,a.isWebGL=2===a.game.config.renderType,a.gl=a.isWebGL?a.game.renderer.gl:null,a.phaserRenderer=a.game.renderer,a.canvasRenderer=null,a.skeletonDataCache=a.game.cache.addCustom("esotericsoftware.spine.skeletonFile.cache"),a.atlasCache=a.game.cache.addCustom("esotericsoftware.spine.atlas.cache");n.registerFileType("spineJson",(function(t,e,n){var r=new bi(this,t,e,wi.json,n);return this.addFile(r.files),this}),e);n.registerFileType("spineBinary",(function(t,e,n){var r=new bi(this,t,e,wi.binary,n);return this.addFile(r.files),this}),e);n.registerFileType("spineAtlas",(function(t,e,n,r){var i=new yi(this,t,e,n,r);return this.addFile(i.files),this}),e);var s=(0,i.Z)(a);return n.registerGameObject(window.SPINE_GAME_OBJECT_TYPE?window.SPINE_GAME_OBJECT_TYPE:b,(function(t,e,n,r,i){var a=new di(this.scene,s,t,e,n,r,i);return this.displayList.add(a),this.updateList.add(a),a}),(function(t,e){void 0===e&&(e=!1);var n=t.x?t.x:0,r=t.y?t.y:0,i=t.boundsProvider?t.boundsProvider:void 0,a=new di(this.scene,s,n,r,t.dataKey,t.atlasKey,i);return void 0!==e&&(t.add=e),w.default.GameObjects.BuildGameObject(this.scene,a,t)})),a}(0,a.Z)(e,t);var n=e.prototype;return n.boot=function(){Be.yDown=!0,this.isWebGL?(e.gameWebGLRenderer||(e.gameWebGLRenderer=new Xr(this.game.renderer.canvas,this.gl,!0)),this.onResize(),this.game.scale.on(w.default.Scale.Events.RESIZE,this.onResize,this)):this.canvasRenderer||(this.canvasRenderer=new mi(this.scene.sys.context));var t=this.systems.events;t.once("shutdown",this.shutdown,this),t.once("destroy",this.destroy,this),this.game.events.once("destroy",this.gameDestroy,this)},n.onResize=function(){var t=this.game.renderer,e=this.webGLRenderer;if(t&&e){var n=t.width,r=t.height;e.camera.position.x=n/2,e.camera.position.y=r/2,e.camera.up.y=-1,e.camera.direction.z=1,e.camera.setViewport(n,r)}},n.shutdown=function(){this.systems.events.off("shutdown",this.shutdown,this),this.isWebGL&&this.game.scale.off(w.default.Scale.Events.RESIZE,this.onResize,this)},n.destroy=function(){this.shutdown()},n.gameDestroy=function(){this.pluginManager.removeGameObject(window.SPINE_GAME_OBJECT_TYPE?window.SPINE_GAME_OBJECT_TYPE:b,!0,!0),this.webGLRenderer&&this.webGLRenderer.dispose(),e.gameWebGLRenderer=null},n.getAtlas=function(t){var e;if(this.atlasCache.exists(t))e=this.atlasCache.get(t);else{var n=this.game.cache.text.get(t);if(e=new ee(n.data),this.isWebGL){var r=this.gl;Gn.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);for(var i,a=s(e.pages);!(i=a()).done;){var o=i.value;o.setTexture(new Gn(r,this.game.textures.get(t+"!"+o.name).getSourceImage(),!1))}}else for(var h,l=s(e.pages);!(h=l()).done;){var c=h.value;c.setTexture(new fi(this.game.textures.get(t+"!"+c.name).getSourceImage()))}this.atlasCache.add(t,e)}return e},n.isAtlasPremultiplied=function(t){var e=this.game.cache.text.get(t);return!!e&&e.premultipliedAlpha},n.getSkeletonData=function(t,e){var n,r=this.getAtlas(e),i=t+e;if(this.skeletonDataCache.exists(i))n=this.skeletonDataCache.get(i);else{if(this.game.cache.json.exists(t)){var a=this.game.cache.json.get(t);n=new Dn(new fe(r)).readSkeletonData(a)}else{var s=this.game.cache.binary.get(t);n=new _e(new fe(r)).readSkeletonData(new Uint8Array(s))}this.skeletonDataCache.add(i,n)}return n},n.createSkeleton=function(t,e){return new Be(this.getSkeletonData(t,e))},(0,r.Z)(e,[{key:"webGLRenderer",get:function(){return e.gameWebGLRenderer}}]),e}(w.default.Plugins.ScenePlugin);d(gi,"gameWebGLRenderer",null),d(gi,"rendererId",0);var pi,wi=((pi=wi||{})[pi.json=0]="json",pi[pi.binary=1]="binary",pi),bi=function(t){function e(e,n,r,i,a){var s;if("string"!==typeof n){var o=n;n=o.key,r=o.url,i="spineJson"===o.type?0:1,a=o.xhrSettings}var h=null;return h=0==i?new w.default.Loader.FileTypes.JSONFile(e,{key:n,url:r,extension:"json",xhrSettings:a}):new w.default.Loader.FileTypes.BinaryFile(e,{key:n,url:r,extension:"skel",xhrSettings:a}),(s=t.call(this,e,"spineSkeletonData",n,[h])||this).fileType=i,s}(0,a.Z)(e,t);var n=e.prototype;return n.onFileComplete=function(t){this.pending--},n.addToCache=function(){this.isReadyToProcess()&&this.files[0].addToCache()},e}(w.default.Loader.MultiFile),yi=function(t){function e(e,n,r,i,a){var s;if(void 0===i&&(i=!0),"string"!==typeof n){var o,h=n;n=h.key,r=h.url,i=null==(o=h.premultipliedAlpha)||o,a=h.xhrSettings}return(s=t.call(this,e,"spineAtlasData",n,[new w.default.Loader.FileTypes.TextFile(e,{key:n,url:r,xhrSettings:a,extension:"atlas"})])||this).premultipliedAlpha=i,s}(0,a.Z)(e,t);var n=e.prototype;return n.onFileComplete=function(t){if(-1!=this.files.indexOf(t)&&(this.pending--,"text"==t.type)){var e,n=t.data.split(/\r\n|\r|\n/),r=[];r.push(n[0]);for(var i=1;i<n.length;i++){var a=n[i];""===a.trim()&&i<n.length-1&&(a=n[i+1],r.push(a))}for(var s=null!=(e=t.src.match(/^.*\//))?e:"",o=0;o<r.length;o++){var h=s+r[o],l=t.key+"!"+r[o],c=new w.default.Loader.FileTypes.ImageFile(this.loader,l,h);this.loader.keyExists(c)||(this.addToMultiFile(c),this.loader.addFile(c))}}},n.addToCache=function(){if(this.isReadyToProcess())for(var t,e=this.loader.textureManager,n=s(this.files);!(t=n()).done;){var r=t.value;"image"==r.type?e.exists(r.key)||e.addImage(r.key,r.data):(r.data={data:r.data,premultipliedAlpha:this.premultipliedAlpha||r.data.indexOf("pma: true")>=0||r.data.indexOf("pma:true")>=0},r.addToCache())}},e}(w.default.Loader.MultiFile);return window.spine={SpinePlugin:gi},window["spine.SpinePlugin"]=gi,function(t){return u(e({},"__esModule",{value:!0}),t)}(f)}()},function(t,e,n){"use strict";var r=n(1),i=n(0),a=n.n(i),s=function(){function t(){this.isLandscape=void 0}var e=t.prototype;return e.init=function(){this.isLandscape=!1;var t=GameCore.Configs.Game,e=(t.PortraitRatio,t.DisableLandscape);this.isScreenSmallerRatio(1)?this.isLandscape=!1:e||(this.isLandscape=!0),this.isLandscape=!0},e.getScreenHeight=function(){var t=document,e=t.body,n=t.documentElement,r=e.clientHeight,i=n.clientHeight;return Math.max(i,r)||0},e.getScreenWidth=function(){var t=document,e=t.body,n=t.documentElement,r=e.clientWidth,i=n.clientWidth;return Math.max(i,r)||0},e.isScreenSmallerRatio=function(t){return this.getScreenWidth()/this.getScreenHeight()<t},t}(),o=function(){var t=document,e=t.body,n=t.documentElement,r=e.clientHeight,i=n.clientHeight;return Math.max(i,r)||0},h=function(){var t=document,e=t.body,n=t.documentElement,r=e.clientWidth,i=n.clientWidth;return Math.max(i,r)||0},l=function(){var t=(0,r.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){!function e(){var n=h(),r=o();n>0&&r>0?t():requestAnimationFrame(e)}()}));case 2:window.GameCore.layoutInitializer=new s,window.GameCore.layoutInitializer.init();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=l,u=n(26),d=GameCore.Configs.Debugger.ShowInspector,f={parent:"game-wrapper",type:Phaser.AUTO,width:0,height:0,scale:{autoRound:!0},dom:{createContainer:!1},loader:{maxParallelDownloads:6,crossOrigin:"no-cros"},audio:{noAudio:!1,disableWebAudio:!1},input:{gamepad:!1,keyboard:d,touch:{capture:!0},smoothFactor:1,activePointers:1,windowEvents:!1},disableContextMenu:!0,render:{pixelArt:!1,antialias:!0,antialiasGL:!1,transparent:!0,desynchronized:!1,powerPreference:"high-performance",clearBeforeRender:!1,roundPixels:!1,mipmapFilter:"LINEAR_MIPMAP_LINEAR"},plugins:{global:[]},physics:{default:"matter",matter:{gravity:{y:.8},debug:!1}}};(0,u.j6)();var v=function(){var t=(0,r.Z)(a().mark((function t(){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c();case 3:return t.next=5,Promise.all([n.e(451),n.e(766)]).then(n.bind(n,28));case 5:e=t.sent.default,r=new e(f),window.game=r,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),(0,u.tO)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),m=setInterval((function(){window.__analyticsInitiated&&(window.__fbGameReady=!1,clearInterval(m),clearInterval(window.__fbInstantLoadingTimer),GameSDK.setLoadingProgress(30),gtag("event","app_initialize",{send_to:["GA"]}),v())}),50)},,function(t,e,n){"use strict";n.d(e,{h:function(){return i}});var r=["Aaliyah","Aaradhya","Abigail","Ada","Addison","Adelaide","Adeline","Adriana","Aisha","Alana","Alexandra","Alice","Alicia","Alina","Allison","Alyssa","Amaia","Amelia","Am\xe9lie","Amina","Amy","Ana","Anastasia","Andrea","Angelina","Anika","Anna","Annabelle","Anne","Antonia","Anya","Aria","Ariana","Ariel","Arisha","Ashley","Astrid","Athena","Audrey","Aurora","Ava","Avery","Ayla","Beatrice","Bella","Bianca","Blair","Briana","Brianna","Bridget","Brooklyn","Caitlyn","Camila","Camille","Caroline","Cassandra","Catherine","Cecilia","Celeste","Charlotte","Chloe","Christina","Claire","Clara","Claudia","Clementine","Colleen","Cora","Daisy","Daniella","Daphne","Darcy","Delilah","Diana","Dolores","Dorothy","Eden","Eleanor","Eliana","Elisa","Elizabeth","Ella","Ellie","Eloise","Elsa","Emilia","Emily","Emma","Erin","Esmeralda","Esther","Eva","Evangeline","Evelyn","Everly","Fatima","Felicity","Fiona","Florence","Francesca","Freya","Gabriella","Gaia","Genevieve","Georgia","Gia","Gianna","Gillian","Grace","Greta","Gwen","Hadley","Hailey","Hana","Hannah","Harper","Hazel","Heather","Helen","Helena","Holly","Hope","Imani","India","In\xe8s","Iris","Isabelle","Isla","Ivy","Jacqueline","Jade","Jasmine","Jenna","Jennifer","Jessica","Jillian","Josie","Julia","Juliana","Juliet","June","Juniper","Kaia","Kaira","Kaitlyn","Kamila","Karen","Karina","Kate","Katherine","Kayla","Kennedy","Khloe","Kiara","Kiera","Kimberly","Kylie","Lacey","Laila","Lana","Lara","Lauren","Layla","Leah","Leia","Lena","Lia","Liana","Liliana","Lillian","Lily","Lina","Linda","Lindsay","Liv","Lola","Lucia","Lucy","Luna","Lydia","Mackenzie","Madeline","Madison","Maeve","Maggie","Maia","Maisie","Malia","Mallory","Margaret","Maria","Mariana","Marilyn","Marisa","Maya","Megan","Melanie","Mia","Michaela","Michelle","Mila","Miranda","Molly","Morgan","Nadia","Naomi","Natalia","Natalie","Natasha","Nevaeh","Nicole","Nina","Nora","Olivia","Ophelia","Paige","Paisley","Pamela","Paris","Patricia","Penelope","Peyton","Phoebe","Piper","Quinn","Rachel","Reagan","Rebecca","Riley","Rose","Rowan","Ruby","Sadie","Sage","Samantha","Samara","Sarah","Savannah","Scarlett","Selena","Serenity","Seraphina","Shayla","Sienna","Skylar","Sofia","Sophia","Sophie","Stella","Summer","Sydney","Talia","Taylor","Thea","Theresa","Valentina","Valerie","Vanessa","Veronica","Victoria","Violet","Vivian","Willow","Willa","Winter","Ximena","Yael","Yara","Yasmine","Zoe","Zoey","Zara","Zelda","Zendaya","Zuri","Amina","Amara","Ananya","Arya","Astrid","Cadence","Calliope","Cassandra","Celeste","Cordelia","Elodie","Esme","Genevieve","Hazel","Imogen","Ingrid","Juniper","Lilac","Lyra","Maeve","Magnolia","Margot","Noelle","Octavia","Pearl","Persephone","Quinn","Rowan","Sage","Seraphina","Sylvie","Tessa","Thora","Valentina","Willow","Wren","Xenia","Yara","Zelda","Zoe"],i=function(t){var e=Phaser.Utils.Array.NumberArray(1,315);return Phaser.Utils.Array.Shuffle(r).slice(0,t).map((function(t){var n=Phaser.Utils.Array.RemoveRandomElement(e).toString().padStart(4,"0");return{id:n,name:t,photo:"./assets/images/avatars/avatar_"+n+".jpg"}}))};e.Z=function(){return r[Math.floor(Math.random()*r.length)]}},function(t,e){"use strict";e.Z=function(t,e){if(0==e.length)return t;for(var n=t,r=0;r<e.length;r++)n=n.replace(/{}/,""+e[r]);return n}},function(t,e){"use strict";e.Z=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=document.createElement("canvas"),i=r.getContext("2d");if(null===i)return Promise.resolve(null);var a=new Image;i.clearRect(0,0,e,n),i.canvas.width=e,i.canvas.height=n;var s=3/GameCore.ImageScale;return i.scale(s,s),i.drawImage(t.source.image,t.cutX,t.cutY,t.cutWidth,t.cutHeight,Math.abs(e/s-t.cutWidth)/2,Math.abs(n/s-t.cutHeight)/2,t.cutWidth,t.cutHeight),new Promise((function(t){var e=function(e){r.remove(),t(e)};a.src=r.toDataURL(),a.onload=function(){return e(a)},a.onerror=function(){return e(null)}}))}},function(t,e){"use strict";var n=function(t){if(t.indexOf(".")<0)return t;for(var e=t.length-1;e>=0;e--){if("."==t[e])return t.substring(0,e);if("0"!=t[e])return t.substring(0,e+1)}return t};e.Z=function(t,e){var r=e||{},i=r.fractionalDigits,a=void 0===i?0:i,s=r.startAbbreviate,o=void 0===s?1e3:s,h=r.abbreviateStep,l=void 0===h?3:h,c=r.maxLength,u=void 0===c?-1:c,d=r.removeLastZero,f=void 0===d||d,v=r.suffixes,m=void 0===v?["","k","m","b","t","q"]:v,g=-1===u?99999999:u;if(t>=o){var p=Math.floor(t/Math.pow(10,l)),w=Math.floor((p.toString().length-1)/l)+1,b=(t/Math.pow(Math.pow(10,l),w)).toFixed(a),y=g-m[w].length,x=b.substring(0,y);return(f?n(x):x)+m[w]}var A=t.toFixed(a),S=g-m[0].length,C=A.substring(0,S);return f?n(C):C+m[0]}},function(t,e){"use strict";e.Z=function(t,e,n,r,i){return(t-e)*(i-r)/(n-e)+r}},,,function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=JSON.parse('{"data":["Smith","Johnson","Williams","Brown","Jones","Miller","Davis","Garcia","Rodriguez","Wilson","Martinez","Anderson","Taylor","Thomas","Hernandez","Moore","Martin","Jackson","Thompson","White","Lopez","Lee","Gonzalez","Harris","Clark","Lewis","Robinson","Walker","Perez","Hall","Young","Allen","Sanchez","Wright","King","Scott","Green","Baker","Adams","Nelson","Hill","Ramirez","Campbell","Mitchell","Roberts","Carter","Phillips","Evans","Turner","Torres","Parker","Collins","Edwards","Stewart","Flores","Morris","Nguyen","Murphy","Rivera","Cook","Rogers","Morgan","Peterson","Cooper","Reed","Bailey","Bell","Gomez","Kelly","Howard","Ward","Cox","Diaz","Richardson","Wood","Watson","Brooks","Bennett","Gray","James","Reyes","Cruz","Hughes","Price","Myers","Long","Foster","Sanders","Ross","Morales","Powell","Sullivan","Russell","Ortiz","Jenkins","Gutierrez","Perry","Butler","Barnes","Fisher","Henderson","Coleman","Simmons","Patterson","Jordan","Reynolds","Hamilton","Graham","Kim","Gonzales","Alexander","Ramos","Wallace","Griffin","West","Cole","Hayes","Chavez","Gibson","Bryant","Ellis","Stevens","Murray","Ford","Marshall","Owens","Mcdonald","Harrison","Ruiz","Kennedy","Wells","Alvarez","Woods","Mendoza","Castillo","Olson","Webb","Washington","Tucker","Freeman","Burns","Henry","Vasquez","Snyder","Simpson","Crawford","Jimenez","Porter","Mason","Shaw","Gordon","Wagner","Hunter","Romero","Hicks","Dixon","Hunt","Palmer","Robertson","Black","Holmes","Stone","Meyer","Boyd","Mills","Warren","Fox","Rose","Rice","Moreno","Schmidt","Patel","Ferguson","Nichols","Herrera","Medina","Ryan","Fernandez","Weaver","Daniels","Stephens","Gardner","Payne","Kelley","Dunn","Pierce","Arnold","Tran","Spencer","Peters","Hawkins","Grant","Hansen","Castro","Hoffman","Hart","Elliott","Cunningham","Knight","Bradley","Carroll","Hudson","Duncan","Armstrong","Berry","Andrews","Johnston","Ray","Lane","Riley","Carpenter","Perkins","Aguilar","Silva","Richards","Willis","Matthews","Chapman","Lawrence","Garza","Vargas","Watkins","Wheeler","Larson","Carlson","Harper","George","Greene","Burke","Guzman","Morrison","Munoz","Jacobs","Obrien","Lawson","Franklin","Lynch","Bishop","Carr","Salazar","Austin","Mendez","Gilbert","Jensen","Williamson","Montgomery","Harvey","Oliver","Howell","Dean","Hanson","Weber","Garrett","Sims","Burton","Fuller","Soto","Mccoy","Welch","Chen","Schultz","Walters","Reid","Fields","Walsh","Little","Fowler","Bowman","Davidson","May","Day","Schneider","Newman","Brewer","Lucas","Holland","Wong","Banks","Santos","Curtis","Pearson","Delgado","Valdez","Pena","Rios","Douglas","Sandoval","Barrett","Hopkins","Keller","Guerrero","Stanley","Bates","Alvarado","Beck","Ortega","Wade","Estrada","Contreras","Barnett","Caldwell","Santiago","Lambert","Powers","Chambers","Nunez","Craig","Leonard","Lowe","Rhodes","Byrd","Gregory","Shelton","Frazier","Becker","Maldonado","Fleming","Vega","Sutton","Cohen","Jennings","Parks","Mcdaniel","Watts","Barker","Norris","Vaughn","Vazquez","Holt","Schwartz","Steele","Benson","Neal","Dominguez","Horton","Terry","Wolfe","Hale","Lyons","Graves","Haynes","Miles","Park","Warner","Padilla","Bush","Thornton","Mccarthy","Mann","Zimmerman","Erickson","Fletcher","Mckinney","Page","Dawson","Joseph","Marquez","Reeves","Klein","Espinoza","Baldwin","Moran","Love","Robbins","Higgins","Ball","Cortez","Le","Griffith","Bowen","Sharp","Cummings","Ramsey","Hardy","Swanson","Barber","Acosta","Luna","Chandler","Blair","Daniel","Cross","Simon","Dennis","Oconnor","Quinn","Gross","Navarro","Moss","Fitzgerald","Doyle","Mclaughlin","Rojas","Rodgers","Stevenson","Singh","Yang","Figueroa","Harmon","Newton","Paul","Manning","Garner","Mcgee","Reese","Francis","Burgess","Adkins","Goodman","Curry","Brady","Christensen","Potter","Walton","Goodwin","Mullins","Molina","Webster","Fischer","Campos","Avila","Sherman","Todd","Chang","Blake","Malone","Wolf","Hodges","Juarez","Gill","Farmer","Hines","Gallagher","Duran","Hubbard","Cannon","Miranda","Wang","Saunders","Tate","Mack","Hammond","Carrillo","Townsend","Wise","Ingram","Barton","Mejia","Ayala","Schroeder","Hampton","Rowe","Parsons","Frank","Waters","Strickland","Osborne","Maxwell","Chan","Deleon","Norman","Harrington","Casey","Patton","Logan","Bowers","Mueller","Glover","Floyd","Hartman","Buchanan","Cobb","French","Kramer","Mccormick","Clarke","Tyler","Gibbs","Moody","Conner","Sparks","Mcguire","Leon","Bauer","Norton","Pope","Flynn","Hogan","Robles","Salinas","Yates","Lindsey","Lloyd","Marsh","Mcbride","Owen","Solis","Pham","Lang","Pratt","Lara","Brock","Ballard","Trujillo","Shaffer","Drake","Roman","Aguirre","Morton","Stokes","Lamb","Pacheco","Patrick","Cochran","Shepherd","Cain","Burnett","Hess","Li","Cervantes","Olsen","Briggs","Ochoa","Cabrera","Velasquez","Montoya","Roth","Meyers","Cardenas","Fuentes","Weiss","Hoover","Wilkins","Nicholson","Underwood","Short","Carson","Morrow","Colon","Holloway","Summers","Bryan","Petersen","Mckenzie","Serrano","Wilcox","Carey","Clayton","Poole","Calderon","Gallegos","Greer","Rivas","Guerra","Decker","Collier","Wall","Whitaker","Bass","Flowers","Davenport","Conley","Houston","Huff","Copeland","Hood","Monroe","Massey","Roberson","Combs","Franco","Larsen","Pittman","Randall","Skinner","Wilkinson","Kirby","Cameron","Bridges","Anthony","Richard","Kirk","Bruce","Singleton","Mathis","Bradford","Boone","Abbott","Charles","Allison","Sweeney","Atkinson","Horn","Jefferson","Rosales","York","Christian","Phelps","Farrell","Castaneda","Nash","Dickerson","Bond","Wyatt","Foley","Chase","Gates","Vincent","Mathews","Hodge","Garrison","Trevino","Villarreal","Heath","Dalton","Valencia","Callahan","Hensley","Atkins","Huffman","Roy","Boyer","Shields","Lin","Hancock","Grimes","Glenn","Cline","Delacruz","Camacho","Dillon","Parrish","Oneill","Melton","Booth","Kane","Berg","Harrell","Pitts","Savage","Wiggins","Brennan","Salas","Marks","Russo","Sawyer","Baxter","Golden","Hutchinson","Liu","Walter","Mcdowell","Wiley","Rich","Humphrey","Johns","Koch","Suarez","Hobbs","Beard","Gilmore","Ibarra","Keith","Macias","Khan","Andrade","Ware","Stephenson","Henson","Wilkerson","Dyer","Mcclure","Blackwell","Mercado","Tanner","Eaton","Clay","Barron","Beasley","Oneal","Preston","Small","Wu","Zamora","Macdonald","Vance","Snow","Mcclain","Stafford","Orozco","Barry","English","Shannon","Kline","Jacobson","Woodard","Huang","Kemp","Mosley","Prince","Merritt","Hurst","Villanueva","Roach","Nolan","Lam","Yoder","Mccullough","Lester","Santana","Valenzuela","Winters","Barrera","Leach","Orr","Berger","Mckee","Strong","Conway","Stein","Whitehead","Bullock","Escobar","Knox","Meadows","Solomon","Velez","Odonnell","Kerr","Stout","Blankenship","Browning","Kent","Lozano","Bartlett","Pruitt","Buck","Barr","Gaines","Durham","Gentry","Mcintyre","Sloan","Melendez","Rocha","Herman","Sexton","Moon","Hendricks","Rangel","Stark","Lowery","Hardin","Hull","Sellers","Ellison","Calhoun","Gillespie","Mora","Knapp","Mccall","Morse","Dorsey","Weeks","Nielsen","Livingston","Leblanc","Mclean","Bradshaw","Glass","Middleton","Buckley","Schaefer","Frost","Howe","House","Mcintosh","Ho","Pennington","Reilly","Hebert","Mcfarland","Hickman","Noble","Spears","Conrad","Arias","Galvan","Velazquez","Huynh","Frederick","Randolph","Cantu","Fitzpatrick","Mahoney","Peck","Villa","Michael","Donovan","Mcconnell","Walls","Boyle","Mayer","Zuniga","Giles","Pineda","Pace","Hurley","Mays","Mcmillan","Crosby","Ayers","Case","Bentley","Shepard","Everett","Pugh","David","Mcmahon","Dunlap","Bender","Hahn","Harding","Acevedo","Raymond","Blackburn","Duffy","Landry","Dougherty","Bautista","Shah","Potts","Arroyo","Valentine","Meza","Gould","Vaughan","Fry","Rush","Avery","Herring","Dodson","Clements","Sampson","Tapia","Bean","Lynn","Crane","Farley","Cisneros","Benton","Ashley","Mckay","Finley","Best","Blevins","Friedman","Moses","Sosa","Blanchard","Huber","Frye","Krueger","Bernard","Rosario","Rubio","Mullen","Benjamin","Haley","Chung","Moyer","Choi","Horne","Yu","Woodward","Ali","Nixon","Hayden","Rivers","Estes","Mccarty","Richmond","Stuart","Maynard","Brandt","Oconnell","Hanna","Sanford","Sheppard","Church","Burch","Levy","Rasmussen","Coffey","Ponce","Faulkner","Donaldson","Schmitt","Novak","Costa","Montes","Booker","Cordova","Waller","Arellano","Maddox","Mata","Bonilla","Stanton","Compton","Kaufman","Dudley","Mcpherson","Beltran","Dickson","Mccann","Villegas","Proctor","Hester","Cantrell","Daugherty","Cherry","Bray","Davila","Rowland","Levine","Madden","Spence","Good","Irwin","Werner","Krause","Petty","Whitney","Baird","Hooper","Pollard","Zavala","Jarvis","Holden","Haas","Hendrix","Mcgrath","Bird","Lucero","Terrell","Riggs","Joyce","Mercer","Rollins","Galloway","Duke","Odom","Andersen","Downs","Hatfield","Benitez","Archer","Huerta","Travis","Mcneil","Hinton","Zhang","Hays","Mayo","Fritz","Branch","Mooney","Ewing","Ritter","Esparza","Frey","Braun","Gay","Riddle","Haney","Kaiser","Holder","Chaney","Mcknight","Gamble","Vang","Cooley","Carney","Cowan","Forbes","Ferrell","Davies","Barajas","Shea","Osborn","Bright","Cuevas","Bolton","Murillo","Lutz","Duarte","Kidd","Key","Cooke"]}'),i=function(t){return Math.floor(Math.random()*t)},a=function(){if(!r)return"Unknown";if(!r.data)return"Unknown";var t=r.data;if(!Array.isArray(t))return"Unknown";var e=t.length;return t[i(e)]+" "+t[i(e)]}},,,,function(t,e,n){"use strict";n.d(e,{R0:function(){return s},Tv:function(){return a},j6:function(){return r},sw:function(){return i},tO:function(){return o}});n(27);var r=function(){var t=setInterval((function(){window.Sentry&&clearInterval(t)}),100)},i=function(t,e){window.Sentry&&window.Sentry.addBreadcrumb({category:t,message:e})},a=function(t){window.Sentry&&window.Sentry.setUser(t)},s=function(t,e){},o=function(t){}}],e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,r,i,a){if(!r){var s=1/0;for(c=0;c<t.length;c++){r=t[c][0],i=t[c][1],a=t[c][2];for(var o=!0,h=0;h<r.length;h++)(!1&a||s>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[h])}))?r.splice(h--,1):(o=!1,a<s&&(s=a));if(o){t.splice(c--,1);var l=i();void 0!==l&&(e=l)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[r,i,a]}}(),n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))},n.u=function(t){return t+"."+{7:"6d1c62ca8ce7a5854f40",109:"e21e9f5589502c707a35",123:"bb7819814f73f655354c",131:"ebde447154243f713010",270:"18b2e61405a489958578",377:"4aff00da37479a897290",401:"76b661243c2314eb1784",451:"e1072a14266a10e98ca9",457:"980178ccce4d29c69294",498:"664ddca855218737c96c",530:"7090535abf81f2c8dced",545:"20f9c3c66c70992b4d3d",739:"dfcbfbdf7f8142a94e35",766:"f76a12247a0ea3a29a16",803:"a3c5913430688635fc2f",942:"c01c058a96093f6636bc",961:"b3b56d1e2aa051feb3a8"}[t]+".bundle.js"},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={},e="game-core:";n.l=function(r,i,a,s){if(t[r])t[r].push(i);else{var o,h;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==e+a){o=u;break}}o||(h=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",e+a),o.src=r),t[r]=[i];var d=function(e,n){o.onerror=o.onload=null,clearTimeout(f);var i=t[r];if(delete t[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(t){return t(n)})),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),h&&document.head.appendChild(o)}}}(),n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&!t;)t=r[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t}(),function(){var t={757:0};n.f.j=function(e,r){var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=t[e]=[n,r]}));r.push(i[2]=a);var s=n.p+n.u(e),o=new Error;n.l(s,(function(r){if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}}),"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,a,s=r[0],o=r[1],h=r[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(h)var c=h(n)}for(e&&e(r);l<s.length;l++)a=s[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(c)},r=self.webpackChunkgame_core=self.webpackChunkgame_core||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),n.O(void 0,[216,630,542],(function(){return n(29)})),n.O(void 0,[216,630,542],(function(){return n(30)})),n.O(void 0,[216,630,542],(function(){return n(9)})),n.O(void 0,[216,630,542],(function(){return n(10)})),n.O(void 0,[216,630,542],(function(){return n(31)})),n.O(void 0,[216,630,542],(function(){return n(11)})),n.O(void 0,[216,630,542],(function(){return n(12)}));var r=n.O(void 0,[216,630,542],(function(){return n(13)}));r=n.O(r)})();