"use strict";(self.webpackChunkgame_core=self.webpackChunkgame_core||[]).push([[760],{529:function(i,t,e){e.r(t);var a=e(528),s=e(617),o=e(57),h=function(){function i(){var i=this;this.events=void 0,this.previousLayout=void 0,this.resizeEventData=void 0,this.portraitRatio=void 0,this.portraitWidth=void 0,this.portraitHeight=void 0,this.landscapeRatio=void 0,this.landscapeWidth=void 0,this.landscapeHeight=void 0,this.worldWidth=void 0,this.worldHeight=void 0,this.worldRatio=void 0,this.autoResize=void 0,this.disableLandscape=void 0,this.fullSizeOnLandscape=void 0,this.currentLayout=void 0,this.forcePixelRatio=void 0,this.handleResize=(0,o.debounce)((function(){i.previousLayout=""+i.currentLayout,i.initWorldSize(),i.resize()}),300)}var t=i.prototype;return t.configure=function(i){var t=i.autoResize,e=i.portraitRatio,a=i.portraitWidth,s=i.portraitHeight,o=i.landscapeWidth,h=i.landscapeHeight,r=i.landscapeRatio,n=i.disableLandscape,d=i.fullSizeOnLandscape;this.autoResize=t,this.disableLandscape=n,this.fullSizeOnLandscape=d,this.portraitRatio=e,this.portraitWidth=a,this.portraitHeight=s,this.landscapeRatio=r,this.landscapeWidth=o,this.landscapeHeight=h,this.initWorldSize(),this.addEventResize()},t.resize=function(i){},t.getResizeEventData=function(){return this.resizeEventData},t.resizeCanvas=function(i,t){},t.getWorldSize=function(){return{width:this.worldWidth,height:this.worldHeight}},t.initWorldSize=function(){if(this.worldWidth=this.portraitWidth,this.worldHeight=this.portraitHeight,this.isScreenSmallerRatio(this.portraitRatio))this.worldHeight=this.worldWidth/this.getScreenRatio();else if(!this.disableLandscape&&!this.isScreenSmallerRatio(this.landscapeRatio)&&(this.landscapeRatio=1.22,this.worldHeight=this.landscapeHeight,this.worldWidth=this.worldHeight*this.landscapeRatio,this.fullSizeOnLandscape)){this.worldRatio=this.worldWidth/this.worldHeight,this.landscapeRatio=this.getScreenRatio();var i=this.getCanvasSizeFixedRatio(this.landscapeRatio),t=i.width,e=i.height,a=this.getZoomRatio();this.worldWidth=t/a,this.worldHeight=e/a}this.worldRatio=this.worldWidth/this.worldHeight,window.firstConfig||(window.firstConfig={worldRatio:this.worldRatio,portraitRatio:this.portraitRatio,landscapeRatio:this.landscapeRatio,landscapeWidth:this.landscapeWidth,landscapeHeight:this.landscapeHeight,worldWidth:this.worldWidth,worldHeight:this.worldHeight,screenWidth:this.getScreenWidth(),screenHeight:this.getScreenHeight(),gamecoreConfigs:(0,s.Z)({},GameCore.Configs.Game),validSizeDebug:(0,s.Z)({},window.validSizeDebug||{})})},t.getZoomRatio=function(){var i=this.getWorldSize().width;return this.getCanvasSizeFixedRatio(this.worldRatio).width/i},t.getPixelRatio=function(){if(this.forcePixelRatio>0)return this.forcePixelRatio;if(GameCore.Utils.Device.isDesktop())return 2;var i=GameCore.Utils.Device.pixelRatio();return i=i>2.44?2.88:i>2?2:Math.round(i)},t.getPixelRatioForCanvas=function(){var i=GameCore.Utils.Device.pixelRatio();if(this.forcePixelRatio>0&&(i=this.forcePixelRatio),GameCore.Utils.Device.isDesktop())return Math.min(2,1200/(this.getScreenHeight()-0));var t=Math.max(1,i),e=1080/this.getScreenWidth();return t>2&&(t=Math.min(Math.round(2*t)/2,e)),t},t.getPhysicPixels=function(i,t){return i*t},t.getCanvasSizeFixedRatio=function(i){var t=this.getPixelRatioForCanvas(),e=this.getScreenWidth()*t,a=this.getScreenHeight()*t;return this.isLandscape()&&(a=(this.getScreenHeight()-0)*t),this.isScreenSmallerRatio(i)?a=e/i:e=a*i,{width:e,height:a}},t.getScreenRatio=function(){return this.getScreenWidth()/this.getScreenHeight()},t.getScreenHeight=function(){var i=document,t=i.body,e=i.documentElement,a=t.clientHeight,s=e.clientHeight;return Math.max(s,a)||0},t.getScreenWidth=function(){var i=document,t=i.body,e=i.documentElement,a=t.clientWidth,s=e.clientWidth;return Math.max(s,a)||0},t.isScreenSmallerRatio=function(i){var t=this.getScreenWidth(),e=this.getScreenHeight();return GameCore.Utils.Device.isDesktop()?t/(e-0)<i:t/e<i},t.addEventResize=function(){this.autoResize&&window.addEventListener("resize",this.handleResize)},t.isLandscape=function(){return!this.disableLandscape&&this.worldRatio>this.portraitRatio},i}();window.GameCore.world=function(){var i=a.Z.Game,t=i.AutoResize,e=i.PortraitRatio,s=i.PortraitWidth,o=i.PortraitHeight,r=i.LandscapeRatio,n=i.LandscapeWidth,d=i.LandscapeHeight,c=t,l=i.DisableLandscape,g=i.FullSizeOnLandscape,u=e,p=s,R=o,v=r,f=n,w=d,S=new h;return S.configure({autoResize:c,portraitRatio:u,portraitWidth:p,portraitHeight:R,landscapeRatio:v,landscapeWidth:f,landscapeHeight:w,disableLandscape:l,fullSizeOnLandscape:g}),S}()}}]);