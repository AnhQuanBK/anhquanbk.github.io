System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///rollupPluginModLoBabelHelpers-59152efd.js",[],(function(t){return{execute:function(){function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r(e){return(r=t("m","function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}))(e)}function n(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m(n.key),n)}}function i(t,e,r){return(e=m(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(e){return(a=t("l",Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)}))(e)}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function f(e,r,n){return(f=c()?t("s",Reflect.construct.bind()):t("s",(function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&u(o,r.prototype),o}))).apply(null,arguments)}function l(e){var r="function"==typeof Map?new Map:void 0;return(l=t("n",(function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return f(t,arguments,a(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,t)})))(e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}function y(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}function h(){return(h="undefined"!=typeof Reflect&&Reflect.get?t("k",Reflect.get.bind()):t("k",(function(t,e,r){var n=y(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}))).apply(this,arguments)}function v(t,e,r,n){return(v="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,r,n){var o,a=y(t,e);if(a){if((o=Object.getOwnPropertyDescriptor(a,e)).set)return o.set.call(n,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(n,e)){if(!o.writable)return!1;o.value=r,Object.defineProperty(n,e,o)}else i(n,e,r);return!0})(t,e,r,n)}function b(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}t({_:function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0);i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0);void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null);return i},a:function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)},b:function(t){var e=c();return function(){var r,n=a(t);if(e){var o=a(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}},c:function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},d:function(t,e,r,n){if(!r)return;Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})},e:s,f:function(t,e,r){e&&o(t.prototype,e);r&&o(t,r);return Object.defineProperty(t,"prototype",{writable:!1}),t},g:function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function u(t){n(a,o,i,u,c,"next",t)}function c(t){n(a,o,i,u,c,"throw",t)}u(void 0)}))}},h:function(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t("h",(function(){return r}));var e,r={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(e){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),u=new T(n||[]);return i(a,"_invoke",{value:S(t,r,u)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=s;var y="suspendedStart",h="executing",v="completed",b={};function d(){}function m(){}function g(){}var w={};l(w,u,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(A([])));j&&j!==n&&o.call(j,u)&&(w=j);var P=g.prototype=d.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(n,i,a,u){var c=p(t[n],t,i);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==typeof l&&o.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var n;i(this,"_invoke",{value:function(t,o){function i(){return new e((function(e,n){r(t,o,e,n)}))}return n=n?n.then(i,i):i()}})}function S(t,r,n){var o=y;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var c=L(u,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var f=p(t,r,n);if("normal"===f.type){if(o=n.done?v:"suspendedYield",f.arg===b)continue;return{value:f.arg,done:n.done}}"throw"===f.type&&(o=v,n.method="throw",n.arg=f.arg)}}}function L(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=p(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return m.prototype=g,i(P,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:m,configurable:!0}),m.displayName=l(g,f,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,f,"GeneratorFunction")),t.prototype=Object.create(P),t},r.awrap=function(t){return{__await:t}},E(x.prototype),l(x.prototype,c,(function(){return this})),r.AsyncIterator=x,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new x(s(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(P),l(P,f,"Generator"),l(P,u,(function(){return this})),l(P,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),f=o.call(a,"finallyLoc");if(c&&f){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},r},i:function(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t},j:function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=b(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}},k:h,l:a,m:r,n:l,o:function(t,e,r,n,o){if(!v(t,e,r,n||t)&&o)throw new TypeError("failed to set property");return r},p:function(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},q:i,r:function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,f=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){f=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw o}}return u}}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},s:f})}}}));

System.register("chunks:///TournamentUtils-a5936e3c.js",["./rollupPluginModLoBabelHelpers-59152efd.js","cc"],(function(e){var t,n,r,a,i,s,o,u,E,c,l,_,T,A,S,I,d,R,L,f,p,v,N,h,m,y,g,O,F,B,G,V,C,M,U;return{setters:[function(e){t=e.q,n=e.f,r=e.c,a=e.g,i=e.h,s=e.r,o=e.j,u=e.i,E=e.a,c=e.b,l=e.n,_=e.p},function(e){T=e.cclegacy,A=e.ccenum,S=e.JsonAsset,I=e.Prefab,d=e.AnimationClip,R=e.ImageAsset,L=e.SpriteFrame,f=e.Font,p=e.assetManager,v=e.AudioClip,N=e.tween,h=e.Animation,m=e.UITransform,y=e.view,g=e.screen,O=e.math,F=e.find,B=e.director,G=e.game,V=e.loadWasmModuleBullet,C=e.loadWasmModulePhysX,M=e.loadWasmModuleBox2D,U=e.loadWasmModuleSpine}],execute:function(){e("w",!1),e("E",!1);T._RF.push({},"725f8u/lDtFbY1DMY0uJSL9","Locales",void 0);e("f",["en","ru"]);var w=e("g",{en:"fonts/mikado-bold.ttf",ru:"fonts/nunito-black.ttf"});e("x",{ru:"locales/ru"}),e("v",{en:"104px",ru:"96px"});T._RF.pop(),T._RF.push({},"a6e4bjV/RVH17qBEx1mZaFg","ResourcePaths",void 0);var b=Ludex.Utils.Object,k=e("h",function(e){return e.BOMB_RESCUE_PREFAB="game-objects/bomb/BombRescue",e.BOMB_EXPLODE_PREFAB="game-objects/bomb/BombExplode",e.BOMB_DEFUSE_PREFAB="game-objects/bomb/DefuseExplode",e.CLEAR_EXPLOSION_PREFAB="game-objects/clear-explosion/ClearExplosionV2",e.TILE_BREAK_ANIM="animations/TileBreak",e.TILE_CLEAR_ANIM="animations/TileClear",e.TILE_SHAKE_ANIM="animations/TileShake",e.TILE_SKIN_FOLDER="tiles",e.TILE_SKIN_PREVIEW_FOLDER="tiles-preview",e.ITEM_POPUP_FOLDER="item-popup",e.SUMMER_BG="images/bg/summer",e.AUTUMN_BG="images/bg/autumn",e.WINTER_BG="images/bg/winter",e.FLOWER_FIELD_BG="images/bg/flower-field",e.TREE_PLANTING_FESTIVAL_BG="images/bg/tree-planting-festival",e.MUSIC_FESTIVAL_BG="images/bg/music-festival",e.HARVEST_FESTIVAL_BG="images/bg/harvest-festival",e.FOOD_FESTIVAL_BG="images/bg/food-festival",e.LIGHT_FESTIVAL_BG="images/bg/light-festival",e.PEACE_FESTIVAL_BG="images/bg/peace-festival",e.FLOWER_FESTIVAL_BG="images/bg/flower-festival",e.STREET_FESTIVAL_BG="images/bg/street-festival",e.COLOR_GARDEN_BG="images/bg/color-garden",e.COLOR_FESTIVAL_BG="images/bg/color-festival",e.NATURE_SUMMER_BG="images/bg/nature-summer",e.SNOW_MOUNTAIN_BG="images/bg/snow-mountain",e.ICE_FESTIVAL_BG="images/bg/ice-festival",e.NIGHT_FESTIVAL_BG="images/bg/night-festival",e.LOST_FESTIVAL_BG="images/bg/lost-festival",e.HALLOWEEN_BG="images/bg/halloween",e.CHRISTMAS_BG="images/bg/christmas",e.SPRING_FLOWER_FESTIVAL_BG="images/bg/spring-flower-festival",e.TET_HOLIDAY_BG="images/bg/tet-holiday",e.SEA_FESTIVAL_BG="images/bg/sea-festival",e.FIREWORK_FESTIVAL_BG="images/bg/firework-festival",e.SUMMER_BG_PREVIEW="images/preview/summer",e.AUTUMN_BG_PREVIEW="images/preview/autumn",e.WINTER_BG_PREVIEW="images/preview/winter",e.FLOWER_FIELD_BG_PREVIEW="images/preview/flower-field",e.TREE_PLANTING_FESTIVAL_BG_PREVIEW="images/preview/tree-planting-festival",e.MUSIC_FESTIVAL_BG_PREVIEW="images/preview/music-festival",e.HARVEST_FESTIVAL_BG_PREVIEW="images/preview/harvest-festival",e.FOOD_FESTIVAL_BG_PREVIEW="images/preview/food-festival",e.LIGHT_FESTIVAL_BG_PREVIEW="images/preview/light-festival",e.PEACE_FESTIVAL_BG_PREVIEW="images/preview/peace-festival",e.FLOWER_FESTIVAL_BG_PREVIEW="images/preview/flower-festival",e.STREET_FESTIVAL_BG_PREVIEW="images/preview/street-festival",e.COLOR_GARDEN_BG_PREVIEW="images/preview/color-garden",e.COLOR_FESTIVAL_BG_PREVIEW="images/preview/color-festival",e.NATURE_SUMMER_BG_PREVIEW="images/preview/nature-summer",e.SNOW_MOUNTAIN_BG_PREVIEW="images/preview/snow-mountain",e.ICE_FESTIVAL_BG_PREVIEW="images/preview/ice-festival",e.NIGHT_FESTIVAL_BG_PREVIEW="images/preview/night-festival",e.LOST_FESTIVAL_BG_PREVIEW="images/preview/lost-festival",e.HALLOWEEN_BG_PREVIEW="images/preview/halloween",e.CHRISTMAS_BG_PREVIEW="images/preview/christmas",e.SPRING_FLOWER_FESTIVAL_BG_PREVIEW="images/preview/spring-flower-festival",e.TET_HOLIDAY_BG_PREVIEW="images/preview/tet-holiday",e.SEA_FESTIVAL_BG_PREVIEW="images/preview/sea-festival",e.FIREWORK_FESTIVAL_BG_PREVIEW="images/preview/firework-festival",e.SUMMER_BG_TOURNAMENT="images/tournament/summer",e.AUTUMN_BG_TOURNAMENT="images/tournament/autumn",e.WINTER_BG_TOURNAMENT="images/tournament/winter",e.FLOWER_FIELD_BG_TOURNAMENT="images/tournament/flower-field",e.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT="images/tournament/tree-planting-festival",e.MUSIC_FESTIVAL_BG_TOURNAMENT="images/tournament/music-festival",e.HARVEST_FESTIVAL_BG_TOURNAMENT="images/tournament/harvest-festival",e.FOOD_FESTIVAL_BG_TOURNAMENT="images/tournament/food-festival",e.LIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/light-festival",e.PEACE_FESTIVAL_BG_TOURNAMENT="images/tournament/peace-festival",e.FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/flower-festival",e.STREET_FESTIVAL_BG_TOURNAMENT="images/tournament/street-festival",e.COLOR_GARDEN_BG_TOURNAMENT="images/tournament/color-garden",e.COLOR_FESTIVAL_BG_TOURNAMENT="images/tournament/color-festival",e.NATURE_SUMMER_BG_TOURNAMENT="images/tournament/nature-summer",e.SNOW_MOUNTAIN_BG_TOURNAMENT="images/tournament/snow-mountain",e.ICE_FESTIVAL_BG_TOURNAMENT="images/tournament/ice-festival",e.NIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/night-festival",e.LOST_FESTIVAL_BG_TOURNAMENT="images/tournament/lost-festival",e.HALLOWEEN_BG_TOURNAMENT="images/tournament/halloween",e.CHRISTMAS_BG_TOURNAMENT="images/tournament/christmas",e.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/spring-flower-festival",e.TET_HOLIDAY_BG_TOURNAMENT="images/tournament/tet-holiday",e.SEA_FESTIVAL_BG_TOURNAMENT="images/tournament/sea-festival",e.FIREWORK_FESTIVAL_BG_TOURNAMENT="images/tournament/firework-festival",e.SUMMER_BG_THUMBNAIL="images/thumbnail/summer",e.AUTUMN_BG_THUMBNAIL="images/thumbnail/autumn",e.WINTER_BG_THUMBNAIL="images/thumbnail/winter",e.FLOWER_FIELD_BG_THUMBNAIL="images/thumbnail/flower-field",e.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL="images/thumbnail/tree-planting-festival",e.MUSIC_FESTIVAL_BG_THUMBNAIL="images/thumbnail/music-festival",e.HARVEST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/harvest-festival",e.FOOD_FESTIVAL_BG_THUMBNAIL="images/thumbnail/food-festival",e.LIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/light-festival",e.PEACE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/peace-festival",e.FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/flower-festival",e.STREET_FESTIVAL_BG_THUMBNAIL="images/thumbnail/street-festival",e.COLOR_GARDEN_BG_THUMBNAIL="images/thumbnail/color-garden",e.COLOR_FESTIVAL_BG_THUMBNAIL="images/thumbnail/color-festival",e.NATURE_SUMMER_BG_THUMBNAIL="images/thumbnail/nature-summer",e.SNOW_MOUNTAIN_BG_THUMBNAIL="images/thumbnail/snow-mountain",e.ICE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/ice-festival",e.NIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/night-festival",e.LOST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/lost-festival",e.HALLOWEEN_BG_THUMBNAIL="images/thumbnail/halloween",e.CHRISTMAS_BG_THUMBNAIL="images/thumbnail/christmas",e.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/spring-flower-festival",e.TET_HOLIDAY_BG_THUMBNAIL="images/thumbnail/tet-holiday",e.SEA_FESTIVAL_BG_THUMBNAIL="images/thumbnail/sea-festival",e.FIREWORK_FESTIVAL_BG_THUMBNAIL="images/thumbnail/firework-festival",e.COLLECTIONS_PAGE="pages/CollectionsContent",e.LEADERBOARD_PAGE="pages/LeaderboardContent",e.TOURNAMENTS_PAGE="pages/TournamentsContent",e.PAGE_LEAVES_PREFAB="pages/Leaves",e.LEVEL_DATA_FOLDER="levels-json",e.SIDEBAR_BG="images/bg-sidebar",e.TOP_LEFT_LEAF="images/top-left-leaf",e.TOP_RIGHT_LEAF="images/top-right-leaf",e.BOTTOM_LEFT_LEAF="images/bottom-left-leaf",e.BOTTOM_RIGHT_LEAF="images/bottom-right-leaf",e.TORNADO_SPINE_PREFAB="game-objects/tornado/Tornado",e}(k||{})),D=b.vals(k),P=e("d",D.reduce((function(e,t,n){return e[t]=n,e}),{}));A(P);e("e",D);T._RF.pop(),T._RF.push({},"3f1dbbPrPVBy5lNYySV74Qq","ThemeKeys",void 0);var W,H,x,$,Y=e("q",{SUMMER:"summer",AUTUMN:"autumn",WINTER:"winter",SPRING_FESTIVAL:"spring-festival",TREE_PLANTING_FESTIVAL:"tree-planting-festival",BLUE_SEA_FESTIVAL:"blue-sea-festival",MUSIC_FESTIVAL:"music-festival",HARVEST_FESTIVAL:"harvest-festival",FOOD_FESTIVAL:"food-festival",SNOW_FESTIVAL:"snow-festival",LIGHT_FESTIVAL:"light-festival",PEACE_FESTIVAL:"peace-festival",FLOWER_FESTIVAL:"flower-festival",STREET_FESTIVAL:"street-festival",COLOR_GARDEN:"color-garden",COLOR_FESTIVAL:"color-festival",NATURE_SUMMER:"nature-summer",SNOW_MOUNTAIN:"snow-mountain",ICE_FESTIVAL:"ice-festival",GREEN_GRASS_FESTIVAL:"green-grass-festival",COMMUNITY_FESTIVAL:"community-festival",WATER_FESTIVAL:"water-festival",ANIMAL_FESTIVAL:"animal-festival",LOST_FESTIVAL:"lost-festival",HALLOWEEN_FESTIVAL:"halloween-festival",SNOW_MUSIC_FESTIVAL:"snow-music-festival",CHRISTMAS:"christmas",SPRING_FLOWER_FESTIVAL:"spring-flower-festival",TET_HOLIDAY:"tet-holiday",SEA_FESTIVAL:"sea-festival",FIREWORK_FESTIVAL:"firework-festival",HALLOWEEN_HORROR:"halloween-horror",MID_AUTUMN:"mid-autumn",CHRISTMAS_SWEET:"christmas-sweet",NEW_YEAR_COUNTDOWN:"new-year-countdown",HAPPY_NEW_YEAR:"happy-new-year"});A(Y),T._RF.pop(),T._RF.push({},"2a657+TsltMe4rrDmyWGrLy","ThemeResourcesPath",void 0);var K=(t(W={},Y.SUMMER,k.SUMMER_BG),t(W,Y.AUTUMN,k.AUTUMN_BG),t(W,Y.WINTER,k.WINTER_BG),t(W,Y.SPRING_FESTIVAL,k.FLOWER_FIELD_BG),t(W,Y.TREE_PLANTING_FESTIVAL,k.TREE_PLANTING_FESTIVAL_BG),t(W,Y.BLUE_SEA_FESTIVAL,k.SEA_FESTIVAL_BG),t(W,Y.MUSIC_FESTIVAL,k.MUSIC_FESTIVAL_BG),t(W,Y.HARVEST_FESTIVAL,k.HARVEST_FESTIVAL_BG),t(W,Y.FOOD_FESTIVAL,k.FOOD_FESTIVAL_BG),t(W,Y.SNOW_FESTIVAL,k.WINTER_BG),t(W,Y.LIGHT_FESTIVAL,k.LIGHT_FESTIVAL_BG),t(W,Y.PEACE_FESTIVAL,k.PEACE_FESTIVAL_BG),t(W,Y.FLOWER_FESTIVAL,k.FLOWER_FESTIVAL_BG),t(W,Y.STREET_FESTIVAL,k.STREET_FESTIVAL_BG),t(W,Y.COLOR_GARDEN,k.COLOR_GARDEN_BG),t(W,Y.COLOR_FESTIVAL,k.COLOR_FESTIVAL_BG),t(W,Y.NATURE_SUMMER,k.NATURE_SUMMER_BG),t(W,Y.SNOW_MOUNTAIN,k.SNOW_MOUNTAIN_BG),t(W,Y.ICE_FESTIVAL,k.ICE_FESTIVAL_BG),t(W,Y.GREEN_GRASS_FESTIVAL,k.FLOWER_FIELD_BG),t(W,Y.COMMUNITY_FESTIVAL,k.NIGHT_FESTIVAL_BG),t(W,Y.WATER_FESTIVAL,k.SEA_FESTIVAL_BG),t(W,Y.ANIMAL_FESTIVAL,k.TREE_PLANTING_FESTIVAL_BG),t(W,Y.LOST_FESTIVAL,k.LOST_FESTIVAL_BG),t(W,Y.HALLOWEEN_FESTIVAL,k.HALLOWEEN_BG),t(W,Y.SNOW_MUSIC_FESTIVAL,k.MUSIC_FESTIVAL_BG),t(W,Y.CHRISTMAS,k.CHRISTMAS_BG),t(W,Y.SPRING_FLOWER_FESTIVAL,k.SPRING_FLOWER_FESTIVAL_BG),t(W,Y.TET_HOLIDAY,k.TET_HOLIDAY_BG),t(W,Y.SEA_FESTIVAL,k.SEA_FESTIVAL_BG),t(W,Y.FIREWORK_FESTIVAL,k.FIREWORK_FESTIVAL_BG),t(W,Y.HALLOWEEN_HORROR,k.HALLOWEEN_BG),t(W,Y.MID_AUTUMN,k.SPRING_FLOWER_FESTIVAL_BG),t(W,Y.CHRISTMAS_SWEET,k.CHRISTMAS_BG),t(W,Y.NEW_YEAR_COUNTDOWN,k.TET_HOLIDAY_BG),t(W,Y.HAPPY_NEW_YEAR,k.TET_HOLIDAY_BG),W),z=e("s",(t(H={},Y.SUMMER,k.SUMMER_BG_PREVIEW),t(H,Y.AUTUMN,k.AUTUMN_BG_PREVIEW),t(H,Y.WINTER,k.WINTER_BG_PREVIEW),t(H,Y.SPRING_FESTIVAL,k.FLOWER_FIELD_BG_PREVIEW),t(H,Y.TREE_PLANTING_FESTIVAL,k.TREE_PLANTING_FESTIVAL_BG_PREVIEW),t(H,Y.BLUE_SEA_FESTIVAL,k.SEA_FESTIVAL_BG_PREVIEW),t(H,Y.MUSIC_FESTIVAL,k.MUSIC_FESTIVAL_BG_PREVIEW),t(H,Y.HARVEST_FESTIVAL,k.HARVEST_FESTIVAL_BG_PREVIEW),t(H,Y.FOOD_FESTIVAL,k.FOOD_FESTIVAL_BG_PREVIEW),t(H,Y.SNOW_FESTIVAL,k.WINTER_BG_PREVIEW),t(H,Y.LIGHT_FESTIVAL,k.LIGHT_FESTIVAL_BG_PREVIEW),t(H,Y.PEACE_FESTIVAL,k.PEACE_FESTIVAL_BG_PREVIEW),t(H,Y.FLOWER_FESTIVAL,k.FLOWER_FESTIVAL_BG_PREVIEW),t(H,Y.STREET_FESTIVAL,k.STREET_FESTIVAL_BG_PREVIEW),t(H,Y.COLOR_GARDEN,k.COLOR_GARDEN_BG_PREVIEW),t(H,Y.COLOR_FESTIVAL,k.COLOR_FESTIVAL_BG_PREVIEW),t(H,Y.NATURE_SUMMER,k.NATURE_SUMMER_BG_PREVIEW),t(H,Y.SNOW_MOUNTAIN,k.SNOW_MOUNTAIN_BG_PREVIEW),t(H,Y.ICE_FESTIVAL,k.ICE_FESTIVAL_BG_PREVIEW),t(H,Y.GREEN_GRASS_FESTIVAL,k.FLOWER_FIELD_BG_PREVIEW),t(H,Y.COMMUNITY_FESTIVAL,k.NIGHT_FESTIVAL_BG_PREVIEW),t(H,Y.WATER_FESTIVAL,k.SEA_FESTIVAL_BG_PREVIEW),t(H,Y.ANIMAL_FESTIVAL,k.TREE_PLANTING_FESTIVAL_BG_PREVIEW),t(H,Y.LOST_FESTIVAL,k.LOST_FESTIVAL_BG_PREVIEW),t(H,Y.HALLOWEEN_FESTIVAL,k.HALLOWEEN_BG_PREVIEW),t(H,Y.SNOW_MUSIC_FESTIVAL,k.MUSIC_FESTIVAL_BG_PREVIEW),t(H,Y.CHRISTMAS,k.CHRISTMAS_BG_PREVIEW),t(H,Y.SPRING_FLOWER_FESTIVAL,k.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),t(H,Y.TET_HOLIDAY,k.TET_HOLIDAY_BG_PREVIEW),t(H,Y.SEA_FESTIVAL,k.SEA_FESTIVAL_BG_PREVIEW),t(H,Y.FIREWORK_FESTIVAL,k.FIREWORK_FESTIVAL_BG_PREVIEW),t(H,Y.HALLOWEEN_HORROR,k.HALLOWEEN_BG_PREVIEW),t(H,Y.MID_AUTUMN,k.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),t(H,Y.CHRISTMAS_SWEET,k.CHRISTMAS_BG_PREVIEW),t(H,Y.NEW_YEAR_COUNTDOWN,k.TET_HOLIDAY_BG_PREVIEW),t(H,Y.HAPPY_NEW_YEAR,k.TET_HOLIDAY_BG_PREVIEW),H)),q=e("t",(t(x={},Y.SUMMER,k.SUMMER_BG_TOURNAMENT),t(x,Y.AUTUMN,k.AUTUMN_BG_TOURNAMENT),t(x,Y.WINTER,k.WINTER_BG_TOURNAMENT),t(x,Y.SPRING_FESTIVAL,k.FLOWER_FIELD_BG_TOURNAMENT),t(x,Y.TREE_PLANTING_FESTIVAL,k.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),t(x,Y.BLUE_SEA_FESTIVAL,k.SEA_FESTIVAL_BG_TOURNAMENT),t(x,Y.MUSIC_FESTIVAL,k.MUSIC_FESTIVAL_BG_TOURNAMENT),t(x,Y.HARVEST_FESTIVAL,k.HARVEST_FESTIVAL_BG_TOURNAMENT),t(x,Y.FOOD_FESTIVAL,k.FOOD_FESTIVAL_BG_TOURNAMENT),t(x,Y.SNOW_FESTIVAL,k.WINTER_BG_TOURNAMENT),t(x,Y.LIGHT_FESTIVAL,k.LIGHT_FESTIVAL_BG_TOURNAMENT),t(x,Y.PEACE_FESTIVAL,k.PEACE_FESTIVAL_BG_TOURNAMENT),t(x,Y.FLOWER_FESTIVAL,k.FLOWER_FESTIVAL_BG_TOURNAMENT),t(x,Y.STREET_FESTIVAL,k.STREET_FESTIVAL_BG_TOURNAMENT),t(x,Y.COLOR_GARDEN,k.COLOR_GARDEN_BG_TOURNAMENT),t(x,Y.COLOR_FESTIVAL,k.COLOR_FESTIVAL_BG_TOURNAMENT),t(x,Y.NATURE_SUMMER,k.NATURE_SUMMER_BG_TOURNAMENT),t(x,Y.SNOW_MOUNTAIN,k.SNOW_MOUNTAIN_BG_TOURNAMENT),t(x,Y.ICE_FESTIVAL,k.ICE_FESTIVAL_BG_TOURNAMENT),t(x,Y.GREEN_GRASS_FESTIVAL,k.FLOWER_FIELD_BG_TOURNAMENT),t(x,Y.COMMUNITY_FESTIVAL,k.NIGHT_FESTIVAL_BG_TOURNAMENT),t(x,Y.WATER_FESTIVAL,k.SEA_FESTIVAL_BG_TOURNAMENT),t(x,Y.ANIMAL_FESTIVAL,k.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),t(x,Y.LOST_FESTIVAL,k.LOST_FESTIVAL_BG_TOURNAMENT),t(x,Y.HALLOWEEN_FESTIVAL,k.HALLOWEEN_BG_TOURNAMENT),t(x,Y.SNOW_MUSIC_FESTIVAL,k.MUSIC_FESTIVAL_BG_TOURNAMENT),t(x,Y.CHRISTMAS,k.CHRISTMAS_BG_TOURNAMENT),t(x,Y.SPRING_FLOWER_FESTIVAL,k.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),t(x,Y.TET_HOLIDAY,k.TET_HOLIDAY_BG_TOURNAMENT),t(x,Y.SEA_FESTIVAL,k.SEA_FESTIVAL_BG_TOURNAMENT),t(x,Y.FIREWORK_FESTIVAL,k.FIREWORK_FESTIVAL_BG_TOURNAMENT),t(x,Y.HALLOWEEN_HORROR,k.HALLOWEEN_BG_TOURNAMENT),t(x,Y.MID_AUTUMN,k.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),t(x,Y.CHRISTMAS_SWEET,k.CHRISTMAS_BG_TOURNAMENT),t(x,Y.NEW_YEAR_COUNTDOWN,k.TET_HOLIDAY_BG_TOURNAMENT),t(x,Y.HAPPY_NEW_YEAR,k.TET_HOLIDAY_BG_TOURNAMENT),x)),j=(t($={},Y.SUMMER,k.SUMMER_BG_THUMBNAIL),t($,Y.AUTUMN,k.AUTUMN_BG_THUMBNAIL),t($,Y.WINTER,k.WINTER_BG_THUMBNAIL),t($,Y.SPRING_FESTIVAL,k.FLOWER_FIELD_BG_THUMBNAIL),t($,Y.TREE_PLANTING_FESTIVAL,k.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),t($,Y.BLUE_SEA_FESTIVAL,k.SEA_FESTIVAL_BG_THUMBNAIL),t($,Y.MUSIC_FESTIVAL,k.MUSIC_FESTIVAL_BG_THUMBNAIL),t($,Y.HARVEST_FESTIVAL,k.HARVEST_FESTIVAL_BG_THUMBNAIL),t($,Y.FOOD_FESTIVAL,k.FOOD_FESTIVAL_BG_THUMBNAIL),t($,Y.SNOW_FESTIVAL,k.WINTER_BG_THUMBNAIL),t($,Y.LIGHT_FESTIVAL,k.LIGHT_FESTIVAL_BG_THUMBNAIL),t($,Y.PEACE_FESTIVAL,k.PEACE_FESTIVAL_BG_THUMBNAIL),t($,Y.FLOWER_FESTIVAL,k.FLOWER_FESTIVAL_BG_THUMBNAIL),t($,Y.STREET_FESTIVAL,k.STREET_FESTIVAL_BG_THUMBNAIL),t($,Y.COLOR_GARDEN,k.COLOR_GARDEN_BG_THUMBNAIL),t($,Y.COLOR_FESTIVAL,k.COLOR_FESTIVAL_BG_THUMBNAIL),t($,Y.NATURE_SUMMER,k.NATURE_SUMMER_BG_THUMBNAIL),t($,Y.SNOW_MOUNTAIN,k.SNOW_MOUNTAIN_BG_THUMBNAIL),t($,Y.ICE_FESTIVAL,k.ICE_FESTIVAL_BG_THUMBNAIL),t($,Y.GREEN_GRASS_FESTIVAL,k.FLOWER_FIELD_BG_THUMBNAIL),t($,Y.COMMUNITY_FESTIVAL,k.NIGHT_FESTIVAL_BG_THUMBNAIL),t($,Y.WATER_FESTIVAL,k.SEA_FESTIVAL_BG_THUMBNAIL),t($,Y.ANIMAL_FESTIVAL,k.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),t($,Y.LOST_FESTIVAL,k.LOST_FESTIVAL_BG_THUMBNAIL),t($,Y.HALLOWEEN_FESTIVAL,k.HALLOWEEN_BG_THUMBNAIL),t($,Y.SNOW_MUSIC_FESTIVAL,k.MUSIC_FESTIVAL_BG_THUMBNAIL),t($,Y.CHRISTMAS,k.CHRISTMAS_BG_THUMBNAIL),t($,Y.SPRING_FLOWER_FESTIVAL,k.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),t($,Y.TET_HOLIDAY,k.TET_HOLIDAY_BG_THUMBNAIL),t($,Y.SEA_FESTIVAL,k.SEA_FESTIVAL_BG_THUMBNAIL),t($,Y.FIREWORK_FESTIVAL,k.FIREWORK_FESTIVAL_BG_THUMBNAIL),t($,Y.HALLOWEEN_HORROR,k.HALLOWEEN_BG_THUMBNAIL),t($,Y.MID_AUTUMN,k.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),t($,Y.CHRISTMAS_SWEET,k.CHRISTMAS_BG_THUMBNAIL),t($,Y.NEW_YEAR_COUNTDOWN,k.TET_HOLIDAY_BG_THUMBNAIL),t($,Y.HAPPY_NEW_YEAR,k.TET_HOLIDAY_BG_THUMBNAIL),$);T._RF.pop(),T._RF.push({},"e47d3MKeBlKI5LBqF9tQ23T","ResourceUtils",void 0);var J=Ludex.Utils.Function;e("R",function(){function e(){r(this,e),this.mutex$=J.mutex(),this.bundles$={loadable:null,animations:null}}var t,u,E,c,l,_,T,A,N,h,m,y,g,O,F,B,G,V,C,M,U,b;return n(e,[{key:"getBundleNameByType",value:function(e){switch(e){case d:return"animations";default:return"loadable"}}},{key:"loadBundleByType",value:(b=a(i().mark((function t(n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getBundleNameByType(n),t.abrupt("return",e.loadBundle(r));case 2:case"end":return t.stop()}}),t,this)}))),function(e){return b.apply(this,arguments)})},{key:"getBundleByType",value:function(e){var t,n=this.getBundleNameByType(e);return null!==(t=this.bundles$[n])&&void 0!==t?t:null}},{key:"preloadAsset",value:(U=a(i().mark((function e(t,n,r){var a,s=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadBundleByType(n);case 2:if(a=this.getBundleByType(n)){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",new Promise((function(e,i){a.preload(t,n,(function(a){if(a)return console.warn("Failed to preload asset at path: ".concat(t),a),void i(a);r?s.loadAssetAsync(t,n).finally(e):e()}))})));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return U.apply(this,arguments)})},{key:"loadAssetAsync",value:(M=a(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadBundleByType(n);case 2:if(r=this.getBundleByType(n)){e.next=5;break}return e.abrupt("return",null);case 5:if(!(a=this.getAsset(t,n))){e.next=8;break}return e.abrupt("return",a);case 8:return e.abrupt("return",new Promise((function(e,a){var i=function(n,r){r?e(r):(console.warn("[ResourceUtils] Failed to load asset at path: ".concat(t),n),a(null))};n?r.load(t,n,i):r.load(t,i)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return M.apply(this,arguments)})},{key:"loadAssetsAsync",value:(C=a(i().mark((function e(t,n){var r,a,s,o,u,E,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadBundleByType(n);case 2:if(r=this.getBundleByType(n)){e.next=5;break}return e.abrupt("return",null);case 5:for(a=[],s=[],o=0,u=t.length;o<u;o++)E=t[o],(c=this.getAsset(E,n))?a.push({index:o,asset:c}):s.push({index:o,path:E});if(0!==s.length){e.next=10;break}return e.abrupt("return",Promise.resolve(a.map((function(e){return e.asset}))));case 10:return e.abrupt("return",new Promise((function(e){r.load(s.map((function(e){return e.path})),n,(function(t,n){if(t||n.length!==s.length)e(null);else{for(var r=0,i=n.length;r<i;r++){var o,u=n[r];if(u){var E=null===(o=s[r])||void 0===o?void 0:o.index;if(!E)return;a.splice(E,0,{index:E,asset:u})}}e(a.map((function(e){return e.asset})))}}))})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return C.apply(this,arguments)})},{key:"loadDirAsync",value:(V=a(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadBundleByType(n);case 2:if(r=this.getBundleByType(n)){e.next=5;break}return e.abrupt("return",Promise.resolve([]));case 5:return e.abrupt("return",new Promise((function(e){r.loadDir(t,n,(function(n,r){r?e(r):(console.warn("Failed to load assets at path: ".concat(t),n),e([]))}))})));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return V.apply(this,arguments)})},{key:"preloadDirAsync",value:(G=a(i().mark((function e(t,n,r){var a,s=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadBundleByType(n);case 2:if(a=this.getBundleByType(n)){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",new Promise((function(e,i){a.preloadDir(t,n,(function(a){if(a)return console.warn("Failed to preload assets at path: ".concat(t),a),void i(a);r?s.loadDirAsync(t,n).finally(e):e()}))})));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return G.apply(this,arguments)})},{key:"getAsset",value:function(t,n){var r=this.getBundleByType(n);if(!r)return null;var a=e.getAssetInfo(t,n);return a?r.get(a.path,n):null}},{key:"loadFontAsync",value:function(e){var t=w[e].replace(/\.[^.]+$/,"");return this.loadAssetAsync(t,f)}},{key:"loadSpriteFramesAsync",value:(B=a(i().mark((function e(t){var n,r,a,s,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(u.length>1&&void 0!==u[1])||u[1],e.next=3,this.loadAssetsAsync(t,L);case 3:if(r=e.sent){a=o(r);try{for(a.s();!(s=a.n()).done;)s.value.packable=n}catch(e){a.e(e)}finally{a.f()}}return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return B.apply(this,arguments)})}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"loadBundle",value:(F=a(i().mark((function e(t){var n,r,a,o,u,E=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(!this.inst.bundles$[t]){e.next=4;break}return e.abrupt("return",!0);case 4:if(!p.bundles.get(t)){e.next=6;break}return e.abrupt("return",!0);case 6:return e.next=8,this.inst.mutex$.use("bundle-".concat(t));case 8:if(n=e.sent,!this.inst.bundles$[t]){e.next=12;break}return n.release(),e.abrupt("return",!0);case 12:return r=new Promise((function(e,n){var r=setTimeout((function(){return n("load bundle timeout (".concat(8e3,"ms): ").concat(t))}),8e3);p.loadBundle(t,(function(a,i){clearTimeout(r);var s=E.inst.bundles$[t];s||!a&&i?(E.inst.bundles$[t]=null!=s?s:i,e(!0)):n(a)}))})),e.next=15,J.handleAsync(r);case 15:return a=e.sent,(o=s(a,2))[0],u=o[1],n.release(),e.abrupt("return",!u);case 21:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{key:"loadAudioAsync",value:(O=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.inst.loadAssetAsync(t,v));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return O.apply(this,arguments)})},{key:"loadJsonAsync",value:(g=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.inst.loadAssetAsync(t,S));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"loadPrefabAsync",value:(y=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.inst.loadAssetAsync(t,I));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"loadAnimClipAsync",value:(m=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.inst.loadAssetAsync(t,d));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"loadSkeletonDataAsync",value:(h=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.inst.loadAssetAsync(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"loadImageSpriteFrameAsync",value:(N=a(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.inst.loadAssetAsync(t,R);case 2:return n=e.sent,e.abrupt("return",n?L.createWithImage(n):null);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return N.apply(this,arguments)})},{key:"loadSpriteFrameAsync",value:(A=a(i().mark((function e(t){var n,r,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(a.length>1&&void 0!==a[1])||a[1],e.next=3,this.inst.loadAssetAsync(t,L);case 3:return(r=e.sent)&&(r.packable=n),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"loadSpriteFramesDirAsync",value:(T=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.inst.loadDirAsync(t,L));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return T.apply(this,arguments)})},{key:"preloadJson",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,S,t)}},{key:"preloadPrefab",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,I,t)}},{key:"preloadAnimClip",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,d,t)}},{key:"preloadImageSpriteFrame",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,R,t)}},{key:"preloadSpriteFrame",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,L,t)}},{key:"preloadSpriteFramesDir",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadDirAsync(e,L,t)}},{key:"getAssetInfo",value:function(e,t){var n=this.inst.getBundleByType(t);return n?n.getInfoWithPath(e,t):null}},{key:"getAsset",value:function(e,t){return this.inst.getAsset(e,t)}},{key:"loadFontAsync",value:function(e){return this.inst.loadFontAsync(e)}},{key:"loadSpriteFramesAsync",value:(_=a(i().mark((function e(t){var n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.abrupt("return",this.inst.loadSpriteFramesAsync(t,n));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"loadThemeAsync",value:(l=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loadSpriteFrameAsync("".concat(K[t],"/spriteFrame"),!1));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"loadThemePreviewAsync",value:(c=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loadSpriteFrameAsync("".concat(z[t],"/spriteFrame")));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"loadThemeTournamentAsync",value:(E=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loadSpriteFrameAsync("".concat(q[t],"/spriteFrame")));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"loadThemeThumbnailAsync",value:(u=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loadSpriteFrameAsync("".concat(j[t],"/spriteFrame")));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"loadSkinPreviewAsync",value:(t=a(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=1;r<=4;r++)a="".concat(k.TILE_SKIN_PREVIEW_FOLDER,"/").concat(t.replace(/-/g,"_"),"_").concat(r,"/spriteFrame"),n.push(this.loadSpriteFrameAsync(a));return e.abrupt("return",Promise.all(n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}());T._RF.pop(),T._RF.push({},"2113dSiFcdKCJK3F10MNHVP","AnimAbortSignalAdapter",void 0);var Z=Ludex.Utils.Signal,Q=function(){function e(t){r(this,e),this.oldCallbacks=[],this.newCallbacks=[],this.signal=t}return n(e,[{key:"once",value:function(e){var t=this,n=function(){return e(new Error(t.signal.reason))};this.oldCallbacks.push(n),this.newCallbacks.push(e),this.signal.addAbortListener(n)}},{key:"off",value:function(e){var t=this.newCallbacks.indexOf(e);if(-1!==t){var n=this.oldCallbacks[t];this.signal.removeAbortListener(n),this.oldCallbacks.splice(t,1),this.newCallbacks.splice(t,1)}}},{key:"abort",value:function(e){var t=e instanceof Error?e.message:e;this.signal.abort(t)}},{key:"aborted",get:function(){return this.signal.aborted}},{key:"reason",get:function(){return"string"==typeof this.signal.reason?new Error(this.signal.reason):void 0}},{key:"wrap",value:function(e){if(!this.aborted)return e}},{key:"chain",value:function(e){var t=this;e instanceof Z.Signal?e.once((function(){return t.abort()})):e.addEventListener("abort",(function(){return t.abort()}))}},{key:"promise",value:function(){var e=this;return this.aborted?Promise.resolve(this.reason):new Promise((function(t){e.once((function(e){return t(e)}))}))}}]),e}();T._RF.pop(),T._RF.push({},"99b8eEF6WlE8pzPfD+whiJu","AnimUtils",void 0);var X=Ludex.Utils.Signal;function ee(e){return e instanceof X.Signal?e:new Q(e)}var te=e("A",function(){function e(){r(this,e)}return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"elasticOut",value:function(e,t,n){var r=t||.1,a=n||.1;if(0===e)return 0;if(1===e)return 1;var i=a/4;return r<1?r=1:i=a*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-i)*(2*Math.PI)/a)+1}},{key:"easeOutExpo",value:function(e){return 1===e?1:1-Math.pow(2,-10*e)}},{key:"easeInExpo",value:function(e){return 0===e?0:Math.pow(2,10*e-10)}},{key:"runTweenAsync",value:function(e,t){if(void 0===t)return new Promise((function(t){e.call((function(){return t({tween:e})})).start()}));var n=ee(t);return n.aborted?Promise.resolve({tween:e}):new Promise((function(t){var r=function(){e.stop(),t({tween:e})};n.once(r),e.call((function(){n.off(r),t({tween:e})})).start()}))}},{key:"runOnUpdateAsync",value:function(e,t,n,r){return new Promise((function(a,i){var s=N(e).to(t,{},{onUpdate:function(e,t){if(void 0!==t)try{n(t)}catch(e){i(e instanceof Error?e:new Error(String(e)))}}});if(void 0!==r){var o=ee(r);if(o.aborted)a({tween:s});else{var u=function(){s.stop(),a({tween:s})};o.once(u),s.call((function(){o.off(u),a({tween:s})})).start()}}else s.call((function(){return a({tween:s})})).start()}))}},{key:"waitTweenAsync",value:function(e,t){return new Promise((function(n){var r=N({}).delay(e);if(void 0!==t){var a=ee(t);if(a.aborted)n();else{var i=function(){r.stop(),n()};a.once(i),r.call((function(){a.off(i),n()})).start()}}else r.call((function(){return n()})).start()}))}},{key:"runAnimationAsync",value:function(e,t,n){if(void 0===n)return new Promise((function(n){e.once(h.EventType.FINISHED,n),e.play(t)}));var r=ee(n);return r.aborted?Promise.resolve():new Promise((function(n){var a=function(){e.stop(),n()};r.once(a),e.once(h.EventType.FINISHED,(function(){r.off(a),n()})),e.play(t)}))}}]),e}());T._RF.pop(),T._RF.push({},"244e9OHsmpDnpHQKeLzgiiX","GameEvents",void 0);var ne=e("G",{VIEW_RESIZED:"view-resized",LAYOUT_CHANGED:"layout-changed",ORIENTATION_CHANGED:"orientation-changed",WIDGET_RESIZED:"widget-resized",GAMEPLAY_UPDATE_CONFIG:"gameplay-update-config",OPENED_SKIP_OVERLAY:"opened-skip-overlay",CLOSED_SKIP_OVERLAY:"closed-skip-overlay",RESULT_SCENE_REPLAY:"result-scene-replay",RESULT_SCENE_HOME:"result-scene-home",UPGRADE_DYNAMIC_ATLAS:"upgrade-dynamic-atlas",ASSET_QUALITY_CHANGE:"asset-quality-change",REQUEST_UPGRADE_ASSET:"request-upgrade-asset",CLEAR_HYBRID_FILE_CACHE:"clear-hybrid-file-cache",PRELOAD_LANGUAGE:"preload-language",CHOOSE_LANGUAGE:"choose-language",LOCALIZE_APPLIED:"localize-applied"});T._RF.pop(),T._RF.push({},"5c76fxO2ppOqYp4WNO+Kavm","GameWorld",void 0);var re=e("a",{Layout:{Portrait:"portrait",Landscape:"landscape"},DesignSize:{Portrait:{WIDTH:750,HEIGHT:1583},Landscape:{WIDTH:2732,HEIGHT:1536},Resolution:2},AcceptPortraitRatio:690/829,PRIMARY_LAYOUT:"auto",FULL_CANVAS_TO_SCREEN:!0,FULL_PORTRAIT_SIZE:!0,FULL_LANDSCAPE_SIZE:!0});T._RF.pop(),T._RF.push({},"05faedSJ2NHFqLe9b3g4RIl","CocosUtils",void 0);var ae=Ludex.Utils.Device,ie=re.DesignSize.Resolution,se=e("C",function(){function e(){r(this,e)}return n(e,[{key:"getWindowSizeVsWorldGameRatio",value:function(){var e=y.getVisibleSize(),t=g.windowSize.width,n=window.devicePixelRatio;return t/(n=n>2?2:n)/e.width}},{key:"getBoundingBoxTo",value:function(e,t){var n=O.mat4();O.Mat4.fromSRT(n,t.getRotation(),t.getPosition(),t.getScale());var r=t.getComponent(m);if(!r)throw new Error("Node must have UITransform component");var a=r.anchorPoint,i=r.contentSize,s=i.width,u=i.height,E=new O.Rect(-a.x*s,-a.y*u,s,u),c=O.mat4();if(O.Mat4.multiply(c,e,n),E.transformMat4(c),!t.children||0===t.children.length)return E;var l,_=t.children,T=t.getWorldMatrix(),A=o(_);try{for(A.s();!(l=A.n()).done;){var S=l.value;if(null!=S&&S.active)if(S.getComponent(m)){var I=this.getBoundingBoxTo(T,S);I&&O.Rect.union(E,E,I)}}}catch(e){A.e(e)}finally{A.f()}return E}}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"getBoundingBoxToWorld",value:function(e){if(e.parent){var t=e.parent.getWorldMatrix();return this.inst.getBoundingBoxTo(t,e)}var n=e.getComponent(m);if(!n)throw new Error("Node must have UITransform component");return n.getBoundingBox()}},{key:"worldSizeToCssSize",value:function(e){var t=Math.min(ae.pixelRatio(),ie);return Math.round(e*t)}},{key:"cssSizeToWorldSize",value:function(e){return e/this.inst.getWindowSizeVsWorldGameRatio()}},{key:"getScreenWidthCss",value:function(){var e=document,t=e.body,n=e.documentElement,r=t.clientWidth,a=n.clientWidth;return Math.max(a,r)||0}},{key:"getScreenHeightCss",value:function(){var e=document,t=e.body,n=e.documentElement,r=t.clientHeight,a=n.clientHeight;return Math.max(a,r)||0}}]),e}());T._RF.pop(),T._RF.push({},"31871PLRYRJu7yCCX5F6lWK","AudioUtils",void 0);var oe,ue,Ee=Ludex.Utils.Signal,ce=e("b",function(){function e(){r(this,e),this.signalController$=new Ee.SignalController}var t,s,o,u,E;return n(e,[{key:"sound",get:function(){var e;return null===(e=F("Sound"))||void 0===e?void 0:e.getComponent("Sound")}},{key:"music",get:function(){var e;return null===(e=F("Music"))||void 0===e?void 0:e.getComponent("Music")}}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"muteAudio",value:function(e){this.muteMusic(e),this.muteSound(e)}},{key:"playSound",value:(E=a(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=this.inst.sound)||void 0===r?void 0:r.play(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"pauseSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.pause(e)}},{key:"resumeSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.resume(e)}},{key:"stopSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.stop(e)}},{key:"stopAllSounds",value:function(){var e;null===(e=this.inst.sound)||void 0===e||e.stopAll()}},{key:"muteSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.mute(e)}},{key:"playMusic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.inst.music&&(this.inst.currentMusic$!==e&&this.pauseMusic(),this.inst.currentMusic$=e,!t&&this.inst.music.playing(e)||(t&&this.inst.music.stop(e),this.inst.music.play(e)))}},{key:"pauseMusic",value:function(){var e;null===(e=this.inst.music)||void 0===e||e.pause(this.inst.currentMusic$)}},{key:"muteMusic",value:function(e){var t;null===(t=this.inst.music)||void 0===t||t.mute(e)}},{key:"getCurrentMusic",value:function(){return this.inst.currentMusic$}},{key:"turnUpMusic",value:(u=a(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null!==(t=null===(n=this.inst.music)||void 0===n?void 0:n.getVolume())&&void 0!==t?t:0)>.6)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.setVolumeMusic(.6,!0);case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"turnDownMusic",value:(o=a(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null!==(t=null===(n=this.inst.music)||void 0===n?void 0:n.getVolume())&&void 0!==t?t:0)<.2)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.setVolumeMusic(.2,!0);case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"turnOffMusic",value:(s=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setVolumeMusic(0);case 2:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getVolumeMusic",value:function(){var e,t;return null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0}},{key:"setVolumeMusic",value:(t=a(i().mark((function e(t){var n,r,a,s,o,u=this,E=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=E.length>1&&void 0!==E[1]&&E[1],this.inst.music){e.next=3;break}return e.abrupt("return");case 3:if(r=this.inst.signalController$.renew(),n){e.next=7;break}return null===(a=this.inst.music)||void 0===a||a.setVolume(t),e.abrupt("return");case 7:return s=this.inst.music.getVolume(),o=s,e.next=11,te.runOnUpdateAsync(this.inst.music.node,1,(function(e){u.inst.music&&(o=s+(t-s)*e,u.inst.music.setVolume(o))}),r);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}());T._RF.pop(),T._RF.push({},"0eeb868JeVE67iFwhbkRCmE","ScreenKeys",void 0);var le=e("k",function(e){return e[e.RESCUES_SCREEN=0]="RESCUES_SCREEN",e[e.LOADING_SCREEN=1]="LOADING_SCREEN",e[e.GET_ITEM_SCREEN=2]="GET_ITEM_SCREEN",e[e.GET_COIN_SCREEN=3]="GET_COIN_SCREEN",e[e.SETTINGS_SCREEN=4]="SETTINGS_SCREEN",e[e.START_LEVEL_SCREEN=5]="START_LEVEL_SCREEN",e[e.NOTIFICATION_SCREEN=6]="NOTIFICATION_SCREEN",e[e.LEVEL_COMPLETE_SCREEN=7]="LEVEL_COMPLETE_SCREEN",e[e.CONGRATULATION_SCREEN=8]="CONGRATULATION_SCREEN",e[e.QUIT_LEVEL_SCREEN=9]="QUIT_LEVEL_SCREEN",e[e.TOURNAMENT_DETAIL_SCREEN=10]="TOURNAMENT_DETAIL_SCREEN",e[e.DAILY_REWARDS_SCREEN=11]="DAILY_REWARDS_SCREEN",e[e.STAR_CHEST_SCREEN=12]="STAR_CHEST_SCREEN",e[e.START_OVER_SCREEN=13]="START_OVER_SCREEN",e[e.PAUSE_SCREEN=14]="PAUSE_SCREEN",e[e.HARD_LEVEL_SCREEN=15]="HARD_LEVEL_SCREEN",e[e.GET_REWARDS_SCREEN=16]="GET_REWARDS_SCREEN",e[e.CUSTOM_GAME_SCREEN=17]="CUSTOM_GAME_SCREEN",e}(le||{})),_e=e("p",(t(oe={},le.RESCUES_SCREEN,"RescuesScreen"),t(oe,le.LOADING_SCREEN,"LoadingScreen"),t(oe,le.GET_ITEM_SCREEN,"GetItemScreen"),t(oe,le.GET_COIN_SCREEN,"GetCoinScreen"),t(oe,le.SETTINGS_SCREEN,"SettingsScreen"),t(oe,le.START_LEVEL_SCREEN,"StartLevelScreen"),t(oe,le.NOTIFICATION_SCREEN,"NotificationScreen"),t(oe,le.LEVEL_COMPLETE_SCREEN,"LevelCompleteScreen"),t(oe,le.CONGRATULATION_SCREEN,"CongratulationScreen"),t(oe,le.QUIT_LEVEL_SCREEN,"QuitLevelScreen"),t(oe,le.TOURNAMENT_DETAIL_SCREEN,"TournamentDetailScreen"),t(oe,le.DAILY_REWARDS_SCREEN,"DailyRewardsScreen"),t(oe,le.STAR_CHEST_SCREEN,"StarChestScreen"),t(oe,le.START_OVER_SCREEN,"StartOverScreen"),t(oe,le.PAUSE_SCREEN,"PauseScreen"),t(oe,le.HARD_LEVEL_SCREEN,"HardLevelScreen"),t(oe,le.GET_REWARDS_SCREEN,"GetRewardsScreen"),t(oe,le.CUSTOM_GAME_SCREEN,"CustomGameScreen"),oe)),Te=(t(ue={},_e[le.RESCUES_SCREEN],le.RESCUES_SCREEN),t(ue,_e[le.LOADING_SCREEN],le.LOADING_SCREEN),t(ue,_e[le.GET_ITEM_SCREEN],le.GET_ITEM_SCREEN),t(ue,_e[le.GET_COIN_SCREEN],le.GET_COIN_SCREEN),t(ue,_e[le.SETTINGS_SCREEN],le.SETTINGS_SCREEN),t(ue,_e[le.START_LEVEL_SCREEN],le.START_LEVEL_SCREEN),t(ue,_e[le.NOTIFICATION_SCREEN],le.NOTIFICATION_SCREEN),t(ue,_e[le.LEVEL_COMPLETE_SCREEN],le.LEVEL_COMPLETE_SCREEN),t(ue,_e[le.CONGRATULATION_SCREEN],le.CONGRATULATION_SCREEN),t(ue,_e[le.QUIT_LEVEL_SCREEN],le.QUIT_LEVEL_SCREEN),t(ue,_e[le.TOURNAMENT_DETAIL_SCREEN],le.TOURNAMENT_DETAIL_SCREEN),t(ue,_e[le.DAILY_REWARDS_SCREEN],le.DAILY_REWARDS_SCREEN),t(ue,_e[le.STAR_CHEST_SCREEN],le.STAR_CHEST_SCREEN),t(ue,_e[le.START_OVER_SCREEN],le.START_OVER_SCREEN),t(ue,_e[le.PAUSE_SCREEN],le.PAUSE_SCREEN),t(ue,_e[le.HARD_LEVEL_SCREEN],le.HARD_LEVEL_SCREEN),t(ue,_e[le.GET_REWARDS_SCREEN],le.GET_REWARDS_SCREEN),t(ue,_e[le.CUSTOM_GAME_SCREEN],le.CUSTOM_GAME_SCREEN),[_e[le.NOTIFICATION_SCREEN],_e[le.LOADING_SCREEN]]);T._RF.pop(),T._RF.push({},"09bc071ZcpI978b1NdKUaqD","AnalyticsUtils",void 0);var Ae,Se=Ludex,Ie=Se.Utils.Array,de=Se.Configs.Analytics,Re=codex.analytics;e("c",function(){function e(){r(this,e)}return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"trackCurrentPage",value:function(e,t){if(de.Enabled&&!Ie.has(Te,e)&&(t||Ie.has(this.trackingPages$,e))){this.trackingPages$=this.trackingPages$.filter((function(t){return t!==e})),t&&this.trackingPages$.push(e);var n=this.getCurrentPage();Re.pageview(n)}}},{key:"switchSceneTracking",value:function(){if(de.Enabled){this.trackingPages$=[];var e=this.getCurrentPage();Re.pageview(e)}}},{key:"getCurrentPage",value:function(){var e,t;return this.trackingPages$.length>0?this.trackingPages$[this.trackingPages$.length-1]||"Unknown Page":null!==(e=null===(t=B.getScene())||void 0===t?void 0:t.name)&&void 0!==e?e:"Unknown Scene"}}]),e}()).trackingPages$=[],T._RF.pop(),T._RF.push({},"ed5c6D+6KVEj5lrgtq+D9bJ","LayoutUtils",void 0);var Le=re.Layout,fe=e("L",function(){function e(){r(this,e),this.currentLayout$=Le.Portrait,G.off(ne.LAYOUT_CHANGED,e.onLayoutChanged$),G.on(ne.LAYOUT_CHANGED,e.onLayoutChanged$)}return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"getCurrentLayout",value:function(){return this.inst.currentLayout$}},{key:"isPortrait",value:function(){return this.inst.currentLayout$===Le.Portrait}},{key:"isLandscape",value:function(){return this.inst.currentLayout$===Le.Landscape}}]),e}());Ae=fe,fe.onLayoutChanged$=function(e){Ae.inst.currentLayout$!==e&&(Ae.inst.currentLayout$=e,G.emit(ne.ORIENTATION_CHANGED,e))};try{new fe}catch(e){console.error("LayoutUtils",e)}T._RF.pop(),T._RF.push({},"358fdIqjFdNzZGa95REWt2F","Ads",void 0);var pe=e("o",{MAX_BOTTOM_BANNER_RATIO:1/6,NUM_LEVEL_WITHOUT_BANNER_ADS:0});T._RF.pop(),T._RF.push({},"542caJcCPRMI5EaOkgOzhek","ItemKeys",void 0);var ve=e("I",{HINT:"hint",THUNDER:"thunder",STORM:"storm",PLIERS:"pliers"});T._RF.pop(),T._RF.push({},"7decaASyaFOAp2izq8DsREg","TotalLevel",void 0);var Ne,he=e("T",1e3);T._RF.pop(),T._RF.push({},"f8533KH/fxOfYqya9sgLrSj","GameData",void 0);var me,ye=e("u",{level:0,coins:0,stars:0,totalLevel:he,levelVersion:0,lastRewardedItems:0,lastCreateTournamentShown:0,guideItemShowed:[],items:(Ne={},t(Ne,ve.HINT,0),t(Ne,ve.THUNDER,0),t(Ne,ve.STORM,0),t(Ne,ve.PLIERS,0),Ne),custom:{time:4,difficulty:1,bombs:0,ads:!1},tournamentProgress:{}});T._RF.pop(),T._RF.push({},"3b9bcPJBxpNOqG2I6exTOVn","MatchCustomData",void 0);var ge=Ludex.Dtos.Match,Oe=(void 0===ge?{}:ge).CustomData,Fe=null!==(me=null==Oe?void 0:Oe.getDefaults())&&void 0!==me?me:{};e("M",u(u({},Fe),{},{score:0,challengeData:null}));T._RF.pop(),T._RF.push({},"074c4KXFZ1Pq6d+66PrLd2+","PlayerData",void 0);e("P",{score:0,settings:{sound:!0,music:!0,vibrate:!0,language:"en"},gameData:ye,isFirstLogin:!0,dailyRewardedData:{logDays:[],firstReward:0,lastReward:0},lastCallSwitchGame:0,notificationData:{},missionsData:{process:{}}});T._RF.pop(),T._RF.push({},"32598ObpVZK/pecmWIdcs+7","SceneKeys",void 0);var Be=e("r",{BOOT_SCENE:"BootScene",GAME_SCENE:"GameScene",PLAYABLE_SCENE:"PlayableScene",DASHBOARD_SCENE:"DashboardScene",CHALLENGE_RESULT_SCENE:"ChallengeResultScene",TEST_PARTICLE_SYSTEM_SCENE:"TestParticleSystemScene"});T._RF.pop(),T._RF.push({},"a0dcdDZxhZImZ8Cfg4Dc7SJ","ScreenUtils",void 0);var Ge=codex.event,Ve=Ludex,Ce=Ve.Events,Me=Ve.Utils.Array,Ue=e("S",function(){function e(){r(this,e),this.showedScreens$=[]}var t,s,o;return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"preloadScreen",value:function(e){var t=_e[e];t&&Ge.emit(Ce.PRELOAD_SCREEN,{screenName:t})}},{key:"preloadScreens",value:function(){Ge.emit(Ce.PRELOAD_SCREENS)}},{key:"openScreen",value:function(e,t){var n=_e[e];return Ge.emit(Ce.OPEN_SCREEN,{screenName:n,screenData:t}),new Promise((function(e){Ge.on(Ce.OPENED_SCREEN,(function t(r){r.screenName===n&&(Ge.off(Ce.OPENED_SCREEN,t),e())}))}))}},{key:"closeScreen",value:function(e){var t=_e[e];return Ge.emit(Ce.CLOSE_SCREEN,{screenName:t}),new Promise((function(e){Ge.on(Ce.CLOSED_SCREEN,(function n(r){r.screenName===t&&(Ge.off(Ce.CLOSED_SCREEN,n),e())}))}))}},{key:"openScreenAndWaitForClose",value:(o=a(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openScreen(t,n);case 2:return e.next=4,new Promise((function(e){Ge.on(Ce.CLOSE_SCREEN,(function n(r){r.screenName===_e[t]&&(Ge.off(Ce.CLOSE_SCREEN,n),e(r))}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"showLoadingScreen",value:function(e){return this.openScreen(le.LOADING_SCREEN,{duration:e})}},{key:"closeLoadingScreen",value:function(){return this.closeScreen(le.LOADING_SCREEN)}},{key:"showNotificationScreen",value:function(e,t){return this.openScreen(le.NOTIFICATION_SCREEN,{message:e,duration:t})}},{key:"showNotificationScreenWithLocalizedKey",value:function(e,t){return this.openScreen(le.NOTIFICATION_SCREEN,{localizedMessageKey:e,duration:t})}},{key:"closeNotificationScreen",value:function(){return this.closeScreen(le.NOTIFICATION_SCREEN)}},{key:"addShowedScene",value:function(e){Me.has(this.inst.showedScreens$,e)||this.inst.showedScreens$.push(e)}},{key:"showLoadingFullScreen",value:(s=a(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Me.has(this.inst.showedScreens$,t)){e.next=2;break}return e.abrupt("return");case 2:if(this.addShowedScene(t),n=F("Loading")){e.next=6;break}return e.abrupt("return");case 6:return r=n.getComponent("Loading"),e.next=9,r.show(t);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"hideLoadingFullScreen",value:(t=a(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Me.has(this.inst.showedScreens$,t)){e.next=2;break}return e.abrupt("return");case 2:return r=null===(n=F("Loading"))||void 0===n?void 0:n.getComponent("Loading"),e.next=5,null==r?void 0:r.hide(t);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"showLoadingNotificationScreen",value:function(){return this.openScreen(le.NOTIFICATION_SCREEN,{message:"Loading",enableCloseOnTouch:!1})}},{key:"showTournamentDetailScreen",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.openScreen(le.TOURNAMENT_DETAIL_SCREEN,{playAnimation:n,tournament:e,tournamentContextType:t})}},{key:"closeTournamentDetailScreen",value:function(){return this.closeScreen(le.TOURNAMENT_DETAIL_SCREEN)}}]),e}());T._RF.pop(),T._RF.push({},"4a4bfX6KIJCcIozlNHuAwoi","AdsUtils",void 0);var we=Ludex,be=we.Events,ke=we.Configs,De=ke.Ads,Pe=De.Enabled,We=De.InterstitialAdOptions,He=De.RewardedVideoAdOptions,xe=De.RewardedInterstitialAdOptions,$e=De.BannerDisplayAdOptions,Ye=ke.Gameplay.StartAdAtLevel,Ke=we.Plugins.Ads,ze=void 0===Ke?{}:Ke,qe=ze.Types,je=ze.Status,Je=we.Utils,Ze=Je.Array,Qe=Je.Function,Xe=codex,et=Xe.ads,tt=Xe.event,nt=function(e){E(a,e);var t=c(a);function a(e){return r(this,a),t.call(this,"AdsUtils.loadAdAsync: Timed out after ".concat(e,"ms"))}return n(a)}(l(Error));e("m",function(){function e(){r(this,e),this.isAvoidBannerShowed$=!1,this.visibleBannerConfigs$=[],this.invisibleBannerConfigs$=[]}var t,s,E,c,l;return n(e,[{key:"updateBannerAdsConfigByLayout",value:function(e){this.visibleBannerConfigs$=[],this.invisibleBannerConfigs$=[];var t=y.getVisibleSize(),n=se.worldSizeToCssSize(t.height*pe.MAX_BOTTOM_BANNER_RATIO);if(e!==re.Layout.Landscape){var r,a=o($e);try{for(a.s();!(r=a.n()).done;){var i=r.value,s=i.Position,u=i.BannerHeight;"bottom"===s&&u>n||("bottom"===s||"top"===s?this.visibleBannerConfigs$.push(i):this.invisibleBannerConfigs$.push(i))}}catch(e){a.e(e)}finally{a.f()}}else{var E,c=o($e);try{for(c.s();!(E=c.n()).done;){var l=E.value,_=l.Position,T=l.BannerHeight;"bottom"===_&&T>n||this.visibleBannerConfigs$.push(l)}}catch(e){c.e(e)}finally{c.f()}}}},{key:"refreshBannerAdVisibility",value:function(){if(this.isAvoidBannerShowed$)e.hideBannerAds();else if(qe&&je){var t,n=o(this.invisibleBannerConfigs$);try{for(n.s();!(t=n.n()).done;){var r=t.value;et.getAdStatus(qe.BANNER,r.PlacementId)===je.SHOWING&&e.hideBannerAd(r.PlacementId)}}catch(e){n.e(e)}finally{n.f()}var a,i=o(this.visibleBannerConfigs$);try{for(i.s();!(a=i.n()).done;){var s=a.value,u=et.getAdStatus(qe.BANNER,s.PlacementId);!1!==u&&u!==je.SHOWING&&e.showBannerAd(s.PlacementId)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"getAdReady",value:function(e,t){if(Pe&&je)if(t){if(et.getAdStatus(e,t)===je.FILLED)return t}else{var n,r=et.getAdsByType(e),a=o(r);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.instance.status===je.FILLED)return i.placementId}}catch(e){a.e(e)}finally{a.f()}}}},{key:"getPlacementIdByService",value:function(e,t){var n,r,a,i,s,o,u,E;if(!t)return!1;if(!qe)return!1;switch(e){case qe.BANNER:return null!==(n=null===(r=Ze.search($e,(function(e){return e.AdService===t})))||void 0===r?void 0:r.PlacementId)&&void 0!==n&&n;case qe.INTERSTITIAL:return null!==(a=null===(i=Ze.search(We,(function(e){return e.AdService===t})))||void 0===i?void 0:i.PlacementId)&&void 0!==a&&a;case qe.REWARDED_VIDEO:return null!==(s=null===(o=Ze.search(He,(function(e){return e.AdService===t})))||void 0===o?void 0:o.PlacementId)&&void 0!==s&&s;case qe.REWARDED_INTERSTITIAL:return null!==(u=null===(E=Ze.search(xe,(function(e){return e.AdService===t})))||void 0===E?void 0:E.PlacementId)&&void 0!==u&&u;default:return!1}}},{key:"getAdIdByPayload",value:function(e,t){var n=t||{},r=n.adService,a=n.placementId;return this.getPlacementIdByService(e,r)||a}},{key:"getAdErrorMessage",value:function(e,t){if(!qe)return null;switch(e){case qe.REWARDED_VIDEO:case qe.REWARDED_INTERSTITIAL:return this.isUserCancelledAdError(t)?"ads.cancelled":"error.noAd";default:return null}}},{key:"showAdByType",value:(l=a(i().mark((function t(n,r){var a,s,o,u,E,c,l,_,T,A,S,I,d,R,L;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=(a=r||{}).placementId,o=a.includeSDK,u=a.excludeSDK,E=a.forceLoad,c=a.adService,l=a.timeout,_=void 0===l?15e3:l,T=a.showError,this.canShowInSDK(o,u)){t.next=3;break}return t.abrupt("return",!1);case 3:if(A=this.getAdIdByPayload(n,r),S=!1,I=!1,t.prev=6,ce.muteAudio(!0),!E){t.next=15;break}return Ue.showLoadingScreen(),t.next=12,Qe.timeOut(et.loadAdAsync(n,A),_);case 12:if("timeout"!==(d=t.sent).status){t.next=15;break}throw new nt(d.duration);case 15:if(S){t.next=39;break}if(t.prev=16,R=this.getAdReady(n,A)){t.next=20;break}return t.abrupt("return",!1);case 20:return A=R,t.next=23,et.showAdAsync(n,A);case 23:S=!0,t.next=37;break;case 26:if(t.prev=26,t.t0=t.catch(16),!c){t.next=30;break}throw t.t0;case 30:if(!this.isUserCancelledAdError(t.t0)){t.next=32;break}throw t.t0;case 32:if(!this.isRequestAdTimeoutError(t.t0)){t.next=34;break}throw t.t0;case 34:A=void 0,S=!1,I=!0;case 37:t.next=15;break;case 39:return t.abrupt("return",!0);case 42:return t.prev=42,t.t1=t.catch(6),I=!0,(L=this.getAdErrorMessage(n,t.t1))&&T&&Ue.showNotificationScreenWithLocalizedKey(L,2),t.abrupt("return",!1);case 48:return t.prev=48,ce.muteAudio(!1),E&&Ue.closeLoadingScreen(),I&&(A=s),e.preloadAdsByType(n,A),tt.emit(be.REQUEST_RESIZE_GAME),t.finish(48);case 55:case"end":return t.stop()}}),t,this,[[6,42,48,55],[16,26]])}))),function(e,t){return l.apply(this,arguments)})},{key:"canShowInSDK",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=GameSDK.getSDKName();return(null==t||!t.length||!Ze.has(t,n))&&!(null!=e&&e.length&&!Ze.has(e,n))}},{key:"isUserCancelledAdError",value:function(e){return e instanceof Object&&"code"in e&&"USER_INPUT"===e.code}},{key:"isRequestAdTimeoutError",value:function(e){return e instanceof nt||e instanceof Object&&"code"in e&&"SHOW_ADS_TIMEOUT"===e.code}}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"preloadAds",value:(c=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qe){e.next=2;break}return e.abrupt("return");case 2:this.preloadAdsByType(qe.INTERSTITIAL),this.preloadAdsByType(qe.REWARDED_VIDEO),this.preloadAdsByType(qe.REWARDED_INTERSTITIAL);case 5:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"isServiceDegraded",value:function(){return et.isServiceDegraded()}},{key:"preloadAdsByType",value:function(e,t){if(Pe&&je){var n,r=et.getAdsByType(e),a=o(r);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(!t||i.placementId===t)i.instance.status===je.FILLED||et.loadAdAsync(e,i.placementId).catch((function(){}))}}catch(e){a.e(e)}finally{a.f()}}}},{key:"setAvoidBannerShowed",value:function(e){this.inst.isAvoidBannerShowed$=e}},{key:"updateBannerAdsByLayout",value:function(e){this.inst.updateBannerAdsConfigByLayout(e)}},{key:"refreshBannerAdVisibility",value:function(){this.inst.refreshBannerAdVisibility()}},{key:"hideBannerAds",value:function(){if(Pe&&qe&&je){var e,t=et.getAdsByType(qe.BANNER),n=o(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.instance.status!==je.IDLE&&this.hideBannerAd(r.placementId)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"showBannerAd",value:function(e){Pe&&(this.inst.isAvoidBannerShowed$||et.showBannerAdAsync(e).catch((function(){})))}},{key:"hideBannerAd",value:function(e){Pe&&et.hideBannerAdAsync(e).catch((function(){}))}},{key:"isReadyAdShowable",value:function(e,t){var n=this.inst.getAdReady(e,t);return!!n&&et.canShowAd(e,n)}},{key:"showInterstitialAdAsync",value:(E=a(i().mark((function e(t){var n,r,a,s,o,E,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qe){e.next=2;break}return e.abrupt("return",!1);case 2:if(r=(n=null!=t?t:{}).forLevel,a=n.contextType,s=n.forceLoad,!(r&&Ye>=r)){e.next=5;break}return e.abrupt("return",!1);case 5:return a&&(null===(o=window.GoogleAds)||void 0===o||o.setInterstitialType(a),null===(E=window.TranssionH5Ads)||void 0===E||E.setInterstitialType(a)),c=s,GameSDK.isGameSDK("MsGames")&&(c=!0),e.abrupt("return",this.inst.showAdByType(qe.INTERSTITIAL,u(u({},t),{},{forceLoad:c})));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"showRewardVideoAdAsync",value:(s=a(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qe){e.next=2;break}return e.abrupt("return",!1);case 2:return(n=(null!=t?t:{}).contextType)&&(null===(r=window.GoogleAds)||void 0===r||r.setRewardType(n),null===(a=window.TranssionH5Ads)||void 0===a||a.setRewardType(n)),e.abrupt("return",this.inst.showAdByType(qe.REWARDED_VIDEO,u(u({showError:!0},t),{},{forceLoad:!0})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"showRewardedInterstitialAdAsync",value:(t=a(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qe){e.next=2;break}return e.abrupt("return",!1);case 2:return(n=(null!=t?t:{}).contextType)&&(null===(r=window.GoogleAds)||void 0===r||r.setRewardType(n),null===(a=window.TranssionH5Ads)||void 0===a||a.setRewardType(n)),e.abrupt("return",this.inst.showAdByType(qe.REWARDED_INTERSTITIAL,u(u({showError:!0},t),{},{forceLoad:!0})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}());T._RF.pop(),T._RF.push({},"669a1OtNF9EDrMRLWTjxk4B","GeneralUtils",void 0);e("j",function(){function e(){r(this,e)}return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"setBlockInput",value:function(e){var t=F("Canvas/InputBlocker");t&&(t.active=e)}},{key:"getBlockInput",value:function(){var e=F("Canvas/InputBlocker");return!!e&&e.active}}]),e}());T._RF.pop(),T._RF.push({},"58f4330KXRL77xyoA3903MY","WasmUtils",void 0);var rt=Ludex.Utils.Function,at=e("W",function(){function e(){r(this,e),this.mutex$=rt.mutex()}var t;return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"loadModuleAsync",value:(t=a(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.inst.mutex$.use("module-wasm-".concat(t));case 2:n=e.sent,e.prev=3,e.t0=t,e.next="spine"===e.t0?7:"box2d"===e.t0?12:"physx"===e.t0?17:"bullet"===e.t0?22:27;break;case 7:if("function"==typeof U){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,U();case 11:return e.abrupt("break",27);case 12:if("function"==typeof M){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,M();case 16:return e.abrupt("break",27);case 17:if("function"==typeof C){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,C();case 21:return e.abrupt("break",27);case 22:if("function"==typeof V){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,V();case 26:return e.abrupt("break",27);case 27:return e.prev=27,n.release(),e.finish(27);case 30:case"end":return e.stop()}}),e,this,[[3,,27,30]])}))),function(e){return t.apply(this,arguments)})}]),e}());T._RF.pop(),T._RF.push({},"97ca9J9nzNCeIjC1l+ZT/Hm","SceneUtils",void 0);var it=codex.event,st=Ludex.Events;e("n",function(){function e(){r(this,e),this.loadedScenes$={}}var t,s;return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"switchScene",value:function(e,t){it.emit(st.SWITCH_SCENE,{sceneName:e,sceneData:t})}},{key:"preloadScene",value:function(e){it.emit(st.PRELOAD_SCENE,{sceneName:e})}},{key:"isSceneLoaded",value:function(e){var t;return null!==(t=this.inst.loadedScenes$[e])&&void 0!==t&&t}},{key:"markIsSceneLoaded",value:function(e){this.inst.loadedScenes$[e]=!0}},{key:"markIsTestScene",value:function(e){it.emit(st.MARK_IS_TEST_SCENE,{sceneName:e})}},{key:"preloadDashboardScene",value:function(){this.preloadScene(Be.DASHBOARD_SCENE)}},{key:"switchToDashboardScene",value:function(e){this.switchScene(Be.DASHBOARD_SCENE,e)}},{key:"preloadGameScene",value:(s=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at.loadModuleAsync("spine");case 2:this.preloadScene(Be.GAME_SCENE);case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"switchToGameScene",value:(t=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at.loadModuleAsync("spine");case 2:this.switchScene(Be.GAME_SCENE,t);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getSceneData",value:function(e){return"data"in e.scene&&e.scene.data||{}}}]),e}());T._RF.pop(),T._RF.push({},"c517dy1TKlPd7mHxulLPv1G","TileSpecialTypes",void 0);e("i",{bomb:"bomb",star:"star",none:"none"});T._RF.pop(),T._RF.push({},"d6fb7/+FFxLs7k5w6K38JYb","TournamentUtils",void 0);var ot=Ludex,ut=ot.Utils,Et=ut.String,ct=ut.Valid,lt=ut.Array,_t=ot.Configs.Mockup.Leaderboards,Tt=codex.language,At=codex,St=At.leaderboard,It=At.player;e("l",function(){function e(){var t=this;r(this,e),this.globalTournamentLBData$=[],this.playerTournaments$=[],this.tournamentData$=[],this.maxTimeRefetch$=5e3,this.lastFetchTournamentsData$=0,this.lastFetchGlobalTournament$=0,this.fetchGlobalTournamentLeaderboardAsync$=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(Date.now()-t.lastFetchGlobalTournament$>t.maxTimeRefetch$)){e.next=7;break}return e.next=5,St.requestLeaderboardsAsync({limit:100,type:"world_tournament_leaderboard"});case 5:t.globalTournamentLBData$=e.sent,t.globalTournamentLBData$.sort((function(e,t){return e.expireTime-t.expireTime}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.warn("fetchGlobalTournamentLeaderboardAsync",e.t0);case 12:return e.abrupt("return",t.globalTournamentLBData$);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),this.fetchTournamentsAsync$=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(Date.now()-t.lastFetchTournamentsData$>t.maxTimeRefetch$)){e.next=7;break}return e.next=5,GameSDK.tournament.getTournamentsAsync();case 5:t.playerTournaments$=e.sent,t.playerTournaments$.sort((function(e,t){return e.getEndTime()-t.getEndTime()}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.warn("fetchTournamentsAsync",e.t0);case 12:return e.abrupt("return",t.playerTournaments$);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))}var s;return n(e,[{key:"processPlayerTournamentData",value:function(){var e,t=[],n=o(this.playerTournaments$);try{for(n.s();!(e=n.n()).done;){var r,a,i=e.value,s="".concat(i.getID()),u=i.getContextID(),E=i.getEndTime(),c=this.parseTournamentPayload(i.getPayload());if(this.validateGameSDKTournamentPayload(c))if(!(E<Date.now()/1e3)){var l=i.getTournamentType();if("PAGE_HOSTED"!==l){var _=null!==(r=c.playerName)&&void 0!==r?r:"Player",T={id:s,title:null!==(a=i.getTitle())&&void 0!==a?a:this.createDefaultTournamentName(_),endTime:E,contextId:u,payload:c,tournamentType:l};t.push(T)}}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"processGlobalTournamentLeaderboardData",value:function(){var e=[];if(_t.Enabled){var t,n=o(this.playerTournaments$);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,i=a.getTournamentType();if("PAGE_HOSTED"===i){var s="".concat(a.getID()),u=a.getContextID(),E=a.getEndTime(),c=this.parseTournamentPayload(a.getPayload()),l={id:s,title:null!==(r=a.getTitle())&&void 0!==r?r:"Global Tournament",endTime:E,contextId:u,payload:c,tournamentType:i};e.push(l)}}}catch(e){n.e(e)}finally{n.f()}return e}var _,T=o(this.globalTournamentLBData$);try{for(T.s();!(_=T.n()).done;){var A,S,I,d=_.value,R=void 0;try{R=JSON.parse(d.description)}catch(e){continue}if(this.validateExpireTime(d)&&this.validateGlobalTournamentPayload(R)){var L="isNEZP"in GameSDK.extra&&GameSDK.extra.isNEZP(),f="isRestricted"in GameSDK.extra&&GameSDK.extra.isRestricted();if(L||f){if(!R.restrict)continue}else if(R.restrict)continue;var p=null!==(A=null===(S=R.i18n)||void 0===S||null===(S=S[Tt.getCurrentLocale()])||void 0===S?void 0:S.title)&&void 0!==A?A:d.name,v={id:R.tournamentId,title:p,endTime:this.getTournamentEndTime(d),contextId:R.contextId,payload:{playerId:"global",playerName:"global",leaderboardId:d._id,themeId:null!==(I=R.themeId)&&void 0!==I?I:Y.SUMMER},tournamentType:"PAGE_HOSTED"};e.push(v)}}}catch(e){T.e(e)}finally{T.f()}return e}},{key:"validateGlobalTournamentPayload",value:function(e){var t=e.tournamentId,n=e.contextId;return!(!ct.isString(t)||""===t)&&!(!ct.isString(n)||""===n)}},{key:"getTournamentEndTime",value:function(e){var t=new Date(e.createdAt).getTime();return Math.round((1e3*e.expireTime+t)/1e3)}},{key:"validateExpireTime",value:function(e){return 1e3*this.getTournamentEndTime(e)-Date.now()>0}},{key:"validateGameSDKTournamentPayload",value:function(e){return!(!ct.isString(e.playerId)||""===e.playerId)&&(!(!ct.isString(e.playerName)||""===e.playerName)&&!(!ct.isString(e.leaderboardId)||""===e.leaderboardId))}},{key:"createDefaultTournamentName",value:function(e){var t=e.substring(0,7),n="".concat(t.split(" ")[0]||t,"'s Tournament"),r=Et.removeDiacritics(n);return"".concat(r)}},{key:"parseTournamentPayload",value:function(e){if("string"!=typeof e)return{};try{return JSON.parse(e)}catch(e){return{}}}}],[{key:"getInstance",value:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"requestTournamentDataAsync",value:(s=a(i().mark((function t(){var n,r,a,s,u,E,c,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getInstance(),t.next=3,Promise.all([n.fetchTournamentsAsync$(),n.fetchGlobalTournamentLeaderboardAsync$()]);case 3:r=n.processPlayerTournamentData(),a=n.processGlobalTournamentLeaderboardData(),r.sort((function(e,t){return e.endTime-t.endTime})),a.sort((function(e,t){return e.endTime-t.endTime})),n.tournamentData$=[].concat(_(a),_(r)),s=o(n.tournamentData$),t.prev=9,s.s();case 11:if((u=s.n()).done){t.next=22;break}if(E=u.value,c=E.payload,l=c.leaderboardId){t.next=17;break}return t.abrupt("continue",20);case 17:if(!St.isExistLeaderboardId(l)){t.next=19;break}return t.abrupt("continue",20);case 19:St.addLeaderboard({type:"tournament",name:l,autoSortRank:!0,leaderboardId:l});case 20:t.next=11;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(9),s.e(t.t0);case 27:return t.prev=27,s.f(),t.finish(27);case 30:return t.abrupt("return",n.tournamentData$);case 31:case"end":return t.stop()}}),t,null,[[9,24,27,30]])}))),function(){return s.apply(this,arguments)})},{key:"getAllTournamentData",value:function(){return e.getInstance().tournamentData$}},{key:"getTournamentDataById",value:function(t){var n=e.getInstance();return lt.search(n.tournamentData$,(function(e){return e.id===t}))}},{key:"getPlayerTournamentData",value:function(){var t=e.getInstance(),n=It.getPlayerId();return t.tournamentData$.filter((function(e){return e.payload.playerId===n}))}},{key:"getFriendsTournamentData",value:function(){var t=e.getInstance(),n=It.getPlayerId();return t.tournamentData$.filter((function(e){var t=e.payload;return t.playerId!==n&&"global"!==t.playerId}))}},{key:"getGlobalTournamentData",value:function(){return e.getInstance().tournamentData$.filter((function(e){return"global"===e.payload.playerId}))}},{key:"validateTournamentExpired",value:function(t){var n=e.getTournamentDataById(t);return!!n&&n.endTime<Date.now()/1e3}},{key:"saveTournamentProgress",value:function(e,n,r){var a,i,s,o,E=(null!==(a=It.getGameData())&&void 0!==a?a:{}).tournamentProgress,c=null==E?void 0:E[r],l={level:Math.max(e,null!==(i=null==c?void 0:c.level)&&void 0!==i?i:0),score:Math.max(n,null!==(s=null==c?void 0:c.score)&&void 0!==s?s:0),replayCount:null!==(o=null==c?void 0:c.replayCount)&&void 0!==o?o:0};It.setGameData({tournamentProgress:u(u({},E),{},t({},r,l))})}},{key:"syncTournamentProgress",value:function(){var t,n=(null!==(t=It.getGameData())&&void 0!==t?t:{}).tournamentProgress;if(n){var r=e.getInstance(),a=function(e){lt.search(r.tournamentData$,(function(t){return t.id===e}))||delete n[e]};for(var i in n)a(i);It.setGameData({tournamentProgress:n})}}}]),e}());T._RF.pop()}}}));

} }; });