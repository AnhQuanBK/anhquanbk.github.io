System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///env-5304ac8c.js",[],(function(t){return{execute:function(){function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r(e){return(r=t("l","function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}))(e)}function n(t,e,r,n,o,i,u){try{var c=t[i](u),f=c.value}catch(t){return void r(t)}c.done?e(f):Promise.resolve(f).then(n,o)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j(n.key),n)}}function i(t,e,r){return(e=j(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(e){return(u=t("k",Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)}))(e)}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function l(e,r,n){return(l=f()?t("t",Reflect.construct.bind()):t("t",(function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&c(o,r.prototype),o}))).apply(null,arguments)}function a(e){var r="function"==typeof Map?new Map:void 0;return(a=t("m",(function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return l(t,arguments,u(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,t)})))(e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function b(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?t("j",Reflect.get.bind()):t("j",(function(t,e,r){var n=b(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}))).apply(this,arguments)}function v(t,e,r,n){return(v="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,r,n){var o,u=b(t,e);if(u){if((o=Object.getOwnPropertyDescriptor(u,e)).set)return o.set.call(n,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(n,e)){if(!o.writable)return!1;o.value=r,Object.defineProperty(n,e,o)}else i(n,e,r);return!0})(t,e,r,n)}function d(t){if(Array.isArray(t))return t}function m(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function h(t,e){if(t){if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(t,e):void 0}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}t({_:function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0);i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0);void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null);return i},a:function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)},b:function(t){var e=f();return function(){var r,n=u(t);if(e){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}},c:function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},d:function(t,e,r,n){if(!r)return;Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})},e:p,f:function(t,e,r){e&&o(t.prototype,e);r&&o(t,r);return Object.defineProperty(t,"prototype",{writable:!1}),t},g:function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=h(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}},h:function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var u=t.apply(e,r);function c(t){n(u,o,i,c,f,"next",t)}function f(t){n(u,o,i,c,f,"throw",t)}c(void 0)}))}},i:function(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t},j:s,k:u,l:r,m:a,n:function(t,e,r,n,o){if(!v(t,e,r,n||t)&&o)throw new TypeError("failed to set property");return r},o:function(t,e){return d(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],f=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);f=!0);}catch(t){l=!0,o=t}finally{try{if(!f&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,e)||h(t,e)||w()},q:function(t){return function(t){if(Array.isArray(t))return O(t)}(t)||m(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},r:i,s:function(t){return d(t)||m(t)||h(t)||w()},t:l});t("E",!1),t("p",!1),t("B",!0)}}}));

System.register("chunks:///TournamentUtils-0964e80a.js",["./env-5304ac8c.js","cc"],(function(e){var t,n,i,a,r,s,o,E,u,l,_,T,A,c,S,I,d,R,L,N,f,v,h,m,y,p,g,O,F,B,G,V;return{setters:[function(e){t=e.r,n=e.a,i=e.b,a=e.c,r=e.f,s=e.h,o=e.o,E=e.g,u=e.m,l=e.i,_=e.q},function(e){T=e.cclegacy,A=e.ccenum,c=e.SpriteFrame,S=e.AudioClip,I=e.JsonAsset,d=e.Prefab,R=e.Font,L=e.assetManager,N=e.tween,f=e.Animation,v=e.UITransform,h=e.view,m=e.screen,y=e.math,p=e.find,g=e.director,O=e.game,F=e.loadWasmModuleBullet,B=e.loadWasmModulePhysX,G=e.loadWasmModuleBox2D,V=e.loadWasmModuleSpine}],execute:function(){T._RF.push({},"725f8u/lDtFbY1DMY0uJSL9","Locales",void 0);e("g",["en","ru"]);var M=e("h",{en:"fonts/mikado-bold.ttf",ru:"fonts/nunito-black.ttf"});e("w",{ru:"locales/ru"}),e("v",{en:"104px",ru:"96px"});T._RF.pop(),T._RF.push({},"a6e4bjV/RVH17qBEx1mZaFg","ResourcePaths",void 0);var C=Ludex.Utils.Object,U=e("i",function(e){return e.BOMB_RESCUE_PREFAB="game-objects/bomb/BombRescue",e.BOMB_EXPLODE_PREFAB="game-objects/bomb/BombExplode",e.BOMB_DEFUSE_PREFAB="game-objects/bomb/DefuseExplode",e.CLEAR_EXPLOSION_PREFAB="game-objects/clear-explosion/ClearExplosionV2",e.TILE_BREAK_ANIM="animations/TileBreak",e.TILE_CLEAR_ANIM="animations/TileClear",e.TILE_SHAKE_ANIM="animations/TileShake",e.TILE_SKIN_FOLDER="tiles",e.TILE_SKIN_PREVIEW_FOLDER="tiles-preview",e.ITEM_POPUP_FOLDER="item-popup",e.SUMMER_BG="images/bg/summer",e.AUTUMN_BG="images/bg/autumn",e.WINTER_BG="images/bg/winter",e.FLOWER_FIELD_BG="images/bg/flower-field",e.TREE_PLANTING_FESTIVAL_BG="images/bg/tree-planting-festival",e.MUSIC_FESTIVAL_BG="images/bg/music-festival",e.HARVEST_FESTIVAL_BG="images/bg/harvest-festival",e.FOOD_FESTIVAL_BG="images/bg/food-festival",e.LIGHT_FESTIVAL_BG="images/bg/light-festival",e.PEACE_FESTIVAL_BG="images/bg/peace-festival",e.FLOWER_FESTIVAL_BG="images/bg/flower-festival",e.STREET_FESTIVAL_BG="images/bg/street-festival",e.COLOR_GARDEN_BG="images/bg/color-garden",e.COLOR_FESTIVAL_BG="images/bg/color-festival",e.NATURE_SUMMER_BG="images/bg/nature-summer",e.SNOW_MOUNTAIN_BG="images/bg/snow-mountain",e.ICE_FESTIVAL_BG="images/bg/ice-festival",e.NIGHT_FESTIVAL_BG="images/bg/night-festival",e.LOST_FESTIVAL_BG="images/bg/lost-festival",e.HALLOWEEN_BG="images/bg/halloween",e.CHRISTMAS_BG="images/bg/christmas",e.SPRING_FLOWER_FESTIVAL_BG="images/bg/spring-flower-festival",e.TET_HOLIDAY_BG="images/bg/tet-holiday",e.SEA_FESTIVAL_BG="images/bg/sea-festival",e.FIREWORK_FESTIVAL_BG="images/bg/firework-festival",e.SUMMER_BG_PREVIEW="images/preview/summer",e.AUTUMN_BG_PREVIEW="images/preview/autumn",e.WINTER_BG_PREVIEW="images/preview/winter",e.FLOWER_FIELD_BG_PREVIEW="images/preview/flower-field",e.TREE_PLANTING_FESTIVAL_BG_PREVIEW="images/preview/tree-planting-festival",e.MUSIC_FESTIVAL_BG_PREVIEW="images/preview/music-festival",e.HARVEST_FESTIVAL_BG_PREVIEW="images/preview/harvest-festival",e.FOOD_FESTIVAL_BG_PREVIEW="images/preview/food-festival",e.LIGHT_FESTIVAL_BG_PREVIEW="images/preview/light-festival",e.PEACE_FESTIVAL_BG_PREVIEW="images/preview/peace-festival",e.FLOWER_FESTIVAL_BG_PREVIEW="images/preview/flower-festival",e.STREET_FESTIVAL_BG_PREVIEW="images/preview/street-festival",e.COLOR_GARDEN_BG_PREVIEW="images/preview/color-garden",e.COLOR_FESTIVAL_BG_PREVIEW="images/preview/color-festival",e.NATURE_SUMMER_BG_PREVIEW="images/preview/nature-summer",e.SNOW_MOUNTAIN_BG_PREVIEW="images/preview/snow-mountain",e.ICE_FESTIVAL_BG_PREVIEW="images/preview/ice-festival",e.NIGHT_FESTIVAL_BG_PREVIEW="images/preview/night-festival",e.LOST_FESTIVAL_BG_PREVIEW="images/preview/lost-festival",e.HALLOWEEN_BG_PREVIEW="images/preview/halloween",e.CHRISTMAS_BG_PREVIEW="images/preview/christmas",e.SPRING_FLOWER_FESTIVAL_BG_PREVIEW="images/preview/spring-flower-festival",e.TET_HOLIDAY_BG_PREVIEW="images/preview/tet-holiday",e.SEA_FESTIVAL_BG_PREVIEW="images/preview/sea-festival",e.FIREWORK_FESTIVAL_BG_PREVIEW="images/preview/firework-festival",e.SUMMER_BG_TOURNAMENT="images/tournament/summer",e.AUTUMN_BG_TOURNAMENT="images/tournament/autumn",e.WINTER_BG_TOURNAMENT="images/tournament/winter",e.FLOWER_FIELD_BG_TOURNAMENT="images/tournament/flower-field",e.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT="images/tournament/tree-planting-festival",e.MUSIC_FESTIVAL_BG_TOURNAMENT="images/tournament/music-festival",e.HARVEST_FESTIVAL_BG_TOURNAMENT="images/tournament/harvest-festival",e.FOOD_FESTIVAL_BG_TOURNAMENT="images/tournament/food-festival",e.LIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/light-festival",e.PEACE_FESTIVAL_BG_TOURNAMENT="images/tournament/peace-festival",e.FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/flower-festival",e.STREET_FESTIVAL_BG_TOURNAMENT="images/tournament/street-festival",e.COLOR_GARDEN_BG_TOURNAMENT="images/tournament/color-garden",e.COLOR_FESTIVAL_BG_TOURNAMENT="images/tournament/color-festival",e.NATURE_SUMMER_BG_TOURNAMENT="images/tournament/nature-summer",e.SNOW_MOUNTAIN_BG_TOURNAMENT="images/tournament/snow-mountain",e.ICE_FESTIVAL_BG_TOURNAMENT="images/tournament/ice-festival",e.NIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/night-festival",e.LOST_FESTIVAL_BG_TOURNAMENT="images/tournament/lost-festival",e.HALLOWEEN_BG_TOURNAMENT="images/tournament/halloween",e.CHRISTMAS_BG_TOURNAMENT="images/tournament/christmas",e.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/spring-flower-festival",e.TET_HOLIDAY_BG_TOURNAMENT="images/tournament/tet-holiday",e.SEA_FESTIVAL_BG_TOURNAMENT="images/tournament/sea-festival",e.FIREWORK_FESTIVAL_BG_TOURNAMENT="images/tournament/firework-festival",e.SUMMER_BG_THUMBNAIL="images/thumbnail/summer",e.AUTUMN_BG_THUMBNAIL="images/thumbnail/autumn",e.WINTER_BG_THUMBNAIL="images/thumbnail/winter",e.FLOWER_FIELD_BG_THUMBNAIL="images/thumbnail/flower-field",e.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL="images/thumbnail/tree-planting-festival",e.MUSIC_FESTIVAL_BG_THUMBNAIL="images/thumbnail/music-festival",e.HARVEST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/harvest-festival",e.FOOD_FESTIVAL_BG_THUMBNAIL="images/thumbnail/food-festival",e.LIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/light-festival",e.PEACE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/peace-festival",e.FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/flower-festival",e.STREET_FESTIVAL_BG_THUMBNAIL="images/thumbnail/street-festival",e.COLOR_GARDEN_BG_THUMBNAIL="images/thumbnail/color-garden",e.COLOR_FESTIVAL_BG_THUMBNAIL="images/thumbnail/color-festival",e.NATURE_SUMMER_BG_THUMBNAIL="images/thumbnail/nature-summer",e.SNOW_MOUNTAIN_BG_THUMBNAIL="images/thumbnail/snow-mountain",e.ICE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/ice-festival",e.NIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/night-festival",e.LOST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/lost-festival",e.HALLOWEEN_BG_THUMBNAIL="images/thumbnail/halloween",e.CHRISTMAS_BG_THUMBNAIL="images/thumbnail/christmas",e.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/spring-flower-festival",e.TET_HOLIDAY_BG_THUMBNAIL="images/thumbnail/tet-holiday",e.SEA_FESTIVAL_BG_THUMBNAIL="images/thumbnail/sea-festival",e.FIREWORK_FESTIVAL_BG_THUMBNAIL="images/thumbnail/firework-festival",e.COLLECTIONS_PAGE="pages/CollectionsContent",e.LEADERBOARD_PAGE="pages/LeaderboardContent",e.TOURNAMENTS_PAGE="pages/TournamentsContent",e.PAGE_LEAVES_PREFAB="pages/Leaves",e.LEVEL_DATA_FOLDER="levels-json",e.SIDEBAR_BG="images/bg-sidebar",e.TOP_LEFT_LEAF="images/top-left-leaf",e.TOP_RIGHT_LEAF="images/top-right-leaf",e.BOTTOM_LEFT_LEAF="images/bottom-left-leaf",e.BOTTOM_RIGHT_LEAF="images/bottom-right-leaf",e.TORNADO_SPINE_PREFAB="game-objects/tornado/Tornado",e}(U||{})),D=C.vals(U),P=e("e",D.reduce((function(e,t,n){return e[t]=n,e}),{}));A(P);e("f",D);T._RF.pop(),T._RF.push({},"3f1dbbPrPVBy5lNYySV74Qq","ThemeKeys",void 0);var W,w,H,b,k=e("q",{SUMMER:"summer",AUTUMN:"autumn",WINTER:"winter",SPRING_FESTIVAL:"spring-festival",TREE_PLANTING_FESTIVAL:"tree-planting-festival",BLUE_SEA_FESTIVAL:"blue-sea-festival",MUSIC_FESTIVAL:"music-festival",HARVEST_FESTIVAL:"harvest-festival",FOOD_FESTIVAL:"food-festival",SNOW_FESTIVAL:"snow-festival",LIGHT_FESTIVAL:"light-festival",PEACE_FESTIVAL:"peace-festival",FLOWER_FESTIVAL:"flower-festival",STREET_FESTIVAL:"street-festival",COLOR_GARDEN:"color-garden",COLOR_FESTIVAL:"color-festival",NATURE_SUMMER:"nature-summer",SNOW_MOUNTAIN:"snow-mountain",ICE_FESTIVAL:"ice-festival",GREEN_GRASS_FESTIVAL:"green-grass-festival",COMMUNITY_FESTIVAL:"community-festival",WATER_FESTIVAL:"water-festival",ANIMAL_FESTIVAL:"animal-festival",LOST_FESTIVAL:"lost-festival",HALLOWEEN_FESTIVAL:"halloween-festival",SNOW_MUSIC_FESTIVAL:"snow-music-festival",CHRISTMAS:"christmas",SPRING_FLOWER_FESTIVAL:"spring-flower-festival",TET_HOLIDAY:"tet-holiday",SEA_FESTIVAL:"sea-festival",FIREWORK_FESTIVAL:"firework-festival",HALLOWEEN_HORROR:"halloween-horror",MID_AUTUMN:"mid-autumn",CHRISTMAS_SWEET:"christmas-sweet",NEW_YEAR_COUNTDOWN:"new-year-countdown",HAPPY_NEW_YEAR:"happy-new-year"});A(k),T._RF.pop(),T._RF.push({},"2a657+TsltMe4rrDmyWGrLy","ThemeResourcesPath",void 0);var $=(t(W={},k.SUMMER,U.SUMMER_BG),t(W,k.AUTUMN,U.AUTUMN_BG),t(W,k.WINTER,U.WINTER_BG),t(W,k.SPRING_FESTIVAL,U.FLOWER_FIELD_BG),t(W,k.TREE_PLANTING_FESTIVAL,U.TREE_PLANTING_FESTIVAL_BG),t(W,k.BLUE_SEA_FESTIVAL,U.SEA_FESTIVAL_BG),t(W,k.MUSIC_FESTIVAL,U.MUSIC_FESTIVAL_BG),t(W,k.HARVEST_FESTIVAL,U.HARVEST_FESTIVAL_BG),t(W,k.FOOD_FESTIVAL,U.FOOD_FESTIVAL_BG),t(W,k.SNOW_FESTIVAL,U.WINTER_BG),t(W,k.LIGHT_FESTIVAL,U.LIGHT_FESTIVAL_BG),t(W,k.PEACE_FESTIVAL,U.PEACE_FESTIVAL_BG),t(W,k.FLOWER_FESTIVAL,U.FLOWER_FESTIVAL_BG),t(W,k.STREET_FESTIVAL,U.STREET_FESTIVAL_BG),t(W,k.COLOR_GARDEN,U.COLOR_GARDEN_BG),t(W,k.COLOR_FESTIVAL,U.COLOR_FESTIVAL_BG),t(W,k.NATURE_SUMMER,U.NATURE_SUMMER_BG),t(W,k.SNOW_MOUNTAIN,U.SNOW_MOUNTAIN_BG),t(W,k.ICE_FESTIVAL,U.ICE_FESTIVAL_BG),t(W,k.GREEN_GRASS_FESTIVAL,U.FLOWER_FIELD_BG),t(W,k.COMMUNITY_FESTIVAL,U.NIGHT_FESTIVAL_BG),t(W,k.WATER_FESTIVAL,U.SEA_FESTIVAL_BG),t(W,k.ANIMAL_FESTIVAL,U.TREE_PLANTING_FESTIVAL_BG),t(W,k.LOST_FESTIVAL,U.LOST_FESTIVAL_BG),t(W,k.HALLOWEEN_FESTIVAL,U.HALLOWEEN_BG),t(W,k.SNOW_MUSIC_FESTIVAL,U.MUSIC_FESTIVAL_BG),t(W,k.CHRISTMAS,U.CHRISTMAS_BG),t(W,k.SPRING_FLOWER_FESTIVAL,U.SPRING_FLOWER_FESTIVAL_BG),t(W,k.TET_HOLIDAY,U.TET_HOLIDAY_BG),t(W,k.SEA_FESTIVAL,U.SEA_FESTIVAL_BG),t(W,k.FIREWORK_FESTIVAL,U.FIREWORK_FESTIVAL_BG),t(W,k.HALLOWEEN_HORROR,U.HALLOWEEN_BG),t(W,k.MID_AUTUMN,U.SPRING_FLOWER_FESTIVAL_BG),t(W,k.CHRISTMAS_SWEET,U.CHRISTMAS_BG),t(W,k.NEW_YEAR_COUNTDOWN,U.TET_HOLIDAY_BG),t(W,k.HAPPY_NEW_YEAR,U.TET_HOLIDAY_BG),W),x=e("s",(t(w={},k.SUMMER,U.SUMMER_BG_PREVIEW),t(w,k.AUTUMN,U.AUTUMN_BG_PREVIEW),t(w,k.WINTER,U.WINTER_BG_PREVIEW),t(w,k.SPRING_FESTIVAL,U.FLOWER_FIELD_BG_PREVIEW),t(w,k.TREE_PLANTING_FESTIVAL,U.TREE_PLANTING_FESTIVAL_BG_PREVIEW),t(w,k.BLUE_SEA_FESTIVAL,U.SEA_FESTIVAL_BG_PREVIEW),t(w,k.MUSIC_FESTIVAL,U.MUSIC_FESTIVAL_BG_PREVIEW),t(w,k.HARVEST_FESTIVAL,U.HARVEST_FESTIVAL_BG_PREVIEW),t(w,k.FOOD_FESTIVAL,U.FOOD_FESTIVAL_BG_PREVIEW),t(w,k.SNOW_FESTIVAL,U.WINTER_BG_PREVIEW),t(w,k.LIGHT_FESTIVAL,U.LIGHT_FESTIVAL_BG_PREVIEW),t(w,k.PEACE_FESTIVAL,U.PEACE_FESTIVAL_BG_PREVIEW),t(w,k.FLOWER_FESTIVAL,U.FLOWER_FESTIVAL_BG_PREVIEW),t(w,k.STREET_FESTIVAL,U.STREET_FESTIVAL_BG_PREVIEW),t(w,k.COLOR_GARDEN,U.COLOR_GARDEN_BG_PREVIEW),t(w,k.COLOR_FESTIVAL,U.COLOR_FESTIVAL_BG_PREVIEW),t(w,k.NATURE_SUMMER,U.NATURE_SUMMER_BG_PREVIEW),t(w,k.SNOW_MOUNTAIN,U.SNOW_MOUNTAIN_BG_PREVIEW),t(w,k.ICE_FESTIVAL,U.ICE_FESTIVAL_BG_PREVIEW),t(w,k.GREEN_GRASS_FESTIVAL,U.FLOWER_FIELD_BG_PREVIEW),t(w,k.COMMUNITY_FESTIVAL,U.NIGHT_FESTIVAL_BG_PREVIEW),t(w,k.WATER_FESTIVAL,U.SEA_FESTIVAL_BG_PREVIEW),t(w,k.ANIMAL_FESTIVAL,U.TREE_PLANTING_FESTIVAL_BG_PREVIEW),t(w,k.LOST_FESTIVAL,U.LOST_FESTIVAL_BG_PREVIEW),t(w,k.HALLOWEEN_FESTIVAL,U.HALLOWEEN_BG_PREVIEW),t(w,k.SNOW_MUSIC_FESTIVAL,U.MUSIC_FESTIVAL_BG_PREVIEW),t(w,k.CHRISTMAS,U.CHRISTMAS_BG_PREVIEW),t(w,k.SPRING_FLOWER_FESTIVAL,U.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),t(w,k.TET_HOLIDAY,U.TET_HOLIDAY_BG_PREVIEW),t(w,k.SEA_FESTIVAL,U.SEA_FESTIVAL_BG_PREVIEW),t(w,k.FIREWORK_FESTIVAL,U.FIREWORK_FESTIVAL_BG_PREVIEW),t(w,k.HALLOWEEN_HORROR,U.HALLOWEEN_BG_PREVIEW),t(w,k.MID_AUTUMN,U.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),t(w,k.CHRISTMAS_SWEET,U.CHRISTMAS_BG_PREVIEW),t(w,k.NEW_YEAR_COUNTDOWN,U.TET_HOLIDAY_BG_PREVIEW),t(w,k.HAPPY_NEW_YEAR,U.TET_HOLIDAY_BG_PREVIEW),w)),Y=e("t",(t(H={},k.SUMMER,U.SUMMER_BG_TOURNAMENT),t(H,k.AUTUMN,U.AUTUMN_BG_TOURNAMENT),t(H,k.WINTER,U.WINTER_BG_TOURNAMENT),t(H,k.SPRING_FESTIVAL,U.FLOWER_FIELD_BG_TOURNAMENT),t(H,k.TREE_PLANTING_FESTIVAL,U.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),t(H,k.BLUE_SEA_FESTIVAL,U.SEA_FESTIVAL_BG_TOURNAMENT),t(H,k.MUSIC_FESTIVAL,U.MUSIC_FESTIVAL_BG_TOURNAMENT),t(H,k.HARVEST_FESTIVAL,U.HARVEST_FESTIVAL_BG_TOURNAMENT),t(H,k.FOOD_FESTIVAL,U.FOOD_FESTIVAL_BG_TOURNAMENT),t(H,k.SNOW_FESTIVAL,U.WINTER_BG_TOURNAMENT),t(H,k.LIGHT_FESTIVAL,U.LIGHT_FESTIVAL_BG_TOURNAMENT),t(H,k.PEACE_FESTIVAL,U.PEACE_FESTIVAL_BG_TOURNAMENT),t(H,k.FLOWER_FESTIVAL,U.FLOWER_FESTIVAL_BG_TOURNAMENT),t(H,k.STREET_FESTIVAL,U.STREET_FESTIVAL_BG_TOURNAMENT),t(H,k.COLOR_GARDEN,U.COLOR_GARDEN_BG_TOURNAMENT),t(H,k.COLOR_FESTIVAL,U.COLOR_FESTIVAL_BG_TOURNAMENT),t(H,k.NATURE_SUMMER,U.NATURE_SUMMER_BG_TOURNAMENT),t(H,k.SNOW_MOUNTAIN,U.SNOW_MOUNTAIN_BG_TOURNAMENT),t(H,k.ICE_FESTIVAL,U.ICE_FESTIVAL_BG_TOURNAMENT),t(H,k.GREEN_GRASS_FESTIVAL,U.FLOWER_FIELD_BG_TOURNAMENT),t(H,k.COMMUNITY_FESTIVAL,U.NIGHT_FESTIVAL_BG_TOURNAMENT),t(H,k.WATER_FESTIVAL,U.SEA_FESTIVAL_BG_TOURNAMENT),t(H,k.ANIMAL_FESTIVAL,U.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),t(H,k.LOST_FESTIVAL,U.LOST_FESTIVAL_BG_TOURNAMENT),t(H,k.HALLOWEEN_FESTIVAL,U.HALLOWEEN_BG_TOURNAMENT),t(H,k.SNOW_MUSIC_FESTIVAL,U.MUSIC_FESTIVAL_BG_TOURNAMENT),t(H,k.CHRISTMAS,U.CHRISTMAS_BG_TOURNAMENT),t(H,k.SPRING_FLOWER_FESTIVAL,U.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),t(H,k.TET_HOLIDAY,U.TET_HOLIDAY_BG_TOURNAMENT),t(H,k.SEA_FESTIVAL,U.SEA_FESTIVAL_BG_TOURNAMENT),t(H,k.FIREWORK_FESTIVAL,U.FIREWORK_FESTIVAL_BG_TOURNAMENT),t(H,k.HALLOWEEN_HORROR,U.HALLOWEEN_BG_TOURNAMENT),t(H,k.MID_AUTUMN,U.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),t(H,k.CHRISTMAS_SWEET,U.CHRISTMAS_BG_TOURNAMENT),t(H,k.NEW_YEAR_COUNTDOWN,U.TET_HOLIDAY_BG_TOURNAMENT),t(H,k.HAPPY_NEW_YEAR,U.TET_HOLIDAY_BG_TOURNAMENT),H)),K=(t(b={},k.SUMMER,U.SUMMER_BG_THUMBNAIL),t(b,k.AUTUMN,U.AUTUMN_BG_THUMBNAIL),t(b,k.WINTER,U.WINTER_BG_THUMBNAIL),t(b,k.SPRING_FESTIVAL,U.FLOWER_FIELD_BG_THUMBNAIL),t(b,k.TREE_PLANTING_FESTIVAL,U.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),t(b,k.BLUE_SEA_FESTIVAL,U.SEA_FESTIVAL_BG_THUMBNAIL),t(b,k.MUSIC_FESTIVAL,U.MUSIC_FESTIVAL_BG_THUMBNAIL),t(b,k.HARVEST_FESTIVAL,U.HARVEST_FESTIVAL_BG_THUMBNAIL),t(b,k.FOOD_FESTIVAL,U.FOOD_FESTIVAL_BG_THUMBNAIL),t(b,k.SNOW_FESTIVAL,U.WINTER_BG_THUMBNAIL),t(b,k.LIGHT_FESTIVAL,U.LIGHT_FESTIVAL_BG_THUMBNAIL),t(b,k.PEACE_FESTIVAL,U.PEACE_FESTIVAL_BG_THUMBNAIL),t(b,k.FLOWER_FESTIVAL,U.FLOWER_FESTIVAL_BG_THUMBNAIL),t(b,k.STREET_FESTIVAL,U.STREET_FESTIVAL_BG_THUMBNAIL),t(b,k.COLOR_GARDEN,U.COLOR_GARDEN_BG_THUMBNAIL),t(b,k.COLOR_FESTIVAL,U.COLOR_FESTIVAL_BG_THUMBNAIL),t(b,k.NATURE_SUMMER,U.NATURE_SUMMER_BG_THUMBNAIL),t(b,k.SNOW_MOUNTAIN,U.SNOW_MOUNTAIN_BG_THUMBNAIL),t(b,k.ICE_FESTIVAL,U.ICE_FESTIVAL_BG_THUMBNAIL),t(b,k.GREEN_GRASS_FESTIVAL,U.FLOWER_FIELD_BG_THUMBNAIL),t(b,k.COMMUNITY_FESTIVAL,U.NIGHT_FESTIVAL_BG_THUMBNAIL),t(b,k.WATER_FESTIVAL,U.SEA_FESTIVAL_BG_THUMBNAIL),t(b,k.ANIMAL_FESTIVAL,U.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),t(b,k.LOST_FESTIVAL,U.LOST_FESTIVAL_BG_THUMBNAIL),t(b,k.HALLOWEEN_FESTIVAL,U.HALLOWEEN_BG_THUMBNAIL),t(b,k.SNOW_MUSIC_FESTIVAL,U.MUSIC_FESTIVAL_BG_THUMBNAIL),t(b,k.CHRISTMAS,U.CHRISTMAS_BG_THUMBNAIL),t(b,k.SPRING_FLOWER_FESTIVAL,U.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),t(b,k.TET_HOLIDAY,U.TET_HOLIDAY_BG_THUMBNAIL),t(b,k.SEA_FESTIVAL,U.SEA_FESTIVAL_BG_THUMBNAIL),t(b,k.FIREWORK_FESTIVAL,U.FIREWORK_FESTIVAL_BG_THUMBNAIL),t(b,k.HALLOWEEN_HORROR,U.HALLOWEEN_BG_THUMBNAIL),t(b,k.MID_AUTUMN,U.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),t(b,k.CHRISTMAS_SWEET,U.CHRISTMAS_BG_THUMBNAIL),t(b,k.NEW_YEAR_COUNTDOWN,U.TET_HOLIDAY_BG_THUMBNAIL),t(b,k.HAPPY_NEW_YEAR,U.TET_HOLIDAY_BG_THUMBNAIL),b);T._RF.pop(),T._RF.push({},"e47d3MKeBlKI5LBqF9tQ23T","ResourceUtils",void 0);var z=Ludex.Utils.Function;e("R",function(e){n(T,e);var t,o,E,u,l,_=i(T);function T(){return a(this,T),_.apply(this,arguments)}return r(T,null,[{key:"loadThemeAsync",value:(l=s((function*(e){return this.loadSpriteFrameAsync("".concat($[e],"/spriteFrame"),!1)})),function(e){return l.apply(this,arguments)})},{key:"loadThemePreviewAsync",value:(u=s((function*(e){return this.loadSpriteFrameAsync("".concat(x[e],"/spriteFrame"))})),function(e){return u.apply(this,arguments)})},{key:"loadThemeTournamentAsync",value:(E=s((function*(e){return this.loadSpriteFrameAsync("".concat(Y[e],"/spriteFrame"))})),function(e){return E.apply(this,arguments)})},{key:"loadThemeThumbnailAsync",value:(o=s((function*(e){return this.loadSpriteFrameAsync("".concat(K[e],"/spriteFrame"))})),function(e){return o.apply(this,arguments)})},{key:"loadSkinPreviewAsync",value:(t=s((function*(e){for(var t=[],n=1;n<=4;n++){var i="".concat(U.TILE_SKIN_PREVIEW_FOLDER,"/").concat(e.replace(/-/g,"_"),"_").concat(n,"/spriteFrame");t.push(this.loadSpriteFrameAsync(i))}return Promise.all(t)})),function(e){return t.apply(this,arguments)})}]),T}(function(){function e(){a(this,e),this.mutex$=z.mutex(),this.bundles$={loadable:null}}var t,n,i,u,l,_,T,A,N;return r(e,[{key:"getBundleNameByType",value:function(e){return"loadable"}},{key:"loadBundleByType",value:(N=s((function*(t){var n=this.getBundleNameByType(t);return e.loadBundle(n)})),function(e){return N.apply(this,arguments)})},{key:"getBundleByType",value:function(e){var t,n=this.getBundleNameByType(e);return null!==(t=this.bundles$[n])&&void 0!==t?t:null}},{key:"preloadAsset",value:(A=s((function*(e,t,n){var i=this;yield this.loadBundleByType(t);var a=this.getBundleByType(t);if(a)return new Promise((function(r,s){a.preload(e,t,(function(a){if(a)return console.warn("Failed to preload asset at path: ".concat(e),a),void s(a);n?i.loadAssetAsync(e,t).finally(r):r()}))}))})),function(e,t,n){return A.apply(this,arguments)})},{key:"loadAssetAsync",value:(T=s((function*(t,n){yield this.loadBundleByType(n);var i=this.getBundleByType(n);if(!i)return null;var a=e.getAsset(t,n);return a||new Promise((function(e,a){var r=function(n,i){i?e(i):(console.warn("[ResourceUtils] Failed to load asset at path: ".concat(t),n),a(null))};n?i.load(t,n,r):i.load(t,r)}))})),function(e,t){return T.apply(this,arguments)})},{key:"loadAssetsAsync",value:(_=s((function*(t,n){yield this.loadBundleByType(n);var i=this.getBundleByType(n);if(!i)return null;for(var a=[],r=[],s=0,o=t.length;s<o;s++){var E=t[s];if(E){var u=e.getAsset(E,n);u?a.push({index:s,asset:u}):r.push({index:s,path:E})}else r.push({index:s,path:""})}return 0===r.length?Promise.resolve(a.map((function(e){return e.asset}))):new Promise((function(e){i.load(r.map((function(e){return e.path})),n,(function(t,n){if(t||n.length!==r.length)e(null);else{for(var i=0,s=n.length;i<s;i++){var o,E=n[i];if(E){var u=null===(o=r[i])||void 0===o?void 0:o.index;if(!u)return;a.splice(u,0,{index:u,asset:E})}}e(a.map((function(e){return e.asset})))}}))}))})),function(e,t){return _.apply(this,arguments)})},{key:"loadDirAsync",value:(l=s((function*(e,t){yield this.loadBundleByType(t);var n=this.getBundleByType(t);return n?new Promise((function(i){n.loadDir(e,t,(function(t,n){n?i(n):(console.warn("Failed to load assets at path: ".concat(e),t),i([]))}))})):Promise.resolve([])})),function(e,t){return l.apply(this,arguments)})},{key:"preloadDirAsync",value:(u=s((function*(e,t,n){var i=this;yield this.loadBundleByType(t);var a=this.getBundleByType(t);if(a)return new Promise((function(r,s){a.preloadDir(e,t,(function(a){if(a)return console.warn("Failed to preload assets at path: ".concat(e),a),void s(a);n?i.loadDirAsync(e,t).finally(r):r()}))}))})),function(e,t,n){return u.apply(this,arguments)})}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"loadBundle",value:(i=s((function*(e){var t=this;if(this.inst.bundles$[e])return!0;if(L.bundles.get(e))return!0;var n=yield this.inst.mutex$.use("bundle-".concat(e));if(this.inst.bundles$[e])return n.release(),!0;var i=new Promise((function(n,i){var a=setTimeout((function(){return i("load bundle timeout (".concat(8e3,"ms): ").concat(e))}),8e3);L.loadBundle(e,(function(r,s){clearTimeout(a);var o=t.inst.bundles$[e];o||!r&&s?(t.inst.bundles$[e]=null!=o?o:s,n(!0)):i(r)}))})),a=yield z.handleAsync(i),r=o(a,2),s=(r[0],r[1]);return n.release(),!s})),function(e){return i.apply(this,arguments)})},{key:"preloadSpriteFramesDir",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadDirAsync(e,c,t)}},{key:"getAssetInfo",value:function(e,t){var n=this.inst.getBundleByType(t);return n?n.getInfoWithPath(e,t):null}},{key:"getAsset",value:function(e,t){var n=this.inst.getBundleByType(t);if(!n)return null;var i=this.getAssetInfo(e,t);return i?n.get(i.path,t):null}},{key:"loadAudioAsync",value:function(e){return this.inst.loadAssetAsync(e,S)}},{key:"loadJsonAsync",value:function(e){return this.inst.loadAssetAsync(e,I)}},{key:"loadPrefabAsync",value:function(e){return this.inst.loadAssetAsync(e,d)}},{key:"loadFontAsync",value:function(e){var t=M[e].replace(/\.[^.]+$/,"");return this.inst.loadAssetAsync(t,R)}},{key:"loadSpriteFrameAsync",value:(n=s((function*(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=yield this.inst.loadAssetAsync(e,c);return n&&(n.packable=t),n})),function(e){return n.apply(this,arguments)})},{key:"loadSpriteFramesAsync",value:(t=s((function*(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=yield this.inst.loadAssetsAsync(e,c);if(n){var i,a=E(n);try{for(a.s();!(i=a.n()).done;){var r=i.value;r.packable=t}}catch(e){a.e(e)}finally{a.f()}}return n})),function(e){return t.apply(this,arguments)})},{key:"loadSpriteFramesDirAsync",value:function(e){return this.inst.loadDirAsync(e,c)}}]),e}()));T._RF.pop(),T._RF.push({},"a0999j91ytLSYSzNSPnMz3i","AnimAbortSignalAdapter",void 0);var q=Ludex.Utils.Signal,j=function(){function e(t){a(this,e),this.oldCallbacks=[],this.newCallbacks=[],this.signal=t}return r(e,[{key:"once",value:function(e){var t=this,n=function(){return e(new Error(t.signal.reason))};this.oldCallbacks.push(n),this.newCallbacks.push(e),this.signal.addAbortListener(n)}},{key:"off",value:function(e){var t=this.newCallbacks.indexOf(e);if(-1!==t){var n=this.oldCallbacks[t];this.signal.removeAbortListener(n),this.oldCallbacks.splice(t,1),this.newCallbacks.splice(t,1)}}},{key:"abort",value:function(e){var t=e instanceof Error?e.message:e;this.signal.abort(t)}},{key:"aborted",get:function(){return this.signal.aborted}},{key:"reason",get:function(){return"string"==typeof this.signal.reason?new Error(this.signal.reason):void 0}},{key:"wrap",value:function(e){if(!this.aborted)return e}},{key:"chain",value:function(e){var t=this;e instanceof q.Signal?e.once((function(){return t.abort()})):e.addEventListener("abort",(function(){return t.abort()}))}},{key:"promise",value:function(){var e=this;return this.aborted?Promise.resolve(this.reason):new Promise((function(t){e.once((function(e){return t(e)}))}))}}]),e}();T._RF.pop(),T._RF.push({},"99b8eEF6WlE8pzPfD+whiJu","AnimUtils",void 0);var Z=Ludex.Utils.Signal;function J(e){return e instanceof Z.Signal?e:new j(e)}var Q=e("A",function(e){n(s,e);var t=i(s);function s(){return a(this,s),t.apply(this,arguments)}return r(s)}(function(){function e(){a(this,e)}return r(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"elasticOut",value:function(e,t,n){var i=t||.1,a=n||.1;if(0===e)return 0;if(1===e)return 1;var r=a/4;return i<1?i=1:r=a*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin((e-r)*(2*Math.PI)/a)+1}},{key:"easeOutExpo",value:function(e){return 1===e?1:1-Math.pow(2,-10*e)}},{key:"easeInExpo",value:function(e){return 0===e?0:Math.pow(2,10*e-10)}},{key:"runTweenAsync",value:function(e,t){if(void 0===t)return new Promise((function(t){e.call((function(){return t({tween:e})})).start()}));var n=J(t);return n.aborted?Promise.resolve({tween:e}):new Promise((function(t){var i=function(){e.stop(),t({tween:e})};n.once(i),e.call((function(){n.off(i),t({tween:e})})).start()}))}},{key:"runOnUpdateAsync",value:function(e,t,n,i){return new Promise((function(a,r){var s=N(e).to(t,{},{onUpdate:function(e,t){if(void 0!==t)try{n(t)}catch(e){r(e instanceof Error?e:new Error(String(e)))}}});if(void 0!==i){var o=J(i);if(o.aborted)a({tween:s});else{var E=function(){s.stop(),a({tween:s})};o.once(E),s.call((function(){o.off(E),a({tween:s})})).start()}}else s.call((function(){return a({tween:s})})).start()}))}},{key:"waitTweenAsync",value:function(e,t){return new Promise((function(n){var i=N({}).delay(e);if(void 0!==t){var a=J(t);if(a.aborted)n();else{var r=function(){i.stop(),n()};a.once(r),i.call((function(){a.off(r),n()})).start()}}else i.call((function(){return n()})).start()}))}},{key:"runAnimationAsync",value:function(e,t,n){if(void 0===n)return new Promise((function(n){e.once(f.EventType.FINISHED,n),e.play(t)}));var i=J(n);return i.aborted?Promise.resolve():new Promise((function(n){var a=function(){e.stop(),n()};i.once(a),e.once(f.EventType.FINISHED,(function(){i.off(a),n()})),e.play(t)}))}}]),e}()));T._RF.pop(),T._RF.push({},"244e9OHsmpDnpHQKeLzgiiX","GameEvents",void 0);var X=e("G",{VIEW_RESIZED:"view-resized",LAYOUT_CHANGED:"layout-changed",ORIENTATION_CHANGED:"orientation-changed",WIDGET_RESIZED:"widget-resized",GAMEPLAY_UPDATE_CONFIG:"gameplay-update-config",OPENED_SKIP_OVERLAY:"opened-skip-overlay",CLOSED_SKIP_OVERLAY:"closed-skip-overlay",RESULT_SCENE_REPLAY:"result-scene-replay",RESULT_SCENE_HOME:"result-scene-home",REQUEST_DYNAMIC_ATLAS:"request-dynamic-atlas",FINISHED_DYNAMIC_ATLAS:"finished-dynamic-atlas",ASSET_QUALITY_CHANGE:"asset-quality-change",REQUEST_UPGRADE_ASSET:"request-upgrade-asset",CLEAR_HYBRID_FILE_CACHE:"clear-hybrid-file-cache",PRELOAD_LANGUAGE:"preload-language",CHOOSE_LANGUAGE:"choose-language",LOCALIZE_APPLIED:"localize-applied"});T._RF.pop(),T._RF.push({},"05faedSJ2NHFqLe9b3g4RIl","CocosUtils",void 0);var ee=Ludex.Utils.Device,te=e("C",function(e){n(s,e);var t=i(s);function s(){return a(this,s),t.apply(this,arguments)}return r(s)}(function(){function e(){var t=this;a(this,e),this.getWindowSizeVsWorldGameRatio$=function(){var t=h.getVisibleSize();return m.windowSize.width/e.getMaxPixelRatio()/t.width},this.getBoundingBoxTo$=function(e,n){var i=y.mat4();y.Mat4.fromSRT(i,n.getRotation(),n.getPosition(),n.getScale());var a=n.getComponent(v);if(!a)throw new Error("Node must have UITransform component");var r=a.anchorPoint,s=a.contentSize,o=s.width,u=s.height,l=new y.Rect(-r.x*o,-r.y*u,o,u),_=y.mat4();if(y.Mat4.multiply(_,e,i),l.transformMat4(_),!n.children||0===n.children.length)return l;var T,A=n.children,c=n.getWorldMatrix(),S=E(A);try{for(S.s();!(T=S.n()).done;){var I=T.value;if(null!=I&&I.active)if(I.getComponent(v)){var d=t.getBoundingBoxTo$(c,I);d&&y.Rect.union(l,l,d)}}}catch(e){S.e(e)}finally{S.f()}return l}}return r(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"getBoundingBoxToWorld",value:function(e){if(e.parent){var t=e.parent.getWorldMatrix();return this.inst.getBoundingBoxTo$(t,e)}var n=e.getComponent(v);if(!n)throw new Error("Node must have UITransform component");return n.getBoundingBox()}},{key:"getMaxPixelRatio",value:function(){return Math.min(ee.pixelRatio(),3)}},{key:"worldSizeToCssSize",value:function(e){var t=this.getMaxPixelRatio();return Math.round(e*t)}},{key:"cssSizeToWorldSize",value:function(e){return e/this.inst.getWindowSizeVsWorldGameRatio$()}},{key:"getScreenWidthCss",value:function(){var e=document,t=e.body,n=e.documentElement,i=t.clientWidth,a=n.clientWidth;return Math.max(a,i)||0}},{key:"getScreenHeightCss",value:function(){var e=document,t=e.body,n=e.documentElement,i=t.clientHeight,a=n.clientHeight;return Math.max(a,i)||0}}]),e}()));T._RF.pop(),T._RF.push({},"5c76fxO2ppOqYp4WNO+Kavm","GameWorld",void 0);var ne=e("a",{Layout:{Portrait:"portrait",Landscape:"landscape"},DesignSize:{Portrait:{WIDTH:750,HEIGHT:1583},Landscape:{WIDTH:2732,HEIGHT:1536},Resolution:2},AcceptPortraitRatio:690/829,PRIMARY_LAYOUT:"auto",FULL_CANVAS_TO_SCREEN:!0,FULL_PORTRAIT_SIZE:!0,FULL_LANDSCAPE_SIZE:!0});T._RF.pop(),T._RF.push({},"31871PLRYRJu7yCCX5F6lWK","AudioUtils",void 0);var ie,ae,re=Ludex.Utils.Signal,se=e("b",function(e){n(s,e);var t=i(s);function s(){return a(this,s),t.apply(this,arguments)}return r(s)}(function(){function e(){a(this,e),this.signalController$=new re.SignalController}var t,n,i,o,E;return r(e,[{key:"sound",get:function(){var e;return null===(e=p("Sound"))||void 0===e?void 0:e.getComponent("Sound")}},{key:"music",get:function(){var e;return null===(e=p("Music"))||void 0===e?void 0:e.getComponent("Music")}}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"muteAudio",value:function(e){this.muteMusic(e),this.muteSound(e)}},{key:"muteSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.mute(e)}},{key:"muteMusic",value:function(e){var t;null===(t=this.inst.music)||void 0===t||t.mute(e)}},{key:"getCurrentMusic",value:function(){return this.inst.currentMusic$}},{key:"turnUpMusic",value:(E=s((function*(){var e,t;(null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0)>.6||(yield this.setVolumeMusic(.6,!0))})),function(){return E.apply(this,arguments)})},{key:"turnDownMusic",value:(o=s((function*(){var e,t;(null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0)<.2||(yield this.setVolumeMusic(.2,!0))})),function(){return o.apply(this,arguments)})},{key:"turnOffMusic",value:(i=s((function*(){yield this.setVolumeMusic(0)})),function(){return i.apply(this,arguments)})},{key:"getVolumeMusic",value:function(){var e,t;return null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0}},{key:"setVolumeMusic",value:(n=s((function*(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.inst.music){var i=this.inst.signalController$.renew();if(n){var a=this.inst.music.getVolume(),r=a;yield Q.runOnUpdateAsync(this.inst.music.node,1,(function(n){t.inst.music&&(r=a+(e-a)*n,t.inst.music.setVolume(r))}),i)}else{var s;null===(s=this.inst.music)||void 0===s||s.setVolume(e)}}})),function(e){return n.apply(this,arguments)})},{key:"playSound",value:(t=s((function*(e,t){var n;return null===(n=this.inst.sound)||void 0===n?void 0:n.play(e,t)})),function(e,n){return t.apply(this,arguments)})},{key:"pauseSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.pause(e)}},{key:"resumeSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.resume(e)}},{key:"stopSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.stop(e)}},{key:"stopAllSounds",value:function(){var e;null===(e=this.inst.sound)||void 0===e||e.stopAll()}},{key:"playMusic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.inst.music&&(this.inst.currentMusic$!==e&&this.pauseMusic(),this.inst.currentMusic$=e,!t&&this.inst.music.playing(e)||(t&&this.inst.music.stop(e),this.inst.music.play(e)))}},{key:"pauseMusic",value:function(){var e;null===(e=this.inst.music)||void 0===e||e.pause(this.inst.currentMusic$)}}]),e}()));T._RF.pop(),T._RF.push({},"0eeb868JeVE67iFwhbkRCmE","ScreenKeys",void 0);var oe=e("l",function(e){return e[e.RESCUES_SCREEN=0]="RESCUES_SCREEN",e[e.LOADING_SCREEN=1]="LOADING_SCREEN",e[e.GET_ITEM_SCREEN=2]="GET_ITEM_SCREEN",e[e.GET_COIN_SCREEN=3]="GET_COIN_SCREEN",e[e.SETTINGS_SCREEN=4]="SETTINGS_SCREEN",e[e.START_LEVEL_SCREEN=5]="START_LEVEL_SCREEN",e[e.NOTIFICATION_SCREEN=6]="NOTIFICATION_SCREEN",e[e.LEVEL_COMPLETE_SCREEN=7]="LEVEL_COMPLETE_SCREEN",e[e.CONGRATULATION_SCREEN=8]="CONGRATULATION_SCREEN",e[e.QUIT_LEVEL_SCREEN=9]="QUIT_LEVEL_SCREEN",e[e.TOURNAMENT_DETAIL_SCREEN=10]="TOURNAMENT_DETAIL_SCREEN",e[e.DAILY_REWARDS_SCREEN=11]="DAILY_REWARDS_SCREEN",e[e.STAR_CHEST_SCREEN=12]="STAR_CHEST_SCREEN",e[e.START_OVER_SCREEN=13]="START_OVER_SCREEN",e[e.PAUSE_SCREEN=14]="PAUSE_SCREEN",e[e.HARD_LEVEL_SCREEN=15]="HARD_LEVEL_SCREEN",e[e.GET_REWARDS_SCREEN=16]="GET_REWARDS_SCREEN",e[e.CUSTOM_GAME_SCREEN=17]="CUSTOM_GAME_SCREEN",e}(oe||{})),Ee=e("p",(t(ie={},oe.RESCUES_SCREEN,"RescuesScreen"),t(ie,oe.LOADING_SCREEN,"LoadingScreen"),t(ie,oe.GET_ITEM_SCREEN,"GetItemScreen"),t(ie,oe.GET_COIN_SCREEN,"GetCoinScreen"),t(ie,oe.SETTINGS_SCREEN,"SettingsScreen"),t(ie,oe.START_LEVEL_SCREEN,"StartLevelScreen"),t(ie,oe.NOTIFICATION_SCREEN,"NotificationScreen"),t(ie,oe.LEVEL_COMPLETE_SCREEN,"LevelCompleteScreen"),t(ie,oe.CONGRATULATION_SCREEN,"CongratulationScreen"),t(ie,oe.QUIT_LEVEL_SCREEN,"QuitLevelScreen"),t(ie,oe.TOURNAMENT_DETAIL_SCREEN,"TournamentDetailScreen"),t(ie,oe.DAILY_REWARDS_SCREEN,"DailyRewardsScreen"),t(ie,oe.STAR_CHEST_SCREEN,"StarChestScreen"),t(ie,oe.START_OVER_SCREEN,"StartOverScreen"),t(ie,oe.PAUSE_SCREEN,"PauseScreen"),t(ie,oe.HARD_LEVEL_SCREEN,"HardLevelScreen"),t(ie,oe.GET_REWARDS_SCREEN,"GetRewardsScreen"),t(ie,oe.CUSTOM_GAME_SCREEN,"CustomGameScreen"),ie)),ue=(t(ae={},Ee[oe.RESCUES_SCREEN],oe.RESCUES_SCREEN),t(ae,Ee[oe.LOADING_SCREEN],oe.LOADING_SCREEN),t(ae,Ee[oe.GET_ITEM_SCREEN],oe.GET_ITEM_SCREEN),t(ae,Ee[oe.GET_COIN_SCREEN],oe.GET_COIN_SCREEN),t(ae,Ee[oe.SETTINGS_SCREEN],oe.SETTINGS_SCREEN),t(ae,Ee[oe.START_LEVEL_SCREEN],oe.START_LEVEL_SCREEN),t(ae,Ee[oe.NOTIFICATION_SCREEN],oe.NOTIFICATION_SCREEN),t(ae,Ee[oe.LEVEL_COMPLETE_SCREEN],oe.LEVEL_COMPLETE_SCREEN),t(ae,Ee[oe.CONGRATULATION_SCREEN],oe.CONGRATULATION_SCREEN),t(ae,Ee[oe.QUIT_LEVEL_SCREEN],oe.QUIT_LEVEL_SCREEN),t(ae,Ee[oe.TOURNAMENT_DETAIL_SCREEN],oe.TOURNAMENT_DETAIL_SCREEN),t(ae,Ee[oe.DAILY_REWARDS_SCREEN],oe.DAILY_REWARDS_SCREEN),t(ae,Ee[oe.STAR_CHEST_SCREEN],oe.STAR_CHEST_SCREEN),t(ae,Ee[oe.START_OVER_SCREEN],oe.START_OVER_SCREEN),t(ae,Ee[oe.PAUSE_SCREEN],oe.PAUSE_SCREEN),t(ae,Ee[oe.HARD_LEVEL_SCREEN],oe.HARD_LEVEL_SCREEN),t(ae,Ee[oe.GET_REWARDS_SCREEN],oe.GET_REWARDS_SCREEN),t(ae,Ee[oe.CUSTOM_GAME_SCREEN],oe.CUSTOM_GAME_SCREEN),[Ee[oe.NOTIFICATION_SCREEN],Ee[oe.LOADING_SCREEN]]);T._RF.pop(),T._RF.push({},"09bc071ZcpI978b1NdKUaqD","AnalyticsUtils",void 0);var le=Ludex,_e=le.Utils.Array,Te=le.Configs.Analytics,Ae=codex.analytics,ce=function(){function e(){a(this,e)}return r(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"trackCurrentPage",value:function(e,t){if(Te.Enabled&&!_e.has(ue,e)&&(t||_e.has(this.trackingPages$,e))){this.trackingPages$=this.trackingPages$.filter((function(t){return t!==e})),t&&this.trackingPages$.push(e);var n=this.getCurrentPage();Ae.pageview(n)}}},{key:"switchSceneTracking",value:function(){if(Te.Enabled){this.trackingPages$=[];var e=this.getCurrentPage();Ae.pageview(e)}}},{key:"getCurrentPage",value:function(){var e,t;return this.trackingPages$.length>0?this.trackingPages$[this.trackingPages$.length-1]||"Unknown Page":null!==(e=null===(t=g.getScene())||void 0===t?void 0:t.name)&&void 0!==e?e:"Unknown Scene"}},{key:"trackDeviceInfo",value:function(e){Te.Enabled&&Ae.event("device_info",e)}}]),e}();ce.trackingPages$=[];e("c",function(e){n(s,e);var t=i(s);function s(){return a(this,s),t.apply(this,arguments)}return r(s)}(ce));T._RF.pop(),T._RF.push({},"358fdIqjFdNzZGa95REWt2F","Ads",void 0);var Se=e("o",{MAX_BOTTOM_BANNER_RATIO:1/6,NUM_LEVEL_WITHOUT_BANNER_ADS:0});T._RF.pop(),T._RF.push({},"a0dcdDZxhZImZ8Cfg4Dc7SJ","ScreenUtils",void 0);var Ie=codex.event,de=Ludex,Re=de.Events,Le=de.Utils.Array,Ne=e("S",function(e){n(s,e);var t=i(s);function s(){return a(this,s),t.apply(this,arguments)}return r(s,null,[{key:"showTournamentDetailScreen",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.openScreen(oe.TOURNAMENT_DETAIL_SCREEN,{playAnimation:n,tournament:e,tournamentContextType:t})}},{key:"closeTournamentDetailScreen",value:function(){return this.closeScreen(oe.TOURNAMENT_DETAIL_SCREEN)}}]),s}(function(){function e(){a(this,e),this.showedScreens$=[]}var t,n,i;return r(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"preloadScreen",value:function(e){var t=Ee[e];t&&Ie.emit(Re.PRELOAD_SCREEN,{screenName:t})}},{key:"preloadScreens",value:function(){Ie.emit(Re.PRELOAD_SCREENS)}},{key:"openScreen",value:function(e,t){var n=Ee[e];return Ie.emit(Re.OPEN_SCREEN,{screenName:n,screenData:t}),new Promise((function(e){Ie.on(Re.OPENED_SCREEN,(function t(i){i.screenName===n&&(Ie.off(Re.OPENED_SCREEN,t),e())}))}))}},{key:"closeScreen",value:function(e){var t=Ee[e];return Ie.emit(Re.CLOSE_SCREEN,{screenName:t}),new Promise((function(e){Ie.on(Re.CLOSED_SCREEN,(function n(i){i.screenName===t&&(Ie.off(Re.CLOSED_SCREEN,n),e())}))}))}},{key:"openScreenAndWaitForClose",value:(i=s((function*(e,t){return yield this.openScreen(e,t),yield new Promise((function(t){Ie.on(Re.CLOSE_SCREEN,(function n(i){i.screenName===Ee[e]&&(Ie.off(Re.CLOSE_SCREEN,n),t(i))}))}))})),function(e,t){return i.apply(this,arguments)})},{key:"showLoadingScreen",value:function(e){return this.openScreen(oe.LOADING_SCREEN,{duration:e})}},{key:"closeLoadingScreen",value:function(){return this.closeScreen(oe.LOADING_SCREEN)}},{key:"showNotificationScreen",value:function(e,t){return this.openScreen(oe.NOTIFICATION_SCREEN,{message:e,duration:t})}},{key:"showNotificationScreenWithLocalizedKey",value:function(e,t){return this.openScreen(oe.NOTIFICATION_SCREEN,{localizedMessageKey:e,duration:t})}},{key:"closeNotificationScreen",value:function(){return this.closeScreen(oe.NOTIFICATION_SCREEN)}},{key:"addShowedScene",value:function(e){Le.has(this.inst.showedScreens$,e)||this.inst.showedScreens$.push(e)}},{key:"showLoadingFullScreen",value:(n=s((function*(e){if(!Le.has(this.inst.showedScreens$,e)){this.addShowedScene(e);var t=p("Loading");if(t){var n=t.getComponent("Loading");yield n.show(e)}}})),function(e){return n.apply(this,arguments)})},{key:"hideLoadingFullScreen",value:(t=s((function*(e){var t;if(!Le.has(this.inst.showedScreens$,e)){var n=null===(t=p("Loading"))||void 0===t?void 0:t.getComponent("Loading");yield null==n?void 0:n.hide(e)}})),function(e){return t.apply(this,arguments)})},{key:"showLoadingNotificationScreen",value:function(){return this.openScreen(oe.NOTIFICATION_SCREEN,{message:"Loading",enableCloseOnTouch:!1})}}]),e}()));T._RF.pop(),T._RF.push({},"4a4bfX6KIJCcIozlNHuAwoi","AdsUtils",void 0);var fe=Ludex,ve=fe.Events,he=fe.Configs,me=he.Ads.Enabled,ye=he.Gameplay.StartAdAtLevel,pe=fe.Plugins.Ads,ge=void 0===pe?{}:pe,Oe=ge.Types,Fe=ge.Status,Be=fe.Utils,Ge=Be.Array,Ve=Be.Function,Me=Be.Object,Ce=codex,Ue=Ce.ads,De=Ce.event,Pe=Ce.player,We=function(e){n(s,e);var t=i(s);function s(e){return a(this,s),t.call(this,"AdsUtils.loadAdAsync: Timed out after ".concat(e,"ms"))}return r(s)}(u(Error)),we=e("d",function(e){n(E,e);var t,o=i(E);function E(){return a(this,E),o.apply(this,arguments)}return r(E,null,[{key:"preloadAds",value:(t=s((function*(){Oe&&(this.preloadAdsByType(Oe.INTERSTITIAL),this.preloadAdsByType(Oe.REWARDED_VIDEO))})),function(){return t.apply(this,arguments)})},{key:"applyRemoveAds",value:function(){if(Oe){var e=!this.isRemoveAdActive();this.setAdEnable(Oe.BANNER,e),this.setAdEnable(Oe.INTERSTITIAL,e),this.refreshBannerAdVisibility()}}},{key:"isRemoveAdActive",value:function(){var e=(Pe.getGameData()||{}).removeAdEndTime;return!!e&&e>Date.now()}}]),E}(function(){function e(){var t=this;a(this,e),this.adsEnable$={},this.visibleBannerConfigs$=[],this.invisibleBannerConfigs$=[],this.updateBannerAdsConfigByLayout$=function(e){if(Oe){var n=h.getVisibleSize(),i=te.worldSizeToCssSize(n.height*Se.MAX_BOTTOM_BANNER_RATIO),a=e===ne.Layout.Landscape,r=Ue.getAdsByType(Oe.BANNER).map((function(e){return e.config})).filter((function(e){var t=e.Position,n=e.BannerHeight;return!("bottom"===t&&n>i)}));t.visibleBannerConfigs$=r.filter((function(e){var t=e.Position;return a||"bottom"===t||"top"===t})),t.invisibleBannerConfigs$=r.filter((function(e){return!t.visibleBannerConfigs$.includes(e)}))}},this.getAdReady$=function(e,t){var n;if(!Fe||!we.isAdEnabled(e))return null;if(t)return Ue.getAdStatus(e,t)===Fe.FILLED?t:null;var i=Ue.getAdsByType(e).find((function(t){return Ue.getAdStatus(e,t.placementId)===Fe.FILLED}));return null!==(n=null==i?void 0:i.placementId)&&void 0!==n?n:null},this.getPlacementIdByService$=function(e,t){var n;if(!t)return!1;if(!Oe)return!1;var i=Ue.getAdsByType(e),a=Ge.search(i,(function(e){return e.config.AdService===t}));return null!==(n=null==a?void 0:a.placementId)&&void 0!==n&&n},this.getAdIdByPayload$=function(e,n){var i=n||{},a=i.adService,r=i.placementId;return t.getPlacementIdByService$(e,a)||r},this.getAdErrorMessage$=function(e,n){if(!Oe)return null;switch(e){case Oe.REWARDED_VIDEO:case Oe.REWARDED_INTERSTITIAL:return t.isUserCancelledAdError$(n)?"ads.cancelled":"error.noAd";default:return null}},this.showAdByType$=function(){var e=s((function*(e,n){if(!Oe||!Fe)return!1;if(!we.isAdEnabled(e))return!1;var i=n||{},a=i.placementId,r=i.includeSDK,s=i.excludeSDK,o=i.forceLoad,E=i.autoLoad,u=i.adService,l=i.timeout,_=void 0===l?15e3:l,T=i.showError;if(!t.canShowInSDK$(r,s))return!1;var A=t.getAdIdByPayload$(e,n),c=!1,S=!1;try{se.muteAudio(!0);var I=Ue.getAdStatus(e,a);for((o||E&&I!==Fe.FILLED)&&(Ne.showLoadingScreen(),yield Ve.timeOut(Ue.loadAdAsync(e,A),_));!c;)try{var d=t.getAdReady$(e,A);if(!d)return!1;A=d,yield Ue.showAdAsync(e,A),c=!0}catch(e){if(u)throw e;if(t.isUserCancelledAdError$(e))throw e;if(t.isRequestAdTimeoutError$(e))throw e;A=void 0,c=!1,S=!0}return!0}catch(n){S=!0;var R=t.getAdErrorMessage$(e,n);return R&&T&&Ne.showNotificationScreenWithLocalizedKey(R,2),!1}finally{se.muteAudio(!1),(o||E)&&Ne.closeLoadingScreen(),S&&(A=a),we.preloadAdsByType(e,A),De.emit(ve.REQUEST_RESIZE_GAME)}}));return function(t,n){return e.apply(this,arguments)}}(),this.canShowInSDK$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=GameSDK.getSDKName();return(null==t||!t.length||!Ge.has(t,n))&&!(null!=e&&e.length&&!Ge.has(e,n))},this.isUserCancelledAdError$=function(e){return Me.hasOwn(e,"code")&&"USER_INPUT"===e.code},this.isRequestAdTimeoutError$=function(e){return e instanceof We||!(!Me.hasOwn(e,"code")||"SHOW_ADS_TIMEOUT"!==e.code)}}var t,n,i,o;return r(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"setAdEnable",value:function(e,t){this.inst.adsEnable$[e]=t}},{key:"isAdEnabled",value:function(e){return!!me&&!1!==this.inst.adsEnable$[e]}},{key:"preloadAds",value:(o=s((function*(){Oe&&(this.preloadAdsByType(Oe.INTERSTITIAL),this.preloadAdsByType(Oe.REWARDED_VIDEO),this.preloadAdsByType(Oe.REWARDED_INTERSTITIAL))})),function(){return o.apply(this,arguments)})},{key:"isServiceDegraded",value:function(){return Ue.isServiceDegraded()}},{key:"preloadAdsByType",value:function(e,t){if(this.isAdEnabled(e)&&Fe){var n=Ue.getAdsByType(e);(t?n.filter((function(e){return e.placementId===t})):n).forEach((function(t){Ue.getAdStatus(e,t.placementId)!==Fe.FILLED&&Ue.loadAdAsync(e,t.placementId).catch((function(){}))}))}}},{key:"updateBannerAdsByLayout",value:function(e){this.inst.updateBannerAdsConfigByLayout$(e)}},{key:"refreshBannerAdVisibility",value:function(){if(Oe&&Fe)if(this.isAdEnabled(Oe.BANNER)){var e,t=E(this.inst.invisibleBannerConfigs$);try{for(t.s();!(e=t.n()).done;){var n=e.value.PlacementId;Ue.getAdStatus(Oe.BANNER,n)===Fe.SHOWING&&this.hideBannerAd(n)}}catch(e){t.e(e)}finally{t.f()}var i,a=E(this.inst.visibleBannerConfigs$);try{for(a.s();!(i=a.n()).done;){var r=i.value.PlacementId,s=Ue.getAdStatus(Oe.BANNER,r);!1!==s&&s!==Fe.SHOWING&&this.showBannerAd(r)}}catch(e){a.e(e)}finally{a.f()}}else this.hideBannerAds()}},{key:"getBannerAdHeight",value:function(){try{if(!Oe)return 0;var e=te.cssSizeToWorldSize(1),t=Ue.getAd(Oe.BANNER);return Math.round(Ue.getBannerHeight(t.placementId,e))}catch(e){return console.warn("[AdsUtils] getBannerAdHeight error:",e),0}}},{key:"showBannerAds",value:function(){if(Oe&&Fe&&this.isAdEnabled(Oe.BANNER)){var e,t=Ue.getAdsByType(Oe.BANNER),n=E(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;Ue.getAdStatus(Oe.BANNER,i.placementId)!==Fe.IDLE&&this.showBannerAd(i.placementId)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"hideBannerAds",value:function(){if(me&&Oe&&Fe){var e,t=Ue.getAdsByType(Oe.BANNER),n=E(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;Ue.getAdStatus(Oe.BANNER,i.placementId)!==Fe.IDLE&&this.hideBannerAd(i.placementId)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"showBannerAd",value:function(e){Oe&&this.isAdEnabled(Oe.BANNER)&&Ue.showBannerAdAsync(e).catch((function(){}))}},{key:"hideBannerAd",value:function(e){me&&Ue.hideBannerAdAsync(e).catch((function(){}))}},{key:"isReadyAdShowable",value:function(e,t){var n=this.inst.getAdReady$(e,t);return!!n&&Ue.canShowAd(e,n)}},{key:"isBannerAdShowing",value:function(){if(!Oe||!Fe)return!1;var e,t=Ue.getAdsByType(Oe.BANNER),n=E(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(Ue.getAdStatus(Oe.BANNER,i.placementId)===Fe.SHOWING)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"showInterstitialAdAsync",value:(i=s((function*(e){if(!Oe)return!1;var t,n,i=null!=e?e:{},a=i.forLevel,r=i.contextType,s=i.forceLoad;if(a&&ye>=a)return!1;r&&(null===(t=window.GoogleAds)||void 0===t||t.setInterstitialType(r),null===(n=window.TranssionH5Ads)||void 0===n||n.setInterstitialType(r));var o=GameSDK.isGameSDK("MsGames");return this.inst.showAdByType$(Oe.INTERSTITIAL,l(l({},e),{},{forceLoad:s||o}))})),function(e){return i.apply(this,arguments)})},{key:"showRewardVideoAdAsync",value:(n=s((function*(e){if(!Oe)return!1;var t,n,i=(null!=e?e:{}).contextType;return i&&(null===(t=window.GoogleAds)||void 0===t||t.setRewardType(i),null===(n=window.TranssionH5Ads)||void 0===n||n.setRewardType(i)),this.inst.showAdByType$(Oe.REWARDED_VIDEO,l(l({showError:!0},e),{},{autoLoad:!0}))})),function(e){return n.apply(this,arguments)})},{key:"showRewardedInterstitialAdAsync",value:(t=s((function*(e){if(!Oe)return!1;var t,n,i=(null!=e?e:{}).contextType;return i&&(null===(t=window.GoogleAds)||void 0===t||t.setRewardType(i),null===(n=window.TranssionH5Ads)||void 0===n||n.setRewardType(i)),this.inst.showAdByType$(Oe.REWARDED_INTERSTITIAL,l(l({showError:!0},e),{},{autoLoad:!0}))})),function(e){return t.apply(this,arguments)})}]),e}()));T._RF.pop(),T._RF.push({},"ed5c6D+6KVEj5lrgtq+D9bJ","LayoutUtils",void 0);var He=ne.Layout;e("L",function(e){n(s,e);var t=i(s);function s(){return a(this,s),t.apply(this,arguments)}return r(s)}(function(){function e(){var t=this;a(this,e),this.isListening$=!1,this.currentLayout$=He.Portrait,this.onLayoutChanged$=function(e){t.currentLayout$!==e&&(t.currentLayout$=e,O.emit(X.ORIENTATION_CHANGED,e))}}return r(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"listenLayoutChanges",value:function(){this.inst.isListening$||(this.inst.isListening$=!0,O.on(X.LAYOUT_CHANGED,this.inst.onLayoutChanged$))}},{key:"getCurrentLayout",value:function(){return this.inst.currentLayout$}},{key:"isPortrait",value:function(){return this.inst.currentLayout$===He.Portrait}},{key:"isLandscape",value:function(){return this.inst.currentLayout$===He.Landscape}},{key:"getScreenRatio",value:function(){return te.getScreenWidthCss()/te.getScreenHeightCss()}}]),e}()));T._RF.pop(),T._RF.push({},"542caJcCPRMI5EaOkgOzhek","ItemKeys",void 0);var be=e("I",{HINT:"hint",THUNDER:"thunder",STORM:"storm",PLIERS:"pliers"});T._RF.pop(),T._RF.push({},"7decaASyaFOAp2izq8DsREg","TotalLevel",void 0);var ke,$e=e("T",1e3);T._RF.pop(),T._RF.push({},"f8533KH/fxOfYqya9sgLrSj","GameData",void 0);var xe,Ye=e("u",{level:0,coins:0,stars:0,totalLevel:$e,levelVersion:0,lastRewardedItems:0,lastCreateTournamentShown:0,guideItemShowed:[],items:(ke={},t(ke,be.HINT,0),t(ke,be.THUNDER,0),t(ke,be.STORM,0),t(ke,be.PLIERS,0),ke),custom:{time:4,difficulty:1,bombs:0,ads:!1},tournamentProgress:{}});T._RF.pop(),T._RF.push({},"3b9bcPJBxpNOqG2I6exTOVn","MatchCustomData",void 0);var Ke=Ludex.Dtos.Match,ze=(void 0===Ke?{}:Ke).CustomData,qe=null!==(xe=null==ze?void 0:ze.getDefaults())&&void 0!==xe?xe:{};e("M",l(l({},qe),{},{score:0,challengeData:null}));T._RF.pop(),T._RF.push({},"074c4KXFZ1Pq6d+66PrLd2+","PlayerData",void 0);e("P",{score:0,settings:{sound:!0,music:!0,vibrate:!0,language:"en"},gameData:Ye,isFirstLogin:!0,dailyRewardedData:{logDays:[],firstReward:0,lastReward:0},lastCallSwitchGame:0,notificationData:{},missionsData:{process:{}}});T._RF.pop(),T._RF.push({},"32598ObpVZK/pecmWIdcs+7","SceneKeys",void 0);var je=e("r",{BOOT_SCENE:"BootScene",GAME_SCENE:"GameScene",PLAYABLE_SCENE:"PlayableScene",DASHBOARD_SCENE:"DashboardScene",CHALLENGE_RESULT_SCENE:"ChallengeResultScene"});T._RF.pop(),T._RF.push({},"669a1OtNF9EDrMRLWTjxk4B","GeneralUtils",void 0);e("k",function(e){n(s,e);var t=i(s);function s(){return a(this,s),t.apply(this,arguments)}return r(s)}(function(){function e(){a(this,e)}return r(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"setBlockInput",value:function(e){var t=p("Canvas/InputBlocker");t&&(t.active=e)}},{key:"getBlockInput",value:function(){var e=p("Canvas/InputBlocker");return!!e&&e.active}}]),e}()));T._RF.pop(),T._RF.push({},"58f4330KXRL77xyoA3903MY","WasmUtils",void 0);var Ze=Ludex.Utils.Function,Je=e("W",function(e){n(s,e);var t=i(s);function s(){return a(this,s),t.apply(this,arguments)}return r(s)}(function(){function e(){a(this,e),this.mutex$=Ze.mutex()}var t;return r(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"loadModuleAsync",value:(t=s((function*(e){var t=yield this.inst.mutex$.use("module-wasm-".concat(e));try{switch(e){case"spine":if("function"!=typeof V)return;yield V();break;case"box2d":if("function"!=typeof G)return;yield G();break;case"physx":if("function"!=typeof B)return;yield B();break;case"bullet":if("function"!=typeof F)return;yield F()}}finally{t.release()}})),function(e){return t.apply(this,arguments)})}]),e}()));T._RF.pop(),T._RF.push({},"97ca9J9nzNCeIjC1l+ZT/Hm","SceneUtils",void 0);var Qe=codex.event,Xe=Ludex.Events;e("n",function(e){n(u,e);var t,o,E=i(u);function u(){return a(this,u),E.apply(this,arguments)}return r(u,null,[{key:"preloadDashboardScene",value:function(){this.preloadScene(je.DASHBOARD_SCENE)}},{key:"switchToDashboardScene",value:function(e){this.switchScene(je.DASHBOARD_SCENE,e)}},{key:"preloadGameScene",value:(o=s((function*(){yield Je.loadModuleAsync("spine"),this.preloadScene(je.GAME_SCENE)})),function(){return o.apply(this,arguments)})},{key:"switchToGameScene",value:(t=s((function*(e){yield Je.loadModuleAsync("spine"),this.switchScene(je.GAME_SCENE,e)})),function(e){return t.apply(this,arguments)})}]),u}(function(){function e(){a(this,e),this.loadedScenes$={}}return r(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"switchScene",value:function(e,t){Qe.emit(Xe.SWITCH_SCENE,{sceneName:e,sceneData:t})}},{key:"preloadScene",value:function(e){Qe.emit(Xe.PRELOAD_SCENE,{sceneName:e})}},{key:"isSceneLoaded",value:function(e){var t;return null!==(t=this.inst.loadedScenes$[e])&&void 0!==t&&t}},{key:"markIsSceneLoaded",value:function(e){this.inst.loadedScenes$[e]=!0}},{key:"markIsTestScene",value:function(e){Qe.emit(Xe.MARK_IS_TEST_SCENE,{sceneName:e})}},{key:"getSceneData",value:function(e){return"data"in e.scene&&e.scene.data||{}}}]),e}()));T._RF.pop(),T._RF.push({},"c517dy1TKlPd7mHxulLPv1G","TileSpecialTypes",void 0);e("j",{bomb:"bomb",star:"star",none:"none"});T._RF.pop(),T._RF.push({},"d6fb7/+FFxLs7k5w6K38JYb","TournamentUtils",void 0);var et=Ludex,tt=et.Utils,nt=tt.String,it=tt.Valid,at=tt.Array,rt=et.Configs.Mockup.Leaderboards,st=codex.language,ot=codex,Et=ot.leaderboard,ut=ot.player;e("m",function(e){n(T,e);var o,u=i(T);function T(){return a(this,T),u.apply(this,arguments)}return r(T,[{key:"processPlayerTournamentData",value:function(){var e,t=[],n=E(this.playerTournaments$);try{for(n.s();!(e=n.n()).done;){var i,a,r=e.value,s="".concat(r.getID()),o=r.getContextID(),u=r.getEndTime(),l=this.parseTournamentPayload(r.getPayload());if(this.validateGameSDKTournamentPayload(l))if(!(u<Date.now()/1e3)){var _=r.getTournamentType();if("PAGE_HOSTED"!==_){var T=null!==(i=l.playerName)&&void 0!==i?i:"Player",A={id:s,title:null!==(a=r.getTitle())&&void 0!==a?a:this.createDefaultTournamentName(T),endTime:u,contextId:o,payload:l,tournamentType:_};t.push(A)}}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"processGlobalTournamentLeaderboardData",value:function(){var e=[];if(rt.Enabled){var t,n=E(this.playerTournaments$);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,r=a.getTournamentType();if("PAGE_HOSTED"===r){var s="".concat(a.getID()),o=a.getContextID(),u=a.getEndTime(),l=this.parseTournamentPayload(a.getPayload()),_={id:s,title:null!==(i=a.getTitle())&&void 0!==i?i:"Global Tournament",endTime:u,contextId:o,payload:l,tournamentType:r};e.push(_)}}}catch(e){n.e(e)}finally{n.f()}return e}var T,A=E(this.globalTournamentLBData$);try{for(A.s();!(T=A.n()).done;){var c,S,I,d=T.value,R=void 0;try{R=JSON.parse(d.description)}catch(e){continue}if(this.validateExpireTime(d)&&this.validateGlobalTournamentPayload(R)){var L="isNEZP"in GameSDK.extra&&GameSDK.extra.isNEZP(),N="isRestricted"in GameSDK.extra&&GameSDK.extra.isRestricted();if(L||N){if(!R.restrict)continue}else if(R.restrict)continue;var f=null!==(c=null===(S=R.i18n)||void 0===S||null===(S=S[st.getCurrentLocale()])||void 0===S?void 0:S.title)&&void 0!==c?c:d.name,v={id:R.tournamentId,title:f,endTime:this.getTournamentEndTime(d),contextId:R.contextId,payload:{playerId:"global",playerName:"global",leaderboardId:d._id,themeId:null!==(I=R.themeId)&&void 0!==I?I:k.SUMMER},tournamentType:"PAGE_HOSTED"};e.push(v)}}}catch(e){A.e(e)}finally{A.f()}return e}},{key:"createDefaultTournamentName",value:function(e){var t=e.substring(0,7),n="".concat(t.split(" ")[0]||t,"'s Tournament"),i=nt.removeDiacritics(n);return"".concat(i)}}],[{key:"requestTournamentDataAsync",value:(o=s((function*(){var e=this.inst;yield Promise.all([e.fetchTournamentsAsync$(),e.fetchGlobalTournamentLeaderboardAsync$()]);var t=e.processPlayerTournamentData(),n=e.processGlobalTournamentLeaderboardData();t.sort((function(e,t){return e.endTime-t.endTime})),n.sort((function(e,t){return e.endTime-t.endTime})),e.tournamentData$=[].concat(_(n),_(t));var i,a=E(e.tournamentData$);try{for(a.s();!(i=a.n()).done;){var r=i.value.payload.leaderboardId;r&&(Et.isExistLeaderboardId(r)||Et.addLeaderboard({type:"tournament",name:r,autoSortRank:!0,leaderboardId:r}))}}catch(e){a.e(e)}finally{a.f()}return e.tournamentData$})),function(){return o.apply(this,arguments)})},{key:"saveTournamentProgress",value:function(e,n,i){var a,r,s,o,E=(null!==(a=ut.getGameData())&&void 0!==a?a:{}).tournamentProgress,u=null==E?void 0:E[i],_={level:Math.max(e,null!==(r=null==u?void 0:u.level)&&void 0!==r?r:0),score:Math.max(n,null!==(s=null==u?void 0:u.score)&&void 0!==s?s:0),replayCount:null!==(o=null==u?void 0:u.replayCount)&&void 0!==o?o:0};ut.setGameData({tournamentProgress:l(l({},E),{},t({},i,_))})}},{key:"syncTournamentProgress",value:function(){var e,t=(null!==(e=ut.getGameData())&&void 0!==e?e:{}).tournamentProgress;if(t){var n=this.inst,i=function(e){at.search(n.tournamentData$,(function(t){return t.id===e}))||delete t[e]};for(var a in t)i(a);ut.setGameData({tournamentProgress:t})}}}]),T}(function(){function e(){var t=this;a(this,e),this.globalTournamentLBData$=[],this.playerTournaments$=[],this.tournamentData$=[],this.maxTimeRefetch$=5e3,this.lastFetchTournamentsData$=0,this.lastFetchGlobalTournament$=0,this.fetchGlobalTournamentLeaderboardAsync$=s((function*(){try{Date.now()-t.lastFetchGlobalTournament$>t.maxTimeRefetch$&&(t.globalTournamentLBData$=yield Et.requestLeaderboardsAsync({limit:100,type:"world_tournament_leaderboard"}),t.globalTournamentLBData$.sort((function(e,t){return e.expireTime-t.expireTime})))}catch(e){console.warn("fetchGlobalTournamentLeaderboardAsync",e)}return t.globalTournamentLBData$})),this.fetchTournamentsAsync$=s((function*(){try{Date.now()-t.lastFetchTournamentsData$>t.maxTimeRefetch$&&(t.playerTournaments$=yield GameSDK.tournament.getTournamentsAsync(),t.playerTournaments$.sort((function(e,t){return e.getEndTime()-t.getEndTime()})))}catch(e){console.warn("fetchTournamentsAsync",e)}return t.playerTournaments$}))}return r(e,[{key:"validateGlobalTournamentPayload",value:function(e){var t=e.tournamentId,n=e.contextId;return!(!it.isString(t)||""===t)&&!(!it.isString(n)||""===n)}},{key:"getTournamentEndTime",value:function(e){var t=new Date(e.createdAt).getTime();return Math.round((1e3*e.expireTime+t)/1e3)}},{key:"validateExpireTime",value:function(e){return 1e3*this.getTournamentEndTime(e)-Date.now()>0}},{key:"validateGameSDKTournamentPayload",value:function(e){return!(!it.isString(e.playerId)||""===e.playerId)&&(!(!it.isString(e.playerName)||""===e.playerName)&&!(!it.isString(e.leaderboardId)||""===e.leaderboardId))}},{key:"parseTournamentPayload",value:function(e){if("string"!=typeof e)return{};try{return JSON.parse(e)}catch(e){return{}}}}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"getAllTournamentData",value:function(){return this.inst.tournamentData$}},{key:"getTournamentDataById",value:function(e){var t=this.inst;return at.search(t.tournamentData$,(function(t){return t.id===e}))}},{key:"getPlayerTournamentData",value:function(){var e=this.inst,t=ut.getPlayerId();return e.tournamentData$.filter((function(e){return e.payload.playerId===t}))}},{key:"getFriendsTournamentData",value:function(){var e=this.inst,t=ut.getPlayerId();return e.tournamentData$.filter((function(e){var n=e.payload;return n.playerId!==t&&"global"!==n.playerId}))}},{key:"getGlobalTournamentData",value:function(){return this.inst.tournamentData$.filter((function(e){return"global"===e.payload.playerId}))}},{key:"validateTournamentExpired",value:function(e){var t=this.getTournamentDataById(e);return!!t&&t.endTime<Date.now()/1e3}}]),e}()));T._RF.pop()}}}));

} }; });
//# sourceMappingURL=bundle.js.map