System.register("chunks:///systems.js",["./TournamentUtils-e88d6822.js","cc"],(function(){var e,t,n,a,r,i,o,s,c,l,u,d,h,f,p,m,g,v,y,$,S,E,w,A,b,D,C,R,T,L,F,x,_,I,M,P,N,k,O,U,G,z,B,H,V,Y,q,j,Q,K,W,X,Z,J,ee,te,ne,ae,re,ie,oe,se,ce,le,ue,de,he;return{setters:[function(P){e=P.d,t=P._,n=P.e,a=P.s,r=P.a,i=P.G,o=P.L,s=P.f,c=P.C,l=P.n,u=P.i,d=P.X,h=P.B,f=P.r,p=P.Y,m=P.Z,g=P.I,v=P.u,y=P.h,$=P.$,S=P.y,E=P.a0,w=P.t,A=P.x,b=P.R,D=P.a1,C=P.J,R=P.S,T=P.q,L=P.K,F=P.O,x=P.D,_=P.Q,I=P.b,M=P.c},function(e){P=e.cclegacy,N=e.game,k=e.settings,O=e.Settings,U=e.View,G=e.AssetManager,z=e.sys,B=e.input,H=e.Input,V=e.DynamicAtlasManager,Y=e.macro,q=e.director,j=e.view,Q=e.ResolutionPolicy,K=e.Size,W=e.screen,X=e.Director,Z=e.Sprite,J=e.UITransform,ee=e.SpriteFrame,te=e.Rect,ne=e.assetManager,ae=e.ImageAsset,re=e.UIOpacity,ie=e.Label,oe=e.Prefab,se=e.instantiate,ce=e.Game,le=e._decorator,ue=e.rendering,de=e.gfx,he=e.Component}],execute:function(){var fe,pe,me,ge={text:{"core.nameless":"Nameless","game.resume":"Resume","game.restart":"Restart","game.cancel":"Cancel","game.challenge":"Challenge\nFriends","game.next":"NEXT","game.completed":"COMPLETED","game.tryAgain":"Try again","game.retry":"RETRY","game.startOverQ":"Start Over?","game.startOverMsg":"Start over? You'll lose your current progress and begin from the start. Are you sure you want to restart?","game.startOver":"START OVER","game.paused":"Paused","game.end":"End","game.quit":"Quit","game.join":"Join","game.joinLeaderboard":"Join Leaderboard","game.continue":"Continue","game.letsPlay":"Let's Play","game.logIn":"Log in","game.create":"Create","game.quitLevelShortMsg":"Quit Level?","game.quitSingleMsg":"Quit now? You're so close to completing this level!","game.quitTourMsg":"Quit now? You're just a few levels away from ranking up!","game.level":"Level","game.levelX":"Level %{0}","game.hardLevel":"Hard Level","game.result":"Your Result","game.nextLevel":"Next Level","game.win":"You Win","game.lose":"You Lose","game.draw":"Draw","game.replay":"Replay","game.boom":"Boom!","game.timesUp":"Time's Up!","game.bombDesc":"The bomb exploded!","game.timesUpDesc":"Restart or add 2 minutes?","game.daily":"Daily","game.weekly":"Weekly","game.endsSoon":"Ends Soon","game.endsIn":"Ends %{0}","game.player":"1 player","game.nPlayers":"%{0} players","game.pTour":"%{0}'s Tournament","game.combo":"Combo","game.tourLbUpdated":"Duel!","settings.level":"Level","settings.settings":"Settings","settings.music":"Music","settings.sound":"Sound","settings.vibrate":"Vibrate","settings.on":"ON","settings.off":"OFF","settings.notification":"Notification","settings.report":"Report","settings.share":"Share","settings.invite":"Invite Friends","settings.feedback":"Feedback","settings.createShortcut":"Create\nShortcut","settings.or":"OR","settings.customMode":"Custom\nMode","custom.customLevel":"Custom Level","custom.time":"Time","custom.difficulty":"Difficulty","custom.easy":"Easy","custom.normal":"Normal","custom.hard":"Hard","custom.extreme":"Extreme","custom.bombs":"Bombs","custom.ads":"Extra ads duration","custom.score":"Score increase:","custom.play":"Play","ads.cancelled":"Sorry, No Rewards!\nYou have cancelled the ad!","ads.loading":"Loading ads...","ads.notReady":"No ads to display!","ads.adAfterT":"AD starting in %{0}...","ads.levelAfterT":"Next level in %{0}...","ads.rewardNotice":"Watch a short ad to receive\nthese rewards:","ads.skip":"Skip","ads.daily":"Daily Rewards","ads.claim":"Claim","ads.claimX2":"Claim x2","ads.claimNow":"Claim Now!","ads.await":"Looking for rewards...","ads.open":"Open","ads.coins":"Get Coins","ads.getNow":"Get Now","ads.freeMinutes":"Get %{0} FREE minutes","ads.interNotice.hangTight":"Short ad break, hang tight!","ads.interNotice.backInSec":"Back to the game in just a sec!","ads.interNotice.quickAd":"Quick ad, then more fun!","status.loading":"Loading","status.congrats":"Congratulations","status.allLevels":"You have passed all levels.","status.later":"Please come back later,\nwe will update soon!","status.confirm":"CONFIRMATION","status.confirmReset":"ARE YOU SURE TO START OVER?","status.resetInfo":"You will play the game again\nfrom the beginning, at level 1.","status.no":"NO","status.yes":"YES","status.first":"1st","status.second":"2nd","status.third":"3rd","status.nth":"%{0}th","status.tap":"Tap to continue","status.waitingX":"Waiting%{0}","status.lbNotAvail":"Leaderboard is empty.","status.tourNotAvail":"No tournaments available.","pages.shop":"Shop","pages.collections":"Collections","pages.home":"Home","pages.leaderboard":"Leaderboard","pages.tournament":"Tournament","guide.step1":"Tap to connect","guide.step2":"Connect similar tiles with less than 2 turns","guide.step3":"Connect similar tiles with less than 2 turns","guide.step4":"More than 2 turns are NOT allowed","guide.step5":"There's obstacle between the tiles","guide.timer":"Remove all tiles before\nthe time end","guide.combo":"Remove tiles continuously\nto increase combo!","guide.hint":"Tap to reveal a connectable pair","guide.thunder":"Tap to remove 2 pairs","guide.storm":"Tap to rearrange the tiles","guide.pliers":"Tap to remove bomb","guide.custom":"Custom mode unlocked.\n Press this button to set your own difficulty","interMsg.reviveAd":"Watch an ad to revive yourself\nKeep playing and don't give up!","interMsg.doubleAd":"Watching an ad doubles your rewards!","interMsg.ranked":"Test your skills\nin ranked tournaments","interMsg.friendChallenge":"Challenge your friend\nSee who can score higher!","interMsg.bragChallenge":"Send a challenge to your friend\nClaim bragging rights!","interMsg.clearTiles":"Clear all tiles to\nwin the level!","interMsg.beatClock":"Beat the clock before\ntime runs out!","interMsg.clearBombs":"Clear bombs before\nthey explode","interMsg.seasonPack":"A season pack unlock\nnew tile sets!","interMsg.collectStars":"The more stars you collect\nThe more coins you'll be rewarded!","interMsg.competeInLb":"Compete globally or with friends\nRise to the top in tournaments!","interMsg.competeWithFriends":"You can challenge a friend\nTest each other's reflexes!","interMsg.thunder":"The Thunder power-up\nblasts tiles away","interMsg.hint":"A Hint power-up reveals\nthe next pair","interMsg.pliers":"Pliers can remove\nany bomb instantly","interMsg.tornado":"The Tornado power-up\nshuffles the board!","interMsg.coins":"Earn coins by completing levels\nWin tournaments for even more!","interMsg.seasonTiles":"A new tile set is unlocked\nevery season packs","interMsg.dailyLogin":"Log in daily to claim\nbetter rewards!","interMsg.levelUp":"Level up and earn coins\nwith each victory!","interMsg.seasonRewards":"Each season pack offers\nnew tiles!","error.tryLater":"Sorry, please try again later","error.soon":"Coming Soon","error.noFriendsLb":"Unable to load friends leaderboard. Please try again later.","error.noWorldLb":"Unable to load world leaderboard. Please try again later.","error.createTourFail":"Unknown error. Failed to Create Tournament","error.tourExists":"You already have a tournament","error.challengeFail":"Sorry, you cannot replay\nat this time.","error.rewardFail":"Unable to validate rewards. Please try again later...","error.tourEnded":"Tournament has ended","error.tourJoinFail":"Sorry, you cannot join\nat this time.","error.noAd":"No ads to display.","error.ratingNoAuth":"You need to log in to rate the game.","error.ratingGameRated":"You have already rated the game.","error.ratingFail":"Failed to rate the game.","error.shortcutFail":"Failed to create shortcut.","error.login":"Failed to log in.","error.joinLb":"Failed to join the leaderboard.","reward.day":"Day","reward.dayX":"Day %{0}","reward.starChestTitle":"Star Chest","reward.starChestAvailable":"Congrats, you have enough stars to open the chest!","reward.starChestUnavailable":"Win more stars to open!","item.hint":"Hint","item.thunder":"Thunder","item.storm":"Storm","item.pliers":"Pliers","item.hintDesc":"Shows a pair of tiles\nthat can be connected.","item.thunderDesc":"Remove 2 pair of tiles\non the game field.","item.stormDesc":"Randomly rearranges the \ntiles on the game field.","item.pliersDesc":"Removes a random bomb\nfrom the game field.","theme.newTiles":"New tiles","theme.summer":"Summer Levels","theme.autumn":"Autumn Levels","theme.winter":"Winter Levels","theme.springFestival":"Spring Festival Levels","theme.treePlantingFestival":"Tree Planting Festival Levels","theme.blueSeaFestival":"Blue Sea Festival Levels","theme.musicFestival":"Music Festival Levels","theme.harvestFestival":"Harvest Festival Levels","theme.foodFestival":"Food Festival Levels","theme.snowFestival":"Snow Festival Levels","theme.lightFestival":"Light Festival Levels","theme.peaceFestival":"Peace Festival Levels","theme.flowerFestival":"Flower Festival Levels","theme.streetFestival":"Street Festival Levels","theme.colorGarden":"Color Garden Levels","theme.colorFestival":"Color Festival Levels","theme.natureSummer":"Nature Summer Levels","theme.snowMountain":"Snow Mountain Levels","theme.iceFestival":"Ice Festival Levels","theme.greenGrassFestival":"Green Grass Festival Levels","theme.communityFestival":"Community Festival Levels","theme.waterFestival":"Water Festival Levels","theme.animalFestival":"Animal Festival Levels","theme.lostFestival":"Lost Festival Levels","theme.halloweenFestival":"Halloween Festival Levels","theme.snowMusicFestival":"Snow Music Festival Levels","theme.christmas":"Christmas Levels","theme.springFlowerFestival":"Spring Flower Festival Levels","theme.tetHoliday":"Tet Holiday Levels","theme.seaFestival":"Sea Festival Levels","theme.fireworkFestival":"Firework Festival Levels","theme.halloweenHorror":"Halloween Horror Levels","theme.midAutumn":"Mid Autumn Levels","theme.christmasSweet":"Christmas Sweet Levels","theme.newYearCountdown":"New Year Countdown Levels","theme.happyNewYear":"Happy New Year Levels","share.canYouDoBetter":"Can you do better?","dashboard.unlockLevel":"Unlock lv.%{0}"},texture:{draw:"locales/en/scenes/result-scene/resources/text_draw",lose:"locales/en/scenes/result-scene/resources/text_lose",victory:"locales/en/scenes/result-scene/resources/text_victory",waiting:"locales/en/scenes/result-scene/resources/text_waiting",excellent:"locales/en/scenes/game-scene/resources/effects/text-effect/excellent",good:"locales/en/scenes/game-scene/resources/effects/text-effect/good",great:"locales/en/scenes/game-scene/resources/effects/text-effect/great",wellDone:"locales/en/screens/level-complete-screen/resources/well_done",freeRewards:"locales/en/screens/get-rewards-screen/resources/free_rewards"}};P._RF.push({},"0b4bc6YT6ZGg4lnXfh/zL6J","AdsManager",void 0);var ve=Ludex,ye=ve.Events,$e=ve.Configs.Ads,Se=$e.Enabled,Ee=$e.PreloadAds,we=$e.ShowAdOnLoad,Ae=ve.Utils,be=Ae.Time,De=Ae.Decorator,Ce=codex.event,Re=(fe=De.tryCatch(),me=e((pe=function(){function e(){var t=this;r(this,e),this.listenEvents$=function(){Ce.on(ye.AD_CLOSED,t.requestResizeGame$),Ce.catchUp(ye.GAME_READY,t.processPreloadAds$),Ce.catchUp(ye.GAME_SDK_READY,t.processShowFirstInterstitialAd),Ce.catchUp(ye.CONTEXT_DATA_PROCESSED,t.processShowBannerAds$),Ce.catchUp(ye.CONTEXT_DATA_PROCESSED,(function(){N.on(i.LAYOUT_CHANGED,t.handleLayoutChanged$)}))},this.requestResizeGame$=function(){Ce.emit(ye.REQUEST_RESIZE_GAME)},this.processShowBannerAds$=n((function*(){Se&&(GameSDK.isGameSDK("FacebookInstant")&&(yield be.sleepAsync(5e3)),a.updateBannerAdsByLayout(o.getCurrentLayout()),a.refreshBannerAdVisibility())})),this.processPreloadAds$=n((function*(){Ee&&(yield be.sleepAsync(3e3),a.preloadAds())})),s(this,"processShowFirstInterstitialAd",me,this),this.handleLayoutChanged$=function(){a.updateBannerAdsByLayout(o.getCurrentLayout()),a.refreshBannerAdVisibility()}}return t(e,[{key:"init",value:function(){this.listenEvents$(),console.debug("Ads Manager: Initialized",{Enabled:Se,PreloadAds:Ee,ShowAdOnLoad:we})}}]),e}()).prototype,"processShowFirstInterstitialAd",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n((function*(){if(Se){var e=we.Enabled,t=we.DelaySeconds;if(e){t>0&&(yield be.sleepAsync(1e3*t));var n=GameSDK.isGameSDK("Yandex");n&&N.pause(),yield a.showInterstitialAdAsync({forceLoad:!0,contextType:"preroll"}),n&&N.resume()}}}))}}),pe);P._RF.pop(),P._RF.push({},"b4ad5mMokdAa6EVNGzNedpF","EngineManager",void 0);var Te,Le,Fe,xe=Ludex,_e=xe.Events,Ie=xe.Configs.GameEngine,Me=Ie.DynamicAtlas,Pe=Ie.PreferredFPS,Ne=xe.Utils,ke=Ne.Valid,Oe=Ne.Device,Ue=codex.event,Ge=function(){function e(){var t=this;r(this,e),this.overrideSettings$=function(){k.overrideSettings(O.Category.ENGINE,"debug",ke.isDebugger()),U.instance.resizeWithBrowserSize(!1),Oe.isDesktop()?N.frameRate=Pe.Desktop:N.frameRate=Pe.Mobile},this.setupAutoAtlas$=function(){G.instance.cacheAsset=!0},this.setupAssetDownloader$=n((function*(){var e=G.instance.downloader;G.instance.allowImageBitmap=!0,e.maxConcurrency=24,e.maxRequestsPerFrame=24;var n=yield t.checkWebpSupport$();if(z.hasFeature(z.Feature.WEBP)){var a=z.hasFeature;z.hasFeature=function(e){return e===z.Feature.WEBP?n:a(e)}}})),this.checkWebpSupport$=function(){return new Promise((function(e){var t=new Image;t.onload=function(){return e(!0)},t.onerror=function(){return e(!1)},t.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="}))},this.setupOptimalPipelines$=n((function*(){G.instance.transformPipeline.remove(1)})),this.setupEngineRunningState$=function(){B.on(H.EventType.TOUCH_START,t.handleResumeEngine$),Ue.catchUp(_e.GAME_READY,(function(){Ue.on(_e.VISIBILITY_HIDDEN,t.handlePauseEngine$),Ue.on(_e.VISIBILITY_VISIBLE,t.handleResumeEngine$)}))},this.handlePauseEngine$=n((function*(){console.debug("Engine: Paused",N.isPaused()),N.isPaused()})),this.handleResumeEngine$=n((function*(){console.debug("Engine: Resumed",N.isPaused()),N.isPaused()})),this.setupDynamicAtlas$=function(){z.isBrowser?t.setupDynamicAtlasForBrowser$():z.isNative?t.setupDynamicAtlasForNative$():t.disableDynamicAtlas$()},this.setupDynamicAtlasForBrowser$=function(){switch(z.os){case z.OS.IOS:t.setupDynamicAtlasForIOS$();break;case z.OS.ANDROID:t.setupDynamicAtlasForAndroid$();break;case z.OS.OSX:case z.OS.LINUX:case z.OS.WINDOWS:t.setupDynamicAtlasForDesktop$();break;default:t.setupDynamicAtlasDefault$()}},this.setupDynamicAtlasForNative$=function(){switch(z.platform){case z.Platform.ANDROID:t.setupDynamicAtlasForAndroid$();break;case z.Platform.IOS:t.setupDynamicAtlasForIOS$();break;default:t.setupDynamicAtlasDefault$()}},this.setDynamicAtlas$=function(e){var n=e.Enabled,a=e.MaxAtlasCount,r=e.MaxAtlasSize,i=e.MaxFrameSize,o=V.instance;Y.CLEANUP_IMAGE_CACHE=!n,o.enabled=n,o.textureSize=r,o.maxFrameSize=i,o.maxAtlasCount=a,o.textureBleeding=Me.OptimizeAtlas.TextureBleeding;var s=t.getMaxTextureSize$()||r,c=Math.min(r,s);o.textureSize=c,i>c&&(o.maxFrameSize=c)},this.getMaxTextureSize$=function(){if(!q.root)return-1;var e=q.root.device.capabilities.maxTextureSize,t=Math.min(Oe.maxTextureSize(),e);if(t>8192)return 7168;var n=V.instance.maxFrameSize,a=t-1024;return a<=(void 0===n?0:n)||a<=0?-1:a},this.setupDynamicAtlasForIOS$=function(){var e=Me.IOS;t.setDynamicAtlas$(e)},this.setupDynamicAtlasForAndroid$=function(){var e=Me.Android;t.setDynamicAtlas$(e)},this.setupDynamicAtlasForDesktop$=function(){var e=Me.Desktop;t.setDynamicAtlas$(e)},this.setupDynamicAtlasDefault$=function(){t.setDynamicAtlas$({Enabled:!0,MaxAtlasCount:1,MaxAtlasSize:4096,MaxFrameSize:1024})},this.disableDynamicAtlas$=function(){Y.CLEANUP_IMAGE_CACHE=!0,V.instance.enabled=!1},this.setupBatcherLimit$=function(){Y.BATCHER2D_MEM_INCREMENT=288,Y.MAX_LABEL_CANVAS_POOL_SIZE=125}}return t(e,[{key:"init",value:function(){this.overrideSettings$(),this.setupAutoAtlas$(),this.setupBatcherLimit$(),this.setupDynamicAtlas$(),this.setupAssetDownloader$(),this.setupOptimalPipelines$(),this.setupEngineRunningState$(),console.debug("Engine Manager: Initialized",{PreferredFPS:Pe})}}]),e}();P._RF.pop(),P._RF.push({},"9f0a0l1uXlNwqKEKardFRyv","LayoutManager",void 0);var ze=l.Layout,Be=l.DesignSize,He=Be.Portrait,Ve=Be.Landscape,Ye=l.AcceptPortraitRatio,qe=Ludex,je=qe.Utils.Decorator,Qe=qe.Configs.GameEngine.AutoResizeCanvas,Ke=qe.Events,We=codex,Xe=We.ads,Ze=We.event,Je=(Te=je.debounce(100),Fe=e((Le=function(){function e(){var t=this;r(this,e),this.listenResizeEvent$=function(){if(Qe&&ResizeObserver){var e,n=null!==(e=window.__listeners.resize)&&void 0!==e?e:[];if(n.length>0){var a,r=u(n);try{for(r.s();!(a=r.n()).done;){var i=a.value;window.removeEventListener("resize",i)}}catch(e){r.e(e)}finally{r.f()}}new ResizeObserver(t.handleBodyResize).observe(window.document.body)}Ze.on(Ke.REQUEST_RESIZE_GAME,t.handleViewResizeBySystem$)},this.setupResolutionPolicy$=function(){j.setOrientation(Y.ORIENTATION_AUTO),t.resolutionPolicy$=j.getResolutionPolicy(),t.resolutionPolicy$.setContentStrategy(Q.ContentStrategy.EXACT_FIT),t.resolutionPolicy$.setContainerStrategy(Q.ContainerStrategy.PROPORTION_TO_FRAME)},this.isAdShowing$=function(){return!(null==Xe||!Xe.isAdFullSizeShowing())&&(console.error("‚ö†Ô∏è LayoutManager:handleViewResize skipped because ad is showing"),!0)},this.handleViewResizeBySystem$=function(e){if(!t.isAdShowing$()){var n=c.getMaxPixelRatio(),a=(null!=e?e:{}).forcePixelRatio,r=void 0===a?n:a;console.debug("üì± View resize by system",{forcePixelRatio:r,maxDpr:n}),window.devicePixelRatio=null!=r?r:n,t.setupOrientationByCanvasSize$()}},s(this,"handleBodyResize",Fe,this),this.setupOrientationByCanvasSize$=function(){var e=t.getScreenRatio$();switch(l.PRIMARY_LAYOUT){case"portrait":t.setPortraitView$();break;case"landscape":t.setLandscapeView$();break;case"auto":e<=Ye?t.setPortraitView$():t.setLandscapeView$()}},this.setPortraitView$=function(){var e=He.WIDTH,n=He.HEIGHT,a=l.PRIMARY_LAYOUT===ze.Portrait;(t.currentLayout$!==ze.Portrait||a)&&(t.currentLayout$=ze.Portrait,t.setupLayoutStrategy$(e,n)),t.resizeGameView$(e,n)},this.setLandscapeView$=function(){var e=Ve.WIDTH,n=Ve.HEIGHT,a=l.PRIMARY_LAYOUT===ze.Landscape;(t.currentLayout$!==ze.Landscape||a)&&(t.currentLayout$=ze.Landscape,t.setupLayoutStrategy$(e,n)),t.resizeGameView$(e,n)},this.setupLayoutStrategy$=function(e,n){var a=j.getDesignResolutionSize(),r=a.width,o=a.height,s=t.resolutionPolicy$.getContentStrategy(),c=t.resolutionPolicy$._containerStrategy.name,u=t.currentLayout$===ze.Portrait,d=t.currentLayout$===ze.Landscape;u&&t.resolutionPolicy$.setContentStrategy(Q.ContentStrategy.FIXED_WIDTH),d&&t.resolutionPolicy$.setContentStrategy(Q.ContentStrategy.FIXED_HEIGHT),u&&!l.FULL_PORTRAIT_SIZE&&(t.resolutionPolicy$.setContentStrategy(Q.ContentStrategy.SHOW_ALL),t.resolutionPolicy$.setContainerStrategy(Q.ContainerStrategy.PROPORTION_TO_FRAME)),d&&!l.FULL_LANDSCAPE_SIZE&&(t.resolutionPolicy$.setContentStrategy(Q.ContentStrategy.EXACT_FIT),t.resolutionPolicy$.setContainerStrategy(Q.ContainerStrategy.PROPORTION_TO_FRAME)),t.getScreenRatio$()>l.AcceptPortraitRatio&&u&&t.resolutionPolicy$.setContentStrategy(Q.ContentStrategy.FIXED_HEIGHT),u&&t.resolutionPolicy$.setContainerStrategy(Q.ContainerStrategy.EQUAL_TO_FRAME),d&&t.resolutionPolicy$.setContainerStrategy(Q.ContainerStrategy.EQUAL_TO_FRAME),r===e&&o===n&&s===t.resolutionPolicy$.getContentStrategy()&&c===t.resolutionPolicy$._containerStrategy.name||j.setDesignResolutionSize(e,n,t.resolutionPolicy$),console.debug("üî• Change layout to",t.currentLayout$,t.resolutionPolicy$),N.emit(i.LAYOUT_CHANGED,t.currentLayout$)},this.resizeGameView$=function(e,n){var a=l.DesignSize.Resolution,r=new K(e/a,n/a),o=c.getScreenWidthCss(),s=c.getScreenHeightCss(),u=o/r.width,d=s/r.height,h=new K(r.width,r.height),f=t.currentLayout$===ze.Portrait,p=t.currentLayout$===ze.Landscape;if(f||p)h.width*=u,h.height*=d;else{var m=Math.min(u,d);h.width*=m,h.height*=m}var g=c.worldSizeToCssSize(h.width),v=c.worldSizeToCssSize(h.height),y=new K(g,v);W.windowSize=y,N.emit(i.VIEW_RESIZED,y),console.info("üìê View Resized",y)},this.getScreenRatio$=function(){return c.getScreenWidthCss()/c.getScreenHeightCss()}}return t(e,[{key:"init",value:function(){this.listenResizeEvent$(),this.setupResolutionPolicy$(),console.debug("Layout Manager: Initialized",{AcceptPortraitRatio:Ye,AutoResizeCanvas:Qe})}}]),e}()).prototype,"handleBodyResize",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(!e.isAdShowing$()){var t=c.getMaxPixelRatio();console.debug("üì± View resize by body",{maxDpr:t}),window.devicePixelRatio=t,e.setupOrientationByCanvasSize$()}}}}),Le);P._RF.pop(),P._RF.push({},"535cbXcmXdEzLn3H3LOIS27","MatchManager",void 0);var et=Ludex,tt=et.Utils,nt=tt.Valid,at=tt.Object,rt=tt.Array,it=et.Dtos.Match,ot=(void 0===it?{}:it).CustomData,st=["code","cols","encoding","idSize","rows"],ct=["addRandomTilesPerMove","maxSpaceOfPair"],lt=function(){function e(){var t=this;r(this,e),this.setupMatchCustomData$=function(){ot&&(ot.addDefaults(d),ot.addValidator("score",(function(e){if(!nt.isNumber(e)||e<0)throw new Error("score ".concat(e," is invalid"))})))},this.setupMatchData$=function(){ot&&ot.addValidator("challengeData",(function(e){if(null!=e){if(!nt.isObject(e))throw new Error("challengeData ".concat(e," must be a record of string keys"));var n=e,a=Object.keys(n);if(!rt.has(a,"level"))throw new Error("challengeData.level is missing");if(!nt.isNumber(n.level))throw new Error("challengeData.level ".concat(n.level," must be a number"));if(!rt.has(a,"fen"))throw new Error("challengeData.fen is missing");if(t.validateFen$(n.fen),!rt.has(a,"gravity"))throw new Error("challengeData.gravity is missing");if(!nt.isString(n.gravity))throw new Error("challengeData.gravity ".concat(n.gravity," must be a string"));if(!rt.has(a,"rules"))throw new Error("challengeData.rules is missing");if(t.validateLevelRules$(n.rules),!rt.has(a,"time"))throw new Error("challengeData.time is missing");if(!nt.isNumber(n.time))throw new Error("challengeData.time ".concat(n.time," must be a number"))}}))},this.validateFen$=function(e){if(!nt.isObject(e))throw new Error("challengeData.fen ".concat(e," must be a record of string keys"));var n=t.validateKeys$(e,st);if(!nt.isNumber(n.idSize))throw new Error("fen.idSize must be a number");if(!nt.isString(n.code))throw new Error("fen.code must be a string");if(!nt.isNumber(n.rows))throw new Error("fen.rows must be a number");if(!nt.isNumber(n.cols))throw new Error("fen.cols must be a number");if(!nt.isObject(n.encoding))throw new Error("fen.encoding must be a record of string keys");var a=t.validateKeys$(n.encoding,at.vals(h));Object.entries(a).forEach((function(e){var t=f(e,2),n=t[0],a=t[1];if(!nt.isString(a))throw new Error("fen.encoding.".concat(n," ").concat(a," must be a string"))}))},this.validateLevelRules$=function(e){if(!nt.isObject(e))throw new Error("challengeData.rules ".concat(e," must be a record of string keys"));var n=t.validateKeys$(e,ct);if(!nt.isNumber(n.addRandomTilesPerMove))throw new Error("rules.addRandomTilesPerMove must be a number");if(!nt.isNumber(n.maxSpaceOfPair))throw new Error("rules.maxSpaceOfPair must be a number")},this.validateKeys$=function(e,t){return Object.keys(e).forEach((function(e){if(!rt.has(t,e))throw new Error("Key ".concat(e," is missing"))})),e}}return t(e,[{key:"init",value:function(){console.debug("Match Manager: Initialized")}},{key:"setupDefaultMatchData",value:function(){this.setupMatchData$(),this.setupMatchCustomData$()}}]),e}();P._RF.pop(),P._RF.push({},"d675ctpYslBHp4qqiYEki+q","PlayerManager",void 0);var ut=Ludex,dt=ut.Utils,ht=dt.Valid,ft=dt.Array,pt=dt.Object,mt=dt.Browser,gt=ut.Dtos.Player,vt=codex.player,yt=window.GameName.replace(/ /g,"-"),$t=function(){function e(){r(this,e)}return t(e,[{key:"init",value:function(){console.debug("Player Manager: Initialized")}},{key:"setupDefaultGameData",value:function(){gt.Data.makeLoose(),gt.GameData.makeLoose(),gt.Data.addDefaults(p),gt.GameData.addDefaults(m),gt.GameData.addValidator("stars",(function(e){if(!ht.isNumber(e)||e<0)throw new Error("stars ".concat(e," is invalid"))})),gt.GameData.addValidator("totalLevel",(function(e){ht.isNumber(e)})),gt.GameData.addValidator("levelVersion",(function(e){if(!ht.isNumber(e)||e<0)throw new Error("levelVersion ".concat(e," is invalid"))})),gt.GameData.addValidator("lastRewardedItems",(function(e){if(!ht.isNumber(e)||e<0)throw new Error("lastRewardedItems ".concat(e," is invalid"))})),gt.GameData.addValidator("lastCreateTournamentShown",(function(e){if(!ht.isNumber(e)||e<0)throw new Error("lastCreateTournamentShown ".concat(e," is invalid"))})),gt.GameData.addValidator("guideItemShowed",(function(e){if(!Array.isArray(e))throw new Error("guideItemShowed ".concat(e," is invalid"))})),gt.GameData.addValidator("items",(function(e){if(!ht.isObject(e))throw new Error("items ".concat(e," is invalid"));var t=Object.keys(e),n=pt.vals(e);if(!ft.has(t,g.HINT))throw new Error("item ".concat(g.HINT," not found"));if(!ft.has(t,g.THUNDER))throw new Error("item ".concat(g.THUNDER," not found"));if(!ft.has(t,g.STORM))throw new Error("item ".concat(g.STORM," not found"));if(!ft.has(t,g.PLIERS))throw new Error("item ".concat(g.PLIERS," not found"));n.forEach((function(e){if(!ht.isNumber(e)||e<0)throw new Error("item ".concat(e," is invalid"))}))})),gt.GameData.addValidator("tournamentProgress",(function(e){if(!ht.isObject(e))throw new Error("tournamentProgress ".concat(e," is invalid"))})),gt.GameData.addValidator("custom",(function(e){if(!ht.isObject(e))throw new Error("custom ".concat(e," is invalid"));var t=Object.keys(e);if(!ft.has(t,"time"))throw new Error("custom time not found");if(!ft.has(t,"difficulty"))throw new Error("custom tiles not found");if(!ft.has(t,"bombs"))throw new Error("custom bombs not found");if(!ft.has(t,"ads"))throw new Error("custom ads not found")})),gt.GameData.addValidator("endlessScore",(function(e){if(!ht.isNumber(e)||e<0)throw new Error("endlessScore ".concat(e," is invalid"))}))}},{key:"syncPlatformPlayerData",value:function(){GameSDK.isGameSDK("MsGames")&&this.syncOldPlayerDataForMsGames()}},{key:"syncOldPlayerDataForMsGames",value:function(){var e="".concat(yt,"_PlayerData"),t=mt.getLocalStorage(e);if(ht.isObject(t)){var n=new gt.Data(t).toObject(),a=vt.getPlayerData();if(ht.isObject(a))a.gameData.level>=n.gameData.level||vt.setPlayerData(n)}}},{key:"requestConnectedPlayers",value:function(){vt.requestConnectedPlayers().catch((function(e){console.warn("player.requestConnectedPlayers",e)}))}}]),e}();P._RF.pop(),P._RF.push({},"51079bCfn9MZK6cuxbahS7M","AdaptivePerformance",void 0);var St=Ludex.Utils.Valid,Et=codex.adaptivePerformance,wt=function(){function e(){var t=this;r(this,e),this.listenEvents$=function(){q.once(X.EVENT_BEGIN_FRAME,t.handleBeginFrame$),q.on(X.EVENT_AFTER_SCENE_LAUNCH,t.handleAfterSceneLaunch$)},this.handleBeginFrame$=function(){q.on(X.EVENT_AFTER_UPDATE,t.lateUpdate$),q.on(X.EVENT_BEFORE_UPDATE,t.updateActualFPS$)},this.handleAfterSceneLaunch$=function(e){Et&&Et.trackingScene(e.name)},this.lateUpdate$=function(){var e=1e3*N.deltaTime;null==Et||Et.updatePostStepDeltaTime(e)},this.updateActualFPS$=function(){var e,t=null===(e=q.root)||void 0===e?void 0:e.fps;St.isNumber(t)&&(null==Et||Et.updateActualFPS(t))}}return t(e,[{key:"init",value:function(){Et&&this.listenEvents$()}}]),e}();P._RF.pop(),P._RF.push({},"0bbd4wf2fRDcKljBcls6K8a","CanvasRecorder",void 0);var At=codex.canvasRecorder,bt=function(){function e(){r(this,e)}return t(e,[{key:"init",value:function(){if(N.canvas&&At){At.setCanvas(N.canvas);var e=At.getOptions(),t=function(){N.pause(),N.step()},n=At.waitNextFrame;At.waitNextFrame=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(r,i){a||At.isCapturing()?e.syncFps?(q.once(X.EVENT_AFTER_RENDER,r),t()):n(a).then(r).catch(i):N.resume()}))}}}}]),e}();P._RF.pop(),P._RF.push({},"e8b3dVomjtKZ68ykoRs82vP","DailyRewards",void 0);var Dt,Ct,Rt,Tt=codex.storage,Lt=function(){function e(){r(this,e),this.initStorage$=function(){Tt.addStorage("dashboardDailyRewards",{hasShownPopup:!1})}}return t(e,[{key:"init",value:function(){this.initStorage$()}}]),e}();P._RF.pop(),P._RF.push({},"49a72YoKFFCKbOm5Xgp9R+k","DynamicAssets",void 0);var Ft=Ludex,xt=Ft.Configs.GameEngine.DynamicAssets,_t=xt.Resolution,It=xt.IgnoreFiles,Mt=xt.Compression,Pt=Ft.Events,Nt=Ft.Utils,kt=Nt.Array,Ot=Nt.Function,Ut=Nt.Device,Gt=Nt.Decorator,zt=codex,Bt=zt.event,Ht=zt.storage,Vt=zt.getBuildVersion,Yt=[".png",".jpg",".jpeg",".webp"],qt=1,jt=2,Qt=3,Kt=(Dt=Gt.debounce(1e3),Rt=e((Ct=function(){function e(){var t=this;r(this,e),this.isProcessing$=!1,this.yield10msIfNeeded$=Ot.timeSlice(10),this.targetScale$=1,this.sessionQuality$=Qt,this.failedAssets$=new Set,this.isAssetUpgraded$=new Set,this.upgradableAssets$=new Map,this.initStorage$=n((function*(){yield Ht.addStorage("DynamicAssets",{currentQuality:0,buildVersion:"0"},!0)})),this.getOptimalScale$=function(){var e,t=Math.round(Ut.pixelRatio()),n=_t.Available,a=_t.Source,r=v(n).sort((function(e,t){return e-t})),i=u(r);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(o>=t)return Math.min(o,a)}}catch(e){i.e(e)}finally{i.f()}return a},this.getCurrentQuality$=function(){return t.targetScale$!==_t.Source||Mt.Enabled?Mt.Enabled?qt:jt:Qt},this.checkCacheVersion$=function(){var e=Vt().toString(),n=Ht.getStorage("DynamicAssets"),a=null!=n?n:{},r=a.currentQuality,i=void 0===r?0:r,o=a.buildVersion;t.sessionQuality$<i&&e===o&&(t.sessionQuality$=i),Ht.setStorageData("DynamicAssets","buildVersion",e),Ht.updateToWebStorage("DynamicAssets")},this.listenEvents$=function(){Mt.Enabled&&t.sessionQuality$!==Qt&&(Bt.catchUp(Pt.GAME_READY,(function(){N.emit(i.REQUEST_UPGRADE_ASSET)})),N.on(i.REQUEST_UPGRADE_ASSET,t.handleChangeQuality))},this.injectSpriteUpdate$=function(e){Object.defineProperty(Z.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(t){if(t&&t.refreshed&&this._spriteFrame!==t){var n=this._spriteFrame;if(this._spriteFrame=t,this.markForUpdateRenderData(!0),this._applySpriteFrame(n),this.sizeMode!==Z.SizeMode.CUSTOM){var a=this.node.getComponent(J);if(a){var r=t.originalSize,i=r.width,o=r.height,s=new K(i/e,o/e);a.setContentSize(s)}}}}})},this.injectSpriteFrameCheckRect$=function(e){var t=ee.prototype.checkRect;ee.prototype.checkRect=function(){if(this.refreshed)return!0;for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.apply(this,n)}},this.injectSpriteFrameSlicedUV$=function(e){var t=ee.prototype._calculateSlicedUV;ee.prototype._calculateSlicedUV=function(){var n,a=null!==(n=this._capInsets)&&void 0!==n?n:[0,0,0,0],r=a.map((function(t){return(t+1)*e}));this._capInsets=r,t.apply(this),this._capInsets=a}},this.injectSpriteFrameResolution$=function(e){var t=ee.prototype._refreshTexture;ee.prototype._refreshTexture=function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];if(this.name&&!this.refreshed){var i=this.rect,o=i.x,s=i.y,c=i.width,l=i.height,u=Number((o*e).toFixed(2)),d=Number((s*e).toFixed(2)),h=Math.round(c*e),f=Math.round(l*e),p=new te(u,d,h,f),m=new K(p.width,p.height);return this.refreshed=!0,this.reset({rect:p,originalSize:m}),t.apply(this,a)}t.apply(this,a)}},s(this,"handleChangeQuality",Rt,this),this.getAssetQuality$=function(e){var n="/native@".concat(t.targetScale$,"x/");switch(t.sessionQuality$){case jt:return"".concat(n,"quality/");case qt:return kt.has(It,e)?"".concat(n,"quality/"):"".concat(n,"medium/");default:return"/native/"}},this.replaceAssetUrl$=function(e,n){return t.sessionQuality$!==Qt&&n.includes("/native/")?n.replace("/native/",t.getAssetQuality$(e)):n},this.saveStateToStorage$=function(){Ht.setStorageData("DynamicAssets","currentQuality",t.sessionQuality$),Ht.updateToWebStorage("DynamicAssets",!0)},this.updateSpriteFrames$=n((function*(){var e=q.getScene();if(e){var n,a=e.getComponentsInChildren("cc.Sprite"),r=u(a);try{for(r.s();!(n=r.n()).done;){var i=n.value.spriteFrame;if(i){var o=i.texture,s=i.original,c=o.uuid;s&&(c=s._texture.uuid),t.isAssetUpgraded$.has(c)&&(o.updateImage(),yield t.yield10msIfNeeded$())}}}catch(e){r.e(e)}finally{r.f()}}})),this.requestUpdateDynamicAssets$=function(){N.emit(i.REQUEST_DYNAMIC_ATLAS,{force:!0})},this.collectUpgradableAssets$=function(e){var n,a=e.output=e.input,r=!1,o=u(a);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(kt.has(Yt,s.ext)){var c=s.url,l=t.replaceAssetUrl$(s.uuid,c);if(l!==c&&(s.url=l,!t.upgradableAssets$.has(s.uuid))){var d={ext:s.ext,url:s.url,uuid:s.uuid,options:s.options,resolution:t.targetScale$};t.upgradableAssets$.set(s.uuid,d),r=!0}}}}catch(e){o.e(e)}finally{o.f()}r&&N.emit(i.REQUEST_UPGRADE_ASSET)},this.processUpgradeQualityAsync$=function(){var e=n((function*(e){var n=e.uuid,a=e.url,r=e.ext,o=e.options,s=e.resolution;if(!(n&&a&&r&&o&&s))return!1;if(t.isAssetUpgraded$.has(n))return!0;if(t.failedAssets$.has(n))return!1;if(kt.has(It,n))return t.isAssetUpgraded$.add(n),!0;var c=ne.assets.get(n);if(!(c instanceof ae))return console.warn("DynamicAssets: Asset not found for upgrade",n),!1;var l="/native@".concat(s,"x/"),u="".concat(l,"medium/"),d="".concat(l,"quality/"),h=a.replace(u,d);if(h===a)return t.isAssetUpgraded$.add(n),!0;var f={uuid:n,url:h,options:o,resolution:s,ext:r};return new Promise((function(e){ne.loadAny(f,o,(function(a,r){if(a)return console.warn("[DynamicAssets] processUpgrade: Upgrade error for ".concat(n.slice(0,5)),a),t.failedAssets$.add(n),void e(!1);c.reset(r),c._nativeUrl=h,t.isAssetUpgraded$.add(n),N.emit(i.ASSET_QUALITY_CHANGE,{asset:c,item:f}),e(!0)}))}))}));return function(t){return e.apply(this,arguments)}}()}var a;return t(e,[{key:"init",value:(a=n((function*(){if(this.targetScale$=this.getOptimalScale$(),this.sessionQuality$=this.getCurrentQuality$(),yield this.initStorage$(),this.checkCacheVersion$(),ne.transformPipeline.insert(this.collectUpgradableAssets$,2),this.sessionQuality$<Qt){var e=this.targetScale$/_t.Source;this.injectSpriteUpdate$(e),this.injectSpriteFrameSlicedUV$(e),this.injectSpriteFrameCheckRect$(e),this.injectSpriteFrameResolution$(e)}this.listenEvents$()})),function(){return a.apply(this,arguments)})}]),e}()).prototype,"handleChangeQuality",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return n((function*(){if(!(e.isProcessing$||!Mt.Enabled||e.sessionQuality$>=jt))try{e.isProcessing$=!0;var t,n=[],a=e.isAssetUpgraded$.size,r=u(e.upgradableAssets$.values());try{for(r.s();!(t=r.n()).done;){var i=t.value,o=e.processUpgradeQualityAsync$(i);n.push(o)}}catch(e){r.e(e)}finally{r.f()}if(n.length<1)return;yield Ot.allSettled(n),e.isAssetUpgraded$.size>a&&(e.sessionQuality$++,e.saveStateToStorage$()),yield e.updateSpriteFrames$(),e.requestUpdateDynamicAssets$()}catch(e){console.warn("DynamicAssets: Handle change quality error",e)}finally{e.isProcessing$=!1}}))}}),Ct);P._RF.pop(),P._RF.push({},"15ecbqnx5lFtYRSJp2lOLCm","DynamicAtlas",void 0);var Wt=Ludex,Xt=Wt.Events,Zt=Wt.Configs.GameEngine.DynamicAtlas.OptimizeAtlas,Jt=Zt.AtlasDebug,en=Zt.AutoAtlasSize,tn=Zt.UsePowerOfTwo,nn=Zt.AllowNonePackable,an=Zt.OnlyOptimizeWhenRenderTooLong,rn=Wt.Utils,on=rn.Json,sn=rn.Image,cn=rn.Function,ln=rn.Object,un=rn.Mark,dn=codex.event,hn={MAX_INTERVAL_MS:1e4,THROTTLE_UPDATE_MS:800,INTERVAL_INCREASE_MS:1e3,MEAN_LAG_THRESHOLD_MS:8,MAX_RECORDED_RENDER_TIMES:100,RENDER_TIME_CHECK_INTERVAL_MS:5e3},fn={PACK_PADDING:5,MIN_FILL_RATE:.6,BLEEDING_SPACE:1,COLLECT_PADDING:2,BLEED_SENSITIVE_SIZE:16},pn={ENABLED:Jt,FONT:"22px Arial",TEXT_HEIGHT:22,TEXT_PADDING:4,IMAGE_QUALITY:.6},mn=function(){function e(){var t=this;r(this,e),this.isEffective$=!0,this.forceUpdateDynamicAtlas$=!1,this.mutex$=cn.mutex(),this.renderTimes$=[],this.lastRenderTime$=0,this.renderTimeInterval$=hn.RENDER_TIME_CHECK_INTERVAL_MS,this.atlasInfo$=null,this.lastAtlasInfo$=null,this.atlasIds$={},this.collectInfo$=new Map,this.packedFrames$=new Set,this.debugCanvases$={},this.listenEvents$=function(){N.on(i.REQUEST_DYNAMIC_ATLAS,t.requestUpdateDynamicAtlas$),dn.on(Xt.SCENE_LAUNCHED,t.onSceneLaunched$),dn.catchUp(Xt.GAME_READY,t.setupRenderListeners$)},this.onSceneLaunched$=function(){t.resetPendingInfo$(),t.resetAllAtlases$()},this.resetAllAtlases$=function(){for(var e in t.packedFrames$.forEach((function(e){e.isValid&&e._resetDynamicAtlasFrame()})),t.packedFrames$.clear(),V.instance.reset(),t.atlasInfo$=null,t.lastAtlasInfo$=null,t.debugCanvases$)delete t.debugCanvases$[e]},this.overrideDynamicAtlasManager$=function(){var e=V.instance;e.packToDynamicAtlas=t.collectSpriteFrame$,e.deleteAtlasSpriteFrame=t.deleteSpriteFrame$},this.createPendingDebugCanvas$=function(){var e=t.createDebugCanvas$(),n=V.instance.maxAtlasCount+1;t.debugCanvases$[n]=e},this.checkRenderTimeThreshold$=function(){t.calculateMeanRenderTimeAndReset$()>hn.MEAN_LAG_THRESHOLD_MS&&t.handleLaggyFrame$(),q.once(X.EVENT_AFTER_RENDER,(function(){setTimeout((function(){t.checkRenderTimeThreshold$()}),t.renderTimeInterval$)}))},this.handleLaggyFrame$=function(){t.isEffective$||(t.renderTimeInterval$=Math.min(t.renderTimeInterval$+hn.INTERVAL_INCREASE_MS,hn.MAX_INTERVAL_MS)),t.requestUpdateDynamicAtlas$({force:!0})},this.resetPendingInfo$=function(){t.atlasIds$={},t.collectInfo$.clear()},this.setupRenderListeners$=function(){q.on(X.EVENT_BEFORE_RENDER,t.updateBeforeRenderTime$),q.on(X.EVENT_AFTER_RENDER,t.updateAfterRenderTime$),an&&dn.catchUp(Xt.SCENE_LAUNCHED,(function(){q.once(X.EVENT_AFTER_RENDER,t.checkRenderTimeThreshold$)}))},this.updateBeforeRenderTime$=function(){t.lastRenderTime$=performance.now()},this.updateAfterRenderTime$=function(){t.renderTimes$.length>=hn.MAX_RECORDED_RENDER_TIMES&&t.renderTimes$.shift();var e=performance.now()-t.lastRenderTime$;t.renderTimes$.push(e)},this.calculateMeanRenderTimeAndReset$=function(){if(0===t.renderTimes$.length)return 0;var e=t.renderTimes$.reduce((function(e,t){return e+t}),0)/t.renderTimes$.length;return t.renderTimes$.length=0,e},this.collectSpriteFrame$=function(e){if(ln.hasOwn(e,"spriteFrame")){var n=e.spriteFrame;if(t.isSpriteFrameValidForAtlas$(e,n)){var a=t.getTexture$(n),r=null==a?void 0:a.getId();if(r){var i=t.getTextureSizeFromTexture$(a);t.addTextureToCollectInfo$(r,i,e),!an&&t.requestUpdateDynamicAtlas$()}}}},this.deleteSpriteFrame$=function(e){var n=t.getTexture$(e);if(n){var a=t.getAtlas$();null==a||a.deleteInnerTexture(n),t.packedFrames$.delete(e),e._resetDynamicAtlasFrame()}},this.isSpriteFrameValidForAtlas$=function(e,n){var a=e.enabled,r=e.node;if(!a||!n)return!1;if(!r.active||!r.activeInHierarchy)return!1;if(!n.packable&&!nn)return!1;if(n.original){var i=n.texture,o=n.original._texture,s=i===o,c=(null==i?void 0:i.getId())===(null==o?void 0:o.getId());if(s||c)return!1}if(e.color.a<1)return!1;for(var l=r;l;){var u=l.getComponent(re);if(u&&u.opacity<1)return!1;l=l.parent}var d=t.getTextureSize$(n);return!t.isTextureTooLarge$(d)},this.addTextureToCollectInfo$=function(e,n,a){var r=t.collectInfo$.get(e),i=fn.COLLECT_PADDING,o=n.w+i,s=n.h+i;o<=i||s<=i||(r?(r.w=o,r.h=s):(r={id:e,w:o,h:s,x:-1,y:-1,components:new Set},t.collectInfo$.set(e,r)),r.components.has(a)||r.components.add(a))},this.getTexture$=function(e){var t,n;return null!==(t=null===(n=e.original)||void 0===n?void 0:n._texture)&&void 0!==t?t:e.texture},this.getTextureSize$=function(e){var n=t.getTexture$(e);return t.getTextureSizeFromTexture$(n)},this.getTextureSizeFromTexture$=function(e){var t,n;return null!=e&&e.image?{w:e.image.width,h:e.image.height}:{w:null!==(t=null==e?void 0:e.width)&&void 0!==t?t:0,h:null!==(n=null==e?void 0:e.height)&&void 0!==n?n:0}},this.isTextureTooLarge$=function(e){var t=V.instance.maxFrameSize;return e.w>=t||e.h>=t},this.rebuildAtlasIfNecessary$=function(){var e;if(!t.atlasInfo$)return!1;if(t.lastAtlasInfo$&&!t.forceUpdateDynamicAtlas$){var n=t.isSameAtlas$(t.lastAtlasInfo$,t.atlasInfo$);if(t.isEffective$=!n,n)return!1}var a=t.getAtlas$();if(null===(e=a)||void 0===e||!e._texture)return!1;var r=t.atlasInfo$.packedInfo,i=a._texture,o=i.width,s=i.height,c=r.width+fn.PACK_PADDING,l=r.height+fn.PACK_PADDING;if(Math.max(c,l)<=fn.PACK_PADDING)return!1;var u=Math.max(c,l),d=tn?u:c,h=tn?u:l;if(!(a=t.resetAtlas$(a)))return!1;if(en||(d>o||h>s)){a._texture.initWithSize(d,h);var f=t.debugCanvases$[t.getAtlasIndex$()];f&&(f.width=d,f.height=h)}else{var p,m=t.debugCanvases$[t.getAtlasIndex$()];if(m)null===(p=m.getContext("2d"))||void 0===p||p.clearRect(0,0,m.width,m.height)}return t.lastAtlasInfo$=on.clone(t.atlasInfo$),!0},this.createAtlas$=function(){var e=V.instance.newAtlas();if(e&&pn.ENABLED){var n=t.createDebugCanvas$(),a=t.getAtlasIndex$();t.debugCanvases$[a]=n}return e},this.createDebugCanvas$=function(){var e=V.instance.textureSize,t=document.createElement("canvas");return t.width=e,t.height=e,t},this.resetAtlas$=function(e){var n=V.instance,a=n._atlases.indexOf(e);return t.packedFrames$.forEach((function(e){e.isValid&&e._resetDynamicAtlasFrame()})),t.packedFrames$.clear(),e.destroy(),a>-1&&(n._atlases.splice(a,1),n._atlasIndex>=a&&n._atlasIndex--),t.getAtlas$()},this.getAtlas$=function(e){var n,a=V.instance,r=a._atlases,i=void 0===r?[]:r,o=a._atlasIndex;return null!==(n=i[null!=e?e:o])&&void 0!==n?n:t.createAtlas$()},this.getAtlasIndex$=function(){return V.instance._atlasIndex},this.getAtlasSize$=function(){var e=t.getAtlas$(),n=V.instance.textureSize;return null!=e&&e._texture?{w:Math.max(e._texture.width,n),h:Math.max(e._texture.height,n)}:{w:n,h:n}},this.requestUpdateDynamicAtlas$=cn.debounce((function(e){var n;t.forceUpdateDynamicAtlas$||(t.forceUpdateDynamicAtlas$=null!==(n=null==e?void 0:e.force)&&void 0!==n&&n),t.updateDynamicAtlas$()}),hn.THROTTLE_UPDATE_MS),this.updateDynamicAtlas$=n((function*(){if(q.getScene()){var e=yield t.mutex$.use("updateDynamicAtlas");un.start("DynamicAtlas Process");try{if(q.pause(),t.atlasInfo$=null,t.prepareDrawInfo$(),!t.rebuildAtlasIfNecessary$())return;if(!t.packCollectedTextures$())return;N.emit(i.FINISHED_DYNAMIC_ATLAS),requestAnimationFrame(t.printAtlasTextures$)}catch(e){}finally{t.forceUpdateDynamicAtlas$=!1,un.stop("DynamicAtlas Process"),q.resume(),e.release()}}})),this.prepareDrawInfo$=function(){if(!(t.collectInfo$.size<1)){var e=[];t.collectInfo$.forEach((function(t){t.components.size<1||e.push(t)})),t.calculateOptimizedAtlas$(e)}},this.calculateOptimizedAtlas$=function(e){if(0!==e.length){var n=function(e){var t,n=0,a=0,r=u(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=i.w*i.h,a=Math.max(a,i.w)}}catch(e){r.e(e)}finally{r.f()}e.sort((function(e,t){return t.h-e.h}));var o,s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),a),h:1/0}],c=0,l=0,d=u(e);try{for(d.s();!(o=d.n()).done;)for(var h=o.value,f=s.length-1;f>=0;f--){var p=s[f];if(!(h.w>p.w||h.h>p.h)){if(h.x=p.x,h.y=p.y,l=Math.max(l,h.y+h.h),c=Math.max(c,h.x+h.w),h.w===p.w&&h.h===p.h){var m=s.pop();m&&f<s.length&&(s[f]=m)}else h.h===p.h?(p.x+=h.w,p.w-=h.w):h.w===p.w?(p.y+=h.h,p.h-=h.h):(s.push({x:p.x+h.w,y:p.y,w:p.w-h.w,h:h.h}),p.y+=h.h,p.h-=h.h);break}}}catch(e){d.e(e)}finally{d.f()}return{w:c,h:l,fill:n/(c*l)||0}}(e),a=n.w,r=n.h,i=n.fill;if(!(i<fn.MIN_FILL_RATE)){var o=t.getAtlasSize$();if(a>o.w||r>o.h){var s=t.excessTextures$(e,o);if(s.length<1)return;var c=new Set(s),l=e.filter((function(e){return!c.has(e)}));t.calculateOptimizedAtlas$(l)}else t.atlasInfo$={atlasSize:o,atlasIndex:t.getAtlasIndex$(),packedInfo:{width:Math.round(a),height:Math.round(r),fillRate:i}}}}},this.excessTextures$=function(e,n){var a=n.w,r=n.h,i=t.calculateExcessDimensions$(a,r,n),o=i.excessWidth,s=i.excessHeight;return t.tryRemoveExcessTextures$(e,o,s)},this.calculateExcessDimensions$=function(e,t,n){return{excessWidth:Math.max(0,e-n.w),excessHeight:Math.max(0,t-n.h)}},this.tryRemoveExcessTextures$=function(e,n,a){var r,i=0,o=0,s=[],c=t.getAtlasIndex$(),l=u(e);try{for(l.s();!(r=l.n()).done;){var d,h=r.value;(n>0&&i<n||a>0&&o<a)&&(i+=h.w,o+=h.h,t.atlasIds$[h.id]=Math.min(null!==(d=t.atlasIds$[h.id])&&void 0!==d?d:c,c),h.x=-1,h.y=-1,s.push(h))}}catch(e){l.e(e)}finally{l.f()}return s},this.packCollectedTextures$=function(){if(!t.atlasInfo$)return!1;var e=t.getAtlas$();if(!e)return!1;var n=[],a=new Map,r=new Set;t.collectInfo$.forEach((function(e){r.add(e.id);var i,o=u(e.components);try{for(o.s();!(i=o.n()).done;){var s,c=i.value;n.push(c);var l=null==c?void 0:c.spriteFrame;if(l){var d=t.getTexture$(l),h=null==d?void 0:d.getId();h&&a.set(h,(null!==(s=a.get(h))&&void 0!==s?s:0)+1)}}}catch(e){o.e(e)}finally{o.f()}}));for(var i=0,o=n;i<o.length;i++){var s=o[i];t.packComponentIntoAtlas$(e,s)}return!0},this.packComponentIntoAtlas$=function(e,n){if(ln.hasOwn(n,"spriteFrame")){var a=n.spriteFrame;a&&t.tryInsertSpriteFrame$(e,a,n)}},this.tryInsertSpriteFrame$=function(e,n,a){n.original&&n._resetDynamicAtlasFrame();var r=V.instance.textureBleeding,i=t.drawTexture$(e,n,r);i&&(n._setDynamicAtlasFrame(i),t.packedFrames$.add(n),a.setTextureDirty(),a.markForUpdateRenderData(!0),t.updateLabelUVs$(a))},this.updateLabelUVs$=function(e){var t;if(e instanceof ie){var n=e.renderData;if(n){n.vertDirty=!1;var a=ie.Assembler.getAssembler(e);null==a||null===(t=a.updateUVs)||void 0===t||t.call(a,e)}}},this.printAtlasTextures$=function(){if(pn.ENABLED){var e=V.instance.maxAtlasCount;for(var n in t.debugCanvases$){var a=t.debugCanvases$[n];if(a&&Number(n)<=e){var r=a.toDataURL("image/jpeg",pn.IMAGE_QUALITY);sn.logImage(r,.5)}}}},this.drawTexture$=function(e,n,a){var r,i,o,s,c=t.getTexture$(n);if(!c)return null;var l=c.getId(),u=t.collectInfo$.get(l);if(!u)return null;var d=null!==(r=u.x)&&void 0!==r?r:-1,h=null!==(i=u.y)&&void 0!==i?i:-1;if(-1===d||-1===h)return null;var f=e._texture,p=f.width,m=f.height;if(d+u.w>p||h+u.h>m)return null;var g=c.image;if(!g)return null;var v=a?fn.BLEEDING_SPACE:0,y=d+v,$=h+v,S=e._innerTextureInfos[l];if(!S){if(t.drawToAtlas$({atlas:e,texId:l,image:g,drawX:y,drawY:$,space:v}),pn.ENABLED){var E=u.components.size;t.drawDebugFrame$({image:g,texId:l,drawX:y,drawY:$,usageCount:E,space:v})}e._count++,S={texture:c,x:y,y:$},e._innerTextureInfos[l]=S}return{x:n.rect.x+(null!==(o=S.x)&&void 0!==o?o:y),y:n.rect.y+(null!==(s=S.y)&&void 0!==s?s:$),texture:e._texture}},this.drawToAtlas$=function(e){var t=e.atlas,n=e.image,a=e.drawX,r=e.drawY,i=e.space,o=t._texture;i>0&&(n.width<=fn.BLEED_SENSITIVE_SIZE||n.height<=fn.BLEED_SENSITIVE_SIZE)&&(o.drawTextureAt(n,a-i,r-i),o.drawTextureAt(n,a-i,r+i),o.drawTextureAt(n,a+i,r-i),o.drawTextureAt(n,a+i,r+i)),o.drawTextureAt(n,a,r)},this.drawDebugFrame$=function(e){var n=t.getAtlasIndex$(),a=t.debugCanvases$[n];if(a){var r=e.image,i=e.texId,o=e.drawX,s=e.drawY,c=e.usageCount,l=e.space,u=a.getContext("2d",{willReadFrequently:!0}),d=null==r?void 0:r.data;u&&d&&t.isDrawableImage(d)&&(t.drawDebugImageWithBleed$({ctx:u,image:r,drawX:o,drawY:s,space:l}),t.drawDebugOutlineAndOverlay$({ctx:u,image:r,drawX:o,drawY:s,space:l,usageCount:c}),t.drawDebugText$({ctx:u,image:r,drawX:o,drawY:s,space:l,texId:i}))}},this.drawDebugImageWithBleed$=function(e){var t=e.ctx,n=e.image,a=e.drawX,r=e.drawY,i=e.space,o=n.data;i>0&&(n.width<=fn.BLEED_SENSITIVE_SIZE||n.height<=fn.BLEED_SENSITIVE_SIZE)&&(t.drawImage(o,a-i,r-i),t.drawImage(o,a-i,r+i),t.drawImage(o,a+i,r-i),t.drawImage(o,a+i,r+i)),t.drawImage(o,a,r)},this.drawDebugOutlineAndOverlay$=function(e){var t=e.ctx,n=e.image,a=e.drawX,r=e.drawY,i=e.space,o=e.usageCount,s=a,c=r,l=n.width,u=n.height;i>0&&(s-=i,c-=i,l+=2*i,u+=2*i);var d=240*(1-Math.min(o/15,1));t.fillStyle="hsla(".concat(d,", 100%, 50%, 0.2)"),t.fillRect(s+.5,c+.5,l,u)},this.drawDebugText$=function(e){var t=e.ctx,n=e.drawX,a=e.drawY,r=e.space,i=e.texId;t.font=pn.FONT,t.textAlign="left",t.textBaseline="top";var o=t.measureText(i.replace("Tex.","")),s=pn.TEXT_PADDING,c=n-r+10,l=a-r+10;t.fillStyle="rgba(0, 50, 0, 0.8)",t.fillRect(c-s,l-s,o.width+2*s,pn.TEXT_HEIGHT+2*s),t.fillStyle="rgba(255, 255, 255, 0.95)",t.fillText(i,c,l)},this.isSameAtlas$=function(e,t){return!(!e||!t||e.atlasIndex!==t.atlasIndex)&&(e.packedInfo.fillRate===t.packedInfo.fillRate&&(e.packedInfo.width===t.packedInfo.width&&e.packedInfo.height===t.packedInfo.height))}}return t(e,[{key:"init",value:function(){this.listenEvents$(),this.overrideDynamicAtlasManager$(),pn.ENABLED&&this.createPendingDebugCanvas$()}},{key:"isDrawableImage",value:function(e){return e instanceof HTMLCanvasElement||e instanceof HTMLImageElement}}]),e}();P._RF.pop(),P._RF.push({},"f18351KuT9C+7suAM5eHst5","renderResultChallenge",void 0);var gn=Ludex.Utils.Error,vn="./wideframes",yn="".concat(vn,"/result-challenge.png"),$n="".concat(vn,"/update-challenge.png"),Sn="".concat(vn,"/images/avatar-fallback.png"),En={wideframe:{type:"image",depth:0,size:[952,492],position:[0,0]},playerPhoto:{type:"image",depth:-2,size:[160,160],position:[50,140],fallbackImage:Sn},opponentPhoto:{type:"image",depth:-1,size:[160,160],position:[740,140],fallbackImage:Sn},leftScore:{type:"text",name:"left-score",depth:3,font:"normal bold 44px",color:"#f2a62e",textAlign:"center",position:[123,372]},rightScore:{type:"text",name:"right-score",depth:3,font:"normal bold 44px",color:"#f2a62e",textAlign:"center",position:[820,372]},leftCrown:{type:"image",name:"crown",depth:3,size:[92,63],position:[80,80],image:"".concat(vn,"/images/crown-icon.png")},rightCrown:{type:"image",name:"crown",depth:3,size:[92,63],position:[775,80],image:"".concat(vn,"/images/crown-icon.png")}},wn={win:{name:"win-image",type:"image",depth:2,size:[277,144],position:[337.5,174],image:"".concat(vn,"/images/win.png")},lose:{name:"lose-image",type:"image",depth:2,size:[326,145],position:[313,173.5],image:"".concat(vn,"/images/lose.png")},draw:{name:"draw-image",type:"image",depth:2,size:[390,144],position:[281,174],image:"".concat(vn,"/images/draw.png")}},An=function(){var e=n((function*(e){var t=gn.lift({}),n=gn.pipe(Cn(e),Rn(e),Tn(e),Dn(e))(t),a=yield gn.applyAsync(bn)(n);if(gn.isFailure(a)){var r=gn.extractFailure(a);return console.error(r),null}return gn.extractSuccess(a)}));return function(t){return e.apply(this,arguments)}}(),bn=function(e){return codex.frameCapture.captureAsync({name:"ResultChallenge",width:952,height:492,renderOptions:e})},Dn=function(e){return function(t){var n=e.isPlayerFinished,a=e.isOpponentFinished,r=n||a,i=r?"result-challenge-with-score-box":"result-challenge-without-score-box",o=r?yn:$n;return y(y({},t),{},{wideframe:y(y({},En.wideframe),{},{image:o,name:i})})}},Cn=function(e){return function(t){return y(y({},t),{},{playerPhoto:y(y({},En.playerPhoto),{},{name:e.playerId,image:e.playerPhoto}),opponentPhoto:y(y({},En.opponentPhoto),{},{name:e.opponentId,image:e.opponentPhoto})})}},Rn=function(e){return function(t){var n=e.isPlayerFinished,a=e.isOpponentFinished,r=e.playerScore,i=void 0===r?0:r,o=e.opponentScore,s=void 0===o?0:o;if(!(n||a))return t;var c=n?"".concat(i):"???",l=a?"".concat(s):"???";return y(y({},t),{},{leftScore:y(y({},En.leftScore),{},{text:c}),rightScore:y(y({},En.rightScore),{},{text:l})})}},Tn=function(e){return function(t){var n=Ln(e);if("none"===n)return t;var a=wn[n];if("draw"===n)return y(y({},t),{},{statusImage:a});var r="win"===n?En.leftCrown:En.rightCrown;return y(y({},t),{},{crown:r,statusImage:a})}},Ln=function(e){var t=e.playerScore,n=void 0===t?0:t,a=e.opponentScore,r=void 0===a?0:a,i=e.isPlayerFinished,o=e.isOpponentFinished;return i&&o?n===r?"draw":n>r?"win":"lose":"none"};P._RF.pop(),P._RF.push({},"46949HU2K9PdYlSXXZkfABn","renderShareLeaderboard",void 0);var Fn=Ludex.Utils.Error,xn="./wideframes",_n="".concat(xn,"/share-leaderboard.png"),In="".concat(xn,"/images/avatar-fallback.png"),Mn={wideframe:{name:"share-leaderboard",type:"image",depth:0,image:_n,size:[1500,2e3],position:[0,0],fallbackImage:In},avatar:{type:"image",depth:-2,size:[510,510],position:[510,278],fallbackImage:In},leaderPhoto:{type:"image",depth:-1,size:[100,100],fallbackImage:In,position:[436,0]},leaderName:{type:"text",depth:1,font:"600 48px",position:[600,0]},leaderScore:{type:"text",depth:1,font:"600 48px",position:[100,0]}},Pn=function(){var e=n((function*(e){var t=Fn.lift({}),n=Fn.pipe(On(e),Un(e),kn)(t),a=yield Fn.applyAsync(Nn)(n);if(Fn.isFailure(a)){var r=Fn.extractFailure(a);return console.error(r),null}return Fn.extractSuccess(a)}));return function(t){return e.apply(this,arguments)}}(),Nn=function(e){return codex.frameCapture.captureAsync({name:"ShareLeaderboard",width:1500,height:2e3,renderOptions:e})},kn=function(e){return y(y({},e),{},{wideframe:Mn.wideframe})},On=function(e){return function(t){return y(y({},t),{},{avatar:y(y({},Mn.avatar),{},{name:e.playerId,image:e.playerPhoto})})}},Un=function(e){return function(t){for(var n=e.leaders,a=y({},t),r=0;r<n.length;r++){var i=n[r],o=i.id,s=i.name,c=i.photo,l=i.score,u=1292+180*r,d=1360+180*r;a["photo_".concat(o)]=y(y({},Mn.leaderPhoto),{},{position:[Mn.leaderPhoto.position[0],u],name:o,image:c}),a["name_".concat(o)]=y(y({},Mn.leaderName),{},{position:[Mn.leaderName.position[0],d],name:o,text:s}),a["score_".concat(o)]=y(y({},Mn.leaderScore),{},{position:[Mn.leaderScore.position[0],d],name:o,text:"".concat(l)})}return a}};P._RF.pop(),P._RF.push({},"c5f1cF6b7dGYLU3X1NOhOPG","renderShareScore",void 0);var Gn=Ludex.Utils,zn=Gn.Error,Bn=(Gn.Valid,Gn.Function),Hn=codex,Vn=Hn.frameCapture,Yn=Hn.language,qn=Hn.monitorError,jn="./wideframes",Qn="".concat(jn,"/share-score.png"),Kn="".concat(jn,"/images/avatar-fallback.png"),Wn={wideframe:{type:"image",name:"share-score",depth:0,image:Qn,size:[1500,2e3],position:[0,0]},avatar:{type:"image",depth:-1,size:[500,500],position:[500,410],fallbackImage:Kn},playerScore:{type:"text",name:"player-score",depth:1,font:"normal bold",color:"#f2a62e",textAlign:"center",position:[750,1120]},message:{type:"text",name:"message",depth:2,color:"#8f5543",textAlign:"center",position:[760,1560]}},Xn=function(){var e=n((function*(e){var t=zn.lift({}),n=zn.pipe(ea(e),ta(e),na,Jn)(t),a=yield zn.applyAsync(Zn)(n);if(zn.isFailure(a)){var r=zn.extractFailure(a);return console.error(r),null}return zn.extractSuccess(a)}));return function(t){return e.apply(this,arguments)}}(),Zn=function(e){return Vn.captureAsync({name:"ShareScore",width:1500,height:2e3,renderOptions:e})},Jn=function(e){return y(y({},e),{},{wideframe:Wn.wideframe})},ea=function(e){return function(t){return y(y({},t),{},{avatar:y(y({},Wn.avatar),{},{name:"".concat(e.playerId),image:e.playerPhoto})})}},ta=function(e){return function(t){var n=Wn.playerScore.font,a=aa(),r=ra();return y(y({},t),{},{playerScore:y(y({},Wn.playerScore),{},{text:"".concat(e.playerScore),font:"".concat(n," ").concat(r," ").concat(a,",")})})}},na=function(e){var t=aa(),n=ra(),a=oa(),r=y(y({},Wn.message),{},{font:"normal ".concat(n," ").concat(t,","),text:a});return y(y({},e),{},{message:r})},aa=function(){var e=Yn.getCurrentLocale(),t=S[e],n=ia(t);return"".concat(n,"_LABEL")},ra=function(){var e,t=Yn.getCurrentLocale();return null!==(e=$[t])&&void 0!==e?e:"104px"},ia=function(e){var t,n=e.split("/"),a=null!==(t=n[n.length-1])&&void 0!==t?t:"",r=a.lastIndexOf(".");return-1===r?a:a.substring(0,r)},oa=function(){try{return Yn.getText("share.canYouDoBetter")}catch(e){return null==qn||qn.sendException(Bn.toError(e),{locale:Yn.getCurrentLocale(),message:"share.canYouDoBetter"}),"share.canYouDoBetter"}};P._RF.pop(),P._RF.push({},"3639a1RbypBKqHUo6gIZVdm","renderShareScoreWithInvite",void 0);var sa=Ludex.Utils.Error,ca=codex,la=ca.frameCapture,ua=ca.language,da="./wideframes",ha="".concat(da,"/invite-score.png"),fa="".concat(da,"/images/avatar-fallback.png"),pa={wideframe:{type:"image",name:"share-score-with-invite",depth:0,image:ha,size:[952,492],position:[0,0]},avatar:{type:"image",depth:-1,size:[160,160],position:[85,140],fallbackImage:fa},playerScore:{type:"text",name:"player-score",depth:1,font:"normal bold",color:"#f2a62e",textAlign:"center",position:[165,384]}},ma={en:"44px",ru:"40px"},ga=function(){var e=n((function*(e){var t=sa.lift({}),n=sa.pipe($a(e),Sa(e),ya)(t),a=yield sa.applyAsync(va)(n);if(sa.isFailure(a)){var r=sa.extractFailure(a);return console.error(r),null}return sa.extractSuccess(a)}));return function(t){return e.apply(this,arguments)}}(),va=function(e){return la.captureAsync({name:"ShareScore",width:952,height:492,renderOptions:e})},ya=function(e){return y(y({},e),{},{wideframe:pa.wideframe})},$a=function(e){return function(t){return y(y({},t),{},{avatar:y(y({},pa.avatar),{},{name:"".concat(e.playerId),image:e.playerPhoto})})}},Sa=function(e){return function(t){var n=pa.playerScore.font,a=Ea(),r=wa();return y(y({},t),{},{playerScore:y(y({},pa.playerScore),{},{text:"".concat(e.playerScore),font:"".concat(n," ").concat(r," ").concat(a,",")})})}},Ea=function(){var e=ua.getCurrentLocale(),t=S[e],n=Aa(t);return"".concat(n,"_LABEL")},wa=function(){var e,t=ua.getCurrentLocale();return null!==(e=ma[t])&&void 0!==e?e:"44px"},Aa=function(e){var t,n=e.split("/"),a=null!==(t=n[n.length-1])&&void 0!==t?t:"",r=a.lastIndexOf(".");return-1===r?a:a.substring(0,r)};P._RF.pop(),P._RF.push({},"407a0rBEoFPs6GoXuwQofW2","renderUpdateChallenge",void 0);var ba=Ludex.Utils.Error,Da="./wideframes",Ca="".concat(Da,"/update-challenge.png"),Ra="".concat(Da,"/images/avatar-fallback.png"),Ta={wideframe:{type:"image",name:"update-challenge",depth:0,image:Ca,size:[952,492],position:[0,0]},playerPhoto:{type:"image",depth:-1,size:[160,160],position:[50,140],fallbackImage:Ra},opponentPhoto:{type:"image",depth:-1,size:[160,160],position:[740,140],fallbackImage:Ra}},La=function(){var e=n((function*(e){var t=ba.lift({}),n=ba.pipe(_a(e),xa)(t),a=yield ba.applyAsync(Fa)(n);if(ba.isFailure(a)){var r=ba.extractFailure(a);return console.error(r),null}return ba.extractSuccess(a)}));return function(t){return e.apply(this,arguments)}}(),Fa=function(e){return codex.frameCapture.captureAsync({name:"UpdateChallenge",width:952,height:492,renderOptions:e})},xa=function(e){return y(y({},e),{},{wideframe:Ta.wideframe})},_a=function(e){return function(t){return y(y({},t),{},{playerPhoto:y(y({},Ta.playerPhoto),{},{image:e.playerPhoto,name:e.playerId}),opponentPhoto:y(y({},Ta.opponentPhoto),{},{image:e.opponentPhoto,name:e.opponentId})})}};P._RF.pop(),P._RF.push({},"5cf47s8lohMlZGIaMKBpDK0","FrameCapture",void 0);var Ia,Ma,Pa,Na=codex.frameCapture,ka=function(){function e(){r(this,e)}var a;return t(e,[{key:"init",value:(a=n((function*(){Na.setRenderer("share-score",Xn),Na.setRenderer("result-challenge",An),Na.setRenderer("update-challenge",La),Na.setRenderer("share-leaderboard",Pn),Na.setRenderer("share-score-with-invite",ga)})),function(){return a.apply(this,arguments)})}]),e}();P._RF.pop(),P._RF.push({},"2f36c+IsKJAU5s61TqQdaJ6","HybridFileCache",void 0);var Oa=Ludex,Ua=Oa.Events,Ga=Oa.Configs.GameEngine.HybridFileCache,za=Ga.Enabled,Ba=Ga.PreviewMode,Ha=Ga.BuildMode,Va=Oa.Utils,Ya=Va.Object,qa=Va.Function,ja=Va.Json,Qa=Va.Decorator,Ka=codex,Wa=Ka.event,Xa=Ka.storage,Za=Ka.getBuildVersion,Ja=G.instance,er=Ja.downloader,tr=Ja.pipeline,nr=Ja.fetchPipeline,ar=/.*\/([-a-z0-9@]+)\.([^\.]+)$/,rr=(Ia=Qa.throttle(1e3),Pa=e((Ma=function(){function e(){var t=this;r(this,e),this.supportTypes$=[],this.bundledFiles$={},this.originHandler$={},this.nativeAssetDictionary$={},this.initStorage$=n((function*(){return Xa.addStorage("HybridFileCache",{commitId:"unknown",buildVersion:"0",cachedFiles:{},cachedBundles:{},cachedExtensions:{}},!0)})),this.checkCacheVersion$=n((function*(){var e=Ha.InvalidateMode,n=window.CommitId,a=Za().toString(),r=Xa.getStorageData("HybridFileCache","commitId"),i=Xa.getStorageData("HybridFileCache","buildVersion");Xa.setStorageData("HybridFileCache","commitId",n),Xa.setStorageData("HybridFileCache","buildVersion",a);var o=r!==n,s=i!==a;switch(e){case"version":s&&(yield t.clearCache$());break;case"commitId":o&&(yield t.clearCache$());break;default:(s||o)&&(yield t.clearCache$())}t.requestUpdateStorage()})),this.initSupportedTypes$=function(){t.supportTypes$=Ha.SupportedExtensions},this.setupBundledFiles$=n((function*(){try{if(!E||!Ha.Enabled)return;var e,n=[],a=u(t.supportTypes$);try{for(a.s();!(e=a.n()).done;){var r=e.value;t.getCachedBundles$(r)||n.push(t.downloadBundledFile$(r))}}catch(e){a.e(e)}finally{a.f()}n.length>0&&(yield qa.allSettled(n))}finally{Wa.emit(Ua.BUNDLE_READY)}})),this.downloadBundledFile$=function(){var e=n((function*(e){try{var n=e.replace(".",""),a="./cache/bundle".concat(n.toUpperCase(),".").concat(n);"bundle"===e&&(a="./cache/bundleBUNDLE.json");var r=yield fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}}),i=yield r.json();t.setBundledCache$(e,i)}catch(t){console.error("Hybrid File Cache: Downloaded bundled file",{type:e,error:t})}}));return function(t){return e.apply(this,arguments)}}(),this.injectOptimalFetchPipeline$=function(){if(Ba.Enabled||Ha.Enabled){var e=nr.pipes[2];if(e){nr.remove(2),nr.insert((function(t,n){try{e(t,n)}catch(e){console.error("Hybrid File Cache: optimized fetch pipeline",{error:e})}}),2)}}},this.injectOptimalLoadPipeline$=function(){if(Ba.Enabled||Ha.Enabled){var e=tr.pipes[2];if(e){tr.remove(2),tr.insert((function(t,n){try{e(t,n)}catch(e){console.warn("Hybrid File Cache: optimized load pipeline",{error:e}),n(e)}}),2)}}},this.injectCacheExtensionPipeline$=function(){if(Ba.Enabled&&Ba.CacheUuidExtension){var e={},n=function(n,a){n.output=n.input;for(var r=0;r<n.input.length;r++){var i=n.input[r];if(i.id){var o=t.getCacheExtension$(i.id);o?(i.url=i.url.replace(i.ext,o),i.ext=o,e[i.id]=!0):e[i.id]=!1}}a(null,null)},a=function(n){return function(a,r){for(var i=v(a.input),o=0;o<i.length;o++){var s=i[o];if(s.id){var c,l=e[s.id];if(!Ya.hasOwn(t.nativeAssetDictionary$,s.id))t.nativeAssetDictionary$[s.id]=null!==(c=s.isNative)&&void 0!==c&&c;l&&(s.isNative=!0)}}a.input.length,n(a,r)}},r=function(n,a){n.output=n.input;for(var r=0;r<n.output.length;r++){var i,o=n.output[r];if(o.id){var s=null!==(i=t.nativeAssetDictionary$[o.id])&&void 0!==i&&i;o.isNative=s,e[o.id]||t.setCacheExtension$(o.id,o.ext)}}a(null,null)};tr.insert(n,1),nr.insert(n,1),tr.insert(r,3),nr.insert(r,3);var i=v(tr.pipes),o=v(nr.pipes),s=i[2];s&&(tr.pipes[2]=a(s));var c=o[2];c&&(nr.pipes[2]=a(c));var l=v(tr.pipes),u=v(nr.pipes);console.debug("Hybrid File Cache: inject cache extension pipelines",i,o,l,u)}},this.saveOriginDownloaders$=function(){var e,n=u(t.supportTypes$);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=er.handlers[a];r&&(t.originHandler$[a]=r)}}catch(e){n.e(e)}finally{n.f()}},this.registerCustomDownloader$=function(){var e,n=u(t.supportTypes$);try{for(n.s();!(e=n.n()).done;){var a=e.value;"bundle"!==a&&er.register(a,t.downloadFile$(a))}}catch(e){n.e(e)}finally{n.f()}},this.listenEvents$=function(){Wa.on(Ua.SCENE_LOADED,t.requestUpdateStorage),N.on(i.CLEAR_HYBRID_FILE_CACHE,t.clearCache$)},this.getDownloadHandler$=function(e){var n;return null!==(n=t.originHandler$[e])&&void 0!==n?n:null},this.downloadFile$=function(e){return function(n,a,r){var i=t.getCache$(e,n);if(i)return r(null,i);var o=t.getDownloadHandler$(e);if(!o)return r(new Error("Downloader not found"),null);o(n,a,(function(a,i){return!a&&t.setCache$(e,n,i),r(a,i)}))}},this.getCacheKey$=function(e,t){var n=t.match(ar);if(!n)return null;var a=f(n,3),r=(a[0],a[1]),i=a[2];return!i||e.indexOf(i)<0?null:"".concat(r,":").concat(e)},this.validateDataType$=function(e){Array.isArray(e)&&Ya.hasOwn(e[0],"__type__");return!0},this.setCache$=function(e,n,a){var r=t.getCacheKey$(e,n);if(r&&t.validateDataType$(a)){var i=ja.clone(a);Xa.setStorageData("HybridFileCache","cachedFiles",w({},r,null!=i?i:{})),t.requestUpdateStorage()}},this.getCache$=function(e,n){var a=t.getCacheKey$(e,n);if(!a)return null;var r=t.getFileCaches$()[a];return r||(r=t.getBundledCache$(e,a)),r?ja.clone(r):null},this.getFileCaches$=function(){var e;return null!==(e=Xa.getStorageData("HybridFileCache","cachedFiles"))&&void 0!==e?e:{}},this.getCachedBundles$=function(e){var n=Xa.getStorageData("HybridFileCache","cachedBundles");if(!n)return null;var a=n[e];return a?(t.bundledFiles$[e]=a,a):null},this.getBundledCache$=function(e,n){var a,r=t.bundledFiles$[e];return r&&null!==(a=r[n.replace(":".concat(e),"")])&&void 0!==a?a:null},this.setBundledCache$=function(e,n){t.bundledFiles$[e]=n,Xa.setStorageData("HybridFileCache","cachedBundles",w({},e,n)),t.requestUpdateStorage()},this.getCacheExtension$=function(e){return t.getCachedExtensions$()[e]},this.setCacheExtension$=function(e,n){Xa.setStorageData("HybridFileCache","cachedExtensions",w({},e,n)),t.requestUpdateStorage()},this.getCachedExtensions$=function(){var e;return null!==(e=Xa.getStorageData("HybridFileCache","cachedExtensions"))&&void 0!==e?e:{}},s(this,"requestUpdateStorage",Pa,this),this.clearCache$=function(){Xa.initStorageData("HybridFileCache","cachedFiles",{}),Xa.initStorageData("HybridFileCache","cachedBundles",{}),Xa.updateToWebStorage("HybridFileCache",!0)}}var a;return t(e,[{key:"init",value:(a=n((function*(){za&&(yield this.initStorage$(),yield this.checkCacheVersion$(),this.initSupportedTypes$(),this.injectOptimalLoadPipeline$(),this.injectOptimalFetchPipeline$(),this.injectCacheExtensionPipeline$(),this.saveOriginDownloaders$(),this.registerCustomDownloader$(),this.setupBundledFiles$(),this.listenEvents$(),console.debug("Hybrid File Cache: Initialized",{supportTypes:this.supportTypes$}))})),function(){return a.apply(this,arguments)})}]),e}()).prototype,"requestUpdateStorage",[Ia],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){Xa.updateToWebStorage("HybridFileCache",!1)}}}),Ma);P._RF.pop(),P._RF.push({},"14b76Yew19JgY7K+L9F5mmu","Languages",void 0);var ir=Ludex,or=ir.Events,sr=ir.Utils.Array,cr=codex,lr=cr.player,ur=cr.event,dr=cr.language,hr=cr.monitorError,fr=function(){function e(){var t=this;r(this,e),this.initDefaultLanguage$=n((function*(){dr.add("en",ge,!0),t.setLanguage$("en")})),this.initPlayerLanguage$=n((function*(){var e,n=dr.getPlayerLanguage();if(!n||!t.isSupportedLocale$(n))return console.warn("Language ".concat(n," not supported. Overriding with default language")),void t.setLanguage$("en",!0);yield t.addLanguage$(n);var a=null!==(e=lr.getPlayerDataByKey("isFirstLogin"))&&void 0!==e&&e;t.setLanguage$(n,a)})),this.isSupportedLocale$=function(e){return sr.has(A,e)},this.listenEvent$=function(){ur.on(or.REQUEST_LANGUAGE,t.handleLanguageRequested$),N.on(or.REQUEST_LANGUAGE,t.handleLanguageRequested$),N.on(i.PRELOAD_LANGUAGE,t.handlePreloadLanguage$),N.on(i.CHOOSE_LANGUAGE,t.handleChooseLanguage$)},this.addLanguage$=function(){var e=n((function*(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=yield t.getLangData$(e);dr.add(e,a,n)}));return function(t){return e.apply(this,arguments)}}(),this.setLanguage$=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];dr.choose(e),t&&lr.setSetting("language",e)},this.handlePreloadLanguage$=function(){var e=n((function*(e){var n=e.locale,a=e.onLoad,r=e.onError;if(!t.isSupportedLocale$(n))return console.warn("Preload language ".concat(n," not found")),void(null==r||r(new Error("Language ".concat(n," not found"))));try{yield t.addLanguage$(n),null==a||a(n)}catch(e){var i=t.toError$(e,"handleLanguageRequested");console.error(i),null==hr||hr.sendException(i),null==r||r(e)}}));return function(t){return e.apply(this,arguments)}}(),this.handleChooseLanguage$=function(e){var n=e.locale,a=e.saveToPlayerData,r=void 0!==a&&a;if(t.isSupportedLocale$(n))try{t.setLanguage$(n,r)}catch(e){var i=t.toError$(e,"handleLanguageRequested");console.error(i),null==hr||hr.sendException(i)}else console.warn("Choose language ".concat(n," not found"))},this.getLangData$=function(){var e=n((function*(e){if("en"===e)return ge;var t=yield b.loadJsonAsync(D[e]);if(null===t)throw new Error("Language ".concat(e," not found"));if(null===t.json)throw new Error("Language ".concat(e," is empty"));return t.json}));return function(t){return e.apply(this,arguments)}}(),this.handleLanguageRequested$=function(){var e=n((function*(e){var n=e.locale,a=e.saveToPlayerData,r=void 0!==a&&a,i=e.onLoad,o=e.onError;if(!t.isSupportedLocale$(n))return console.warn("Request language ".concat(n," not found")),void(null==o||o(new Error("Language ".concat(n," not found"))));try{yield t.addLanguage$(n),null==i||i(n),t.setLanguage$(n,r)}catch(e){var s=t.toError$(e,"handleLanguageRequested");console.error(s),null==hr||hr.sendException(s),null==o||o(s)}}));return function(t){return e.apply(this,arguments)}}(),this.toError$=function(e,t){return e instanceof Error?e:"string"==typeof e?new Error("LanguagePlugin: ".concat(e)):new Error("LanguagePlugin: Unknown error in module: <".concat(t,">"))}}var a;return t(e,[{key:"init",value:(a=n((function*(){try{yield this.initDefaultLanguage$(),this.listenEvent$(),yield this.initPlayerLanguage$()}catch(t){var e=this.toError$(t,"handleLanguageRequested");console.error(e),null==hr||hr.sendException(e)}})),function(){return a.apply(this,arguments)})}]),e}();P._RF.pop(),P._RF.push({},"fb33bK/6Y5FAas5AwmmBM/X","Leaderboards",void 0);var pr=Ludex,mr=pr.Configs,gr=mr.Mockup,vr=gr.Leaderboards,yr=gr.GameSDK.Player,$r=mr.Leaderboards,Sr=pr.Utils.Number,Er=codex.leaderboard,wr=function(){function e(){var t=this;r(this,e),this.handleWhenGameSDKStarted$=function(){vr.Enabled?t.setupLeaderboardsMockup$():t.setupLeaderboards$()},this.setupLeaderboards$=n((function*(){t.setupLeaderboardByConfigs$()})),this.setupLeaderboardByConfigs$=function(){var e,t=$r.LeaderboardList,n=u(t);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=a.Id,i=a.Name;Er.addLeaderboard({name:i,type:"global",autoSortRank:!0,leaderboardId:r})}}catch(e){n.e(e)}finally{n.f()}},this.setupLeaderboardsMockup$=n((function*(){t.setupMockGlobalLeaderboards$(),t.setupMockFriendsLeaderboard$(),t.setupMockGlobalTournamentLeaderboard$()})),this.setupMockGlobalLeaderboards$=n((function*(){var e,t=vr.NumOfLeaders,n=$r.LeaderboardList,a=u(n);try{for(a.s();!(e=a.n()).done;){var r=e.value,i=r.Name,o=r.Id;if(i){var s=yield Er.createLeaderboardAsync({_id:o,name:i,numberOfLeaders:Sr.random(t.Max-t.Min)+t.Min});Er.addLeaderboard({name:i,type:"global",autoSortRank:!0,leaderboardId:s})}}}catch(e){a.e(e)}finally{a.f()}})),this.setupMockFriendsLeaderboard$=n((function*(){var e="Mock Friends Leaderboard",t=0,n=yr.ConnectedPlayers;n.Enabled&&(t=Sr.random(n.NumOfPlayers-1)+1);var a=yield Er.createLeaderboardAsync({_id:"friends-leaderboard-id",name:e,numberOfLeaders:t});Er.addLeaderboard({name:e,type:"friends",autoSortRank:!0,leaderboardId:a})})),this.setupMockGlobalTournamentLeaderboard$=n((function*(){(yield C.requestTournamentDataAsync()).forEach((function(e){var t=e.payload.leaderboardId;t&&(Er.isExistLeaderboardId(t)||Er.addLeaderboard({type:"tournament",name:t,autoSortRank:!0,leaderboardId:t}))}))}))}return t(e,[{key:"init",value:function(){this.handleWhenGameSDKStarted$()}}]),e}();P._RF.pop(),P._RF.push({},"e7bf73g4jJGuI9FqvW5YBsS","PerformanceMonitor",void 0);var Ar=Ludex,br=Ar.Utils.Mark,Dr=Ar.Events,Cr=Ar.Configs.PerformanceMonitor.FpsTracking,Rr=codex.event,Tr=function(){function e(){var t=this;r(this,e),this.markName$="FPS Tracking",this.listenEvents$=function(){Rr.catchUp(Dr.GAME_READY,t.handleStartTraceFps$)},this.unListenEvents$=function(){q.off(X.EVENT_AFTER_UPDATE,t.handleLateUpdate$)},this.handleStartTraceFps$=function(){t.startTraceFps$(),q.on(X.EVENT_AFTER_UPDATE,t.handleLateUpdate$)},this.startTraceFps$=function(){t.mark&&(t.mark.measure(t.markName$),t.mark.start(t.markName$))},this.handleLateUpdate$=function(){if(t.mark){if(t.fpsTraceDuration$-=N.deltaTime,t.fpsTraceDuration$<=0&&!t.traceStopped$)return t.traceStopped$=!0,t.unListenEvents$(),t.updateFPS$(),void t.mark.stop(t.markName$);t.fpsTraceIntervalTimer$-=N.deltaTime,t.fpsTraceIntervalTimer$>0||(t.fpsTraceIntervalTimer$=t.fpsTraceInterval$,t.updateFPS$(),t.mark.stop(t.markName$),t.startTraceFps$())}},this.updateFPS$=function(){var e,n;if(t.mark){var a=t.getFPS$(),r=t.getDrawCalls$(),i=t.getDeviceRender$(),o=t.getTextureMemory$();t.minFps$=Math.min(null!==(e=t.minFps$)&&void 0!==e?e:a,a),t.maxFps$=Math.max(null!==(n=t.maxFps$)&&void 0!==n?n:0,a),t.mark.putMetric(t.markName$,"FPS Metric",a),t.mark.putAttr(t.markName$,"Page Title",document.title),t.mark.putAttr(t.markName$,"Device Render",i),t.mark.putAttr(t.markName$,"Draw Calls",r.toString()),t.mark.putAttr(t.markName$,"Texture Memory",o.toFixed(2)),t.mark.putAttr(t.markName$,"Min FPS",t.minFps$.toString()),t.mark.putAttr(t.markName$,"Max FPS",t.maxFps$.toString()),console.debug("FPS: ".concat(a," Min: ").concat(t.minFps$," Max: ").concat(t.maxFps$,", draw calls: ").concat(r,", texture memory: ").concat(o.toFixed(2),"MB"))}},this.getFPS$=function(){if(!q.root)return 0;var e=q.root.fps;return Math.floor(e)||0},this.getDrawCalls$=function(){return q.root&&q.root.device.numDrawCalls||0},this.getDeviceRender$=function(){return q.root&&q.root.device.renderer||"Unknown"},this.getTextureMemory$=function(){return q.root&&q.root.device.memoryStatus.textureSize/1048576||0}}return t(e,[{key:"mark",get:function(){return Cr.Enabled?br:null}},{key:"init",value:function(){var e=Cr.TrackingDuration,t=Cr.TrackingInterval;this.mark&&(this.fpsTraceDuration$=null!=e?e:60,this.fpsTraceInterval$=null!=t?t:10,this.fpsTraceIntervalTimer$=this.fpsTraceInterval$,this.traceStopped$=!1,this.listenEvents$())}}]),e}();P._RF.pop(),P._RF.push({},"58248LBip1DBrMjK0UWw2rM","RemoteConfig",void 0);var Lr=Ludex.Events,Fr=codex.event,xr=function(){function e(){var t=this;r(this,e),this.listenEvents$=function(){Fr.on(Lr.REQUEST_HOT_RELOAD,t.handleHotReload$),Fr.on(Lr.REQUEST_UPDATE_CONFIG,t.handleUpdateConfig$)},this.handleHotReload$=function(){N.restart()},this.handleUpdateConfig$=function(e){if("Gameplay"===e.type){N.emit(i.GAMEPLAY_UPDATE_CONFIG,e.config);var t=e.id,n=e.type;Fr.emit(Lr.REMOTE_CONFIG_UPDATED,{id:t,type:n})}}}return t(e,[{key:"init",value:function(){this.listenEvents$()}}]),e}();P._RF.pop(),P._RF.push({},"c34a93D1BREiKms1T21AkQS","PluginsManager",void 0);var _r=Ludex.Configs,Ir=_r.Languages,Mr=_r.Leaderboards,Pr=_r.RemoteConfig,Nr=_r.FrameCapture,kr=_r.DailyRewards,Or=_r.AdaptivePerformance,Ur=_r.Debugger,Gr=Ur.CanvasRecorder,zr=Ur.Profiler,Br=_r.GameEngine,Hr=Br.HybridFileCache,Vr=Br.DynamicAssets,Yr=Br.DynamicAtlas,qr=function(){function e(){r(this,e),this.initHybridFileCache$=function(){Hr.Enabled&&(new rr).init()}}return t(e,[{key:"init",value:function(){this.initHybridFileCache$(),console.debug("Plugins Manager: Initialized")}},{key:"initLanguages",value:function(){Ir.Enabled&&(new fr).init()}},{key:"initLeaderboards",value:function(){Mr.Enabled&&(new wr).init()}},{key:"initRemoteConfig",value:function(){Pr.Enabled&&(new xr).init()}},{key:"initDynamicAtlas",value:function(){Yr.OptimizeAtlas.Enabled&&(V.instance.enabled&&(new mn).init())}},{key:"initDynamicAssets",value:function(){Vr.Enabled&&(new Kt).init()}},{key:"initCanvasRecorder",value:function(){Gr.Enabled&&(new bt).init()}},{key:"initPerformanceMonitor",value:function(){zr.Enabled&&(new Tr).init()}},{key:"initAdaptivePerformance",value:function(){Or.Enabled&&(new wt).init()}},{key:"initFrameCapture",value:function(){Nr.Enabled&&(new ka).init()}},{key:"initDailyRewards",value:function(){kr.Enabled&&(new Lt).init()}}]),e}();P._RF.pop(),P._RF.push({},"ac8b03T+rFB061sXoEEsCUH","SceneManager",void 0);var jr=codex,Qr=jr.event,Kr=jr.monitorError,Wr=Ludex,Xr=Wr.Events,Zr=Wr.Configs.PerformanceMonitor,Jr=Wr.Utils,ei=Jr.Mark,ti=Jr.Function,ni=GameSDK,ai=function(){function e(){var t=this;r(this,e),this.markName$="Load Scene",this.testScene$={},this.isClearedMark$=!1,this.callbackSwitchScene$=null,this.mutex$=ti.mutex(),this.listenEvents$=function(){Qr.catchUp(Xr.MARK_IS_TEST_SCENE,t.setTestScene$),Qr.on(Xr.SWITCH_SCENE,t.switchScene$),Qr.on(Xr.PRELOAD_SCENE,t.preloadScene$)},this.correctSceneName$=function(e){var n=q.getScene(),a=t.getTestScene$();return a?a===(null==n?void 0:n.name)?null:a:null!=n&&n.isValid&&e===n.name?null:e},this.switchScene$=function(){var e=n((function*(e){var n=e.sceneName,a=e.sceneData,r=t.correctSceneName$(n);console.debug("Switching",r,null!=a?a:{}),r&&(L.isSceneLoaded(r)||R.showLoadingFullScreen(r),t.startScene$(y(y({},e),{},{sceneName:r})))}));return function(t){return e.apply(this,arguments)}}(),this.startScene$=function(){var e=n((function*(e){var n=e.sceneName,a=e.sceneData,r=yield t.mutex$.use(n);try{t.startMeasure$("start",e);var i=yield t.loadSceneAsync$(n,t.onSceneProgress$),o=yield t.runSceneAsync$(i);t.setSceneData$(o,null!=a?a:{}),L.markIsSceneLoaded(n),Qr.emit(Xr.SCENE_LOADED,{sceneName:n}),t.clearTestMark$(),t.stopMeasure$(),t.handleSceneLaunched$(n,a)}catch(e){var s=ti.toError(e);console.warn("SceneManager.startScene",s),t.stopMeasure$(!1)}finally{r.release()}}));return function(t){return e.apply(this,arguments)}}(),this.preloadScene$=function(){var e=n((function*(e){var n=e.sceneName,a=yield t.mutex$.use(n);try{t.startMeasure$("preload",e),yield t.loadSceneAsync$(n,t.onSceneProgress$),L.markIsSceneLoaded(n),Qr.emit(Xr.SCENE_LOADED,{sceneName:n,isPreload:!0}),t.stopMeasure$(),a.release()}catch(e){var r=ti.toError(e);console.warn("SceneManager.preloadScene",r),t.stopMeasure$(!1),a.release()}}));return function(t){return e.apply(this,arguments)}}(),this.loadSceneAsync$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(n,a){var r=ne.main;r?r.loadScene(e,null!=t?t:null,(function(e,t){e?a(e):n(t)})):a(new Error("Main bundle not found"))}))},this.runSceneAsync$=function(e){return new Promise((function(t,n){q.runScene(e,void 0,(function(e,a){if(e)return n(e);if(!a)throw new Error("Scene not found");t(a)}))}))},this.startMeasure$=function(e,n){if(t.mark){var a=n.sceneName;console.groupCollapsed("üì¶ ".concat(a,": ").concat(e," progress")),t.mark.measure(t.markName$),t.mark.putAttr(t.markName$,"Cancel","false"),t.mark.putAttr(t.markName$,"Success","false"),t.mark.putMetric(t.markName$,a),t.mark.start(t.markName$)}},this.stopMeasure$=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.mark&&(t.mark.rmAttr(t.markName$,"File"),t.mark.putAttr(t.markName$,"Success",e?"true":"false"),t.mark.stop(t.markName$),console.groupEnd())},this.onSceneProgress$=function(e,n,a){var r=e/n;t.mark&&t.mark.putAttr(t.markName$,"Last File","".concat(a.id," (").concat(a.ext,")"));var i=Math.floor(70*r+30);ni.setLoadingProgress(i)},this.clearTestMark$=function(){t.isClearedMark$||(Qr.clear(Xr.MARK_IS_TEST_SCENE),t.isClearedMark$=!0)},this.handleSceneLaunched$=function(e,n){var a;R.hideLoadingFullScreen(e),T.switchSceneTracking(),null==Kr||Kr.addMetadata({currentScene:e}),null===(a=t.callbackSwitchScene$)||void 0===a||a.call(t,{sceneName:e,sceneData:n}),Qr.emit(Xr.SCENE_LAUNCHED,{sceneName:e}),q.once(X.EVENT_AFTER_RENDER,(function(){Qr.emit(Xr.SCENE_RENDERED,{sceneName:e})}))},this.getTestScene$=function(){var e;return null!==(e=Object.keys(t.testScene$)[0])&&void 0!==e?e:null},this.setTestScene$=function(e){var n=e.sceneName;console.warn("SceneManager.setTestScene",n),t.testScene$[n]=!0},this.onSwitchScene=function(e){t.callbackSwitchScene$=e},this.setSceneData$=function(e,t){if(t&&("data"in e||e.scene.attr({data:{}}),"data"in e)){var n=e.data||{};e.scene.attr({data:y(y({},n),t)}),console.debug("SceneManager.setSceneData",{sceneName:e.name,sceneData:t,currentData:n})}}}return t(e,[{key:"init",value:function(){this.listenEvents$(),console.debug("Scene Manager: Initialized")}},{key:"mark",get:function(){return Zr.LoadResources?ei:null}}]),e}();P._RF.pop(),P._RF.push({},"617b2SRAL5CyL75C998xBnx","ScreenManager",void 0);var ri=Ludex,ii=ri.Events,oi=ri.Utils,si=oi.Object,ci=oi.Valid,li=oi.Time,ui=codex,di=ui.event,hi=ui.monitorError;function fi(e){return"ready"===e.state?(e.screen.node.removeFromParent(),e.screen.node.destroy(),{state:"prefab",order:e.order,name:e.name,prefab:e.prefab,useCount:e.useCount}):"prefab"===e.state?y({},e):{state:"queued",order:e.order,name:e.name}}var pi=function(){function e(){var t=this;r(this,e),this.screens$={},this.onPrefabReadyCallbacks$={},this.bindEventHandlers$=function(){di.on(ii.OPEN_SCREEN,t.handleOpenScreen$),di.on(ii.CLOSE_SCREEN,t.handleCloseScreen$),di.on(ii.PRELOAD_SCREEN,t.handlePreloadScreen$),di.on(ii.PRELOAD_SCREENS,t.handlePreloadScreens$),di.on(ii.SWITCH_SCENE,t.handleSwitchScene$)},this.handleOpenScreen$=function(e){t.openScreen(e.screenName,e.screenData)},this.handleCloseScreen$=function(e){t.closeScreen(e.screenName,!0)},this.handlePreloadScreen$=function(e){var n=e.screenName;t.addScreenQueues$([n]);var a=t.screens$[n];"queued"===(null==a?void 0:a.state)&&t.loadScreen$(a)},this.handlePreloadScreens$=function(){var e=q.getScene();t.validateScene$(e)&&(t.initScreens$(e),t.preloadScreens$())},this.handleSwitchScene$=function(){t.resetAllScreenParents$(),t.onPrefabReadyCallbacks$={}},this.resetAllScreenParents$=function(){for(var e in t.screens$){var n=t.screens$[e];void 0!==n&&(t.screens$[e]=fi(n))}},this.validateScene$=function(e){return!!e||(console.warn("No scene found for preloading screens"),!1)},this.initScreens$=function(e){var n=t.getScreenHolder$();if(null!=n&&n.enabled){var a,r=n.screens,i=u(r);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=F[o.key];if(s){var c=t.screens$[s];t.screens$[s]=c?y(y({},c),{},{order:o.depth}):{state:"queued",order:o.depth,name:s}}}}catch(e){i.e(e)}finally{i.f()}var l=e.getComponentsInChildren("BaseScreen");if(!ci.isEmpty(l)){var d=l.map((function(e){return null==e?void 0:e.node.name})).join(", ");console.info("üì∫ Active Screens in ".concat(e.name,": ").concat(d)),t.addScreens$(l)}}},this.getScreenHolder$=function(){var e,t=q.getScene();return null!==(e=null==t?void 0:t.getComponentInChildren("Screens"))&&void 0!==e?e:null},this.addScreens$=function(e){for(var n=0;n<e.length;n++){var a,r=e[n];if(r){var i=r.node.name;if(t.isScreenNameValid$(i)){var o=t.screens$[i],s=null!==(a=null==o?void 0:o.order)&&void 0!==a?a:0;t.screens$[i]={state:"ready",order:s,screen:r,prefab:r.node,name:i,useCount:0}}else console.warn("ScreenManager.addScreens: Invalid screen name ".concat(i))}else console.warn("ScreenManager.addScreens: Invalid screen ".concat(n))}t.reorderScreens$()},this.isScreenNameValid$=function(e){return ci.isString(e)&&si.vals(F).includes(e)},this.addScreenQueues$=function(e){var n=t.getScreenHolder$();if(null!=n&&n.isValid){var a,r=u(e);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(t.isScreenNameValid$(i))void 0===t.screens$[i]&&(t.screens$[i]={state:"queued",order:0,name:i});else console.warn("ScreenManager.addScreenQueues: Invalid screen name ".concat(i))}}catch(e){r.e(e)}finally{r.f()}}else console.warn("ScreenManager.addScreenQueues: No valid screen holder found")},this.loadScreen$=function(){var e=n((function*(e){try{t.screens$[e.name]=y(y({},e),{},{state:"loading"});var n=yield b.loadPrefabAsync("screens/".concat(e.name));if(null===n)throw new Error("ScreenManager.loadScreen: Failed to load prefab: ".concat(e.name));t.screens$[e.name]=y(y({},e),{},{state:"prefab",prefab:n,useCount:0}),console.debug("ScreenManager.loadScreen: ".concat(e.name," loaded successfully")),t.emitPrefabReady$(e.name)}catch(n){console.warn("ScreenManager.loadScreen: Failed to load ".concat(e.name),n),t.screens$[e.name]={state:"queued",order:e.order,name:e.name}}}));return function(t){return e.apply(this,arguments)}}(),this.preloadScreens$=function(){var e=t.getScreenHolder$();if(null!=e&&e.isValid&&null!=e&&e.autoPreload){var n,a=Object.values(t.screens$).sort((function(e,t){return e.order-t.order})),r=u(a);try{for(r.s();!(n=r.n()).done;){var i=n.value;"queued"===i.state&&t.loadScreen$(i)}}catch(e){r.e(e)}finally{r.f()}}},this.getScreen$=function(){var e=n((function*(e){var n=t.getScreenHolder$();if(null==n||!n.isValid)throw new Error("ScreenManager.getScreen: Invalid screen holder");if("ready"===e.state)return e.screen;if(!(e.prefab instanceof oe))throw new Error("ScreenManager.getScreen: Invalid prefab ".concat(e.name));var a=se(e.prefab);a.name=e.name;var r=a.getComponent("BaseScreen");if(!r)throw new Error("ScreenManager.getScreen: Invalid screen ".concat(e.name));return n.node.addChild(a),a.active=!1,t.screens$[e.name]=y(y({},e),{},{state:"ready",screen:r}),t.reorderScreens$(),console.debug("ScreenManager.getScreen: Retrieved ".concat(e.name),e),r}));return function(t){return e.apply(this,arguments)}}(),this.reorderScreens$=function(){var e=[];for(var n in t.screens$){var a=t.screens$[n];"ready"===(null==a?void 0:a.state)&&null!=a&&a.screen.isValid&&e.push(a)}e.sort((function(e,t){return e.order-t.order}));for(var r=0;r<e.length;r++){var i,o=e[r];null!=o&&null!==(i=o.screen)&&void 0!==i&&i.isValid&&o.screen.node.setSiblingIndex(r)}},this.openScreen=function(){var e=n((function*(e,n){if(t.isScreenNameValid$(e)){var a=t.getOrTryAddScreen$(e);if(void 0!==a){if("ready"!==a.state&&"prefab"!==a.state)return"queued"===a.state&&t.loadScreen$(a),yield t.queueScreen$(e,n);try{x.setBlockInput(!0);var r=yield t.getScreen$(a);if(null==r||!r.isValid)throw new Error("ScreenManager.performScreenOpen: Invalid screen ".concat(e));t.incrementUseCount$(e),yield t.showScreen$(r,e,n)}catch(t){console.error("ScreenManager.openScreen: Error opening ".concat(e),t)}finally{x.setBlockInput(!1)}}else console.warn("ScreenManager.openScreen: Screen ".concat(e," not found"))}}));return function(t,n){return e.apply(this,arguments)}}(),this.queueScreen$=function(e,a){var r;console.debug("ScreenManager.queueScreen: Queuing ".concat(e));var i=null!==(r=t.onPrefabReadyCallbacks$[e])&&void 0!==r?r:[];return new Promise((function(r){var o=function(){var i=n((function*(){yield t.openScreen(e,a),r()}));return function(){return i.apply(this,arguments)}}();t.onPrefabReadyCallbacks$[e]=[].concat(v(i),[o])}))},this.incrementUseCount$=function(e){var n=t.screens$[e];"ready"!==(null==n?void 0:n.state)&&"prefab"!==(null==n?void 0:n.state)||(t.screens$[e]=y(y({},n),{},{useCount:n.useCount+1}))},this.showScreen$=function(){var e=n((function*(e,n,a){var r={screenName:n,screenData:a};di.emit(ii.OPENING_SCREEN,r),yield li.sleepAsync(0),e.node.active=!0,e.open(a),t.updateAnalytics$(n),t.reorderScreens$()}));return function(t,n,a){return e.apply(this,arguments)}}(),this.closeScreen=function(){var e=n((function*(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.isScreenNameValid$(e)){var a=t.screens$[e];if(void 0!==a){if("ready"!==a.state)return console.debug("ScreenManager.closeScreen: ".concat(e," is not ready")),void delete t.onPrefabReadyCallbacks$[e];try{if(!a.screen.isValid||!a.screen.node.active)return;di.emit(ii.CLOSING_SCREEN,{screenName:e}),a.screen.close(),n&&t.updateAnalytics$(e,!1)}catch(t){console.error("ScreenManager.closeScreen: Error closing ".concat(e),t)}}else console.debug("ScreenManager.closeScreen: Screen ".concat(e," not found"))}}));return function(t){return e.apply(this,arguments)}}(),this.updateAnalytics$=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T.trackCurrentPage(e,t),t?null==hi||hi.addMetadata({currentScreen:e}):null==hi||hi.removeMetadata("currentScreen")},this.closeAllScreens=function(){for(var e in t.screens$)t.closeScreen(e,false)},this.getOrTryAddScreen$=function(e){var n=t.screens$[e];return void 0===n?(console.debug("ScreenManager.getOrTryAddScreen: Adding new screen (".concat(e,") to queue")),t.addScreenQueues$([e]),t.screens$[e]):n},this.emitPrefabReady$=function(e){var n,a,r=null!==(n=t.onPrefabReadyCallbacks$[e])&&void 0!==n?n:[],i=u(r);try{for(i.s();!(a=i.n()).done;){(0,a.value)()}}catch(e){i.e(e)}finally{i.f()}delete t.onPrefabReadyCallbacks$[e]}}return t(e,[{key:"init",value:function(){this.bindEventHandlers$(),console.debug("Screen Manager: Initialized")}}]),e}();P._RF.pop(),P._RF.push({},"9d892ZsSyxHSITF2VHJ1zpy","LudosSystem",void 0);var mi,gi=Ludex,vi=gi.Configs,yi=vi.Core,$i=vi.Ads,Si=vi.Match,Ei=vi.Player,wi=vi.GameEngine.HybridFileCache,Ai=gi.Events,bi=gi.Plugins.Analytics,Di=(void 0===bi?{}:bi).Events,Ci=gi.Utils,Ri=Ci.Device,Ti=Ci.Time,Li=codex,Fi=Li.context,xi=Li.event,_i=Li.analytics,Ii=Li.monitorError;new(t((function e(){var t=this;r(this,e),this.adsManager$=null,this.matchManager$=null,this.playerManager$=null,this.logEngineReady$=function(){xi.catchUp(Ai.ANALYTICS_READY,(function(){Di&&_i.event(Di.ENGINE_READY)}))},this.createManager$=function(){t.sceneManager$=new ai,t.screenManager$=new pi,t.engineManager$=new Ge,t.layoutManager$=new Je,t.pluginsManager$=new qr,$i.Enabled&&(t.adsManager$=new Re),Si.Enabled&&(t.matchManager$=new lt),Ei.Enabled&&(t.playerManager$=new $t)},this.initManagers$=function(){var e,n,a;t.sceneManager$.init(),t.screenManager$.init(),t.engineManager$.init(),t.layoutManager$.init(),t.pluginsManager$.init(),null===(e=t.adsManager$)||void 0===e||e.init(),null===(n=t.matchManager$)||void 0===n||n.init(),null===(a=t.playerManager$)||void 0===a||a.init()},this.listenEvents$=function(){xi.catchUp(Ai.CORE_BOOTING,t.handleWhenCoreBoot$),xi.catchUp(Ai.CORE_STARTING,t.handleWhenCoreStart$),xi.catchUp(Ai.CORE_READY,t.handleWhenCoreReady$),o.listenLayoutChanges(),t.sceneManager$.onSwitchScene(t.handleSwitchScene$)},this.handleWhenCoreBoot$=function(){console.warn("Ludos System: Core boot",{inited:N.inited,game:N}),N.inited?t.handleCocosInit$():N.once(ce.EVENT_GAME_INITED,t.handleCocosInit$)},this.handleCocosInit$=function(){xi.emit(Ai.REQUEST_CORE_START)},this.handleWhenCoreStart$=function(){var e,n;null===(e=t.playerManager$)||void 0===e||e.setupDefaultGameData(),null===(n=t.matchManager$)||void 0===n||n.setupDefaultMatchData()},this.handleWhenCoreReady$=function(){var e;wi.Enabled||xi.emit(Ai.BUNDLE_READY),t.initPlugins$(),null===(e=t.playerManager$)||void 0===e||e.syncPlatformPlayerData(),Di&&_i.event(Di.LOAD_START),xi.catchUp(Ai.BUNDLE_READY,t.processPreStartGame$)},this.processPreStartGame$=function(){xi.catchUp(Ai.SCENE_LOADED,t.preloadScenes$),xi.catchUp(Ai.SCENE_LAUNCHED,t.processBootSceneLaunched$),t.runBootScene$()},this.processBootSceneLaunched$=n((function*(){yi.StartSDKAfterLoadGame&&(yield xi.waitTo(Ai.SCENE_LOADED)),yield GameSDK.extra.waitSDKInitiatedAsync(),console.debug("Game paused",N.isPaused()),N.isPaused()&&(yield t.waitGameResume$()),t.processStartGame$()})),this.waitGameResume$=n((function*(){return new Promise((function(e){N.once(ce.EVENT_RESUME,e)}))})),this.runBootScene$=function(){GameSDK.isGameSDK("Playable")?L.switchScene(_.PLAYABLE_SCENE):L.switchScene(_.BOOT_SCENE)},this.preloadScenes$=function(){GameSDK.isGameSDK("Playable")||("solo"===Fi.getSessionContextType()?L.preloadDashboardScene():L.preloadGameScene())},this.processStartGame$=n((function*(){console.groupEnd(),Di&&_i.event(Di.LOAD_COMPLETE),xi.catchUp(Ai.PLAYER_INFO_LOADED,t.startProcessContextData$),yield xi.waitTo(Ai.SCENE_RENDERED,1e3).catch((function(){})),yield Ti.sleepAsync(100),yield t.startGameAsync$()})),this.handleSwitchScene$=function(){R.preloadScreens(),console.groupEnd()},this.startGameAsync$=n((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{yield GameSDK.startGameAsync()}catch(n){console.warn("GameSDK.startGameAsync",n),e<=3?setTimeout((function(){t.startGameAsync$(e+1)}),1e3):null==Ii||Ii.sendException(n instanceof Error?n:new Error(JSON.stringify(n)))}})),this.startProcessContextData$=n((function*(){Di&&_i.event(Di.APP_READY);try{var e;null===(e=t.playerManager$)||void 0===e||e.requestConnectedPlayers(),yield Fi.processContextData()}catch(e){console.error("startProcessContextData",e),e instanceof Error&&(null==Ii||Ii.sendException(e))}finally{xi.emit(Ai.GAME_READY),t.trackDeviceInfo$("begin"),window.addEventListener("beforeunload",(function(){t.trackDeviceInfo$("end")}))}})),this.initPlugins$=function(){t.pluginsManager$.initLanguages(),t.pluginsManager$.initFrameCapture(),t.pluginsManager$.initDailyRewards(),t.pluginsManager$.initLeaderboards(),t.pluginsManager$.initDynamicAtlas(),t.pluginsManager$.initDynamicAssets(),t.pluginsManager$.initCanvasRecorder(),t.pluginsManager$.initPerformanceMonitor(),t.pluginsManager$.initAdaptivePerformance()},this.getDeviceInfo$=function(e){try{var t=Ri.isES5(),n=Ri.heapMemory(),a=Ri.pixelRatio(),r=Ri.audioState(),i=Ri.orientation(),o=Ri.gpuRenderer(),s=Ri.isSupportWebp();return{log_type:e,is_es5:t,pixel_ratio:a,sdk_platform:GameSDK.getPlatform(),screen_orientation:i,audio_state:r,heap_memory:n,support_webp:s,gpu_renderer:o,webgl_version:Ri.webglVersion(),max_texture_size:Ri.maxTextureSize(),hardware_concurrency:Ri.hardwareConcurrency()}}catch(e){return console.warn("Error getting device info",e),null}},this.trackDeviceInfo$=function(e){var n=t.getDeviceInfo$(e);n&&T.trackDeviceInfo(n)},console.groupCollapsed("üì¶ Ludos System"),this.logEngineReady$(),this.createManager$(),this.initManagers$(),this.listenEvents$(),console.groupEnd(),window.__sdkLoad.ensure(10)}))),P._RF.pop(),P._RF.push({},"c7df3pBHqRChZTjXMfWIy6H","Optimized2DPipeline",void 0);var Mi=le.ccclass,Pi=le.executeInEditMode,Ni="Optimized2DPipeline",ki="default",Oi=ue.SceneFlags.UI|ue.SceneFlags.BLEND|ue.SceneFlags.OPAQUE|ue.SceneFlags.DRAW_INSTANCING,Ui=function(){function e(){var t=this;r(this,e),this.clearColor$=new de.Color(0,0,0,1),this.viewport$=new de.Viewport,this.lightInfo$=new ue.LightInfo,this.isValidCamera$=function(e){return!(null==e||!e.scene||null==e||!e.window)},this.getOrGenerateWindowID$=function(e){var t=e.window,n=t._pipelineInfo;if(!n){var a=P.user,r=(a.windowID||0)+1;a.windowID=r,n={id:r},t._pipelineInfo=n}return n.id},this.syncViewport$=function(e,n,a){var r=e.viewport;t.viewport$.left=r.x*n,t.viewport$.top=r.y*a,t.viewport$.width=r.z*n,t.viewport$.height=r.w*a},this.syncClearColor$=function(e){var n=e.clearColor;t.clearColor$.x=n.x,t.clearColor$.y=n.y,t.clearColor$.z=n.z,t.clearColor$.w=n.w}}return t(e,[{key:"setup",value:function(e,t){for(var n=0;n<e.length;n++){var a=e[n];if(this.isValidCamera$(a)){var r=a.window,i=Math.max(Math.floor(r.width),1),o=Math.max(Math.floor(r.height),1),s=this.getOrGenerateWindowID$(a),c="Color".concat(s);t.addRenderWindow(c,de.Format.RGBA8,i,o,r),this.syncViewport$(a,i,o),this.syncClearColor$(a);var l=t.addRenderPass(i,o,ki);l.setViewport(this.viewport$);var u=a.clearFlag&de.ClearFlagBit.COLOR?de.LoadOp.CLEAR:de.LoadOp.LOAD;l.addRenderTarget(c,u,de.StoreOp.STORE,this.clearColor$),l.addQueue(ue.QueueHint.BLEND,ki).addSceneOfCamera(a,this.lightInfo$,Oi)}}}}]),e}();if(ue){var Gi=new Ui;ue.setCustomPipeline(Ni,Gi),console.info("[".concat(Ni,"] Registered successfully."))}Mi("Optimized2DPipeline")(mi=Pi(mi=function(e){I(a,e);var n=M(a);function a(){return r(this,a),n.apply(this,arguments)}return t(a,[{key:"start",value:function(){}}]),a}(he))||mi);P._RF.pop(),P._RF.push({},"826b3i39nhICrG3S59Y/cpR","PipelineData",void 0),P.user||(P.user={windowID:0,windows:new WeakMap}),P._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/systems', 'chunks:///systems.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
//# sourceMappingURL=index.js.map