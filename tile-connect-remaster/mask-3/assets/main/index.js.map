{"version":3,"sources":["file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/audio/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/audio/AudioPlayer.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/audio/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/audio/AudioChannel.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/audio/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/audio/Music.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/audio/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/audio/Sound.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/auto-layout/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/auto-layout/AutoLayout.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/background/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/background/Background.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/DashboardEvents.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/DashboardScreens.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/life-cycle/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/life-cycle/onlyRunInLifeCycle.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/life-cycle/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/life-cycle/onlyRunInLifeCycleAsync.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/life-cycle/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/life-cycle/index.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/required/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/required/MissingPropertiesError.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/required/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/required/MissingPropertyError.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/required/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/required/required.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/required/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/component-utils/required/index.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/ComponentUtils.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/common/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/common/AnimAbortSignal.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/background/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/background/MultiBackground.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/ButtonPlusEvents.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/SoundKeys.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/button-plus/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/button-plus/ButtonPlus.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/button-plus/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/button-plus/ButtonPlusAnalytics.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/button-plus/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/button-plus/ButtonPlusScale.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/button/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/button/ExtendedButton.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/common/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/common/OpacityToggler.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/debug-ads-plugin/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/debug-ads-plugin/DebugAdsPlugin.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/debug-resolution/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/debug-resolution/DebugResolution.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/debug-screen-manager/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/debug-screen-manager/DebugScreenManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/game-stats/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/game-stats/PerfCounter.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/game-stats/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/game-stats/GameStats.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/GameEvents.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/panel-animator/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/panel-animator/PanelAnimationController.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/panel-animator/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/panel-animator/PanelAnimator.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/particle-system-extra/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/particle-system-extra/ParticleSystem2DExtra.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/particle-system-extra/example/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/particle-system-extra/example/ExampleParticleSystem2DExtra.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/resize-with-banner-ad/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/resize-with-banner-ad/ResizeWithBannerAd.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/sprite/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/sprite/PreloadSprite.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/tappered-progress-bar/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/tappered-progress-bar/TapperedProgressBar.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/text/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/text/DynamicLabel.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/text/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/text/Localize.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/text/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/text/LocalizePreloader.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/text/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/text/LocalizedLayout.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/trail/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/trail/SecondOrderDynamics.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/trail/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/trail/Trail.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/utils/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/utils/BatchNodes.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/utils/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/utils/BatchNodesV2.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/vibrate/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/vibrate/Vibrate.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/widget/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/components/widget/WidgetCanvasTarget.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/CoinData.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/DailyRewardsData.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/DevTools.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/Leaderboard.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/Tournament.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/constants/VibrateStyle.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/exceptions/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/exceptions/CommonError.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/exceptions/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/exceptions/PlayerHasTournamentError.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/MapData.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/ThemeUtils.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/MatchUtils.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/FailKeys.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/GameMode.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/controller/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/controller/InputController.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/Directions.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/LevelGravity.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/CustomModeUtils.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/CustomGameData.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/SkinKeys.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/constants/RandomizedLevelDataConfig.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/createRandomizedLevelData.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/LevelManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/grid/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/grid/Grid.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/stagger.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/grid/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/grid/index.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/tile/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/tile/Tile.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/tile/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/tile/index.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/calc/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/calc/calcTilePosition.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/calc/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/calc/calcTileSize.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/calc/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/calc/parseLevelGravity.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/calc/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/calc/rotateGravity.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/calc/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/calc/rotatePath.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/getUncleared.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/getCleared.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/constants/BoardScale.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/calc/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/calc/calcBoardScale.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/getBombTiles.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/getNearbyTiles.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/getRandomTile.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/getRandomPair.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/random/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/random/pseudoRandomIterable.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/getRandomTiles.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/index.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/assignSpecialTiles.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/random/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/random/index.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/createGrid.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/createGridFromFen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/createRotatedGrid.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/ensureOneMatch.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/create/index.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/NewbieSteps.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/getBestPath.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/getErrorPath.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/getGridFen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/getOutOfSync.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/traverseSpiralIn.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/get/getValidPath.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/Board.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/withItemAnalytics.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/useHintItem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/usePliersItem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/withBlockedInput.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/withCenteredBoard.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/withEffectAnimationEvents.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/withLoweredVolume.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/useThunderItem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/useTornadoItem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/path-draw/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/path-draw/Line.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/pool/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/pool/AFPool.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/path-draw/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/path-draw/PathDrawer.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/path-draw/error/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/path-draw/error/ErrorDrawer.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/path-draw/hint/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/path-draw/hint/HintDrawer.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/path-draw/match/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/path-draw/match/MatchDrawer.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/path-draw/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/path-draw/PathDraw.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/ClockManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/coin-manager/components/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/coin-manager/components/Coin.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/coin-manager/components/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/coin-manager/components/CoinTextPopup.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/CoinManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/ComboManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/Burst.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/ParticleSimulator.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-editor/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-editor/CurveRange.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-editor/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-editor/GradientRange.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/ParticleFunction.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/ModuleRandSeed.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/ColorOvertimeModule.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/LimitVelocityOvertimeModule.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/RotationOvertimeModule.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/ShapeModule.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/SizeOvertimeModule.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/VelocityOvertimeModule.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/ParticleSystem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/get-item-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/get-item-screen/ItemCollectionFX.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/addItemEffect.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/star-particles/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/star-particles/ShiningStar.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/star-particles/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/star-particles/StarParticles.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/clampToBoundingBox.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/getClosestPair.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/array/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/array/toSortedIndices.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/number/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/number/randomSign.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/cloud/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/cloud/Ray.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/cloud/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/cloud/RayManagerProperties.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/cloud/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/cloud/RayManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/cloud/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/cloud/Cloud.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/effects/cloud-effect/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/effects/cloud-effect/CloudEffectProperties.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/effects/cloud-effect/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/effects/cloud-effect/CloudEffect.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/EffectManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/GuideKeys.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/Guide01Newbie.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/Guide02Timer.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/Guide03Combo.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/Guide04Hint.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/Guide05Thunder.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/Guide06Storm.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/Guide07Pliers.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/GuideHand.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/GuideItemButton.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/mask/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/mask/GameMask.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/mask/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/mask/AlphaMasks.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/GuideMasks.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/GuideTextBox.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/guides/GuideUI.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/GuidelinesManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/canUseHintItem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/canUsePliersItem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/canUseThunderItem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/canUseTornadoItem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/ItemManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/ScoreManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/states/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/states/BaseState.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/states/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/states/FailState.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/states/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/states/FinishState.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/states/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/states/InitializeState.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/states/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/states/PlayingState.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/states/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/states/ReadyState.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/StateManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/LeaderboardUtils.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/TournamentManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/interstitial-ad-indicator/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/interstitial-ad-indicator/InterstitialAdIndicator.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/combo/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/combo/ComboContainer.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/combo/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/combo/ComboProgressBar.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/SpecialItem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/clock/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/clock/Clock.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/OverlayUtils.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/PlayerAvatarOverlay.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/CacheUtils.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/tournament-container/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/tournament-container/LeaderRail.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/tournament-container/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/tournament-container/TournamentProgressBar.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/tournament-container/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/tournament-container/TournamentRail.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/GameSceneLayout.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/SortNodeUtils.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/score-block/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/score-block/ScoreBlock.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/score-block/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/score-block/ChallengeScoreBlock.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/custom/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/custom/CustomScoreContainer.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/landscape/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/landscape/Sidebar.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/landscape/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/landscape/LandscapeLayout.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/mask/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/mask/UIMasks.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/coin-container/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/coin-container/CoinContainer.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/ScoreContainer.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/header/Header.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/portrait/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/portrait/PortraitLayout.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/TileType.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/dev-tools/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/dev-tools/DevTools.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/manager/UIManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/Gameplay.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/DashboardEventButtonTypes.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/Leaderboard.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/constants/ThemeLocaleKeys.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/index.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/is/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/board/utils/is/isEmptyBoard.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/HintItem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/PliersItem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/StormItem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/ThunderItem.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/game-objects/item/useTornadoThunderCombined.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/separatePositions.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/traverse4.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/array/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/array/shuffle.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/2d/traverseRandom.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/string/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/gameplay/utils/string/pad.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-modules/RendererModule.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-system-extra/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-system-extra/ParticleSystem2DExtra.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-system-extra/example/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/particles/particle-system-extra/example/ExampleParticleSystem2DExtra.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/boot-scene/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/boot-scene/BootScene.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/RigidBodyObject.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/anim-skip-overlay/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/anim-skip-overlay/AnimSkipOverlay.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/scroll-view-layout/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/scroll-view-layout/SmoothScrollView.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/scroll-view-layout/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/scroll-view-layout/ViewNode.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/scroll-view-layout/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/common/scroll-view-layout/ScrollViewLayout.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/DailyRewardsUtils.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/collections/theme-tabs/common/lock/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/collections/theme-tabs/common/lock/LockAnimator.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/collections/theme-tabs/common/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/collections/theme-tabs/common/ThemeProgressBar.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/collections/theme-tabs/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/collections/theme-tabs/ThemeBlock.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/collections/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/collections/CollectionsContent.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/star-chest-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/star-chest-screen/StarProgressBar.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/event-buttons/buttons/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/event-buttons/buttons/DailyRewardsWidget.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/event-buttons/event-button/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/event-buttons/event-button/EventButton.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/header/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/header/DashboardHeader.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/journey-level-avatar/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/journey-level-avatar/JourneyLevelAvatar.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/journey-progress-bar/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/journey-progress-bar/JourneyProgressBar.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/journey-progress/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/journey-progress/JourneyProgressAnimator.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/landscape-mask/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/landscape-mask/LandscapeMask.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/home/custom-button/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/home/custom-button/CustomButton.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/home/custom-guide-ui/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/home/custom-guide-ui/CustomGuideUI.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/home/play-button/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/home/play-button/PlayButton.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/home/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/home/HomeContent.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/DashboardPage.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/collections/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/collections/CollectionsPage.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/PageManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/footer/nav-button/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/footer/nav-button/NavManager.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/DashboardScene.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/PageContent.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/PageHeader.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/home/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/home/HomePage.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/JoinLeaderboardContainer.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/settings-screen/components/switch-button/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/settings-screen/components/switch-button/SwitchButton.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/components/header/tabs/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/components/header/tabs/Tabs.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/components/header/timer/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/components/header/timer/LeaderboardTimer.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/components/leader/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/components/leader/LeaderSkeleton.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/components/leader/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/components/leader/Leader.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/components/leader/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/components/leader/Leaders.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/LeaderboardContentOverlay.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/LeaderboardIsEmpty.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/LeaderboardContent.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/leaderboard/LeaderboardPage.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/tournament-detail-screen/components/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/tournament-detail-screen/components/TopLeader.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/tournaments/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/tournaments/TournamentBlock.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/tournaments/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/tournaments/TournamentBlockSkeleton.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/tournaments/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/tournaments/TournamentsBoard.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/tournaments/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/tournaments/TournamentsNotAvailable.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/tournaments/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/tournaments/TournamentContent.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/tournaments/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/pages/tournaments/TournamentPage.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/event-buttons/event-badge/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/event-buttons/event-badge/EventBadge.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/event-buttons/event-progress-bar/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/event-buttons/event-progress-bar/EventProgressBar.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/footer/nav-button/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/footer/nav-button/NavButton.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/footer/nav-button/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/dashboard-scene/components/ui/footer/nav-button/TournamentButton.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/GameScene.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/combo/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/combo/ComboEffect.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/combo/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/combo/ComboLabel.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/combo/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/game-scene/components/ui/combo/ComboPopup.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/playable-scene/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/playable-scene/PlayableScene.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/result-scene/components/player-score/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/result-scene/components/player-score/PlayerScore.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/result-scene/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/scenes/result-scene/ChallengeResultScene.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/BaseScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/components/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/components/BackgroundMask.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/components/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/components/Screens.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/congratulation-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/congratulation-screen/CongratulationScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/custom-game-screen/components/horizontal-selector/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/custom-game-screen/components/horizontal-selector/HorizontalSelector.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/custom-game-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/custom-game-screen/CustomGameScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/daily-rewards-screen/components/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/daily-rewards-screen/components/DayBlock.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/daily-rewards-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/daily-rewards-screen/DailyRewardsScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/daily-rewards-screen/components/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/daily-rewards-screen/components/DayBlockRed.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/get-coin-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/get-coin-screen/GetCoinScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/get-item-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/get-item-screen/GetItemScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/get-rewards-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/get-rewards-screen/GetRewardsScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/hard-level-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/hard-level-screen/HardLevelScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/level-complete-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/level-complete-screen/GetRewardsEffect.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/level-complete-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/level-complete-screen/LevelCompleteScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/loading-full-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/loading-full-screen/LoadingFullScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/loading-full-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/loading-full-screen/Loading.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/loading-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/loading-screen/LoadingScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/notification-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/notification-screen/NotificationScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/quit-level-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/quit-level-screen/QuitLevelScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/rescues-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/rescues-screen/RescuesScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/settings-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/settings-screen/PauseScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/settings-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/settings-screen/SettingsScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/star-chest-screen/components/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/star-chest-screen/components/StarChest.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/star-chest-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/star-chest-screen/StarChestScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/start-over-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/start-over-screen/StartOverScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/tournament-detail-screen/components/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/tournament-detail-screen/components/TopLeaders.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/tournament-detail-screen/components/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/tournament-detail-screen/components/TournamentDetailOverlay.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/tournament-detail-screen/components/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/tournament-detail-screen/components/TournamentLeaderSkeleton.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/tournament-detail-screen/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/tournament-detail-screen/TournamentDetailScreen.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/tournament-detail-screen/components/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/screens/tournament-detail-screen/components/TournamentLeader.ts","file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/file:/Users/anhquan/Desktop/Repository/tile-connect-remaster-game/assets/utils/VibrateUtils.ts"],"names":["BaseAudioPlayer","_Ludex$Plugins$Audio","Ludex","Plugins","Audio","_createClass","key","_classCallCheck","console","warn","AudioPlayer","_BaseAudioPlayer","_inherits","_super","_createSuper","audioSource","_this","call","value","config","_config$volume","volume","_config$loop","loop","this","play","pause","state","AudioSource","AudioState","PAUSED","stop","_RF","pop","_Ludex$Utils","Utils","A","Array","Decorator","BaseChannelManager","channelId","AudioChannel","_dec","tryCatch","_applyDecoratedDescriptor","_class","_BaseChannelManager","_onLoadAudio","node","allowMultipleTracking","handleLoadedAudio","clip","addComponent","playOnAwake","_this$getAudioClip","audioPlayer","getAudioClip","getAudioSource","PLAYING","_asyncToGenerator","_config","ResourceUtils","loadAudioAsync","isValid","_x","_x2","apply","arguments","isCanPlay","_config$allowMultiple","allowMultiple","getVolume","requestDuplicateAudioPlayer","getKey","_this2","_config$checkList","checkList","some","audioClip","existingAudioPlayer","getDuplicateAudioFromPool","dupKey","_config$volume2","setAudioClip","Error","concat","currentPostFix","newAudioPlayer","list","push","search","prototype","Object","getOwnPropertyDescriptor","ccclass","_decorator","property","_codex","codex","audio","player","_dec2","CCString","_descriptor","_class2","_Component","Music","_len","length","args","_key","_initializerDefineProperty","_assertThisInitialized","channel","isMute","makePersistent","addChannel","director","isPersistRootNode","addPersistRootNode","_this$channel$playing","_this$channel","playing","options","isMusicEnable","correctOptions","getPlayerSetting","setVolume","resume","mute","unmute","Component","configurable","enumerable","writable","initializer","Sound","uuid","removePersistRootNode","isSoundEnable","stopAll","boolean","AutoLayoutWrappee","type","UITransform","_dec3","_descriptor2","AutoLayout","_dec4","_dec5","displayName","_dec6","visible","useAutoLayout","_dec7","serializable","_dec8","CCInteger","_dec9","CCFloat","group","_dec10","_descriptor3","_class5","_Layout","_updateChildrenAnchors","_descriptor4","mappedChildren","_descriptor5","_descriptor6","tweens","get","selected","set","updateLayout","deselectedIconW","children","map","child","widget","wrapeeContainer","getComponent","Widget","_objectSpread","wrapeeContainerWidget","force","undefined","_layoutDirty","updateChildrenAnchors","_step","_iterator","_createForOfIteratorHelper","s","n","done","updateAlignment","err","e","f","_get","_getPrototypeOf","selectedIndex","getBoundingBoxToWorld","xMin","getAnchorX","width","center","x","index","containerWidth","halfIcon","deselectedIconWidth","leftPadding","paddingLeft","spacingX","paddingRight","_step2","_iterator2","Promise","all","flatMap","getChildrenAnchorsTweens","t","AnimUtils","runTweenAsync","_this3","forEach","anchor","wrapee","setAnchorPoint","anchorY","to","tween","anchorX","easing","Layout","_class4","Background","uiTransform","ratio","height","listenGameEvents","handleViewResized","game","on","GameEvents","ORIENTATION_CHANGED","VIEW_RESIZED","off","CocosUtils","cssSizeToWorldSize","getScreenWidthCss","getScreenHeightCss","unlistenGameEvents","DashboardEvents","DashboardScreens","onlyRunInLifeCycle","compOrCustomValidator","propertyKey","descriptor","_typeof","_target","original","_len2","_key2","debug","String","constructor","name","decorateComponent","onlyRunInLifeCycleAsync","wrapped","_ref2","_ref","ccenum","MissingPropertiesError","_Error","className","errors","error","propertyName","join","_wrapNativeSuper","MissingPropertyError","S","V","Valid","monitorError","MAP_KEY","isNull","isUndefined","isNullOrUndefined","getValidator","strategy","createDecorator","isInvalid","target","validator","capitalize","required","strategyOrTarget","decorate","O","BaseComponentNames","ComponentUtils","_ComponentUtilsCore","ComponentUtilsCore","validComponentCalled$","component","componentNames","getRequiredComponentNames","componentName","propNames","getRequiredPropNames","propName","hasOwn","getProperty","isCCObject","_step3","customPropNames","getCustomPropNames","_iterator3","object","_Object$getOwnPropert","construct","props","__props__","isArray","getProps","filter","startsWith","_i","_BaseComponentNames","baseComponentName","indexOf","components","_requireComponent","getBaseComponentName","keys","difference","isObject","inst$","enabled","inst","validateRequiredComponents","validateRequiredProperties","validateCustomProperties","classConstructor","_mapping$className","mapping","validators","isDebugger","sendException","invokeRequiredHook","AnimAbortSignal","callbacks$","isAborted$","abortReason$","_untilAborted","listener","searchIndex","cb","splice","reason","resolve","addAbortListener","aborted","signal","abort","addEventListener","N","Number","GameWorld","MultiBackground","UIOpacity","Sprite","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_dec21","Enum","_dec22","_dec23","_dec24","_updateBackground","_setCurrentTheme","_descriptor7","_descriptor8","_descriptor9","_descriptor10","_descriptor11","_descriptor12","currentPage","home","tryNudgeBackground","direction","getDirection","homePage","directionSign","sign","directionAmount","Math","abs","nudgeAmount","backgroundNudgeAmount","backgroundWidth","min","background1UiTransform","background2UiTransform","spareDistance","max","screenUiTransform","nudgeableAmount","nudgeableWidget","horizontalCenter","cubicInOut","start","currentBackground","background1","nextBackground","background2","currentBackgroundUiOpacity","background1UiOpacity","nextBackgroundUiOpacity","background2UiOpacity","listenToNavigationEvents","unlistenToNavigationEvents","scene","handleOrientationChanged","from","fromIndex","pageOrder","toIndex","themeId","_this$tweenSignal","currentThemeId","tweenSignal","ourSignal","chain","sprite","loadThemeAsync","updateBackground","packable","currBackground","currBackgroundUiOpacity","fallbackBackground","spriteFrame","setSiblingIndex","opacity","_x3","_x4","layout","Portrait","Landscape","ButtonPlusEvents","musicPath","path","CodeSoundKeys","BUTTON_CLICK","BOMB_DEFUSE","BOMB_EXPLODE_1","BOMB_EXPLODE_2","CLICKS","CLOSE_POPUP_CLICK","COLLECT_STARS","COMBO_1","COMBO_2","COMBO_3","COMBO_4","COMBO_5","DAILY_REWARD","EXTRA_TIME_SPAWN","GIFT_CHARGE","GIFT_EXPLODE","GIFT_REVEAL","HINT_ITEM","INVALID_MATCH","LEVEL_COMPLETE","LEVEL_FAIL","LEVEL_START","PROGRESS_STAR","RESCUE_TIMER","ROCKET_FLY","SHUFFLE_ITEM","THREE_STARS","TICKING_BOMB_BEFORE_EXPLODE","TILE_SELECT","USE_ITEM_CLICK","BG_MUSIC","PATCH_SHIFT","THUNDERBOLT","WIND","COLLECT_COINS","COLLECT_STOCK_COINS","LEVEL_FAIL_TIMEOUT","STAR_CHEST_DRUM_ROLL","STAR_CHEST_OPEN","LEADERBOARD_TRIUMPH","ITEM_REWARD","COMBO_6","COMBO_7","COMBO_8","COMBO_9","COMBO_10","COMBO_11","COMBO_12","COMBO_13","TILE_MATCH","TOURNAMENT_MUSIC","values","vals","SoundKeys","reduce","result","SoundKeysMapping","disallowMultiple","menu","ButtonPlus","EventHandler","override","makeSound","tooltip","disableSpamClick","_Button","currentClickBoundingBox","hasDown","hasUp","hasFinishClickCycle","hasBeenDisabled","onTouchStart","event","interactable","handleDown","onTouchEnd","scheduleOnce","handleUp","onTouchCancel","performBoundsCheckOnClickCancel","_this$currentClickBou","_this$currentClickBou2","uiLocation","getUILocation","contains","handleResetButtonState","emitClickCancelEvents","emitClickEndEvents","onMouseEnter","_event","emitTransitionEvent","onMouseLeave","Button","Transition","NONE","_value","_set","_get2","_get3","Input","EventType","TOUCH_END","_onTouchEnded","Node","TOUCH_START","TOUCH_CANCEL","MOUSE_ENTER","MOUSE_LEAVE","_get4","unschedule","patchEmitTransitionDisabled","isDisabled","_getButtonState","AudioUtils","playSound","soundKey","emitClickStartEvents","onClickStartEvents","clickEvent","emit","customEventData","onClickEndEvents","onClickCancelEvents","_pressed","disableSpamDelay","emitButtonEvents","_step4","_iterator4","clickEvents","CLICK","alsoChangeEnableStatus","requireComponent","_Ludex$Plugins$Analyt","Analytics","Events","analytics","useCustomButtonName","ButtonPlusAnalytics","button","onClick","button_name","customButtonName","screen_name","AnalyticsUtils","getCurrentPage","Signal","style","ButtonPlusScale","animStateController","SignalController","setScale","normalScale","onTransitionDown","onTransitionHover","onTransitionReset","clickDuration","scale","clickScale","renew","hoverDuration","hoverScale","normalDuration","Vec3","executionOrder","_Ludex","ExtendedButton","animation","AnimationController","CCBoolean","isScrollViewCancelInnerEvents","useDesktopHover","setAnimationState","lazyValidateProperties","isString","clickStartEvents","clickEndEvents","emitAnalyticsEvents","page","animationController","setValue","OpacityToggler","_changeStateFade","opacityComponent","active","activeValue","inActiveValue","duration","AdType","Ads","Types","ads","LOG_CONFIG","color","prefix","Label","RichText","DebugAdsPlugin","logLines$","touchMs$","setupEventListeners$","AD_LOADING","onAdLoading$","AD_LOADED","onAdLoaded$","AD_LOAD_FAILED","onAdLoadFailed$","AD_SHOWING","onAdShowing$","AD_SHOW","onAdShow$","AD_SHOW_FAILED","onAdShowFailed$","AD_CLOSED","onAdClosed$","_slicedToArray","evt","func","handleTouchEnd$","handleTouchStart$","logInitializedAds$","adsInstances","getAdsInstances","addLog$","entries","_ref3","_ref4","ad","deviceOS","placementId","preventSwallow","touch","Date","now","payload","logEvent$","message","colorHex","time","toLocaleTimeString","split","line","shift","logLabel","string","updateStatus$","getDeviceOS","degradation","getDegradationTracking","safeAreaBottom","getSafeAreaBottom","bannerHeight","AdsUtils","getBannerAdHeight","degradationInfo","lastSuccess","lastSuccessTime","failedAttempts","disabledTypes","isAdEnabled","statusLabel","updateTimers$","lastShown","getLastCallAdShownTime","timersText","lastTime","diff","toFixed","timersLabel","schedule","unscheduleAllCallbacks","executeInEditMode","_GameWorld$DesignSize","DesignSize","Graphics","_class3","DebugResolution","handleLayoutChange","_this$graphics","graphics","clear","_drawPortrait","drawPortraitResolution","_drawLandscape","drawLandscapeResolution","LAYOUT_CHANGED","drawPortrait","drawLandscape","WIDTH","HEIGHT","y","strokeColor","Color","GREEN","rect","stroke","CYAN","DebugScreenManager","lastSwitchTime$","eventHandlers$","initEventHandlers$","_this$eventHandlers$","_defineProperty","OPEN_SCREEN","OPENING_SCREEN","OPENED_SCREEN","CLOSE_SCREEN","CLOSING_SCREEN","CLOSED_SCREEN","getScreensInScene$","getScene","getComponentsInChildren","sceneName","logActiveScreens$","_this$getScreensInSce","screenName","_this$getScreensInSce2","queuedCount","_toConsumableArray","PerfCounter","D","Device","ListPlayerDevIds","Configs","Debugger","DANGER_COLOR","RED","WARNING_COLOR","YELLOW","WHITE_COLOR","WHITE","BLACK_COLOR","BLACK","_dec25","_dec26","_dec27","_dec28","_dec29","GameStats","_descriptor13","lastRafTime$","slowRefreshInterval$","mediumRefreshInterval$","fastRefreshInterval$","isBackgroundEnabled$","isDragging$","listenInputEvents$","TOUCH_MOVE","handleTouchMove$","MOUSE_WHEEL","info","REQUEST_DYNAMIC_ATLAS","deltaPosition","getUIDelta","setPosition","position","bg","canDisplayStats$","has","getPlayerId","startUpdateStats$","updateFastStats$","updateSlowStats$","updateMediumStats$","requestAnimationFrame","handleRequestAnimationFrame$","updateFpsRaw$","updateRafTime$","updateDeltaTime$","updateDPR$","updateDrawCalls$","updateObjectMemoryUsage$","updateTextureMemoryUsage$","updateFps$","updateLogicTime$","updatePhysicTime$","updateRenderTime$","calcRafTime$","timestamp","_this$node","rafTimeCounter$","end","fps","getFps$","updateFpsColor$","fpsLabel","setColorWithBackground$","fpsRaw","getFpsRaw$","updateFpsRawColor$","fpsRawLabel","drawCount","getDrawCalls$","updateDrawCallsColor$","drawCountLabel","isIOS","sys","os","OS","IOS","warningDrawCount","rafTime","getRafTime$","updateRafTimeColor$","rafTimeLabel","deltaTime","getDeltaTime$","updateDeltaTimeColor$","deltaTimeLabel","logicTime","getLogicTime$","updateLogicTimeColor$","logicTimeLabel","physicTime","getPhysicTime$","updatePhysicTimeColor$","physicTimeLabel","renderTime","getRenderTime$","updateRenderTimeColor$","renderTimeLabel","objectMemoryUsage","getObjectMemoryUsage$","updateObjectMemoryUsageColor$","objectMemoryUsageLabel","textureMemoryUsage","getTextureMemoryUsage$","updateTextureMemoryUsageColor$","textureMemoryUsageLabel","devicePixelRatio","pixelRatio","updateDPRColor$","dprLabel","label","equals","root","round","device","numDrawCalls","toFixed$","precision","logicTimeCounter$","physicTimeCounter$","renderTimeCounter$","memoryStatus","bufferSize","textureSize","beforeUpdate$","performance","afterUpdate$","beforePhysics$","afterPhysics$","beforeDraw$","afterDraw$","Director","EVENT_BEFORE_UPDATE","EVENT_AFTER_UPDATE","EVENT_BEFORE_PHYSICS","EVENT_AFTER_PHYSICS","EVENT_BEFORE_DRAW","EVENT_AFTER_DRAW","GameplayEvents","PanelAnimationController","animators","Set","eventTarget","EventTarget","handleRegistration","animator","add","handleUnregistration","delete","handleShowUIs","_payload$onComplete","_this$eventTarget","hasFellBack","animations","_animators","_payload$fallback","isReadyForAnimation","fallback","handleShowUI","onComplete","SHOW_UI","handleHideUIs","_payload$onComplete2","_this$eventTarget2","_i2","_animators2","_payload$fallback2","handleHideUI","HIDE_UI","callback","thisArg","once","comp","parent","controller","getController","AnimationConfig","assign","PanelAnimator","_handleHideUI","_handleShowUI","isReady","registerAnimator","unregisterAnimator","topAnimator","createAnimator","topConfig","botAnimator","botConfig","initUIPos","switchState","startHidden","nodes","posOffset","showEase","hideEase","showDuration","hideDuration","shownPositions","isAlignTop","mode","top","isAlignBottom","bottom","hiddenPositions","newState","immediate","currentSignal","startPositions","targetPositions","setAllToTargetImmediately","moveConfig","setToTargetImmediately","getTween","removeAbortListener","topAnimConfig","botAnimConfig","setConfig","z","ParticleSystem2DExtra","ParticleSystem2D","emitParticle","particleSystem","_simulator","particles","newParticle","initParticle","step","dt","i","particle","updateParticle","overrideFunctions","bind","stepFunction","_ParticleSystem2DExtr","ExampleParticleSystem2DExtra","maxSize","math","randomRange","size","deltaSize","cycleDuration","life","timeToLive","setInitPosition","pos","_dt","updateScale","out","rectW","rectH","cubicLifeProgress","sin","PI","_Ludex$Plugins$Ads","_Ludex$Plugins$Ads2","AdsTypes","AdStatus","Status","F","Function","TOP_POSITIONS","BOTTOM_POSITIONS","LEFT_POSITIONS","RIGHT_POSITIONS","ResizeWithBannerAd","handleOnAdShowing$","handleOnAdClosed$","handleOnAdFailed$","handleOnResize$","checkValid$","BANNER","getAd","resizeWhenBannerAdShow$","emitResizeEvent","resizeWhenBannerAdClose$","closeWhenAdFailed","bannerAds","getAdsByType","status","getAdStatus","SHOWING","IDLE","resizeSafeAreaBottom$","getBannerHeight$","gameZoom","_ads$getBannerConfig","getBannerConfig","PlacementId","Position","includeSAB","getBannerHeight","left","right","_ads$getBannerConfig2","BannerWidth","includeBottomBanner","bannerWidth","GameSDK","extra","getBannerOffset","includeLeftBanner","includeRightBanner","updateWidgets$","View","instance","debounce","WIDGET_RESIZED","activeInHierarchy","LayoutEnum","LayoutMapping","ResourcePathsEnum","PreloadSprite","_loadSpriteFrame","loadSpriteFrame","unlistenEvent","LayoutUtils","getCurrentLayout","ResourcePathsMapping","loadSpriteFrameAsync","enabledInHierarchy","TapperedProgressBar","range","slide","_ProgressBar","updateAppearance","uiOpacity","progress","floor","ProgressBar","DynamicLabel","_quality","_size","_outlineWidth","_shadowOffset","Vec2","fontSize","quality","outlineWidth","shadowOffset","multiplyScalar","window","language","LocalizeType","LOCALIZE_PARAMS_UPDATED_EVENT","LocalizeParams","_text","text","param","Localize","l10nType","Texture","Text","_requestUpdateSpriteSpriteFrame","_setSpriteEditor","_setSpriteRuntime","_updateTextureLocalization","_requestUpdateLabelFont","_requestFontUuid","_setTextFontEditor","_setTextFontRuntime","_setTextFont","_setText","_updateTextLocalization","_updateLocalizationComp","localized","updateSignalController","onLocalizeParamsUpdated","params","updateLocalization","updateLocalizationComp","_defaultLocale","AvailableLocales","isValidLocale","_l10nType","isValidKey","len","_params$i","p","LOCALIZE_APPLIED","isTextKey","isTextureKey","hasTextKey","hasTextureKey","listenEvent","initLocalization","LANGUAGE_CHANGED","skipTextureIfSameLocale","updateTextLocalization","currentLocale","getCurrentLocale","skippable","EDITOR_NOT_IN_PREVIEW","defaultLocale","updateTextureLocalization","localize","_signal$wrap","_signal$wrap2","locale","getText","wrap","setText","updateFont","setTextFont","setTextFontRuntime","_x5","_x6","_x7","font","loadFontAsync","setLabelFontInLifeCycle","_x8","_x9","_x10","_signal$wrap3","_signal$wrap4","_this4","requestFontUuid","nodeInfo","requestNodeInfo","propertyIndex","__comps__","c","requestUpdateLabelFont","_x11","_x12","_x13","Editor","Message","request","LocaleFontPaths","_x14","nodeUuid","compPath","fontUuid","dump","_x15","_x16","_x17","getTexture","setSpriteRuntime","_x18","_x19","setSprite","_x20","_x21","_x22","spritePath","_signal$wrap5","_signal$wrap6","_this5","frameInfo","requestSpriteFrameInfo","infoDump","slice","requestUpdateSpriteSpriteFrame","_x23","_x24","_x25","pattern","ccType","frameUuid","_x26","_x27","_x28","LocalizeTextureKey","SupportedLocaleKey","_class8","LocalizePreloader","preloadTextures","locales","paths","keyComp","textureKey","loadSpriteFramesAsync","_class7","LocalizedLayout","updateContentSize","_this$label$getCompon","contentSize","setContentSize","horizontal","vertical","widgets","_horizontal","_vertical","_this$label","_this$label2","SecondOrderDynamics","xi","nConfig","response","dampen","eager","k1","calcK1","k2","calcK2","k3","calcK3","xp","clone","yd","change","k2Stable","SODConfig","Trail","CCNode","trailNodeInstances","reset","worldPosition","spawnTrailNodes","firstNode","drawTrail","prevNode","currNode","currentState","towardsX","towardsY","targetPosition","nextPosition","update","localTargetPosition","localNextPosition","inverseTransformPoint","moveTo","lineTo","trailNodes","trailNodeConfig","startPosistion","dynamics","BBN","BL","BS","readonly","BatchNodes","batchNode","labelChildren","spriteChildren","allChildren","nameChildren","originalParents","isInited","onAfterUpdate","hierarchyChildren","onAfterRender","restoreOriginalChildren","EVENT_AFTER_RENDER","setupBatchNodes","ACTIVE_IN_HIERARCHY_CHANGED","handleNodeChange","saveOriginalChildren","createGlobalNodes","createGlobalNameNodes","createGlobalLabelNode","createGlobalSpriteNode","sortGlobalNodes","_this$batchNode$node","_this$batchNode$label","_this$batchNode$sprit","depthLabel","depthSprite","listName","idx","_this2$batchNode$name","depth","depthNames","batchAllNodes","addChild","batchByName","batchLabel","labelNode","batchSprite","spriteNode","componentChildren","nodeChildren","handleActiveChange","saveLabelChildren","saveSpriteChildren","saveNodeChildrenByName","saveNodeChildrenByType","saveOriginalParents","_this$labelChildren","childLabels","cacheMode","none","CacheMode","char","CHAR","bitmap","BITMAP","typeLabel","_this$spriteChildren","childSprites","_step5","_iterator5","_this$allChildren","batchDepth","_step6","_iterator6","_step7","updateParent","isChildOf","setParent","layer","Layers","UI_2D","skipNodes","_iterator7","_step8","_iterator8","_step9","_iterator9","sort","a","b","localeCompare","_step10","_iterator10","isTransformDirty","_step11","_iterator11","_step12","_iterator12","BatchNodesV2","batchNodes","labelNodes","spriteNodes","namedNodes","isInitialized","labelNodesByType","isEventListenerSetup","batchActiveNodes","restoreNodes","initializeDataStructures","initialize","setupEventListeners","removeEventListeners","clearData","createBatchContainers","scanNodes","sortBatchNodes","isValidLabel","nodeName","includes","cacheModeMap","_this$batchNodes$labe","_this$batchNodes$labe2","_this$batchNodes$labe3","depthLabelBitmap","depthLabelChar","depthLabelNone","_this$batchNodes$labe4","isBatchContainer","isParentChainActive","containers","currentNode","rootNode","restoreNode","originalParent","_i4","_types","namedNode","categorizeNode","batchNodesByType","batchParent","batchNodeArray","Browser","Vibrate","isVibrateEnable","vibrate","performHapticFeedbackAsync","WidgetCanvasTarget","canvas","find","CoinData","_ITEMS","ItemKeys","HINT","THUNDER","STORM","PLIERS","DailyRewardsData","0","id","1","2","3","4","5","6","items","hint","thunder","storm","pliers","DevTools","UNLOCK_SEQUENCE","LeaderboardList","Leaderboards","LeaderboardIds","DAILY","_LeaderboardList$0$Id","_LeaderboardList$","Id","WEEKLY","_LeaderboardList$1$Id","_LeaderboardList$2","LeaderboardTypes","TournamentEvents","CommonError","code","PlayerHasTournamentError","_CommonError","playerId","tournamentId","MapData","mapOrder","theme","skins","levelCount","storage","DEFAULT_PLAYER_SKIN_PROGRESS","currentProgress","maxProgress","isLocked","ThemeUtils","_ThemeUtilsCore","_loadSkinsFrames","_loadLevelSpriteFrames","playerSkinProgress","dashboardStorage","getStorage","currMap","getCurrentMapProgressInstance","addStorage","lastMapPayload","numOfMapsPassed","animateToCurrentLevel","collectionStorage","lastMapPack","animateMapPackUnlock","leaderboardStorage","lastTabOpened","previousScore","tournamentStorage","animateTournamentLeader","currentTheme","nextTheme","count","skin","mapInfo","nextMapInfo","_nextMapInfo$theme","lastTheme","unlockedSkins","firstSkin","level","playerLevel","_gameData$level","gameData","getGameData","increaseProgress","_mapInfo","newProgress","initDefaultPlayerSkinProgress","updatePlayerSkinProgress","initDashboardSceneStorage","getUnlockedSkinsInstance","getLevelSkinsInstance","getLevelThemeInstance","getThemeSkinsInstance","getCollectionUnlockProgressInstance","collectionsPayloads","getCollectionUnlockProgress","currentIndex","element","getLevelSkins","preloadSkinsFrames","preloadSkinFrames","ResourcePaths","TILE_SKIN_FOLDER","loadSpriteFramesDirAsync","seed","randomRangeInt","rng","generate","minInc","maxExc","pseudoRandomRangeInt","generateSeed","getThemeSkins","loadSkinFrames","getUnlockedSkins","levelSkins","loadedSkins","loadSkinsFrames","ps","rs","allSettled","_F$unwrapAllSettled","unwrapAllSettled","successes","failures","ThemeUtilsCore","match","leaderboard","Modes","Match","PREFIX_TOURNAMENT_TITLES","MatchUtils","_MatchUtilsCore","MatchUtilsCore","processStartSingleModeAsync$","single","processAsync","processFinishSingleModeAsync$","finish","processStartTournamentModeAsync$","contextId","context","getID","tournament","continue","processFinishTournamentModeAsync$","bestScore","getBestScore","processStartChallengeModeAsync$","processContinueChallengeAsync$","processChallengeNewOpponentAsync$","processJoinChallengeAsync$","processFinishChallengeModeAsync$","_ref6","challenge","_this$getMatchState$","getMatchState$","customData","opponentId","matchId","friendIds","getConnectedPlayerIds","rand","random","isEmpty","friend","_this$getMatchState$2","processStartGameModeAsync$","_ref10","gameMode","processFinishGameModeAsync$","postGlobalLeaderboard","setPlayerBestScore","matchState","getMatchState","createTournamentName","prefix_tournament_title","tournamentName","normalizedName","removeDiacritics","getTournamentsAsync$","getTournamentsAsync","_processCreateTournamentAsync","_continueTournamentAsync","_joinTournamentAsync","_finishMatchAsync","_setLeaderboardScoreAsync","_getMatchCustomDataAsync","_setMatchCustomDataAsync","_setProfileMatchDataAsync","_startMatchAsync","_profiles$playerId$sc","_profiles$playerId","leaderboardId","generateObjectId","playerName","getPlayer","getLevelTheme","_matchData$profiles","profiles","score","TOURNAMENT","matchMode","getMatchMode","SINGLE","CHALLENGE_FRIEND","handler","setProfileData","setMatchCustomData","getMatchCustomData","setLeaderboardScore","setMatchCustomDataAsync","setProfileMatchDataAsync","tournaments","playerTournament","payloadStr","getPayload","JSON","parse","getTournamentType","tournamentCreatePayload","createTournamentPayload","setGameData","lastCreateTournamentShown","create","addLeaderboard","autoSortRank","FailKeys","GameModes","InputController","handleElementPointerDown","handleElementPointerUp","_ev","listenInputEvents","WINDOWS","OSX","document","removeEventListener","Direction","Up","Down","Left","Right","LevelGravity","LevelGravities","VerticalLevelGravities","HorizontalLevelGravities","CustomModeUtils","_this$getCustomData","getCustomData","difficulty","bombs","getTimeBonus","getDifficultyBonus","getBombsBonus","getExtraAdsBonus","_player$getGameData","_ref$custom","custom","timeIndex","difficultyIndex","bombIndex","extraAds","CustomGameData","SkinKeys","CAKES","CAR","COSMETIC","FLOWER","FRUIT","ICE_CREAM","SPORT","TOOL","RandomizedLevelDataConfig","bombRange","rocketRange","maxSpaceOfPairRange","addRandomTilesPerMoveRange","loopAfter","createRangeReducerRight","getRandomIntInclusive","newMin","ceil","newMax","createRangedReducingGenerator","rangeReducer","LevelDataGenerators","generateDifficulty","generateTime","l","generateColors","specials","generateBomb","generateRocket","rules","generateMaxSpaceOfPair","generateAddRandomTilesPerMove","generateColumns","generateRows","J","Json","AllSkinKeys","DIFFICULTY_COLUMN_AND_ROW","DIFFICULTY_COLORS","DEFAULT_LEVEL_DATA","colors","bomb","rocket","maxSpaceOfPair","addRandomTilesPerMove","columns","rows","createCachedLevelDataRandomizer","cache","randomizedData","cols","gravity","createRandomizedLevelData","LevelManager","_loadLevelData","_loadLevel","getRandomizedLevelData","levelData","loadLevelData","addMetadata","TotalLevel","levelPerFile","levelStr","paddingZero","levelIndex","levelsData","loadJsonAsync","LEVEL_DATA_FOLDER","json","_CustomGameData$time$","_CustomGameData$bombs","_DIFFICULTY_COLORS$cu","getDifficulty","_this$getCustomColumn","getCustomColumnAndRow","clamp","_ref5","r","str","ret","bubbleUpCells","array","isEmptyCell","isLighter","_config$out","j","swap","Grid","configOrGrid","_configOrGrid$content","_ref$width","_ref$height","content","isInBounds","initialValue","_a","x1","y1","_b","x2","y2","temp","cells","_","shuffledCells","affected","newX","newY","newGrid","shuffle","_config$rowRange","rowRange","minRow","maxRow","_config$colRange","colRange","minCol","maxCol","onSwap","_config$out2","_loop","cellA","cellB","_loop2","_loop3","_y5","_loop4","_y6","gravitate","revert","decor","Tile","SpriteFrame","_dec30","_dec31","_dec32","_dec33","_dec34","_dec35","_dec36","_dec37","Animation","_dec38","_dec39","AnimationClip","_dec40","_dec41","_dec42","_dec43","_dec44","_dec45","_dec46","_dec47","_dec48","_dec49","_dec50","_dec51","_moveAround","_fly","_sync","_restore","_runAnimationAfterDelay","_playOldLightningClearFX","_playClearFX","_setHint","_setFocused","_updateIdentityFrame","_descriptor14","_descriptor15","_descriptor16","_descriptor17","_descriptor18","_descriptor19","_descriptor20","_descriptor21","frames","coord","mainSignalController","identitySignalController","placeholderSignalController","specialSignalController","special","createSpecialHandler","TileSpecialTypes","_this$special","_this$special2","_this$special3","onDestroy","ignore","tile","tileOrX","getCoord","bgUITransform","isHidden","TILE_CLICK","updateIdentityFrame","setPlaceholderVisible","frame","setIdentityFrame","identitySignal","iconPlaceholder","ONE","iconPlaceholderOpacity","delay","repeatForever","ZERO","icon","_this$getSize","getSize","_this$getSize2","tileWidth","tileHeight","_frame$originalSize","originalSize","iconW","iconH","onCancel","_this$special4","_this$special5","_this$special6","specialType","bombDuration","switch","star","hide","then","isDestroyed","show","focused","shineOpacityTween","shineOpacity","scaleTween","glowOpacityTween","glowOpacity","_this$special7","_this$special8","_this$special9","quietly","setIgnoreInput","resetButtonState","setOpacity","_this$animationCompon","runAnimation","shakeClip","animationComponent","container","normalTween","eulerAngles","lightning","clearClip","lightningClearClip","runAnimationAfterDelay","breakClip","waitTweenAsync","runAnimationAsync","setIdentity","iconOpacity","background","defaultBackground","fakeClick","_config$duration","_config$delay","_config$easing","targetPos","getTargetPosition","_this6","MAX_HEIGHT","distanceToCenter","sqrt","pow","curPosition","getTilePosition","newPosition","shakeAmount","initOrbitSpeed","initSelfOrbitSpeed","phase1Duration","phase2StartAngle","phase2CenterPos","phase2Duration","tweenObject","prevElapsed","_start","_end","current","deltaShake","newPos","expoRatio","easeOutExpo","elapsedTime","newH","setHeight","currentPos","rotateZ","addAngle","angle","moveDirections","defaultPosition","prevDirectionIndex","moveDirectionIndex","moveDirection","movePosition","moveTween","resetTween","maxHeight","_this7","createBombHandler","createStarHandler","_this8","isCountingDown","remaining","setCounting","setNotCounting","USE_ITEM","RESUME_TIME","PAUSE_TIME","TIME_OUT","bombComponent","cleanup","GAME_RESUME","GAME_PAUSE","fillRange","setEmpty","BOMB_EXPLODE","bombUiOpacity","detonateImmediately","_this9","starComponent","_this9$node$worldPosi","ADD_STARS","startAnimationAt","startUiOpacity","calcTilePosition","grid","tileSize","padding","_tileSize","posX","posY","calcTileSize","defaultSize","trimming","_defaultSize","defaultTileW","defaultTileH","_trimming","trimmingW","trimmingH","trimmedTileW","trimmedTileH","tileW","tileH","parseLevelGravity","words","levelModes","levelGravity","rotateGravity","rotateVec2","vec","boardWidth","boardHeight","getUncleared","gridOrTiles","asArray","getCleared","getRandomTile","arr","getRandomPair","randomTile","sameTypeTile","isSimilarTo","inSamePositionAs","identity","pseudoRandomIterable","startingSeed","nseed","POSITIVE_INFINITY","pseudoRandom","getRandomTiles","rngSeed","next","STARS_COUNT_RANGE","assignSpecialTiles","bombCount","starsCount","bombTiles","tilesWithoutBombs","starsTiles","setSpecialType","createGrid","_config$levelData","identities","setTileIdentity","createTile","_config$seed","pairs","createShuffledIdentityPairs","firstSort","sortTilesByMaxSpace","reverse","tiles","sortColors","randomTiles","tileGrid","convertSingleListToGrid","previousTileRow","previousTileColumn","row","column","allowedDistance","getTileNewPosition","convertGridToSingleList","row1","column1","row2","column2","newRow","newColumn","createGridFromFen","customFen","idSize","fenRows","rowRegex","tileTypeRegex","tileIdentityRegex","reduceRight","acc","rowTiles","matches","matchAll","_tileIdentityRegex$ex","_tileTypeRegex$exec","tileString","itype","exec","itypeInt","parseInt","isNaN","ttype","getSpecialTypes","encoding","characters","createRotatedGrid","rotatedGrid","toRotated","each","setCoord","ensureOneMatch","_ref$seed","nearbyTiles","_tile$getCoord","tileX","tileY","xCoord","yCoord","getNearbyTiles","randomTile2","sacrifice","NewbieSteps","startTile","endTile","localeTextKey","inSamePosition","asVec2","isTraversablePadding","getAdjacentTiles","directions","DIRECTIONS4","_parent$cache$turns","g","h","calcDirection","turns","_this$cache$direction","toString","parentCoord","currentCoord","getBestPath","traversableStartDirections","getTraversableDirections","traversableEndDirections","getStraightPath","openList","closedList","startNode","endNode","exceptionTiles","previousNode","unshift","adjacentTiles","adjacentTile","adjacentNode","isEndNode","isDiscovered","getHeuristic","getAStarPath","startCoord","endCoord","defaultEncoding","_defaultEncoding","getOutOfSync","spiralTraversal","startRow","endRow","startCol","endCol","PaddingTile","getValidPath","tile1","tile2","traverseFn","_ret","discovered","dis","_ret2","_tiles$_i","_tiles","otherTile","otherCoord","v","findFirstMatch","matrix","topPadding","fillWith","bottomPadding","rightPadding","getter","realX","realY","toPaddedGrid","checkLineX","checkLineY","pathOffset","pMinY","pMaxY","pMinX","pMaxX","moreLinePath","rectPath","isMoreLineX","checkMoreLineX","isMoreLineX2","isMoreLineY","checkMoreLineY","isMoreLineY2","rectX","checkRectX","rectY","checkRectY","getPathLength","getLineLength","isTraversable","exceptionTile","col","by","Board","_updateGameplayRotation","_consumeAnimationQueue","_animateTilesError","_create","selectedTile","isPlayingEffect","useRotatedGameplay","dirtyGameplayRotation","parsedGravityRules","normalMatches","normalMatchesSinceLastSpawn","spawnAttempts","hintPath","hintTiles","isAnimating","animationQueue","isConsumingAnimation","updateTilesHolderScale","shouldRotate","consumeAnimationQueue","tilePrefab","listenEvents","unlistenEvents","framesPromise","unshuffled","shuffled","instantiate","tileComponent","tilesHolder","usedFen","trim","tileTrim","GRID_CREATE","processGameplayCycle","gridSize","screenSize","_gridSize","gridW","gridH","_screenSize","boardScaleX","boardScaleY","calcBoardScale","GRID_RESIZE","_this$grid","destroy","animHandler","targetScale","appearDirection","gravityType","primitiveDirection","getPrimitiveDirection","subtract2f","normalize","getFlyInDirection","startPos","add2f","sync","reportOrThrowInDebugger","staggers","fromX","fromY","stagger","toX","toY","distanceX","distanceY","_staggers$x$y","_staggers$x","moveAround","setFocused","tileA","tileB","coordA","coordB","animateTilesError","isNewbieLevel","errorPath","newbieStartTile","newbieEndTile","getErrorPath","GRID_MATCH","GRID_MATCH_FAIL","GRID_MATCH_SUCCESS","_payload$stagger","_payload$delay","_payload$lightning","delay1","delay2","playClearFX","GRID_CLEAR","_element","playOldLightningClearFX","startLine","endLine","getTileAt","setHint","_this$hintTiles","worldPos","getWorldPosition","_tile$special","uncleared","_getRandomPair","_getRandomPair2","boardScale","getWorldScale","getGridSize","topBottomPos","subtract3f","Rect","_this$grid2","handleShuffleAnimation","newGridAndPath","processShuffleStep","data","generateFen","EFFECTS_ANIMATION_START","onEffectAnimStarted","EFFECTS_ANIMATION_END","onEffectAnimEnded","_this$getWidgetMargin","getWidgetMargins","shouldTrySpawning","canSpawn","processSpawnStep","processSpawnSingleTileStep","processGravitationStep","_a$id","_a$frames","_getRandomTiles","_getRandomTiles2","restore","GRID_SPAWN","sequences","parsedGravity","affectedTiles","toGravitated","_step4$value","_step4$value$","_ref7","_ref8","_ref9","_ref9$","_sequences","copy","fullRows","fullCols","halfRows","halfCols","cell","_path2","DEBUG_SANITY_CHECK","_grid$toShuffled","toShuffled","_grid$toShuffled2","_this$levelData","_this$levelData2","_this$levelData3","_path","gridAsArray","GAME_EXIT","_step5$value","_step5$value$","createShuffleAnimationHandler","prevGrid","currGrid","paddingAnimHandler","returnToPlaceAnim","_ref11","_ref12","_getRandomTiles3","clearTile","unclearTiles","tileCountMap","_tileCountMap$_id","unclearTile","tileCount","updateGameplayRotation","isRevert","GRID_ORIENTATION_CHANGE","newPath","newA","newB","rotatePath","tileTypes","Map","_tile$special$type","encodedType","encodedTile","getGridFen","AnalyticsEvents","withItemAnalytics","item","fn","item_name","useHintItem","board","pathDraw","isDrawingHint","getHintPath","drawHintPath","coords","getAnyTileWorldPosition","showHint","usePliersItem","effectManager","getBombTiles","createDefuseExplosionAt","withCenteredBoard","_board$widget","oLeft","oRight","_board$getWidgetMargi","withEffectAnimationEvents","withLoweredVolume","setVolumeMusic","useThunderItemLogic","getPairs","useThunder","playThunderAnimationEffect","clearSelectedTile","useThunderItem","GeneralUtils","setBlockInput","playThunderAnimation","playPadGridAnimation","playShuffleGridAnimation","fly","playTornadoAnimation","getTileSize","playTornadoEffect","useTornadoItemLogic","useTornado","processShuffleRequest","prev","curr","useTornadoItem","Line","setWorldPosition","distance","worldScale","angleDegree","atan2","AFPool","_Pool","ctor","elementsPerBatch","ator","ftor","dtor","obj","Pool","PathDrawer","Prefab","lineNodes","pointNodes","linePool","lineNode","linePrefab","lineHolder","pointPool","pointNode","pointPrefab","pointHolder","clearPath","_lineNode$getComponen","alloc","setPoints","free","ErrorDrawer","_PathDrawer","pathAppearDuration","one","two","HintDrawer","createPath","showPath","last","lastLine","lineOpacity","pointOpacity","lineTween","point","pointTween","MatchDrawer","_animatePoint","_animateLine","animateLine","animatePoint","PathDraw","getTileWorldPosition","matchPath","drawPath","ClockManager","_refillTime","running","halfTime","RESCUE_START","refillTime","TIME_UPDATED","endCountDown","HALF_TIME","counterTween","onUpdate","lerp","setTime","RESCUE_FINISHED","Coin","_playSpinAnimationAfterDelay","stopParticles","stopAnimation","emittingParticles","stopSystem","resetSystem","seconds","playSpinAnimation","spin","rest","START_POSITION","add3f","END_POSITION","CoinTextPopup","_showTextPopupAnimation","_hidePopup","_show","amount","enableNode","initializePopup","showTextPopupAnimation","hidePopup","disableNode","getShortNumber","MAX_COINS","COIN_COLLECT_ANIM","CoinManager","_animateCoinExplode","_animateCoinFlyBack","_playCoinFlyAndexplodeAnimation","_handleCollectionAnim","coins","coinObjects","getCoinsFromPlayerData","prepareCoinCollection","prepareCoinTextPopup","listenToCoinEvents","emitCoinAmount","updateCoins","ADD_COINS","addCoins","REMOVE_COINS","removeCoins","ABORT_COIN_ANIMATION","abortCoinAnimation","coin","coinPrefab","coinAnimContainer","textPopupNode","coinTextPopup","coinTextPopupNode","targetContainer","floatDuration","flyDuration","animatedCoins","getShortAmount","hasCoinTextPopup","hasTargetContainer","coinCollectionCount","playCoinFlyAndexplodeAnimation","animateCoinTextPopup","explodeAndFlybackAvgDuration","TIME_RANGE","offset","explodeDuration","flybackDuration","animateCoinExplode","animateCoinFlyBack","emitExplodeEffect","startPosition","lerpedPosition","getCoinIconWorldScale","onStart","playSpinAnimationAfterDelay","playTrailParticles","cubicIn","getCoinIconWorldPosition","resetDisabled","RANDOM_RANGE_X","RANDOM_RANGE_Y","targetX","targetY","_this$collectionAnimS","_collectionAnimation$","changes","collectionAnimation","collectionAnimSignal","newSignal","animateTextOnly","COIN_CHANGED","_collectionAnimation$2","_collectionAnimation$3","_collectionAnimation$4","withCollectionAnim","handleCollectionAnim","REMOVE_COINS_FAILED","REMOVE_COINS_SUCCESS","_this$collectionAnimS2","untilAborted","_this$collectionAnimS3","COMBO_SOUNDS","ComboManager","currentCombo","setEmitEvent","COMBO_ENDED","resetCombo","GAME_FINISH","GAME_REPLAY","NEXT_LEVEL","ADD_COMBO","addCombo","setCombo","combo","soundIndex","emitEvent","COMBO_UPDATED","_find","Burst","remainingCount","curTime","psys","repeatCount","preFrameTime","repeat","startDelay","evaluate","curFrameTime","repeatInterval","ZERO_VEC3","Particle","startSize","rotation","startLifetime","remainingLifetime","randomSeed","velocity","startColor","pool","_js$Pool","ParticlePool","js","par","ParticleSimulator","system","uvFilled","renderData","MeshRenderData","put","resize","vbuf","vData","uv","particleCount","_uv$","_uv$2","_uv$3","_uv$4","_uv$5","_uv$6","_uv$7","_uv$8","buffer","halfWidth","halfHeight","rotX","rotY","rotZ","rotatePoint","px","py","pz","cosX","sinX","z1","cosY","sinY","cosZ","sinZ","radX","misc","degreesToRadians","radY","radZ","cos","positions","toArray","_renderData$setRender","updateWorldTransform","emitting","requestData","updateUVs","particleIdx","updateParticleBuffer","deadParticle","lastParticle","vertexCount","indexCount","material","getRenderMaterial","setRenderDrawInfoAttributes","iData","vId","_renderData$setRender2","Mode","Constant","Curve","TwoCurves","TwoConstants","CurveRange","spline","assignSorted","splineMin","splineMax","rndRatio","constantMin","constantMax","constant","approx","EPSILON","RealCurve","Gradient","TwoColors","TwoGradients","RandomColor","tempColor","tempColor2","GradientRange","_color","colorMin","colorMax","gradient","getRandomColor","evaluateFast","gradientMin","gradientMax","randomPointBetweenCircleAtFixedAngle","minRadius","maxRadius","theta","fixedAngleUnitVector2","isCurveTwoValues","curve","CurveRangeMode","ModuleRandSeed","COLOR_MODULE_RAND_SEED","ColorOvertimeModule","enable","GradientRangeMode","isGradientTwoValues","multiply","LIMIT_VELOCITY_MODULE_RAND_SEED","LimitVelocityOvertimeModule","limit","normalizedTime","dampedVel","randLimit","randDampen","vel","dampenBeyondLimit","exp","ROTATION_MODULE_RAND_SEED","RotationOvertimeModule","separateAxes","randZ","rotationZ","rotationX","rotationY","randX","randY","Shape","Circle","Rectangle","EmitLocation","Base","Edge","circleVisible","shape","rectangleVisible","_tempArr","ShapeModule","circleEmit","radius","radiusThickness","toRadian","generateArcAngle","rectangleEmit","emitFrom","rectangleThickness","sgn","extents","bits","transpose","val","randomSortArray","applyRectThickness","arc","thickness","fromHEX","fillColor","lineWidth","gizmoCircle","gizmoRectangle","startAngle","endAngle","createArcPath","close","angelStep","SIZE_MODULE_RAND_SEED","SizeOvertimeModule","currLifetime","VelocityOvertimeModule","_temp_v3","playOnFocus","setClassAttr","CCClass","Attr","Space","World","Local","ParticleSystem","formerlySerializedAs","startSize2D","startRotation3D","_UIRenderer","_descriptor22","_descriptor23","_descriptor24","_descriptor25","_descriptor26","_renderSpriteFrame","emitRateTimeCounter","isPlaying","isStopped","isEmitting","startSizeX","startSpeed","rateOverTime","initProperties","_preview","_startPreview","_stopPreview","_simulationSpace","_updateMaterial","_updateSimulationSpace","_spriteFrame","_uuid","_applySpriteFrame","_assembler","markForUpdateRenderData","_this$_assembler","assembler","Assembler","getAssembler","createData","simulator","particleInitRenderDrawInfo","renderEntity","initDrawInfo","texture","_customMaterial","setSharedMaterial","passes","blendState","targets","_dstBlendFactor","blendDst","_srcBlendFactor","blendSrc","mat","getMaterialInstance","recompileShaders","USE_LOCAL","simulationSpace","_updateBlendFunc","render","commitComp","_this$_renderEntity","_renderEntity","setRenderTransform","setUseLocal","emitNum","bursts","gravityModifier","sizeOvertimeModule","rotationOvertimeModule","colorOvertimeModule","velocityOvertimeModule","applyGravityModifier","limitVelocityOvertimeModule","_finishedSimulation","loopDelta","init","shapeModule","m","worldMatrix","m12","m13","curveStartSpeed","sizeX","startSizeY","startRotationZ","startRotationX","startRotationY","INT_MAX","UIRenderer","ItemCollectionFX","standardParticles","quickParticles","standardParticlesContainer","quickParticlesContainer","useQuickVersion","playParticles","VEC3_SCALE_UP_OVERSHOOT_Y","VEC3_SCALE_UP_OVERSHOOT_X","VEC3_HALF","VEC3_6_5","addItemAnimation","itemEffect","playExplosionParticles","playQuickAnimation","playStandardAnimation","_playQuickAnimation","scaleUp","startX","startY","tempTargetPosition","move","progressX","quadOut","midY","interpolatedMidY","progressY","cubicOut","_playStandardAnimation","scaleUpAnimation","moveCloseAnimation","jumpInAnimation","jumpPosition","ShiningStar","_animateScaleDown","_animateScaleUp","_animateFadeIn","_animateBounceAndFall","_animateDisappear","_animateAppear","_playAnimation","isBeingAnimated","twScaleUpDuration","twBounceAndFallDuration","twStartScale","twEndScale","shine","isAvailable","animateAppear","animateDisappear","animateFadeIn","animateScaleUp","animateBounceAndFall","animateScaleDown","randAngleRange","randAngle","endY","bounce","randRotation","scaleUpDuration","startScale","endScale","bounceAndFallDuration","StarParticles","_fireShiningStarAt","getFirstAvailableShiningStar","_targetPosition","playAnimation","shiningStars","getClosestPairLoop","points","getDistanceFromPoints","getDistance","maxCoords","newDistance","getCell","setCell","getFlatCoord","_matrix$index","Infinity","toSortedIndices","compareFn","entry","randomSign","Ray","RayManagerProperties","RayManager","rayPool","createRayPool","rayPrefab","prepareRays","properties","segments","destroyAllRays","_getRays","getRays","_getRays2","rays","firstSeed","getSeed","createRayAnimation","releaseRays","prefab","activeRays","inactiveRays","getRay","_retrieveRay","retrieveRay","createRay","currentPool","_getRay","_getRay2","ray","raysToCreate","_createRay","_createRay2","releaseRay","destroyAllChildren","_pool$inactiveRays","_toArray","first","rayComponent","alignRays","rayManager","getSimpleRayAnchorsCached","getSimpleRayAnchors","jaggedness","simpleAnchors","transformedAnchors","transformFromSimpleToWorld","transformPoint","alignRayCached","alignRay","alignRayToTransformed","lastEndAnchor","currentSeed","_getSimpleRayAnchorsC","getRayThickness","alignedRay","tempDirection","startAnchor","endAnchor","midX","subtract","widthOffset","setRotationFromEuler","thicknessStart","thicknessEnd","_tween$call$call$set$","secondSeed","thirdSeed","parallel","segmentCount","containerHeight","horizontalDeviation","lastRatio","minX","maxX","endX","pseudoRandomRange","minY","maxY","fromStart","fromEnd","fromDirection","toStart","toEnd","toDirection","fromAngle","cosR","sinR","transVec","VEC3_0_300","Cloud","cachedCanvasUiTransform","_this$cachedCanvasUiT","transform","assert","_tween$call$delay","screenWidth","worldX","_this$canvas","screenHeight","hiddenPosition","_this$canvas2","_this$getRandomInitia","getRandomInitialPosition","initialX","initialY","CloudEffectProperties","CloudEffect","_playMultiThunderAnimation","_playThunderAnimations","canvasUiTransform","_tween","manager","flat","clouds","cloud1","cloud2","cloud3","configs","getSimpleCloudPositions","getCloudFxTween","effect","cloud","getMoveToScreenCenterTween","tilesCount","pair","ADD_SCORE","shakeGame","shakeScreen","getLightningTween","closestPairIndices","second","getClosestPairLoopWithPoints","_getClosestPairLoopWi","_getClosestPairLoopWi2","getClosestPairIndex","_A$split","closestPair","otherTiles","box","closestTile1","closestTile2","otherTile1","otherTile2","otherPosition1","otherPosition2","xMax","yMin","yMax","multiCloudY","singleCloud1Y","singleCloud2Y","multiCloudX","singleCloud1X","singleCloud2X","multiCloudPosition","singleCloudPosition1","singleCloudPosition2","sortedIndices","getMultiTileCloudFxTween","getSingleTileCloudFxTween","moveInTween","getMoveToScreenTween","clearTween","clearTiles","explosionTween1","createClearExplosionAt","lightningTween1","lightningTween2","explosionTween2","cloudTween1","cloudTween2","moveOutTween","getMoveOutScreenTween","_config$delay2","cloudEffect1","cloudEffect2","moveInTween1","moveInTween2","EffectManager","_shakeGame","_setBackgroundMaskActive","_createClearExplosionAt","_createBombExplosionAt","_createDefuseExplosionAt","_loadTornadoSpine","_loadClearExplosionPool","_loadBombExplosionPool","_loadDefuseExplosionPool","_playItemAddAnimation","_playThunderAnimation","_playTornadoAnimation","maskTargets","gameShakeSignal","clearParticleHolder","leftConfetti","rightConfetti","mask","masks","handleBoardResize","clearExplosionContainer","isLandscape","cloudScale","cloudEffect","_positions$","_positions$2","clearParticle1","z2","clearParticle2","starParticle","fireShiningStarAt","_this$node$parent","_this$node$parent2","burstCount","startSpeedMin","startSpeedMax","leftAngle","rightAngle","spine","tornadoSpineNode","setAnimation","setCompleteListener","resetMasks","_pairs","_pairs$","_pairs$2","tile3","tile4","setMaskProperties","setBackgroundMaskActive","playThunderAnimations","worldY","_director$getScene","getChildByName","itemType","hintSpriteFrame","thunderSpriteFrame","tornadoSpriteFrame","pliersSpriteFrame","FULL_ANIM_USED_ON_ADD_ITEM","playMultiThunderAnimation","_this$vibrate","_this$vibrate2","loadDefuseExplosionPool","loadBombExplosionPool","loadClearExplosionPool","loadTornadoSpine","defuseExplosionPool","loadPrefabAsync","BOMB_DEFUSE_PREFAB","createDefuseExplosionPool","bombExplosionPool","BOMB_EXPLODE_PREFAB","createBombExplosionPool","clearExplosionPool","CLEAR_EXPLOSION_PREFAB","createClearExplosionPool","TORNADO_SPINE_PREFAB","tornadoContainer","defuseExplosion","anim","bombExplosion","_node$getComponentInC","clearExplosion","getComponentInChildren","backgroundMask","changeStateFade","defaultPos","target2Position","shakeTween","_class3$FULL_ANIM_USE","GuideKeys","Guide01Newbie","alignSkipButton","gameplay","guideSkipButton","guideUi","skipContainer","boardBoundingBox","getBoundingBoxWorld","topBoard","rightBoard","topScreen","guideSkipButtonXPosition","guideSkipButtonYPosition","_close","_showStep","currentStep","showNextStep","SIZE_CHANGED","showStep","newbieStep","_this$gameplay","startTileCoords","endTileCoords","endPosition","_this$manager$guideUi","guideHand","guideTextBox","playHandAnimation","alignGuideTextBox","setLocalizedText","comboManager","_this$gameplay2","bottomBoard","guideBoxNewXPosition","guideBoxNewYPosition","guideBoxHeight","_this$gameplay3","completeGuide","Guide02Timer","_setup","guideMasks","guideInfoText","guideInfoTextLocalizer","horizontalAlign","HorizontalTextAlignment","CENTER","GUIDE_MASK_CLICKED","_this$manager$guideUi2","clock","uiManager","currentLayout","_contentSize","clockPosition","guideInfoTextY","isPortrait","setOtherMaskTransform","_this$manager$guideUi3","stateManager","Guide03Combo","RIGHT","comboContainer","comboPosition","Guide04Hint","ITEM_MASK_CLICKED","useItem","guideItemButton","itemPosition","setItemMaskTransform","setTransform","guideInfoTextPosition","Guide05Thunder","Guide06Storm","Guide07Pliers","GuideHand","circleHighlight","circleHighlightOpacity","handTween","hand","playHighlightAnimation","GuideItemButton","GameMask","AlphaMasks","_this$getComponent","_step$value","setProperty","_this$UITransform","_mask$uiTransform","maskUIWidth","maskUIHeight","maskWidth","maskHeight","_this$material","GuideMasks","_hide","maskButtonComponent","alphaMasks","setMaskTransform","GuideTextBox","localizer","opacityToggler","GuideUI","RANGE_HINT_GUIDE_LEVELS","RANGE_ERROR_PATH_LEVELS","STATUS","GuidelinesManager","_skipNewbieGuide","guideHintDelay","guideStormDelay","startComboGuide","startAutoGuides","handleUseItem","stopAutoGuides","isNewbieGuideLevel","hasGuideItemShowed","resetGuideItemShowed","startGuide","addGuideItemShowed","TUTORIAL_BEGIN","guide1","setup","guide2","guide3","guide4","guide5","guide6","guide7","TUTORIAL_STEP","currentLevel","getCurrentLevel","getGuideItemShowed","guideItemShowed","_player$getGameData$g","levelManager","getLevelData","startHintGuide","startStormGuide","isHintGuideLevel","SHOW_HINT","Tween","itemManager","canUseItem","_this$guide","_this$guide2","_this$guide3","_this$guide4","_this$guide5","_this$guide6","itemConfigs","_itemConfigs","canActivate","quantity","ItemManager","updateItemsConfig","REFRESH_ITEMS","animate","q","saveQuantity","updateItemConfig","_this$game","canUseHintItem","canUsePliersItem","canUseTornadoItem","canUseThunderItem","_Object$keys","itemKey","itemConfig","updateStatus","MatchModes","ScoreManager","_updateScore","currentScore","remainingTime","levelMultiplier","getLevelMultiplier","comboMultiplier","getComboMultiplier","timeMultiplier","getTimeMultiplier","customBonusScoreMultiplier","getCustomBonusScoreMultiplier","newScore","roundScore","setScore","initCurrentScore","updateScore","_MatchUtils$getMatchC","SCORE_UPDATED","getCustomBonus","BaseState","getGameplay","updateStateData","logDebug","stateName","FailState","_BaseState","_openFailScreenAndWaitForClose","_handleChallengeGameOver","_handleTournamentGameOver","_handleSingleGameOver","failKey","stopAllSounds","vibrateDevice","pauseCountdown","updateMatchCustomData","handleGameOver","logLevelFailAnalytics","pauseTime","handleSingleGameOver","handleTournamentGameOver","handleChallengeGameOver","_failScreenPayload$sc","_customScreenPayload$","openFailScreenAndWaitForClose","screenData","openCustomGameScreen","customMode","rescue","forceMode","ScreenUtils","openScreenAndWaitForClose","ScreenKeysEnum","CUSTOM_GAME_SCREEN","_this$game3","_this$game2","TournamentUtils","validateTournamentExpired","setStorageData","showNotificationScreenWithLocalizedKey","_this2$game","_storage$getStorageDa","getStorageData","scoreManager","getCurrentScore","isAnimateTournament","_MatchUtils$getMatchC2","_this$data$level","saveTournamentProgress","finishMatchAsync","_MatchUtils$getMatchC3","challengeData","extraData","SHOW_CHALLENGE_RESULTS","RESCUES_SCREEN","_this$game4","_this$data$level2","updateMatchStateAfterLevelFinish","_this$data$level3","levelFail","createInitializeState","createPlayingState","createFinishState","T","Time","AdTypes","NotifyPlayerBeforeShow","FinishState","_handleUnlockCustomMode","_handleFinishHardLevel","_showAdsNormalLevel","_handleFinishNormalLevel","_handleFinishSingle","_handlePostTournamentScore","_handleFinishTournament","_handleFinishChallenge","_handleFinishStateFlow","handleFinishStateFlow","processCrazyGamesEvent","attemptCallCreateShortcut","updatePlayerProgress","handleFinishChallenge","handleFinishTournament","handleFinishSingle","logLevelCompleteAnalytics","gameplayStop","isReadyAdShowable","INTERSTITIAL","checkAndCreateShortcutAsync","catch","nextLevel","correctLevel","levelComplete","showLoadingScreen","closeLoadingScreen","handlePostTournamentScore","_this$data$level4","playConfettiEffect","sleepAsync","showInterstitialAdAsync","forLevel","postScoreAsync","setLeaderboardScoreAsync","turnUpMusic","_this$data$level5","isHardLevel","handleUnlockCustomMode","handleFinishHardLevel","handleFinishNormalLevel","handleNextLevelSingle","_this$data$level6","_ref3$coins","_ref4$score","interstitialAdIndicator","flash","isYandex","isGameSDK","showAdsNormalLevel","LEVEL_COMPLETE_SCREEN","overrideAnimation","openScreen","lookingForRewards","_player$getGameData2","_this$data$level7","showRewardedInterstitialAdAsync","showError","_player$getGameData$c","_player$getGameData3","_MatchUtils$getMatchC4","_MatchUtils$getMatchC5","_this$data$level8","levelCompleteScreenData","_ref6$canShowRewardsA","canShowRewardsAd","GET_REWARDS_SCREEN","_ref7$getRewardsSucce","getRewardsSuccess","_ref7$rewardsAdShown","rewardsAdShown","getRewardItems","_player$getGameData4","_MatchUtils$getMatchC6","_this$data$level9","_ref8$coins","_ref9$score","SceneUtils","switchToDashboardScene","ADD_ITEM","InitializeState","_handleTournamentModeStart","_handleSingleModeStart","_handleChallengeFriendModeStart","_loadSingleMode","_loadChallengeFriendMode","clearBoard","initAdPreload","initCountdown","initScore","loadLevelAndUI","setAdVisibility","loadLevel","updateUI","rescueTiles","destroyTiles","clearAnimationQueue","clearMatchPath","NUM_LEVEL_WITHOUT_BANNER_ADS","setAdEnable","updateBannerAdsByLayout","refreshBannerAdVisibility","loadChallengeFriendMode","handleChallengeFriendModeStart","loadSingleMode","handleTournamentModeStart","handleSingleModeStart","getMatchCustomDataAsync","updateGameData","fen","loadLevelSpriteFrames","animateTilesAppear","ready","_this$game$guidelines","guidelinesManager","HARD_LEVEL_SCREEN","closeScreen","animateTilesWave","_this$game$guidelines2","isAdPreloadedForCurrentLevel","clockManager","setLevelText","createReadyState","PlayingState","startCountdown","preloadNextLevelSkins","preloadAdsByType","preloadLevelSpriteFrames","createFailState","PRELOAD_SOUNDS","ReadyState","_handleGuideFlow","turnDownMusic","preloadAssets","handleGuideFlow","setGridPlayable","logLevelStartAnalytics","_message","preloadSounds","preloadEffects","_PRELOAD_SOUNDS","sound","_gameplay$guidelinesM","_ref$score","levelStart","StateManager","fail","_construct","_len3","_key3","_len4","_key4","_len5","_key5","LeaderboardUtils","_LeaderboardUtilsCore","LeaderboardUtilsCore","_waitForLeaderboardFinishAsync","_requestLeaderboardAsync","_getAllLeaderboardAsync","leaderboardName","getLeaderboardName","res","getLeaderboardResponseAsync","requestLeaderboardAsync","amountPlayer","getLeaderboard","isLeaderboardRequesting","waitForLeaderboardFinishAsync","interval","setInterval","clearInterval","_leaderboard$getLeade","isRequesting","TournamentManager","_requestLeaderboardData","_requestLeaderData","_requestTournamentData","_init","leaderData","tournamentData","leaderboardData","requestTournamentData","requestLeaderData","_TournamentUtils$getT","requestTournamentDataAsync","getTournamentDataById","requestLeaderboardData","leaders","leader","rank","getAllLeaderboardAsync","LOADING_INTER_NOTIFICATION_LOCALE_KEYS","InterstitialAdIndicator","_flash","_this$signal","localeKey","labelLocalizer","flashes","ComboContainer","updateWidget","ComboProgressBar","progressBar","comboTimer","isActive","handleComboUpdated","RequestItemLocalizedKeys","_RequestItemLocalized","SpecialItem","editorOnly","_animateAddItem","_activate","vibrateComp","_config$items","setActiveStatus","setQuantity","requestItem","isDevButton","quantityLabel","quantityNode","plusNode","animateAddItem","GET_ITEM_SCREEN","localizedMessageKey","_this$vibrateComp","_this$vibrateComp2","glowUIOpacity","Clock","_handleRescueFinished","_handleRescueStart","updateTimeLabel","handleRescueStart","handleRescueFinished","timeText","convertSecondsToMmSs","timeLabel","minutes","remainingSeconds","formattedMinutes","padZero","formattedSeconds","number","scaleUpTween","clockIconTween","clockIcon","clockIconTweenLoop","scaleDownTween","OverlayUtils","_OverlayUtilsCore","OverlayUtilsCore","_createOverlayViewAsync","_inviteFriendsWithOverlay","_shareBestScoreWithOverlay","playerScore","isOverlayViewAPIAvailable","shareAsync","intent","imageOverlayPath","pathToCSS","initialData","shareDestination","switchContext","SHARE","share_content_type","success","inviteAsync","default","localizations","vi_VN","INVITE","invite_content_type","gameSDK","isNEZP","isRestricted","pathToXML","domElement","iframeStyle","overlayViews","createOverlayViewAsync","isPrimaryLayoutLandscape","scaleX","scaleY","getViewResolutionPolicy","getContentStrategy","ResolutionPolicy","ContentStrategy","FIXED_WIDTH","FIXED_HEIGHT","view","getResolutionPolicy","PlayerAvatarOverlay","createMainDiv$","mainDiv$","createElement","scrollbarWidth","alignItems","overflow","backgroundColor","transition","pointerEvents","display","updateContainerWidth$","body","appendChild","isPlayerIdValid$","test","showOverlay$","overlayView","showAsync","fadeIn","avatarWidth","finalScaleFactor","LANDSCAPE_SCALE_FACTOR","getGameScaleFactor","getIframeCss$","_fadeOut","_fadeIn","_hideOverlay","_updateOverlay","scaleFactor","_payload$avatarWidth","_payload$customCss","customCss","moveOverlayTo","currentPlayerId","dismissAsync","I","Image","frameCapture","CacheUtilsCore","_loadImage","_loadPlayerAvatar","_getPlayerAvatar","url","avatar","playerAvatarCache$","loadPlayerAvatar","image","loadImage","createWithImage","captureAsync","renderOptions","_unused","CacheUtils","_CacheUtilsCore","TOURNAMENT_RAIL_OVERLAY_CSS","LeaderRail","_updatePhoto","isOverlayMode","playerAvatarOverlay","showAvatarOverlay$","_this$playerAvatarOve","_this$getAvatarPositi","getAvatarPosition$","updateOverlay","getAvatarWidth$","_this$avatar$node","worldPositionX","worldPositionY","createAvatarOverlay$","handleAvatarPositionChanged$","_this$playerAvatarOve2","_this$getAvatarPositi2","defaultAvatar","cleanupOverlay","immediately","addScore","scoreTween","scoreLabel","getPhoto","getPlayerAvatar","crown","spark","_this$playerAvatarOve3","hideOverlay","TOTAL_LENGTH","TournamentProgressBar","_updateProgress","playerLeader","progressTween","TournamentRail","_showScoreUpdatedNotice","_runActiveAnimation","_runBubbleAnimation","_handleScoreUpdated","_syncRail","_updateStatus","challengerJoinedY","nextLeaderIndex","minScore","maxScore","updatePhoto","devTools","challengerJoinedUiOpacity","getScoreReachedLeaderIndex","syncRail","minLeaderData","maxLeaderData","minRank","setRankLabel","currentRankLocalizer","reachMaxLeader","nextRankLocalizer","runActiveAnimation","sword","setCrown","playSparkParticle","updateProgress","stopSparkParticle","getProgress","showScoreUpdatedNotice","reachedIndex","runBubbleAnimation","flag","setParams","getMedianScore","handleScoreUpdated","midPosition","moveIn","wait","moveOut","fadeOut","GameSceneLayout","_playEntranceAnimUI","_playExitAnimUI","_waitForInitAsync","entranceSignal","exitSignal","_level","tournamentRail","_score","SortNodeUtils","_SortNodeUtilsCore","SortNodeUtilsCore","layerNodes","nodeMetadata","movedNodes","listenEvents$","onAfterUpdate$","onAfterRender$","sortNodes$","restoreNodes$","metadata","needsPositionUpdate","layerNode","revertNodeTransform$","originalLocalTransform","setRotation","restoreNode$","keepInLayer","revertNodeSiblingIndex$","originalSiblingIndex","getSiblingIndex","siblingLength","layerPrefab","layerPrefab$","insertChild","onDestroyed$","removeNodeFromLayer","NodeEventType","NODE_DESTROYED","onParentTransformChanged$","TRANSFORM_CHANGED","getPosition","getRotation","getScale","eventHandler","parentTransformHandler","ScoreBlock","isResizeWidth","_resizeWidth","panelWidthDiff","scoreUITransform","scoreText","maxScoreWidth","addScoreTween","resizeWidth","correctScore","currentWidth","nextWidth","uiTween","setNodeToLayer","ChallengeScoreBlock","_ScoreBlock","_showAvatarOverlay","_updateInfo","setAvatarSpriteFrame$","handleScoreBlockPositionChange$","_this$getDefaultAvata","getDefaultAvatarPosition$","_this$defaultAvatarNo","defaultAvatarNode","getDefaultAvatarWidth$","photo","showAvatarOverlay","_unused2","_this$getDefaultAvata2","CustomScoreContainer","customScoreBlock","NORMAL_POSITIONS","sidebar","CUSTOM_POSITIONS","Sidebar","originSidebarPosition","originLeavesPosition","sidebarContainer","leavesContainer","setActive","sidebarTween","leavesTween","entranceCurve","levelNumber","scoreBlock","customScoreContainer","updateUIByMode","itemContainer","sidebarBackground","LandscapeLayout","_GameSceneLayout","originTopNodesPos","saveOriginPos","topAnimNodes","exitTweens","des","playExitAnimUI","entranceTweens","promise","playEntranceAnimUI","updateScoreBlockStatus","playerScoreBlock","opponentScoreBlock","opponent","updateInfo","UIMasks","setMaskActive","CoinContainer","_emitExplodeEffect","_animateCoinText","_updateCoins","currentCoin","coinLabel","GET_COIN_SCREEN","listenToEvents","explosionParticles","_this$animAbortSignal","_animConfig$flyDurati","_animConfig$floatDura","animConfig","animAbortSignal","animateCoinText","setCoins","setCoinTextFromNumber","startCoin","runOnUpdateAsync","initializeExplosionCircle","explosionCircle","resetExplosionCircle","coinIcon","_this$animAbortSignal2","ScoreContainer","scoreBlockShown","challengeScoreBlockShown","showChallengeScoreBlock","hideScoreBlock","hideChallengeScoreBlock","showScoreBlock","Header","scoreContainer","coinContainer","inputBlocker","coinPosition","coinNode","leftNode","levelTextLocalizer","settingNode","homeNode","PortraitLayout","originBotNodesPos","hideBotWorldY","botAnimNodes","_this3$originTopNodes","_this3$originTopNodes2","_this3$originBotNodes","_this3$originBotNodes2","_node$parent$inverseT","_node$parent","header","setButtonsInteractable","_this4$originTopNodes","_this4$originTopNodes2","_node$parent$inverseT2","_node$parent2","_this5$originTopNodes","_this5$originTopNodes2","_this5$originBotNodes","_this5$originBotNodes2","highlightCoinContainer","removeCoinContainerHighlight","TileTypes","Player","Dtos","DevToolsContainer","_handleSwitchLocale","_handleEnterSelectLevel","_handlePrevLevel","_handleNextLevel","bundleName","currentLocaleIndex","debouncedStarsNotification","showNotificationScreen","stars","initCurrentLocale","buttons","devToolsToggle","hideAllButtons","showAllButtons","setPlayerData","Data","getDefaults","NOTIFICATION_SCREEN","START_OVER","_this$game$getGameDat","_this$game$getGameDat2","editBox","_this$game5","buildVersion","getBuildVersion","_this$game6","_game$getGameData","_bombTile$special","bombTile","AUTO_PLAY","REQUEST_UPGRADE_ASSET","showLoadingNotificationScreen","preloadLanguageAsync","CHOOSE_LANGUAGE","saveToPlayerData","reject","PRELOAD_LANGUAGE","onLoad","onError","UIManager","_onOrientationChanged","_hideRescueAnimation","_showRescueAnimation","uiShown","isResetDataListener","showDevTools","UNLOCK_DEV_TOOLS","showRescueAnimation","hideRescueAnimation","onOrientationChanged","portraitLayout","initDevTools","_this2$devTools","handleResetData","injectGameplay","comboProgressBar","disableLayout","enableLayout","_this$game$tournament","coinManager","getCoins","tournamentManager","uiMasks","unHighlightCoinContainer","PAUSE_SCREEN","QUIT_LEVEL_SCREEN","_this$game$tournament2","landscapeLayout","getRemainingTime","waitForInitAsync","_this$game$tournament3","GameplayConfig","Gameplay","DEFAULT_GAME_DATA","isFromLoader","_tryInitTournamentMode","isAutoPlayEnabled","handleOpenScreen","ScreenNames","setInteractableItems","handleCloseScreen","handlePauseGame","pauseSystemEvents","setComboUI","processCrazyGamesGameplayStop","handleResumeGame","_this$guidelinesManag","resumeSystemEvents","processCrazyGamesGameplayStart","handleReplayGame","handleHideHint","startMatchAsync","handleFinishGame","_this$guidelinesManag2","handleNextLevel","_this$gameData$level","log","handleStartOver","_this$gameData","handleMaxLevel","initData","CONGRATULATION_SCREEN","handleExitGame","handleTileClick","handleGridMatchSuccess","drawMatchPath","handleAddScore","playClearEffectAt","handleGridMatchFail","_this$guidelinesManag3","isShowErrorPathLevel","drawErrorPath","handleGridClear","_this$tournamentManag","_this$uiManager","_this$tournamentManag2","handlePauseTime","handleResumeTime","resumeTime","handleClockTimeout","handleHalfTime","startThunderGuide","startPliersGuide","handleStartRescue","_MatchUtils$getMatchM","_this$gameData$level2","_this$gameData2","levelRescue","handleFinishRescue","handleBombExplode","getBlockInput","createBombExplosionAt","isFail","handleShowHint","handleGridOrientationChange","clearHintPath","hideHint","getCombo","getQuantity","handleAutoPlay","disableAutoPlay","enableAutoPlay","autoPlay","handleAddStars","playStarEffectAt","handleChallengeFriends","_this$gameData$levelD","_this$gameData3","generateFenFromCurrentLevel","_ref14$level","_ref15","_ref15$mode","_ref15$rules","_ref15$time","choose","fallbackSingleMode","tryInitTournamentMode","UPDATE_MUSIC","handleAddItem","_ref16","addedQuantity","newQuantity","startWorldPosition","playItemAddAnimation","initComponents","listenCoreEvents","listenFlowEvents","unlistenCoreEvents","initUIManager","initLevelManager","initStateManager","initEffectManager","initItemManager","initCoinManager","initComboManager","initClockManager","initScoreManager","initInputController","initGuidelinesManager","initPathDraw","inputController","Tutorial","Enabled","MAX_LEVEL","CHALLENGE_FRIENDS","initDataFirstTime","initGame","_player$getGameData$l","sceneData","getSceneData","_ref17$isFromLoader","_ref19$isFromLoader","_ref20","_ref20$level","lastRewardedItems","checkItemsRewardable","_ref21$lastRewardedIt","isToday","_playerLeader$score","_playerLeader","_this$tournamentManag3","playerLeaders","getLeadersByPlayerIdsAsync","_ref22","_data$level","_this$gameData4","_this$getGameData","_ref23","_ref23$level","_ref23$nextLevelCount","nextLevelCount","gameplayStart","DashboardEventButtonTypes","LeaderboardEvents","LeaderboardColor","ThemeLocaleKeys","_ThemeLocaleKeys","ThemeKeys","SUMMER","AUTUMN","WINTER","SPRING_FESTIVAL","TREE_PLANTING_FESTIVAL","BLUE_SEA_FESTIVAL","MUSIC_FESTIVAL","HARVEST_FESTIVAL","FOOD_FESTIVAL","SNOW_FESTIVAL","LIGHT_FESTIVAL","PEACE_FESTIVAL","FLOWER_FESTIVAL","STREET_FESTIVAL","COLOR_GARDEN","COLOR_FESTIVAL","NATURE_SUMMER","SNOW_MOUNTAIN","ICE_FESTIVAL","GREEN_GRASS_FESTIVAL","COMMUNITY_FESTIVAL","WATER_FESTIVAL","ANIMAL_FESTIVAL","LOST_FESTIVAL","HALLOWEEN_FESTIVAL","SNOW_MUSIC_FESTIVAL","CHRISTMAS","SPRING_FLOWER_FESTIVAL","TET_HOLIDAY","SEA_FESTIVAL","FIREWORK_FESTIVAL","HALLOWEEN_HORROR","MID_AUTUMN","CHRISTMAS_SWEET","NEW_YEAR_COUNTDOWN","HAPPY_NEW_YEAR","_SpecialItem","HintItem","PliersItem","StormItem","ThunderItem","Material","RendererModule","StartSDKAfterLoadGame","Core","BootScene","_loadGuideSkin","_loadCurrentPlayerTheme","_preloadAssets","setupLoadingFullScreen","addShowedScene","SceneKeys","BOOT_SCENE","isFirstSession","GAME_SCENE","DASHBOARD_SCENE","showLoadingFullScreen","processWhenGameSdkStarted","setupGameData","sendMsGamesDailyNotification","loadBundles","loadBundle","loadWasmModules","getContextType","WasmUtils","loadModuleAsync","lazyLoadWasmModules","handlePauseAudio","VISIBILITY_HIDDEN","handleMuteAudio","VISIBILITY_VISIBLE","handleUnMuteAudio","muteAudio","isAdFullSizeShowing","setupAndroidPlatformAds","processCrazyGamesLoadingStart","loadCurrentPlayerTheme","loadGuideSkin","overrideGameSDK","waitSDKInitiatedAsync","processCrazyGamesLoadingStop","disableBannerAdsOnStartingLevels","catchUp","GAME_READY","GAME_SDK_STARTED","FBInstant","originalShareAsync","customPayload","totalLevel","correctTotalLevel","correctGameData","showBannerAds","currentMap","isNumber","gameLoadingStart","gameLoadingStop","sendDailyNotificationAsync","RigidBodyObject","Canvas","simulate","applyGravity","linearVelocity","applyBounce","gravityScale","applyForce","boundingBox","canvasWidth","onEmptyCallback","AnimSkipOverlay","_open","isOpened","currentCallback","containerUIOpacity","skipButton","onSkip","_payload$opacity","_payload$transitionDu","transitionDuration","maskUIOpacity","animateUIOpacity","OPENED_SKIP_OVERLAY","CLOSED_SKIP_OVERLAY","fromOpacity","toOpacity","SmoothScrollView","mouseScroll","_ScrollView","captureListeners","_hasNestedViewGroup","deltaMove","getScrollY","mouseScrollSpeed","_stopMouseWheel","_handlePressLogic","_checkMouseWheel","_startAutoScroll","mouseScrollDuration","_stopPropagationIfTargetIsMe","ScrollView","ViewNode","order","ScrollViewLayout","_handleViewResized","_scrollToOffset","_scrollToTop","_scrollToOrder","nodePool","nodeHeight","scrollSignalController","onNodeVisible","onNodeInvisible","_this$scrollView$cont","scrollView","contentUiTransform","nodePrefab","createNodePool","_this$nodePool$i","setVisible","updateVisibility","isVisible","SCROLLING","abortScrollSignal","scrollOffsetY","getNodeScrollOffset","currentOffsetY","getScrollOffset","offsetDiff","scrollToOffset","scrollSignal","onAborted","handleScrollSignalAborted","onAbortedWithOffset","handleExternalSignalAborted","_this$viewport$getBou","viewport","bot","maxNodeCount","_this$getNodeBounding","getNodeBoundingBoxWorld","topNode","botNode","getNodeByOrder","invisibleNode","getInvisibleNode","getNodePosition","getVisibleNodes","spacing","initCount","extendCount","nodesToCreate","setMaxNodeCount","_this$scrollView$cont2","_this$scrollView$cont3","_this$scrollView$cont4","nodeWorldPosition","stopAutoScroll","dailyRewards","_Ludex$Configs$DailyR","DailyRewards","MockTime","MaxDays","CheckInterrupt","DATE_LENGTH","DailyRewardsUtilsCore","_getRemainingTime","_getRewardsData","_hasClaimableRewards","_tryUpdateData","logLoginReward","setDirty$","tryUpdateData","shouldUpdateData$","lastUpdate","requestDailyRewardsAsync","getCurrentRemainingTime$","updateInterval","rewards","getDailyRewards","dailyFromPlugin","rewardsData","dailyRewardsData","dayData","_player$getPlayerData","getPlayerData","dailyRewardedData","_ref$firstReward","firstReward","_ref$lastReward","lastReward","lastRewardIndex","findLastRewardedIndex$","nextReward","_player$getPlayerData2","_ref2$logDays","logDays","DailyRewardsUtils","_DailyRewardsUtilsCor","_openPopupScreenAndWaitForClose","_openPopupScreen","hasShownPopup","shown","DAILY_REWARDS_SCREEN","DISTANCE_RANGE","LockAnimator","_playTryToUnlockAnimation","_getExplodeTrail","_explodeTrails","_unlock","trails","prepareTrails","floatingParticles","explodeTrails","unlockClip","lockClip","trail","getExplodeTrail","explodeX","explodeY","explodePosition","ogScale","trailTemplate","trailCount","clipName","iconAnimation","FINISHED","tryToUnlockClip","ThemeProgressBar","progressText","leftCap","rightCap","progressBarComponent","progressTextComponent","defaultBlock","ThemeBlock","_animateUnlockedState","_updateThemeAsync","_updateSkinAsync","_playUnlockAnim","updateTitle","updateSkinAsync","updateThemeAsync","lockAnimator","lock","setProgress","animateUnlockedState","titleLocalizer","skinKeys","tileBlockIconSprite","skinCount","spritesPromises","skinKey","loadSkinPreviewAsync","skinSprites","spritesPerSkin","remainingSprites","spritesEachSkins","tileIndex","skinSprite","firstSkinSprite","themeSprite","getAsset","ThemePreviewResourcesMapping","themeLoadingRing","loadThemePreviewAsync","_this$maskUIOpacity$o","progressBarUIOpacity","unlock","containerOpacity","titleOpacity","newTilesOpacity","CollectionsContent","_scrollToCurrentUnlockingTheme","_playThemeTabUnlockAnim","animateThemeBlockUnlockIndex","themeScrollViewInited","payloads","preservedScrollPosition","hideContent","contentOpacity","showContent","themeScrollView","unlistenUIEvents","_payload$skins","themeBlock","animateUnlock","lastMapPackId","_payload$skins2","themeNode","playUnlockAnim","scrollToOrder","panelAnimator","StarProgressBar","_animateTo","total","updateProgressLabel","progressLabel","separator","onProgress","Str","DailyRewardsWidget","_refresh","_startSelfRefreshSchedule","signalController","handleScreenClosed","refresh","progressBarAndLabel","sig","updateRemainingTime","hours","padStart","updateProgressBar","claimable","hasClaimableRewards","setParticles","setProgressBarAndLabelVisibility","startUpdateRemainingTimeSchedule","startSelfRefreshSchedule","EventButton","_ExtendedButton","_isAvailable","eventType","STAR_CHEST","DashboardHeader","handleStarsUpdateEvent","dailyRewardsWidget","chestButton","starProgressBar","setRange","updateStarChestButtonAnimation","containerWidget","isAlignLeft","isAlignRight","containerUITransform","SETTINGS_SCREEN","JourneyLevelAvatar","_playFlashAnimation","_playUnlockAnimation","_this$sprite$spriteFr","_this$sprite","unlockAnimation","lockIcon","movement","flashAnimation","spawnAnimation","clips","JourneyProgressBar","totalProgress","labelSeparator","nextCurr","nextTotal","_payload$numberOfProg","numberOfProgressBar","onProgressBarPassed","fadeOutText","labelUIOpacity","fadeInText","targetValue","progressAnimation","sineInOutRatio","sineInOut","JourneyProgressAnimator","ProgressConfiguration","_loadAndSetAvatar","_getSpriteFrameByThemeId","_animateTargetAvaToPrev","_animateTargetAvaToCenter","_animateToNextLevel","animateTo","mapsPassed","animateTargetAvaToCenter","currThemeIndex","nextLevelAvatar","playUnlockAnimation","playFlashAnimation","setNextLevelAvatar","animateTargetAvaToPrev","setCurrentLevelAvatar","hideImmediately","moveTargetAvaToOriginal","avatarSprite","getSpriteFrameByThemeId","playSpawnAnimation","nextLevelYOffset","originalNextLevelAvatarPosition","currentLevelAvatarNode","loadThemeThumbnailAsync","setAvatar","loadAndSetAvatar","currentLevelAvatar","LandscapeMask","onViewResized","updateMaskPosition","_this$uiTransform$con","leftMask","rightMask","margin","CustomButton","_handleOnClicked","unlockContainer","unlockedSprite","lockedSprite","_screenPayload$screen","CustomGuideUI","_startGuide","guideShown","customButton","_this$guideMasks","race","waitForClick","PlayButton","hardLevelBackground","HomeContent","_showCustomGuide","_showOwnOverlay","_hideOwnOverlay","_playUnlockProgressAnimationOnly","_playUnlockProgressAndPackAnimation","_ref$level","_ref$stars","playButton","dashboardHeader","updateStarProgress","updateDailyRewardsButton","currProgress","resetAnimationQueue","updateCurrentMapInStorage","_dashboardStorage$ani","_tournamentStorage$an","lastProgress","getCurrentMapProgress","encode","lastMapIndex","currMapIndex","playUnlockProgressAnimationOnly","playUnlockProgressAndPackAnimation","showOwnOverlay","journeyProgressAnimator","animateToNextLevel","hideOwnOverlay","overlayDuringAnim","landscapeMask","customGuideUI","DashboardPage","darkenBackground","useNavbarShadow","_mount","pagePrefab","widgetComponent","placeholderUIOpacity","placeholder","hasCreated","mountInLifeCycle","trackCurrentPage","backgroundOpacity","navbarShadowOpacity","CollectionsPage","_DashboardPage","_transitionOut","_transitionIn","panelAnimationController","onMount","themeContent","collectionPayloads","updateUnlockedProgress","restoreScrollPosition","uiAnim","showUI","preserveScrollPosition","hideUI","PageManagerItem","PageManager","_transition","_handleNavBarShadow","_handleBackgroundMask","_transitionInPage","_navigateFromNull","_mountPage","_performFullTransition","_navigateFromPage","_navigate","pageItems","pageType","currentScreen","unmount","pageItem","getWidget","getPageIndex","collectionsPage","getPage","collections","setPayload","onTransitionIn","navigateFromPage","navigateFromNull","_this$validateNavigat","validateNavigationRequest","toPage","fromPage","startIndex","endIndex","leftIndex","rightIndex","isPageLoading","hasLoadedPage","remainingItems","cleanupPages","mountPage","callAsync","performFullTransition","transitionInPage","hideLoadingScreen","transitionOut","handleBackgroundMask","backgroundMaskTransitionDuration","getDarkenBackground","handleNavBarShadow","navBarShadowTransitionDuration","getNavbarShadow","mount","transitionIn","screen","_this$pageItems$index","_this$pageItems$index2","nextOpacity","backgroundMaskTransitionDelay","navBarShadow","navBarShadowTransitionDelay","quintInOut","NavManager","_playSelectorAnimation","_selectDefaultNavBtn","_selectByType","_selectUsingSceneTransition","_select","navButtons","selectorAnimationSignal","isNavigating","selectedButton","_this$selectedButtonN","selectedButtonNode","isWIP","buttonType","deselectAnim","deselect","autoLayout","getSelectedWorldX","getSelectedWorldDistanceX","selectorAnim","playSelectorAnimation","selectAnim","select","handleWIPButton","store","screenType","selectUsingSceneTransition","STAR_CHEST_SCREEN","currentButton","selectorNode","targetWorldX","originalScale","originalPosition","squashedScale","selectorTween","nextScale","calculateCurrentSquashScale","squashed","calcRatio","splitIntoSquashRatio","navWidget","backgroundWidget","layoutWidget","DashboardScene","_tryShowCustomModeGuide","_tryPlayLevelUpAnimation","_tryNavigateToTournament","_handleLogicAfterNavigateToHome","_handleNavigateToHome","_triggerPageNavigation","_tryPlayScrollToCollectionAnim","_openSkipOverlay","_closeSkipOverlay","_handleLogicAfterNavigateToCollections","_onNavigate","_updateMusic","_switchToGameScene","_handlePlayButtonPress","firstNavigation","isFirstNavToCollections","isFirstNavToTournament","navigationSignal","listenNavigationEvents","listenDashboardEvents","createLayer","setPlayerLevel","updateBackgroundImageToCurrentTheme","pageManager","updateCollectionsContentPayload","onNavigate","handleDashboardPlayButtonPress","handleCustomPlayButtonPress","handleEventButtonPress","updateMusic","navManager","selectDefaultNavBtn","preloadScene","preloadSkins","preloadScreens","isSceneLoaded","preloadGameScene","preloadScreen","LOADING_SCREEN","skinPath","checkAndSubscribeBotAsync","isSameProgress","leftTheme","isDevToolTimeTravel","bgComp","setCurrentTheme","lastProgressId","currProgressId","handlePlayButtonPress","currMapPayload","_ref2$level","switchToGameScene","transitionOpacityToggler","getCurrentMusic","playMusic","unmountAndHideAll","triggerPageNavigation","handleLogicAfterNavigateToCollections","cleanupAfterPageNavigation","TOURNAMENT_DETAIL_SCREEN","handleNavigateToHome","_this$pageManager$get","getContainer","requireAnimation","shouldAnimateThemeBlockUnlock","openSkipOverlay","tryPlayScrollToCollectionAnim","playThemeTabUnlockAnim","closeSkipOverlay","pageAnimSkipOverlay","open","currentlyUnlockedIndex","getCurrentUnlockingThemeIndex","scrollToCurrentUnlockingTheme","_this$navigationSigna","navigate","_this$navigationSigna2","initializeHomepageCoinManager","handleLogicAfterNavigateToHome","shouldPlayLevelUpAnimation","openPopupScreenAndWaitForClose","attemptCallSubscribeBot","waitUntilCoinManagerFinishesAnyAnimation","waitUntilPageAnimSkipOverlayCloses","tryNavigateToTournament","tryPlayLevelUpAnimation","tryShowCustomModeGuide","untilFinishesCollectAnim","untilClosed","selectByType","getTournamentAsync","getEndTime","_this$pageManager$get2","homepage","shouldPlayUnlockAnimation","shouldPlayPackUnlockAnimation","_this$pageManager$get3","playUnlockProgressAnimation","_this$pageManager$get4","setTargetContainer","getCoinContainer","_this$pageManager$get5","_ref4$level","_ref4$guideItemShowed","showCustomGuide","DAILY_REWARDS","openPopupScreen","BALLOON","PageContent","PageHeader","_loadLeaves","_handleOrientationChanged","loadLeaves","leaves","leavesPrefab","PAGE_LEAVES_PREFAB","HomePage","_updatePlaceholderCoins","updatePlaceholderCoins","homeContent","_ref$coins","initUnlockProgressData","setUnlockProgress","JoinLeaderboardContainer","joinButton","SwitchButton","useSound","isMouseLeaved","buttonComponent","mouseEnterClip","mouseLeaveClip","addClip","nodeOn","nodeOff","Tabs","tabDaily","tabWeekly","setEnabled","WORLD_TAB_SELECTED","WEEKLY_TAB_SELECTED","LeaderboardTimer","alreadyShown","timerOpacity","timerLocalizer","backgroundDefaultWidth","calendarDefaultPosition","calendar","calendarTween","backgroundTween","labelTween","resettable","UTC","getUTCFullYear","getUTCMonth","getUTCDate","day","getUTCDay","timeString","getRelativeTime","LeaderSkeleton","float","Leader","_runUpdateDataAnimation","_runScaleAnimation","_runWorldPositionAnimation","_runShowUpAnimation","defaultRank","rankSprite","defaultScoreBackground","scoreBackground","maxRank","updateRank","updateUsername","isHighlight","highlightBackground","rankLabel","highlightRank","goldRank","silverRank","bronzeRank","shadowColor","outlineColor","isAvatarCached","setPhoto","nameLabel","highlightScoreBackground","floatTween","opacityTween","nameOpacity","scoreOpacity","avatarOpacity","positionTween","oldRank","newRank","oldScore","Leaders","_scrollToLeaderRank","_playPostRankChangeAnimation","_scrollToPlayerLeader","_playShowLeadersAnimation","_playRankChangeAnimation","_updateData","displayLeaderData","displayPlayerLeader","setupDisplayLeadersData","maxLeader","oldLeaderData","playerLeaderData","playerLeaderNode","tempLeader","runScaleAnimation","scrollDuration","scrollAnimations","runUpdateDataAnimation","scrollToLeaderRank","maxScrollOffsetY","getMaxScrollOffset","endWorldPosition","_permutedLeader$node$","permutedLeader","runWorldPositionAnimation","playPostRankChangeAnimation","updateNodeVisibility","visibleLeaders","viewNodes","getAllNodes","runShowUpAnimation","currentRank","previousRank","playerData","leaderAnimations","leaderWorldPosition","LeaderboardContentOverlay","isPageMounted","userSelect","isPayloadChanged$","currentPayload$","leaderboardPlayers","currentPlayer","newPlayer","overlayElement$","revealMainDiv$","OVERLAY_SHOW_COMPLETED","scrollTop","validateOverlayPayload$","correctedPayload","validateRegEx","widthCss","leaderboardPosition","playerCount","getElementDivWidth$","heightString","updateMainDivPosition$","cssWidth","cssHeight","getElementDivHeight$","cssTopOffset","getElementDivTopOffset$","HEADER_HEIGHT","_handleShowUICall","_handleHideUICall","OVERLAY_SHOW_STARTED","validatedPayload","moveMainDiv","updateAsync","LeaderboardIsEmpty","returnTween","LeaderboardConfigs","EmptyLeaderboardError","LeaderboardContent","_handleJoinLeaderboard","_loadPlayerLeaderData","_playLeadersShowupAnimation","_hideLoading","_showLoading","_loadLeaderboard","_super2","currentLb","currentTab","hasPlayedAppearAnim","friends","global","global_weekly","dailyFBOverlay","weeklyFBOverlay","unlistenEvents$","handleViewResized$","handleWeeklyTabSelected$","handleDailyTabSelected$","enableOverlayLoadingNode$","disableOverlayLoadingNode$","getLeaderboardName$","cleanupSideEffects$","hideLeaders","leaderboardIsEmpty","joinLeaderboardContainer","initializeStatusUpdate$","tabs","timer","setTimeLabel","loadLeaderboardData$","showLoading","loadLeaderboard","hideLoading","handleSuccessfulLoad$","handleOverlayMode$","handleRegularMode$","handleGuestUserFlow$","_this2$timer","handleUpdateOverlayAfterSignal$","updateOverlay$","setupTimerWithLeaderboard$","playLeadersShowupAnimation","_this2$timer2","_this2$currentLb","_this2$timer3","_this2$joinLeaderboar","isGuest","updateJoinLeaderboardButton","handleLoadError$","handleEmptyLeaderboard$","sortedLeaders","correctRankText","correctOverlay","getCorrectOverlay$","getLeaderboardSize$","hideContent$","_this2$dailyFBOverlay","_this2$weeklyFBOverla","updateOverlayMountStatus","handleHideUICall","showContent$","handleOverlayShowUICall$","_this2$weeklyFBOverla2","_this2$dailyFBOverlay2","handleShowUICall","createFBOverlay$","leaderboardUITransform","_this2$leaders$node","loadingNode","_LeaderboardConfigs$L","_LeaderboardConfigs$L2","Limit","lb","loadPlayerLeaderData","skeletonDelay","scrollToTop","leaderSkeletons","skeleton","_type","_this$dailyFBOverlay","_this$weeklyFBOverlay","_this$dailyFBOverlay2","_this$weeklyFBOverlay2","setIsPageMounted","scoreChanging","updateData","rankChanging","updateDisplayPlayerLeaderForRankChanging","initScrollViews","playShowLeadersAnimation","scrollToPlayerLeader","playRankChangeAnimation","leadersByIds","lastNode","updatePosition","initPlayerAsync","LeaderboardPage","entering","_this$content","_this$content2","_this$content3","TopLeader","Mask","_setPhoto","avatarTween","TournamentBlock","_runShowPopUpAnimation","_getLeadersPayload","_updateTournamentBanner","_updateTopLeader","_fetchAndUpdateLeadersPayload","hasPlayedAnimation","endTime","title","tournamentType","_tournament$payload","_tournament$payload$t","topLeader","setPlayerCountWaiting","updateTitleTournamentTitle","updateTitleWithPlayerName","updateEndTime","updateTournamentBanner","fetchAndUpdateLeadersPayload","leadersPayload","getLeadersPayload","updateLeadersPayload","_this$leadersPayload","updatePlayerCount","updatePlayButtonLabel","updateTopLeader","timeLocalizer","shortPlayerNumber","playerCountLocalizer","_A$search","Mockup","bannerMask","bannerLoadingRing","banner","isPlayerInTournament","playButtonLocalize","_leaderboardData$amou","tween1","tween2","tween3","RELOAD_TOURNAMENT","stringify","tournamentContextType","showTournamentDetailScreen","TournamentBlockSkeleton","TournamentsBoard","_showTournamentBlocks","tournamentBlockArray","addTournamentBlock","tournamentBlock","tournamentBlockContentHeight","spacingY","hasPlayerTournament","setCreateTournamentButtonActive","tournamentBlockNode","tournamentBlockPrefab","tournamentBlocks","getActiveTournamentBlocks","createTournamentButton","removeChild","contentHeight","minTournamentsShow","numberOfTournamentPlayShow","runShowPopUpAnimation","blocks","_uiTransform$getBound","topBlock","botBlock","isOffScreen","TournamentsNotAvailable","TournamentContent","_processCreateTournament","_enter","softAbortSignal","onScrolling","reload","tournamentsBoard","_this$softAbortSignal","isAborted","tournamentsNotAvailable","tryShowTournamentResult","showTournamentBlocks","paddingTop","skeletons","getAllTournamentData","processCreateTournamentAsync","_this$animAbortSignal3","removeTournamentBlocks","_this$softAbortSignal2","softAbort","enter","TournamentPage","EventBadge","EventProgressBar","_Plugins$Analytics","NavButton","_deselect","isSelected","playHoverOnAnimation","playHoverOffAnimation","wip","spacer","isSelectedInEditor","selectedIconScale","selectedIconX","selectedIconY","selectedTextX","selectedTextY","selectedSpacing","deselectedIconScale","deselectedIconX","deselectedIconY","deselectedTextX","initTextY","deselectedSpacing","_this$node$parent$nam","animateSelect","playSelectAnimation","deselectAnimation","deselectedTextY","deselPos","selPos","deselWorldPos","convertToWorldSpaceAR","selWorldPos","animationDuration","easedRatio","backRatio","backOut","linearRatio","linear","halfRatio","iconNextY","iconNextX","iconNextScale","textNextOpacity","textNextY","textNextX","VEC3_1_1","TournamentButton","_handleNormalHotIconCheck","_handleMsGamesHotIconCheck","_handleHotIconAppearance","_onLoad","requestController","handleHotIconAppearance","handleMsGamesHotIconCheck","handleNormalHotIconCheck","tour","showHotIcon","hotIcon","pulse","GameScene","handleGameExit","handleShowResults","switchScene","CHALLENGE_RESULT_SCENE","handleGameMaskWhenLayoutChanged","gameObjectsNode","maskComponent","isTournament","preloadScenes","preloadDashboardScene","START_OVER_SCREEN","ComboEffect","handleOnComboUpdated","circleOpacity","ComboLabel","comboNumber","ComboSpriteLocalizeKeys","ComboPopup","_handleOnComboUpdated","comboController","spriteLocalizer","textUiOpacity","waitUntilLocalized","PlayableScene","_playTweens","_waitViewable","markIsTestScene","PLAYABLE_SCENE","waitViewable","playTweens","playAnimations","setTimeout","openAppStore","isViewable","waitViewableChange","particleLeft","particleRight","backgroundAnimation","PlayerScore","_loadPhoto","avatarOverlay","createAvatarOverlay","waitingUiOpacity","playerScoreUiOpacity","waitingOpacityTween","waitingAnimation","isDefaultPlayerId","getDefaultAvatarPosition","getDefaultAvatarWidth","_this$avatarOverlay","ChallengeResultScene","_handleTryAgainClicked","goToDashboardScene","opponentScore","goToGameScene","RESULT_SCENE_HOME","RESULT_SCENE_REPLAY","handleTryAgainClicked","_state$profiles$playe","_state$profiles$oppon","_state$customData","playerPhoto","_ref$finished","finished","isPlayerFinish","_ref2$photo","opponentPhoto","_ref2$score","_ref2$finished","isOpponentFinish","isMatchFinished","isPlayerWon","isOpponentWon","loadPhoto","setPlayerScore","showCrown","playStatusAnimation","playWaitingAnimation","_ref3$level","_levelData$mode","_levelData$rules","_levelData$time","triggerConfettiAnimation","getSpriteLocalizer","playDrawAnimation","playWinAnimation","playLoseAnimation","drawLocalizer","winLocalizer","loseLocalizer","waitingLocalizer","headerAnimation","BaseScreen","backgroundMaskButton","initializeNodes","maskOpacity","getMaskOpacity","getContainerOpacity","screenOpacity","_this$data$overrideAn","_this$data$overrideAn2","PLAY","_this$data$overrideAn3","_this$data$overrideAn4","isAnimationExist","BackgroundMask","updateMaskAlpha","alpha","appMask","nodeAlpha","getElementById","ScreenConfig","Screens","CongratulationScreen","handleOpeningScreen","validateEventPayload","closeButtonComponent","yesButtonComponent","noButtonComponent","handleOpenedScreen","confirmationUIOpacity","confirmation","listenScreenEvents","unListenScreenEvents","congratulation","requestGameReplay","HorizontalSelector","selfInitialize","selectedItem","selectedItemLabel","emitOnSelectedEvents","onSelectEvents","selectEvent","CustomGameScreen","_handleClickedPlay","setInteractableButtons","runPopUpAnimation","timeSelector","difficultySelector","bombsSelector","extraAdsSwitch","calculateBonus","updateCustomGameData","getSelectedIndex","bonus","bonusLabel","DayBlock","initDefaultProperties","defaultTopBackground","topBackground","defaultDayLabelOutlineColor","dayLabel","blueDayLabelOutlineColor","updateDayLabel","updateRewardItems","blueTopBackground","blueBackground","dayLocalizer","dayLabelColor","rewardItemsNode","checkNode","setGlowNodesActive","glowNodes","DailyRewardsScreen","_handleOnClaimX","_runBlockPopUpAnim","_runButtonPopUpAnim","_runPopUpAnim","_openAsync","dailyLoadingController","setLoading","REWARDED_VIDEO","loadingRing","dailyBlocks","continueButtonScallableNode","claimButtonScallableNode","claimX2ButtonScallableNode","openAsync","shouldPlayAnim","getRewardsData","currentRewardsData","reward","updateScreenData","runPopUpAnim","showElements","currentReward","rewardData","block","setHasShownPopup","runBlockPopUpAnim","runButtonPopUpAnim","dayBlock","claimReward","showRewardVideoAdAsync","coinValue","hintValue","thunderValue","stormValue","claimButton","claimX2Button","closeButton","backgroundButton","continueButton","_DayBlock","DayBlockRed","GetCoinScreen","_handleGetNowButtonClicked","updateCoinQuantity","updateQuantityLabel","skipAnimation","handleAddCoin","getNowButtonComponent","_Ludex$Plugins","ValidItemKeys","GetItemScreen","_handleBuyItemButtonClicked","_handleAddItem","validateEventPayloadData","updateItemIcon","updateDescription","updateButtons","itemSprite","stormSpriteFrame","getItemLocalizedTitleKey","descriptionLocalizer","canBuyItem","buyItemButtonComponent","EARN_ITEM","GetRewardsScreen","_runButtonAnimation","_handleClickedClaim","_stopCountdownAnimation","runCountdownAnimation","countDownLocalizer","stopCountdownAnimation","runButtonAnimation","buttonOpacity","HardLevelScreen","REWARDED_INTERSTITIAL","GetRewardsEffect","onItemFinish","createSprite","nodeTween","playExplodeEffect","getSpriteFrame","LevelCompleteScreen","_triggerCollectItemPlayButtonAnimation","_animateVisibleButtonContainer","_animateLookingForRewards","_animateCoinCollection","_animateScore","_animateCoin","_handleLookingForRewards","_hideTextUntilLocalized","currentCoins","playAnimationSignal","localizeVisibilityController","coinContainerShown","hideTextUntilLocalized","handleParticleEnd","animateCoin","animateScore","handleLookingForRewards","animateVisibleButtonContainer","welldoneUiOpacity","welldoneLocalize","isBoolean","tryPlayAnimation","coinContainerAnimation","coinContainerExitClip","updateCoinContainer","updateButtonsContainer","lookingForRewardsText","customModeUnlocked","homeButton","playBackground","setScreenOpacity","coinText","getRewardsEffect","triggerCollectItemPlayButtonAnimation","animateLookingForRewards","coinAnimation","intQuantity","animateCoinCollection","scoreNum","coinContainerEnterClip","flashTween","buttonsContainer","shineTween","shineBackground","bokehParticles","LOCALIZED_MESSAGE_KEYS","LoadingFullScreen","_sceneName","fadeTween","loadingTween","runLoadingTextAnimation","stopLoadingTextAnimation","updateHintText","loadingLabelLocalizer","hintText","getHintText","Loading","loadingPrefab","_clone","loadingFullScreen","createLoadingFullScreen","LoadingScreen","isClosing","handleClosingScreen","handleClosedScreen","handleOnCloseScreen","NotificationScreen","enableCloseOnTouch","setMessageManually","setMessageUsingLocalizeKey","messageLocalizer","handleClickedClose","QuitLevelScreen","_handleTournamentQuit","_handleClickedQuit","singleDescription","tournamentDescription","quitLabel","endLabel","quitButton","handleTournamentQuit","RescuesScreen","_handleClickAd","_handleClickReplay","_runShowAdContainer","_runAppearTween","_runOpenAnimation","turnOffMusic","resetState","runOpenAnimation","_this$payload$screenD","isBomb","bombAnim","canContinue","replayButton","buyTimeButton","adOpacity","animNodes","runAppearTween","runShowAdContainer","elasticOut","PauseScreen","_handleClickedCreateShortcut","_handleClickedChallengeFriends","_handleClickedRestart","_handleClickedCustomMode","triggerSequence","validateSwitchScreenPayload","updateButtonsStatus","handleResetSequence","handleTriggerUnlockKey","TRIGGER_UNLOCK_KEY","updateVibrateButton","vibrateSetting","opacityState","isMobile","_player$getPlayerSett","changeState","listenUnlockDevTools","unListenUnlockDevTools","TRIGGER_RESET_SEQUENCE","_player$getPlayerSett2","_player$getPlayerSett3","_player$getPlayerSett4","settings","music","musicSwitch","soundSwitch","resumeButton","restartButton","challengeFriendsButton","customModeButton","isSingleCustomMode","setActiveButton","createShortcutButton","isDesktop","setSetting","pauseMusic","vibrateSwitch","resumeGame","MonitorError","SettingsScreen","_inviteWithBestScoreAsync","_inviteWithBestScoreFbInstant","_handleClickedInviteFriends","_handleClickedShare","unlistenScreenEvents","reportButton","shareButton","inviteFriendsButton","feedbackButton","isMSGames","Feedback","feedbackAsync","shareBestScoreWithOverlay","shareBestScoreAsync","inviteWithBestScoreFbInstant","errorKey","ratingAsync","inviteFriendsWithOverlay","inviteWithBestScoreAsync","_player$getPlayer","renderAsync","StarChest","_explodeParticles","_explode","_glow","_scale","_moveToCenter","ogCenterX","ogCenterY","startingOffsetX","startingOffsetY","endingOffsetX","endingOffsetY","startingScale","currentScale","endingScale","ogPosition","shakingTween","ogPos","tw","animateCircle","circle","animateSprites","explodeParticles","StarChestScreen","_fadeOutChestUnlockFX","_fadeInChestUnlockFX","_handleUnlockAnimation","_handleClickButton","numChestAvailable","hasChest","openButton","messageLabelLocalizer","chestAnimation","chestUnlockFXMask","starChest","respawnAtStartingState","prevStars","skipOverlay","handleUnlockAnimation","nextStars","moveToCenter","fadeInChestUnlockFX","startShaking","lastAmount","currChest","stopShaking","glow","stopSound","explode","fadeOutChestUnlockFX","StartOverScreen","cancelButton","TopLeaders","topLeaders","TournamentDetailOverlay","isScreenActive","createLeaderboardDiv$","leaderboardDiv$","createTopPlayerDiv$","topPlayerDiv$","updateTopPlayerElement$","top3Players","tournamentPlayers","top3Payload","topPlayerPosition","topPlayerElement$","getTopPlayerIframeCss$","updateLeaderboardElement$","leaderboardElement$","iframe","getIFrameElement","newIframeStyleString","getLeaderboardIframeCss$","cssText","leaderboardPromise","topPlayerPromise","revealMainDivs$","getElementDivLeftOffset$","moveAndResizeOverlays$","updateDivPosition$","cssLeftOffset","TournamentLeaderSkeleton","abortSignal","CONTAINER_HEIGHT","TournamentDetailScreen","_handleOnContinue","_handleOnReplay","_handleOnPlay","_handleOnLogIn","_loadLeaders","signal$","isOverlayMode$","leadersPayload$","tournamentDetailOverlay$","listenScreenEvents$","handleOpeningScreen$","handleOpenedScreen$","unListenScreenEvents$","validateEventPayload$","payload$","cleanup$","_this$signal$","tournamentLeaders","cleanupOverlay$","_this$tournamentDetai","_this$leadersPayload$","getLeaderboardPosition$","getTopPlayerPosition$","updateContainer$","tempContainer","updateTitleWithPlayerName$","updateTitleTournamentTitle$","updateEndTime$","updateTournamentBanner$","ThemeTournamentResourcesMapping","loadThemeTournamentAsync","setPlayerCountWaiting$","updateButtonVisibility$","_this$payload$$screen","_this$payload$","logInButton","_ref6$tournamentConte","_player$getGameData$t","_ref7$replayCount","tournamentProgress","tournamentPayload$","replayCount","buttonsLayout","getLeadersPayload$","processPlayTournament$","isTournamentExpired","syncTournamentProgress","replay","processJoinTournament$","increaseTournamentReplayCount$","joinError","processContinueTournament$","continueError","joinTournamentAsync","_GameSDK$context$getI","continueTournamentAsync","_tournamentProgress$t","_ref13$replayCount","setInteractableButtons$","createTournamentOverlay$","_this$tournamentLeade","topPlayerUITransform","topPlayerOverlayRef","_this$topPlayerOverla","updateOverlayScreenStatus$","_this$tournamentDetai2","setIsScreenActive","closeTournamentDetailScreen","_this$payload$2","_this$payload$$screen2","_this$payload$$screen3","_this$leadersPayload$3","_playerLeaderData$sco","_playerLeaderData$ran","tournamentStr","_this$tournamentPaylo","_payload$leaderboardI","_payload$themeId","_storage$getStorage","loadLeaders","_this$leadersPayload$2","tryPlayConfettiEffect","_this$tournamentLeade2","_this$tournamentLeade3","playAppearAnim","playerRank","shortPLayerNumber","_unused3","_player$getGameData$t2","_ref14","_ref14$score","halfLevel","halfScore","_Leader","TournamentLeader"],"mappings":"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","file":"all.js","sourcesContent":["import { AudioSource } from 'cc'\ntype SoundKeys = Ludex.Plugins.Audio.SoundKeys\n\nlet BaseAudioPlayer = Ludex.Plugins.Audio?.BaseAudioPlayer\n\nif (!BaseAudioPlayer) {\n    BaseAudioPlayer = class BaseAudioPlayer {\n        constructor(key: SoundKeys) {\n            console.warn('BaseAudioPlayer is not defined', key)\n        }\n    } as unknown as typeof Ludex.Plugins.Audio.BaseAudioPlayer\n}\n\nclass AudioPlayer extends BaseAudioPlayer {\n    private audioSource: AudioSource\n\n    constructor(key: SoundKeys, audioSource: AudioSource) {\n        super(key)\n\n        this.audioSource = audioSource\n    }\n\n    public play(config?: Ludex.Plugins.Audio.PlayConfig): void {\n        if (config) {\n            const { volume = 1, loop = false } = config\n            this.audioSource.volume = volume\n            this.audioSource.loop = loop\n        }\n        this.audioSource.play()\n    }\n\n    public pause(): void {\n        this.audioSource.pause()\n    }\n\n    public resume(): void {\n        if (this.audioSource.state === AudioSource.AudioState.PAUSED) {\n            this.audioSource.play()\n        }\n    }\n\n    public stop(): void {\n        this.audioSource.stop()\n    }\n\n    public setVolume(volume: number): void {\n        this.audioSource.volume = volume\n    }\n\n    public getVolume(): number {\n        return this.audioSource.volume\n    }\n\n    public getAudioSource(): AudioSource {\n        return this.audioSource\n    }\n}\n\nexport default AudioPlayer\n","import { type AudioClip, AudioSource, type Node } from 'cc'\nimport ResourceUtils from '../../utils/ResourceUtils'\nimport AudioPlayer from './AudioPlayer'\n\ntype SoundKeys = Ludex.Plugins.Audio.SoundKeys\ntype PlayConfig = Ludex.Plugins.Audio.PlayConfig\n\ntype TrackingAudioClip = {\n    audioPlayer: AudioPlayer\n    key: string\n}\ntype MultipleTrackingDict = {\n    [key: string]: {\n        currentPostFix: number\n        list: TrackingAudioClip[]\n    }\n}\n\nconst {\n    Utils: { Array: A, Decorator },\n} = Ludex\n\nlet BaseChannelManager = Ludex.Plugins.Audio?.BaseChannelManager\n\nif (!BaseChannelManager) {\n    BaseChannelManager = class BaseChannelManager {\n        constructor(channelId: string) {\n            console.warn('BaseChannelManager is not defined', channelId)\n        }\n    } as unknown as typeof Ludex.Plugins.Audio.BaseChannelManager\n}\n\nclass AudioChannel extends BaseChannelManager {\n    private node: Node\n\n    private allowMultipleTracking: MultipleTrackingDict = {}\n\n    constructor(node: Node, channelId: string) {\n        super(channelId)\n        this.node = node\n    }\n\n    public playing(key: SoundKeys): boolean {\n        const audioPlayer = this.getAudioClip(key)?.audioPlayer\n\n        if (audioPlayer && audioPlayer instanceof AudioPlayer) {\n            return audioPlayer.getAudioSource().state === AudioSource.AudioState.PLAYING\n        }\n\n        return false\n    }\n\n    @Decorator.tryCatch()\n    protected async onLoadAudio(key: SoundKeys, _config?: PlayConfig): Promise<AudioPlayer | null> {\n        const clip = await ResourceUtils.loadAudioAsync(key)\n        if (!clip) return null\n\n        if (!this.node.isValid) return null\n        return this.handleLoadedAudio(key, clip)\n    }\n\n    private handleLoadedAudio = (key: SoundKeys, clip: AudioClip): AudioPlayer => {\n        const audioSource = this.node.addComponent(AudioSource)\n        audioSource.clip = clip\n        audioSource.playOnAwake = false\n\n        return new AudioPlayer(key, audioSource)\n    }\n\n    protected playWithRealConfig(audioPlayer: AudioPlayer, config?: PlayConfig): void {\n        if (!this.isCanPlay(config)) return\n\n        if (config) {\n            const { volume = 1, allowMultiple = false } = config\n            config.volume = this.getVolume() * volume\n\n            if (allowMultiple) {\n                const clip = audioPlayer.getAudioSource().clip\n                if (!clip) return\n\n                const newAudioPlayer = this.requestDuplicateAudioPlayer(audioPlayer.getKey(), clip, config)\n                newAudioPlayer.play(config)\n                return\n            }\n        }\n\n        audioPlayer.play(config)\n    }\n\n    private isCanPlay(config?: PlayConfig): boolean {\n        if (config) {\n            const { checkList = [] } = config\n\n            const isPlayingExist = checkList.some((key) => {\n                const audioClip = this.getAudioClip(key)\n\n                if (audioClip) {\n                    const audioPlayer = audioClip.audioPlayer\n                    if (audioPlayer && audioPlayer instanceof AudioPlayer) {\n                        return audioPlayer.getAudioSource().state === AudioSource.AudioState.PLAYING\n                    }\n                }\n\n                return false\n            })\n\n            if (isPlayingExist) {\n                return false\n            }\n        }\n\n        return true\n    }\n\n    private requestDuplicateAudioPlayer(key: SoundKeys, clip: AudioClip, config?: PlayConfig): AudioPlayer {\n        const existingAudioPlayer = this.getDuplicateAudioFromPool(key)\n        if (existingAudioPlayer) {\n            if (config) {\n                const { key: dupKey } = existingAudioPlayer\n                const { volume = 1 } = config\n                this.setAudioClip(dupKey, { volume })\n            }\n            return existingAudioPlayer.audioPlayer\n        }\n\n        const allowMultipleTracking = this.allowMultipleTracking[key]\n        if (!allowMultipleTracking) {\n            throw new Error('Allow multiple tracking is not found')\n        }\n\n        const dupKey = `${key}_${allowMultipleTracking.currentPostFix}` as SoundKeys\n        const newAudioPlayer = this.handleLoadedAudio(dupKey, clip)\n        allowMultipleTracking.list.push({\n            audioPlayer: newAudioPlayer,\n            key: dupKey,\n        })\n\n        allowMultipleTracking.currentPostFix += 1\n\n        this.setAudioClip(dupKey, {\n            audioPlayer: newAudioPlayer,\n            volume: 1,\n        })\n\n        return newAudioPlayer\n    }\n\n    private getDuplicateAudioFromPool(key: SoundKeys): TrackingAudioClip | null {\n        if (this.allowMultipleTracking[key]) {\n            const { list } = this.allowMultipleTracking[key]\n            const audioClip = A.search(list, (audioClip) => {\n                return audioClip.audioPlayer.getAudioSource().state !== AudioSource.AudioState.PLAYING\n            })\n            if (audioClip) {\n                return audioClip\n            }\n        } else {\n            this.allowMultipleTracking[key] = {\n                currentPostFix: 1,\n                list: [],\n            }\n        }\n\n        return null\n    }\n}\n\nexport default AudioChannel\n","import { CCString, Component, _decorator, director } from 'cc'\nimport { EDITOR_NOT_IN_PREVIEW } from 'cc/env'\nimport AudioChannel from './AudioChannel'\nconst { ccclass, property } = _decorator\n\nconst { audio, player } = codex\n\n@ccclass('Music')\nexport class Music extends Component {\n    @property(CCString)\n    public channelId = 'global_music'\n\n    private channel: AudioChannel | null = null\n\n    public isMute: boolean = false\n\n    private volume: number = 1\n\n    public __preload() {\n        if (!audio) return\n\n        this.makePersistent()\n\n        // * Only call new a class (not component) in _preload method\n        this.channel = new AudioChannel(this.node, this.channelId)\n        audio.addChannel(this.channel)\n    }\n\n    private makePersistent() {\n        if (EDITOR_NOT_IN_PREVIEW) return\n        if (director.isPersistRootNode(this.node)) return\n\n        director.addPersistRootNode(this.node)\n    }\n\n    public playing(key: Ludex.Plugins.Audio.SoundKeys): boolean {\n        return this.channel?.playing(key) ?? false\n    }\n\n    public play(key: Ludex.Plugins.Audio.SoundKeys, options?: Ludex.Plugins.Audio.PlayConfig): void {\n        if (!this.isMusicEnable()) return\n\n        const correctOptions = options ?? {}\n\n        if (!correctOptions.loop) {\n            correctOptions.loop = true\n        }\n\n        audio.play(key, correctOptions, this.channelId)\n    }\n\n    private isMusicEnable(): boolean {\n        return !!player.getPlayerSetting('music')\n    }\n\n    public setVolume(volume: number) {\n        this.volume = volume\n        if (this.isMute) return\n        audio.setVolume(volume, this.channelId)\n    }\n\n    public getVolume(): number {\n        return audio.getVolume(this.channelId)\n    }\n\n    public pause(key: Ludex.Plugins.Audio.SoundKeys) {\n        audio.pause(key, this.channelId)\n    }\n\n    public resume(key: Ludex.Plugins.Audio.SoundKeys) {\n        if (!this.isMusicEnable()) return\n\n        audio.resume(key, this.channelId)\n    }\n\n    public stop(key: Ludex.Plugins.Audio.SoundKeys) {\n        audio.stop(key, this.channelId)\n    }\n\n    public mute(isMute: boolean) {\n        this.isMute = isMute\n\n        if (isMute) {\n            audio.mute(this.channelId)\n        } else {\n            this.setVolume(this.volume)\n            audio.unmute(this.channelId)\n        }\n    }\n}\n","import { _decorator, CCString, Component, director } from 'cc'\nimport AudioChannel from './AudioChannel'\n\nconst { ccclass, property } = _decorator\n\nconst { audio, player } = codex\n\ntype SoundKeys = Ludex.Plugins.Audio.SoundKeys\ntype PlayConfig = Ludex.Plugins.Audio.PlayConfig\n\n@ccclass('Sound')\nexport class Sound extends Component {\n    @property(CCString)\n    public channelId = ''\n\n    private channel: AudioChannel | null = null\n\n    public __preload() {\n        if (!audio) return\n\n        // * Only call new a class (not component) in __preload method\n        this.channel = new AudioChannel(this.node, this.channelId)\n        audio.addChannel(this.channel)\n    }\n\n    public onLoad(): void {\n        if (this.channelId === '') {\n            this.channelId = this.node.uuid\n        }\n    }\n\n    // ? Sometime we need some sound effect must be play when scene is changed\n    public makePersistent() {\n        director.addPersistRootNode(this.node)\n    }\n\n    public removePersistent() {\n        director.removePersistRootNode(this.node)\n    }\n\n    public play(key: SoundKeys, options?: PlayConfig) {\n        if (!this.isSoundEnable()) return\n\n        return audio.play(key, options, this.channelId)\n    }\n\n    private isSoundEnable(): boolean {\n        return !!player.getPlayerSetting('sound')\n    }\n\n    public setVolume(volume: number) {\n        audio.setVolume(volume, this.channelId)\n    }\n\n    public pause(key: SoundKeys) {\n        audio.pause(key, this.channelId)\n    }\n\n    public resume(key: SoundKeys) {\n        if (!this.isSoundEnable()) return\n\n        audio.resume(key, this.channelId)\n    }\n\n    public stop(key: SoundKeys) {\n        audio.stop(key, this.channelId)\n    }\n\n    public stopAll() {\n        audio.stopAll(this.channelId)\n    }\n\n    public mute(boolean: boolean) {\n        if (boolean) {\n            audio.mute(this.channelId)\n        } else {\n            audio.unmute(this.channelId)\n        }\n    }\n}\n","import { CCFloat, CCInteger, Layout, type Tween, UITransform, Widget, _decorator, tween } from 'cc'\nimport { EDITOR_NOT_IN_PREVIEW } from 'cc/env'\nimport AnimUtils from '../../utils/AnimUtils'\n\nconst { ccclass, property } = _decorator\n\ninterface IAutoLayoutWrappee {\n    wrapeeContainer: UITransform\n    wrapee: UITransform\n}\n\n@ccclass('AutoLayoutWrappee')\nclass AutoLayoutWrappee implements IAutoLayoutWrappee {\n    @property({ type: UITransform })\n    public wrapeeContainer!: UITransform\n\n    @property({ type: UITransform })\n    public wrapee!: UITransform\n}\n\n@ccclass('AutoLayout')\nexport default class AutoLayout extends Layout {\n    @property({ displayName: 'Use Auto Layout' })\n    private useAutoLayout = true\n\n    @property({\n        type: [AutoLayoutWrappee],\n        displayName: 'Children',\n        visible(this: AutoLayout) {\n            return this.useAutoLayout\n        },\n    })\n    private children: AutoLayoutWrappee[] = []\n\n    private mappedChildren: (IAutoLayoutWrappee & {\n        wrapeeContainerWidget: Widget\n    })[] = []\n\n    @property({\n        visible: false,\n        serializable: true,\n    })\n    private selected: number = 0\n\n    @property({\n        type: CCInteger,\n        displayName: 'Selected Index',\n        visible(this: AutoLayout) {\n            return this.useAutoLayout\n        },\n    })\n    get selectedIndex(): number {\n        return this.selected\n    }\n    set selectedIndex(value: number) {\n        this.selected = value\n        this.updateLayout(true)\n    }\n\n    @property({\n        type: CCFloat,\n        displayName: 'Deselected Icon Width',\n        group: 'Edge Icons',\n        visible(this: AutoLayout) {\n            return this.useAutoLayout\n        },\n    })\n    get deselectedIconWidth(): number {\n        return this.deselectedIconW\n    }\n\n    set deselectedIconWidth(value: number) {\n        this.deselectedIconW = value\n        this.updateLayout(true)\n    }\n\n    @property({\n        visible: false,\n        serializable: true,\n    })\n    private deselectedIconW = 0\n\n    private tweens: Tween<unknown>[] = []\n\n    public __preload() {\n        this.mappedChildren = this.children.map((child: IAutoLayoutWrappee) => {\n            const widget = child.wrapeeContainer.getComponent(Widget)\n\n            if (!widget) {\n                throw new Error('AutoLayout: Widget component not found')\n            }\n\n            return {\n                ...child,\n                wrapeeContainerWidget: widget,\n            }\n        })\n    }\n\n    public override updateLayout(force = false) {\n        if (this._layoutDirty || force) {\n            if (EDITOR_NOT_IN_PREVIEW) {\n                this.updateChildrenAnchorsEditor()\n            } else {\n                this.updateChildrenAnchors()\n            }\n\n            // ! Cocos engine doesn't update the alignment of the children when the layout is dirty\n            for (const child of this.mappedChildren) {\n                child.wrapeeContainerWidget.updateAlignment()\n            }\n        }\n\n        super.updateLayout(force)\n    }\n\n    public getSelectedWorldX(): number {\n        const wrapeeContainer = this.mappedChildren[this.selectedIndex].wrapeeContainer\n\n        if (this.selectedIndex === 0 || this.selectedIndex === this.children.length - 1) {\n            const { xMin } = wrapeeContainer.getBoundingBoxToWorld()\n            const anchorX = this.getAnchorX(this.selectedIndex)\n            return xMin + anchorX * wrapeeContainer.width\n        }\n\n        return wrapeeContainer.getBoundingBoxToWorld().center.x\n    }\n\n    private getAnchorX(index: number): number {\n        if (index < this.selectedIndex) return 0\n        if (index > this.selectedIndex) return 1\n\n        if (index === 0) {\n            //   <left-padding> [i] <space> [   i   ] <space> [i] <right-padding>\n            // { <left-padding> [i] <space> [i } / i] <space> [i] <right-padding> <- get anchor of content between {...}\n\n            const containerWidth = this.mappedChildren[index].wrapeeContainer.width\n            const halfIcon = this.deselectedIconWidth / 2\n            const leftPadding = this.paddingLeft\n            const rightPadding = containerWidth - halfIcon + this.spacingX\n\n            const totalSpace = leftPadding + containerWidth + rightPadding\n            const midPoint = totalSpace / 2\n            const offset = midPoint - leftPadding\n            const newAnchor = offset / containerWidth\n            return newAnchor\n        }\n\n        if (index === this.children.length - 1) {\n            // <left-padding> [i] <space> [   i   ] <space> [i] <right-padding>\n            // <left-padding> [i] <space> [i / { i] <space> [i] <right-padding> } <- get anchor of content between {...}\n\n            const containerWidth = this.mappedChildren[index].wrapeeContainer.width\n            const halfIcon = this.deselectedIconWidth / 2\n            const leftPadding = containerWidth - halfIcon + this.spacingX\n            const rightPadding = this.paddingRight\n\n            const totalSpace = leftPadding + containerWidth + rightPadding\n            const midPoint = totalSpace / 2\n            const offset = midPoint - leftPadding\n            const newAnchor = offset / containerWidth\n            return newAnchor\n        }\n\n        return 0.5\n    }\n\n    private async updateChildrenAnchors(): Promise<void> {\n        for (const tween of this.tweens) {\n            tween.stop()\n        }\n\n        this.tweens = []\n\n        await Promise.all([\n            this.children\n                .flatMap((child, index) => this.getChildrenAnchorsTweens(child, this.getAnchorX(index)))\n                .map((t) => AnimUtils.runTweenAsync(t)),\n        ])\n    }\n\n    private updateChildrenAnchorsEditor(): void {\n        this.children.forEach((child, index) => {\n            const anchor = this.getAnchorX(index)\n            child.wrapee.setAnchorPoint(anchor, child.wrapee.anchorY)\n            child.wrapeeContainer.setAnchorPoint(anchor, child.wrapeeContainer.anchorY)\n        })\n    }\n\n    private getChildrenAnchorsTweens(child: AutoLayoutWrappee, to: number): Tween<unknown>[] {\n        return [\n            tween(child.wrapee)\n                .to(0.3, { anchorX: to }, { easing: 'sineInOut' })\n                .call(() => {\n                    child.wrapee.setAnchorPoint(to, child.wrapee.anchorY)\n                }),\n            tween(child.wrapeeContainer)\n                .to(0.3, { anchorX: to }, { easing: 'sineInOut' })\n                .call(() => {\n                    child.wrapeeContainer.setAnchorPoint(to, child.wrapeeContainer.anchorY)\n                }),\n        ]\n    }\n}\n","import { Component, UITransform, _decorator, game } from 'cc'\nimport GameEvents from '../../constants/GameEvents'\nimport CocosUtils from '../../utils/CocosUtils'\nconst { ccclass } = _decorator\n\n@ccclass('Background')\nexport class Background extends Component {\n    private uiTransform!: UITransform\n\n    private ratio!: number\n\n    public __preload(): void {\n        this.uiTransform = this.getComponent(UITransform)!\n        this.ratio = this.uiTransform.width / this.uiTransform.height\n\n        this.listenGameEvents()\n        this.handleViewResized()\n    }\n\n    private listenGameEvents() {\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n        game.on(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n    }\n\n    private unlistenGameEvents() {\n        game.off(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n    }\n\n    private handleViewResized(): void {\n        const width = CocosUtils.cssSizeToWorldSize(CocosUtils.getScreenWidthCss())\n        const height = CocosUtils.cssSizeToWorldSize(CocosUtils.getScreenHeightCss())\n\n        const screenRatio = width / height\n\n        if (screenRatio < this.ratio) {\n            this.uiTransform.width = height * this.ratio\n            this.uiTransform.height = height\n        } else {\n            this.uiTransform.width = width\n            this.uiTransform.height = width / this.ratio\n        }\n    }\n\n    protected onDestroy(): void {\n        this.unlistenGameEvents()\n    }\n}\n","const DashboardEvents = {\n    STARS_UPDATED: 'STARS_UPDATED',\n    PLAY_BUTTON_PRESS: 'PLAY_BUTTON_PRESS',\n    CUSTOM_PLAY_BUTTON_PRESS: 'CUSTOM_PLAY_BUTTON_PRESS',\n    REQUEST_NAVIGATION: 'REQUEST_NAVIGATION',\n    REQUEST_NAVIGATION_ANIMATION: 'REQUEST_NAVIGATION_ANIMATION',\n    DASHBOARD_EVENTS_BUTTON_PRESS: 'DASHBOARD_EVENTS_BUTTON_PRESS',\n} as const\n\ntype DashboardEvents = (typeof DashboardEvents)[keyof typeof DashboardEvents]\n\nexport default DashboardEvents\n","import { ccenum } from 'cc'\n\nenum DashboardScreens {\n    store = 0,\n    collections = 1,\n    home = 2,\n    leaderboard = 3,\n    tournaments = 4,\n}\n\nccenum(DashboardScreens)\n\nexport default DashboardScreens\n","// biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\nexport type FnThatReturnVoid<T extends (...args: any[]) => any> = ReturnType<T> extends void ? T : never\n\n// biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\nfunction decorateComponent<T extends (...args: any[]) => any>(\n    _target: Component,\n    propertyKey: string,\n    descriptor: TypedPropertyDescriptor<FnThatReturnVoid<T>>,\n) {\n    const original = descriptor.value\n\n    const wrapped = function (this: Component, ...args: Parameters<FnThatReturnVoid<T>>) {\n        if (this.isValid) return original?.apply(this, args)\n        console.debug(\n            `Skipping method call ${String(propertyKey)} because component ${\n                this.constructor.name\n            } is not enabled in hierarchy`,\n        )\n    }\n\n    descriptor.value = wrapped as FnThatReturnVoid<T>\n}\n\n// biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\nfunction createNonComponentDecorator<T extends (...args: any[]) => any>(\n    isValid: () => boolean,\n): (_target: object, propertyKey: string, descriptor: TypedPropertyDescriptor<FnThatReturnVoid<T>>) => void {\n    return (_target: object, propertyKey: string, descriptor: TypedPropertyDescriptor<FnThatReturnVoid<T>>) => {\n        const original = descriptor.value\n\n        const wrapped = function (this: object, ...args: Parameters<FnThatReturnVoid<T>>) {\n            if (isValid.call(this)) return original?.apply(this, args)\n            console.debug(\n                `Skipping method call ${String(propertyKey)} because component ${\n                    this.constructor.name\n                } is not enabled in hierarchy`,\n            )\n        }\n\n        descriptor.value = wrapped as FnThatReturnVoid<T>\n    }\n}\n\n// biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\nexport default function onlyRunInLifeCycle<T extends (...args: any[]) => any>(\n    customIsValid: () => boolean,\n): (_target: object, propertyKey: string, descriptor: TypedPropertyDescriptor<FnThatReturnVoid<T>>) => void\n\n// biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\nexport default function onlyRunInLifeCycle<T extends (...args: any[]) => any>(\n    _target: Component,\n    propertyKey: string,\n    descriptor: TypedPropertyDescriptor<FnThatReturnVoid<T>>,\n): void\n\n// biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\nexport default function onlyRunInLifeCycle<T extends (...args: any[]) => any>(\n    compOrCustomValidator: Component | (() => boolean),\n    propertyKey?: string,\n    descriptor?: TypedPropertyDescriptor<FnThatReturnVoid<T>>,\n) {\n    if (typeof compOrCustomValidator === 'object' && propertyKey !== undefined && descriptor !== undefined) {\n        decorateComponent(compOrCustomValidator, propertyKey, descriptor)\n        return\n    }\n\n    const customIsValid = compOrCustomValidator as () => boolean\n    const decorator = createNonComponentDecorator(customIsValid)\n    return decorator\n}\n","// biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\nexport type FnThatReturnVoidPromise<T extends (...args: any[]) => any> = ReturnType<T> extends Promise<void> ? T : never\n\n// biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\nfunction decorateComponent<T extends (...args: any[]) => any>(\n    _target: Component,\n    propertyKey: string,\n    descriptor: TypedPropertyDescriptor<FnThatReturnVoidPromise<T>>,\n) {\n    const original = descriptor.value\n\n    const wrapped = async function (this: Component, ...args: Parameters<FnThatReturnVoidPromise<T>>) {\n        if (this.isValid) return await original?.apply(this, args)\n        console.debug(\n            `Skipping method call ${String(propertyKey)} because component ${\n                this.constructor.name\n            } is not enabled in hierarchy`,\n        )\n    }\n\n    descriptor.value = wrapped as FnThatReturnVoidPromise<T>\n}\n\n// biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\nfunction createNonComponentDecorator<T extends (...args: any[]) => any>(\n    isValid: () => boolean,\n): (_target: object, propertyKey: string, descriptor: TypedPropertyDescriptor<FnThatReturnVoidPromise<T>>) => void {\n    return (_target: object, propertyKey: string, descriptor: TypedPropertyDescriptor<FnThatReturnVoidPromise<T>>) => {\n        const original = descriptor.value\n\n        const wrapped = async function (this: object, ...args: Parameters<FnThatReturnVoidPromise<T>>) {\n            if (isValid.call(this)) return await original?.apply(this, args)\n            console.debug(\n                `Skipping method call ${String(propertyKey)} because component ${\n                    this.constructor.name\n                } is not enabled in hierarchy`,\n            )\n        }\n\n        descriptor.value = wrapped as FnThatReturnVoidPromise<T>\n    }\n}\n\n// biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\nexport default function onlyRunInLifeCycleAsync<T extends (...args: any[]) => any>(\n    customIsValid: () => boolean,\n): (_target: object, propertyKey: string, descriptor: TypedPropertyDescriptor<FnThatReturnVoidPromise<T>>) => void\n\n// biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\nexport default function onlyRunInLifeCycleAsync<T extends (...args: any[]) => any>(\n    _target: Component,\n    propertyKey: string,\n    descriptor: TypedPropertyDescriptor<FnThatReturnVoidPromise<T>>,\n): void\n\n// biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\nexport default function onlyRunInLifeCycleAsync<T extends (...args: any[]) => any>(\n    compOrCustomValidator: Component | (() => boolean),\n    propertyKey?: string,\n    descriptor?: TypedPropertyDescriptor<FnThatReturnVoidPromise<T>>,\n) {\n    if (typeof compOrCustomValidator === 'object' && propertyKey !== undefined && descriptor !== undefined) {\n        decorateComponent(compOrCustomValidator, propertyKey, descriptor)\n        return\n    }\n\n    const customIsValid = compOrCustomValidator as () => boolean\n    const decorator = createNonComponentDecorator(customIsValid)\n    return decorator\n}\n","import onlyRunInLifeCycle, { type FnThatReturnVoid } from './onlyRunInLifeCycle'\nimport onlyRunInLifeCycleAsync, { type FnThatReturnVoidPromise } from './onlyRunInLifeCycleAsync'\n\nexport { onlyRunInLifeCycle, onlyRunInLifeCycleAsync }\nexport type { FnThatReturnVoid, FnThatReturnVoidPromise }\n","import type MissingPropertyError from './MissingPropertyError'\n\nexport default class MissingPropertiesError extends Error {\n    readonly className: string\n    readonly errors: MissingPropertyError[]\n\n    constructor(className: string, errors: MissingPropertyError[]) {\n        super(\n            `${className} is missing these required properties: [${errors\n                .map((error) => error.propertyName)\n                .join(', ')}]`,\n        )\n\n        this.className = className\n        this.errors = errors\n    }\n}\n","export default class MissingPropertyError extends Error {\n    readonly className: string\n    readonly propertyName: string\n\n    constructor(className: string, propertyName: string) {\n        super(`${className} is missing the required property: <${propertyName}>`)\n        this.className = className\n        this.propertyName = propertyName\n    }\n}\n","import type { Component } from 'cc'\nimport MissingPropertiesError from './MissingPropertiesError'\nimport MissingPropertyError from './MissingPropertyError'\n\nconst {\n    Utils: { String: S, Valid: V },\n} = Ludex\n\nconst { monitorError } = codex\n\ntype ValidationStrategy = 'null-check' | 'undefined-check' | 'both' | ((value: unknown) => boolean)\n\nconst MAP_KEY = '_compUtils_ReqPropsMap'\nconst METHOD_KEY = '_compUtils_ReqPropsMethod'\n\nfunction createHookKey(key: string) {\n    return `${METHOD_KEY}_${S.capitalize(key)}`\n}\n\nfunction isNull(value: unknown): value is null {\n    return value === null\n}\n\nfunction isUndefined(value: unknown): value is undefined {\n    return value === undefined\n}\n\nfunction isNullOrUndefined(value: unknown): value is null | undefined {\n    return isNull(value) || isUndefined(value)\n}\n\nfunction getValidator(strategy?: ValidationStrategy) {\n    if (typeof strategy === 'function') {\n        return strategy\n    }\n\n    switch (strategy) {\n        case 'null-check':\n            return isNull\n        case 'undefined-check':\n            return isUndefined\n        default:\n            return isNullOrUndefined\n    }\n}\n\nfunction createDecorator(isInvalid: (value: unknown) => boolean) {\n    // biome-ignore lint/suspicious/noExplicitAny: needed for experimental decorators\n    return (target: Record<string, any>, propertyKey: string) => {\n        if (typeof target === 'function') {\n            throw new Error('The required decorator can only be applied to non-static class properties.')\n        }\n\n        const className = target.constructor.name\n        const validator = createHookKey(propertyKey)\n\n        if (target[validator] !== undefined) {\n            throw new Error(\n                `The required decorator found that property name ${validator} already exists. The reserved method name ${validator} is used already or the decorator was applied multiple times.`,\n            )\n        }\n\n        target[validator] = function (className: string) {\n            if (isInvalid(this[propertyKey])) {\n                throw new MissingPropertyError(className, propertyKey)\n            }\n        }\n\n        if (target[MAP_KEY] === undefined) {\n            target[MAP_KEY] = {}\n        }\n\n        if (target[MAP_KEY][className] === undefined) {\n            target[MAP_KEY][className] = []\n        }\n\n        const mapping = target[MAP_KEY] as Record<string, string[]>\n        const properties = mapping[className] as string[]\n\n        properties.push(validator)\n    }\n}\n\n// ? Decorator factory call signature\n// biome-ignore lint/suspicious/noExplicitAny: needed for experimental decorators\nfunction required(strategy?: ValidationStrategy): (target: Record<string, any>, propertyKey: string) => void\n\n// ? Decorator call signature\n// biome-ignore lint/suspicious/noExplicitAny: needed for experimental decorators\nfunction required(target: Record<string, any>, propertyKey: string): void\n\n// biome-ignore lint/suspicious/noExplicitAny: needed for experimental decorators\nfunction required(strategyOrTarget?: ValidationStrategy | Record<string, any>, propertyKey?: string) {\n    if (typeof propertyKey === 'string') {\n        // biome-ignore lint/suspicious/noExplicitAny: needed for experimental decorators\n        const target = strategyOrTarget as Record<string, any>\n        const validator = getValidator()\n        const decorate = createDecorator(validator)\n        decorate(target, propertyKey)\n\n        return\n    }\n\n    const strategy = strategyOrTarget as ValidationStrategy | undefined\n    const validator = getValidator(strategy)\n    const decorator = createDecorator(validator)\n    return decorator\n}\n\nfunction invokeRequiredHook(component: Component, classConstructor?: new () => Component) {\n    const className = classConstructor ? classConstructor.name : component.constructor.name\n    const mapping: Record<string, string[]> = classConstructor\n        ? classConstructor.prototype[MAP_KEY]\n        : component.constructor.prototype[MAP_KEY]\n    const validators = mapping?.[className] ?? []\n    const errors: MissingPropertyError[] = []\n\n    // biome-ignore lint/suspicious/noExplicitAny: needed for experimental decorators\n    const target = component as Record<string, any>\n\n    for (const key of validators) {\n        if (typeof target[key] !== 'function') continue\n\n        try {\n            target[key](className)\n        } catch (error) {\n            if (error instanceof MissingPropertyError) {\n                errors.push(error)\n            } else {\n                throw error\n            }\n        }\n    }\n\n    if (errors.length === 0) {\n        return\n    }\n\n    const error = new MissingPropertiesError(className, errors)\n\n    if (V.isDebugger()) {\n        throw error\n    }\n\n    console.error(error)\n    monitorError?.sendException(error)\n}\n\nexport { invokeRequiredHook, required }\nexport type { ValidationStrategy }\n","import MissingPropertiesError from './MissingPropertiesError'\nimport MissingPropertyError from './MissingPropertyError'\nimport { type ValidationStrategy, invokeRequiredHook, required } from './required'\n\nexport { invokeRequiredHook, MissingPropertiesError, MissingPropertyError, required }\nexport type { ValidationStrategy }\n","import { type Component, isCCObject } from 'cc'\nimport {\n    type FnThatReturnVoid,\n    type FnThatReturnVoidPromise,\n    onlyRunInLifeCycle,\n    onlyRunInLifeCycleAsync,\n} from './component-utils/life-cycle'\nimport { invokeRequiredHook, required, type ValidationStrategy } from './component-utils/required'\n\nconst {\n    Utils: { Array: A, Object: O, Valid: V },\n} = Ludex\n\ntype ComponentValid = {\n    [key: string]: boolean\n}\n\n// TODO: Add more base components\nconst BaseComponentNames = [\n    'cc.Mask',\n    'cc.Label',\n    'cc.Canvas',\n    'cc.Camera',\n    'cc.Layout',\n    'cc.Button',\n    'cc.Sprite',\n    'cc.Widget',\n    'cc.Renderer',\n    'cc.Animation',\n    'cc.UIOpacity',\n]\n\nclass ComponentUtilsCore {\n    protected static inst$: ComponentUtilsCore\n\n    public static get inst() {\n        if (!this.inst$) {\n            this.inst$ = new this()\n        }\n\n        return this.inst$\n    }\n\n    protected validComponentCalled$: ComponentValid = {}\n\n    // biome-ignore lint/suspicious/noExplicitAny: needed for experimental decorators\n    public static required(strategy?: ValidationStrategy): (target: Record<string, any>, propertyKey: string) => void\n    // biome-ignore lint/suspicious/noExplicitAny: needed for experimental decorators\n    public static required(target: Record<string, any>, propertyKey: string): void\n    // biome-ignore lint/suspicious/noExplicitAny: needed for experimental decorators\n    public static required(strategyOrTarget?: ValidationStrategy | Record<string, any>, propertyKey?: string) {\n        if (typeof propertyKey === 'string') {\n            // biome-ignore lint/suspicious/noExplicitAny: needed for experimental decorators\n            const target = strategyOrTarget as Record<string, any>\n            return required(target, propertyKey)\n        }\n\n        const strategy = strategyOrTarget as ValidationStrategy | undefined\n        return required(strategy)\n    }\n\n    // biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\n    public static onlyRunInLifeCycle<T extends (...args: any[]) => any>(\n        customIsValid: () => boolean,\n    ): (_target: object, propertyKey: string, descriptor: TypedPropertyDescriptor<FnThatReturnVoid<T>>) => void\n\n    // biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\n    public static onlyRunInLifeCycle<T extends (...args: any[]) => any>(\n        _target: Component,\n        propertyKey: string,\n        descriptor: TypedPropertyDescriptor<FnThatReturnVoid<T>>,\n    ): void\n\n    // biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\n    public static onlyRunInLifeCycle<T extends (...args: any[]) => any>(\n        compOrCustomValidator: Component | (() => boolean),\n        propertyKey?: string,\n        descriptor?: TypedPropertyDescriptor<FnThatReturnVoid<T>>,\n    ) {\n        if (typeof compOrCustomValidator === 'object' && propertyKey !== undefined && descriptor !== undefined) {\n            return onlyRunInLifeCycle(compOrCustomValidator, propertyKey, descriptor)\n        }\n\n        const customIsValid = compOrCustomValidator as () => boolean\n        return onlyRunInLifeCycle(customIsValid)\n    }\n\n    // biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\n    public static onlyRunInLifeCycleAsync<T extends (...args: any[]) => any>(\n        customIsValid: () => boolean,\n    ): (_target: object, propertyKey: string, descriptor: TypedPropertyDescriptor<FnThatReturnVoidPromise<T>>) => void\n\n    // biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\n    public static onlyRunInLifeCycleAsync<T extends (...args: any[]) => any>(\n        _target: Component,\n        propertyKey: string,\n        descriptor: TypedPropertyDescriptor<FnThatReturnVoidPromise<T>>,\n    ): void\n\n    // biome-ignore lint/suspicious/noExplicitAny: needed for generic functions\n    public static onlyRunInLifeCycleAsync<T extends (...args: any[]) => any>(\n        compOrCustomValidator: Component | (() => boolean),\n        propertyKey?: string,\n        descriptor?: TypedPropertyDescriptor<FnThatReturnVoidPromise<T>>,\n    ) {\n        if (typeof compOrCustomValidator === 'object' && propertyKey !== undefined && descriptor !== undefined) {\n            return onlyRunInLifeCycleAsync(compOrCustomValidator, propertyKey, descriptor)\n        }\n\n        const customIsValid = compOrCustomValidator as () => boolean\n        return onlyRunInLifeCycleAsync(customIsValid)\n    }\n\n    /** @deprecated Put `ComponentUtils.required()` on required properties and use `ComponentUtils.validateRequiredProperties` */\n    public static lazyValidateProperties(component: Component, enabled = true): void {\n        if (!enabled) return\n\n        // biome-ignore lint/suspicious/noShadowRestrictedNames: needed for experimental decorators\n        const { constructor } = component\n        const { name } = constructor\n\n        if (this.inst.validComponentCalled$[name]) return\n\n        // console.info('lazyValidateProperties', constructor.name, { component })\n\n        try {\n            this.inst.validateRequiredComponents(component)\n\n            this.inst.validateRequiredProperties(component)\n\n            this.inst.validateCustomProperties(component)\n        } catch (error) {\n            component.enabled = false\n\n            console.error(error)\n        } finally {\n            this.inst.validComponentCalled$[name] = true\n        }\n    }\n\n    protected validateRequiredComponents(component: Component): void {\n        // biome-ignore lint/suspicious/noShadowRestrictedNames: needed for experimental decorators\n        const { name, constructor } = component\n\n        const componentNames = this.getRequiredComponentNames(constructor)\n        // console.info('componentNames', componentNames)\n\n        for (const componentName of componentNames) {\n            if (!component.getComponent(componentName)) {\n                throw new Error(`${name}: Missing required ${componentName} component`)\n            }\n\n            /* ? Should we check the property name?\n            const propName = S.toCamelCase(componentName)\n            if (!O.hasOwn(component, propName)) {\n                throw new Error(`${name}: Missing required ${propName} property`)\n            } */\n        }\n    }\n\n    public static validateRequiredProperties(component: Component, classConstructor?: new () => Component) {\n        invokeRequiredHook(component, classConstructor)\n    }\n\n    protected validateRequiredProperties(component: Component): void {\n        // biome-ignore lint/suspicious/noShadowRestrictedNames: needed for experimental decorators\n        const { name, constructor } = component\n\n        const propNames = this.getRequiredPropNames(constructor)\n        // console.info('propNames', propNames)\n\n        for (const propName of propNames) {\n            if (!O.hasOwn(component, propName)) {\n                throw new Error(`${name}: Missing required ${propName} property`)\n            }\n\n            const property = this.getProperty(propName, component)\n            if (!isCCObject(property)) {\n                throw new Error(`${name}: ${propName} property is not a cc object`)\n            }\n        }\n    }\n\n    protected validateCustomProperties(component: Component): void {\n        const { name } = component\n\n        const customPropNames = this.getCustomPropNames(component)\n        // console.info('customPropNames', customPropNames)\n\n        for (const propName of customPropNames) {\n            if (!O.hasOwn(component, propName)) {\n                throw new Error(`${name}: Missing required ${propName} property`)\n            }\n\n            const property = this.getProperty(propName, component)\n            if (!isCCObject(property)) {\n                throw new Error(`${name}: ${propName} property is not a cc object`)\n            }\n        }\n    }\n\n    protected getProperty(name: string, object: unknown): unknown {\n        if (!O.hasOwn(object, name)) return undefined\n\n        const { value } = Object.getOwnPropertyDescriptor(object, name) ?? {}\n\n        return value\n    }\n\n    protected getProps(construct: unknown): string[] {\n        if (!O.hasOwn(construct, '__props__')) return []\n\n        const { __props__: props } = construct\n\n        if (!Array.isArray(props)) return []\n\n        return props\n    }\n\n    protected getRequiredPropNames(construct: unknown): string[] {\n        const props = this.getProps(construct)\n        return props.filter((name) => {\n            if (name === 'node') return false\n            if (!O.hasOwn(construct, name)) return false\n            if (!isCCObject(construct[name])) return false\n            return !name.startsWith('_')\n        })\n    }\n\n    protected getBaseComponentName(componentName: string): string {\n        for (const baseComponentName of BaseComponentNames) {\n            const index = baseComponentName.indexOf(componentName)\n            if (index >= 0) {\n                return baseComponentName\n            }\n        }\n\n        return componentName\n    }\n\n    protected getRequiredComponentNames(construct: unknown): string[] {\n        if (!O.hasOwn(construct, '_requireComponent')) return []\n\n        const { _requireComponent: components } = construct\n\n        if (!Array.isArray(components)) return []\n\n        return components.map((component) => {\n            return this.getBaseComponentName(component)\n        })\n    }\n\n    protected getCustomPropNames(component: Component): string[] {\n        const keys = Object.keys(component)\n        const props = this.getProps(component.constructor)\n\n        const isNotUnderscore = (name: string) => name.indexOf('_') < 0\n\n        const customPropNames = A.difference(keys, props).filter(isNotUnderscore)\n\n        return customPropNames.filter((name: string) => {\n            if (!O.hasOwn(component, name)) return false\n\n            const property = this.getProperty(name, component)\n            if (V.isObject(property) && isCCObject(property)) return true\n\n            return false\n        })\n    }\n}\n\nclass ComponentUtils extends ComponentUtilsCore {\n    // * Custom logic here\n}\n\nexport default ComponentUtils\n","const {\n    Utils: { Array: A },\n} = Ludex\n\ntype VoidFunction<T extends (...args: never[]) => void> = ReturnType<T> extends void ? T : never\ntype PromiseVoidFunction<T extends (...args: never[]) => Promise<void>> = ReturnType<T> extends Promise<void>\n    ? T\n    : never\n\n/**\n * @deprecated\n */\nclass AnimAbortSignal {\n    private callbacks$: (() => void)[] = []\n    private isAborted$: boolean\n    private abortReason$: string | undefined\n\n    constructor() {\n        this.isAborted$ = false\n        this.abortReason$ = ''\n        this.callbacks$ = []\n    }\n\n    public get aborted() {\n        return this.isAborted$\n    }\n\n    public get reason() {\n        return this.abortReason$\n    }\n\n    public addAbortListener(listener: () => void) {\n        this.callbacks$.push(listener)\n    }\n\n    public removeAbortListener(listener: () => void) {\n        const index = A.searchIndex(this.callbacks$, (cb) => cb === listener)\n        if (index === -1) return\n        this.callbacks$.splice(index, 1)\n    }\n\n    public abort(reason?: string) {\n        if (this.isAborted$) return\n        this.isAborted$ = true\n        this.abortReason$ = reason\n\n        for (const cb of this.callbacks$) {\n            typeof cb === 'function' && cb()\n        }\n        this.callbacks$ = []\n    }\n\n    public async untilAborted(): Promise<void> {\n        if (this.isAborted$) return\n\n        return new Promise((resolve) => {\n            this.addAbortListener(() => resolve())\n        })\n    }\n\n    public call<T extends (signal: AnimAbortSignal) => unknown>(cb: VoidFunction<T>) {\n        if (!this.aborted) {\n            cb(this)\n        }\n    }\n\n    public callAsync<T extends (signal: AnimAbortSignal) => Promise<void>>(cb: PromiseVoidFunction<T>): Promise<void> {\n        if (!this.aborted) {\n            return cb(this)\n        }\n        return Promise.resolve()\n    }\n\n    public chain(signal: AnimAbortSignal | AbortSignal) {\n        if (signal instanceof AnimAbortSignal) {\n            signal.addAbortListener(() => this.abort())\n            return\n        }\n\n        signal.addEventListener('abort', () => this.abort())\n    }\n\n    static hasBeenAborted(signal: AnimAbortSignal | undefined | null): boolean {\n        return signal === null || signal === undefined || signal.aborted\n    }\n}\n\nexport default AnimAbortSignal\n","import {\n    _decorator,\n    CCInteger,\n    Component,\n    Enum,\n    easing,\n    game,\n    Sprite,\n    type SpriteFrame,\n    tween,\n    UIOpacity,\n    UITransform,\n    Widget,\n} from 'cc'\nimport DashboardEvents from '../../constants/DashboardEvents'\nimport DashboardScreens from '../../constants/DashboardScreens'\nimport GameEvents from '../../constants/GameEvents'\nimport GameWorld from '../../constants/GameWorld'\nimport AnimUtils from '../../utils/AnimUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../utils/common/AnimAbortSignal'\nimport ResourceUtils from '../../utils/ResourceUtils'\n\nconst { ccclass, property } = _decorator\n\nconst { monitorError } = codex\nconst {\n    Utils: { Number: N },\n} = Ludex\n\nconst { Layout } = GameWorld\n\n@ccclass('MultiBackground')\nexport class MultiBackground extends Component {\n    @ComponentUtils.required()\n    @property({ type: UIOpacity })\n    private readonly fallbackBackground!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: Sprite })\n    private readonly background1!: Sprite\n\n    @ComponentUtils.required()\n    @property({ type: Sprite })\n    private readonly background2!: Sprite\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity })\n    private readonly background1UiOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity })\n    private readonly background2UiOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: UITransform })\n    private readonly screenUiTransform!: UITransform\n\n    @ComponentUtils.required()\n    @property({ type: UITransform })\n    private readonly background1UiTransform!: UITransform\n\n    @ComponentUtils.required()\n    @property({ type: UITransform })\n    private readonly background2UiTransform!: UITransform\n\n    @property(CCInteger)\n    public backgroundNudgeAmount = 50\n\n    @ComponentUtils.required()\n    @property(Widget)\n    public nudgeableWidget!: Widget\n\n    @property({ type: Enum(DashboardScreens) })\n    public pageOrder: DashboardScreens[] = []\n\n    @property({ type: Enum(DashboardScreens) })\n    public homePage: DashboardScreens = DashboardScreens.home\n\n    private currentPage: DashboardScreens = DashboardScreens.home\n    private currentThemeId?: ThemeKeys\n\n    private currentBackground!: Sprite\n    private currentBackgroundUiOpacity!: UIOpacity\n    private nextBackground!: Sprite\n    private nextBackgroundUiOpacity!: UIOpacity\n\n    private tweenSignal: AnimAbortSignal | undefined\n\n    protected __preload(): void {\n        this.currentBackground = this.background1\n        this.nextBackground = this.background2\n\n        this.currentBackgroundUiOpacity = this.background1UiOpacity\n        this.nextBackgroundUiOpacity = this.background2UiOpacity\n    }\n\n    public onLoad(): void {\n        ComponentUtils.validateRequiredProperties(this, MultiBackground)\n        this.listenToNavigationEvents()\n    }\n\n    public onDestroy() {\n        this.unlistenToNavigationEvents()\n    }\n\n    private listenToNavigationEvents() {\n        this.node.scene.on(DashboardEvents.REQUEST_NAVIGATION_ANIMATION, this.tryNudgeBackground)\n        // @ts-expect-error - This event is custom event\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n    }\n\n    private unlistenToNavigationEvents() {\n        this.node.scene.off(DashboardEvents.REQUEST_NAVIGATION_ANIMATION, this.tryNudgeBackground)\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n    }\n\n    private readonly tryNudgeBackground = ({ to }: { from: DashboardScreens | null; to: DashboardScreens }) => {\n        this.currentPage = to\n        const direction = this.getDirection(this.homePage, to)\n\n        const directionSign = N.sign(direction)\n        const directionAmount = Math.abs(direction)\n\n        const nudgeAmount = this.backgroundNudgeAmount * directionAmount\n\n        const backgroundWidth = Math.min(this.background1UiTransform.width, this.background2UiTransform.width)\n\n        const spareDistance = Math.max(0, (backgroundWidth - this.screenUiTransform.width) / 2)\n        const nudgeableAmount = Math.min(spareDistance, nudgeAmount) * directionSign\n\n        tween(this.nudgeableWidget)\n            .to(0.5, { horizontalCenter: nudgeableAmount }, { easing: easing.cubicInOut })\n            .start()\n    }\n\n    private getDirection(from: DashboardScreens, to: DashboardScreens): number {\n        const fromIndex = this.pageOrder.indexOf(from)\n        const toIndex = this.pageOrder.indexOf(to)\n\n        if (fromIndex === -1 || toIndex === -1) {\n            monitorError?.sendException(new Error('MultiBackground.getDirection: fromIndex or toIndex is -1'))\n\n            return 0\n        }\n\n        return fromIndex - toIndex\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async setCurrentTheme(themeId: ThemeKeys, signal?: AnimAbortSignal) {\n        if (this.currentThemeId === themeId) return\n        this.currentThemeId = themeId\n\n        this.tweenSignal?.abort()\n        const ourSignal = new AnimAbortSignal()\n        signal?.chain(ourSignal)\n        this.tweenSignal = ourSignal\n\n        const sprite = await ResourceUtils.loadThemeAsync(themeId)\n\n        if (!sprite) {\n            monitorError?.sendException(\n                new Error(`MultiBackground.setCurrentTheme: Failed to load theme ${themeId}'s sprite.`),\n            )\n\n            return\n        }\n\n        if (ourSignal.aborted) return\n        await this.updateBackground(sprite, ourSignal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async updateBackground(sprite: SpriteFrame, signal?: AnimAbortSignal) {\n        // ? Do not pack the sprite to avoid fusing the dynamic texture\n        // ! This is causing an error where the sprite is not reloaded when its dynamic texture is updated\n        sprite.packable = false\n\n        const currBackground = this.currentBackground\n        const nextBackground = this.nextBackground\n\n        const currBackgroundUiOpacity = this.currentBackgroundUiOpacity\n        const nextBackgroundUiOpacity = this.nextBackgroundUiOpacity\n\n        const fallbackBackground = this.fallbackBackground\n\n        nextBackground.spriteFrame = sprite\n        nextBackground.node.setSiblingIndex(1)\n        nextBackgroundUiOpacity.opacity = 0\n        fallbackBackground.opacity = 255\n\n        await AnimUtils.runTweenAsync(\n            tween(nextBackgroundUiOpacity).to(0.25, {\n                opacity: 255,\n            }),\n            signal,\n        )\n\n        currBackgroundUiOpacity.opacity = 0\n        fallbackBackground.opacity = 0\n\n        this.currentBackground = nextBackground\n        this.nextBackground = currBackground\n\n        this.currentBackgroundUiOpacity =\n            nextBackground === this.background1 ? this.background1UiOpacity : this.background2UiOpacity\n        this.nextBackgroundUiOpacity =\n            currBackground === this.background1 ? this.background1UiOpacity : this.background2UiOpacity\n    }\n\n    private handleOrientationChanged(layout: string): void {\n        if (layout === Layout.Portrait) {\n            const direction = this.getDirection(this.homePage, this.currentPage)\n\n            const directionSign = N.sign(direction)\n            const directionAmount = Math.abs(direction)\n\n            const nudgeAmount = this.backgroundNudgeAmount * directionAmount\n\n            const backgroundWidth = Math.min(this.background1UiTransform.width, this.background2UiTransform.width)\n\n            const spareDistance = Math.max(0, (backgroundWidth - this.screenUiTransform.width) / 2)\n            const nudgeableAmount = Math.min(spareDistance, nudgeAmount) * directionSign\n\n            this.nudgeableWidget.horizontalCenter = nudgeableAmount\n        } else if (layout === Layout.Landscape) {\n            this.nudgeableWidget.horizontalCenter = 0\n        }\n    }\n}\n","const ButtonPlusEvents = {\n    // Transitions\n    TRANSITION_DOWN: 'TRANSITION_DOWN',\n    TRANSITION_HOVER: 'TRANSITION_HOVER',\n    TRANSITION_RESET: 'TRANSITION_RESET',\n    TRANSITION_DISABLED: 'TRANSITION_DISABLED',\n\n    // Interactions\n    CLICK_START: 'CLICK_START',\n    CLICK: 'CLICK',\n    CLICK_END: 'CLICK_END',\n    CLICK_CANCEL: 'CLICK_CANCEL',\n} as const\n\ntype ButtonPlusEvent = (typeof ButtonPlusEvents)[keyof typeof ButtonPlusEvents]\n\nexport { ButtonPlusEvents }\nexport type { ButtonPlusEvent }\n","import { ccenum } from 'cc'\n\nconst musicPath = 'musics/'\nconst path = 'sounds/'\nconst {\n    Utils: { Object: O },\n} = Ludex\n\nexport const CodeSoundKeys = {\n    // TODO: replace BUTTON_CLICK\n    BUTTON_CLICK: `${path}use_item_click`,\n\n    BOMB_DEFUSE: `${path}bomb_defuse`,\n    BOMB_EXPLODE_1: `${path}bomb_explode_1`,\n    BOMB_EXPLODE_2: `${path}bomb_explode_2`,\n    CLICKS: `${path}clicks`,\n    CLOSE_POPUP_CLICK: `${path}close_popup_click`,\n    COLLECT_STARS: `${path}collect_stars`,\n    COMBO_1: `${path}combo_1`,\n    COMBO_2: `${path}combo_2`,\n    COMBO_3: `${path}combo_3`,\n    COMBO_4: `${path}combo_4`,\n    COMBO_5: `${path}combo_5`,\n    DAILY_REWARD: `${path}daily_reward`,\n    EXTRA_TIME_SPAWN: `${path}extra_time_spawn`,\n    GIFT_CHARGE: `${path}gift_charge`,\n    GIFT_EXPLODE: `${path}gift_explode`,\n    GIFT_REVEAL: `${path}gift_reveal`,\n    HINT_ITEM: `${path}hint_item`,\n    INVALID_MATCH: `${path}invalid_match`,\n    LEVEL_COMPLETE: `${path}level_complete`,\n    LEVEL_FAIL: `${path}level_fail`,\n    LEVEL_START: `${path}level_start`,\n    PROGRESS_STAR: `${path}progress_star`,\n    RESCUE_TIMER: `${path}rescue_timer`,\n    ROCKET_FLY: `${path}rocket_fly`,\n    SHUFFLE_ITEM: `${path}shuffle_item`,\n    THREE_STARS: `${path}three_stars`,\n    TICKING_BOMB_BEFORE_EXPLODE: `${path}ticking_bomb_before_explode`,\n    TILE_SELECT: `${path}tile_select`,\n    USE_ITEM_CLICK: `${path}use_item_click`,\n    BG_MUSIC: `${musicPath}bg_music`,\n    PATCH_SHIFT: `${path}patch_shift`,\n    THUNDERBOLT: `${path}thunderbolt`,\n    WIND: `${path}wind`,\n    COLLECT_COINS: `${path}collect_coins`,\n    COLLECT_STOCK_COINS: `${path}collect_stock_coins`,\n    LEVEL_FAIL_TIMEOUT: `${path}level_fail_timeout`,\n    STAR_CHEST_DRUM_ROLL: `${path}star_chest_drum_roll`,\n    STAR_CHEST_OPEN: `${path}star_chest_open`,\n    LEADERBOARD_TRIUMPH: `${path}leaderboard_triumph`,\n    ITEM_REWARD: `${path}item_reward`,\n    COMBO_6: `${path}combo_6`,\n    COMBO_7: `${path}combo_7`,\n    COMBO_8: `${path}combo_8`,\n    COMBO_9: `${path}combo_9`,\n    COMBO_10: `${path}combo_10`,\n    COMBO_11: `${path}combo_11`,\n    COMBO_12: `${path}combo_12`,\n    COMBO_13: `${path}combo_13`,\n    TILE_MATCH: `${path}tile_match`,\n    TOURNAMENT_MUSIC: `${musicPath}tournament_music`,\n} as const\n\ntype ValueOf<T> = T[keyof T]\nexport type TCodeSoundValue = ValueOf<typeof CodeSoundKeys>\ntype TCodeSoundKeys = { [key in TCodeSoundValue]?: number }\n\nconst values = O.vals(CodeSoundKeys) as TCodeSoundValue[]\nconst SoundKeys = values.reduce((result: TCodeSoundKeys, key, index) => {\n    result[key] = index\n    return result\n}, {})\n\nccenum(SoundKeys)\n\nexport default SoundKeys\nexport const SoundKeysMapping = values\n// export const SoundResourcesPath = path\n","import { Button, EventHandler, type EventTouch, Input, Node, type __private, _decorator, type math } from 'cc'\nimport { type ButtonPlusEvent, ButtonPlusEvents } from '../../constants/ButtonPlusEvents'\nimport SoundKeys, { CodeSoundKeys, SoundKeysMapping } from '../../constants/SoundKeys'\nimport AudioUtils from '../../utils/AudioUtils'\nimport CocosUtils from '../../utils/CocosUtils'\n\nconst { ccclass, property, disallowMultiple, menu } = _decorator\nconst DisabledState: __private._cocos_ui_button__State.DISABLED = 3\n\n@ccclass('ButtonPlus')\n@disallowMultiple\n@menu('Ludex/ButtonPlus/ButtonPlus')\nexport class ButtonPlus extends Button {\n    @property(EventHandler)\n    public onClickStartEvents: EventHandler[] = []\n\n    @property(EventHandler)\n    public onClickEndEvents: EventHandler[] = []\n\n    @property(EventHandler)\n    public onClickCancelEvents: EventHandler[] = []\n\n    /**\n     * @deprecated ButtonPlus overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get transition(): typeof Button.Transition.NONE {\n        return Button.Transition.NONE\n    }\n\n    override set transition(_value: typeof Button.Transition) {\n        super.transition = Button.Transition.NONE\n    }\n\n    /**\n     * @deprecated ButtonPlus overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get normalColor() {\n        return super.normalColor\n    }\n\n    override set normalColor(value) {\n        super.normalColor = value\n    }\n\n    /**\n     * @deprecated ButtonPlus overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get pressedColor() {\n        return super.pressedColor\n    }\n\n    override set pressedColor(value) {\n        super.pressedColor = value\n    }\n\n    /**\n     * @deprecated ButtonPlus overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get hoverColor() {\n        return super.hoverColor\n    }\n\n    override set hoverColor(value) {\n        super.hoverColor = value\n    }\n\n    /**\n     * @deprecated ButtonPlus overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get disabledColor() {\n        return super.disabledColor\n    }\n\n    override set disabledColor(value) {\n        super.disabledColor = value\n    }\n\n    /**\n     * @deprecated ButtonPlus overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get normalSprite() {\n        return super.normalSprite\n    }\n\n    override set normalSprite(value) {\n        super.normalSprite = value\n    }\n\n    /**\n     * @deprecated ButtonPlus overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get pressedSprite() {\n        return super.pressedSprite\n    }\n\n    override set pressedSprite(value) {\n        super.pressedSprite = value\n    }\n\n    /**\n     * @deprecated ButtonPlus overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get hoverSprite() {\n        return super.hoverSprite\n    }\n\n    override set hoverSprite(value) {\n        super.hoverSprite = value\n    }\n\n    /**\n     * @deprecated ButtonPlus overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get disabledSprite() {\n        return super.disabledSprite\n    }\n\n    override set disabledSprite(value) {\n        super.disabledSprite = value\n    }\n\n    /**\n     * @deprecated ButtonPlus overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get duration() {\n        return super.duration\n    }\n\n    override set duration(value) {\n        super.duration = value\n    }\n\n    /**\n     * @deprecated ButtonPlus overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get zoomScale() {\n        return super.zoomScale\n    }\n\n    override set zoomScale(value) {\n        super.zoomScale = value\n    }\n\n    @property\n    public makeSound = true\n\n    @property({\n        visible(this: ButtonPlus) {\n            return this.makeSound\n        },\n        type: SoundKeys,\n    })\n    public soundKey = SoundKeys[CodeSoundKeys.BUTTON_CLICK] as number\n\n    @property({\n        tooltip: 'Add a delay after click to prevent spamming (not apply for cancel click)',\n    })\n    public disableSpamClick = true\n\n    @property({\n        visible(this: ButtonPlus) {\n            return this.disableSpamClick\n        },\n        tooltip: 'Delay time in seconds',\n    })\n    public disableSpamDelay = 0.5\n\n    @property\n    public performBoundsCheckOnClickCancel = true\n\n    /**\n     * Handle anim scales the click area result in cancelling click\n     */\n    protected currentClickBoundingBox: math.Rect | null = null\n\n    /**\n     * Handle double click case\n     */\n    protected hasDown = false\n    /**\n     * Handle double click case\n     */\n    protected hasUp = false\n\n    /**\n     * Whether the button has been Down and Up\n     *\n     * For check onMouseLeave only\n     */\n    protected hasFinishClickCycle = false\n\n    protected hasBeenDisabled = false\n\n    public override __preload() {\n        super.__preload()\n    }\n\n    public override onDestroy(): void {\n        super.onDestroy?.()\n    }\n\n    public override onEnable() {\n        super.onEnable?.()\n\n        this.hasBeenDisabled = !this.interactable\n\n        //? remove origin Button Event\n        this.node.off(Input.EventType.TOUCH_END, this._onTouchEnded, this)\n\n        //? add onClick custom handle\n        this.node.on(Node.EventType.TOUCH_START, this.onTouchStart)\n        this.node.on(Node.EventType.TOUCH_END, this.onTouchEnd)\n        this.node.on(Node.EventType.TOUCH_CANCEL, this.onTouchCancel)\n\n        //? Support for window\n        this.node.on(Node.EventType.MOUSE_ENTER, this.onMouseEnter)\n        this.node.on(Node.EventType.MOUSE_LEAVE, this.onMouseLeave)\n    }\n\n    public override onDisable() {\n        super.onDisable?.()\n\n        this.node.off(Node.EventType.TOUCH_START, this.onTouchStart)\n        this.node.off(Node.EventType.TOUCH_END, this.onTouchEnd)\n        this.node.off(Node.EventType.TOUCH_CANCEL, this.onTouchCancel)\n\n        //? Support for window\n        this.node.off(Node.EventType.MOUSE_ENTER, this.onMouseEnter)\n        this.node.off(Node.EventType.MOUSE_LEAVE, this.onMouseLeave)\n\n        this.unschedule(this.handleResetButtonState)\n        this.handleResetButtonState()\n    }\n\n    protected override _updateState(): void {\n        super._updateState()\n        this.patchEmitTransitionDisabled()\n    }\n\n    private patchEmitTransitionDisabled() {\n        const state = this._getButtonState()\n        const isDisabled = state === DisabledState\n        if (this.hasBeenDisabled !== isDisabled) {\n            if (isDisabled) {\n                this.emitTransitionEvent(ButtonPlusEvents.TRANSITION_DISABLED)\n            } else {\n                this.emitTransitionEvent(ButtonPlusEvents.TRANSITION_RESET)\n            }\n            this.hasBeenDisabled = isDisabled\n        }\n    }\n\n    protected onTouchStart = (event: EventTouch) => {\n        if (!this.interactable) return\n        if (this.hasDown) return\n\n        this.currentClickBoundingBox = CocosUtils.getBoundingBoxToWorld(this.node)\n        this.handleDown(event)\n    }\n\n    protected onTouchEnd = (event: EventTouch) => {\n        // ? Sometime onTouchEnd is called with onTouchStart (~1ms)\n        this.scheduleOnce(() => {\n            if (!this.interactable) return\n            if (!this.hasDown) return\n            if (this.hasUp) return\n\n            this.handleUp(event)\n        }, 0)\n    }\n\n    protected handleDown(event: EventTouch) {\n        this.hasDown = true\n\n        if (this.makeSound) {\n            AudioUtils.playSound(SoundKeysMapping[this.soundKey] as string)\n        }\n\n        this.emitTransitionEvent(ButtonPlusEvents.TRANSITION_DOWN)\n        this.emitClickStartEvents(event)\n    }\n\n    protected onTouchCancel = (event: EventTouch) => {\n        if (!this.interactable) return\n        if (!this.hasDown) return\n        if (this.hasUp) return\n\n        if (this.performBoundsCheckOnClickCancel) {\n            const uiLocation = event.getUILocation()\n            const inClickBoundingBox = this.currentClickBoundingBox?.contains(uiLocation) ?? false\n\n            if (inClickBoundingBox) {\n                this.handleUp(event)\n                return\n            }\n        }\n\n        this.hasUp = true\n        this.hasFinishClickCycle = true\n\n        this.handleResetButtonState()\n        this.emitClickCancelEvents(event)\n        this.emitClickEndEvents(event)\n    }\n\n    protected onMouseEnter = (_event: EventTouch) => {\n        if (!this.interactable) return\n        if (this.hasDown) return\n\n        this.hasFinishClickCycle = false\n\n        this.emitTransitionEvent(ButtonPlusEvents.TRANSITION_HOVER)\n    }\n\n    protected onMouseLeave = (_event: EventTouch) => {\n        if (!this.interactable) return\n        if (this.hasDown) return\n        if (this.hasUp) return\n        if (this.hasFinishClickCycle) return\n\n        this.handleResetButtonState()\n    }\n\n    private emitClickStartEvents(event: EventTouch) {\n        for (const clickEvent of this.onClickStartEvents) {\n            clickEvent.emit([event, clickEvent.customEventData])\n        }\n\n        this.node.emit(ButtonPlusEvents.CLICK_START, this)\n    }\n\n    private emitClickEndEvents(event: EventTouch) {\n        for (const clickEvent of this.onClickEndEvents) {\n            clickEvent.emit([event, clickEvent.customEventData])\n        }\n\n        this.node.emit(ButtonPlusEvents.CLICK_END, this)\n    }\n\n    private emitClickCancelEvents(event: EventTouch) {\n        for (const clickEvent of this.onClickCancelEvents) {\n            clickEvent.emit([event, clickEvent.customEventData])\n        }\n\n        this.node.emit(ButtonPlusEvents.CLICK_CANCEL, this)\n    }\n\n    protected handleUp(event: EventTouch) {\n        this.hasUp = true\n\n        // @ts-expect-error accessing a private prop in Button\n        this._pressed = false\n\n        this.hasFinishClickCycle = true\n\n        this.emitTransitionEvent(ButtonPlusEvents.TRANSITION_RESET)\n\n        if (this.disableSpamClick) {\n            this.scheduleOnce(this.handleResetButtonState, this.disableSpamDelay)\n        } else {\n            this.handleResetButtonState()\n        }\n\n        this.emitButtonEvents(event)\n        this.emitClickEndEvents(event)\n    }\n\n    protected emitButtonEvents(event: EventTouch) {\n        if (!this.interactable) return\n\n        for (const clickEvent of this.clickEvents) {\n            clickEvent.emit([event, clickEvent.customEventData])\n        }\n\n        this.node.emit(ButtonPlusEvents.CLICK, this)\n        this.node.emit(Button.EventType.CLICK, this)\n    }\n\n    protected handleResetButtonState = () => {\n        this.hasDown = false\n        this.hasUp = false\n        this.emitTransitionEvent(ButtonPlusEvents.TRANSITION_RESET)\n    }\n\n    protected emitTransitionEvent(event: ButtonPlusEvent) {\n        this.node.emit(event, this)\n    }\n\n    /** Fake a click to reset the animation controller of the button.\n     * You might want to use this method when you need the button to\n     * reflect a different reset state.\n     *\n     * * Note: This method is only for visual purposes and does not emit any events.\n     * Use `resetButtonState()` to reset the button's internal logical state.\n     * */\n    public fakeClick(): void {\n        this.emitTransitionEvent(ButtonPlusEvents.TRANSITION_DOWN)\n        this.scheduleOnce(() => {\n            this.emitTransitionEvent(ButtonPlusEvents.TRANSITION_RESET)\n        }, 0)\n    }\n\n    /** Reset the button's internal logical state.\n     * This method affect the natural flow of the button's interaction.\n     *\n     * * Note: Please use `fakeClick()` if you only need to reset the button's visual state.\n     */\n    public resetButtonState() {\n        this.handleResetButtonState()\n    }\n\n    public setInteractable(interactable = true, alsoChangeEnableStatus = true) {\n        this.interactable = interactable\n        if (alsoChangeEnableStatus) {\n            this.enabled = interactable\n        }\n    }\n}\n","import { _decorator, Component } from 'cc'\nimport { ButtonPlusEvents } from '../../constants/ButtonPlusEvents'\nimport AnalyticsUtils from '../../utils/AnalyticsUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport { ButtonPlus } from './ButtonPlus'\n\nconst { ccclass, property, disallowMultiple, requireComponent, menu } = _decorator\n\nconst {\n    Plugins: { Analytics: { Events } = {} },\n} = Ludex\nconst { analytics } = codex\n\n@ccclass('ButtonPlusAnalytics')\n@disallowMultiple\n@requireComponent(ButtonPlus)\n@menu('Ludex/ButtonPlus/ButtonPlusAnalytics')\nexport class ButtonPlusAnalytics extends Component {\n    @ComponentUtils.required()\n    @property(ButtonPlus)\n    readonly button!: ButtonPlus\n\n    @property\n    readonly useCustomButtonName = false\n\n    @property({\n        visible(this: ButtonPlusAnalytics) {\n            return this.useCustomButtonName\n        },\n    })\n    readonly customButtonName = ''\n\n    protected onEnable(): void {\n        this.button.node.on(ButtonPlusEvents.CLICK, this.onClick, this)\n    }\n\n    protected onDisable(): void {\n        this.button.node.off(ButtonPlusEvents.TRANSITION_DOWN, this.onClick, this)\n    }\n\n    private onClick() {\n        if (!Events) return\n\n        analytics.event(Events.BUTTON_CLICK, {\n            button_name: this.useCustomButtonName ? this.customButtonName : this.node.name,\n            screen_name: AnalyticsUtils.getCurrentPage(),\n        })\n    }\n}\n","import { _decorator, Component, tween, Vec3 } from 'cc'\nimport { ButtonPlusEvents } from '../../constants/ButtonPlusEvents'\nimport AnimUtils from '../../utils/AnimUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport { ButtonPlus } from './ButtonPlus'\n\nconst { ccclass, property, disallowMultiple, requireComponent, menu } = _decorator\n\nconst {\n    Utils: { Signal: S },\n} = Ludex\n\n@ccclass('ButtonPlusScale')\n@disallowMultiple\n@requireComponent(ButtonPlus)\n@menu('Ludex/ButtonPlus/ButtonPlusScale')\nexport class ButtonPlusScale extends Component {\n    @ComponentUtils.required()\n    @property(ButtonPlus)\n    readonly button!: ButtonPlus\n\n    @property({\n        group: { name: 'Normal', style: 'section' },\n        displayName: 'Scale',\n    })\n    public normalScale = new Vec3(1, 1, 1)\n\n    @property({\n        group: { name: 'Normal', style: 'section' },\n        displayName: 'Duration',\n    })\n    public normalDuration = 0.2\n\n    @property({\n        group: { name: 'Hover', style: 'section' },\n        displayName: 'Scale',\n    })\n    public hoverScale = new Vec3(1.1, 1.1, 1.1)\n\n    @property({\n        group: { name: 'Hover', style: 'section' },\n        displayName: 'Duration',\n    })\n    public hoverDuration = 0.2\n\n    @property({\n        group: { name: 'Click', style: 'section' },\n        displayName: 'Scale',\n    })\n    public clickScale = new Vec3(0.9, 0.9, 0.9)\n\n    @property({\n        group: { name: 'Click', style: 'section' },\n        displayName: 'Duration',\n    })\n    public clickDuration = 0.2\n\n    protected animStateController = new S.SignalController()\n\n    protected start(): void {\n        this.button.node.setScale(this.normalScale)\n    }\n\n    protected onEnable(): void {\n        this.button.node.on(ButtonPlusEvents.TRANSITION_DOWN, this.onTransitionDown, this)\n        this.button.node.on(ButtonPlusEvents.TRANSITION_HOVER, this.onTransitionHover, this)\n        this.button.node.on(ButtonPlusEvents.TRANSITION_RESET, this.onTransitionReset, this)\n    }\n\n    protected onDisable(): void {\n        this.button.node.off(ButtonPlusEvents.TRANSITION_DOWN, this.onTransitionDown, this)\n        this.button.node.off(ButtonPlusEvents.TRANSITION_HOVER, this.onTransitionHover, this)\n        this.button.node.off(ButtonPlusEvents.TRANSITION_RESET, this.onTransitionReset, this)\n    }\n\n    private onTransitionDown() {\n        AnimUtils.runTweenAsync(\n            tween(this.button.node).to(this.clickDuration, { scale: this.clickScale }, { easing: 'cubicOut' }),\n            this.animStateController.renew(),\n        )\n    }\n\n    private onTransitionHover() {\n        AnimUtils.runTweenAsync(\n            tween(this.button.node).to(this.hoverDuration, { scale: this.hoverScale }, { easing: 'backOut' }),\n            this.animStateController.renew(),\n        )\n    }\n\n    private onTransitionReset() {\n        AnimUtils.runTweenAsync(\n            tween(this.button.node).to(this.normalDuration, { scale: this.normalScale }, { easing: 'cubicOut' }),\n            this.animStateController.renew(),\n        )\n    }\n}\n","import { _decorator, animation, Button, CCBoolean, EventHandler, type EventTouch, Input, type math, Node } from 'cc'\nimport { EDITOR_NOT_IN_PREVIEW } from 'cc/env'\nimport SoundKeys, { CodeSoundKeys, SoundKeysMapping } from '../../constants/SoundKeys'\nimport AnalyticsUtils from '../../utils/AnalyticsUtils'\nimport AudioUtils from '../../utils/AudioUtils'\nimport CocosUtils from '../../utils/CocosUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\n\nconst { ccclass, property, disallowMultiple, executionOrder } = _decorator\n\nconst { analytics } = codex\n\nconst {\n    Plugins: { Analytics: { Events } = {} },\n    Utils: { Valid: V },\n} = Ludex\n\n@ccclass('ExtendedButton')\n@disallowMultiple\n//? run after Button Component\n@executionOrder(111)\nexport class ExtendedButton extends Button {\n    @property(EventHandler)\n    public clickStartEvents: EventHandler[] = []\n\n    @property(EventHandler)\n    public clickEndEvents: EventHandler[] = []\n\n    // * Sine: 26/05/2025\n    // ? @property('cc.animation.AnimationController') not working in editor\n    @property(animation.AnimationController)\n    readonly animationController!: animation.AnimationController\n\n    //#region Override CCButton properties\n    /**\n     * @deprecated ExtendedButton overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get transition(): typeof Button.Transition.NONE {\n        return Button.Transition.NONE\n    }\n\n    override set transition(_value: typeof Button.Transition) {\n        super.transition = Button.Transition.NONE\n    }\n\n    /**\n     * @deprecated ExtendedButton overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get normalColor() {\n        return super.normalColor\n    }\n\n    override set normalColor(value) {\n        super.normalColor = value\n    }\n\n    /**\n     * @deprecated ExtendedButton overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get pressedColor() {\n        return super.pressedColor\n    }\n\n    override set pressedColor(value) {\n        super.pressedColor = value\n    }\n\n    /**\n     * @deprecated ExtendedButton overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get hoverColor() {\n        return super.hoverColor\n    }\n\n    override set hoverColor(value) {\n        super.hoverColor = value\n    }\n\n    /**\n     * @deprecated ExtendedButton overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get disabledColor() {\n        return super.disabledColor\n    }\n\n    override set disabledColor(value) {\n        super.disabledColor = value\n    }\n\n    /**\n     * @deprecated ExtendedButton overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get normalSprite() {\n        return super.normalSprite\n    }\n\n    override set normalSprite(value) {\n        super.normalSprite = value\n    }\n\n    /**\n     * @deprecated ExtendedButton overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get pressedSprite() {\n        return super.pressedSprite\n    }\n\n    override set pressedSprite(value) {\n        super.pressedSprite = value\n    }\n\n    /**\n     * @deprecated ExtendedButton overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get hoverSprite() {\n        return super.hoverSprite\n    }\n\n    override set hoverSprite(value) {\n        super.hoverSprite = value\n    }\n\n    /**\n     * @deprecated ExtendedButton overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get disabledSprite() {\n        return super.disabledSprite\n    }\n\n    override set disabledSprite(value) {\n        super.disabledSprite = value\n    }\n\n    /**\n     * @deprecated ExtendedButton overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get duration() {\n        return super.duration\n    }\n\n    override set duration(value) {\n        super.duration = value\n    }\n\n    /**\n     * @deprecated ExtendedButton overrides and disables native Cocos Creator Button transitions\n     */\n    @property({ override: true, visible: false })\n    override get zoomScale() {\n        return super.zoomScale\n    }\n\n    override set zoomScale(value) {\n        super.zoomScale = value\n    }\n    //#end region Override CCButton properties\n\n    @property(CCBoolean)\n    public useDesktopHover = true\n\n    @property(CCBoolean)\n    public emitAnalyticsEvents = true\n\n    @property(CCBoolean)\n    public makeSound = true\n\n    @property({\n        visible(this: ExtendedButton) {\n            return this.makeSound\n        },\n        type: SoundKeys,\n    })\n    public soundKey = SoundKeys[CodeSoundKeys.BUTTON_CLICK]\n\n    @property({\n        tooltip: 'Add a delay after click to prevent spamming (not apply for cancel click)',\n    })\n    public disableSpamClick = true\n\n    @property({\n        visible(this: ExtendedButton) {\n            return this.disableSpamClick\n        },\n        tooltip: 'Delay time in seconds',\n    })\n    public disableSpamDelay = 0.5\n\n    @property({})\n    private isScrollViewCancelInnerEvents: boolean = false\n\n    /**\n     * Handle anim scales the click area result in cancelling click\n     */\n    protected currentClickBoundingBox: math.Rect | null = null\n\n    /**\n     * Handle double click case\n     */\n    protected hasDown = false\n    /**\n     * Handle double click case\n     */\n    protected hasUp = false\n\n    /**\n     * Whether the button has been Down and Up\n     *\n     * For check onMouseLeave only\n     */\n    protected hasFinishClickCycle = false\n\n    public override __preload() {\n        super.__preload()\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public override onDestroy(): void {\n        super.onDestroy?.()\n    }\n\n    public override onEnable() {\n        super.onEnable?.()\n\n        //? remove origin Button Event\n        this.node.off(Input.EventType.TOUCH_END, this._onTouchEnded, this)\n\n        //? add onClick custom handle\n        this.node.on(Node.EventType.TOUCH_START, this.onTouchStart)\n        this.node.on(Node.EventType.TOUCH_END, this.onTouchEnd)\n        this.node.on(Node.EventType.TOUCH_CANCEL, this.onTouchCancel)\n\n        //? Support for window\n        this.node.on(Node.EventType.MOUSE_ENTER, this.onMouseEnter)\n        this.node.on(Node.EventType.MOUSE_LEAVE, this.onMouseLeave)\n    }\n\n    public override onDisable() {\n        super.onDisable?.()\n\n        this.node.off(Node.EventType.TOUCH_START, this.onTouchStart)\n        this.node.off(Node.EventType.TOUCH_END, this.onTouchEnd)\n        this.node.off(Node.EventType.TOUCH_CANCEL, this.onTouchCancel)\n\n        //? Support for window\n        this.node.off(Node.EventType.MOUSE_ENTER, this.onMouseEnter)\n        this.node.off(Node.EventType.MOUSE_LEAVE, this.onMouseLeave)\n\n        this.unschedule(this.handleResetButtonState)\n        this.handleResetButtonState()\n    }\n\n    protected onTouchStart = (event: EventTouch) => {\n        if (!this.interactable) return\n        if (this.hasDown) return\n\n        this.currentClickBoundingBox = CocosUtils.getBoundingBoxToWorld(this.node)\n\n        this.handleDown(event)\n    }\n\n    protected onTouchEnd = (event: EventTouch) => {\n        // ? Sometime onTouchEnd is called with onTouchStart (~1ms)\n        this.scheduleOnce(() => {\n            if (!this.interactable) return\n            if (!this.hasDown) return\n            if (this.hasUp) return\n\n            this.handleUp(event)\n        }, 0)\n    }\n\n    protected handleDown(event: EventTouch) {\n        this.hasDown = true\n\n        this.setAnimationState('DOWN')\n\n        if (this.makeSound && V.isString(this.soundKey)) {\n            const soundKey = SoundKeysMapping[this.soundKey]\n            if (soundKey) {\n                AudioUtils.playSound(soundKey)\n            }\n        }\n\n        this.emitClickStartEvents(event)\n    }\n\n    protected onTouchCancel = (event: EventTouch) => {\n        if (!this.interactable) return\n        if (!this.hasDown) return\n        if (this.hasUp) return\n\n        // ? ScrollView will replace all touch events to TOUCH_CANCEL when it's scrolling\n        if (!this.isScrollViewCancelInnerEvents) {\n            const uiLocation = event.getUILocation()\n            const inClickBoundingBox = this.currentClickBoundingBox?.contains(uiLocation) ?? false\n\n            if (inClickBoundingBox) {\n                this.handleUp(event)\n                return\n            }\n        }\n\n        this.hasUp = true\n        this.hasFinishClickCycle = true\n\n        this.handleResetButtonState()\n        this.emitClickEndEvents(event)\n    }\n\n    protected onMouseEnter = (_event: EventTouch) => {\n        if (!this.useDesktopHover) return\n        if (!this.interactable) return\n        if (this.hasDown) return\n\n        this.hasFinishClickCycle = false\n\n        this.setAnimationState('HOVER')\n    }\n\n    protected onMouseLeave = (_event: EventTouch) => {\n        if (!this.useDesktopHover) return\n        if (!this.interactable) return\n        if (this.hasDown) return\n        if (this.hasUp) return\n        if (this.hasFinishClickCycle) return\n\n        this.handleResetButtonState()\n    }\n\n    private emitClickStartEvents(event: EventTouch) {\n        for (const clickEvent of this.clickStartEvents) {\n            clickEvent.emit([event, clickEvent.customEventData])\n        }\n    }\n\n    private emitClickEndEvents(event: EventTouch) {\n        for (const clickEvent of this.clickEndEvents) {\n            clickEvent.emit([event, clickEvent.customEventData])\n        }\n    }\n\n    protected handleUp(event: EventTouch) {\n        this.hasUp = true\n\n        // @ts-expect-error accessing a private prop in Button\n        this._pressed = false\n\n        this.hasFinishClickCycle = true\n\n        this.setAnimationState('RESET')\n\n        if (this.disableSpamClick) {\n            this.scheduleOnce(this.handleResetButtonState, this.disableSpamDelay)\n        } else {\n            this.handleResetButtonState()\n        }\n\n        this.emitButtonEvents(event)\n        this.emitClickEndEvents(event)\n    }\n\n    protected emitButtonEvents(event: EventTouch) {\n        if (!this.interactable) return\n\n        if (this.emitAnalyticsEvents && Events) {\n            const page = AnalyticsUtils.getCurrentPage()\n            analytics.event(Events.BUTTON_CLICK, {\n                button_name: this.node.name,\n                screen_name: page,\n            })\n        }\n\n        for (const clickEvent of this.clickEvents) {\n            clickEvent.emit([event, clickEvent.customEventData])\n        }\n        \n        this.node.emit(Button.EventType.CLICK, this)\n    }\n\n    protected handleResetButtonState = () => {\n        this.hasDown = false\n        this.hasUp = false\n\n        //Reset button scale to normal before animation\n        this.setAnimationState('RESET')\n    }\n\n    protected setAnimationState(state: 'DOWN' | 'HOVER' | 'RESET') {\n        if (EDITOR_NOT_IN_PREVIEW) return\n        if (!this.animationController) return\n\n        this.animationController.setValue('DOWN', state === 'DOWN')\n        this.animationController.setValue('HOVER', state === 'HOVER')\n        this.animationController.setValue('RESET', state === 'RESET')\n    }\n\n    /** Fake a click to reset the animation controller of the button.\n     * You might want to use this method when you need the button to\n     * reflect a different reset state.\n     *\n     * * Note: This method is only for visual purposes and does not emit any events.\n     * Use `resetButtonState()` to reset the button's internal logical state.\n     * */\n    public fakeClick(): void {\n        this.setAnimationState('DOWN')\n        this.scheduleOnce(() => {\n            this.setAnimationState('RESET')\n        }, 0)\n    }\n\n    /** Reset the button's internal logical state.\n     * This method affect the natural flow of the button's interaction.\n     *\n     * * Note: Please use `fakeClick()` if you only need to reset the button's visual state.\n     */\n    public resetButtonState() {\n        this.handleResetButtonState()\n    }\n}\n","import { Component, UIOpacity, _decorator, tween } from 'cc'\nimport AnimUtils from '../../utils/AnimUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../utils/common/AnimAbortSignal'\n\nconst { ccclass, requireComponent, property } = _decorator\n\n@ccclass('OpacityToggler')\n@requireComponent([UIOpacity])\nexport class OpacityToggler extends Component {\n    @property\n    private activeValue = 255\n\n    @property\n    private inActiveValue = 128\n\n    private opacityComponent!: UIOpacity\n    private signal: AnimAbortSignal = new AnimAbortSignal()\n\n    public __preload() {\n        this.opacityComponent = this.getComponent(UIOpacity)!\n\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public changeState(active = false) {\n        this.signal.abort()\n        this.opacityComponent.opacity = active ? this.activeValue : this.inActiveValue\n    }\n\n    public async changeStateFade(active = false, duration = 0.2) {\n        this.signal.abort()\n        this.signal = new AnimAbortSignal()\n\n        const target = active ? this.activeValue : this.inActiveValue\n\n        await AnimUtils.runTweenAsync(tween(this.opacityComponent).to(duration, { opacity: target }), this.signal)\n    }\n}\n","import { _decorator, Component, type EventTouch, Input, Label, RichText, UIOpacity } from 'cc'\nimport AdsUtils from '../../utils/AdsUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\n\nconst { ccclass, property, requireComponent } = _decorator\n\nconst {\n    Events,\n    Plugins: {\n        Ads: { Types: AdType },\n    },\n} = Ludex\n\nconst { event, ads } = codex\n\nconst LOG_CONFIG = {\n    LOADING: { color: '#00FFFF', prefix: 'LOADING' },\n    LOADED: { color: '#00FF00', prefix: 'LOADED' },\n    LOAD_FAILED: { color: '#FF00FF', prefix: 'LOAD FAIL' },\n    SHOWING: { color: '#FFFF00', prefix: 'SHOWING...' },\n    SHOW: { color: '#00FF00', prefix: 'SHOW' },\n    SHOW_FAILED: { color: '#FF0000', prefix: 'SHOW FAIL' },\n    CLOSED: { color: '#AAAAAA', prefix: 'CLOSED' },\n} as const\n\nconst MAX_LOG_LINES = 20\n\n@ccclass('DebugAdsPlugin')\n@requireComponent(UIOpacity)\nexport class DebugAdsPlugin extends Component {\n    @ComponentUtils.required()\n    @property(Label)\n    public statusLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Label)\n    public timersLabel!: Label\n\n    @ComponentUtils.required()\n    @property(RichText)\n    public logLabel!: RichText\n\n    @ComponentUtils.required()\n    @property(UIOpacity)\n    public opacity!: UIOpacity\n\n    private logLines$: string[] = []\n    private touchMs$ = 0\n\n    protected onLoad(): void {\n        this.logInitializedAds$()\n\n        this.setupEventListeners$('on')\n\n        this.schedule(() => {\n            this.updateStatus$()\n            this.updateTimers$()\n        }, 0.5)\n    }\n\n    protected onDestroy(): void {\n        this.setupEventListeners$('off')\n        this.unscheduleAllCallbacks()\n    }\n\n    private setupEventListeners$ = (state: 'on' | 'off'): void => {\n        const handlers = [\n            [Events.AD_LOADING, this.onAdLoading$],\n            [Events.AD_LOADED, this.onAdLoaded$],\n            [Events.AD_LOAD_FAILED, this.onAdLoadFailed$],\n            [Events.AD_SHOWING, this.onAdShowing$],\n            [Events.AD_SHOW, this.onAdShow$],\n            [Events.AD_SHOW_FAILED, this.onAdShowFailed$],\n            [Events.AD_CLOSED, this.onAdClosed$],\n        ] as const\n\n        handlers.forEach(([evt, func]) => {\n            event[state](evt, func)\n        })\n\n        this.node[state](Input.EventType.TOUCH_END, this.handleTouchEnd$)\n        this.node[state](Input.EventType.TOUCH_START, this.handleTouchStart$)\n    }\n\n    private logInitializedAds$ = () => {\n        if (!ads) {\n            this.addLog$('Ads plugin not available', '#FF0000')\n            return\n        }\n\n        // @ts-expect-error - getAdsInstances is a method of the Ads plugin\n        const adsInstances = ads.getAdsInstances()\n\n        if (!adsInstances || Object.keys(adsInstances).length === 0) {\n            this.addLog$('No ad instances initialized', '#FFFF00')\n            return\n        }\n\n        this.addLog$(`Initialized ${Object.keys(adsInstances).length} ad instances:`, '#00FF00')\n        Object.entries(adsInstances).forEach(([_, ad]: [string, any]) => {\n            const { deviceOS, placementId } = ad\n            this.addLog$(`${placementId} on ${deviceOS}`, '#00FFFF')\n        })\n    }\n\n    private handleTouchStart$ = (event: EventTouch) => {\n        event.preventSwallow = this.opacity.opacity === 0\n        if (!event.touch || !this.opacity) return\n\n        const isDoubleTap = Date.now() - this.touchMs$ < 300\n\n        if (isDoubleTap) {\n            if (this.opacity.opacity === 255) {\n                this.opacity.opacity = 0\n            } else {\n                this.opacity.opacity = 255\n            }\n        }\n\n        this.touchMs$ = Date.now()\n    }\n\n    private handleTouchEnd$ = (event: EventTouch) => {\n        event.preventSwallow = this.opacity.opacity === 0\n    }\n\n    private onAdLoading$ = (payload: unknown) => this.logEvent$(LOG_CONFIG.LOADING, payload)\n    private onAdLoaded$ = (payload: unknown) => this.logEvent$(LOG_CONFIG.LOADED, payload)\n    private onAdLoadFailed$ = (payload: unknown) => this.logEvent$(LOG_CONFIG.LOAD_FAILED, payload)\n\n    private onAdShowing$ = (payload: unknown) => this.logEvent$(LOG_CONFIG.SHOWING, payload)\n    private onAdShow$ = (payload: unknown) => this.logEvent$(LOG_CONFIG.SHOW, payload)\n    private onAdShowFailed$ = (payload: unknown) => this.logEvent$(LOG_CONFIG.SHOW_FAILED, payload)\n\n    private onAdClosed$ = (payload: unknown) => this.logEvent$(LOG_CONFIG.CLOSED, payload)\n\n    private logEvent$ = (config: { color: string; prefix: string }, payload: any) => {\n        const { type, placementId } = payload\n        this.addLog$(`${config.prefix}: ${type} (${placementId})`, config.color)\n    }\n\n    private addLog$ = (message: string, colorHex: string) => {\n        const time = new Date().toLocaleTimeString().split(' ')[0]\n        const line = `<color=${colorHex}>[${time}] ${message}</color>`\n\n        this.logLines$.push(line)\n        if (this.logLines$.length > MAX_LOG_LINES) {\n            this.logLines$.shift()\n        }\n\n        if (this.logLabel) {\n            this.logLabel.string = this.logLines$.join('\\n')\n        }\n    }\n\n    private updateStatus$ = () => {\n        const enabled = ads.enabled\n        // @ts-expect-error - getDeviceOS is a method of the Ads plugin\n        const deviceOS = ads.getDeviceOS()\n        // @ts-expect-error - getDegradationTracking is a method of the Ads plugin\n        const degradation = ads.getDegradationTracking()\n        const safeAreaBottom = ads.getSafeAreaBottom(1)\n        const bannerHeight = AdsUtils.getBannerAdHeight()\n\n        let degradationInfo = 'N/A'\n        let lastSuccess = 'N/A'\n        if (degradation) {\n            const lastSuccessTime = degradation.lastSuccessTime\n            lastSuccess = lastSuccessTime > 0 ? new Date(lastSuccessTime).toLocaleTimeString() : 'Never'\n            degradationInfo = `${degradation.failedAttempts}`\n        }\n\n        const disabledTypes = Object.values(AdType).filter((type) => !AdsUtils.isAdEnabled(type))\n\n        this.statusLabel.string = [\n            `Enabled: ${enabled}`,\n            `DeviceOS: ${deviceOS}`,\n            `Last Success: ${lastSuccess}`,\n            `Banner Height: ${bannerHeight}`,\n            `SafeAreaBottom: ${safeAreaBottom}`,\n            `Degradation Attempts: ${degradationInfo}`,\n            `Disabled: ${disabledTypes.length ? disabledTypes.join(', ') : 'None'}`,\n        ].join('\\n')\n    }\n\n    private updateTimers$ = () => {\n        // @ts-expect-error - getLastCallAdShownTime is a method of the Ads plugin\n        const lastShown = ads.getLastCallAdShownTime()\n        if (!lastShown) return\n\n        const now = Date.now() / 1000\n\n        const timersText = Object.values(AdType)\n            .map((type) => {\n                const lastTime = lastShown[type] || 0\n                const diff = lastTime > 0 ? (now - lastTime).toFixed(1) : 'Never'\n                return `${type}: ${diff}s`\n            })\n            .join('\\n')\n\n        this.timersLabel.string = `Time Since Last Show\\n${timersText}`\n    }\n}\n","import { Color, Component, Graphics, _decorator, game } from 'cc'\nimport { EDITOR_NOT_IN_PREVIEW } from 'cc/env'\nimport GameEvents from '../../constants/GameEvents'\nimport GameWorld from '../../constants/GameWorld'\nimport ComponentUtils from '../../utils/ComponentUtils'\nconst { ccclass, property, requireComponent, disallowMultiple, executeInEditMode } = _decorator\n\nconst { Portrait, Landscape } = GameWorld.DesignSize\n\n@ccclass('DebugResolution')\n@disallowMultiple\n@requireComponent([Graphics])\n@executeInEditMode(true)\nexport class DebugResolution extends Component {\n    public static _drawPortrait = true\n    public static _drawLandscape = true\n\n    @property\n    public set drawPortrait(value: boolean) {\n        if (value === DebugResolution._drawPortrait) return\n\n        if (value) {\n            this.drawPortraitResolution()\n        } else {\n            this.graphics.clear()\n        }\n\n        DebugResolution._drawPortrait = value\n\n        if (DebugResolution._drawLandscape) {\n            this.drawLandscapeResolution()\n        }\n    }\n\n    public get drawPortrait(): boolean {\n        return DebugResolution._drawPortrait\n    }\n\n    @property\n    public set drawLandscape(value: boolean) {\n        if (value === DebugResolution._drawLandscape) return\n\n        if (value) {\n            this.drawLandscapeResolution()\n        } else {\n            this.graphics.clear()\n        }\n\n        DebugResolution._drawLandscape = value\n\n        if (DebugResolution._drawPortrait) {\n            this.drawPortraitResolution()\n        }\n    }\n\n    public get drawLandscape(): boolean {\n        return DebugResolution._drawLandscape\n    }\n\n    private graphics!: Graphics\n\n    public __preload(): void {\n        this.graphics = this.getComponent(Graphics)!\n\n        this.validateRequiredComponents()\n\n        this.listenGameEvents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenGameEvents() {\n        game.on(GameEvents.LAYOUT_CHANGED, this.handleLayoutChange)\n    }\n\n    private handleLayoutChange = () => {\n        this.graphics?.clear()\n        this.start()\n    }\n\n    public start(): void {\n        if (this.drawPortrait) {\n            this.drawPortraitResolution()\n        }\n\n        if (this.drawLandscape) {\n            this.drawLandscapeResolution()\n        }\n    }\n\n    private drawPortraitResolution() {\n        const { graphics } = this\n        if (!graphics) return\n\n        const width = Portrait.WIDTH\n        const height = Portrait.HEIGHT\n        const x = -width / 2\n        const y = -height / 2\n\n        graphics.strokeColor = Color.GREEN\n\n        graphics.rect(x, y, width, height)\n        graphics.stroke()\n    }\n\n    private drawLandscapeResolution() {\n        const { graphics } = this\n        if (!graphics) return\n\n        const width = Landscape.WIDTH\n        const height = Landscape.HEIGHT\n        const x = -width / 2\n        let y = -height / 2\n\n        if (EDITOR_NOT_IN_PREVIEW) {\n            // ? Make on top of layout in editor\n            y = -height + Portrait.HEIGHT / 2\n        }\n\n        graphics.strokeColor = Color.CYAN\n\n        graphics.rect(x, y, width, height)\n        graphics.stroke()\n    }\n}\n","import { _decorator, Component, director, type EventTouch, Input, Label, RichText, UIOpacity } from 'cc'\nimport ComponentUtils from '../../utils/ComponentUtils'\n\nconst { ccclass, property, requireComponent } = _decorator\n\nconst { Events } = Ludex\n\nconst { event } = codex\n\nconst LOG_CONFIG = {\n    OPEN_REQ: { color: '#00FFFF', prefix: 'OPEN REQ' },\n    OPENING: { color: '#FFFF00', prefix: 'OPENING...' },\n    OPENED: { color: '#00FF00', prefix: 'OPENED' },\n    CLOSE_REQ: { color: '#FF00FF', prefix: 'CLOSE REQ' },\n    CLOSING: { color: '#FF0000', prefix: 'CLOSING...' },\n    CLOSED: { color: '#AAAAAA', prefix: 'CLOSED' },\n} as const\n\nconst MAX_LOG_LINES = 20\n\n@ccclass('DebugScreenManager')\n@requireComponent(UIOpacity)\nexport class DebugScreenManager extends Component {\n    @ComponentUtils.required()\n    @property(Label)\n    public statusLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Label)\n    public timersLabel!: Label\n\n    @ComponentUtils.required()\n    @property(RichText)\n    public logLabel!: RichText\n\n    @ComponentUtils.required()\n    @property(UIOpacity)\n    public opacity!: UIOpacity\n\n    private logLines$: string[] = []\n    private touchMs$ = 0\n    private lastSwitchTime$ = 0\n    private eventHandlers$: Record<string, (payload: SwitchScreenPayload) => void> = {}\n\n    protected onLoad(): void {\n        this.initEventHandlers$()\n        this.logActiveScreens$()\n\n        this.setupEventListeners$('on')\n\n        this.schedule(() => {\n            this.updateStatus$()\n            this.updateTimers$()\n        }, 0.5)\n    }\n\n    protected onDestroy(): void {\n        this.setupEventListeners$('off')\n        this.unscheduleAllCallbacks()\n    }\n\n    private initEventHandlers$ = () => {\n        this.eventHandlers$ = {\n            [Events.OPEN_SCREEN]: (payload) => this.logEvent$(LOG_CONFIG.OPEN_REQ, payload),\n            [Events.OPENING_SCREEN]: (payload) => {\n                this.logEvent$(LOG_CONFIG.OPENING, payload)\n                this.lastSwitchTime$ = Date.now()\n            },\n            [Events.OPENED_SCREEN]: (payload) => this.logEvent$(LOG_CONFIG.OPENED, payload),\n            [Events.CLOSE_SCREEN]: (payload) => this.logEvent$(LOG_CONFIG.CLOSE_REQ, payload),\n            [Events.CLOSING_SCREEN]: (payload) => {\n                this.logEvent$(LOG_CONFIG.CLOSING, payload)\n                this.lastSwitchTime$ = Date.now()\n            },\n            [Events.CLOSED_SCREEN]: (payload) => this.logEvent$(LOG_CONFIG.CLOSED, payload),\n        }\n    }\n\n    private setupEventListeners$ = (state: 'on' | 'off'): void => {\n        Object.entries(this.eventHandlers$).forEach(([evt, func]) => {\n            event[state](evt, func)\n        })\n\n        this.node[state](Input.EventType.TOUCH_END, this.handleTouchEnd$)\n        this.node[state](Input.EventType.TOUCH_START, this.handleTouchStart$)\n    }\n\n    private getScreensInScene$ = () => {\n        const scene = director.getScene()\n        const all = (scene?.getComponentsInChildren('BaseScreen') as Component[]) || []\n        const active = all.filter((s) => s.node.active)\n        return { sceneName: scene?.name || 'Unknown', all, active }\n    }\n\n    private logActiveScreens$ = () => {\n        const { all, active } = this.getScreensInScene$()\n\n        if (all.length > 0) {\n            this.addLog$(`Found ${all.length} screens in scene`, '#00FF00')\n            active.forEach((s) => {\n                this.addLog$(`Active: ${s.node.name}`, '#00FFFF')\n            })\n        } else {\n            this.addLog$('No screens found in scene', '#FFFF00')\n        }\n    }\n\n    private handleTouchStart$ = (event: EventTouch) => {\n        event.preventSwallow = this.opacity.opacity === 0\n        if (!event.touch || !this.opacity) return\n\n        const isDoubleTap = Date.now() - this.touchMs$ < 300\n\n        if (isDoubleTap) {\n            const { opacity } = this.opacity\n            this.opacity.opacity = opacity === 255 ? 0 : 255\n        }\n\n        this.touchMs$ = Date.now()\n    }\n\n    private handleTouchEnd$ = (event: EventTouch) => {\n        event.preventSwallow = this.opacity.opacity === 0\n    }\n\n    private logEvent$ = (config: { color: string; prefix: string }, payload: SwitchScreenPayload) => {\n        const { screenName } = payload\n        this.addLog$(`${config.prefix}: ${screenName}`, config.color)\n    }\n\n    private addLog$ = (message: string, colorHex: string) => {\n        const time = new Date().toLocaleTimeString().split(' ')[0]\n        const line = `<color=${colorHex}>[${time}] ${message}</color>`\n\n        this.logLines$.push(line)\n        if (this.logLines$.length > MAX_LOG_LINES) {\n            this.logLines$.shift()\n        }\n\n        if (this.logLabel) {\n            this.logLabel.string = this.logLines$.join('\\n')\n        }\n    }\n\n    private updateStatus$ = () => {\n        const { sceneName, all, active } = this.getScreensInScene$()\n        const queuedCount = all.length - active.length\n\n        this.statusLabel.string = [\n            `Scene: ${sceneName}`,\n            `Total Screens: ${all.length}`,\n            `Active (${active.length}):`,\n            ...active.map((s) => ` - ${s.node.name}`),\n            `Inactive: ${queuedCount}`,\n        ].join('\\n')\n    }\n\n    private updateTimers$ = () => {\n        if (this.lastSwitchTime$ === 0) {\n            this.timersLabel.string = 'Last Switch: Never'\n            return\n        }\n\n        const now = Date.now()\n        const diff = ((now - this.lastSwitchTime$) / 1000).toFixed(1)\n        this.timersLabel.string = `Last Switch: ${diff}s ago`\n    }\n}\n","export class PerfCounter {\n    private time: number = 0\n    private _value: number = 0\n\n    public get value(): number {\n        return this._value\n    }\n\n    constructor() {\n        this.time = 0\n        this._value = 0\n    }\n\n    public start(now: number = 0): void {\n        this.time = now\n    }\n\n    public end(now: number = 0): void {\n        this._value = now - this.time\n    }\n}\n","import {\n    _decorator,\n    Color,\n    Component,\n    Director,\n    director,\n    type EventTouch,\n    game,\n    Input,\n    Label,\n    Sprite,\n    sys,\n    UIOpacity,\n} from 'cc'\nimport GameEvents from '../../constants/GameEvents'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport { PerfCounter } from './PerfCounter'\n\nconst { ccclass, executionOrder, property, requireComponent } = _decorator\n\nconst {\n    Utils: { Valid: V, Array: A, Device: D },\n    Configs: {\n        Debugger: { ListPlayerDevIds },\n        // GameEngine: { DynamicAssets, HybridFileCache },\n    },\n} = Ludex\n\nconst { player } = codex\n\nconst DANGER_COLOR = Color.RED\nconst WARNING_COLOR = Color.YELLOW\n\nconst WHITE_COLOR = Color.WHITE\nconst BLACK_COLOR = Color.BLACK\n\n@ccclass('GameStats')\n@executionOrder(-1000)\n@requireComponent([UIOpacity])\nexport class GameStats extends Component {\n    @ComponentUtils.required()\n    @property(Label)\n    public dprLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Label)\n    public fpsLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Label)\n    public fpsRawLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Label)\n    public drawCountLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Label)\n    public rafTimeLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Label)\n    public deltaTimeLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Label)\n    public logicTimeLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Label)\n    public physicTimeLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Label)\n    public renderTimeLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Label)\n    public objectMemoryUsageLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Label)\n    public textureMemoryUsageLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Sprite)\n    public bg!: Sprite\n\n    @ComponentUtils.required()\n    @property(UIOpacity)\n    public opacity!: UIOpacity\n\n    private rafTimeCounter$!: PerfCounter\n    private logicTimeCounter$!: PerfCounter\n    private physicTimeCounter$!: PerfCounter\n    private renderTimeCounter$!: PerfCounter\n\n    private lastRafTime$ = 0\n    private slowRefreshInterval$ = 1.0 // dpr, memory, draw-calls\n    private mediumRefreshInterval$ = 0.5 // fps, logic time, render time, physic time\n    private fastRefreshInterval$ = 0.16 // fps raw (~60fps)\n    private isBackgroundEnabled$ = false\n\n    private touchMs$ = 0\n    private isDragging$ = false\n\n    public __preload(): void {\n        this.listenInputEvents$()\n    }\n\n    public onLoad(): void {\n        ComponentUtils.validateRequiredProperties(this)\n    }\n\n    private listenInputEvents$ = () => {\n        this.node.on(Input.EventType.TOUCH_START, this.handleTouchStart$)\n        this.node.on(Input.EventType.TOUCH_MOVE, this.handleTouchMove$)\n        this.node.on(Input.EventType.TOUCH_END, this.handleTouchEnd$)\n        this.node.on(Input.EventType.TOUCH_CANCEL, this.handleTouchEnd$)\n\n        this.node.on(Input.EventType.MOUSE_WHEEL, () => {\n            console.info(this)\n            game.emit(GameEvents.REQUEST_DYNAMIC_ATLAS)\n        })\n    }\n\n    public start(): void {\n        this.bg.enabled = false\n\n        if (!this.canDisplayStats$()) {\n            this.node.active = false\n            return\n        }\n\n        this.node.active = true\n\n        this.rafTimeCounter$ = new PerfCounter()\n        this.logicTimeCounter$ = new PerfCounter()\n        this.physicTimeCounter$ = new PerfCounter()\n        this.renderTimeCounter$ = new PerfCounter()\n\n        director.on(Director.EVENT_BEFORE_UPDATE, this.beforeUpdate$, this)\n        director.on(Director.EVENT_AFTER_UPDATE, this.afterUpdate$, this)\n        director.on(Director.EVENT_BEFORE_PHYSICS, this.beforePhysics$, this)\n        director.on(Director.EVENT_AFTER_PHYSICS, this.afterPhysics$, this)\n        director.on(Director.EVENT_BEFORE_DRAW, this.beforeDraw$, this)\n        director.on(Director.EVENT_AFTER_DRAW, this.afterDraw$, this)\n\n        this.startUpdateStats$()\n    }\n\n    private handleTouchStart$ = (event: EventTouch) => {\n        event.preventSwallow = this.opacity.opacity === 0\n        if (!event.touch || !this.opacity) return\n\n        this.isDragging$ = false\n\n        const isDoubleTap = Date.now() - this.touchMs$ < 300\n\n        if (isDoubleTap) {\n            if (this.opacity.opacity === 255) {\n                this.opacity.opacity = 0\n            } else {\n                this.opacity.opacity = 255\n                game.emit(GameEvents.REQUEST_DYNAMIC_ATLAS)\n            }\n        }\n\n        this.touchMs$ = Date.now()\n    }\n\n    private handleTouchMove$ = (event: EventTouch) => {\n        event.preventSwallow = this.opacity.opacity === 0\n        if (!event.touch || !this.opacity) return\n\n        const deltaPosition = event.touch.getUIDelta()\n\n        // Start dragging if moved enough distance\n        if (!this.isDragging$ && deltaPosition.length() > 10) {\n            this.isDragging$ = true\n        }\n\n        if (this.isDragging$) {\n            this.node.setPosition(this.node.position.x + deltaPosition.x, this.node.position.y + deltaPosition.y)\n        }\n    }\n\n    private handleTouchEnd$ = (event: EventTouch) => {\n        event.preventSwallow = this.opacity.opacity === 0\n        if (!event.touch || !this.opacity) return\n\n        // Toggle background only if not dragging\n        if (!this.isDragging$) {\n            this.bg.enabled = !this.bg.enabled\n            this.isBackgroundEnabled$ = this.bg.enabled\n        }\n\n        this.isDragging$ = false\n    }\n\n    protected onDestroy(): void {\n        if (!this.canDisplayStats$()) return\n\n        director.off(Director.EVENT_BEFORE_UPDATE, this.beforeUpdate$, this)\n        director.off(Director.EVENT_AFTER_UPDATE, this.afterUpdate$, this)\n        director.off(Director.EVENT_BEFORE_PHYSICS, this.beforePhysics$, this)\n        director.off(Director.EVENT_AFTER_PHYSICS, this.afterPhysics$, this)\n        director.off(Director.EVENT_BEFORE_DRAW, this.beforeDraw$, this)\n        director.off(Director.EVENT_AFTER_DRAW, this.afterDraw$, this)\n\n        // Cleanup schedule timers\n        this.unschedule(this.updateSlowStats$)\n        this.unschedule(this.updateFastStats$)\n        this.unschedule(this.updateMediumStats$)\n\n        // Cleanup input event listeners\n        this.node.off(Input.EventType.TOUCH_START, this.handleTouchStart$)\n        this.node.off(Input.EventType.TOUCH_MOVE, this.handleTouchMove$)\n        this.node.off(Input.EventType.TOUCH_END, this.handleTouchEnd$)\n        this.node.off(Input.EventType.TOUCH_CANCEL, this.handleTouchEnd$)\n    }\n\n    private canDisplayStats$ = (): boolean => {\n        return V.isDebugger() || A.has(ListPlayerDevIds, player.getPlayerId())\n    }\n\n    private startUpdateStats$ = () => {\n        this.schedule(this.updateFastStats$, this.fastRefreshInterval$)\n        this.schedule(this.updateSlowStats$, this.slowRefreshInterval$)\n        this.schedule(this.updateMediumStats$, this.mediumRefreshInterval$)\n\n        requestAnimationFrame(this.handleRequestAnimationFrame$)\n    }\n\n    private updateFastStats$ = () => {\n        this.updateFpsRaw$()\n        this.updateRafTime$()\n        this.updateDeltaTime$()\n    }\n\n    private updateSlowStats$ = () => {\n        this.updateDPR$()\n        this.updateDrawCalls$()\n        this.updateObjectMemoryUsage$()\n        this.updateTextureMemoryUsage$()\n    }\n\n    private updateMediumStats$ = () => {\n        this.updateFps$()\n        this.updateLogicTime$()\n        this.updatePhysicTime$()\n        this.updateRenderTime$()\n    }\n\n    private calcRafTime$ = (timestamp: DOMHighResTimeStamp) => {\n        if (!this.node?.isValid) return\n\n        this.rafTimeCounter$.end(timestamp)\n        this.lastRafTime$ = timestamp\n\n        this.handleRequestAnimationFrame$()\n    }\n\n    private handleRequestAnimationFrame$ = () => {\n        this.rafTimeCounter$.start(this.lastRafTime$)\n        requestAnimationFrame(this.calcRafTime$)\n    }\n\n    private updateFps$ = () => {\n        const fps = this.getFps$()\n        this.updateFpsColor$(fps)\n        this.fpsLabel.string = `FPS: ${fps}`\n    }\n\n    // ? Good fps is 60, so 1 frame is 16.6ms, that mean renderTime + logicTime + physicTime\n    // ? If renderTime, logicTime or physicTime is bigger than 5ms, it's not good\n    private updateFpsColor$ = (fps: number) => {\n        if (fps < 30) {\n            this.fpsLabel.color = DANGER_COLOR\n        } else if (fps < 48) {\n            this.fpsLabel.color = WARNING_COLOR\n        } else {\n            this.setColorWithBackground$(this.fpsLabel)\n        }\n    }\n\n    private updateFpsRaw$ = () => {\n        const fpsRaw = this.getFpsRaw$()\n        this.updateFpsRawColor$(fpsRaw)\n        this.fpsRawLabel.string = `FPS Raw: ${fpsRaw}`\n    }\n\n    private updateFpsRawColor$ = (fpsRaw: number) => {\n        if (fpsRaw < 30) {\n            this.fpsRawLabel.color = DANGER_COLOR\n        } else if (fpsRaw < 48) {\n            this.fpsRawLabel.color = WARNING_COLOR\n        } else {\n            this.setColorWithBackground$(this.fpsRawLabel)\n        }\n    }\n\n    // ? The draw calls is the number of draw calls in the scene\n    // ? If draw calls is bigger than 15, it's not good\n    private updateDrawCalls$ = () => {\n        const drawCount = this.getDrawCalls$()\n        this.updateDrawCallsColor$(drawCount)\n        this.drawCountLabel.string = `Draw Calls: ${drawCount}`\n    }\n\n    private updateDrawCallsColor$ = (drawCount: number) => {\n        // * Special case: on iOS, drawCount higher will be ok.\n        // ! But! only good to use with AutoAtlas and disable DynamicAtlas, if not, it's not good\n        // ? Double check: setupDynamicAtlas in SystemManager.ts\n\n        const isIOS = sys.os === sys.OS.IOS\n\n        const dangerDrawCount = isIOS ? 80 : 40\n        const warningDrawCount = isIOS ? 60 : 25\n\n        if (drawCount > dangerDrawCount) {\n            this.drawCountLabel.color = DANGER_COLOR\n        } else if (drawCount > warningDrawCount) {\n            this.drawCountLabel.color = WARNING_COLOR\n        } else {\n            this.setColorWithBackground$(this.drawCountLabel)\n        }\n    }\n\n    private updateRafTime$ = () => {\n        const rafTime = this.getRafTime$()\n        this.updateRafTimeColor$(rafTime)\n        this.rafTimeLabel.string = `RAF Time: ${rafTime}ms`\n    }\n\n    private updateRafTimeColor$ = (rafTime: number) => {\n        // * 30fps: 33ms, 48fps: 20ms, 60fps: 16ms\n        if (rafTime > 33) {\n            this.rafTimeLabel.color = DANGER_COLOR\n        } else if (rafTime > 20) {\n            this.rafTimeLabel.color = WARNING_COLOR\n        } else {\n            this.setColorWithBackground$(this.rafTimeLabel)\n        }\n    }\n\n    private updateDeltaTime$ = () => {\n        const deltaTime = this.getDeltaTime$()\n        this.updateDeltaTimeColor$(deltaTime)\n        this.deltaTimeLabel.string = `Delta Time: ${deltaTime}ms`\n    }\n\n    private updateDeltaTimeColor$ = (deltaTime: number) => {\n        // * 30fps: 33ms, 48fps: 20ms, 60fps: 16ms\n        if (deltaTime > 33) {\n            this.deltaTimeLabel.color = DANGER_COLOR\n        } else if (deltaTime > 20) {\n            this.deltaTimeLabel.color = WARNING_COLOR\n        } else {\n            this.setColorWithBackground$(this.deltaTimeLabel)\n        }\n    }\n\n    private updateLogicTime$ = () => {\n        const logicTime = this.getLogicTime$()\n        this.updateLogicTimeColor$(logicTime)\n        this.logicTimeLabel.string = `Logic Time: ${logicTime}ms`\n    }\n\n    private updateLogicTimeColor$ = (logicTime: number) => {\n        if (logicTime > 10) {\n            this.logicTimeLabel.color = DANGER_COLOR\n        } else if (logicTime > 5) {\n            this.logicTimeLabel.color = WARNING_COLOR\n        } else {\n            this.setColorWithBackground$(this.logicTimeLabel)\n        }\n    }\n\n    private updatePhysicTime$ = () => {\n        const physicTime = this.getPhysicTime$()\n        this.updatePhysicTimeColor$(physicTime)\n        this.physicTimeLabel.string = `Physic Time: ${physicTime}ms`\n    }\n\n    private updatePhysicTimeColor$ = (physicTime: number) => {\n        if (physicTime > 10) {\n            this.physicTimeLabel.color = DANGER_COLOR\n        } else if (physicTime > 5) {\n            this.physicTimeLabel.color = WARNING_COLOR\n        } else {\n            this.setColorWithBackground$(this.physicTimeLabel)\n        }\n    }\n\n    private updateRenderTime$ = () => {\n        const renderTime = this.getRenderTime$()\n        this.updateRenderTimeColor$(renderTime)\n        this.renderTimeLabel.string = `Render Time: ${renderTime}ms`\n    }\n\n    private updateRenderTimeColor$ = (renderTime: number) => {\n        if (renderTime > 10) {\n            this.renderTimeLabel.color = DANGER_COLOR\n        } else if (renderTime > 5) {\n            this.renderTimeLabel.color = WARNING_COLOR\n        } else {\n            this.setColorWithBackground$(this.renderTimeLabel)\n        }\n    }\n\n    // ? The object memory usage is the memory used by the objects in the scene\n    // ? If it's bigger than 40MB, it's not good\n    private updateObjectMemoryUsage$ = () => {\n        const objectMemoryUsage = this.getObjectMemoryUsage$()\n        this.updateObjectMemoryUsageColor$(objectMemoryUsage)\n        this.objectMemoryUsageLabel.string = `Object Mem: ${objectMemoryUsage}MB`\n    }\n\n    private updateObjectMemoryUsageColor$ = (objectMemoryUsage: number) => {\n        if (objectMemoryUsage > 40) {\n            this.objectMemoryUsageLabel.color = DANGER_COLOR\n        } else if (objectMemoryUsage > 25) {\n            this.objectMemoryUsageLabel.color = WARNING_COLOR\n        } else {\n            this.setColorWithBackground$(this.objectMemoryUsageLabel)\n        }\n    }\n\n    // ? The texture memory usage is the memory used by the textures in the scene\n    // ? If it's bigger than 50MB, it's not good\n    private updateTextureMemoryUsage$ = () => {\n        const textureMemoryUsage = this.getTextureMemoryUsage$()\n        this.updateTextureMemoryUsageColor$(textureMemoryUsage)\n\n        this.textureMemoryUsageLabel.string = `Texture Mem: ${textureMemoryUsage}MB`\n    }\n\n    private updateTextureMemoryUsageColor$ = (textureMemoryUsage: number) => {\n        if (textureMemoryUsage > 200) {\n            this.textureMemoryUsageLabel.color = DANGER_COLOR\n        } else if (textureMemoryUsage > 100) {\n            this.textureMemoryUsageLabel.color = WARNING_COLOR\n        } else {\n            this.setColorWithBackground$(this.textureMemoryUsageLabel)\n        }\n    }\n\n    private updateDPR$ = () => {\n        const devicePixelRatio = D.pixelRatio()\n        this.updateDPRColor$(devicePixelRatio)\n        this.dprLabel.string = `DPR: ${devicePixelRatio}`\n    }\n\n    private updateDPRColor$ = (devicePixelRatio: number) => {\n        if (devicePixelRatio > 2) {\n            this.dprLabel.color = DANGER_COLOR\n        } else if (devicePixelRatio <= 1) {\n            this.dprLabel.color = WARNING_COLOR\n        } else {\n            this.setColorWithBackground$(this.dprLabel)\n        }\n    }\n\n    private setColorWithBackground$ = (label: Label) => {\n        const color = this.isBackgroundEnabled$ ? BLACK_COLOR : WHITE_COLOR\n        if (label.color.equals(color)) return\n        label.color = color\n    }\n\n    // Frames per second\n    private getFps$ = (): number => {\n        if (!director.root) return 0\n\n        const { fps } = director.root\n        return Math.round(fps) || 0\n    }\n\n    private getDrawCalls$ = (): number => {\n        if (!director.root) return 0\n\n        const { numDrawCalls } = director.root.device\n        return numDrawCalls || 0\n    }\n\n    private toFixed$ = (value: number, precision: number = 2): number => {\n        // keep format: 0.0000ms, 0.0000MB, 0.0000fps, etc\n        return Number(value.toFixed(precision)) || 0\n    }\n\n    private getFpsRaw$ = (): number => {\n        return this.toFixed$(1000 / this.rafTimeCounter$.value, 0)\n    }\n\n    private getRafTime$ = (): number => {\n        return this.toFixed$(this.rafTimeCounter$.value)\n    }\n\n    private getDeltaTime$ = (): number => {\n        return this.toFixed$(game.deltaTime * 1000)\n    }\n\n    private getLogicTime$ = (): number => {\n        return this.toFixed$(this.logicTimeCounter$.value)\n    }\n\n    private getPhysicTime$ = (): number => {\n        return this.toFixed$(this.physicTimeCounter$.value)\n    }\n\n    private getRenderTime$ = (): number => {\n        return this.toFixed$(this.renderTimeCounter$.value)\n    }\n\n    private getObjectMemoryUsage$ = (): number => {\n        if (!director.root) return 0\n\n        const { memoryStatus } = director.root.device\n        return this.toFixed$(memoryStatus.bufferSize / (1024 * 1024), 4) || 0\n    }\n\n    private getTextureMemoryUsage$ = (): number => {\n        if (!director.root) return 0\n\n        const { memoryStatus } = director.root.device\n        return this.toFixed$(memoryStatus.textureSize / (1024 * 1024), 4) || 0\n    }\n\n    private beforeUpdate$ = () => {\n        const now = performance.now()\n        this.logicTimeCounter$.start(now)\n    }\n\n    private afterUpdate$ = () => {\n        const now = performance.now()\n        this.logicTimeCounter$.end(now)\n    }\n\n    private beforePhysics$ = () => {\n        const now = performance.now()\n        this.physicTimeCounter$.start(now)\n    }\n\n    private afterPhysics$ = () => {\n        const now = performance.now()\n        this.physicTimeCounter$.end(now)\n    }\n\n    private beforeDraw$ = () => {\n        const now = performance.now()\n        this.renderTimeCounter$.start(now)\n    }\n\n    private afterDraw$ = () => {\n        const now = performance.now()\n        this.renderTimeCounter$.end(now)\n    }\n}\n","enum GameplayEvents {\n    // Flows\n    CHALLENGE_FRIENDS = 'challenge-friends',\n    REPLAY_FRIENDS = 'replay-friends',\n    SHOW_CHALLENGE_RESULTS = 'show-challenge-results',\n    UPDATE_MUSIC = 'update-music',\n\n    // Levels\n    NEXT_LEVEL = 'next-level',\n    MAX_LEVEL = 'max-level',\n    START_OVER = 'start-over',\n    SELECT_LEVEL = 'select-level',\n\n    // Game\n    GAME_START = 'game-start',\n    GAME_PAUSE = 'game-pause',\n    GAME_RESUME = 'game-resume',\n    GAME_REPLAY = 'game-replay',\n    GAME_FINISH = 'game-finish',\n    GAME_EXIT = 'game-exit',\n\n    // Items\n    USE_ITEM = 'use-item',\n\n    SKIP_LEVEL = 'skip-level',\n\n    ADD_ITEM = 'add-item',\n    ADD_ITEMS = 'add-items',\n    REFRESH_ITEMS = 'refresh-items',\n\n    // Coins\n    ADD_COINS = 'add-coins',\n    REMOVE_COINS = 'remove-coins',\n    REMOVE_COINS_SUCCESS = 'remove-coins-success',\n    REMOVE_COINS_FAILED = 'remove-coins-failed',\n    COIN_CHANGED = 'coin-changed',\n    ABORT_COIN_ANIMATION = 'abort-coin-animation',\n\n    // Stars\n    ADD_STARS = 'add-stars',\n\n    // Clock\n    PAUSE_TIME = 'pause-time',\n    RESUME_TIME = 'resume-time',\n    TIME_OUT = 'time-out',\n    HALF_TIME = 'half-time',\n    RESCUE_START = 'rescue-time',\n    RESCUE_FINISHED = 'clock-animation-finished',\n    TIME_UPDATED = 'time-updated',\n\n    // Grid, Tile\n    APPLY_GRAVITY = 'apply-gravity',\n    GRID_ORIENTATION_CHANGE = 'grid-orientation-change',\n\n    IDLE_ENTER = 'idle-enter',\n    IDLE_EXIT = 'idle-exit',\n\n    GRID_MATCH = 'grid-match',\n    GRID_MATCH_SUCCESS = 'grid-match-success',\n    GRID_MATCH_FAIL = 'grid-match-fail',\n\n    GRID_CLEAR = 'grid-clear',\n\n    GRID_SPAWN = 'grid-spawn',\n\n    GRID_CREATE = 'grid-create',\n\n    GRID_RESIZE = 'grid-resize',\n\n    TILE_CLICK = 'tile-click',\n    BOMB_EXPLODE = 'bomb-explode',\n\n    SHOW_HINT = 'show-hint',\n\n    // Combo\n    ADD_COMBO = 'add-combo',\n    COMBO_UPDATED = 'combo-updated',\n    COMBO_ENDED = 'combo-ended',\n    COMBO_PROGRESS = 'combo-progress',\n\n    // Score\n    ADD_SCORE = 'add-score',\n    SCORE_UPDATED = 'score-updated',\n\n    // UI\n    SHOW_UI = 'show-ui',\n    HIDE_UI = 'hide-ui',\n\n    AUTO_PLAY = 'auto-play',\n\n    // GUIDE\n    GUIDE_MASK_CLICKED = 'guide-mask-clicked',\n    ITEM_MASK_CLICKED = 'item-mask-clicked',\n\n    // EFFECTS\n    EFFECTS_ANIMATION_START = 'effects-start',\n    EFFECTS_ANIMATION_END = 'effects-end',\n}\n\nexport default GameplayEvents\n","import { Component, EventTarget, _decorator, type Node } from 'cc'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport type { PanelAnimator } from './PanelAnimator'\nconst { ccclass } = _decorator\n\n@ccclass('PanelAnimationController')\nexport class PanelAnimationController extends Component {\n    private animators: Set<PanelAnimator> = new Set()\n    private eventTarget: EventTarget = new EventTarget()\n\n    private handleRegistration = (animator?: PanelAnimator): void => {\n        if (!animator) {\n            throw new Error('Invalid event payload.')\n        }\n\n        if (this.animators.has(animator)) {\n            console.warn('Animator already registered.')\n        }\n\n        this.animators.add(animator)\n    }\n\n    private handleUnregistration = (animator?: PanelAnimator): void => {\n        if (!animator) {\n            throw new Error('Invalid event payload.')\n        }\n\n        if (!this.animators.has(animator)) {\n            console.warn('Animator not registered.')\n        }\n\n        this.animators.delete(animator)\n    }\n\n    private handleShowUIs = async (payload?: UIPanelPayload): Promise<void> => {\n        let hasFellBack = false\n\n        const animators = [] as PanelAnimator[]\n        for (const animator of this.animators) {\n            animators.push(animator)\n        }\n\n        const animations = [] as Promise<unknown>[]\n        for (const animator of animators) {\n            if (!animator.isReadyForAnimation() && !hasFellBack) {\n                hasFellBack = true\n                payload?.fallback?.()\n            }\n\n            animations.push(animator.handleShowUI())\n        }\n\n        await Promise.all(animations)\n        payload?.onComplete?.()\n        this.eventTarget?.emit(GameplayEvents.SHOW_UI)\n    }\n\n    private handleHideUIs = async (payload?: UIPanelPayload): Promise<void> => {\n        let hasFellBack = false\n\n        const animators = [] as PanelAnimator[]\n        for (const animator of this.animators) {\n            animators.push(animator)\n        }\n\n        const animations = [] as Promise<unknown>[]\n        for (const animator of animators) {\n            if (!animator.isReadyForAnimation() && !hasFellBack) {\n                hasFellBack = true\n                payload?.fallback?.()\n            }\n\n            animations.push(animator.handleHideUI())\n        }\n\n        await Promise.all(animations)\n        payload?.onComplete?.()\n        this.eventTarget?.emit(GameplayEvents.HIDE_UI)\n    }\n\n    protected onEnable(): void {\n        this.node.scene.on(GameplayEvents.SHOW_UI, this.handleShowUIs, this)\n        this.node.scene.on(GameplayEvents.HIDE_UI, this.handleHideUIs, this)\n    }\n\n    protected onDisable(): void {\n        this.node.scene.off(GameplayEvents.SHOW_UI, this.handleShowUIs, this)\n        this.node.scene.off(GameplayEvents.HIDE_UI, this.handleHideUIs, this)\n    }\n\n    public showUI() {\n        return this.handleShowUIs()\n    }\n\n    public hideUI() {\n        return this.handleHideUIs()\n    }\n\n    public on(\n        type: GameplayEvents.SHOW_UI | GameplayEvents.HIDE_UI,\n        callback: (...args: unknown[]) => void,\n        thisArg?: unknown,\n        once?: boolean,\n    ) {\n        this.eventTarget.on(type, callback, thisArg, once)\n    }\n\n    public off(\n        type: GameplayEvents.SHOW_UI | GameplayEvents.HIDE_UI,\n        callback?: (...args: unknown[]) => void,\n        thisArg?: unknown,\n    ) {\n        this.eventTarget.off(type, callback, thisArg)\n    }\n\n    public static getController(node: Node): PanelAnimationController | null {\n        let comp: PanelAnimationController | null = null\n        let parent: Node | null = node\n\n        while (parent !== null) {\n            comp = parent.getComponent(PanelAnimationController)\n\n            if (comp) {\n                return comp\n            }\n\n            parent = parent.parent\n        }\n\n        return comp\n    }\n\n    public static registerAnimator(animator: PanelAnimator): void {\n        const controller = this.getController(animator.node)\n        if (controller) {\n            controller.handleRegistration(animator)\n        } else {\n            console.warn(`No PanelAnimationController found for animator ${animator.node.name}`)\n        }\n    }\n\n    public static unregisterAnimator(animator: PanelAnimator): void {\n        const controller = this.getController(animator.node)\n        if (controller) {\n            controller.handleUnregistration(animator)\n        } else {\n            console.warn(`No PanelAnimationController found for animator ${animator.node.name}`)\n        }\n    }\n}\n","import { Component, type TweenEasing, type Vec3, Widget, _decorator, tween } from 'cc'\nimport AnimUtils from '../../utils/AnimUtils'\nimport AnimAbortSignal from '../../utils/common/AnimAbortSignal'\nimport { PanelAnimationController } from './PanelAnimationController'\n\nconst { ccclass, property } = _decorator\n\nconst {\n    Utils: { Object: O },\n} = Ludex\n\nexport type UIState = 'hidden' | 'shown'\nexport type UISwitcher = (newState: UIState, immediate?: boolean) => Promise<void>\nexport type UIAnimator = {\n    switchState: UISwitcher\n}\n\ntype AnimationDirection = 'top' | 'bottom'\n\ntype MovementConfig = WidgetConfig | PositionConfig\n\ntype WidgetConfig = {\n    mode: AnimationDirection\n    value: number\n}\n\ntype PositionConfig = {\n    mode: 'position'\n    value: number\n}\n\ninterface IAnimationConfig {\n    nodes: Widget[]\n    posOffset: number\n    showEase: TweenEasing\n    hideEase: TweenEasing\n    showDuration: number\n    hideDuration: number\n}\n\n@ccclass('AnimationConfig')\nclass AnimationConfig implements IAnimationConfig {\n    @property\n    public startHidden = true\n\n    @property({ type: [Widget] })\n    public nodes: Widget[] = []\n\n    @property\n    public posOffset = 0\n\n    @property\n    public showEase: TweenEasing = 'backOut'\n\n    @property\n    public hideEase: TweenEasing = 'backIn'\n\n    @property\n    public showDuration: number = 0\n\n    @property\n    public hideDuration: number = 0\n\n    setConfig(config?: Partial<IAnimationConfig>) {\n        if (config) {\n            O.assign(this, config)\n        }\n    }\n}\n\n@ccclass('PanelAnimator')\nexport class PanelAnimator extends Component {\n    @property({\n        type: AnimationConfig,\n        displayName: 'Top animation nodes',\n    })\n    private topConfig = new AnimationConfig()\n\n    @property({\n        type: AnimationConfig,\n        displayName: 'Bottom animation nodes',\n    })\n    private botConfig = new AnimationConfig()\n\n    private topAnimator!: UIAnimator\n    private botAnimator!: UIAnimator\n\n    private isReady = false\n\n    public onEnable(): void {\n        PanelAnimationController.registerAnimator(this)\n    }\n\n    public onDisable(): void {\n        PanelAnimationController.unregisterAnimator(this)\n    }\n\n    public onLoad(): void {\n        this.topAnimator = this.createAnimator(this.topConfig, 'top')\n        this.botAnimator = this.createAnimator(this.botConfig, 'bottom')\n\n        this.initUIPos()\n\n        this.isReady = true\n    }\n\n    private initUIPos(): void {\n        this.topAnimator.switchState(this.topConfig.startHidden ? 'hidden' : 'shown', true)\n        this.botAnimator.switchState(this.botConfig.startHidden ? 'hidden' : 'shown', true)\n    }\n\n    public isReadyForAnimation(): boolean {\n        return this.isReady\n    }\n\n    public async handleShowUI() {\n        if (!this.isReady) {\n            console.warn(`${this.node.name}'s ${this.name}: not ready`)\n            return\n        }\n\n        return Promise.all([this.topAnimator.switchState('shown'), this.botAnimator.switchState('shown')])\n    }\n\n    public async handleHideUI() {\n        if (!this.isReady) {\n            console.warn(`${this.node.name}'s ${this.name}: not ready`)\n            return\n        }\n\n        return Promise.all([this.topAnimator.switchState('hidden'), this.botAnimator.switchState('hidden')])\n    }\n\n    private createAnimator(\n        { nodes, posOffset, showEase, hideEase, showDuration, hideDuration }: IAnimationConfig,\n        direction: AnimationDirection,\n    ): UIAnimator {\n        const shownPositions: MovementConfig[] = nodes.map((node) => {\n            if (direction === 'top' && node.isAlignTop) {\n                return {\n                    mode: 'top',\n                    value: node.top,\n                } as MovementConfig\n            }\n\n            if (direction === 'bottom' && node.isAlignBottom) {\n                return {\n                    mode: 'bottom',\n                    value: node.bottom,\n                } as MovementConfig\n            }\n\n            return {\n                mode: 'position',\n                value: node.node.position.y,\n            } as MovementConfig\n        })\n\n        const hiddenPositions: MovementConfig[] = nodes.map((node) => {\n            if (direction === 'top' && node.isAlignTop) {\n                return {\n                    mode: 'top',\n                    value: node.top + posOffset,\n                } as MovementConfig\n            }\n\n            if (direction === 'bottom' && node.isAlignBottom) {\n                return {\n                    mode: 'bottom',\n                    value: node.bottom - posOffset,\n                } as MovementConfig\n            }\n\n            return {\n                mode: 'position',\n                value: node.node.position.y + posOffset,\n            } as MovementConfig\n        })\n\n        let state: UIState = 'shown'\n        let signal = new AnimAbortSignal()\n\n        const switchState: UISwitcher = async (newState: UIState, immediate = false) => {\n            signal.abort()\n            const currentSignal = new AnimAbortSignal()\n            signal = currentSignal\n\n            if (state === newState) return\n\n            state = newState\n\n            const startPositions = newState === 'hidden' ? shownPositions : hiddenPositions\n            const targetPositions = newState === 'hidden' ? hiddenPositions : shownPositions\n            const duration = newState === 'hidden' ? hideDuration : showDuration\n            const easing: TweenEasing = newState === 'hidden' ? hideEase : showEase\n\n            const setAllToTargetImmediately = () => {\n                for (let index = 0, length = nodes.length; index < length; index++) {\n                    const node = nodes[index] as (typeof nodes)[number]\n                    const moveConfig = startPositions[index] as (typeof startPositions)[number]\n                    const targetConfig = targetPositions[index] as (typeof targetPositions)[number]\n                    const target = targetConfig.value\n                    PanelAnimator.setToTargetImmediately(node, moveConfig, target)\n                }\n            }\n\n            if (immediate) {\n                setAllToTargetImmediately()\n                return\n            }\n\n            currentSignal.addAbortListener(setAllToTargetImmediately)\n\n            await Promise.all(\n                nodes.map((node, index) => {\n                    const moveConfig = startPositions[index] as (typeof startPositions)[number]\n                    const targetConfig = targetPositions[index] as (typeof targetPositions)[number]\n                    const target = targetConfig.value\n\n                    return AnimUtils.runTweenAsync<Widget | Readonly<Vec3>>(\n                        PanelAnimator.getTween({\n                            widget: node,\n                            config: moveConfig,\n                            target,\n                            easing,\n                            duration,\n                        }),\n                        currentSignal,\n                    )\n                }),\n            )\n\n            if (!currentSignal.aborted) {\n                currentSignal.removeAbortListener(setAllToTargetImmediately)\n            }\n        }\n\n        return {\n            switchState,\n        }\n    }\n\n    public setAnimator({\n        topConfig,\n        botConfig,\n    }: {\n        topConfig?: Partial<IAnimationConfig>\n        botConfig?: Partial<IAnimationConfig>\n    }): void {\n        const topAnimConfig = new AnimationConfig()\n        const botAnimConfig = new AnimationConfig()\n\n        topAnimConfig.setConfig(topConfig)\n        botAnimConfig.setConfig(botConfig)\n\n        this.topConfig = topAnimConfig\n        this.botConfig = botAnimConfig\n\n        this.topAnimator = this.createAnimator(this.topConfig, 'top')\n        this.botAnimator = this.createAnimator(this.botConfig, 'bottom')\n\n        this.initUIPos()\n    }\n\n    private static getTween({\n        widget,\n        config,\n        target,\n        easing,\n        duration,\n    }: {\n        widget: Widget\n        config: MovementConfig\n        target: number\n        easing: TweenEasing\n        duration: number\n    }) {\n        if (config.mode === 'top') {\n            return tween(widget)\n                .call(() => {\n                    widget.top = config.value\n                })\n                .to(duration, { top: target }, { easing })\n        }\n\n        if (config.mode === 'bottom') {\n            return tween(widget)\n                .call(() => {\n                    widget.bottom = config.value\n                })\n                .to(duration, { bottom: target }, { easing })\n        }\n\n        return tween(widget.node.position)\n            .call(() => {\n                widget.node.setPosition(widget.node.position.x, config.value, widget.node.position.z)\n            })\n            .to(duration, { y: target }, { easing })\n    }\n\n    private static setToTargetImmediately(widget: Widget, config: MovementConfig, target: number) {\n        if (config.mode === 'top') {\n            widget.top = target\n        }\n\n        if (config.mode === 'bottom') {\n            widget.bottom = target\n        }\n\n        const x = widget.node.position.x\n        const y = target\n        const z = widget.node.position.z\n\n        widget.node.setPosition(x, y, z)\n    }\n}\n","import type { Vec2 } from 'cc'\nimport { Component, ParticleSystem2D, _decorator } from 'cc'\nimport ComponentUtils from '../../utils/ComponentUtils'\nconst { ccclass, disallowMultiple, executeInEditMode, requireComponent } = _decorator\n\n@ccclass('ParticleSystem2DExtra')\n@executeInEditMode(true)\n@disallowMultiple(true)\n@requireComponent(ParticleSystem2D)\nexport abstract class ParticleSystem2DExtra extends Component {\n    protected particleSystem!: ParticleSystem2D\n\n    public __preload(): void {\n        // called before onLoad, use for initialization\n\n        this.particleSystem = this.getComponent(ParticleSystem2D)!\n        this.validateRequiredComponents()\n\n        this.overrideFunctions()\n    }\n\n    /**\n     * Call when a new particle is emitted\n     */\n    public abstract initParticle(particle: Particle2DExtra): void\n\n    /**\n     * Call every frame to update a particle\n     */\n    public abstract updateParticle(particle: Particle2DExtra, dt: number): void\n\n    private overrideFunctions() {\n        const emitParticle = this.particleSystem._simulator.emitParticle.bind(this.particleSystem._simulator)\n        this.particleSystem._simulator.emitParticle = this.emitParticle(emitParticle)\n\n        const stepFunction = this.particleSystem._simulator.step.bind(this.particleSystem._simulator)\n        this.particleSystem._simulator.step = this.step(stepFunction)\n    }\n\n    private emitParticle =\n        (func: (pos: Vec2) => void) =>\n        (position: Vec2): void => {\n            func(position)\n\n            //? customize in here\n            const length = this.particleSystem._simulator.particles.length\n            const newParticle = this.particleSystem._simulator.particles[length - 1]\n            this.initParticle(newParticle)\n        }\n\n    private step =\n        (func: (dt: number) => void) =>\n        (dt: number): void => {\n            //? customize in here\n            const particles = this.particleSystem._simulator.particles\n            for (let i = 0; i < particles.length; i++) {\n                const particle = particles[i]\n                this.updateParticle(particle, dt)\n            }\n\n            func(dt)\n        }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n}\n","import type { Vec2 } from 'cc'\nimport { _decorator, math } from 'cc'\nimport { ParticleSystem2DExtra } from '../ParticleSystem2DExtra'\nconst { ccclass } = _decorator\n\ninterface ExampleParticle extends Particle2DExtra {\n    maxSize: number\n    cycleDuration: number\n    life: number\n}\n\n@ccclass('ExampleParticleSystem2DExtra')\nexport class ExampleParticleSystem2DExtra extends ParticleSystem2DExtra {\n    public initParticle(particle: ExampleParticle): void {\n        particle.maxSize = math.randomRange(0.25, 1) * particle.size\n\n        particle.size = 0\n        particle.deltaSize = 0\n        particle.cycleDuration = math.randomRange(0.4, 0.6)\n        particle.life = particle.timeToLive\n\n        this.setInitPosition(particle.pos)\n    }\n\n    public updateParticle(particle: ExampleParticle, _dt: number): void {\n        this.updateScale(particle)\n    }\n\n    private setInitPosition(out: Vec2) {\n        const rectW = 700\n        const rectH = 700\n        const x = out.x\n        const y = out.y\n\n        out.x = x + math.randomRange(-rectW / 2, rectW / 2)\n        out.y = y + math.randomRange(-rectH / 2, rectH / 2)\n\n        return out\n    }\n\n    private updateScale(particle: ExampleParticle) {\n        const liftCurrent = particle.life - particle.timeToLive\n        const currentCycleRatio = (liftCurrent % particle.cycleDuration) / particle.cycleDuration\n        const cubicLifeProgress = 1 - currentCycleRatio\n        particle.size = particle.maxSize * Math.sin(cubicLifeProgress * Math.PI)\n    }\n}\n","import { _decorator, CCBoolean, Component, game, View, Widget } from 'cc'\nimport GameEvents from '../../constants/GameEvents'\nimport AdsUtils from '../../utils/AdsUtils'\nimport CocosUtils from '../../utils/CocosUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\n\nconst { ccclass, requireComponent, property } = _decorator\nconst { ads, event } = codex\n\nconst {\n    Events,\n    Plugins: { Ads: { Types: AdsTypes, Status: AdStatus } = {} },\n    Utils: { Array: A, Function: F, Device: D },\n} = Ludex\n\ntype AdEventPayload = Ludex.Plugins.Ads.AdEventPayload\n\nconst TOP_POSITIONS = ['top', 'topleft', 'topright']\nconst BOTTOM_POSITIONS = ['bottom', 'bottomleft', 'bottomright']\nconst LEFT_POSITIONS = ['left', 'topleft', 'bottomleft']\nconst RIGHT_POSITIONS = ['right', 'topright', 'bottomright']\n\n@ccclass('ResizeWithBannerAd')\n@requireComponent(Widget)\nexport class ResizeWithBannerAd extends Component {\n    @ComponentUtils.required()\n    @property(CCBoolean)\n    private includeSAB = true\n\n    @ComponentUtils.required()\n    @property(CCBoolean)\n    private includeRightBanner = true\n\n    @ComponentUtils.required()\n    @property(CCBoolean)\n    private includeBottomBanner = true\n\n    @ComponentUtils.required()\n    @property(CCBoolean)\n    private includeLeftBanner = true\n\n    @ComponentUtils.required()\n    @property(CCBoolean)\n    private closeWhenAdFailed = false\n\n    @ComponentUtils.required()\n    @property(Widget)\n    private widget!: Widget\n\n    public __preload(): void {\n        ComponentUtils.validateRequiredProperties(this)\n\n        this.setupEventListeners$('on')\n    }\n\n    public onDestroy(): void {\n        this.setupEventListeners$('off')\n    }\n\n    public start(): void {\n        this.handleOnResize$()\n    }\n\n    private setupEventListeners$ = (state: 'on' | 'off'): void => {\n        const handlers = [\n            [Events.AD_SHOWING, this.handleOnAdShowing$],\n            [Events.AD_CLOSED, this.handleOnAdClosed$],\n            [Events.AD_SHOW_FAILED, this.handleOnAdFailed$],\n            [GameEvents.VIEW_RESIZED, this.handleOnResize$],\n        ] as const\n\n        handlers.forEach(([evt, func]) => {\n            event[state](evt, func)\n        })\n    }\n\n    private handleOnAdShowing$ = (payload: AdEventPayload): void => {\n        const { placementId, type } = payload\n        if (!this.checkValid$() || !placementId || !AdsTypes) return\n        if (type !== AdsTypes.BANNER) return\n\n        try {\n            const ad = ads.getAd(AdsTypes.BANNER, placementId)\n            if (!ad) return\n        } catch (error) {\n            console.debug('Error getting banner ad:', error)\n            return\n        }\n\n        this.resizeWhenBannerAdShow$(placementId)\n        this.emitResizeEvent()\n    }\n\n    private handleOnAdClosed$ = (payload: AdEventPayload): void => {\n        const { placementId, type } = payload\n        if (!this.checkValid$() || !placementId || !AdsTypes) return\n        if (type !== AdsTypes.BANNER) return\n\n        try {\n            const ad = ads.getAd(AdsTypes.BANNER, placementId)\n            if (!ad) return\n        } catch (error) {\n            console.debug('Error getting banner ad:', error)\n            return\n        }\n\n        this.resizeWhenBannerAdClose$(placementId)\n        this.emitResizeEvent()\n    }\n\n    private handleOnAdFailed$ = (payload: AdEventPayload): void => {\n        const { placementId, type } = payload\n        if (!this.closeWhenAdFailed || !this.checkValid$() || !placementId || !AdsTypes) return\n        if (type !== AdsTypes.BANNER) return\n\n        this.resizeWhenBannerAdClose$(placementId)\n        this.emitResizeEvent()\n    }\n\n    private handleOnResize$ = (): void => {\n        if (!this.checkValid$() || !AdsTypes || !AdStatus) return\n        if (!AdsUtils.isAdEnabled(AdsTypes.BANNER)) {\n            this.resizeSafeAreaBottom$()\n            return\n        }\n\n        const bannerAds = ads.getAdsByType(AdsTypes.BANNER)\n        if (bannerAds.length === 0) {\n            this.resizeSafeAreaBottom$()\n            return\n        }\n\n        bannerAds.forEach((ad) => {\n            const status = ads.getAdStatus(AdsTypes.BANNER, ad.placementId)\n            if (!status) return\n\n            if (status === AdStatus.SHOWING || D.isIOS()) {\n                this.resizeWhenBannerAdShow$(ad.placementId)\n            } else if (status === AdStatus.IDLE) {\n                this.resizeWhenBannerAdClose$(ad.placementId)\n            }\n        })\n    }\n\n    private getBannerHeight$ = (placementId: string, gameZoom: number): number => {\n        try {\n            const { PlacementId, Position } = ads.getBannerConfig(placementId)\n\n            const includeSAB = this.includeSAB && Position === 'bottom'\n            return ads.getBannerHeight(PlacementId, gameZoom, includeSAB)\n        } catch (error) {\n            console.debug('[ResizeWithBannerAd] Error getting banner ad:', error)\n            return 0\n        }\n    }\n\n    private resizeWhenBannerAdShow$ = (placementId: string) => {\n        let top: number | undefined\n        let bottom: number | undefined\n        let left: number | undefined\n        let right: number | undefined\n\n        const gameZoom = CocosUtils.cssSizeToWorldSize(1)\n        const bannerHeight = this.getBannerHeight$(placementId, gameZoom)\n\n        const { BannerWidth, Position } = ads.getBannerConfig(placementId)\n\n        if (Position === 'top') {\n            top = bannerHeight\n        } else if (Position === 'bottom') {\n            if (this.includeBottomBanner) {\n                bottom = bannerHeight\n            } else if (this.includeSAB) {\n                bottom = ads.getSafeAreaBottom(gameZoom)\n            }\n        } else if (Position === 'left' || Position === 'right') {\n            if (BannerWidth === undefined) return\n\n            let bannerWidth = BannerWidth\n            if ('getBannerOffset' in GameSDK.extra) {\n                bannerWidth += GameSDK.extra.getBannerOffset()\n            }\n\n            if (Position === 'left' && this.includeLeftBanner) {\n                left = bannerWidth * gameZoom\n            } else if (Position === 'right' && this.includeRightBanner) {\n                right = bannerWidth * gameZoom\n            }\n        }\n\n        this.updateWidgets$({ top, bottom, left, right })\n    }\n\n    private resizeWhenBannerAdClose$ = (placementId: string): void => {\n        const { Position } = ads.getBannerConfig(placementId)\n\n        const gameZoom = CocosUtils.cssSizeToWorldSize(1)\n        const bottom = this.includeSAB ? ads.getSafeAreaBottom(gameZoom) : 0\n\n        this.updateWidgets$({\n            top: A.has(TOP_POSITIONS, Position) ? 0 : undefined,\n            bottom: A.has(BOTTOM_POSITIONS, Position) ? bottom : undefined,\n            left: A.has(LEFT_POSITIONS, Position) ? 0 : undefined,\n            right: A.has(RIGHT_POSITIONS, Position) ? 0 : undefined,\n        })\n    }\n\n    private resizeSafeAreaBottom$ = (): void => {\n        const gameZoom = CocosUtils.cssSizeToWorldSize(1)\n        const bottom = this.includeSAB ? ads.getSafeAreaBottom(gameZoom) : 0\n\n        this.updateWidgets$({ bottom })\n    }\n\n    private updateWidgets$ = (config: { top?: number; bottom?: number; left?: number; right?: number }): void => {\n        const { top, bottom, left, right } = config\n        this.widget.top = top ?? this.widget.top\n        this.widget.bottom = bottom ?? this.widget.bottom\n        this.widget.left = left ?? this.widget.left\n        this.widget.right = right ?? this.widget.right\n\n        View.instance.emit('canvas-resize')\n    }\n\n    private emitResizeEvent = F.debounce((): void => {\n        game.emit(GameEvents.WIDGET_RESIZED)\n    }, 100)\n\n    private checkValid$ = (): boolean => {\n        return this.node.activeInHierarchy && this.node.parent !== null && this.node.parent !== undefined\n    }\n}\n","import { _decorator, CCBoolean, Component, ccenum, game, Sprite } from 'cc'\nimport GameEvents from '../../constants/GameEvents'\nimport GameWorld from '../../constants/GameWorld'\nimport { ResourcePathsEnum, ResourcePathsMapping } from '../../gameplay/constants/ResourcePaths'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport LayoutUtils from '../../utils/LayoutUtils'\nimport ResourceUtils from '../../utils/ResourceUtils'\n\nconst { ccclass, property, requireComponent } = _decorator\nconst { Layout } = GameWorld\n\nenum LayoutEnum {\n    Portrait = 0,\n    Landscape = 1,\n}\n\nconst LayoutMapping = [Layout.Portrait, Layout.Landscape]\n\nccenum(LayoutEnum)\n\n@ccclass('PreloadSprite')\n@requireComponent(Sprite)\nexport class PreloadSprite extends Component {\n    @property({ type: LayoutEnum })\n    public layout!: LayoutEnum\n\n    @property({ type: ResourcePathsEnum })\n    public path = 0\n\n    @property({ type: CCBoolean })\n    public packable!: boolean\n\n    @ComponentUtils.required()\n    private sprite!: Sprite\n\n    protected __preload(): void {\n        this.sprite = this.getComponent(Sprite) as Sprite\n        ComponentUtils.validateRequiredProperties(this, PreloadSprite)\n\n        game.on(GameEvents.ORIENTATION_CHANGED, this.loadSpriteFrame, this)\n        this.loadSpriteFrame()\n    }\n\n    protected onDestroy(): void {\n        game.off(GameEvents.ORIENTATION_CHANGED, this.loadSpriteFrame, this)\n    }\n\n    private async loadSpriteFrame(): Promise<void> {\n        if (this.sprite.spriteFrame) {\n            this.unlistenEvent()\n            return\n        }\n        if (LayoutUtils.getCurrentLayout() !== LayoutMapping[this.layout]) return\n\n        if (!this.path) return\n        const path = `${ResourcePathsMapping[this.path]}/spriteFrame`\n        if (!path) return\n\n        const spriteFrame = await ResourceUtils.loadSpriteFrameAsync(path, this.packable)\n\n        if (!this.enabledInHierarchy || this.sprite.spriteFrame) {\n            this.unlistenEvent()\n            return\n        }\n\n        this.sprite.spriteFrame = spriteFrame\n        this.unlistenEvent()\n    }\n\n    private unlistenEvent(): void {\n        game.off(GameEvents.ORIENTATION_CHANGED, this.loadSpriteFrame, this)\n    }\n}\n","import { _decorator, ProgressBar, Sprite, UIOpacity } from 'cc'\nconst { ccclass, property, executeInEditMode, requireComponent } = _decorator\n\n@ccclass('TapperedProgressBar')\n@executeInEditMode\n@requireComponent(UIOpacity)\nexport class TapperedProgressBar extends ProgressBar {\n    @property({\n        type: UIOpacity,\n        displayName: 'Fill opacity',\n    })\n    private uiOpacity: UIOpacity | null = null\n\n    @property({\n        type: Sprite,\n        displayName: 'Left Cap',\n        tooltip: 'If assigned, will be displayed when progress is larger than 0%',\n    })\n    public leftCap: Sprite | null = null\n\n    @property({\n        type: Sprite,\n        displayName: 'Right Cap',\n        tooltip: 'If assigned, will be displayed when progress is at 100%',\n    })\n    public rightCap: Sprite | null = null\n\n    /**\n     * @en\n     * The current progress of the bar sprite. The valid value is between 0-1.\n     *\n     * @zh\n     *  0-1 \n     */\n    @property({\n        range: [0, 1, 0.01],\n        slide: true,\n        tooltip: 'i18n:progress.progress',\n        override: true,\n    })\n    public override get progress(): number {\n        return super.progress\n    }\n\n    public override set progress(value: number) {\n        super.progress = value\n        this.updateAppearance()\n    }\n\n    private updateAppearance(): void {\n        if (this.uiOpacity === null) return\n\n        if (this.progress <= 0) {\n            this.uiOpacity.opacity = 0\n            return\n        }\n\n        if (this.progress > 0.1) {\n            this.uiOpacity.opacity = 255\n            return\n        }\n\n        // maps the progress from [0 -> 0.1] to [0 -> 255]\n        const opacity = Math.floor((this.progress / 0.05) * 255)\n        this.uiOpacity.opacity = opacity\n    }\n\n    public start(): void {\n        this.updateAppearance()\n    }\n}\n","import { CCFloat, Component, Label, Vec2, Vec3, _decorator } from 'cc'\nimport { EDITOR_NOT_IN_PREVIEW } from 'cc/env'\nconst { ccclass, property, executeInEditMode, requireComponent } = _decorator\n\n@ccclass('DynamicLabel')\n@requireComponent(Label)\n@executeInEditMode(true)\nexport class DynamicLabel extends Component {\n    @property({ type: CCFloat, min: 1, max: 200 })\n    public get size() {\n        return this._size\n    }\n\n    public set size(value: number) {\n        this._size = value\n        this.label.fontSize = this.size * this.quality\n    }\n\n    @property({ type: CCFloat, min: 0.1, max: 4 })\n    public get quality() {\n        return this._quality\n    }\n\n    public set quality(value: number) {\n        this._quality = value\n\n        this.node.scale = new Vec3(1 / this.quality, 1 / this.quality, 1)\n        this.label.fontSize = this.size * this.quality\n        this.label.outlineWidth = this._outlineWidth * this.quality\n        this.label.shadowOffset = this._shadowOffset.multiplyScalar(this.quality)\n    }\n\n    private _quality: number = 1\n    private _size: number = 1\n    private _outlineWidth: number = 0\n    private _shadowOffset: Vec2 = new Vec2(0, 0)\n\n    private label!: Label\n\n    protected __preload(): void {\n        this.label = this.getComponent(Label)!\n    }\n\n    protected start(): void {\n        this._quality = 1 / this.node.scale.x\n        this._size = this.label.fontSize / this.quality\n        this._outlineWidth = this.label.outlineWidth\n        this._shadowOffset = this.label.shadowOffset\n\n        this.quality = window.devicePixelRatio\n        if (EDITOR_NOT_IN_PREVIEW) return\n\n        console.info(` ${this.node.name}<Label> quality:`, this.quality)\n    }\n}\n","import { _decorator, CCString, Component, ccenum, Enum, type Font, game, Label, Sprite, type SpriteFrame } from 'cc'\nimport { EDITOR_NOT_IN_PREVIEW } from 'cc/env'\nimport GameEvents from '../../constants/GameEvents'\nimport {\n    AvailableLocales,\n    DefaultLanguageData,\n    DefaultLocale,\n    EditorLocaleLoader,\n    LocaleFontPaths,\n    type LocalesWithoutDefault,\n} from '../../constants/Locales'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport ResourceUtils from '../../utils/ResourceUtils'\n\nconst { ccclass, property, executeInEditMode, disallowMultiple } = _decorator\n\nconst {\n    Utils: { Signal: S, Function: F, Array: A },\n    Events,\n} = Ludex\n\nconst { language, event } = codex\n\ntype Signal = InstanceType<typeof S.Signal>\ntype Locale = Ludex.Plugins.Language.Locale\ntype TextKey = Ludex.Plugins.Language.TextKey\ntype TextureKey = Ludex.Plugins.Language.TextureKey\n\nexport enum LocalizeType {\n    Text = 0,\n    Texture = 1,\n}\n\nccenum(LocalizeType)\n\nlet EDITOR_READY = false\n\nasync function initForEditor() {\n    language.add(DefaultLocale, DefaultLanguageData)\n\n    const keys = Object.keys(EditorLocaleLoader) as LocalesWithoutDefault[]\n    const data = await F.allSettled(\n        keys.map(async (key) => {\n            const json = await EditorLocaleLoader[key]()\n\n            return {\n                key,\n                json,\n            }\n        }),\n    )\n\n    for (const item of data) {\n        if (item.status === 'rejected') {\n            console.error(item.reason)\n            continue\n        }\n\n        const { key, json } = item.value\n        language.add(key, json)\n    }\n\n    EDITOR_READY = true\n}\n\nfunction isValidLocale(value: string): value is Locale {\n    return A.has(AvailableLocales, value)\n}\n\nconst LOCALIZE_PARAMS_UPDATED_EVENT = 'localize-params-updated'\n\ntype LocalizeParamsUpdatedPayload = {\n    text: string\n    param: LocalizeParams\n}\n\n@ccclass('LocalizeParams')\nexport class LocalizeParams {\n    @property({ visible: false })\n    private _text: string = ''\n\n    public get text(): string {\n        return this._text\n    }\n\n    @property(CCString)\n    public set text(value: string) {\n        this._text = value\n        game.emit(LOCALIZE_PARAMS_UPDATED_EVENT, { text: value, param: this } as LocalizeParamsUpdatedPayload)\n    }\n}\n\n@ccclass('Localize')\n@disallowMultiple\n@executeInEditMode(true)\nexport class Localize extends Component {\n    private localized = false\n\n    @property({ visible: false })\n    private _defaultLocale: Locale = 'en'\n\n    public get defaultLocale(): Locale {\n        return this._defaultLocale\n    }\n\n    @property({\n        type: CCString,\n        visible: function (this: Localize) {\n            return this.l10nType === LocalizeType.Texture\n        },\n    })\n    public set defaultLocale(value: string) {\n        if (!isValidLocale(value)) {\n            console.warn(`Key ${value} not found. Supported locales are ${AvailableLocales.join(', ')}`)\n            return\n        }\n\n        if (EDITOR_NOT_IN_PREVIEW) {\n            console.info(`Key ${value} is valid`)\n        }\n\n        this._defaultLocale = value\n    }\n\n    @property({ visible: false })\n    private _l10nType: LocalizeType = LocalizeType.Text\n\n    @property({ type: Enum(LocalizeType) })\n    public get l10nType(): LocalizeType {\n        return this._l10nType\n    }\n\n    public set l10nType(value: LocalizeType) {\n        this._l10nType = value\n\n        if (value === LocalizeType.Texture) {\n            this.label = undefined\n            this.params = []\n        }\n\n        if (value === LocalizeType.Text) {\n            this.sprite = undefined\n            this.packable = true\n        }\n    }\n\n    @property({\n        type: Label,\n        visible: function (this: Localize) {\n            return this.l10nType === LocalizeType.Text\n        },\n    })\n    public label?: Label\n\n    @property({\n        visible: function (this: Localize) {\n            return this.l10nType === LocalizeType.Text\n        },\n    })\n    public updateFont = true\n\n    @property({\n        type: [LocalizeParams],\n        visible: function (this: Localize) {\n            return this.l10nType === LocalizeType.Text\n        },\n    })\n    public params: LocalizeParams[] = []\n\n    @property({\n        type: Sprite,\n        visible: function (this: Localize) {\n            return this.l10nType === LocalizeType.Texture\n        },\n    })\n    public sprite?: Sprite\n\n    @property({\n        visible: function (this: Localize) {\n            return this.l10nType === LocalizeType.Texture\n        },\n    })\n    public packable = true\n\n    @property({ visible: false })\n    private _key?: TextKey | TextureKey\n\n    @property({ type: CCString })\n    public set key(value: TextKey | TextureKey) {\n        try {\n            const isValid = this.isValidKey(value)\n\n            if (!isValid) {\n                console.warn(`Key ${value} not found in locales`)\n                return\n            }\n\n            if (EDITOR_NOT_IN_PREVIEW) {\n                console.info(`Key ${value} is valid`)\n            }\n\n            this._key = value\n            this.updateLocalization()\n        } catch (error) {\n            console.warn(error)\n        }\n    }\n\n    public get key(): TextKey | TextureKey | undefined {\n        return this._key\n    }\n\n    private readonly updateSignalController = new S.SignalController()\n\n    public setParams(params: (string | undefined)[]) {\n        while (this.params.length < params.length) {\n            this.params.push(new LocalizeParams())\n        }\n\n        for (let i = 0, len = this.params.length; i < len; i++) {\n            const p = this.params[i] as (typeof this.params)[number]\n            p.text = params[i] ?? p.text\n        }\n    }\n\n    public waitUntilLocalized(): Promise<void> {\n        if (this.localized) return Promise.resolve()\n        return new Promise((resolve) => this.node.once(GameEvents.LOCALIZE_APPLIED, resolve))\n    }\n\n    public __preload() {\n        if (EDITOR_NOT_IN_PREVIEW && !EDITOR_READY) {\n            initForEditor()\n        }\n    }\n\n    public isValidKey(key: string) {\n        if (this.isTextKey(key)) {\n            return true\n        }\n\n        if (this.isTextureKey(key)) {\n            return true\n        }\n\n        return false\n    }\n\n    private isTextKey(key: string): key is TextKey {\n        try {\n            return this.l10nType === LocalizeType.Text && language.hasTextKey(key)\n        } catch (error) {\n            console.warn(error)\n            return false\n        }\n    }\n\n    private isTextureKey(key: string): key is TextureKey {\n        try {\n            return this.l10nType === LocalizeType.Texture && language.hasTextureKey(key)\n        } catch (error) {\n            console.warn(error)\n            return false\n        }\n    }\n\n    protected onEnable(): void {\n        this.listenEvent()\n    }\n\n    protected onDisable(): void {\n        this.unlistenEvent()\n        this.updateSignalController.abort()\n    }\n\n    protected start(): void {\n        this.initLocalization()\n    }\n\n    private listenEvent() {\n        event.on(Events.LANGUAGE_CHANGED, this.updateLocalization)\n        // @ts-expect-error - custom event with payload\n        game.on(LOCALIZE_PARAMS_UPDATED_EVENT, this.onLocalizeParamsUpdated)\n    }\n\n    private unlistenEvent() {\n        event.off(Events.LANGUAGE_CHANGED, this.updateLocalization)\n        game.off(LOCALIZE_PARAMS_UPDATED_EVENT, this.onLocalizeParamsUpdated)\n    }\n\n    private readonly onLocalizeParamsUpdated = ({ param }: LocalizeParamsUpdatedPayload) => {\n        if (A.has(this.params, param)) {\n            this.updateLocalization()\n        }\n    }\n\n    public readonly updateLocalization = () => this.updateLocalizationComp()\n\n    private initLocalization() {\n        return this.updateLocalizationComp(true)\n    }\n\n    private async updateLocalizationComp(skipTextureIfSameLocale = false) {\n        if (EDITOR_NOT_IN_PREVIEW && !EDITOR_READY) {\n            console.warn('Editor importing locales...')\n            return\n        }\n\n        if (!this.enabledInHierarchy) return\n        if (this.key === undefined) return\n\n        const signal = this.updateSignalController.renew()\n\n        try {\n            this.localized = false\n\n            if (this.isTextKey(this.key)) {\n                await this.updateTextLocalization(this.key, signal)\n            } else if (this.isTextureKey(this.key)) {\n                const currentLocale = language.getCurrentLocale()\n                const skippable =\n                    !EDITOR_NOT_IN_PREVIEW && skipTextureIfSameLocale && currentLocale === this.defaultLocale\n                if (!skippable) await this.updateTextureLocalization(this.key, signal)\n            } else {\n                throw new Error(`Key ${this.key} not found in locales`)\n            }\n\n            if (signal.aborted) return\n\n            this.localized = true\n            game.emit(GameEvents.LOCALIZE_APPLIED, { localize: this, key: this.key } as LocalizeAppliedPayload)\n            this.node.emit(GameEvents.LOCALIZE_APPLIED, { localize: this, key: this.key } as LocalizeAppliedPayload)\n        } catch (error) {\n            console.warn(error)\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async updateTextLocalization(key: TextKey, signal: Signal) {\n        const locale = language.getCurrentLocale()\n\n        const text = language.getText(\n            key,\n            this.params.map((p) => p.text),\n            locale,\n        )\n\n        const label = this.label\n\n        if (label === undefined) {\n            throw new Error(`Text localize component <${this.node.name}> has no label`)\n        }\n\n        signal.wrap(() => this.setText(label, text))?.()\n\n        if (this.updateFont) {\n            await signal.wrap(() => this.setTextFont(label, locale, signal))?.()\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async setText(label: Label, text: string) {\n        label.string = text\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async setTextFont(label: Label, locale: Locale, signal: Signal) {\n        if (!EDITOR_NOT_IN_PREVIEW) {\n            await this.setTextFontRuntime(label, locale, signal)\n        } else {\n            await this.setTextFontEditor(label, locale, signal)\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async setTextFontRuntime(label: Label, locale: Locale, signal: Signal) {\n        const font = await ResourceUtils.loadFontAsync(locale)\n\n        if (signal.aborted) return\n\n        if (font !== null) {\n            this.setLabelFontInLifeCycle(label, font)\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private setLabelFontInLifeCycle(label: Label, font: Font) {\n        label.font = font\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async setTextFontEditor(label: Label, locale: Locale, signal: Signal) {\n        const uuid = await this.requestFontUuid(locale)\n        if (uuid === null) return\n\n        const nodeInfo = await signal.wrap(() => this.requestNodeInfo(label.node.uuid))?.()\n        if (nodeInfo === undefined) return\n\n        const propertyIndex = A.searchIndex(nodeInfo.__comps__, (c: { type: string }) => c.type === 'cc.Label')\n        const path = `__comps__.${propertyIndex}.font`\n\n        await signal.wrap(() => this.requestUpdateLabelFont(label.node.uuid, path, uuid))?.()\n    }\n\n    private async requestFontUuid(locale: Locale) {\n        return await Editor.Message.request('asset-db', 'query-uuid', `db://assets/loadable/${LocaleFontPaths[locale]}`)\n    }\n\n    private requestNodeInfo(uuid: string) {\n        return Editor.Message.request('scene', 'query-node', uuid)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async requestUpdateLabelFont(nodeUuid: string, compPath: string, fontUuid: string) {\n        await Editor.Message.request('scene', 'set-property', {\n            uuid: nodeUuid,\n            path: compPath,\n            dump: {\n                type: 'cc.Font',\n                value: {\n                    uuid: fontUuid,\n                },\n            },\n        })\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async updateTextureLocalization(key: TextureKey, signal: Signal) {\n        if (this.sprite === undefined) {\n            throw new Error(`Texture localize component <${this.node.name}> has no sprite`)\n        }\n\n        const path = language.getTexture(key)\n\n        if (!EDITOR_NOT_IN_PREVIEW) {\n            await this.setSpriteRuntime(this.sprite, path, signal)\n        } else {\n            await this.setSpriteEditor(this.sprite, path, signal)\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async setSpriteRuntime(sprite: Sprite, path: string, signal: Signal) {\n        const spriteFrame = await ResourceUtils.loadSpriteFrameAsync(`${path}/spriteFrame`, this.packable)\n\n        if (signal.aborted) return\n\n        if (spriteFrame === null) {\n            console.warn(`Sprite not found by path: ${path}`)\n            return\n        }\n\n        this.setSprite(sprite, spriteFrame)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private setSprite(sprite: Sprite, spriteFrame: SpriteFrame) {\n        sprite.spriteFrame = spriteFrame\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async setSpriteEditor(sprite: Sprite, spritePath: string, signal: Signal) {\n        const frameInfo = await this.requestSpriteFrameInfo(spritePath)\n\n        if (frameInfo.length === 0) {\n            console.error(`Sprite not found by path: ${spritePath}`)\n            return\n        }\n\n        if (frameInfo.length > 1) {\n            const infoDump = frameInfo.slice(0, 5).map((i: { path: string }) => i.path)\n            const dump = `${infoDump.join(',')}${infoDump.length < frameInfo.length ? '...' : ''}`\n            console.warn(`Ambiguous sprite's path: ${spritePath}. Found ${dump}`)\n            return\n        }\n\n        const nodeInfo = await signal.wrap(() => this.requestNodeInfo(sprite.node.uuid))?.()\n        if (nodeInfo === undefined) return\n\n        const uuid = (frameInfo[0] as (typeof frameInfo)[number]).uuid\n\n        const propertyIndex = A.searchIndex(nodeInfo.__comps__, (c: { type: string }) => c.type === 'cc.Sprite')\n        const path = `__comps__.${propertyIndex}.spriteFrame`\n\n        await signal.wrap(() => this.requestUpdateSpriteSpriteFrame(sprite.node.uuid, path, uuid))?.()\n    }\n\n    private requestSpriteFrameInfo(spritePath: string) {\n        return Editor.Message.request('asset-db', 'query-assets', {\n            pattern: `db://assets/loadable/${spritePath}*`,\n            ccType: 'cc.SpriteFrame',\n        })\n    }\n\n    private async requestUpdateSpriteSpriteFrame(nodeUuid: string, compPath: string, frameUuid: string) {\n        await Editor.Message.request('scene', 'set-property', {\n            uuid: nodeUuid,\n            path: compPath,\n            dump: {\n                type: 'cc.SpriteFrame',\n                value: {\n                    uuid: frameUuid,\n                },\n            },\n        })\n    }\n}\n","import { CCString, Component, _decorator } from 'cc'\nimport { EDITOR_NOT_IN_PREVIEW } from 'cc/env'\nimport { AvailableLocales } from '../../constants/Locales'\nimport ResourceUtils from '../../utils/ResourceUtils'\nconst { ccclass, property } = _decorator\n\nconst {\n    Utils: { Array: A, Valid: V },\n} = Ludex\n\nconst { language } = codex\n\n@ccclass('LocalizeTextureKey')\nexport class LocalizeTextureKey {\n    @property({ visible: false })\n    private _key: string = ''\n\n    public get key(): string {\n        return this._key\n    }\n\n    @property(CCString)\n    public set key(value: string) {\n        const isValid = language.hasTextureKey(value)\n\n        if (!isValid) {\n            console.warn(`Key ${value} not found in locales`)\n            return\n        }\n\n        if (EDITOR_NOT_IN_PREVIEW) {\n            console.info(`Key ${value} is valid`)\n        }\n\n        this._key = value\n    }\n}\n\n@ccclass('SupportedLocaleKey')\nexport class SupportedLocaleKey {\n    @property({ visible: false })\n    private _key: string = ''\n\n    public get key(): string {\n        return this._key\n    }\n\n    @property(CCString)\n    public set key(value: string) {\n        const isValid = A.has(AvailableLocales, value)\n\n        if (!isValid) {\n            console.warn(`Key ${value} not found. Supported locales are ${AvailableLocales.join(', ')}`)\n            return\n        }\n\n        if (EDITOR_NOT_IN_PREVIEW) {\n            console.info(`Key ${value} is valid`)\n        }\n\n        this._key = value\n    }\n}\n\n@ccclass('LocalizePreloader')\nexport class LocalizePreloader extends Component {\n    @property([LocalizeTextureKey])\n    readonly keys: LocalizeTextureKey[] = []\n\n    @property({ type: SupportedLocaleKey, tooltip: 'Preload only for these locales' })\n    readonly locales: SupportedLocaleKey[] = []\n\n    public __preload(): void {\n        this.preloadTextures()\n    }\n\n    protected preloadTextures() {\n        const currentLocale = language.getCurrentLocale()\n\n        const locales = this.locales.map((locale) => locale.key)\n\n        if (!A.has(locales, currentLocale)) {\n            if (V.isDebugger()) {\n                console.info(\n                    'Skipping preloading of textures because current locale is not in the list of preloading locales',\n                )\n            }\n\n            return\n        }\n\n        const paths: string[] = []\n\n        for (const keyComp of this.keys) {\n            if (language.hasTextureKey(keyComp.key) === false) continue\n            const textureKey = language.getTexture(keyComp.key)\n            const path = `${textureKey}/spriteFrame`\n            paths.push(path)\n        }\n\n        ResourceUtils.loadSpriteFramesAsync(paths)\n    }\n}\n","import { CCFloat, Component, UITransform, Widget, _decorator } from 'cc'\nimport GameEvents from '../../constants/GameEvents'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport { Localize } from './Localize'\n\nconst { ccclass, property, executeInEditMode, disallowMultiple, requireComponent } = _decorator\n\n@ccclass('LocalizedLayout')\n@disallowMultiple\n@executeInEditMode(true)\n@requireComponent(UITransform)\nexport class LocalizedLayout extends Component {\n    @property(Localize)\n    readonly label?: Localize\n\n    @ComponentUtils.required()\n    @property(UITransform)\n    public layout!: UITransform\n\n    @property({ visible: false })\n    private _horizontal: number = 0\n\n    @property({ visible: false })\n    private _vertical: number = 0\n\n    @property({ type: CCFloat, group: 'Padding' })\n    get horizontal(): number {\n        return this._horizontal\n    }\n\n    set horizontal(value: number) {\n        this._horizontal = value\n        this.updateContentSize()\n    }\n\n    @property({ type: CCFloat, group: 'Padding' })\n    get vertical(): number {\n        return this._vertical\n    }\n\n    set vertical(value: number) {\n        this._vertical = value\n        this.updateContentSize()\n    }\n\n    protected __preload(): void {\n        this.layout = this.getComponent(UITransform) as UITransform\n        ComponentUtils.validateRequiredProperties(this)\n    }\n\n    protected start(): void {\n        this.updateContentSize()\n    }\n\n    protected onEnable(): void {\n        this.listenEvent()\n    }\n\n    protected onDisable(): void {\n        this.unlistenEvent()\n    }\n\n    private listenEvent() {\n        this.label?.node.on(GameEvents.LOCALIZE_APPLIED, this.updateContentSize)\n    }\n\n    private unlistenEvent() {\n        this.label?.node.off(GameEvents.LOCALIZE_APPLIED, this.updateContentSize)\n    }\n\n    public updateContentSize = () => {\n        if (this.label === undefined) return\n\n        const size = this.label.getComponent(UITransform)?.contentSize\n        if (size === undefined) return\n\n        this.layout.setContentSize(size.width + this.horizontal, size.height + this.vertical)\n\n        const widgets = this.node.getComponentsInChildren(Widget)\n\n        for (const widget of widgets) {\n            widget.updateAlignment()\n        }\n    }\n}\n","import { CCFloat, Vec2, _decorator } from 'cc'\nconst { ccclass, property } = _decorator\n\nexport default class SecondOrderDynamics {\n    // previous input\n    private xp: Vec2\n\n    // state variables\n    private y: Vec2\n    private yd: Vec2\n\n    // dynamics constants\n    private k1: number\n    private k2: number\n    private k3: number\n\n    /**\n     * Creates a new second order dynamics object\n     * @param xi initial state\n     * @param config dynamics configuration\n     */\n    constructor(xi: Vec2, config?: SODConfig) {\n        const nConfig = config ?? {\n            response: 1,\n            dampen: 1,\n            eager: 1,\n        }\n\n        // compute constants\n        this.k1 = SecondOrderDynamics.calcK1(nConfig)\n        this.k2 = SecondOrderDynamics.calcK2(nConfig)\n        this.k3 = SecondOrderDynamics.calcK3(nConfig)\n\n        // initialize state variables\n        this.xp = xi.clone()\n        this.y = xi.clone()\n        this.yd = new Vec2(0, 0)\n    }\n\n    /**\n     * Updates the dynamics object\n     * @param deltaTime Delta time\n     * @param target Target value\n     * @param change Target's rate of change. Leave null to estimate from previous value\n     * @returns The calculated value\n     */\n    public update(deltaTime: number, target: Vec2, change: Vec2 | null = null): Vec2 {\n        let c = change\n        if (c === null) {\n            // estimate velocity\n            c = new Vec2((target.x - this.xp.x) / deltaTime, (target.y - this.xp.y) / deltaTime)\n\n            this.xp.x = target.x\n            this.xp.y = target.y\n        }\n\n        // clamp k2 to guarantee stability without jitter\n        const k2Stable = Math.max(this.k2, (deltaTime * deltaTime) / 2 + (deltaTime * this.k1) / 2, deltaTime * this.k1)\n\n        // integrate position by velocity\n        this.y.x = this.y.x + deltaTime * this.yd.x\n        this.y.y = this.y.y + deltaTime * this.yd.y\n\n        // integrate velocity by acceleration\n        this.yd.x = this.yd.x + (deltaTime * (target.x + this.k3 * c.x - this.y.x - this.k1 * this.yd.x)) / k2Stable\n\n        this.yd.y = this.yd.y + (deltaTime * (target.y + this.k3 * c.y - this.y.y - this.k1 * this.yd.y)) / k2Stable\n\n        return this.y\n    }\n\n    public setDynamics(config: SODConfig): void {\n        // compute constants\n        this.k1 = SecondOrderDynamics.calcK1(config)\n        this.k2 = SecondOrderDynamics.calcK2(config)\n        this.k3 = SecondOrderDynamics.calcK3(config)\n    }\n\n    public reset(xi: Vec2) {\n        this.xp.set(xi.x, xi.y)\n        this.y.set(xi.x, xi.y)\n        this.yd.set(0, 0)\n    }\n\n    public get currentState(): Vec2 {\n        return this.y\n    }\n\n    private static calcK1(config: SODConfig): number {\n        return config.dampen / (Math.PI * config.response)\n    }\n\n    private static calcK2(config: SODConfig): number {\n        return 1 / (2 * Math.PI * config.response * (2 * Math.PI * config.response))\n    }\n\n    private static calcK3(config: SODConfig): number {\n        return (config.eager * config.dampen) / (2 * Math.PI * config.response)\n    }\n}\n\n@ccclass('SODConfig')\nexport class SODConfig {\n    @property({\n        type: CCFloat,\n        displayName: 'Responsiveness',\n        tooltip: 'Higher values will result shorter response times.',\n    })\n    public response: number = 200\n\n    @property({\n        type: CCFloat,\n        displayName: 'Dampening',\n        tooltip: 'Higher values will result in less overshoot and oscillation.',\n    })\n    public dampen: number = 20\n\n    @property({\n        type: CCFloat,\n        displayName: 'Eagerness',\n        tooltip:\n            'Higher values will result in more overshoot and oscillation, negative values will result in anticipation.',\n    })\n    public eager: number = 0\n}\n","import { Node as CCNode, Component, Graphics, Vec2, Vec3, _decorator } from 'cc'\nimport SecondOrderDynamics, { SODConfig } from './SecondOrderDynamics'\nconst { ccclass, property } = _decorator\n\n@ccclass('Trail')\nexport class Trail extends Component {\n    @property({ type: CCNode, displayName: 'Target' })\n    private target!: CCNode\n\n    @property({ type: Graphics, displayName: 'Graphics' })\n    private graphics!: Graphics\n\n    @property({ type: [SODConfig], displayName: 'Trail Nodes' })\n    private trailNodes: SODConfig[] = []\n\n    private trailNodeInstances: SecondOrderDynamics[] = []\n\n    public reset() {\n        for (const instance of this.trailNodeInstances) {\n            instance.reset(new Vec2(this.node.worldPosition.x, this.node.worldPosition.y))\n        }\n\n        this.graphics.clear()\n    }\n\n    public onLoad(): void {\n        this.validateRequiredComponents()\n\n        this.spawnTrailNodes()\n    }\n\n    protected update(dt: number): void {\n        this.graphics.clear()\n\n        const firstNode = this.trailNodeInstances[0]\n        this.drawTrail(dt, firstNode, this.target.worldPosition.x, this.target.worldPosition.y)\n\n        for (let i = 1; i < this.trailNodeInstances.length; i++) {\n            const prevNode = this.trailNodeInstances[i - 1]\n            const currNode = this.trailNodeInstances[i]\n\n            this.drawTrail(dt, currNode, prevNode.currentState.x, prevNode.currentState.y)\n        }\n    }\n\n    private drawTrail(dt: number, instance: SecondOrderDynamics, towardsX: number, towardsY: number): void {\n        const { graphics } = this\n\n        if (!this.target.activeInHierarchy) return\n\n        const targetPosition = new Vec2(towardsX, towardsY)\n        const nextPosition = instance.update(dt, targetPosition)\n\n        const localTargetPosition = new Vec3(targetPosition.x, targetPosition.y, 0)\n        const localNextPosition = new Vec3(nextPosition.x, nextPosition.y, 0)\n\n        graphics.node.inverseTransformPoint(localTargetPosition, localTargetPosition)\n        graphics.node.inverseTransformPoint(localNextPosition, localNextPosition)\n\n        graphics.moveTo(localTargetPosition.x, localTargetPosition.y)\n        graphics.lineTo(localNextPosition.x, localNextPosition.y)\n\n        graphics.stroke()\n    }\n\n    private spawnTrailNodes(): void {\n        for (const trailNodeConfig of this.trailNodes) {\n            const startPosistion = new Vec2(this.node.worldPosition.x, this.node.worldPosition.y)\n            const dynamics = new SecondOrderDynamics(startPosistion, trailNodeConfig)\n            this.trailNodeInstances.push(dynamics)\n        }\n    }\n\n    private validateRequiredComponents(): void {\n        if (!this.target) {\n            throw new Error('Target is not set')\n        }\n\n        if (!this.graphics) {\n            throw new Error('Graphics is not set')\n        }\n\n        if (this.trailNodes.length === 0) {\n            console.warn('No trail nodes are set')\n        }\n    }\n}\n","import {\n    CCInteger,\n    CCString,\n    type CacheMode,\n    Component,\n    Director,\n    Label,\n    Layers,\n    Node,\n    Sprite,\n    UIOpacity,\n    _decorator,\n    director,\n} from 'cc'\nconst { ccclass, executionOrder, property } = _decorator\n\nconst {\n    Utils: { Decorator, Array: A },\n} = Ludex\n\ntype Nodes = {\n    [key: string]: Node\n}\n\nconst BBN = 'Batch By Name'\nconst BL = 'Batch Label'\nconst BS = 'Batch Sprite'\n\n@ccclass('BatchNodes')\n@executionOrder(99999)\nexport class BatchNodes extends Component {\n    @property({\n        group: { name: BBN },\n    })\n    public batchByName = false\n\n    @property({\n        type: [CCInteger],\n        group: { name: BBN },\n    })\n    public depthNames: number[] = []\n\n    @property({\n        type: [CCString],\n        group: { name: BBN },\n    })\n    public listName: string[] = []\n\n    @property({\n        group: { name: BL },\n    })\n    public batchLabel = false\n\n    @property({\n        group: { name: BL },\n    })\n    public depthLabel = 1\n\n    @property({\n        group: { name: BL },\n    })\n    public typeLabel = 'char'\n\n    @property({\n        group: { name: BS },\n    })\n    public batchSprite = false\n\n    @property({\n        group: { name: BS },\n    })\n    public depthSprite = 0\n\n    @property({\n        readonly: true,\n    })\n    public batchAllNodes = false\n\n    @property({\n        readonly: true,\n    })\n    public batchDepth = 0\n\n    @property({\n        readonly: true,\n    })\n    public checkOverlap = false\n\n    private batchNode: Nodes = {}\n\n    private labelChildren: Label[] = []\n    private spriteChildren: Sprite[] = []\n    private allChildren: Component[] = []\n    private nameChildren: Node[] = []\n\n    private originalParents: Nodes = {}\n\n    private isInited = false\n\n    public __preload(): void {\n        if (!this.enabled) return\n        director.on(Director.EVENT_AFTER_UPDATE, this.onAfterUpdate)\n        director.on(Director.EVENT_AFTER_RENDER, this.onAfterRender)\n    }\n\n    public onDestroy(): void {\n        director.off(Director.EVENT_AFTER_UPDATE, this.onAfterUpdate)\n        director.off(Director.EVENT_AFTER_RENDER, this.onAfterRender)\n    }\n\n    public onLoad(): void {\n        if (!this.enabled) return\n        this.setupBatchNodes(this.node)\n        this.isInited = true\n    }\n\n    public onEnable(): void {\n        if (this.isInited) return\n\n        director.on(Director.EVENT_AFTER_UPDATE, this.onAfterUpdate)\n        director.on(Director.EVENT_AFTER_RENDER, this.onAfterRender)\n\n        this.setupBatchNodes(this.node)\n        this.isInited = true\n    }\n\n    private handleActiveChange(node: Node): void {\n        node.once(Node.EventType.ACTIVE_IN_HIERARCHY_CHANGED, this.handleNodeChange)\n    }\n\n    @Decorator.debounce(1000)\n    private handleNodeChange = (): void => {\n        if (!this.isInited) return\n        console.warn('handleNodeChange', this.node.name)\n        this.setupBatchNodes(this.node)\n    }\n\n    public onDisable(): void {\n        this.restoreOriginalChildren()\n        director.off(Director.EVENT_AFTER_UPDATE, this.onAfterUpdate)\n        director.off(Director.EVENT_AFTER_RENDER, this.onAfterRender)\n        this.isInited = false\n    }\n\n    private setupBatchNodes(node: Node): void {\n        this.allChildren = []\n        this.nameChildren = []\n        this.labelChildren = []\n        this.spriteChildren = []\n\n        this.saveOriginalChildren(node)\n\n        this.createGlobalNodes(node)\n        this.createGlobalNameNodes(node)\n        this.createGlobalLabelNode(node)\n        this.createGlobalSpriteNode(node)\n\n        this.sortGlobalNodes()\n    }\n\n    private sortGlobalNodes(): void {\n        this.batchNode.node?.setSiblingIndex(0)\n        this.batchNode.label?.setSiblingIndex(this.depthLabel)\n        this.batchNode.sprite?.setSiblingIndex(this.depthSprite)\n\n        this.listName.forEach((name, idx) => {\n            const depth = this.depthNames[idx]\n            if (depth === undefined) {\n                console.warn('BatchNodes: depth is undefined', name, idx, depth)\n                return\n            }\n\n            this.batchNode[name]?.setSiblingIndex(depth)\n        })\n    }\n\n    private createGlobalNodes(node: Node): void {\n        if (!this.batchAllNodes) return\n\n        const batchNode = new Node('GlobalBatchNode')\n        batchNode.active = true\n\n        this.batchNode.node = batchNode\n\n        node.addChild(batchNode)\n    }\n\n    private createGlobalNameNodes(node: Node): void {\n        if (!this.batchByName) return\n\n        for (const name of this.listName) {\n            if (this.batchNode[name]) continue\n\n            const batchNode = new Node(name)\n            batchNode.active = true\n\n            this.batchNode[name] = batchNode\n\n            node.addChild(batchNode)\n        }\n    }\n\n    private createGlobalLabelNode(node: Node): void {\n        if (!this.batchLabel) return\n\n        const labelNode = new Node('GlobalLabelNode')\n        labelNode.active = true\n        this.batchNode.label = labelNode\n\n        node.addChild(labelNode)\n    }\n\n    private createGlobalSpriteNode(node: Node): void {\n        if (!this.batchSprite) return\n\n        const spriteNode = new Node('GlobalSpriteNode')\n        spriteNode.active = true\n\n        this.batchNode.sprite = spriteNode\n\n        node.addChild(spriteNode)\n    }\n\n    private saveOriginalParents(): void {\n        const componentChildren = [...this.labelChildren, ...this.spriteChildren]\n        const nodeChildren = this.nameChildren\n\n        for (const child of componentChildren) {\n            if (child.node.parent) {\n                this.handleActiveChange(child.node)\n                this.originalParents[child.uuid] = child.node.parent\n            }\n        }\n\n        for (const child of nodeChildren) {\n            if (child.parent) {\n                this.handleActiveChange(child)\n                this.originalParents[child.uuid] = child.parent\n            }\n        }\n    }\n\n    private saveOriginalChildren(node: Node): void {\n        const children = node.children\n\n        for (const child of children) {\n            this.saveLabelChildren(child)\n            this.saveSpriteChildren(child)\n            this.saveNodeChildrenByName(child)\n            this.saveNodeChildrenByType(child)\n        }\n\n        this.saveOriginalParents()\n    }\n\n    private saveLabelChildren(node: Node): void {\n        if (!this.batchLabel) return\n\n        let childLabels = node.getComponentsInChildren(Label)\n\n        const cacheModeMap: Record<string, CacheMode> = {\n            none: Label.CacheMode.NONE,\n            char: Label.CacheMode.CHAR,\n            bitmap: Label.CacheMode.BITMAP,\n        }\n\n        const cacheMode = cacheModeMap[this.typeLabel]\n\n        if (cacheMode) {\n            childLabels = childLabels.filter((label) => label.cacheMode === cacheMode)\n        }\n\n        if (childLabels.length === 0) return\n\n        this.labelChildren.push(...childLabels)\n    }\n\n    private saveSpriteChildren(node: Node): void {\n        if (!this.batchSprite) return\n\n        const childSprites = node.getComponentsInChildren(Sprite)\n\n        if (childSprites.length === 0) return\n\n        this.spriteChildren.push(...childSprites)\n    }\n\n    private saveNodeChildrenByName(node: Node): void {\n        if (!this.batchByName) return\n\n        for (const child of node.children) {\n            if (A.has(this.listName, child.name)) {\n                this.nameChildren.push(child)\n            } else {\n                this.saveNodeChildrenByName(child)\n            }\n        }\n    }\n\n    private saveNodeChildrenByType(node: Node, depth = 0): void {\n        if (!this.batchAllNodes) return\n\n        const nodes = node.getComponentsInChildren(Component)\n        this.allChildren.push(...nodes)\n\n        if (this.batchDepth < 1 || depth >= this.batchDepth) return\n\n        for (const child of this.allChildren) {\n            this.saveNodeChildrenByType(child.node, this.batchDepth)\n        }\n    }\n\n    public onAfterUpdate = (): void => {\n        if (!this.isInited) return\n        this.hierarchyChildren()\n    }\n\n    private onAfterRender = (): void => {\n        if (!this.isInited) return\n        this.restoreOriginalChildren()\n    }\n\n    private hierarchyChildren(): void {\n        const updateParent = (child: Component, parent: Node | undefined): void => {\n            if (!child.node.isValid || !child.node.activeInHierarchy || !parent || child.node.isChildOf(parent)) return\n            child.node.setParent(parent, true)\n            child.node.layer = Layers.Enum.UI_2D\n        }\n\n        const skipNodes = ['GlobalLabelNode', 'GlobalSpriteNode', 'GlobalBatchNode']\n\n        for (const label of this.labelChildren) {\n            updateParent(label, this.batchNode.label)\n        }\n\n        for (const sprite of this.spriteChildren) {\n            updateParent(sprite, this.batchNode.sprite)\n        }\n\n        for (const child of this.allChildren) {\n            updateParent(child, this.batchNode.node)\n        }\n\n        // sort by type of component\n        this.allChildren.sort((a, b) => a.constructor.name.localeCompare(b.constructor.name))\n\n        // sort label by cacheMode\n        this.labelChildren.sort((a, b) => a.cacheMode - b.cacheMode)\n\n        for (const child of this.nameChildren) {\n            if (!child.isValid || !child.activeInHierarchy || !child.isTransformDirty()) continue\n\n            const opacity = child.getComponent(UIOpacity)\n            if (opacity && opacity.opacity < 1) continue\n\n            // Skip specific nodes\n            if (A.has(skipNodes, child.name)) continue\n\n            // Update parent for Node type\n            const batchNode = this.batchNode[child.name]\n            if (!batchNode) continue\n\n            if (!child.isChildOf(batchNode)) {\n                child.setParent(batchNode, true)\n                child.layer = Layers.Enum.UI_2D\n            }\n        }\n    }\n\n    private restoreOriginalChildren(): void {\n        const children = [...this.labelChildren, ...this.spriteChildren]\n        if (children.length > 0) {\n            for (const child of children) {\n                const parent = this.originalParents[child.uuid]\n                if (!parent) continue\n\n                if (child.node.isChildOf(parent)) continue\n\n                child.node.setParent(parent, true)\n            }\n        }\n\n        for (const child of this.nameChildren) {\n            const parent = this.originalParents[child.uuid]\n            if (!parent) continue\n\n            if (child.isChildOf(parent)) continue\n\n            child.setParent(parent, true)\n        }\n    }\n}\n","import {\n    CCInteger,\n    CCString,\n    type CacheMode,\n    Component,\n    Director,\n    Label,\n    Layers,\n    Node,\n    Sprite,\n    _decorator,\n    director,\n} from 'cc'\nconst { ccclass, executionOrder, property } = _decorator\n\nconst {\n    Utils: { Array: A, Object: O },\n} = Ludex\n\ninterface BatchNodes {\n    [key: string]: Node\n}\n\ninterface NodeSets {\n    [key: string]: Node[]\n}\n\n@ccclass('BatchNodesV2')\n@executionOrder(99999)\nexport class BatchNodesV2 extends Component {\n    @property({ group: 'Batch Settings' })\n    private batchByName = false\n\n    @property({\n        type: [CCString],\n        group: 'Batch Settings',\n        visible: function (this: BatchNodesV2) {\n            return this.batchByName\n        },\n    })\n    private listName: string[] = []\n\n    @property({\n        type: [CCInteger],\n        group: 'Batch Settings',\n        visible: function (this: BatchNodesV2) {\n            return this.batchByName\n        },\n    })\n    private depthNames: number[] = []\n\n    @property({ group: 'Label Settings' })\n    private batchLabel = false\n\n    @property({\n        group: 'Label Settings',\n        visible: function (this: BatchNodesV2) {\n            return this.batchLabel\n        },\n    })\n    private typeLabel: 'all' | 'char' | 'bitmap' | 'none' = 'char'\n\n    @property({\n        group: 'Label Settings',\n        visible: function (this: BatchNodesV2) {\n            return this.batchLabel\n        },\n    })\n    private depthLabel = 1\n\n    private get depthLabelBitmap(): number {\n        return this.depthLabel\n    }\n\n    private get depthLabelChar(): number {\n        return this.depthLabel + 1\n    }\n\n    private get depthLabelNone(): number {\n        return this.depthLabel + 2\n    }\n\n    @property({ group: 'Sprite Settings' })\n    private batchSprite = false\n\n    @property({\n        group: 'Sprite Settings',\n        visible: function (this: BatchNodesV2) {\n            return this.batchSprite\n        },\n    })\n    private depthSprite = 0\n\n    private batchNodes: BatchNodes = {}\n    private originalParents: { [key: string]: Node } = {}\n    private labelNodes: Node[] = []\n    private spriteNodes: Node[] = []\n    private namedNodes: NodeSets = {}\n    private isInitialized = false\n\n    private labelNodesByType = {\n        bitmap: [] as Node[],\n        char: [] as Node[],\n        none: [] as Node[],\n    }\n\n    private isEventListenerSetup = false\n\n    private onAfterUpdate = (): void => {\n        if (!this.isInitialized) return\n        this.batchActiveNodes()\n    }\n\n    private onAfterRender = (): void => {\n        if (!this.isInitialized) return\n        this.restoreNodes()\n    }\n\n    protected onLoad(): void {\n        if (!this.enabled) return\n        this.initializeDataStructures()\n    }\n\n    protected start(): void {\n        if (!this.enabled) return\n        this.initialize()\n    }\n\n    protected onEnable(): void {\n        if (!this.isEventListenerSetup) {\n            this.setupEventListeners()\n            this.isEventListenerSetup = true\n        }\n    }\n\n    protected onDisable(): void {\n        if (this.isEventListenerSetup) {\n            this.removeEventListeners()\n            this.isEventListenerSetup = false\n        }\n        this.restoreNodes()\n    }\n\n    protected onDestroy(): void {\n        this.removeEventListeners()\n        this.restoreNodes()\n        this.clearData()\n    }\n\n    private initializeDataStructures(): void {\n        this.batchNodes = {}\n        this.originalParents = {}\n        this.labelNodes = []\n        this.spriteNodes = []\n        this.namedNodes = {}\n        this.labelNodesByType = {\n            bitmap: [],\n            char: [],\n            none: [],\n        }\n    }\n\n    private initialize(): void {\n        if (this.isInitialized) return\n        this.createBatchContainers()\n        this.scanNodes(this.node)\n        this.sortBatchNodes()\n        this.isInitialized = true\n    }\n\n    private clearData(): void {\n        this.batchNodes = {}\n        this.originalParents = {}\n        this.labelNodes = []\n        this.spriteNodes = []\n        this.namedNodes = {}\n        this.labelNodesByType = {\n            bitmap: [],\n            char: [],\n            none: [],\n        }\n        this.isInitialized = false\n    }\n\n    private categorizeNode(node: Node): void {\n        if (!node.parent) return\n\n        this.originalParents[node.uuid] = node.parent\n\n        if (this.batchLabel) {\n            const label = node.getComponent(Label)\n            if (label) {\n                if (this.typeLabel === 'all') {\n                    if (label.cacheMode === Label.CacheMode.BITMAP) {\n                        this.labelNodesByType.bitmap.push(node)\n                    } else if (label.cacheMode === Label.CacheMode.CHAR) {\n                        this.labelNodesByType.char.push(node)\n                    } else {\n                        this.labelNodesByType.none.push(node)\n                    }\n                } else if (this.isValidLabel(label)) {\n                    this.labelNodes.push(node)\n                }\n            }\n        }\n\n        if (this.batchSprite) {\n            const sprite = node.getComponent(Sprite)\n            if (sprite) {\n                this.spriteNodes.push(node)\n            }\n        }\n\n        if (this.batchByName) {\n            const nodeName = node.name\n            if (this.listName.includes(nodeName)) {\n                if (!this.namedNodes[nodeName]) {\n                    this.namedNodes[nodeName] = []\n                }\n                this.namedNodes[nodeName].push(node)\n            }\n        }\n    }\n\n    private isValidLabel(label: Label): boolean {\n        const cacheModeMap: Record<string, CacheMode> = {\n            none: Label.CacheMode.NONE,\n            char: Label.CacheMode.CHAR,\n            bitmap: Label.CacheMode.BITMAP,\n        }\n        return label.cacheMode === cacheModeMap[this.typeLabel]\n    }\n\n    private sortBatchNodes(): void {\n        if (this.batchLabel) {\n            if (this.typeLabel === 'all') {\n                this.batchNodes['label_bitmap']?.setSiblingIndex(this.depthLabelBitmap)\n                this.batchNodes['label_char']?.setSiblingIndex(this.depthLabelChar)\n                this.batchNodes['label_none']?.setSiblingIndex(this.depthLabelNone)\n            } else {\n                const depthMap = {\n                    bitmap: this.depthLabelBitmap,\n                    char: this.depthLabelChar,\n                    none: this.depthLabelNone,\n                }\n                const depth = depthMap[this.typeLabel] || this.depthLabelChar\n                this.batchNodes['label']?.setSiblingIndex(depth)\n            }\n        }\n\n        if (this.batchNodes['sprite']) {\n            this.batchNodes['sprite'].setSiblingIndex(this.depthSprite)\n        }\n\n        for (let i = 0; i < this.listName.length; i++) {\n            const name = this.listName[i]\n            if (!name) continue\n\n            const depth = this.depthNames[i] || 0\n            const node = this.batchNodes[name]\n            if (node) {\n                node.setSiblingIndex(depth)\n            }\n        }\n    }\n\n    private batchNodeArray(nodes: Node[], parent: Node): void {\n        for (let i = 0; i < nodes.length; i++) {\n            const node = nodes[i]\n            if (!node?.isValid || !node.activeInHierarchy) continue\n\n            if (node.parent === parent) continue\n            if (this.isBatchContainer(node)) continue\n\n            if (!node.isTransformDirty()) continue\n\n            if (!this.isParentChainActive(node)) continue\n\n            node.setParent(parent, true)\n            node.layer = Layers.Enum.UI_2D\n        }\n    }\n\n    private isBatchContainer(node: Node): boolean {\n        const containers = O.vals(this.batchNodes)\n        return A.has(containers, node)\n    }\n\n    private isParentChainActive(node: Node): boolean {\n        let currentNode: Node | null = node\n        const rootNode = this.node\n\n        while (currentNode && currentNode !== rootNode) {\n            if (!currentNode.active || !currentNode.isValid) {\n                return false\n            }\n            currentNode = currentNode.parent\n        }\n\n        return currentNode === rootNode\n    }\n\n    private restoreNodes(): void {\n        const restoreNode = (node: Node): void => {\n            const originalParent = this.originalParents[node.uuid]\n            if (!originalParent?.isValid) return\n\n            if (node.parent === originalParent) return\n\n            // if (!node.isTransformDirty()) return\n\n            if (!this.isParentChainActive(originalParent)) return\n\n            node.setParent(originalParent, true)\n        }\n\n        if (this.batchLabel) {\n            if (this.typeLabel === 'all') {\n                for (const type in this.labelNodesByType) {\n                    const nodes = this.labelNodesByType[type as keyof typeof this.labelNodesByType]\n                    for (let i = 0; i < nodes.length; i++) {\n                        const node = nodes[i]\n                        if (!node) continue\n                        restoreNode(node)\n                    }\n                }\n            } else {\n                for (let i = 0; i < this.labelNodes.length; i++) {\n                    const node = this.labelNodes[i]\n                    if (!node) continue\n                    restoreNode(node)\n                }\n            }\n        }\n\n        if (this.batchSprite) {\n            for (let i = 0; i < this.spriteNodes.length; i++) {\n                const node = this.spriteNodes[i]\n                if (!node) continue\n                restoreNode(node)\n            }\n        }\n\n        if (this.batchByName) {\n            for (const name in this.namedNodes) {\n                const nodes = this.namedNodes[name]\n                if (!nodes) continue\n\n                for (let i = 0; i < nodes.length; i++) {\n                    const node = nodes[i]\n                    if (!node) continue\n                    restoreNode(node)\n                }\n            }\n        }\n    }\n\n    private setupEventListeners(): void {\n        director.on(Director.EVENT_AFTER_UPDATE, this.onAfterUpdate)\n        director.on(Director.EVENT_AFTER_RENDER, this.onAfterRender)\n    }\n\n    private removeEventListeners(): void {\n        director.off(Director.EVENT_AFTER_UPDATE, this.onAfterUpdate)\n        director.off(Director.EVENT_AFTER_RENDER, this.onAfterRender)\n    }\n\n    private createBatchContainers(): void {\n        if (this.batchLabel) {\n            if (this.typeLabel === 'all') {\n                const types: ('bitmap' | 'char' | 'none')[] = ['bitmap', 'char', 'none']\n                for (const type of types) {\n                    const labelNode = new Node(`BatchLabel_${type}`)\n                    labelNode.layer = Layers.Enum.UI_2D\n                    this.node.addChild(labelNode)\n                    this.batchNodes[`label_${type}`] = labelNode\n                }\n            } else {\n                const labelNode = new Node('BatchLabel')\n                labelNode.layer = Layers.Enum.UI_2D\n                this.node.addChild(labelNode)\n                this.batchNodes['label'] = labelNode\n            }\n        }\n\n        if (this.batchSprite) {\n            const spriteNode = new Node('BatchSprite')\n            spriteNode.layer = Layers.Enum.UI_2D\n            this.node.addChild(spriteNode)\n            this.batchNodes['sprite'] = spriteNode\n        }\n\n        if (this.batchByName) {\n            for (let i = 0; i < this.listName.length; i++) {\n                const name = this.listName[i]\n                if (!name) continue\n\n                const namedNode = new Node(`Batch_${name}`)\n                namedNode.layer = Layers.Enum.UI_2D\n                this.node.addChild(namedNode)\n                this.batchNodes[name] = namedNode\n                this.namedNodes[name] = []\n            }\n        }\n    }\n\n    private scanNodes(node: Node): void {\n        const children = node.children\n        for (let i = 0; i < children.length; i++) {\n            const child = children[i]\n            if (!child) continue\n\n            this.categorizeNode(child)\n            if (child.children.length > 0) {\n                this.scanNodes(child)\n            }\n        }\n    }\n\n    private batchActiveNodes(): void {\n        if (this.batchLabel) {\n            if (this.typeLabel === 'all') {\n                this.batchNodesByType(this.labelNodesByType.bitmap, 'label_bitmap')\n                this.batchNodesByType(this.labelNodesByType.char, 'label_char')\n                this.batchNodesByType(this.labelNodesByType.none, 'label_none')\n            } else {\n                this.batchNodesByType(this.labelNodes, 'label')\n            }\n        }\n\n        if (this.batchSprite) {\n            this.batchNodesByType(this.spriteNodes, 'sprite')\n        }\n\n        if (this.batchByName) {\n            for (const name in this.namedNodes) {\n                const nodes = this.namedNodes[name]\n                if (!nodes) continue\n\n                const batchParent = this.batchNodes[name]\n                if (batchParent) {\n                    this.batchNodeArray(nodes, batchParent)\n                }\n            }\n        }\n    }\n\n    private batchNodesByType(nodes: Node[], type: string): void {\n        const batchParent = this.batchNodes[type]\n        if (!batchParent) return\n        this.batchNodeArray(nodes, batchParent)\n    }\n}\n","import { Component, _decorator } from 'cc'\nconst { ccclass } = _decorator\n\nconst {\n    Utils: { Browser },\n} = Ludex\nconst { player } = codex\n\n@ccclass('Vibrate')\nexport class Vibrate extends Component {\n    public vibrate(time: number): void {\n        if (!this.isVibrateEnable()) return\n\n        const isSuccess = Browser.vibrate(time)\n\n        if (!isSuccess) {\n            if ('performHapticFeedbackAsync' in GameSDK.extra) {\n                GameSDK.extra.performHapticFeedbackAsync()\n                return\n            }\n\n            console.warn('Vibrate failed')\n        }\n    }\n\n    private isVibrateEnable(): boolean {\n        return !!player.getPlayerSetting('vibrate')\n    }\n}\n","import { Component, Widget, _decorator, find } from 'cc'\nconst { ccclass } = _decorator\n\n@ccclass('WidgetCanvasTarget')\nexport class WidgetCanvasTarget extends Component {\n    public __preload(): void {\n        const widget = this.getComponent(Widget)\n        if (!widget) return\n\n        const canvas = find('Canvas')\n        if (!canvas) return\n\n        widget.target = canvas\n    }\n}\n","import ItemKeys from '../gameplay/constants/ItemKeys'\n\nconst CoinData = {\n    LEVEL_BELOW_5: 10,\n    LEVEL_ABOVE_5: 20,\n    STAR_CHEST: 100,\n    ITEMS: {\n        [ItemKeys.HINT]: 80,\n        [ItemKeys.THUNDER]: 200,\n        [ItemKeys.STORM]: 150,\n        [ItemKeys.PLIERS]: 150,\n    },\n    CONTINUE_GAME: 2000,\n    GET_COIN: 300,\n}\n\nexport default CoinData\n","const DailyRewardsData: Ludex.Plugins.DailyRewards.DailyRewards = {\n    0: {\n        id: 1,\n        type: 'coin',\n        value: 20,\n    },\n    1: {\n        id: 2,\n        type: 'coin',\n        value: 30,\n    },\n    2: {\n        id: 3,\n        type: 'coin',\n        value: 50,\n    },\n    3: {\n        id: 4,\n        type: 'coin',\n        value: 100,\n    },\n    4: {\n        id: 5,\n        type: 'coin',\n        value: 150,\n    },\n    5: {\n        id: 6,\n        type: 'coin',\n        value: 200,\n    },\n    6: {\n        id: 7,\n        type: 'coin',\n        value: 250,\n        items: {\n            hint: 3,\n            thunder: 3,\n            storm: 3,\n            pliers: 3,\n        },\n    },\n}\n\nexport default DailyRewardsData\n","enum Events {\n    UNLOCK_DEV_TOOLS = 'unlock-dev-tools',\n    TRIGGER_UNLOCK_KEY = 'trigger-unlock-key',\n    TRIGGER_RESET_SEQUENCE = 'trigger-reset-sequence',\n}\n\nconst DevTools = {\n    Events,\n    UNLOCK_SEQUENCE: '101013012031',\n}\n\nexport default DevTools\n","const { LeaderboardList } = Ludex.Configs.Leaderboards\n\nconst LeaderboardIds = {\n    DAILY: LeaderboardList[0]?.Id ?? 'daily-leaderboard-id',\n    WEEKLY: LeaderboardList[1]?.Id ?? 'weekly-leaderboard-id',\n}\n\nconst LeaderboardTypes = {\n    DAILY: 'daily',\n    WEEKLY: 'weekly',\n}\ntype LeaderboardType = (typeof LeaderboardTypes)[keyof typeof LeaderboardTypes]\n\nexport { LeaderboardIds, LeaderboardTypes }\nexport type { LeaderboardType }\n","enum TournamentEvents {\n    RELOAD_TOURNAMENT = 'reload-tournament',\n}\n\nexport default TournamentEvents\n","const VibrateStyle = {\n    NORMAL: 'normal',\n}\n\nexport default VibrateStyle\n","class CommonError extends Error {\n    public code: string\n\n    constructor(code: string, message?: string) {\n        super(message)\n        this.code = code\n    }\n}\n\nexport default CommonError\n","import CommonError from './CommonError'\n\nexport default class PlayerHasTournamentError extends CommonError {\n    public playerId: string | number\n    public tournamentId: string | number\n\n    public constructor(playerId: string | number, tournamentId: string | number) {\n        super('PLAYER_HAS_TOURNAMENT', 'Player has a tournament')\n        this.playerId = playerId\n        this.tournamentId = tournamentId\n    }\n}\n","const MapData = {\n    mapOrder: [\n        {\n            id: 1,\n            theme: 'summer',\n            skins: ['fruit'],\n            levelCount: 10,\n        },\n        {\n            id: 2,\n            theme: 'autumn',\n            skins: ['flower'],\n            levelCount: 10,\n        },\n        {\n            id: 3,\n            theme: 'winter',\n            skins: ['tool'],\n            levelCount: 10,\n        },\n        {\n            id: 4,\n            theme: 'summer',\n            skins: ['sport'],\n            levelCount: 10,\n        },\n        {\n            id: 5,\n            theme: 'autumn',\n            skins: ['cosmetics'],\n            levelCount: 10,\n        },\n        {\n            id: 6,\n            theme: 'winter',\n            skins: ['ice-cream'],\n            levelCount: 10,\n        },\n        {\n            id: 7,\n            theme: 'summer',\n            skins: ['cakes'],\n            levelCount: 10,\n        },\n        {\n            id: 8,\n            theme: 'happy-new-year',\n            skins: ['cosmetics', 'car'],\n            levelCount: 10,\n        },\n        {\n            id: 9,\n            theme: 'spring-festival',\n            skins: ['flower', 'ice-cream'],\n            levelCount: 10,\n        },\n        {\n            id: 10,\n            theme: 'tree-planting-festival',\n            skins: ['fruit', 'flower', 'tool'],\n            levelCount: 10,\n        },\n        {\n            id: 11,\n            theme: 'blue-sea-festival',\n            skins: ['sport', 'ice-cream'],\n            levelCount: 10,\n        },\n        {\n            id: 12,\n            theme: 'music-festival',\n            skins: ['cakes', 'cosmetics'],\n            levelCount: 10,\n        },\n        {\n            id: 13,\n            theme: 'harvest-festival',\n            skins: ['fruit', 'flower', 'tool'],\n            levelCount: 10,\n        },\n        {\n            id: 14,\n            theme: 'food-festival',\n            skins: ['cakes', 'ice-cream', 'flower'],\n            levelCount: 10,\n        },\n        {\n            id: 15,\n            theme: 'snow-festival',\n            skins: ['ice-cream', 'sport'],\n            levelCount: 10,\n        },\n        {\n            id: 16,\n            theme: 'light-festival',\n            skins: ['flower', 'cakes'],\n            levelCount: 10,\n        },\n        {\n            id: 17,\n            theme: 'peace-festival',\n            skins: ['flower', 'sport'],\n            levelCount: 10,\n        },\n        {\n            id: 18,\n            theme: 'flower-festival',\n            skins: ['flower', 'fruit'],\n            levelCount: 10,\n        },\n        {\n            id: 19,\n            theme: 'street-festival',\n            skins: ['car', 'ice-cream', 'sport'],\n            levelCount: 10,\n        },\n        {\n            id: 20,\n            theme: 'color-garden',\n            skins: ['cakes', 'fruit'],\n            levelCount: 10,\n        },\n        {\n            id: 21,\n            theme: 'color-festival',\n            skins: ['car', 'cosmetics', 'flower'],\n            levelCount: 10,\n        },\n        {\n            id: 22,\n            theme: 'nature-summer',\n            skins: ['tool', 'sport'],\n            levelCount: 10,\n        },\n        {\n            id: 23,\n            theme: 'snow-mountain',\n            skins: ['cakes', 'ice-cream'],\n            levelCount: 10,\n        },\n        {\n            id: 24,\n            theme: 'ice-festival',\n            skins: ['ice-cream'],\n            levelCount: 10,\n        },\n        {\n            id: 25,\n            theme: 'green-grass-festival',\n            skins: ['flower', 'fruit'],\n            levelCount: 10,\n        },\n        {\n            id: 26,\n            theme: 'community-festival',\n            skins: ['car', 'cakes', 'cosmetics'],\n            levelCount: 10,\n        },\n        {\n            id: 27,\n            theme: 'water-festival',\n            skins: ['sport', 'car'],\n            levelCount: 10,\n        },\n        {\n            id: 28,\n            theme: 'animal-festival',\n            skins: ['flower', 'fruit'],\n            levelCount: 10,\n        },\n        {\n            id: 29,\n            theme: 'lost-festival',\n            skins: ['flower'],\n            levelCount: 10,\n        },\n        {\n            id: 30,\n            theme: 'halloween-festival',\n            skins: ['cakes', 'cosmetics'],\n            levelCount: 10,\n        },\n        {\n            id: 31,\n            theme: 'snow-music-festival',\n            skins: ['ice-cream', 'cosmetics'],\n            levelCount: 10,\n        },\n        {\n            id: 32,\n            theme: 'christmas',\n            skins: ['ice-cream', 'tool', 'cosmetics'],\n            levelCount: 10,\n        },\n        {\n            id: 33,\n            theme: 'spring-flower-festival',\n            skins: ['flower', 'fruit'],\n            levelCount: 10,\n        },\n        {\n            id: 34,\n            theme: 'tet-holiday',\n            skins: ['flower', 'cosmetics', 'fruit'],\n            levelCount: 10,\n        },\n        {\n            id: 35,\n            theme: 'sea-festival',\n            skins: ['car', 'sport'],\n            levelCount: 10,\n        },\n        {\n            id: 36,\n            theme: 'firework-festival',\n            skins: ['cosmetics', 'car', 'flower'],\n            levelCount: 10,\n        },\n        {\n            id: 37,\n            theme: 'halloween-horror',\n            skins: ['cakes', 'cosmetics'],\n            levelCount: 10,\n        },\n        {\n            id: 38,\n            theme: 'mid-autumn',\n            skins: ['flower', 'cakes'],\n            levelCount: 10,\n        },\n        {\n            id: 39,\n            theme: 'christmas-sweet',\n            skins: ['ice-cream', 'cakes', 'sport'],\n            levelCount: 10,\n        },\n        {\n            id: 40,\n            theme: 'new-year-countdown',\n            skins: ['cosmetics', 'car'],\n            levelCount: 10,\n        },\n    ],\n} as const satisfies MapData\n\nexport default MapData\n","import { pseudoRandomRangeInt } from 'cc'\nimport { LeaderboardTypes } from '../constants/Leaderboard'\nimport MapData from '../gameplay/constants/MapData'\nimport ResourcePaths from '../gameplay/constants/ResourcePaths'\nimport type SkinKeys from '../gameplay/constants/SkinKeys'\nimport type ThemeKeys from '../gameplay/constants/ThemeKeys'\nimport ResourceUtils from './ResourceUtils'\n\nconst {\n    Utils: { Function: F },\n} = Ludex\n\nconst { player, storage } = codex\n\nconst DEFAULT_PLAYER_SKIN_PROGRESS = MapData.mapOrder.map(\n    (info) =>\n        ({\n            skins: info.skins,\n            themeId: info.theme,\n            currentProgress: 0,\n            maxProgress: info.levelCount,\n            isLocked: true,\n        }) as PlayerSkinProgress[number],\n)\n\nclass ThemeUtilsCore {\n    protected static inst$: ThemeUtilsCore\n\n    public static get inst() {\n        if (!this.inst$) {\n            this.inst$ = new this()\n        }\n\n        return this.inst$\n    }\n}\n\nclass ThemeUtils extends ThemeUtilsCore {\n    public playerSkinProgress = DEFAULT_PLAYER_SKIN_PROGRESS.map((info) => ({ ...info }))\n\n    // !! Should be called when changing scenes\n    public static init() {\n        const inst = this.inst as ThemeUtils\n\n        inst.initDefaultPlayerSkinProgress()\n        inst.updatePlayerSkinProgress()\n        inst.initDashboardSceneStorage()\n    }\n\n    public initDefaultPlayerSkinProgress() {\n        this.playerSkinProgress = DEFAULT_PLAYER_SKIN_PROGRESS.map((info) => ({ ...info }))\n    }\n\n    protected initDashboardSceneStorage() {\n        const dashboardStorage = storage.getStorage('dashboard')\n        if (dashboardStorage !== null && dashboardStorage !== undefined) {\n            return\n        }\n\n        const currMap = this.getCurrentMapProgressInstance()\n\n        storage.addStorage('dashboard', {\n            lastMapPayload: currMap,\n            numOfMapsPassed: 0,\n            animateToCurrentLevel: false,\n        })\n\n        const collectionStorage = storage.getStorage('collection')\n        if (collectionStorage !== null && collectionStorage !== undefined) {\n            return\n        }\n\n        storage.addStorage('collection', {\n            lastMapPack: currMap.id,\n            animateMapPackUnlock: false,\n        })\n\n        const leaderboardStorage = storage.getStorage('leaderboard_content')\n        if (leaderboardStorage !== null && leaderboardStorage !== undefined) {\n            return\n        }\n\n        storage.addStorage('leaderboard_content', { lastTabOpened: LeaderboardTypes.DAILY, previousScore: -1 })\n\n        const tournamentStorage = storage.getStorage('tournament')\n        if (tournamentStorage !== null && tournamentStorage !== undefined) {\n            return\n        }\n\n        storage.addStorage('tournament', { animateTournamentLeader: false, previousScore: -1 })\n    }\n\n    public static getCurrentMapProgress(): CurrentMapProgressPayload {\n        const inst = this.inst as ThemeUtils\n        return inst.getCurrentMapProgressInstance()\n    }\n\n    protected getCurrentMapProgressInstance(): CurrentMapProgressPayload {\n        // get the furthest skins that is not completed. If all skins are completed, get the last skins\n\n        let currentTheme: ThemeKeys | undefined = undefined\n        let nextTheme: ThemeKeys | undefined = undefined\n        let progress = 0\n        let max = 0\n        let id = 0\n\n        for (let i = 0, count = MapData.mapOrder.length; i < count; i++) {\n            const skin = this.playerSkinProgress[i] as PlayerSkinProgress[number]\n            const mapInfo = MapData.mapOrder[i] as (typeof MapData.mapOrder)[number]\n\n            const nextMapInfo = MapData.mapOrder[i + 1]\n\n            // ! if skin is not found, use the first skin\n            if (skin.currentProgress < skin.maxProgress) {\n                id = mapInfo.id\n                currentTheme = mapInfo.theme\n                nextTheme = nextMapInfo?.theme ?? currentTheme\n                progress = skin.currentProgress\n                max = skin.maxProgress\n                break\n            }\n        }\n\n        if (currentTheme === undefined || nextTheme === undefined) {\n            const lastTheme = MapData.mapOrder[MapData.mapOrder.length - 1] as (typeof MapData.mapOrder)[number]\n\n            id = lastTheme.id\n            currentTheme = lastTheme.theme\n            nextTheme = lastTheme.theme\n            progress = lastTheme.levelCount\n            max = lastTheme.levelCount\n\n            return {\n                id,\n                currentTheme,\n                nextTheme,\n                progress,\n                max,\n            }\n        }\n\n        return {\n            id,\n            currentTheme,\n            nextTheme,\n            progress,\n            max,\n        }\n    }\n\n    public static getUnlockedSkins(): SkinKeys[] {\n        const inst = this.inst as ThemeUtils\n        return inst.getUnlockedSkinsInstance()\n    }\n\n    protected getUnlockedSkinsInstance(): SkinKeys[] {\n        const unlockedSkins: SkinKeys[] = []\n\n        for (const progress of this.playerSkinProgress) {\n            if (!progress.isLocked && progress.skins.length === 1) {\n                const firstSkin = progress.skins[0]\n\n                if (firstSkin) {\n                    unlockedSkins.push(firstSkin)\n                }\n            }\n        }\n\n        return unlockedSkins\n    }\n\n    public static getLevelSkins(level?: number): SkinKeys[] {\n        const inst = this.inst as ThemeUtils\n        return inst.getLevelSkinsInstance(level)\n    }\n\n    protected getLevelSkinsInstance(level?: number): SkinKeys[] {\n        const playerLevel = level ?? 1\n\n        let count = 0\n\n        for (const mapInfo of MapData.mapOrder) {\n            if (count + mapInfo.levelCount >= playerLevel) {\n                return mapInfo.skins\n            }\n\n            count += mapInfo.levelCount\n        }\n\n        const lastMapInfo = MapData.mapOrder[MapData.mapOrder.length - 1] as (typeof MapData.mapOrder)[number]\n        return lastMapInfo.skins\n    }\n\n    public static getLevelTheme(level?: number): ThemeKeys {\n        const inst = this.inst as ThemeUtils\n        return inst.getLevelThemeInstance(level)\n    }\n\n    protected getLevelThemeInstance(level?: number): ThemeKeys {\n        const playerLevel = level ?? 1\n\n        let count = 0\n\n        for (const mapInfo of MapData.mapOrder) {\n            if (count + mapInfo.levelCount >= playerLevel) {\n                return mapInfo.theme\n            }\n\n            count += mapInfo.levelCount\n        }\n\n        const lastMapInfo = MapData.mapOrder[MapData.mapOrder.length - 1] as (typeof MapData.mapOrder)[number]\n        return lastMapInfo.theme\n    }\n\n    public static getThemeSkins(theme: ThemeKeys): SkinKeys[] {\n        const inst = this.inst as ThemeUtils\n        return inst.getThemeSkinsInstance(theme)\n    }\n\n    protected getThemeSkinsInstance(theme: ThemeKeys): SkinKeys[] {\n        for (const mapInfo of MapData.mapOrder) {\n            if (mapInfo.theme === theme) {\n                return mapInfo.skins\n            }\n        }\n\n        return []\n    }\n\n    public static getCollectionUnlockProgress(): CollectionsPayload[] {\n        const inst = this.inst as ThemeUtils\n        return inst.getCollectionUnlockProgressInstance()\n    }\n\n    public static getCurrentUnlockingThemeIndex(): number | null {\n        const collectionsPayloads = this.getCollectionUnlockProgress()\n        if (collectionsPayloads.length === 0) return null\n\n        let currentIndex = 0\n        collectionsPayloads.forEach((element, i) => {\n            const { isLocked } = element\n\n            if (!isLocked) {\n                currentIndex = i\n            }\n        })\n        return currentIndex\n    }\n\n    protected getCollectionUnlockProgressInstance() {\n        const payload: CollectionsPayload[] = []\n\n        for (const progress of this.playerSkinProgress) {\n            payload.push({\n                skins: progress.skins,\n                theme: progress.themeId,\n                progress: progress.currentProgress,\n                max: progress.maxProgress,\n                isLocked: progress.isLocked,\n            })\n        }\n\n        return payload\n    }\n\n    protected updatePlayerSkinProgress() {\n        const gameData = player.getGameData()\n        const levelProgress = (gameData?.level ?? 1) - 1\n\n        let count = levelProgress\n\n        const playerFirstSkin = this.playerSkinProgress[0] as PlayerSkinProgress[number]\n\n        //? unlock first skin\n        playerFirstSkin.isLocked = false\n\n        for (let i = 0, length = MapData.mapOrder.length; i < length; i++) {\n            const mapInfo = MapData.mapOrder[i]\n            if (!mapInfo) continue\n\n            if (count <= 0) continue\n\n            const progress = count - mapInfo.levelCount >= 0 ? mapInfo.levelCount : count\n\n            count -= progress\n\n            this.increaseProgress(i, progress)\n        }\n    }\n\n    protected increaseProgress(index: number, progress: number) {\n        if (index < 0 || index >= this.playerSkinProgress.length) {\n            throw new Error('increaseProgress: index out of range')\n        }\n\n        const playerSkinProgress = this.playerSkinProgress[index] as PlayerSkinProgress[number]\n\n        const { currentProgress, maxProgress } = playerSkinProgress\n\n        const newProgress = currentProgress + progress > maxProgress ? maxProgress : currentProgress + progress\n\n        if (newProgress > 0) {\n            // unlock current skin\n            playerSkinProgress.isLocked = false\n        }\n\n        if (newProgress === maxProgress) {\n            // unlock next skin\n            const mapInfo = MapData.mapOrder\n            const nextSkin = mapInfo[index + 1]?.skins\n\n            if (nextSkin) {\n                const playerSkinProgress = this.playerSkinProgress[index + 1] as PlayerSkinProgress[number]\n                playerSkinProgress.isLocked = false\n            }\n        }\n\n        playerSkinProgress.currentProgress = newProgress\n        playerSkinProgress.maxProgress = maxProgress\n    }\n\n    public static preloadLevelSpriteFrames(level: number): void {\n        const skins = this.getLevelSkins(level)\n        this.preloadSkinsFrames(skins)\n    }\n\n    public static preloadSkinsFrames(skins: SkinKeys[]): void {\n        for (const skin of skins) {\n            this.preloadSkinFrames(skin)\n        }\n    }\n\n    public static preloadSkinFrames(skin: SkinKeys): void {\n        const path = `${ResourcePaths.TILE_SKIN_FOLDER}/${skin}`\n        ResourceUtils.loadSpriteFramesDirAsync(path)\n    }\n\n    public static async loadLevelSpriteFrames(level: number, themeId?: ThemeKeys, seed?: number) {\n        const randomRangeInt = F.rng({\n            generate: (seed, minInc: number, maxExc: number) => pseudoRandomRangeInt(seed, minInc, maxExc),\n            generateSeed: (seed) => pseudoRandomRangeInt(seed, 0, 1e6),\n            seed: seed ?? Date.now(),\n        })\n\n        if (themeId !== undefined) {\n            const useRequestedThemeId = randomRangeInt(0, 2) === 0\n            if (useRequestedThemeId) {\n                const skins = this.getThemeSkins(themeId)\n                const selected = skins[randomRangeInt(0, skins.length)] as (typeof skins)[number]\n                return await this.loadSkinFrames(selected)\n            }\n        }\n\n        const useRandomUnlockedSkin = randomRangeInt(0, 2) === 0\n        if (useRandomUnlockedSkin) {\n            const unlockedSkins = this.getUnlockedSkins()\n            if (unlockedSkins.length > 1) {\n                const selected = unlockedSkins[\n                    randomRangeInt(0, unlockedSkins.length)\n                ] as (typeof unlockedSkins)[number]\n                return await this.loadSkinFrames(selected)\n            }\n        }\n\n        const levelSkins = this.getLevelSkins(level)\n\n        if (levelSkins.length === 0) throw new Error(`No skins found for level ${level}`)\n        const loadedSkins = await this.loadSkinsFrames(levelSkins)\n        const selected = loadedSkins[randomRangeInt(0, loadedSkins.length)] as (typeof loadedSkins)[number]\n        return selected\n    }\n\n    public static loadSkinFrames(skin: SkinKeys) {\n        const path = `${ResourcePaths.TILE_SKIN_FOLDER}/${skin}`\n        return ResourceUtils.loadSpriteFramesDirAsync(path)\n    }\n\n    public static async loadSkinsFrames(skins: SkinKeys[]) {\n        const ps = skins.map(this.loadSkinFrames)\n        const rs = await F.allSettled(ps)\n        const { successes, failures } = F.unwrapAllSettled(rs)\n        if (failures.length > 0) throw new Error(`Failed to load skins frames: ${failures.join(', ')}`)\n        return successes\n    }\n}\n\nexport default ThemeUtils\n","import { math } from 'cc'\nimport PlayerHasTournamentError from '../exceptions/PlayerHasTournamentError'\nimport ThemeUtils from './ThemeUtils'\n\nconst { match, player, leaderboard } = codex\n\nconst {\n    Utils: { Object: O, Valid: V, String: S, Array: A },\n    Match: { Modes },\n} = Ludex\n\ntype SetProfilePayload = Ludex.Plugins.Match.Handler.Payload.SetProfile\ntype SetCustomDataMatchPayload = Ludex.Plugins.Match.Handler.Payload.SetCustomDataMatch\ntype SetLeaderboardScorePayload = Ludex.Plugins.Match.Handler.Payload.SetLeaderboardScore\n\ntype CreateTournamentPayload = Ludex.Plugins.Match.Concrete.Payload.Tournament.Create\n\ntype FinishChallengePayload = Ludex.Plugins.Match.Concrete.Payload.Challenge.Finish\n\nconst PREFIX_TOURNAMENT_TITLES = [\n    'Champion',\n    'Ultimate',\n    'Grand',\n    'Elite',\n    \"Master's\",\n    'Premier',\n    'Epic',\n    \"Pro's\",\n    'Supreme',\n    'Legendary',\n    'Victory',\n    'Prime',\n    \"Titan's\",\n    \"Hero's\",\n    \"Star's\",\n]\n\nclass MatchUtilsCore {\n    protected static inst$: MatchUtilsCore\n\n    public static get inst() {\n        if (!this.inst$) {\n            this.inst$ = new this()\n        }\n\n        return this.inst$\n    }\n\n    public static async startMatchAsync(mode?: string): Promise<void> {\n        // ? This method is called when the player starts a new game.\n        // ? If no input mode, the current match mode will be used (Replaying game)\n        try {\n            const matchMode = mode ?? this.getMatchMode()\n\n            switch (matchMode) {\n                case Modes.SINGLE:\n                    await this.inst.processStartSingleModeAsync$()\n                    break\n                case Modes.TOURNAMENT:\n                    await this.inst.processStartTournamentModeAsync$()\n                    break\n                case Modes.CHALLENGE_FRIEND:\n                    await this.inst.processStartChallengeModeAsync$()\n                    break\n                /* case Modes.MATCHING_GROUP:\n                    await this.inst.processStartMatchingGroupModeAsync()\n                    break */\n                default:\n                    // ? Default to single mode\n                    if (matchMode) {\n                        await this.inst.processStartGameModeAsync$(matchMode)\n                    } else {\n                        await this.inst.processStartSingleModeAsync$()\n                    }\n            }\n        } catch (error) {\n            console.warn('startMatchAsync', error)\n        }\n    }\n\n    public static async setProfileMatchDataAsync(payload: SetProfilePayload): Promise<void> {\n        try {\n            await match.handler.setProfileData(payload)\n        } catch (error) {\n            console.warn('setProfileMatchDataAsync', error)\n        }\n    }\n\n    public static async setMatchCustomDataAsync(payload: SetCustomDataMatchPayload): Promise<void> {\n        try {\n            // ? This not set to extraData, only set to customData\n            await match.handler.setMatchCustomData(payload)\n        } catch (error) {\n            console.warn('setMatchCustomDataAsync', error)\n        }\n    }\n\n    public static async getMatchCustomDataAsync(): Promise<void> {\n        try {\n            // * This will update match custom data to match state\n            // ? Fetch extraData from match and merge to customData\n            await match.handler.getMatchCustomData()\n        } catch (error) {\n            console.warn('getMatchCustomDataAsync', error)\n        }\n    }\n\n    public static async setLeaderboardScoreAsync(payload: SetLeaderboardScorePayload): Promise<void> {\n        try {\n            await match.handler.setLeaderboardScore(payload)\n        } catch (error) {\n            console.warn('setLeaderboardScoreAsync', error)\n        }\n    }\n\n    public static async finishMatchAsync(payload?: FinishChallengePayload): Promise<void> {\n        // ? This method is called when the player end game, not finish a level.\n        // ? It should clean up the match and reset the game state.\n\n        try {\n            const matchMode = this.getMatchMode()\n\n            switch (matchMode) {\n                case Modes.SINGLE:\n                    await this.inst.processFinishSingleModeAsync$()\n                    break\n                case Modes.TOURNAMENT:\n                    await this.inst.processFinishTournamentModeAsync$()\n                    break\n                case Modes.CHALLENGE_FRIEND:\n                    await this.inst.processFinishChallengeModeAsync$(payload)\n                    break\n                /* case Modes.MATCHING_GROUP:\n                    await this.inst.processFinishGroupModeAsync()\n                    break */\n                default:\n                    if (matchMode) await this.inst.processFinishGameModeAsync$()\n                    // ? Default to single mode\n                    else await this.inst.processFinishSingleModeAsync$()\n            }\n        } catch (error) {\n            console.warn('finishMatchAsync', error)\n        }\n    }\n\n    public static async joinTournamentAsync(tournamentId: string): Promise<void> {\n        const playerId = player.getPlayerId()\n        return match.tournament.join.processAsync({ tournamentId, playerId })\n    }\n\n    public static async continueTournamentAsync(contextId: string): Promise<void> {\n        const playerId = player.getPlayerId()\n        return match.tournament.continue.processAsync({ playerId, contextId })\n    }\n\n    protected processStartSingleModeAsync$ = async (): Promise<void> => {\n        const playerId = player.getPlayerId()\n        return match.single.start.processAsync({ playerId })\n    }\n\n    protected processFinishSingleModeAsync$ = async (): Promise<void> => {\n        return match.single.finish.processAsync()\n    }\n\n    protected processStartTournamentModeAsync$ = async (): Promise<void> => {\n        const playerId = player.getPlayerId()\n        const contextId = GameSDK.context.getID()\n\n        return match.tournament.continue.processAsync({\n            playerId,\n            contextId,\n        })\n    }\n\n    protected processFinishTournamentModeAsync$ = async (): Promise<void> => {\n        const playerId = player.getPlayerId()\n\n        // ? Get best score from player or from leaderboard of this tournament\n        const bestScore = player.getBestScore()\n\n        return match.tournament.finish.processAsync({\n            playerId,\n            bestScore,\n        })\n    }\n\n    protected processStartChallengeModeAsync$ = async (): Promise<void> => {\n        try {\n            // ? Try to continue current challenge match\n            return this.processContinueChallengeAsync$()\n        } catch (error) {\n            if (!O.hasOwn(error, 'name') || V.isString(error.name)) throw error\n\n            // ? Start a new one with new opponent\n            if (error.name === 'PlayerHasFinishedMatch') {\n                return this.processChallengeNewOpponentAsync$()\n            }\n\n            // ? In same match, but not join in\n            if (error.name === 'PlayerNotJoinInMatch') {\n                return this.processJoinChallengeAsync$()\n            }\n        }\n    }\n\n    protected processFinishChallengeModeAsync$ = async (payload?: FinishChallengePayload): Promise<void> => {\n        return match.challenge.finish.processAsync(payload)\n    }\n\n    protected processContinueChallengeAsync$ = async (): Promise<void> => {\n        const { id, customData } = this.getMatchState$()\n        const { playerId, opponentId } = customData\n\n        if (!V.isString(id)) {\n            throw new Error('Invalid match id')\n        }\n\n        if (!V.isString(playerId)) {\n            throw new Error('Invalid player id')\n        }\n\n        if (!V.isString(opponentId)) {\n            throw new Error('Invalid opponent id')\n        }\n\n        const contextId = GameSDK.context.getID()\n        if (!contextId) {\n            throw new Error('Cannot get contextId')\n        }\n\n        return match.challenge.continue.processAsync({\n            matchId: id,\n            contextId,\n            playerId,\n            opponentId,\n        })\n    }\n\n    protected processChallengeNewOpponentAsync$ = async (): Promise<void> => {\n        const friendIds = player.getConnectedPlayerIds(100, 0)\n        const rand = Math.floor(Math.random() * friendIds.length)\n\n        const playerId = player.getPlayerId()\n        const opponentId = friendIds[rand]\n\n        if (!V.isString(opponentId) || V.isEmpty(opponentId)) {\n            throw new Error('Invalid opponent id')\n        }\n\n        return match.challenge.friend.processAsync({ playerId, opponentId })\n    }\n\n    protected processJoinChallengeAsync$ = async (): Promise<void> => {\n        const { id, customData } = this.getMatchState$()\n        const { playerId, opponentId } = customData\n\n        if (!V.isString(id)) {\n            throw new Error('Invalid match id')\n        }\n\n        if (!V.isString(playerId)) {\n            throw new Error('Invalid player id')\n        }\n\n        if (!V.isString(opponentId)) {\n            throw new Error('Invalid opponent id')\n        }\n\n        return match.challenge.join.processAsync({ matchId: id, playerId, opponentId })\n    }\n\n    protected processStartGameModeAsync$ = async (gameMode: string): Promise<void> => {\n        const playerId = player.getPlayerId()\n\n        return match.strategy.start.processAsync({\n            matchId: '123456',\n            gameMode,\n            playerId,\n        })\n    }\n\n    protected processFinishGameModeAsync$ = async (): Promise<void> => {\n        return match.strategy.finish.processAsync({\n            postGlobalLeaderboard: true,\n            setPlayerBestScore: true,\n        })\n    }\n\n    protected getMatchState$ = (): Ludex.Plugins.Match.State | never => {\n        const matchState = match.getMatchState()\n        if (!matchState) {\n            throw new Error('Match state not found')\n        }\n\n        return matchState\n    }\n\n    public static getMatchMode(): string | null {\n        const matchState = this.inst.getMatchState$()\n\n        if (!V.isString(matchState.mode)) {\n            return null\n        }\n\n        return matchState.mode\n    }\n\n    public static getMatchCustomData() {\n        const matchState = this.inst.getMatchState$()\n\n        if (!V.isObject(matchState.customData)) {\n            return null\n        }\n\n        return matchState.customData\n    }\n\n    public static updateMatchStateAfterLevelFinish(level: number, score: number): void {\n        this.setMatchCustomDataAsync({ level, score })\n\n        const playerId = player.getPlayerId()\n        this.setProfileMatchDataAsync({ id: playerId, score })\n    }\n    protected createTournamentName = (): string => {\n        const prefix_tournament_title =\n            PREFIX_TOURNAMENT_TITLES[math.randomRangeInt(0, PREFIX_TOURNAMENT_TITLES.length - 1)]\n        const tournamentName = `${prefix_tournament_title} Tournament`\n        const normalizedName = S.removeDiacritics(tournamentName)\n        return `${normalizedName}`\n    }\n\n    protected createTournamentPayload(): CreateTournamentPayload {\n        const leaderboardId = S.generateObjectId()\n\n        const playerId = player.getPlayerId()\n        const { name: playerName } = player.getPlayer()\n\n        const gameData = player.getGameData()\n        const level = gameData?.level ?? 1\n        const themeId = ThemeUtils.getLevelTheme(level)\n\n        const matchData = this.getMatchState$()\n        const { profiles = {} } = matchData\n        const score = profiles[playerId]?.score ?? 0\n\n        return {\n            score,\n            playerId,\n            mode: Modes.TOURNAMENT,\n            name: this.createTournamentName(),\n            leaderboardId,\n            payload: {\n                playerId,\n                playerName,\n                leaderboardId,\n                themeId,\n            },\n        }\n    }\n\n    protected getTournamentsAsync$ = async (): Promise<GameSDK.Tournament[]> => {\n        try {\n            return await GameSDK.tournament.getTournamentsAsync()\n        } catch (error) {\n            console.error(error)\n            return []\n        }\n    }\n\n    public static async processCreateTournamentAsync(): Promise<void> {\n        const tournaments = await this.inst.getTournamentsAsync$()\n\n        const playerTournament = A.search(tournaments, (tournament) => {\n            const payloadStr = tournament.getPayload()\n            const payload = JSON.parse(V.isString(payloadStr) ? payloadStr : '{}')\n            const isDefault = tournament.getTournamentType() === 'DEFAULT'\n            return isDefault && payload.playerId === player.getPlayerId()\n        })\n\n        if (playerTournament) {\n            throw new PlayerHasTournamentError(player.getPlayerId(), playerTournament.getID())\n        }\n\n        const tournamentCreatePayload = this.inst.createTournamentPayload()\n\n        player.setGameData({\n            lastCreateTournamentShown: Date.now(),\n        })\n\n        await match.tournament.create.processAsync(tournamentCreatePayload)\n\n        const { leaderboardId } = tournamentCreatePayload\n\n        leaderboard.addLeaderboard({\n            name: leaderboardId,\n            type: 'tournament',\n            autoSortRank: true,\n            leaderboardId,\n        })\n    }\n}\n\nclass MatchUtils extends MatchUtilsCore {\n    protected createTournamentPayload(): CreateTournamentPayload {\n        return super.createTournamentPayload()\n    }\n}\n\nexport default MatchUtils\n","const FailKeys = {\n    TIME: 'time',\n    BOMB: 'bomb',\n} as const\n\nexport default FailKeys\nexport type FailKey = (typeof FailKeys)[keyof typeof FailKeys]\n","const GameModes = {\n    CUSTOM: 'custom',\n} as const\n\nexport default GameModes\nexport type GameMode = (typeof GameModes)[keyof typeof GameModes]\n","import { _decorator, Component, sys } from 'cc'\n\nconst { ccclass } = _decorator\n\n@ccclass('InputController')\nexport class InputController extends Component {\n    // private pointerDownOutSideCanvas = false\n\n    public onLoad(): void {\n        this.listenInputEvents()\n    }\n\n    private listenInputEvents() {\n        if (sys.os === sys.OS.WINDOWS || sys.os === sys.OS.OSX) {\n            document.addEventListener('pointerup', this.handleElementPointerUp)\n            document.addEventListener('pointerdown', this.handleElementPointerDown)\n        }\n    }\n\n    private handleElementPointerDown = (): void => {\n        // this.pointerDownOutSideCanvas = true\n    }\n\n    private handleElementPointerUp = (_ev: PointerEvent): void => {\n        // console.log(this.pointerDownOutSideCanvas)\n        // this.pointerDownOutSideCanvas = false\n    }\n\n    public onDestroy() {\n        if (sys.os === sys.OS.WINDOWS || sys.os === sys.OS.OSX) {\n            document.removeEventListener('pointerup', this.handleElementPointerUp)\n            document.removeEventListener('pointerdown', this.handleElementPointerDown)\n        }\n    }\n}\n","const Direction = {\n    Up: { x: 0, y: 1 },\n    Down: { x: 0, y: -1 },\n    Left: { x: -1, y: 0 },\n    Right: { x: 1, y: 0 },\n} as const\n\ntype DirectionType = (typeof Direction)[keyof typeof Direction]\n\nexport { Direction }\nexport type { DirectionType }\n","const LevelGravity = {\n    FallDown: 'fall-down',\n    FlyUp: 'fly-up',\n    PushLeft: 'push-left',\n    PushRight: 'push-right',\n    PutColumnMiddle: 'put-columns-middle',\n    PutRowMiddle: 'put-rows-middle',\n} as const\n\nconst LevelGravities = [\n    LevelGravity.FallDown,\n    LevelGravity.FlyUp,\n    LevelGravity.PushLeft,\n    LevelGravity.PushRight,\n    LevelGravity.PutColumnMiddle,\n    LevelGravity.PutRowMiddle,\n] as const\n\nconst VerticalLevelGravities = [LevelGravity.FallDown, LevelGravity.FlyUp, LevelGravity.PutRowMiddle] as const\nconst HorizontalLevelGravities = [LevelGravity.PushLeft, LevelGravity.PushRight, LevelGravity.PutColumnMiddle] as const\n\ntype VerticalLevelGravity = (typeof VerticalLevelGravities)[number]\ntype HorizontalLevelGravity = (typeof HorizontalLevelGravities)[number]\n\ntype LevelGravity = (typeof LevelGravity)[keyof typeof LevelGravity]\n\nexport default LevelGravity\nexport {\n    HorizontalLevelGravities,\n    LevelGravities,\n    VerticalLevelGravities,\n    type HorizontalLevelGravity,\n    type LevelGravity,\n    type VerticalLevelGravity,\n}\n","const { player } = codex\n\nclass CustomModeUtils {\n    protected static inst$: CustomModeUtils\n\n    public static get inst() {\n        if (!this.inst$) {\n            this.inst$ = new this()\n        }\n        return this.inst$\n    }\n\n    public static getCustomBonus(): number {\n        const { time, difficulty, bombs, ads } = this.getCustomData()\n\n        return (\n            this.getTimeBonus(time) +\n            this.getDifficultyBonus(difficulty) +\n            this.getBombsBonus(bombs) +\n            this.getExtraAdsBonus(ads)\n        )\n    }\n\n    public static getCustomData(): { time: number; difficulty: number; bombs: number; ads: boolean } {\n        const { custom = { time: 4, difficulty: 1, bombs: 0, ads: false } } = player.getGameData() ?? {}\n\n        return custom\n    }\n\n    protected static getTimeBonus(timeIndex: number): number {\n        return (timeIndex - 4) * 5\n    }\n\n    protected static getDifficultyBonus(difficultyIndex: number): number {\n        if (difficultyIndex === 3) return 30\n        return (difficultyIndex - 1) * 20\n    }\n\n    protected static getBombsBonus(bombIndex: number): number {\n        return bombIndex * 5\n    }\n\n    protected static getExtraAdsBonus(extraAds: boolean): number {\n        return extraAds ? 75 : 0\n    }\n}\n\nexport default CustomModeUtils\n","const CustomGameData = {\n    time: [40, 30, 20, 10, 0, -10, -20, -30, -40],\n    difficulty: ['Easy', 'Normal', 'Hard', 'Extreme'],\n    bombs: [0, 1, 2, 3, 4],\n} as const\n\nconst CustomModeLevel = 13\n\nexport default CustomGameData\nexport { CustomModeLevel }\n","const SkinKeys = {\n    CAKES: 'cakes',\n    CAR: 'car',\n    COSMETIC: 'cosmetics',\n    FLOWER: 'flower',\n    FRUIT: 'fruit',\n    ICE_CREAM: 'ice-cream',\n    SPORT: 'sport',\n    TOOL: 'tool',\n} as const\n\ntype SkinKeys = (typeof SkinKeys)[keyof typeof SkinKeys]\nexport default SkinKeys\n","type RandomizedLevelDataConfig = {\n    loopLevelDifficulty: number\n    timeRange: [number, number]\n    colorsRange: [number, number]\n    specials: {\n        bombRange: [number, number]\n        rocketRange: [number, number]\n    }\n    rules: {\n        maxSpaceOfPairRange: [number, number]\n        addRandomTilesPerMoveRange: [number, number]\n    }\n    columnsRange: [number, number]\n    rowsRange: [number, number]\n}\n\nexport const RandomizedLevelDataConfig: RandomizedLevelDataConfig = {\n    loopLevelDifficulty: 5,\n    timeRange: [90, 200],\n    colorsRange: [6, 30],\n    specials: {\n        bombRange: [1, 8],\n        rocketRange: [0, 2],\n    },\n    rules: {\n        maxSpaceOfPairRange: [2, 10],\n        addRandomTilesPerMoveRange: [0, 8],\n    },\n    columnsRange: [5, 7],\n    rowsRange: [6, 12],\n}\n","import { HorizontalLevelGravities, LevelGravities, VerticalLevelGravities } from '../../../../constants/LevelGravity'\nimport { RandomizedLevelDataConfig } from '../../constants/RandomizedLevelDataConfig'\n\ntype DifficultyGenerator = (t: number) => number\ntype RangeReducer = (t: number) => [number, number]\n\nconst createRangeReducerRight =\n    (a: number, b: number): RangeReducer =>\n    (t: number) => {\n        if (t <= 0) return [a, b]\n        if (t >= 1) return [b, b]\n        return [Math.floor(a + t * (b - a)), b]\n    }\n\nconst createRangeReducerLeft = (b: number, a: number): RangeReducer => {\n    const l = createRangeReducerRight(a, b)\n    return (t: number) => l(t)\n}\n\nconst getRandomIntInclusive = (min: number, max: number) => {\n    const newMin = Math.ceil(min)\n    const newMax = Math.floor(max)\n    return Math.floor(Math.random() * (newMax - newMin + 1)) + newMin\n}\n\nconst createRangedReducingGenerator = (rangeReducer: RangeReducer): DifficultyGenerator => {\n    return (t: number) => {\n        return getRandomIntInclusive(...rangeReducer(t))\n    }\n}\n\nconst createDifficultyGenerator = (loopAfter: number) => (level: number) => {\n    if (loopAfter <= 1) return 0\n    return ((level - 1) % loopAfter) / (loopAfter - 1)\n}\n\nconst generateGravity = () => {\n    const dontPickAny = Math.random() > 0.75\n    if (dontPickAny) return 'normal'\n\n    const pickOne = Math.random() > 0.5\n    if (pickOne) return LevelGravities[Math.floor(Math.random() * LevelGravities.length)] as string\n\n    const vertical = VerticalLevelGravities[Math.floor(Math.random() * VerticalLevelGravities.length)] as string\n    const horizontal = HorizontalLevelGravities[Math.floor(Math.random() * HorizontalLevelGravities.length)] as string\n\n    return [vertical, horizontal].join('-')\n}\n\nconst LevelDataGenerators = {\n    generateDifficulty: createDifficultyGenerator(RandomizedLevelDataConfig.loopLevelDifficulty),\n    generateTime: createRangedReducingGenerator(createRangeReducerLeft(...RandomizedLevelDataConfig.timeRange)),\n    generateColors: createRangedReducingGenerator(createRangeReducerRight(...RandomizedLevelDataConfig.colorsRange)),\n    specials: {\n        generateBomb: createRangedReducingGenerator(\n            createRangeReducerRight(...RandomizedLevelDataConfig.specials.bombRange),\n        ),\n        generateRocket: createRangedReducingGenerator(\n            createRangeReducerRight(...RandomizedLevelDataConfig.specials.rocketRange),\n        ),\n    },\n    rules: {\n        generateMaxSpaceOfPair: createRangedReducingGenerator(\n            createRangeReducerRight(...RandomizedLevelDataConfig.rules.maxSpaceOfPairRange),\n        ),\n        generateAddRandomTilesPerMove: createRangedReducingGenerator(\n            createRangeReducerRight(...RandomizedLevelDataConfig.rules.addRandomTilesPerMoveRange),\n        ),\n    },\n    generateColumns: createRangedReducingGenerator(createRangeReducerRight(...RandomizedLevelDataConfig.columnsRange)),\n    generateRows: createRangedReducingGenerator(createRangeReducerRight(...RandomizedLevelDataConfig.rowsRange)),\n} as const\n\nexport type RandomizedLevelData = {\n    gravity: string\n    time: number\n    colors: number\n    specials: {\n        bomb: number\n        rocket: number\n    }\n    rules: {\n        maxSpaceOfPair: number\n        addRandomTilesPerMove: number\n    }\n    columns: number\n    rows: number\n}\n\nexport default function createRandomizedLevelData(level: number): RandomizedLevelData {\n    const difficulty = LevelDataGenerators.generateDifficulty(level)\n\n    const cols = LevelDataGenerators.generateColumns(difficulty)\n    const rows = LevelDataGenerators.generateRows(difficulty)\n\n    // ? ensures that there are an even number of tiles\n    const safeRows = cols % 2 === 1 && rows % 2 === 1 ? rows + 1 : rows\n\n    return {\n        rows: safeRows,\n        columns: cols,\n        colors: LevelDataGenerators.generateColors(difficulty),\n        gravity: generateGravity(),\n        rules: {\n            addRandomTilesPerMove: LevelDataGenerators.rules.generateAddRandomTilesPerMove(difficulty),\n            maxSpaceOfPair: LevelDataGenerators.rules.generateMaxSpaceOfPair(difficulty),\n        },\n        specials: {\n            bomb: LevelDataGenerators.specials.generateBomb(difficulty),\n            rocket: LevelDataGenerators.specials.generateRocket(difficulty),\n        },\n        time: LevelDataGenerators.generateTime(difficulty),\n    }\n}\n","import { _decorator, Component, math } from 'cc'\nimport CustomModeUtils from '../../utils/CustomModeUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport ResourceUtils from '../../utils/ResourceUtils'\nimport CustomGameData from '../constants/CustomGameData'\nimport GameModes from '../constants/GameMode'\nimport ResourcePaths from '../constants/ResourcePaths'\nimport SkinKeys from '../constants/SkinKeys'\nimport TotalLevel from '../constants/TotalLevel'\nimport createRandomizedLevelData from '../game-objects/board/utils/create/createRandomizedLevelData'\n\nconst { ccclass } = _decorator\nconst {\n    Utils: { Json: J, Array: A },\n} = Ludex\n\nconst { monitorError } = codex\n\nconst AllSkinKeys = Object.values(SkinKeys) as SkinKeys[]\n\nconst DIFFICULTY_COLUMN_AND_ROW: [number, number][] = [\n    [4, 6],\n    [4, 8],\n    [5, 8],\n    [6, 8],\n    [5, 10],\n    [6, 10],\n    [7, 10],\n    [7, 12],\n]\n\nconst DIFFICULTY_COLORS: number[] = [-2, 0, 2, 5]\n\nexport const DEFAULT_LEVEL_DATA = {\n    level: 1,\n    mode: 'normal',\n    time: 900,\n    colors: 12,\n    specials: {\n        bomb: 0,\n        rocket: 0,\n    },\n    rules: {\n        maxSpaceOfPair: 1,\n        addRandomTilesPerMove: 0,\n    },\n    columns: 5,\n    rows: 6,\n    theme: ['flower'],\n} as const satisfies ILevelData\n\nconst createCachedLevelDataRandomizer = () => {\n    const cache: Record<number, ILevelData> = {}\n\n    return (level: number) => {\n        if (cache[level]) {\n            return cache[level]\n        }\n\n        const randomizedData = createRandomizedLevelData(level)\n\n        cache[level] = {\n            level,\n            theme: AllSkinKeys,\n            rows: randomizedData.rows,\n            columns: randomizedData.columns,\n            colors: randomizedData.colors,\n            mode: randomizedData.gravity,\n            rules: {\n                maxSpaceOfPair: randomizedData.rules.maxSpaceOfPair,\n                addRandomTilesPerMove: randomizedData.rules.addRandomTilesPerMove,\n            },\n            specials: {\n                bomb: randomizedData.specials.bomb,\n                rocket: randomizedData.specials.rocket,\n            },\n            time: randomizedData.time,\n        }\n\n        return cache[level]\n    }\n}\n\n@ccclass('LevelManager')\nclass LevelManager extends Component {\n    private levelData!: ILevelData\n\n    private readonly getRandomizedLevelData = createCachedLevelDataRandomizer()\n\n    public async loadLevel(level = 1) {\n        const levelData = await this.loadLevelData(level)\n        this.levelData = levelData ?? this.levelData ?? DEFAULT_LEVEL_DATA\n\n        monitorError?.addMetadata({\n            level,\n        })\n    }\n\n    public async loadLevelData(level = 1): Promise<ILevelData | null> {\n        let levelData: ILevelData | null = null\n\n        if (level >= TotalLevel) {\n            levelData = this.getRandomizedLevelData(level)\n        } else {\n            const levelPerFile = 10\n            const levelStr = this.paddingZero(`${Math.floor(level / levelPerFile) + 1}`, 3)\n            const levelIndex = level % levelPerFile\n\n            const levelsData = await ResourceUtils.loadJsonAsync(`${ResourcePaths.LEVEL_DATA_FOLDER}/${levelStr}`)\n\n            if (!levelsData) return null\n            if (levelsData.json === null) return null\n\n            levelData = levelsData.json[levelIndex] as ILevelData\n        }\n\n        levelData = J.clone(levelData)\n        if (!levelData) return null\n\n        // ? Add custom data to the level in single mode\n        if (MatchUtils.getMatchMode() === GameModes.CUSTOM) {\n            const custom = CustomModeUtils.getCustomData()\n            const time = levelData.time * (1 + (CustomGameData.time[custom.time] ?? 0) / 100) // Percent\n            const bomb = levelData.specials.bomb + (CustomGameData.bombs[custom.bombs] ?? 0)\n            const colors = Math.min(levelData.colors + (DIFFICULTY_COLORS[custom.difficulty] ?? 0), 30)\n\n            // ? Add custom difficulty to the level\n            let difficulty = this.getDifficulty(levelData.columns, levelData.rows)\n            if (difficulty !== undefined) {\n                difficulty += custom.difficulty - 1\n                const [columns, rows] = this.getCustomColumnAndRow(difficulty) ?? [levelData.columns, levelData.rows]\n\n                levelData.rows = rows\n                levelData.columns = columns\n            }\n\n            levelData.time = time\n            levelData.specials.bomb = bomb\n            levelData.colors = colors\n        }\n\n        /* // ? When ad service degraded, need make level easier\n        if (ads.isServiceDegraded()) {\n            levelData.time *= 1.5\n        } */\n\n        return levelData\n    }\n\n    public getLevelData(): ILevelData {\n        return this.levelData\n    }\n\n    private getCustomColumnAndRow(difficulty: number): [number, number] | undefined {\n        return DIFFICULTY_COLUMN_AND_ROW[math.clamp(difficulty, 0, DIFFICULTY_COLUMN_AND_ROW.length - 1)]\n    }\n\n    private getDifficulty(columns: number, rows: number): number | undefined {\n        const difficulty = A.searchIndex(DIFFICULTY_COLUMN_AND_ROW, ([c, r]) => c === columns && r === rows)\n        return difficulty === -1 ? undefined : difficulty\n    }\n\n    private paddingZero(str: string, length: number): string {\n        let ret = ''\n\n        for (let i = 0; i < length - str.length; i++) {\n            ret += '0'\n        }\n\n        return ret + str\n    }\n}\n\nexport default LevelManager\n","import { randomRangeInt } from 'cc'\nimport { Direction } from '../../../constants/Directions'\n\nfunction bubbleUpCells<T>(config: {\n    array: { length: number; get: (index: number) => T; swap: (a: number, b: number) => void }\n    isLighter: (cell: T) => boolean\n    out?: Set<T>\n}): Set<T> {\n    const { array, isLighter: isEmptyCell, out = new Set<T>() } = config\n    for (let i = 0; i < array.length; i++) {\n        if (isEmptyCell(array.get(i))) {\n            for (let j = i + 1; j < array.length; j++) {\n                if (!isEmptyCell(array.get(j))) {\n                    array.swap(i, j)\n                    out.add(array.get(i))\n                    break\n                }\n            }\n        }\n    }\n\n    return out\n}\n\ntype GridConfig<T> = {\n    width?: number\n    height?: number\n    content: ReadonlyArray<T>\n}\n\nexport default class Grid<T> {\n    private array: T[] = []\n    public readonly width: number\n    public readonly height: number\n\n    public constructor()\n    public constructor(config: GridConfig<T>)\n    public constructor(copy: Grid<T>)\n\n    public constructor(configOrGrid?: GridConfig<T> | Grid<T>) {\n        const { width = 1, height = 1 } = configOrGrid ?? {}\n        const content = configOrGrid instanceof Grid ? configOrGrid.array : (configOrGrid?.content ?? [])\n\n        if (content.length !== width * height) {\n            throw new Error('Invalid content length')\n        }\n\n        this.width = width\n        this.height = height\n        this.array = [...content]\n    }\n\n    public asArray(): ReadonlyArray<T> {\n        return this.array\n    }\n\n    public get(x: number, y: number): T {\n        if (!this.isInBounds(x, y)) {\n            throw new Error('Out of bounds')\n        }\n\n        return this.array[y * this.width + x] as T\n    }\n\n    public set(x: number, y: number, value: Readonly<T>): void {\n        this.array[y * this.width + x] = value\n    }\n\n    public isInBounds(x: number, y: number): boolean {\n        return x >= 0 && x < this.width && y >= 0 && y < this.height\n    }\n\n    public each(callback: (value: T, x: number, y: number) => void): void {\n        for (let y = 0; y < this.height; y++) {\n            for (let x = 0; x < this.width; x++) {\n                callback(this.get(x, y), x, y)\n            }\n        }\n    }\n\n    public map<U>(callback: (value: T, x: number, y: number) => U): U[] {\n        const result: U[] = []\n        for (let y = 0; y < this.height; y++) {\n            for (let x = 0; x < this.width; x++) {\n                result.push(callback(this.get(x, y), x, y))\n            }\n        }\n        return result\n    }\n\n    public reduce<U>(callback: (accumulator: U, value: T, x: number, y: number) => U, initialValue: U): U {\n        let result = initialValue\n        for (let y = 0; y < this.height; y++) {\n            for (let x = 0; x < this.width; x++) {\n                result = callback(result, this.get(x, y), x, y)\n            }\n        }\n        return result\n    }\n\n    public swap(a: [number, number], b: [number, number]): void {\n        const [x1, y1] = a\n        const [x2, y2] = b\n\n        const temp = this.get(x1, y1)\n        this.set(x1, y1, this.get(x2, y2))\n        this.set(x2, y2, temp)\n    }\n\n    public shuffle(cells?: ReadonlyArray<[number, number]>): Set<T> {\n        const c = cells ?? this.map((_, x, y) => [x, y])\n        const shuffledCells = [...c]\n\n        const affected = new Set<T>()\n\n        for (let i = shuffledCells.length - 1; i > 0; i--) {\n            const j = randomRangeInt(0, i + 1)\n            const left = shuffledCells[i] as [number, number]\n            const right = shuffledCells[j] as [number, number]\n\n            shuffledCells[i] = right\n            shuffledCells[j] = left\n\n            affected.add(this.get(left[0], left[1]))\n            affected.add(this.get(right[0], right[1]))\n        }\n\n        // Apply the shuffled cells to the grid\n        for (let i = 0; i < shuffledCells.length; i++) {\n            const [x, y] = c[i] as [number, number]\n            const [newX, newY] = shuffledCells[i] as [number, number]\n            this.swap([x, y], [newX, newY])\n        }\n\n        return affected\n    }\n\n    public toShuffled(cells?: ReadonlyArray<[number, number]>): [Grid<T>, Set<T>] {\n        const newGrid = new Grid<T>({\n            width: this.width,\n            height: this.height,\n            content: this.array,\n        })\n        const affected = newGrid.shuffle(cells)\n        return [newGrid, affected]\n    }\n\n    public gravitate(config: {\n        rowRange: Readonly<[number, number]>\n        colRange: Readonly<[number, number]>\n        direction: DirectionType\n        isLighter: (cell: T) => boolean\n        onSwap?: (cellA: T, cellB: T) => void\n        out?: Set<T>\n    }): Set<T> {\n        const {\n            rowRange: [minRow, maxRow],\n            colRange: [minCol, maxCol],\n            direction,\n            isLighter,\n            onSwap,\n            out = new Set(),\n        } = config\n\n        const width = maxCol - minCol + 1\n        const height = maxRow - minRow + 1\n\n        switch (direction) {\n            case Direction.Up:\n                for (let x = minCol; x <= maxCol; x++) {\n                    bubbleUpCells({\n                        array: {\n                            length: height,\n                            get: (i) => this.get(x, maxRow - i),\n                            swap: (a, b) => {\n                                const cellA = this.get(x, maxRow - a)\n                                const cellB = this.get(x, maxRow - b)\n                                this.swap([x, maxRow - a], [x, maxRow - b])\n                                onSwap?.(cellA, cellB)\n                            },\n                        },\n                        isLighter,\n                        out,\n                    })\n                }\n\n                return out\n\n            case Direction.Down:\n                for (let x = minCol; x <= maxCol; x++) {\n                    bubbleUpCells({\n                        array: {\n                            length: height,\n                            get: (i) => this.get(x, minRow + i),\n                            swap: (a, b) => {\n                                const cellA = this.get(x, minRow + a)\n                                const cellB = this.get(x, minRow + b)\n                                this.swap([x, minRow + a], [x, minRow + b])\n                                onSwap?.(cellA, cellB)\n                            },\n                        },\n                        isLighter,\n                        out,\n                    })\n                }\n\n                return out\n\n            case Direction.Left:\n                for (let y = minRow; y <= maxRow; y++) {\n                    bubbleUpCells({\n                        array: {\n                            length: width,\n                            get: (i) => this.get(minCol + i, y),\n                            swap: (a, b) => {\n                                const cellA = this.get(minCol + a, y)\n                                const cellB = this.get(minCol + b, y)\n                                this.swap([minCol + a, y], [minCol + b, y])\n                                onSwap?.(cellA, cellB)\n                            },\n                        },\n                        isLighter,\n                        out,\n                    })\n                }\n\n                return out\n\n            case Direction.Right:\n                for (let y = minRow; y <= maxRow; y++) {\n                    bubbleUpCells({\n                        array: {\n                            length: width,\n                            get: (i) => this.get(maxCol - i, y),\n                            swap: (a, b) => {\n                                const cellA = this.get(maxCol - a, y)\n                                const cellB = this.get(maxCol - b, y)\n                                this.swap([maxCol - a, y], [maxCol - b, y])\n                                onSwap?.(cellA, cellB)\n                            },\n                        },\n                        isLighter,\n                        out,\n                    })\n                }\n\n                return out\n\n            default:\n                throw new Error('Invalid direction')\n        }\n    }\n\n    public toGravitated(...args: Parameters<Grid<T>['gravitate']>): [Grid<T>, ReturnType<Grid<T>['gravitate']>] {\n        const newGrid = new Grid<T>({\n            width: this.width,\n            height: this.height,\n            content: this.array,\n        })\n        const affected = newGrid.gravitate(...args)\n        return [newGrid, affected]\n    }\n\n    public toRotated(revert = false): Grid<T> {\n        const newGrid = new Grid<T>({\n            width: this.height,\n            height: this.width,\n            content: new Array(this.width * this.height),\n        })\n\n        if (!revert) {\n            for (let y = this.height - 1; y >= 0; y--) {\n                for (let x = 0; x < this.width; x++) {\n                    newGrid.set(this.height - 1 - y, x, this.get(x, y))\n                }\n            }\n        } else {\n            for (let y = 0; y < this.height; y++) {\n                for (let x = this.width - 1; x >= 0; x--) {\n                    newGrid.set(y, this.width - 1 - x, this.get(x, y))\n                }\n            }\n        }\n\n        return newGrid\n    }\n}\n","/**\n * Staggering values based a 2D array that allow \"ripple\" effects.\n * @param from The coordinate to start from\n * @param grid The grid size\n */\nexport default function stagger(from: IVec2Like | 'center', grid: IVec2Like): number[][] {\n    const { x: width, y: height } = grid\n    const { x: fromX, y: fromY } = from === 'center' ? { x: (width - 1) / 2, y: (height - 1) / 2 } : from\n\n    const stagger = []\n    for (let toX = 0; toX < width; toX++) {\n        const row = []\n        for (let toY = 0; toY < height; toY++) {\n            const distanceX = fromX - toX\n            const distanceY = fromY - toY\n            const value = Math.sqrt(distanceX * distanceX + distanceY * distanceY)\n            row.push(value)\n        }\n        stagger.push(row)\n    }\n\n    return stagger\n}\n","import Grid from './Grid'\nexport default Grid\n","import {\n    Animation,\n    AnimationClip,\n    Component,\n    _decorator as decor,\n    math,\n    Node,\n    randomRange,\n    Sprite,\n    SpriteFrame,\n    type Tween,\n    type TweenEasing,\n    tween,\n    UIOpacity,\n    UITransform,\n    Vec2,\n    Vec3,\n} from 'cc'\nimport { ExtendedButton } from '../../../../components/button/ExtendedButton'\nimport { CodeSoundKeys } from '../../../../constants/SoundKeys'\nimport AnimUtils from '../../../../utils/AnimUtils'\nimport AudioUtils from '../../../../utils/AudioUtils'\nimport ComponentUtils from '../../../../utils/ComponentUtils'\nimport GameplayEvents from '../../../constants/GameEvents'\nimport TileSpecialTypes from '../constants/TileSpecialTypes'\n\nconst { ccclass, property, requireComponent } = decor\n\nconst {\n    Utils: { Signal: S, Function: F },\n} = Ludex\n\ntype Signal = InstanceType<typeof S.Signal>\n\n@ccclass('Tile')\n@requireComponent([UITransform])\n@requireComponent([UIOpacity])\nexport default class Tile extends Component {\n    @ComponentUtils.required()\n    @property({ type: Sprite, group: 'Sprite' })\n    public readonly iconPlaceholder!: Sprite\n\n    @ComponentUtils.required()\n    @property({ type: Sprite, group: 'Sprite' })\n    public readonly icon!: Sprite\n\n    @ComponentUtils.required()\n    @property({ type: Sprite, group: 'Sprite' })\n    public readonly bombComponent!: Sprite\n\n    @ComponentUtils.required()\n    @property({ type: Sprite, group: 'Sprite' })\n    public readonly starComponent!: Sprite\n\n    @ComponentUtils.required()\n    @property({ type: Sprite, group: 'Sprite' })\n    private readonly background!: Sprite\n\n    @ComponentUtils.required()\n    @property({ type: UITransform, displayName: 'Background UI Transform' })\n    private readonly bgUITransform!: UITransform\n\n    @ComponentUtils.required()\n    @property(SpriteFrame)\n    private readonly defaultBackground!: SpriteFrame\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity, group: 'Opacity' })\n    private readonly uiOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity, group: 'Opacity' })\n    private readonly shineOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity, group: 'Opacity' })\n    private readonly glowOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity, group: 'Opacity' })\n    private readonly iconOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity, group: 'Opacity' })\n    private readonly iconPlaceholderOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity, group: 'Opacity' })\n    public readonly bombUiOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity, group: 'Opacity' })\n    public readonly startUiOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property(ExtendedButton)\n    readonly button!: ExtendedButton\n\n    @ComponentUtils.required()\n    @property(Node)\n    private readonly container!: Node\n\n    private glowOpacityTween!: Tween<UIOpacity>\n\n    @ComponentUtils.required()\n    @property({ type: Animation, group: 'Animation' })\n    readonly animationComponent!: Animation\n\n    @ComponentUtils.required()\n    @property({ type: AnimationClip, group: 'Animation' })\n    private readonly clearClip!: AnimationClip\n\n    @ComponentUtils.required()\n    @property({ type: AnimationClip, group: 'Animation' })\n    private readonly shakeClip!: AnimationClip\n\n    @ComponentUtils.required()\n    @property({ type: AnimationClip, group: 'Animation' })\n    private readonly breakClip!: AnimationClip\n\n    @ComponentUtils.required()\n    @property({ type: AnimationClip, group: 'Animation' })\n    private readonly lightningClearClip!: AnimationClip\n\n    public id: number | null = null\n\n    public frames: Promise<Array<SpriteFrame>> | Array<SpriteFrame> = []\n\n    public special: ReturnType<typeof this.createSpecialHandler> | undefined\n\n    private isEmpty = false\n\n    private readonly coord: Vec2 = new Vec2()\n\n    private readonly mainSignalController = new S.SignalController()\n    private readonly identitySignalController = new S.SignalController()\n    private readonly placeholderSignalController = new S.SignalController()\n    private readonly specialSignalController = new S.SignalController()\n\n    protected onLoad(): void {\n        ComponentUtils.validateRequiredProperties(this, Tile)\n        this.special = this.createSpecialHandler(TileSpecialTypes.none)\n    }\n\n    protected update(dt: number): void {\n        if (this.special?.type === TileSpecialTypes.bomb) {\n            this.special.update(dt)\n        }\n    }\n\n    protected onDestroy(): void {\n        if (this.special?.type !== TileSpecialTypes.none) {\n            this.special?.onDestroy()\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public setIgnoreInput(ignore = true): void {\n        this.button.interactable = !ignore\n    }\n\n    public getCoord(): Readonly<Vec2> {\n        return this.coord\n    }\n\n    public setCoord(x: number, y: number): void {\n        this.coord.set(x, y)\n    }\n\n    public isSimilarTo(tile: Readonly<Tile>): boolean {\n        return this.id === tile.id\n    }\n\n    public inSamePositionAs(tile: Readonly<Tile>): boolean\n    public inSamePositionAs(x: number, y: number): boolean\n\n    public inSamePositionAs(tileOrX: Readonly<Tile> | number, y?: number): boolean {\n        if (tileOrX instanceof Tile) {\n            return this.coord.equals(tileOrX.getCoord())\n        }\n\n        return this.coord.x === tileOrX && this.coord.y === y\n    }\n\n    public isHidden(): boolean {\n        return this.isEmpty\n    }\n\n    public getSize(): [number, number] {\n        return [this.bgUITransform.width, this.bgUITransform.height]\n    }\n\n    public onClick(): void {\n        if (this.isHidden()) return\n        this.node.scene.emit(GameplayEvents.TILE_CLICK, this)\n    }\n\n    public setIdentity(id: number, frames: Promise<Array<SpriteFrame>> | Array<SpriteFrame>): void {\n        this.id = id\n        this.frames = frames\n        this.updateIdentityFrame()\n    }\n\n    public async updateIdentityFrame() {\n        if (this.id === null) return\n\n        const signal = this.identitySignalController.renew()\n\n        if (!Array.isArray(this.frames)) {\n            this.setPlaceholderVisible(true, signal)\n            const frames = await this.frames\n            if (signal.aborted) return\n            this.frames = frames\n        }\n\n        const frame = this.frames[this.id]\n\n        if (!frame) {\n            console.error(`Failed to load identity frame. ${this.id} is not in the frames array.`)\n            return\n        }\n\n        this.setPlaceholderVisible(false, signal)\n        signal.wrap(() => this.setIdentityFrame(frame))?.()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private setPlaceholderVisible(visible = true, identitySignal?: Signal) {\n        const signal = this.placeholderSignalController.renew()\n\n        if (identitySignal) {\n            signal.chain(identitySignal)\n        }\n\n        if (visible) {\n            AnimUtils.runTweenAsync(\n                tween(this.iconPlaceholder.node).to(0.15, { scale: Vec3.ONE }, { easing: 'backOut' }),\n                signal,\n            )\n\n            AnimUtils.runTweenAsync(\n                tween(this.iconPlaceholderOpacity)\n                    .delay(randomRange(0, 0.75))\n                    .to(0.15, { opacity: 255 })\n                    .repeatForever(\n                        tween(this.iconPlaceholderOpacity)\n                            .to(0.25, { opacity: 80 })\n                            .delay(0.25)\n                            .to(0.25, { opacity: 255 })\n                            .delay(0.75),\n                    ),\n                signal,\n            )\n\n            return\n        }\n\n        AnimUtils.runTweenAsync(\n            tween(this.iconPlaceholder.node).to(0.15, { scale: Vec3.ZERO }, { easing: 'backIn' }),\n            signal,\n        )\n\n        AnimUtils.runTweenAsync(tween(this.iconPlaceholderOpacity).to(0.15, { opacity: 0 }), signal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private setIdentityFrame(frame: SpriteFrame, signal?: Signal) {\n        this.icon.spriteFrame = frame\n\n        //? fit icon into 60% Tile\n        const fillRatio = 0.7\n        const [tileWidth, tileHeight] = this.getSize()\n\n        const { width: iconW, height: iconH } = frame.originalSize\n        const scale = Math.max(iconW / (tileWidth * fillRatio), iconH / (tileHeight * fillRatio))\n\n        this.icon.node.setScale(0, 0, 0)\n\n        const onCancel = () => {\n            this.icon.node.setScale(1 / scale, 1 / scale, 1)\n        }\n\n        signal?.once(onCancel)\n\n        AnimUtils.runTweenAsync(\n            tween(this.icon.node)\n                .delay(randomRange(0, 0.2))\n                .to(\n                    0.15,\n                    {\n                        scale: new Vec3(1 / scale, 1 / scale, 1),\n                    },\n                    {\n                        easing: 'sineOut',\n                    },\n                ),\n            signal,\n        )\n\n        signal?.off(onCancel)\n    }\n\n    public setSpecialType(specialType: TileSpecialType = TileSpecialTypes.none, bombDuration?: number): void {\n        this.special?.switch(specialType, bombDuration)\n\n        if (this.special?.type === TileSpecialTypes.bomb || this.special?.type === TileSpecialTypes.star) {\n            const special = this.special\n            if (!Array.isArray(this.frames)) {\n                const signal = this.specialSignalController.renew()\n                special.hide(signal, true)\n                this.frames.then(() => {\n                    if (special.isDestroyed) return\n                    special.show(signal)\n                })\n            }\n        }\n    }\n\n    public async setFocused(focused: boolean): Promise<void> {\n        const shineOpacityTween = tween(this.shineOpacity).to(\n            0.15,\n            { opacity: focused ? 255 : 0 },\n            { easing: 'cubicOut' },\n        )\n\n        this.shineOpacity.node.scale = focused ? Vec3.ZERO : Vec3.ONE\n\n        const scaleTween = tween(this.shineOpacity.node).to(\n            0.15,\n            { scale: focused ? Vec3.ONE : Vec3.ZERO },\n            { easing: 'cubicOut' },\n        )\n\n        if (!focused) {\n            if (this.glowOpacityTween) this.glowOpacityTween.stop()\n            this.glowOpacity.opacity = 0\n        } else {\n            const glowOpacityTween = tween(this.glowOpacity).to(2, { opacity: 150 })\n            glowOpacityTween.to(2, { opacity: 20 })\n\n            this.glowOpacityTween = tween(this.glowOpacity).repeatForever(glowOpacityTween).start()\n        }\n\n        await Promise.all([AnimUtils.runTweenAsync(shineOpacityTween), AnimUtils.runTweenAsync(scaleTween)])\n    }\n\n    public setEmpty(quietly = false) {\n        if (this.isEmpty) {\n            return\n        }\n\n        this.mainSignalController.abort()\n\n        this.isEmpty = true\n        this.setIgnoreInput(true)\n\n        /* Manually call reset button state\n        because the clear animation hide the button immediately\n        which might cause the mouse up event to not be triggered.\n        This will cause the button to be stuck in the pressed state.\n        */\n        this.button.resetButtonState()\n\n        if (\n            !quietly &&\n            (this.special?.type === TileSpecialTypes.star || this.special?.type === TileSpecialTypes.bomb)\n        ) {\n            this.special.clear()\n        }\n\n        this.setOpacity(0)\n        this.special?.switch(TileSpecialTypes.none)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private setOpacity(opacity: number) {\n        this.uiOpacity.opacity = opacity\n    }\n\n    public async setHint(hint: boolean) {\n        const signal = this.mainSignalController.renew()\n\n        if (hint) {\n            await this.runAnimation(this.shakeClip.name, signal)\n            return\n        }\n\n        this.animationComponent?.stop()\n        if (!this.container) return\n\n        const normalTween = tween(this.container).to(0.1, {\n            scale: Vec3.ONE,\n            eulerAngles: Vec3.ZERO,\n        })\n\n        await AnimUtils.runTweenAsync(normalTween, signal)\n    }\n\n    public async playClearFX(delay?: number, lightning: boolean = false): Promise<void> {\n        const signal = this.mainSignalController.renew()\n\n        this.setOpacity(255)\n\n        const cb = () => this.setOpacity(0)\n        const clearClip = lightning ? this.lightningClearClip : this.clearClip\n\n        signal.once(cb)\n        await this.runAnimationAfterDelay(clearClip.name, delay, signal)\n        signal.off(cb)\n\n        if (!signal.aborted) cb()\n    }\n\n    public async playOldLightningClearFX(): Promise<void> {\n        const signal = this.mainSignalController.renew()\n\n        this.setOpacity(255)\n\n        const cb = () => this.setOpacity(0)\n\n        signal.once(cb)\n        await this.runAnimation(this.breakClip.name, signal)\n        signal.off(cb)\n\n        if (!signal.aborted) cb()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async runAnimationAfterDelay(name: string, delay?: number, signal?: Signal) {\n        if (delay) await AnimUtils.waitTweenAsync(delay, signal)\n        await this.runAnimation(name, signal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private runAnimation(name: string, signal?: Signal) {\n        return AnimUtils.runAnimationAsync(this.animationComponent, name, signal)\n    }\n\n    public async restore(id?: number, frames?: Promise<Array<SpriteFrame>> | Array<SpriteFrame>): Promise<void> {\n        const signal = this.mainSignalController.renew()\n\n        this.animationComponent.stop()\n\n        this.isEmpty = false\n        this.setIgnoreInput(true)\n\n        if (id !== undefined && frames) {\n            this.setIdentity(id, frames)\n        }\n\n        this.setOpacity(255)\n        this.iconOpacity.opacity = 255\n        this.node.setScale(Vec3.ZERO)\n        this.background.spriteFrame = this.defaultBackground\n        this.button.fakeClick()\n\n        await AnimUtils.runTweenAsync(\n            tween(this.node).to(\n                0.3,\n                {\n                    scale: Vec3.ONE,\n                },\n                {\n                    easing: 'backOut',\n                },\n            ),\n            signal,\n        )\n\n        this.node.setScale(Vec3.ONE)\n        this.setIgnoreInput(false)\n    }\n\n    public async sync(config: {\n        duration?: number\n        delay?: number\n        easing?: TweenEasing\n        getTargetPosition: (pos: Vec2Like) => Vec2Like\n    }): Promise<void> {\n        const { duration = 0.3, delay = 0, easing = 'cubicOut', getTargetPosition } = config\n\n        const targetPos = getTargetPosition(this.coord)\n        const position = new Vec3(targetPos.x, targetPos.y, this.node.position.z)\n\n        await AnimUtils.runTweenAsync(tween(this.node).delay(delay).to(duration, { position }, { easing }))\n    }\n\n    public async fly(config: { getTilePosition: (pos: Readonly<Vec2Like>) => Vec2Like }) {\n        const MAX_HEIGHT = 300\n        const distanceToCenter = Math.sqrt(this.node.position.x ** 2 + this.node.position.y ** 2)\n        const height = Math.max(MAX_HEIGHT - distanceToCenter * 0.7, 0)\n        const delay = distanceToCenter / 1000\n\n        const curPosition = this.node.position.clone()\n        const targetPos = config.getTilePosition(this.coord)\n        const newPosition = new Vec3(targetPos.x, targetPos.y, this.node.position.z)\n\n        const spriteNode = this.container\n        // const shadowNode = this.node.getChildByName('Shadow')!\n\n        let shakeAmount = 2\n\n        const duration = height * 0.0025\n\n        let initOrbitSpeed = 1 //? PI/s\n        let initSelfOrbitSpeed = 360 //? degree/s\n\n        const phase1Duration = duration\n\n        let phase2StartAngle = 0\n        const phase2CenterPos = new Vec3(0, 0, 0)\n        const phase2Duration = 0.75 - phase1Duration\n\n        const tweenObject = { value: 0, prevElapsed: 0 }\n        const t = tween(tweenObject)\n        t.delay(delay)\n        t.to(\n            0.5,\n            { value: 0 },\n            {\n                progress: (_start: number, _end: number, current: number, ratio: number): number => {\n                    shakeAmount *= -1\n\n                    const deltaShake = shakeAmount * ratio\n\n                    const newPos = curPosition.clone()\n                    newPos.x += deltaShake\n                    this.node.setPosition(newPos)\n\n                    return current\n                },\n            },\n        )\n        t.to(\n            phase1Duration,\n            { value: 1 },\n            {\n                progress: (_start: number, _end: number, current: number, ratio: number): number => {\n                    const expoRatio = AnimUtils.easeOutExpo(ratio)\n                    const deltaTime = phase1Duration * ratio - tweenObject.prevElapsed\n                    const elapsedTime = phase1Duration * ratio\n\n                    //? tween height\n                    const newH = height * expoRatio\n                    this.setHeight(newH, MAX_HEIGHT)\n\n                    //? tween position\n                    const currentPos = this.node.position.clone()\n                    initOrbitSpeed += 0.1\n                    Vec3.rotateZ(currentPos, currentPos, new Vec3(0, 0, 0), initOrbitSpeed * Math.PI * deltaTime)\n\n                    this.node.setPosition(new Vec3(currentPos.x, currentPos.y, currentPos.z))\n\n                    //? tween angle\n                    initSelfOrbitSpeed += 10\n                    const addAngle = initSelfOrbitSpeed * deltaTime\n                    spriteNode.angle += addAngle\n                    // shadowNode.angle += addAngle\n\n                    tweenObject.prevElapsed = elapsedTime\n\n                    return current\n                },\n            },\n        )\n        t.call(() => {\n            phase2CenterPos.set(\n                (this.node.position.x + newPosition.x) / 2,\n                (this.node.position.y + newPosition.y) / 2,\n                0,\n            )\n            tweenObject.prevElapsed = 0\n            //? transform angle to negative value for easy tween\n            spriteNode.angle %= 360\n            spriteNode.angle -= 360\n            // shadowNode.angle %= 360\n            // shadowNode.angle -= 360\n            phase2StartAngle = spriteNode.angle\n        })\n        t.to(\n            phase2Duration,\n            { value: 0 },\n            {\n                progress: (_start: number, _end: number, current: number, ratio: number): number => {\n                    const deltaTime = phase2Duration * ratio - tweenObject.prevElapsed\n                    const elapsedTime = phase2Duration * ratio\n\n                    //? tween height\n                    const newH = height * (1 - ratio)\n                    this.setHeight(newH, MAX_HEIGHT)\n\n                    //? tween position\n                    const currentPos = this.node.position.clone()\n                    Vec3.rotateZ(currentPos, currentPos, phase2CenterPos, (Math.PI / phase2Duration) * deltaTime)\n\n                    this.node.setPosition(new Vec3(currentPos.x, currentPos.y, currentPos.z))\n\n                    //? tween angle\n                    spriteNode.angle += (-phase2StartAngle / phase2Duration) * deltaTime\n                    // shadowNode.angle += (-phase2StartAngle / phase2Duration) * deltaTime\n\n                    tweenObject.prevElapsed = elapsedTime\n\n                    return current\n                },\n            },\n        )\n        t.call(() => {\n            this.node.setPosition(newPosition)\n            this.setHeight(0, MAX_HEIGHT)\n            spriteNode.angle = 0\n            // shadowNode.angle = 0\n        })\n        return AnimUtils.runTweenAsync(t)\n    }\n\n    public async moveAround(): Promise<void> {\n        const moveDirections: Vec2Like[] = [\n            { x: 1, y: 1 },\n            { x: -1, y: 1 },\n            { x: -1, y: -1 },\n            { x: 1, y: -1 },\n        ]\n\n        const defaultPosition = this.container.position.clone()\n        let prevDirectionIndex = -1\n\n        for (let i = 0; i < 5; i++) {\n            let moveDirectionIndex = math.randomRangeInt(0, 4)\n            while (prevDirectionIndex === moveDirectionIndex) {\n                moveDirectionIndex = math.randomRangeInt(0, 4)\n            }\n            prevDirectionIndex = moveDirectionIndex\n\n            const moveDirection = moveDirections[moveDirectionIndex]\n            if (!moveDirection) continue\n\n            const movePosition = defaultPosition.clone().add(new Vec3(moveDirection.x * 5, moveDirection.y * 5))\n            const moveTween = tween(this.container).to(0.1, { position: movePosition }, { easing: 'smooth' })\n\n            await AnimUtils.runTweenAsync(moveTween)\n        }\n\n        const resetTween = tween(this.container).to(0.1, { position: defaultPosition }, { easing: 'smooth' })\n        await AnimUtils.runTweenAsync(resetTween)\n    }\n\n    private setHeight(height: number, maxHeight: number): void {\n        if (!this.container) return\n\n        const spriteNode = this.container\n        // const shadowNode = this.node.getChildByName('Shadow')!\n\n        spriteNode.setPosition(new Vec3(spriteNode.position.x, height, 0))\n        // shadowNode.setPosition(new Vec3(shadowNode.position.x, -4 - height / 10, 0))\n        //? max: 0.3 (height), min: 0 (height 0)\n        spriteNode.setScale(new Vec3(1 + (height / maxHeight) * 0.3, 1 + (height / maxHeight) * 0.3, 1))\n    }\n\n    private createSpecialHandler(type: TileSpecialType, bombDuration?: number) {\n        switch (type) {\n            case TileSpecialTypes.bomb:\n                return this.createBombHandler(bombDuration ?? 90)\n            case TileSpecialTypes.star:\n                return this.createStarHandler()\n            default:\n                return {\n                    type: TileSpecialTypes.none,\n                    switch: (to: TileSpecialType, bombDuration?: number) => {\n                        this.special = this.createSpecialHandler(to, bombDuration)\n                    },\n                } as const\n        }\n    }\n\n    private createBombHandler(duration: number) {\n        let isDestroyed = false\n        let isCountingDown = false\n        let remaining = duration\n\n        const setCounting = () => {\n            isCountingDown = true\n        }\n\n        const setNotCounting = () => {\n            isCountingDown = false\n        }\n\n        this.node.scene.on(GameplayEvents.TILE_CLICK, setCounting)\n        this.node.scene.on(GameplayEvents.USE_ITEM, setCounting)\n\n        this.node.scene.on(GameplayEvents.RESUME_TIME, setCounting)\n\n        this.node.scene.on(GameplayEvents.PAUSE_TIME, setNotCounting)\n        this.node.scene.on(GameplayEvents.TIME_OUT, setNotCounting)\n\n        this.bombComponent.node.active = true\n\n        const detonate = () => {\n            isCountingDown = false\n            this.bombComponent.node.active = false\n            this.setEmpty(true)\n            this.node.scene.emit(GameplayEvents.BOMB_EXPLODE, this)\n        }\n\n        const update = (dt: number) => {\n            if (isCountingDown) {\n                remaining = remaining - dt\n                this.bombComponent.fillRange = -remaining / duration\n\n                if (remaining <= 0) {\n                    detonate()\n                }\n            }\n        }\n\n        const clear = () => {\n            AudioUtils.playSound(CodeSoundKeys.BOMB_DEFUSE)\n        }\n\n        const onDestroy = () => {\n            isDestroyed = true\n\n            this.node.scene.off(GameplayEvents.TILE_CLICK, setCounting)\n            this.node.scene.off(GameplayEvents.USE_ITEM, setCounting)\n\n            this.node.scene.off(GameplayEvents.GAME_RESUME, setCounting)\n\n            this.node.scene.off(GameplayEvents.GAME_PAUSE, setNotCounting)\n            this.node.scene.off(GameplayEvents.TIME_OUT, setNotCounting)\n        }\n\n        const cleanup = () => {\n            isDestroyed = true\n            isCountingDown = false\n            this.bombComponent.node.active = false\n            remaining = duration\n\n            this.node.scene.off(GameplayEvents.TILE_CLICK, setCounting)\n            this.node.scene.off(GameplayEvents.USE_ITEM, setCounting)\n\n            this.node.scene.off(GameplayEvents.GAME_RESUME, setCounting)\n\n            this.node.scene.off(GameplayEvents.GAME_PAUSE, setNotCounting)\n            this.node.scene.off(GameplayEvents.TIME_OUT, setNotCounting)\n        }\n\n        const hide = (signal?: Signal, immediate = false) => {\n            if (immediate) {\n                this.bombUiOpacity.opacity = 0\n                return\n            }\n\n            signal?.once(() => {\n                this.bombUiOpacity.opacity = 0\n            })\n\n            return F.allSettled([\n                AnimUtils.runTweenAsync(\n                    tween(this.bombUiOpacity).to(0.1, { opacity: 0 }, { easing: 'cubicOut' }),\n                    signal,\n                ),\n            ])\n        }\n\n        const show = (signal?: Signal, immediate = false) => {\n            if (immediate) {\n                this.bombUiOpacity.opacity = 255\n                return\n            }\n\n            signal?.once(() => {\n                this.bombUiOpacity.opacity = 255\n            })\n\n            return F.allSettled([\n                AnimUtils.runTweenAsync(\n                    tween(this.bombUiOpacity).to(0.1, { opacity: 255 }, { easing: 'cubicOut' }),\n                    signal,\n                ),\n            ])\n        }\n\n        const sw = (to: TileSpecialType, bombDuration?: number) => {\n            cleanup()\n            this.special = this.createSpecialHandler(to, bombDuration)\n        }\n\n        const detonateImmediately = () => {\n            remaining = 0\n        }\n\n        return {\n            type: TileSpecialTypes.bomb,\n            get isDestroyed() {\n                return isDestroyed\n            },\n            update,\n            clear,\n            cleanup,\n            onDestroy,\n            switch: sw,\n            show,\n            hide,\n            detonateImmediately,\n        } as const\n    }\n\n    private createStarHandler() {\n        let isDestroyed = false\n        this.starComponent.node.active = true\n\n        const clear = () => {\n            this.starComponent.node.active = false\n\n            AudioUtils.playSound(CodeSoundKeys.COLLECT_STARS)\n            const { x, y } = this.node.worldPosition\n            this.node.scene.emit(GameplayEvents.ADD_STARS, {\n                startAnimationAt: [x, y],\n            } as AddStarsPayload)\n        }\n\n        const onDestroy = () => {\n            isDestroyed = true\n        }\n\n        const cleanup = () => {\n            isDestroyed = true\n            this.starComponent.node.active = false\n        }\n\n        const hide = (signal?: Signal, immediate = false) => {\n            if (immediate) {\n                this.startUiOpacity.opacity = 0\n                return\n            }\n\n            signal?.once(() => {\n                this.startUiOpacity.opacity = 0\n            })\n\n            return F.allSettled([\n                AnimUtils.runTweenAsync(\n                    tween(this.startUiOpacity).to(0.1, { opacity: 0 }, { easing: 'cubicOut' }),\n                    signal,\n                ),\n            ])\n        }\n\n        const show = (signal?: Signal, immediate = false) => {\n            if (immediate) {\n                this.startUiOpacity.opacity = 255\n                return\n            }\n\n            signal?.once(() => {\n                this.startUiOpacity.opacity = 255\n            })\n\n            return F.allSettled([\n                AnimUtils.runTweenAsync(\n                    tween(this.startUiOpacity).to(0.1, { opacity: 255 }, { easing: 'cubicOut' }),\n                    signal,\n                ),\n            ])\n        }\n\n        const sw = (to: TileSpecialType) => {\n            cleanup()\n            this.special = this.createSpecialHandler(to)\n        }\n\n        return {\n            type: TileSpecialTypes.star,\n            get isDestroyed() {\n                return isDestroyed\n            },\n            clear,\n            cleanup,\n            onDestroy,\n            show,\n            hide,\n            switch: sw,\n        } as const\n    }\n}\n","import Tile from './Tile'\nexport default Tile\n","import type Grid from '../../grid'\nimport type Tile from '../../tile'\n\nexport default function calcTilePosition(\n    grid: Grid<Tile>,\n    tileSize: Readonly<[number, number]>,\n    coord: Readonly<Vec2Like>,\n    padding = 0,\n): Vec2Like {\n    const { x, y } = coord\n    const [width, height] = tileSize\n\n    let posX = width * (x - (grid.width - 1) / 2) + padding * (x - grid.width / 2)\n    let posY = height * (y - (grid.height - 1) / 2) + padding * (y - grid.height / 2)\n\n    if (x === -1) {\n        posX += tileSize[0] / 4\n    }\n\n    if (x === grid.width) {\n        posX -= tileSize[0] / 4\n    }\n\n    if (y === -1) {\n        posY += tileSize[1] / 4\n    }\n\n    if (y === grid.height) {\n        posY -= tileSize[1] / 4\n    }\n\n    return { x: posX, y: posY }\n}\n","export default function calcTileSize(\n    defaultSize: Readonly<[number, number]>,\n    trimming: Readonly<[number, number]> = [0, 0],\n): [number, number] {\n    const [defaultTileW, defaultTileH] = defaultSize\n    const [trimmingW, trimmingH] = trimming\n\n    const [trimmedTileW, trimmedTileH] = [1 - trimmingW, 1 - trimmingH]\n    const [tileW, tileH] = [defaultTileW * trimmedTileW, defaultTileH * trimmedTileH]\n\n    return [tileW, tileH] as const\n}\n","import LevelGravity from '../../../../constants/LevelGravity'\n\n/**\n * Parse a string into level modes by extracting the words and matching them to the LevelMode enum. Using string's search()\n * @param text\n */\nexport default function parseLevelGravity(text: string): LevelGravity[] {\n    // ex 'fall-down-put-columns-middle' gets converted into ['fall-down', 'put-columns-middle']\n    const words = text.split('-')\n    const levelModes: LevelGravity[] = []\n\n    let i = 0\n    while (i < words.length) {\n        let levelGravity = null\n        const word = words[i]\n\n        switch (word) {\n            case 'normal':\n                i += 1\n                break\n            case 'fall':\n                levelGravity = LevelGravity.FallDown\n                i += 2\n                break\n            case 'fly':\n                levelGravity = LevelGravity.FlyUp\n                i += 2\n                break\n            case 'push':\n                if (words[i + 1] === 'left') {\n                    levelGravity = LevelGravity.PushLeft\n                    i += 2\n                } else {\n                    levelGravity = LevelGravity.PushRight\n                    i += 2\n                }\n                break\n            case 'put':\n                if (words[i + 1] === 'columns') {\n                    levelGravity = LevelGravity.PutColumnMiddle\n                    i += 3\n                } else {\n                    levelGravity = LevelGravity.PutRowMiddle\n                    i += 3\n                }\n                break\n        }\n\n        if (levelGravity) {\n            levelModes.push(levelGravity)\n        }\n    }\n\n    return levelModes\n}\n","import LevelGravity from '../../../../constants/LevelGravity'\n\nexport default function rotateGravity(levelGravity: LevelGravity): LevelGravity {\n    switch (levelGravity) {\n        case LevelGravity.FallDown:\n            return LevelGravity.PushRight\n        case LevelGravity.FlyUp:\n            return LevelGravity.PushLeft\n        case LevelGravity.PushLeft:\n            return LevelGravity.FallDown\n        case LevelGravity.PushRight:\n            return LevelGravity.FlyUp\n        case LevelGravity.PutColumnMiddle:\n            return LevelGravity.PutRowMiddle\n        case LevelGravity.PutRowMiddle:\n            return LevelGravity.PutColumnMiddle\n    }\n}\n","function rotateVec2(vec: Vec2Like, boardWidth: number, boardHeight: number, revert = false): Vec2Like {\n    const { x, y } = vec\n    const newX = revert ? y : boardHeight - 1 - y\n    const newY = revert ? boardWidth - 1 - x : x\n    return { x: newX, y: newY }\n}\n\nexport default function rotatePath(boardWidth: number, boardHeight: number, path: Path, revert = false): Path {\n    const newPath: Path = []\n\n    for (const line of path) {\n        const { a, b } = line\n        const newA = rotateVec2(a, boardWidth, boardHeight, revert)\n        const newB = rotateVec2(b, boardWidth, boardHeight, revert)\n        newPath.push({ a: newA, b: newB })\n    }\n\n    return newPath\n}\n","import Grid from '../../grid'\nimport type Tile from '../../tile'\n\nfunction getUncleared(grid: Grid<Tile>): Tile[]\nfunction getUncleared(tiles: ReadonlyArray<Tile>): Tile[]\n\nfunction getUncleared(gridOrTiles: Grid<Tile> | ReadonlyArray<Tile>): Tile[] {\n    const arr = gridOrTiles instanceof Grid ? gridOrTiles.asArray() : gridOrTiles\n    return arr.filter((tile) => !tile.isHidden())\n}\n\nexport default getUncleared\n","import Grid from '../../grid'\nimport type Tile from '../../tile'\n\nfunction getCleared(grid: Grid<Tile>): Tile[]\nfunction getCleared(tiles: ReadonlyArray<Tile>): Tile[]\n\nfunction getCleared(gridOrTiles: Grid<Tile> | ReadonlyArray<Tile>): Tile[] {\n    const arr = gridOrTiles instanceof Grid ? gridOrTiles.asArray() : gridOrTiles\n    return arr.filter((tile) => tile.isHidden())\n}\n\nexport default getCleared\n","export const MaxBoardScale = 2.25\n","import { MaxBoardScale } from '../../constants/BoardScale'\n\nexport default function calcBoardScale(\n    gridSize: Readonly<[number, number]>,\n    tileSize: Readonly<[number, number]>,\n    screenSize: Readonly<[number, number]>,\n): number {\n    const [gridW, gridH] = gridSize\n    const [tileW, tileH] = tileSize\n    const [uiW, uiH] = screenSize\n    const [boardScaleX, boardScaleY] = [uiW / (gridW * tileW), uiH / (gridH * tileH)]\n    return Math.min(Math.min(boardScaleX, boardScaleY), MaxBoardScale)\n}\n","import TileSpecialTypes from '../../constants/TileSpecialTypes'\nimport Grid from '../../grid'\nimport type Tile from '../../tile'\nimport getUncleared from './getUncleared'\n\nfunction getBombTiles(grid: Grid<Tile>): Tile[]\nfunction getBombTiles(tiles: ReadonlyArray<Tile>): Tile[]\n\nfunction getBombTiles(gridOrTiles: Grid<Tile> | ReadonlyArray<Tile>): Tile[] {\n    const arr = gridOrTiles instanceof Grid ? gridOrTiles.asArray() : gridOrTiles\n    const uncleared = getUncleared(arr)\n    return uncleared.filter((tile) => tile.special?.type === TileSpecialTypes.bomb)\n}\n\nexport default getBombTiles\n","import { Direction } from '../../../../constants/Directions'\n\nconst {\n    Utils: { Object: O },\n} = Ludex\n\ntype Tile = {\n    getCoord(): { x: number; y: number }\n}\n\ntype Grid<T> = {\n    get(x: number, y: number): T\n    isInBounds(x: number, y: number): boolean\n}\n\nexport default function getNearbyTiles<T extends Tile>(grid: Grid<T>, tile: T): T[] {\n    const { x: tileX, y: tileY } = tile.getCoord()\n    const directions = O.vals(Direction) as DirectionType[]\n\n    return directions.reduce((acc, { x, y }) => {\n        const [xCoord, yCoord] = [tileX + x, tileY + y]\n\n        if (grid.isInBounds(xCoord, yCoord)) {\n            acc.push(grid.get(xCoord, yCoord))\n        }\n\n        return acc\n    }, [] as T[])\n}\n","import { pseudoRandomRangeInt } from 'cc'\n\ntype Grid<T> = {\n    asArray(): ReadonlyArray<T>\n}\n\nfunction isArray<T>(i: unknown): i is ReadonlyArray<T> {\n    return Array.isArray(i)\n}\n\nfunction getRandomTile<T>(grid: Grid<T>, seed?: number): T\nfunction getRandomTile<T>(tiles: ReadonlyArray<T>, seed?: number): T\n\nfunction getRandomTile<T>(gridOrTiles: Grid<T> | ReadonlyArray<T>, seed = Date.now()): T {\n    const arr = isArray(gridOrTiles) ? gridOrTiles : gridOrTiles.asArray()\n    return arr[pseudoRandomRangeInt(seed, 0, arr.length)]\n}\n\nexport default getRandomTile\n","import Grid from '../../grid'\nimport type Tile from '../../tile'\nimport getRandomTile from './getRandomTile'\n\nconst { Array: A } = Ludex.Utils\n\nfunction getRandomPair(grid: Grid<Tile>, seed?: number): [Tile, Tile]\nfunction getRandomPair(tiles: ReadonlyArray<Tile>, seed?: number): [Tile, Tile]\n\nfunction getRandomPair(gridOrTiles: Grid<Tile> | ReadonlyArray<Tile>, seed = Date.now()) {\n    const arr = gridOrTiles instanceof Grid ? gridOrTiles.asArray() : gridOrTiles\n    const randomTile = getRandomTile(arr, seed)\n    const sameTypeTile = A.search(arr, (tile) => tile.isSimilarTo(randomTile) && !tile.inSamePositionAs(randomTile))\n\n    if (sameTypeTile === undefined) throw new Error('Could not find a matching tile')\n\n    return [randomTile, sameTypeTile]\n}\n\nexport default getRandomPair\n","import { pseudoRandom } from 'cc'\n\nconst identity = (i: number) => i\n\nexport default function* pseudoRandomIterable(\n    size: number,\n    startingSeed: number,\n    rng: (seed: number) => number = identity,\n) {\n    let s = size\n    let nseed = startingSeed\n\n    if (s <= 0) {\n        s = Number.POSITIVE_INFINITY\n    }\n\n    for (let i = 0; i < s; i++) {\n        yield rng(nseed)\n        // ? pseudoRandom uses LCGs and LCGs are bad at small numbers\n        // but pseudoRandom generates numbers between 0 and 1\n        nseed = pseudoRandom(nseed) * 1000000000\n    }\n}\n","import pseudoRandomIterable from '../random/pseudoRandomIterable'\nimport getRandomTile from './getRandomTile'\n\ntype Grid<T> = {\n    asArray(): ReadonlyArray<T>\n}\n\nfunction isArray<T>(i: unknown): i is ReadonlyArray<T> {\n    return Array.isArray(i)\n}\n\nfunction getRandomTiles<T>(grid: Grid<T>, count: number, seed?: number): Set<T>\nfunction getRandomTiles<T>(tiles: ReadonlyArray<T>, count: number, seed?: number): Set<T>\n\nfunction getRandomTiles<T>(gridOrTiles: Grid<T> | ReadonlyArray<T>, count: number, seed = Date.now()): Set<T> {\n    const arr = isArray(gridOrTiles) ? gridOrTiles : gridOrTiles.asArray()\n\n    if (arr.length < count) return new Set(arr)\n\n    const result: Set<T> = new Set()\n    const rng = pseudoRandomIterable(-1, seed)\n    let rngSeed = rng.next()\n\n    while (result.size < count) {\n        // ? The generator should never be exhausted when -1 is the size\n        if (rngSeed.done) throw new Error('RNG exhausted')\n        result.add(getRandomTile(arr, rngSeed.value))\n\n        rngSeed = rng.next()\n    }\n\n    return result\n}\n\nexport default getRandomTiles\n","import getBombTiles from './getBombTiles'\nimport getCleared from './getCleared'\nimport getNearbyTiles from './getNearbyTiles'\nimport getUncleared from './getUncleared'\n\nimport getRandomPair from './getRandomPair'\nimport getRandomTile from './getRandomTile'\nimport getRandomTiles from './getRandomTiles'\n\nexport default {\n    getCleared,\n    getUncleared,\n    getNearbyTiles,\n    getBombTiles,\n    getRandomPair,\n    getRandomTile,\n    getRandomTiles,\n}\n\nexport { getBombTiles, getCleared, getNearbyTiles, getRandomPair, getRandomTile, getRandomTiles, getUncleared }\n","import { pseudoRandomRangeInt } from 'cc'\nimport TileSpecialTypes from '../../constants/TileSpecialTypes'\nimport { getRandomTiles } from '../get'\n\ntype Tile = {\n    setSpecialType(type: TileSpecialType, bombDuration?: number): void\n}\n\ntype Grid<T> = {\n    asArray(): ReadonlyArray<T>\n}\n\n// ? Min inclusive, max exclusive\nconst STARS_COUNT_RANGE = [1, 2] as const\n\nexport default function assignSpecialTiles<T extends Tile>(grid: Grid<T>, levelData: ILevelData, seed = Date.now()) {\n    const { specials } = levelData\n    const bombCount = specials.bomb\n    const starsCount = pseudoRandomRangeInt(seed, ...STARS_COUNT_RANGE)\n\n    const bombTiles = getRandomTiles(grid, bombCount, seed)\n\n    const tilesWithoutBombs = grid.asArray().filter((tile) => !bombTiles.has(tile))\n    const starsTiles = getRandomTiles(tilesWithoutBombs, starsCount, seed)\n\n    for (const tile of bombTiles) {\n        const bombDuration = (levelData.time * 2) / 3\n        tile.setSpecialType(TileSpecialTypes.bomb, bombDuration)\n    }\n\n    for (const tile of starsTiles) {\n        tile.setSpecialType(TileSpecialTypes.star)\n    }\n}\n","import pseudoRandomIterable from './pseudoRandomIterable'\nexport default pseudoRandomIterable\n","import { pseudoRandomRangeInt } from 'cc'\nimport Grid from '../../grid'\nimport pseudoRandomIterable from '../random'\n\nconst {\n    Utils: { Array: A },\n} = Ludex\n\ntype LevelData = {\n    columns: number\n    rows: number\n    rules: {\n        maxSpaceOfPair: number\n    }\n}\n\nexport default function createGrid<I, T>(config: {\n    levelData: LevelData\n    identities: ReadonlyArray<I>\n    setTileIdentity: (tile: T, id: I) => void\n    createTile: (id: I) => T\n    seed?: number\n}): Grid<T> {\n    const {\n        levelData: { columns, rows },\n        identities,\n        setTileIdentity,\n        createTile,\n        seed = Date.now(),\n    } = config\n\n    const pairs = createShuffledIdentityPairs(seed, columns * rows, identities)\n\n    const firstSort = sortTilesByMaxSpace(config.levelData, identities, pairs).reverse()\n    const secondSort = sortTilesByMaxSpace(config.levelData, identities, firstSort).reverse()\n\n    const tiles = secondSort.map((id) => {\n        const tile = createTile(id)\n        setTileIdentity(tile, id)\n        return tile\n    })\n\n    return new Grid({\n        width: columns,\n        height: rows,\n        content: tiles,\n    })\n}\n\nfunction createShuffledIdentityPairs<I>(seed: number, size: number, identities: ReadonlyArray<I>): I[] {\n    const pairs: I[] = []\n    const half = size / 2\n    const rng = (s: number) => pseudoRandomRangeInt(s, 0, identities.length)\n\n    for (const index of pseudoRandomIterable(half, seed, rng)) {\n        pairs.push(identities[index] as (typeof identities)[number])\n        pairs.push(identities[index] as (typeof identities)[number])\n    }\n\n    A.shuffle(pairs)\n\n    return pairs\n}\n\nfunction sortTilesByMaxSpace<I>(levelData: LevelData, sortColors: ReadonlyArray<I>, randomTiles: I[]): I[] {\n    const { rows, columns, rules } = levelData\n\n    if (!rules.maxSpaceOfPair) return randomTiles\n\n    const tileGrid = convertSingleListToGrid(randomTiles, rows, columns)\n\n    for (const element of sortColors) {\n        let previousTileRow: number | null = null\n        let previousTileColumn: number | null = null\n\n        for (let row = 0; row < rows; row++) {\n            for (let column = 0; column < columns; column++) {\n                const tile = (tileGrid[row] as I[])[column] as I\n                if (tile !== element) continue\n\n                if (!previousTileRow || !previousTileColumn) {\n                    previousTileRow = row\n                    previousTileColumn = column\n                    continue\n                }\n\n                const allowedDistance = rules.maxSpaceOfPair + 1\n                const distance = Math.abs(row - previousTileRow) + Math.abs(column - previousTileColumn)\n\n                if (distance <= allowedDistance) {\n                    previousTileColumn = column\n                    previousTileRow = row\n                    continue\n                }\n\n                const newPos = getTileNewPosition(previousTileRow, previousTileColumn, row, column)\n\n                const temp = (tileGrid[newPos.row] as I[])[newPos.column] as I\n                ;(tileGrid[newPos.row] as I[])[newPos.column] = (tileGrid[row] as I[])[column] as I\n                ;(tileGrid[row] as I[])[column] = temp\n            }\n        }\n    }\n\n    return convertGridToSingleList(tileGrid)\n}\n\nfunction convertSingleListToGrid<I>(list: I[], rows: number, columns: number): I[][] {\n    const grid: I[][] = []\n\n    for (let i = 0; i < rows; i++) {\n        grid[i] = []\n\n        for (let j = 0; j < columns; j++) {\n            ;(grid[i] as I[])[j] = list[i * columns + j] as I\n        }\n    }\n\n    return grid\n}\n\nfunction convertGridToSingleList<I>(grid: I[][]): I[] {\n    const list: I[] = []\n\n    for (const row of grid) {\n        for (const element of row) {\n            list.push(element)\n        }\n    }\n\n    return list\n}\n\nfunction getTileNewPosition(\n    row1: number,\n    column1: number,\n    row2: number,\n    column2: number,\n): { row: number; column: number } {\n    let newRow = row1\n    let newColumn = column1\n\n    if (row2 > row1) {\n        newRow = row1 + 1\n    }\n    if (row2 < row1) {\n        newRow = row1 - 1\n    }\n\n    if (column2 > column1) {\n        newColumn = column1 + 1\n    }\n    if (column2 < column1) {\n        newColumn = column1 - 1\n    }\n\n    return { row: newRow, column: newColumn }\n}\n","import Grid from '../../grid'\nimport type Tile from '../../tile'\n\nconst { Array: A } = Ludex.Utils\n\nexport default function createGridFromFen<T>({\n    customFen,\n    identities,\n    createTile,\n}: {\n    customFen: LevelFen\n    identities: ReadonlyArray<T>\n    createTile: (id: T) => Tile\n}) {\n    const { idSize, cols, rows, code } = customFen\n\n    if (identities.length < customFen.idSize) {\n        throw new Error(\n            `Invalid grid code. There are not enough identities/frames ${identities.length} to fill it according to fen code ${idSize}`,\n        )\n    }\n\n    /**\n     * @example `t0t1s2s2:t2t2s0t3:t4t1t5t4:t6..t6:t3..t5`\n     *  */\n    const fenRows = code.split(':')\n\n    if (fenRows.length !== rows) {\n        throw new Error('Invalid grid code')\n    }\n\n    const rowRegex = /[a-zA-Z]+\\d+|./g\n    const tileTypeRegex = /[a-zA-Z]+/\n    const tileIdentityRegex = /\\d+/\n\n    // ? reduceRight to reverse the order of the rows\n    // because the grid was created reversed for readability\n    const tiles = fenRows.reduceRight((acc, row) => {\n        const rowTiles = []\n        const matches = row.matchAll(rowRegex)\n\n        for (const match of matches) {\n            const tileString = match[0]\n\n            const itype = tileIdentityRegex.exec(tileString)?.[0]\n\n            const itypeInt = itype !== undefined ? parseInt(itype, 10) : undefined\n\n            const frame =\n                itypeInt !== undefined && !isNaN(itypeInt) && itypeInt < identities.length\n                    ? identities[itypeInt]\n                    : undefined\n\n            const tile = frame !== undefined ? createTile(frame) : createTile(identities[0] as T)\n\n            const ttype = tileTypeRegex.exec(tileString)?.[0]\n\n            const special = ttype !== undefined ? getSpecialTypes(ttype, customFen.encoding) : undefined\n\n            if (special !== undefined && frame !== undefined) {\n                tile.setSpecialType(special)\n            } else {\n                tile.setEmpty()\n            }\n\n            rowTiles.push(tile)\n        }\n\n        return acc.concat(rowTiles)\n    }, [] as Tile[])\n\n    return new Grid({\n        width: cols,\n        height: rows,\n        content: tiles,\n    })\n}\n\nfunction getSpecialTypes(characters: string, encoding: TileEncoding): TileSpecialType {\n    const specialType = A.search(Object.entries(encoding), ([_, value]) => value === characters)\n\n    if (specialType === undefined) {\n        throw new Error(`Invalid special type ${characters}`)\n    }\n\n    return specialType[0] as TileSpecialType\n}\n","import type Grid from '../../grid'\n\ntype Tile = {\n    getCoord(): Readonly<Vec2>\n    setCoord(x: number, y: number): void\n}\n\nexport default function createRotatedGrid<T extends Tile>(grid: Grid<T>, revert = false): Grid<T> {\n    const rotatedGrid = grid.toRotated(revert)\n\n    rotatedGrid.each((tile, x, y) => {\n        tile.setCoord(x, y)\n    })\n\n    return rotatedGrid\n}\n","import { getNearbyTiles, getRandomTile } from '../get'\n\nconst { Array: A } = Ludex.Utils\n\ntype Tile<I> = {\n    id: I | null\n    getCoord(): { x: number; y: number }\n    isSimilarTo(tile: Tile<I>): boolean\n    inSamePositionAs(tile: Tile<I>): boolean\n}\n\ntype Grid<T> = {\n    asArray(): ReadonlyArray<T>\n    get(x: number, y: number): T\n    isInBounds(x: number, y: number): boolean\n}\n\nexport default function ensureOneMatch<I, T extends Tile<I>>({\n    grid,\n    setIdentity,\n    seed = Date.now(),\n}: { grid: Grid<T>; setIdentity(tile: T, id: I): void; seed?: number }) {\n    const arr = grid.asArray()\n    const randomTile = getRandomTile(grid, seed)\n    const nearbyTiles = getNearbyTiles(grid, randomTile)\n\n    if (nearbyTiles.some((tile) => tile.isSimilarTo(randomTile))) return\n\n    const randomTile2 = getRandomTile(nearbyTiles, seed)\n    const sacrifice = A.search(\n        arr,\n        (tile) =>\n            !tile.inSamePositionAs(randomTile) && !tile.inSamePositionAs(randomTile2) && tile.isSimilarTo(randomTile2),\n    )\n\n    if (sacrifice === undefined || randomTile.id === null) {\n        throw new Error('Could not find a sacrifice tile')\n    }\n\n    setIdentity(sacrifice, randomTile.id)\n    setIdentity(randomTile2, randomTile.id)\n}\n","import assignSpecialTiles from './assignSpecialTiles'\nimport createGrid from './createGrid'\nimport createGridFromFen from './createGridFromFen'\nimport createRotatedGrid from './createRotatedGrid'\nimport ensureOneMatch from './ensureOneMatch'\n\nexport default createGrid\n\nexport { assignSpecialTiles, createGridFromFen, createRotatedGrid, ensureOneMatch }\n","type LocaleKey = Ludex.Plugins.Language.TextKey\n\nconst NewbieSteps = [\n    {\n        startTile: { x: 0, y: 1 },\n        endTile: { x: 3, y: 1 },\n        localeTextKey: 'guide.step1',\n    },\n    {\n        startTile: { x: 2, y: 2 },\n        endTile: { x: 3, y: 0 },\n        localeTextKey: 'guide.step2',\n    },\n    {\n        startTile: { x: 0, y: 0 },\n        endTile: { x: 3, y: 3 },\n        localeTextKey: 'guide.step3',\n    },\n    {\n        startTile: { x: 0, y: 4 },\n        endTile: { x: 2, y: 3 },\n        localeTextKey: 'guide.step4',\n    },\n    {\n        startTile: { x: 1, y: 4 },\n        endTile: { x: 1, y: 2 },\n        localeTextKey: 'guide.step5',\n    },\n] as const satisfies Array<{\n    startTile: { x: number; y: number }\n    endTile: { x: number; y: number }\n    localeTextKey: LocaleKey\n}>\n\nexport default NewbieSteps\n","import { Vec2 } from 'cc'\nimport { Direction } from '../../../../constants/Directions'\n\nconst { Array: A } = Ludex.Utils\n\ntype Tile = {\n    isHidden(): boolean\n    isSimilarTo(other: Tile): boolean\n}\n\ntype Grid = {\n    get: (x: number, y: number) => Tile\n    isInBounds: (x: number, y: number) => boolean\n    width: number\n    height: number\n}\n\nfunction inSamePosition(a: Readonly<[number, number]>, b: Readonly<[number, number]>): boolean {\n    return a[0] === b[0] && a[1] === b[1]\n}\n\nfunction asVec2(coord: Readonly<[number, number]>): Vec2 {\n    return new Vec2(coord[0], coord[1])\n}\n\nfunction isTraversablePadding(coord: { x: number; y: number }, grid: Grid) {\n    return coord.x >= -1 && coord.x < grid.width + 1 && coord.y >= -1 && coord.y < grid.height + 1\n}\n\nfunction getAdjacentTiles(node: Node, directions: Vec2Like[] = DIRECTIONS4): [number, number][] {\n    return directions.map((direction) => [node.tile[0] + direction.x, node.tile[1] + direction.y])\n}\n\nconst MAX_SEARCHABLE_TURNS = 8\n\nconst DIRECTIONS4 = [Direction.Up, Direction.Down, Direction.Left, Direction.Right]\n\nclass Node {\n    public f = 0\n    public g = 0\n    public h = 0\n\n    readonly tile: Readonly<[number, number]>\n    readonly parent: Node | null\n    readonly cache: {\n        readonly direction: Vec2 | null\n        readonly turns: number\n    }\n\n    constructor(tile: Readonly<[number, number]>, parent: Node | null) {\n        if (parent && inSamePosition(tile, parent.tile)) {\n            throw new Error('Tile cannot be its own parent')\n        }\n\n        this.tile = tile\n        this.parent = parent\n\n        const direction = Node.calcDirection(this)\n        const hasTurned = parent && direction && parent.cache.direction && !direction.equals(parent.cache.direction)\n        const turns = hasTurned ? 1 : 0\n\n        this.cache = {\n            direction,\n            turns: turns + (parent?.cache.turns ?? 0),\n        }\n    }\n\n    private static calcDirection(node: Node): Vec2 | null {\n        if (node.parent) {\n            const parentCoord = node.parent.tile\n            const currentCoord = node.tile\n\n            return new Vec2(currentCoord[0] - parentCoord[0], currentCoord[1] - parentCoord[1])\n        }\n\n        return null\n    }\n\n    public getKey(): string {\n        /**\n         * NOTE: Using either Direction or Parent is enough to make sure node in overlapping paths are unique,\n         * Here we only use Direction to avoid having to find the key of the parent node\n         */\n        return `x:${this.tile[0]},y:${this.tile[1]},d:${\n            this.cache.direction?.toString() // direction\n        }`\n    }\n\n    public equals(node: Node): boolean {\n        return this.getKey() === node.getKey()\n    }\n}\n\n/**\n * Get a path from startTile to endTile.\n *\n * The path only contains traversable tiles,\n * only allows horizontal and vertical movement\n * and only allows two turns.\n *\n * @param grid The grid game component\n * @param startTile The starting tile\n * @param endTile The target tile\n * @returns Returns an array of tiles, including the start and end tiles or null if there is no valid path\n */\nexport function getBestPath(grid: Grid, startTile: [number, number], endTile: [number, number]): Path {\n    const traversableStartDirections = getTraversableDirections(grid, startTile)\n    const traversableEndDirections = getTraversableDirections(grid, endTile)\n\n    if (traversableStartDirections.length === 0 || traversableEndDirections.length === 0) {\n        return getStraightPath(startTile, endTile)\n    }\n\n    const path = getAStarPath(grid, startTile, endTile)\n    if (path) return path\n\n    return getStraightPath(startTile, endTile)\n}\n\nfunction getAStarPath(grid: Grid, startTile: [number, number], endTile: [number, number]): Path | null {\n    // A* algorithm\n    const openList: Node[] = []\n    const closedList: Node[] = []\n\n    const startNode = new Node(startTile, null)\n    const endNode = new Node(endTile, null)\n\n    // optimization\n    const exceptionTiles = [endNode.tile]\n\n    openList.push(startNode)\n\n    while (openList.length > 0) {\n        // Get the node with the lowest f score\n        const currentNode = openList.shift() as Node\n\n        // Add the current node to the closed list\n        closedList.push(currentNode)\n\n        // If the current node is the end node, return the path\n        if (inSamePosition(currentNode.tile, endNode.tile)) {\n            const path: Path = []\n\n            let endNode = currentNode\n            let previousNode = currentNode\n            let node: Node | null = currentNode.parent\n\n            while (node) {\n                if (node.cache.turns !== previousNode.cache.turns) {\n                    path.unshift({\n                        a: asVec2(node.tile),\n                        b: asVec2(endNode.tile),\n                    })\n\n                    endNode = node\n                }\n\n                previousNode = node\n                node = node.parent\n            }\n\n            path.unshift({\n                a: asVec2(previousNode.tile),\n                b: asVec2(endNode.tile),\n            })\n\n            return path\n        }\n\n        // Get traversable adjacent tiles of the current node\n        const adjacentTiles = getAdjacentTiles(\n            currentNode,\n            getTraversableDirections(grid, currentNode.tile, exceptionTiles),\n        )\n\n        for (const adjacentTile of adjacentTiles) {\n            // Create a new node for the adjacent tile\n            const adjacentNode = new Node(adjacentTile, currentNode)\n\n            // skip if the adjacent node have turned more than the specified amount for optimization\n            if (adjacentNode.cache.turns > MAX_SEARCHABLE_TURNS) {\n                continue\n            }\n\n            const isEndNode = inSamePosition(adjacentNode.tile, endNode.tile)\n            const isDiscovered = closedList.some((node) => node.equals(adjacentNode))\n            const isQueued = openList.some((node) => node.equals(adjacentNode))\n\n            /**\n             * Skip if the adjacent node is either:\n             * * Queued\n             * * Discovered (with the exception of the end node)\n             */\n            if (isQueued || (isDiscovered && !isEndNode)) {\n                continue\n            }\n\n            // Calculate the f score\n            adjacentNode.g = currentNode.g + 1 + adjacentNode.cache.turns\n            adjacentNode.h = getHeuristic(adjacentNode, endNode)\n            adjacentNode.f = adjacentNode.g + adjacentNode.h\n\n            // Add the adjacent node to the open list\n            openList.push(adjacentNode)\n        }\n\n        // Sort the open list by f score\n        openList.sort((a, b) => a.f - b.f)\n    }\n\n    return null\n}\n\nfunction getStraightPath(startTile: [number, number], endTile: [number, number]): Path {\n    const startCoord = asVec2(startTile)\n    const endCoord = asVec2(endTile)\n\n    if (startCoord.x === endCoord.x || startCoord.y === endCoord.y) {\n        return [{ a: startCoord, b: endCoord }]\n    }\n\n    return [\n        { a: startCoord, b: { x: startCoord.x, y: endCoord.y } },\n        { a: { x: startCoord.x, y: endCoord.y }, b: endCoord },\n    ]\n}\n\nfunction getHeuristic(node: Node, endNode: Node): number {\n    const currentCoord = node.tile\n    const endCoord = endNode.tile\n\n    return Math.abs(currentCoord[0] - endCoord[0]) + Math.abs(currentCoord[1] - endCoord[1])\n}\n\nfunction getTraversableDirections(\n    grid: Grid,\n    tile: Readonly<[number, number]>,\n    exceptionTiles: Readonly<[number, number]>[] = [],\n): Vec2Like[] {\n    const directions: Vec2Like[] = []\n\n    for (const direction of DIRECTIONS4) {\n        const coord = {\n            x: tile[0] + direction.x,\n            y: tile[1] + direction.y,\n        }\n\n        if (grid.isInBounds(coord.x, coord.y)) {\n            const adjacentTile = grid.get(coord.x, coord.y)\n\n            if (adjacentTile.isHidden() || A.search(exceptionTiles, (t) => inSamePosition(t, [coord.x, coord.y]))) {\n                directions.push(direction)\n            }\n\n            continue\n        }\n\n        if (isTraversablePadding(coord, grid)) {\n            directions.push(direction)\n        }\n    }\n\n    return directions\n}\n","import NewbieSteps from '../../../../guides/NewbieSteps'\nimport { getBestPath } from './getBestPath'\n\ntype Tile = {\n    isHidden(): boolean\n    isSimilarTo(other: Tile): boolean\n}\n\ntype Grid = {\n    get: (x: number, y: number) => Tile\n    isInBounds: (x: number, y: number) => boolean\n    width: number\n    height: number\n}\n\nexport function getErrorPath(\n    grid: Grid,\n    startTile: [number, number],\n    endTile: [number, number],\n    isNewbieLevel?: boolean,\n): Path {\n    if (isNewbieLevel) {\n        const newbieStartTile = NewbieSteps[4].startTile\n        const newbieEndTile = NewbieSteps[4].endTile\n\n        if (\n            startTile[0] === newbieStartTile.x &&\n            startTile[1] === newbieStartTile.y &&\n            endTile[0] === newbieEndTile.x &&\n            endTile[1] === newbieEndTile.y\n        ) {\n            //? Special case for the newbie guide\n            return [\n                {\n                    a: newbieStartTile,\n                    b: newbieEndTile,\n                },\n            ] as Path\n        }\n\n        if (\n            startTile[0] === newbieEndTile.x &&\n            startTile[1] === newbieEndTile.y &&\n            endTile[0] === newbieStartTile.x &&\n            endTile[1] === newbieStartTile.y\n        ) {\n            //? Special case for the newbie guide\n            return [\n                {\n                    a: newbieStartTile,\n                    b: newbieEndTile,\n                },\n            ] as Path\n        }\n    }\n\n    return getBestPath(grid, startTile, endTile)\n}\n","import TileSpecialTypes from '../../constants/TileSpecialTypes'\n\nconst defaultEncoding: TileEncoding = {\n    [TileSpecialTypes.bomb]: 'b',\n    [TileSpecialTypes.star]: 's',\n    [TileSpecialTypes.none]: 't',\n}\n\ntype Grid<T> = {\n    get(x: number, y: number): T\n    width: number\n    height: number\n}\n\ntype Tile<I> = {\n    isHidden(): boolean\n    id: I | null\n    special: { type: TileSpecialType } | undefined\n}\n\nexport default function getGridFen<I, T extends Tile<I>>(\n    grid: Readonly<Grid<T>>,\n    encoding: TileEncoding = defaultEncoding,\n): LevelFen {\n    const { width, height } = grid\n\n    const code = [] as string[]\n    const tileTypes: Map<I, string> = new Map()\n\n    // ? reversed to make the plain text more readable\n    // but requires another reverse when parsing\n    for (let y = height - 1; y >= 0; y--) {\n        const row = [] as Array<string>\n        for (let x = 0; x < width; x++) {\n            const tile = grid.get(x, y)\n            const identity = tile.isHidden() ? null : tile.id\n\n            if (identity === null) {\n                row.push('.')\n                continue\n            }\n\n            const specialType = tile.special?.type ?? TileSpecialTypes.none\n            const encodedType = encoding[specialType]\n\n            if (!tileTypes.has(identity)) {\n                const size = tileTypes.size.toString()\n                tileTypes.set(identity, size)\n            }\n\n            const encodedTile = `${encodedType}${tileTypes.get(identity)}`\n            row.push(encodedTile)\n        }\n\n        code.push(row.join(''))\n    }\n\n    // ? currently using the same variant for all orientations\n    return {\n        code: code.join(':'),\n        idSize: tileTypes.size,\n        encoding,\n        rows: height,\n        cols: width,\n    }\n}\n","import type Grid from '../../grid'\nimport type Tile from '../../tile'\n\nexport default function getOutOfSync(grid: Grid<Tile>): [Tile, [number, number]][] {\n    return grid.reduce(\n        (acc, tile, x, y) => {\n            if (tile.inSamePositionAs(x, y)) return acc\n            acc.push([tile, [x, y]] as const)\n            return acc\n        },\n        [] as [Tile, [number, number]][],\n    )\n}\n","/**\n * Iterator to iterate through a grid in a spiral from the outside in\n * @param width the width of the grid\n * @param height the height of the grid\n * @yields [x, y] coordinates of the grid, row first\n */\nexport default function* spiralTraversal(width: number, height: number): Generator<Vec2Like, void, unknown> {\n    let startRow = 0\n    let endRow = width - 1\n    let startCol = 0\n    let endCol = height - 1\n\n    while (startRow <= endRow && startCol <= endCol) {\n        // top row\n        for (let i = startRow; i <= endRow; i++) {\n            yield { x: i, y: startCol }\n        }\n        startCol++\n\n        // right col\n        for (let i = startCol; i <= endCol; i++) {\n            yield { x: endRow, y: i }\n        }\n        endRow--\n\n        // bottom row\n        for (let i = endRow; i >= startRow; i--) {\n            yield { x: i, y: endCol }\n        }\n        endCol--\n\n        // left col\n        for (let i = endCol; i >= startCol; i--) {\n            yield { x: startRow, y: i }\n        }\n        startRow++\n    }\n}\n","import { Vec2 } from 'cc'\nimport spiralTraversal from '../../../../utils/2d/traverseSpiralIn'\n\nconst { Array: A } = Ludex.Utils\n\ntype Tile = {\n    isHidden(): boolean\n    isSimilarTo(other: Tile): boolean\n}\n\ntype Grid = {\n    get: (x: number, y: number) => Tile\n    width: number\n    height: number\n}\n\nclass PaddingTile implements Tile {\n    coord: Vec2\n    width!: number\n    height!: number\n\n    constructor(x: number, y: number) {\n        this.coord = new Vec2(x, y)\n    }\n\n    isHidden(): boolean {\n        return true\n    }\n\n    isSimilarTo(): boolean {\n        return false\n    }\n}\n\nfunction asVec2(coord: Readonly<[number, number]>): Vec2 {\n    return new Vec2(coord[0], coord[1])\n}\n\nfunction getValidPath(grid: Grid): Path | null\nfunction getValidPath(grid: Grid, tile1: Readonly<[number, number]>, tile2: Readonly<[number, number]>): Path | null\n\nfunction getValidPath(grid: Grid, tile1?: Readonly<[number, number]>, tile2?: Readonly<[number, number]>): Path | null {\n    if (tile1 === undefined || tile2 === undefined) {\n        return findFirstMatch(grid)\n    }\n\n    const startCoord = [tile1[0] + 1, tile1[1] + 1] as const\n    const endCoord = [tile2[0] + 1, tile2[1] + 1] as const\n\n    const matrix = toPaddedGrid(grid)\n\n    const exceptionTiles = [startCoord, endCoord]\n\n    if (\n        (startCoord[0] === endCoord[0] &&\n            checkLineX(matrix, exceptionTiles, startCoord[1], endCoord[1], startCoord[0])) ||\n        (startCoord[1] === endCoord[1] && checkLineY(matrix, exceptionTiles, startCoord[0], endCoord[0], startCoord[1]))\n    ) {\n        return pathOffset([{ a: asVec2(startCoord), b: asVec2(endCoord) }], {\n            x: -1,\n            y: -1,\n        })\n    }\n\n    // Check in a rectangle with x-axis or y-axis\n    let t: number\n\n    const pMinY = startCoord[1] <= endCoord[1] ? startCoord : endCoord\n    const pMaxY = startCoord[1] <= endCoord[1] ? endCoord : startCoord\n    const pMinX = startCoord[0] <= endCoord[0] ? startCoord : endCoord\n    const pMaxX = startCoord[0] <= endCoord[0] ? endCoord : startCoord\n\n    let moreLinePath: Path = []\n    let rectPath: Path = []\n\n    const isMoreLineX = checkMoreLineX(matrix, exceptionTiles, 1, asVec2(pMinY), asVec2(pMaxY))\n    const isMoreLineX2 = checkMoreLineX(matrix, exceptionTiles, -1, asVec2(pMinY), asVec2(pMaxY))\n\n    if (isMoreLineX !== -1 || isMoreLineX2 !== -1) {\n        if (isMoreLineX !== -1) {\n            t = isMoreLineX\n        } else {\n            t = isMoreLineX2\n        }\n\n        moreLinePath = [\n            { a: asVec2(startCoord), b: { x: startCoord[0], y: t } },\n            { a: { x: startCoord[0], y: t }, b: { x: endCoord[0], y: t } },\n            { a: { x: endCoord[0], y: t }, b: asVec2(endCoord) },\n        ]\n    }\n\n    // Check more down or more up\n    const isMoreLineY = checkMoreLineY(matrix, exceptionTiles, 1, asVec2(pMinX), asVec2(pMaxX))\n    const isMoreLineY2 = checkMoreLineY(matrix, exceptionTiles, -1, asVec2(pMinX), asVec2(pMaxX))\n\n    if (isMoreLineY !== -1 || isMoreLineY2 !== -1) {\n        if (isMoreLineY !== -1) {\n            t = isMoreLineY\n        } else {\n            t = isMoreLineY2\n        }\n\n        moreLinePath = [\n            { a: asVec2(startCoord), b: { x: t, y: startCoord[1] } },\n            { a: { x: t, y: startCoord[1] }, b: { x: t, y: endCoord[1] } },\n            { a: { x: t, y: endCoord[1] }, b: asVec2(endCoord) },\n        ]\n    }\n\n    // Check in a rectangle with x-axis and y-axis\n    const rectX = checkRectX(matrix, exceptionTiles, asVec2(pMinY), asVec2(pMaxY))\n\n    if (rectX !== -1) {\n        t = rectX\n        rectPath = [\n            { a: asVec2(startCoord), b: { x: startCoord[0], y: t } },\n            { a: { x: startCoord[0], y: t }, b: { x: endCoord[0], y: t } },\n            { a: { x: endCoord[0], y: t }, b: asVec2(endCoord) },\n        ]\n    }\n\n    const rectY = checkRectY(matrix, exceptionTiles, asVec2(pMinX), asVec2(pMaxX))\n\n    if (rectY !== -1) {\n        t = rectY\n        rectPath = [\n            { a: asVec2(startCoord), b: { x: t, y: startCoord[1] } },\n            { a: { x: t, y: startCoord[1] }, b: { x: t, y: endCoord[1] } },\n            { a: { x: t, y: endCoord[1] }, b: asVec2(endCoord) },\n        ]\n    }\n\n    if (moreLinePath.length > 0 && rectPath.length > 0) {\n        return pathOffset(getPathLength(moreLinePath) <= getPathLength(rectPath) ? moreLinePath : rectPath, {\n            x: -1,\n            y: -1,\n        })\n    }\n\n    if (moreLinePath.length > 0) {\n        return pathOffset(moreLinePath, { x: -1, y: -1 })\n    }\n\n    if (rectPath.length > 0) {\n        return pathOffset(rectPath, { x: -1, y: -1 })\n    }\n\n    return null\n}\n\nfunction getPathLength(path: Path): number {\n    let length = 0\n\n    for (const line of path) {\n        length += getLineLength(line)\n    }\n\n    return length\n}\n\nfunction getLineLength(line: Line): number {\n    if (line.a.x === line.b.x) {\n        return Math.abs(line.a.y - line.b.y)\n    }\n    if (line.a.y === line.b.y) {\n        return Math.abs(line.a.x - line.b.x)\n    }\n\n    return 0\n}\n\nfunction inSamePosition(a: Readonly<[number, number]>, b: Readonly<[number, number]>): boolean {\n    return a[0] === b[0] && a[1] === b[1]\n}\n\nfunction isTraversable(\n    matrix: Grid,\n    coord: Readonly<[number, number]>,\n    exceptionTiles: Readonly<[number, number]>[] = [],\n): boolean {\n    const tile = matrix.get(...coord)\n    return tile.isHidden() || exceptionTiles.some((exceptionTile) => inSamePosition(exceptionTile, coord))\n}\n\nfunction checkLineX(\n    matrix: Grid,\n    exceptionTiles: Readonly<Readonly<[number, number]>>[],\n    y1: number,\n    y2: number,\n    x: number,\n): boolean {\n    const min = Math.min(y1, y2)\n    const max = Math.max(y1, y2)\n    // run column\n    for (let y = min; y <= max; y++) {\n        if (!isTraversable(matrix, [x, y], exceptionTiles)) {\n            return false\n        }\n    }\n    return true\n}\n\nfunction checkLineY(\n    matrix: Grid,\n    exceptionTiles: Readonly<[number, number]>[],\n    x1: number,\n    x2: number,\n    y: number,\n): boolean {\n    const min = Math.min(x1, x2)\n    const max = Math.max(x1, x2)\n    for (let x = min; x <= max; x++) {\n        if (!isTraversable(matrix, [x, y], exceptionTiles)) {\n            return false\n        }\n    }\n    return true\n}\n\nfunction checkRectX(\n    matrix: Grid,\n    exceptionTiles: Readonly<[number, number]>[],\n    pMinY: Vec2Like,\n    pMaxY: Vec2Like,\n): number {\n    for (let y = pMinY.y + 1; y < pMaxY.y; y++) {\n        // check three line\n        if (\n            checkLineX(matrix, exceptionTiles, pMinY.y, y, pMinY.x) &&\n            checkLineY(matrix, exceptionTiles, pMinY.x, pMaxY.x, y) &&\n            checkLineX(matrix, exceptionTiles, y, pMaxY.y, pMaxY.x)\n        ) {\n            return y\n        }\n    }\n    // have a line in three line not true then return -1\n    return -1\n}\n\nfunction checkRectY(matrix: Grid, exceptionTiles: Readonly<[number, number]>[], pMinX: Vec2Like, pMaxX: Vec2Like) {\n    // find line and y begin\n    for (let x = pMinX.x + 1; x < pMaxX.x; x++) {\n        if (\n            checkLineY(matrix, exceptionTiles, pMinX.x, x, pMinX.y) &&\n            checkLineX(matrix, exceptionTiles, pMinX.y, pMaxX.y, x) &&\n            checkLineY(matrix, exceptionTiles, x, pMaxX.x, pMaxX.y)\n        ) {\n            return x\n        }\n    }\n    return -1\n}\n\nfunction checkMoreLineX(\n    matrix: Grid,\n    exceptionTiles: Readonly<[number, number]>[],\n    type: number,\n    pMinY: Vec2Like,\n    pMaxY: Vec2Like,\n): number {\n    // find line and y begin\n    let y = type === 1 ? pMaxY.y : pMinY.y\n    const row = type === 1 ? pMinY.x : pMaxY.x\n    // check more\n    if (checkLineX(matrix, exceptionTiles, pMinY.y, pMaxY.y, row)) {\n        while (\n            y >= 0 &&\n            y < matrix.height &&\n            isTraversable(matrix, [pMinY.x, y], exceptionTiles) &&\n            isTraversable(matrix, [pMaxY.x, y], exceptionTiles)\n        ) {\n            if (checkLineY(matrix, exceptionTiles, pMinY.x, pMaxY.x, y)) {\n                return y\n            }\n            y += type\n        }\n    }\n    return -1\n}\n\nfunction checkMoreLineY(\n    matrix: Grid,\n    exceptionTiles: Readonly<[number, number]>[],\n    type: number,\n    pMinX: Vec2Like,\n    pMaxX: Vec2Like,\n): number {\n    let x = type === 1 ? pMaxX.x : pMinX.x\n    const col = type === 1 ? pMinX.y : pMaxX.y\n\n    if (checkLineY(matrix, exceptionTiles, pMinX.x, pMaxX.x, col)) {\n        while (\n            x >= 0 &&\n            x < matrix.width &&\n            isTraversable(matrix, [x, pMinX.y], exceptionTiles) &&\n            isTraversable(matrix, [x, pMaxX.y], exceptionTiles)\n        ) {\n            if (checkLineX(matrix, exceptionTiles, pMinX.y, pMaxX.y, x)) {\n                return x\n            }\n            x += type\n        }\n    }\n    return -1\n}\n\nfunction pathOffset(path: Path, by: Vec2Like | Vec2): Path {\n    return path.map((line) => {\n        return {\n            a: {\n                x: line.a.x + by.x,\n                y: line.a.y + by.y,\n            },\n            b: {\n                x: line.b.x + by.x,\n                y: line.b.y + by.y,\n            },\n        }\n    })\n}\n\nfunction toPaddedGrid(grid: Grid): Grid {\n    const topPadding = A.fillWith(grid.width + 2, (i) => new PaddingTile(i - 1, -1))\n    const bottomPadding = A.fillWith(grid.width + 2, (i) => new PaddingTile(i - 1, grid.height))\n    const leftPadding = A.fillWith(grid.height, (i) => new PaddingTile(-1, i))\n    const rightPadding = A.fillWith(grid.height, (i) => new PaddingTile(grid.width, i))\n\n    const getter = (x: number, y: number) => {\n        const realX = x - 1\n        const realY = y - 1\n\n        if (realX === -1) {\n            return leftPadding[realY]\n        }\n        if (realX === grid.width) {\n            return rightPadding[realY]\n        }\n        if (realY === -1) {\n            return topPadding[realX]\n        }\n        if (realY === grid.height) {\n            return bottomPadding[realX]\n        }\n\n        return grid.get(realX, realY)\n    }\n\n    return {\n        get(x: number, y: number) {\n            return getter(x, y)\n        },\n        width: grid.width + 2,\n        height: grid.height + 2,\n    }\n}\n\nfunction findFirstMatch(\n    grid: Grid,\n    traverseFn: (width: number, height: number) => Generator<IVec2Like, void, unknown> = spiralTraversal,\n): Path | null {\n    // get coords in spiral order to optimize the search\n    // NOTE: this search is skewed towards the top left corner of the grid (row first)\n    // convert coords to tiles and filter out empty tiles\n    // NOTE: this assumes that spiralTraversal() returns valid coords\n    // WARNING: this will throw an error if the tile is null\n    const tiles: [Tile, [number, number]][] = []\n\n    for (const coord of traverseFn(grid.width, grid.height)) {\n        const tile = grid.get(coord.x, coord.y)\n        if (tile.isHidden()) continue\n\n        tiles.push([tile, [coord.x, coord.y]])\n    }\n\n    const discovered: Readonly<[number, number]>[] = []\n\n    while (tiles.length > 0) {\n        const [tile, coord] = tiles.shift()!\n\n        if (A.search(discovered, (dis) => inSamePosition(dis, coord))) continue\n\n        discovered.push(coord)\n\n        // find other tile that is the same and has a valid path\n        for (const [otherTile, otherCoord] of tiles) {\n            if (!otherTile.isSimilarTo(tile) || A.search(discovered, (dis) => inSamePosition(dis, otherCoord))) continue\n\n            const path = getValidPath(grid, coord, otherCoord)\n            if (path !== null) return path\n        }\n    }\n\n    return null\n}\n\nexport default getValidPath\n","import {\n    _decorator,\n    Component,\n    game,\n    instantiate,\n    math,\n    Node,\n    randomRange,\n    type SpriteFrame,\n    tween,\n    UITransform,\n    Vec2,\n    Widget,\n} from 'cc'\nimport GameEvents from '../../../constants/GameEvents'\nimport GameWorld from '../../../constants/GameWorld'\nimport { CodeSoundKeys } from '../../../constants/SoundKeys'\nimport AnimUtils from '../../../utils/AnimUtils'\nimport AudioUtils from '../../../utils/AudioUtils'\nimport ComponentUtils from '../../../utils/ComponentUtils'\nimport LayoutUtils from '../../../utils/LayoutUtils'\nimport { Direction } from '../../constants/Directions'\nimport GameplayEvents from '../../constants/GameEvents'\nimport LevelGravity from '../../constants/LevelGravity'\nimport { DEFAULT_LEVEL_DATA } from '../../manager/LevelManager'\nimport stagger from '../../utils/2d/stagger'\nimport Grid from './grid'\nimport Tile from './tile'\nimport calcBoardScale from './utils/calc/calcBoardScale'\nimport calcTilePosition from './utils/calc/calcTilePosition'\nimport calcTileSize from './utils/calc/calcTileSize'\nimport parseLevelGravity from './utils/calc/parseLevelGravity'\nimport rotateGravity from './utils/calc/rotateGravity'\nimport rotatePath from './utils/calc/rotatePath'\nimport createGrid, { assignSpecialTiles, createGridFromFen, createRotatedGrid, ensureOneMatch } from './utils/create'\nimport { getBombTiles, getCleared, getRandomPair, getRandomTiles, getUncleared } from './utils/get'\nimport { getErrorPath } from './utils/get/getErrorPath'\nimport getGridFen from './utils/get/getGridFen'\nimport getOutOfSync from './utils/get/getOutOfSync'\nimport getValidPath from './utils/get/getValidPath'\n\nconst { ccclass, property, requireComponent } = _decorator\n\nconst { monitorError } = codex\n\nconst MINIMUM_TILES_TO_GRAVITATE = 14\nconst MINIMUM_UNCLEARED_TO_SPAWN = 2\nconst MINIMUM_NORMAL_MATCHES_TO_SPAWN = 5\nconst SPAWN_INTERVAL = 2\n\nconst {\n    Utils: { Array: A, Function: F, Valid: V },\n} = Ludex\n\nconst { Layout } = GameWorld\n\ntype Layout = (typeof Layout)[keyof typeof Layout]\ntype ClearPayload = {\n    pairs: [Tile, Tile][]\n    stagger?: number\n    delay?: number\n    lightning?: boolean\n}\n\n@ccclass('Board')\n@requireComponent(UITransform)\nexport default class Board extends Component {\n    @ComponentUtils.required()\n    @property(Tile)\n    private readonly tilePrefab!: Tile\n\n    @ComponentUtils.required()\n    @property(Node)\n    public tilesHolder!: Node\n\n    @property({ displayName: 'Tile Spacing', group: 'Create config' })\n    public tileTrim = new Vec2(0.025, 0.1)\n    private tileSize: [number, number] = [0, 0]\n\n    public widget!: Widget\n\n    private uiTransform!: UITransform\n\n    private grid?: Grid<Tile>\n    private selectedTile: Tile | null = null\n\n    // game cycle\n    private isPlayingEffect = false\n    private levelData?: ILevelData\n    private useRotatedGameplay = false\n    private dirtyGameplayRotation = false\n    private parsedGravityRules: LevelGravity[] = []\n    private normalMatches = 0\n    private normalMatchesSinceLastSpawn = 0\n    private spawnAttempts = 0\n    private hintPath: Path | null = null\n    private hintTiles: [Tile, Tile] | null = null\n    private isAnimating: boolean = false\n\n    // ! Animation handlers must be pure functions to avoid side effects and potential bugs\n    private animationQueue: Array<() => Promise<unknown>> = []\n    private isConsumingAnimation = false\n\n    protected onLoad(): void {\n        this.widget = this.getComponent(Widget) as Widget\n        this.uiTransform = this.getComponent(UITransform) as UITransform\n\n        ComponentUtils.validateRequiredProperties(this, Board)\n\n        this.tilePrefab.node.active = false\n        this.listenEvents()\n    }\n\n    protected onDestroy(): void {\n        this.unlistenEvents()\n    }\n\n    private shouldRotate(levelData: ILevelData): boolean {\n        if (levelData.level === 0) return false\n\n        const isLevelPortrait = levelData.rows > levelData.columns\n        const isOrientationPortrait = this.uiTransform.height > this.uiTransform.width\n        return isLevelPortrait !== isOrientationPortrait\n    }\n\n    public async create(frames: Promise<SpriteFrame[]>, levelData: ILevelData, seed = Date.now()) {\n        this.levelData = levelData\n\n        //? Reset the widget for the newbie level\n        this.handleOrientationChanged(LayoutUtils.getCurrentLayout())\n        await AnimUtils.waitTweenAsync(0)\n\n        //? Shuffle the frames to avoid same board patterns\n        const framesPromise = frames.then((unshuffled) => {\n            const shuffled = [...unshuffled]\n            A.shuffle(shuffled)\n            const selected = shuffled.slice(0, levelData.colors)\n\n            monitorError?.addMetadata({\n                frames: selected.map((frame) => frame.name),\n            })\n\n            return selected\n        })\n\n        const identities = A.fillWith(levelData.colors, (i) => i)\n\n        this.useRotatedGameplay = this.shouldRotate(levelData) && this.levelData.level !== 0\n\n        this.parsedGravityRules = parseLevelGravity(levelData.mode)\n\n        const createTile = (id: number) => {\n            const tile = instantiate(this.tilePrefab.node)\n            const tileComponent = tile.getComponent(Tile) as Tile\n\n            tileComponent.setIdentity(id, framesPromise)\n            this.tilesHolder.addChild(tile)\n\n            tile.active = true\n\n            return tileComponent\n        }\n\n        let usedFen = false\n\n        if (levelData.customFen !== undefined) {\n            try {\n                usedFen = true\n\n                this.grid = createGridFromFen({\n                    customFen: levelData.customFen,\n                    identities,\n                    createTile,\n                })\n\n                if (this.useRotatedGameplay) this.grid = createRotatedGrid(this.grid)\n\n                this.grid.each((tile, x, y) => {\n                    tile.setCoord(x, y)\n                    tile.setIgnoreInput(false)\n                    tile.node.setSiblingIndex(0)\n                })\n            } catch (error) {\n                console.error('Error creating grid from custom fen', error, 'falling back to random grid')\n\n                usedFen = false\n            }\n        }\n\n        if (!usedFen) {\n            this.grid = createGrid({\n                levelData,\n                seed,\n                identities,\n                createTile,\n                setTileIdentity: (tile, id) => tile.setIdentity(id, framesPromise),\n            })\n\n            if (this.useRotatedGameplay) this.grid = createRotatedGrid(this.grid)\n\n            this.grid.each((tile, x, y) => {\n                tile.setCoord(x, y)\n                tile.setIgnoreInput(false)\n                tile.node.setSiblingIndex(0)\n            })\n\n            ensureOneMatch({\n                grid: this.grid,\n                setIdentity: (tile, id: number) => tile.setIdentity(id, framesPromise),\n                seed,\n            })\n            assignSpecialTiles(this.grid, levelData, seed)\n        }\n\n        const trim = [this.tileTrim.x, this.tileTrim.y] as const\n        this.tileSize = calcTileSize(this.tilePrefab.getSize(), trim)\n\n        this.updateTilesHolderScale()\n\n        this.node.scene.emit(GameplayEvents.GRID_CREATE, this)\n\n        this.selectedTile = null\n        this.animationQueue = []\n        this.normalMatches = 0\n        this.normalMatchesSinceLastSpawn = 0\n        this.spawnAttempts = 0\n        this.hintPath = null\n\n        this.processGameplayCycle()\n    }\n\n    private updateTilesHolderScale(): void {\n        if (!this.grid) return\n\n        const gridSize = [this.grid.width, this.grid.height] as const\n        const screenSize = [this.uiTransform.width, this.uiTransform.height] as const\n\n        const scale = calcBoardScale(gridSize, this.tilePrefab.getSize(), screenSize)\n        this.tilesHolder.setScale(scale, scale)\n\n        this.node.scene.emit(GameplayEvents.GRID_RESIZE, scale)\n    }\n\n    public destroyTiles(): void {\n        this.grid?.each((tile) => tile.node.destroy())\n    }\n\n    public animateTilesAppear(): Promise<void> {\n        if (!this.grid) {\n            const error = new Error('animateTilesAppear: Grid is not initialized')\n            if (V.isDebugger()) throw error\n            monitorError?.sendException(error)\n            return Promise.resolve()\n        }\n\n        const grid = this.grid\n\n        const getFlyInDirection = (x: number, y: number) => {\n            const direction = Vec2.ZERO.clone()\n            for (const gravityType of this.parsedGravityRules) {\n                const gravity = this.useRotatedGameplay ? rotateGravity(gravityType) : gravityType\n                const primitiveDirection = this.getPrimitiveDirection(x, y, gravity)\n                direction.subtract2f(primitiveDirection.x, primitiveDirection.y)\n            }\n            return direction.normalize()\n        }\n\n        return new Promise((resolve) => {\n            const animHandler = async () => {\n                const getTargetPosition = (pos: math.IVec2Like) => calcTilePosition(grid, this.tileSize, pos)\n\n                await Promise.all(\n                    grid.map((tile, x, y) => {\n                        const delay = randomRange(0, 0.5)\n                        const targetScale = tile.node.scale.clone()\n                        const appearDirection = getFlyInDirection(x, y)\n                        const pos = calcTilePosition(grid, this.tileSize, { x, y })\n                        const startPos = appearDirection.multiplyScalar(100).add2f(pos.x, pos.y)\n\n                        tile.node.setPosition(startPos.x, startPos.y)\n                        tile.node.setScale(0, 0)\n\n                        return Promise.all([\n                            AnimUtils.runTweenAsync(\n                                tween(tile.node).delay(delay).to(0.5, { scale: targetScale }, { easing: 'elasticOut' }),\n                            ),\n                            tile.sync({\n                                getTargetPosition,\n                                easing: 'backOut',\n                                duration: 0.5,\n                                delay,\n                            }),\n                        ])\n                    }),\n                )\n\n                resolve()\n            }\n\n            this.animationQueue.push(animHandler)\n            this.consumeAnimationQueue()\n        })\n    }\n\n    public animateTilesWave(): Promise<void> {\n        if (!this.grid) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'animateTilesWave')\n            return Promise.resolve()\n        }\n\n        const grid = this.grid\n\n        return new Promise((resolve) => {\n            const animHandler = async () => {\n                const staggers = stagger('center', { x: grid.width, y: grid.height })\n\n                await Promise.all(\n                    grid.map((tile, x, y) => {\n                        const stagger = staggers[x]?.[y] ?? 0\n                        const delay = stagger * 0.1\n                        const scale = tile.node.scale.clone()\n\n                        return Promise.all([\n                            AnimUtils.runTweenAsync(\n                                tween(tile.node)\n                                    .delay(delay)\n                                    .to(0.25, { scale: scale.clone().multiplyScalar(1.2) }, { easing: 'quadOut' })\n                                    .to(0.25, { scale: scale }, { easing: 'quadIn' }),\n                            ),\n                        ])\n                    }),\n                )\n\n                resolve()\n            }\n\n            this.animationQueue.push(animHandler)\n            this.consumeAnimationQueue()\n        })\n    }\n\n    public async animateTilesError(tiles: Tile[]): Promise<void> {\n        if (!this.grid) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'animateTilesError')\n            return Promise.resolve()\n        }\n\n        if (this.isAnimating) return\n        this.isAnimating = true\n\n        await Promise.all(\n            tiles.map((tile) => {\n                return tile.moveAround()\n            }),\n        )\n\n        this.isAnimating = false\n    }\n\n    public handleTileClick(tile: Tile): void {\n        if (tile.isHidden()) return\n\n        if (this.selectedTile === tile) {\n            AudioUtils.playSound(CodeSoundKeys.TILE_SELECT)\n            this.selectedTile = null\n            tile.setFocused(false)\n            return\n        }\n\n        if (!this.selectedTile) {\n            AudioUtils.playSound(CodeSoundKeys.TILE_SELECT)\n            this.selectedTile = tile\n            tile.setFocused(true)\n            return\n        }\n\n        if (!this.selectedTile.isSimilarTo(tile)) {\n            AudioUtils.playSound(CodeSoundKeys.TILE_SELECT)\n            this.selectedTile.setFocused(false)\n            this.selectedTile = tile\n            tile.setFocused(true)\n            return\n        }\n\n        this.selectedTile.setFocused(false)\n\n        this.match(this.selectedTile, tile)\n        this.selectedTile = null\n    }\n\n    public clearSelectedTile(): void {\n        if (this.selectedTile) {\n            this.selectedTile.setFocused(false)\n            this.selectedTile = null\n        }\n    }\n\n    public match(tileA: Tile, tileB: Tile): void {\n        if (!this.grid || !this.levelData) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'match')\n            return\n        }\n\n        const coordA = [tileA.getCoord().x, tileA.getCoord().y] as [number, number]\n        const coordB = [tileB.getCoord().x, tileB.getCoord().y] as [number, number]\n        const path = getValidPath(this.grid, coordA, coordB)\n\n        if (path === null) {\n            AudioUtils.playSound(CodeSoundKeys.INVALID_MATCH)\n\n            this.animateTilesError([tileA, tileB])\n\n            const isNewbieLevel = this.levelData.level === 0\n            const errorPath = getErrorPath(this.grid, coordA, coordB, isNewbieLevel)\n\n            this.node.scene.emit(GameplayEvents.GRID_MATCH, [tileA, tileB])\n            this.node.scene.emit(GameplayEvents.GRID_MATCH_FAIL, errorPath)\n\n            return\n        }\n\n        AudioUtils.playSound(CodeSoundKeys.TILE_MATCH)\n\n        this.node.scene.emit(GameplayEvents.GRID_MATCH, [tileA, tileB])\n        this.node.scene.emit(GameplayEvents.GRID_MATCH_SUCCESS, path, [tileA, tileB])\n        this.clear({ pairs: [[tileA, tileB]] })\n    }\n\n    public clear(payload: ClearPayload): void {\n        const { pairs, stagger = 0, delay = 0, lightning = false } = payload\n\n        this.normalMatches += pairs.length\n\n        for (let i = 0; i < pairs.length; i++) {\n            const [a, b] = pairs[i] as [Tile, Tile]\n\n            const delay1 = stagger ? i * 2 * stagger : 0\n            const delay2 = stagger ? (i * 2 + 1) * stagger : 0\n\n            a.setEmpty()\n            b.setEmpty()\n\n            a.playClearFX(delay1, lightning)\n            b.playClearFX(delay2, lightning)\n\n            this.node.scene.emit(GameplayEvents.GRID_CLEAR, [a, b])\n        }\n\n        AnimUtils.waitTweenAsync(delay).then(() => {\n            this.processGameplayCycle()\n        })\n    }\n\n    public clearUsingOldLightningFX(pairs: [Tile, Tile][]): void {\n        this.normalMatches += pairs.length\n\n        for (const element of pairs) {\n            const [a, b] = element\n\n            a.setEmpty()\n            b.setEmpty()\n\n            a.playOldLightningClearFX()\n            b.playOldLightningClearFX()\n\n            this.node.scene.emit(GameplayEvents.GRID_CLEAR, [a, b])\n        }\n\n        this.processGameplayCycle()\n    }\n\n    public showHint(): void {\n        if (!this.hintPath) return\n        const startLine = this.hintPath[0]\n        const endLine = this.hintPath[this.hintPath.length - 1]\n\n        if (!startLine || !endLine) {\n            this.reportOrThrowInDebugger('Hint path is not valid', 'showHint')\n            return\n        }\n\n        const coordA = startLine.a\n        const coordB = endLine.b\n\n        const tileA = this.getTileAt(coordA.x, coordA.y)\n        const tileB = this.getTileAt(coordB.x, coordB.y)\n\n        if (!tileA || !tileB) {\n            this.reportOrThrowInDebugger('Hint tiles are not valid', 'showHint')\n            return\n        }\n\n        tileA.setHint(true)\n        tileB.setHint(true)\n\n        this.hintTiles = [tileA, tileB]\n    }\n\n    public hideHint(): void {\n        if (this.hintTiles) {\n            const [tileA, tileB] = this.hintTiles\n            tileA.setHint(false)\n            tileB.setHint(false)\n            this.hintTiles = null\n        }\n    }\n\n    public getHintPath(): Path | null {\n        return this.hintPath\n    }\n\n    public getTileAt(x: number, y: number): Tile | null {\n        if (!this.grid) return null\n        if (!this.grid.isInBounds(x, y)) return null\n        return this.grid.get(x, y)\n    }\n\n    public getAnyTileWorldPosition(x: number, y: number): Vec2Like {\n        if (!this.grid) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'getAnyTileWorldPosition')\n            return { x: 0, y: 0 }\n        }\n\n        const pos = calcTilePosition(this.grid, this.tileSize, { x, y })\n        this.tilePrefab.node.setPosition(pos.x, pos.y)\n        const worldPos = this.tilePrefab.node.getWorldPosition()\n        return {\n            x: worldPos.x,\n            y: worldPos.y,\n        }\n    }\n\n    public getTileSize(): Readonly<[number, number]> {\n        return this.tileSize\n    }\n\n    public getGridSize(): Readonly<[number, number]> {\n        if (!this.grid) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'getGridSize')\n            return [0, 0]\n        }\n\n        return [this.grid.width, this.grid.height]\n    }\n\n    public getUncleared(): Tile[] {\n        if (!this.grid) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'getUncleared')\n            return []\n        }\n\n        return getUncleared(this.grid)\n    }\n\n    public getCleared(): Tile[] {\n        if (!this.grid) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'getCleared')\n            return []\n        }\n\n        return getCleared(this.grid)\n    }\n\n    public getBombTiles(): Tile[] {\n        if (!this.grid) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'getBombTiles')\n            return []\n        }\n\n        return getBombTiles(this.grid)\n    }\n\n    public getPairs(count = 1, uncleared = true): [Tile, Tile][] {\n        if (!this.grid) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'getPairs')\n            return []\n        }\n\n        const pairs: [Tile, Tile][] = []\n\n        let tiles = uncleared ? getUncleared(this.grid) : getCleared(this.grid)\n\n        while (pairs.length < count) {\n            const [a, b] = getRandomPair(tiles)\n            pairs.push([a, b])\n            tiles = tiles.filter((tile) => tile !== a && tile !== b)\n        }\n\n        return pairs\n    }\n\n    public getBoundingBoxWorld(): math.Rect {\n        const boardScale = this.tilesHolder.getWorldScale().x\n        const gridSize = this.getGridSize()\n\n        const width = this.tileSize[0] * boardScale * gridSize[0]\n        const height = this.tileSize[1] * boardScale * gridSize[1]\n\n        const topBottomPos = this.node.getWorldPosition().subtract3f(width / 2, height / 2, 0)\n\n        return new math.Rect(topBottomPos.x, topBottomPos.y, width, height)\n    }\n\n    public setIgnoreInput(ignore = true): void {\n        this.grid?.each((tile) => tile.setIgnoreInput(ignore))\n    }\n\n    public processShuffleRequest(\n        handleShuffleAnimation: (prevGrid: Grid<Tile>, currGrid: Grid<Tile>) => Promise<void>,\n    ): void {\n        if (!this.grid) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'processShuffleRequest')\n            return\n        }\n\n        const newGridAndPath = this.processShuffleStep(this.grid, true, handleShuffleAnimation)\n        this.grid = newGridAndPath[0]\n        this.hintPath = newGridAndPath[1]\n\n        this.consumeAnimationQueue()\n    }\n\n    public generateFenFromCurrentLevel(data?: ILevelData): LevelFen {\n        if (!this.levelData) {\n            this.reportOrThrowInDebugger('Level data is not initialized', 'generateFenFromCurrentLevel')\n        }\n\n        return Board.generateFen(data ?? this.levelData ?? DEFAULT_LEVEL_DATA)\n    }\n\n    public static generateFen(data: ILevelData): LevelFen {\n        const levelData = data\n\n        const frames = []\n        for (let i = 0; i < levelData.colors; i++) {\n            frames.push(i + 1)\n        }\n\n        const seed = Date.now()\n\n        /**\n         * Fake tile with barely enough logic to create a grid\n         */\n        type FakeTile = {\n            id: number\n            special: { type: TileSpecialType } | undefined\n            coord: Vec2\n            setIdentity: (id: number) => void\n            isHidden: () => boolean\n            setSpecialType: (t: TileSpecialType) => void\n            setCoord: (x: number, y: number) => void\n            getCoord: () => Vec2\n            isSimilarTo: (tile: FakeTile) => boolean\n            inSamePositionAs: (tile: FakeTile) => boolean\n        }\n\n        const grid = createGrid({\n            levelData,\n            seed,\n            identities: frames,\n            setTileIdentity: (tile: FakeTile, id) => tile.setIdentity(id),\n            createTile: (frame) => {\n                let identity = frame\n                let special: { type: TileSpecialType } | undefined = undefined\n                const coord = new Vec2(0, 0)\n\n                return {\n                    get id() {\n                        return identity\n                    },\n                    get special() {\n                        return special\n                    },\n                    get coord() {\n                        return coord\n                    },\n                    setIdentity: (id) => {\n                        identity = id\n                    },\n                    isHidden: () => false,\n                    setSpecialType: (t: TileSpecialType) => {\n                        special = { type: t }\n                    },\n                    setCoord: (x: number, y: number) => coord.set(x, y),\n                    getCoord: () => coord,\n                    isSimilarTo: (tile: FakeTile) => tile.id === identity,\n                    inSamePositionAs: (tile: FakeTile) => tile.getCoord().equals(coord),\n                } as FakeTile\n            },\n        })\n\n        grid.each((tile, x, y) => {\n            tile.setCoord(x, y)\n        })\n\n        ensureOneMatch({ grid, seed, setIdentity: (tile, id: number) => tile.setIdentity(id) })\n        assignSpecialTiles(grid, levelData, seed)\n\n        return getGridFen(grid)\n    }\n\n    private listenEvents() {\n        game.on(GameEvents.VIEW_RESIZED, this.handleViewResized)\n        game.on(GameEvents.WIDGET_RESIZED, this.handleViewResized)\n        // @ts-expect-error - This event is custom event\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n        this.node.scene.on(GameplayEvents.EFFECTS_ANIMATION_START, this.onEffectAnimStarted, this)\n        this.node.scene.on(GameplayEvents.EFFECTS_ANIMATION_END, this.onEffectAnimEnded, this)\n    }\n\n    private unlistenEvents() {\n        game.off(GameEvents.VIEW_RESIZED, this.handleViewResized)\n        game.off(GameEvents.WIDGET_RESIZED, this.handleViewResized)\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n        this.node.scene.off(GameplayEvents.EFFECTS_ANIMATION_START, this.onEffectAnimStarted, this)\n        this.node.scene.off(GameplayEvents.EFFECTS_ANIMATION_END, this.onEffectAnimEnded, this)\n    }\n\n    private onEffectAnimStarted(): void {\n        this.isPlayingEffect = true\n    }\n\n    private onEffectAnimEnded(): void {\n        this.isPlayingEffect = false\n        this.handleOrientationChanged(LayoutUtils.getCurrentLayout())\n        this.handleViewResized()\n    }\n\n    private readonly handleViewResized = F.debounce(() => {\n        if (this.isPlayingEffect) return\n\n        this.updateTilesHolderScale()\n\n        if (this.levelData) {\n            const shouldRotate = this.shouldRotate(this.levelData)\n            this.dirtyGameplayRotation = this.useRotatedGameplay !== shouldRotate\n            if (this.dirtyGameplayRotation) {\n                this.consumeAnimationQueue()\n            }\n        }\n    }, 100)\n\n    public getWidgetMargins(layout: Layout) {\n        if (layout === Layout.Landscape && (this.levelData === undefined || this.levelData.level !== 0)) {\n            return {\n                top: 80,\n                bottom: 80,\n                left: 640,\n                right: 60,\n            }\n        }\n\n        return {\n            top: 160,\n            bottom: 160,\n            left: 20,\n            right: 20,\n        }\n    }\n\n    private handleOrientationChanged(layout: Layout): void {\n        if (this.isPlayingEffect) return\n        const { top, bottom, left, right } = this.getWidgetMargins(layout)\n        this.widget.top = top\n        this.widget.bottom = bottom\n        this.widget.left = left\n        this.widget.right = right\n    }\n\n    private processGameplayCycle(): void {\n        if (!this.node.activeInHierarchy || !this.grid || !this.levelData) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'processGameplayCycle')\n            return\n        }\n\n        const uncleared = getUncleared(this.grid)\n\n        if (uncleared.length === 0) {\n            return\n        }\n\n        let grid = this.grid\n\n        const shouldTrySpawning =\n            uncleared.length >= MINIMUM_UNCLEARED_TO_SPAWN &&\n            this.spawnAttempts < this.levelData.rules.addRandomTilesPerMove &&\n            this.normalMatches >= MINIMUM_NORMAL_MATCHES_TO_SPAWN\n\n        const canSpawn = this.normalMatchesSinceLastSpawn >= SPAWN_INTERVAL\n\n        if (shouldTrySpawning) {\n            if (canSpawn) {\n                this.spawnAttempts++\n                this.normalMatchesSinceLastSpawn = 0\n                this.processSpawnStep()\n            } else {\n                this.normalMatchesSinceLastSpawn++\n            }\n        }\n\n        if (uncleared.length % 2 === 1) {\n            //? If there is an odd number of uncleared tiles, spawn a single tile\n            this.processSpawnSingleTileStep()\n        }\n\n        if (uncleared.length > MINIMUM_TILES_TO_GRAVITATE) {\n            grid = this.processGravitationStep(grid)\n        }\n\n        const newGridAndPath = this.processShuffleStep(grid)\n\n        this.consumeAnimationQueue()\n\n        this.grid = newGridAndPath[0]\n        this.hintPath = newGridAndPath[1]\n    }\n\n    private processSpawnStep(): void {\n        if (!this.grid) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'processSpawnStep')\n            return\n        }\n\n        const [a, b] = getRandomTiles(getCleared(this.grid), 2)\n        const id = a?.id ?? undefined\n        const frames = a?.frames ?? undefined\n\n        if (a === undefined || id === undefined || frames === undefined || b === undefined) {\n            this.reportOrThrowInDebugger('Failed to get random tiles', 'processSpawnStep')\n            return\n        }\n\n        a.restore()\n        b.restore(id, frames)\n        this.node.scene.emit(GameplayEvents.GRID_SPAWN, [a, b])\n    }\n\n    private processGravitationStep(grid: Grid<Tile>): Grid<Tile> {\n        let newGrid = grid\n        const sequences: Array<() => Promise<unknown>> = []\n\n        for (const parsedGravity of this.parsedGravityRules) {\n            const gravity = this.useRotatedGameplay ? rotateGravity(parsedGravity) : parsedGravity\n            newGrid = this.toGravitated(newGrid, gravity)\n\n            const affectedTiles = getOutOfSync(newGrid)\n\n            if (affectedTiles.length === 0) continue\n\n            for (const [tile, [x, y]] of affectedTiles) {\n                tile.setCoord(x, y)\n            }\n\n            newGrid.each((tile) => {\n                tile.node.setSiblingIndex(0)\n            })\n\n            const animHandler = async () => {\n                await Promise.all(\n                    affectedTiles.map(([tile, [x, y]]) => {\n                        return tile.sync({\n                            delay: 0.25,\n                            duration: 0.25,\n                            getTargetPosition: () => calcTilePosition(newGrid, this.tileSize, { x, y }),\n                        })\n                    }),\n                )\n            }\n\n            sequences.push(animHandler)\n        }\n\n        const animHandler = async () => {\n            for (const handler of sequences) {\n                await handler()\n            }\n        }\n\n        this.animationQueue.push(animHandler)\n\n        return newGrid\n    }\n\n    private toGravitated(grid: Grid<Tile>, gravityType: LevelGravity): Grid<Tile> {\n        const copy = new Grid<Tile>(grid)\n\n        const top = 0\n        const bottom = grid.height - 1\n        const left = 0\n        const right = grid.width - 1\n\n        const fullRows = [top, bottom] as const\n        const fullCols = [left, right] as const\n\n        const halfRows = Math.floor(grid.height / 2)\n        const halfCols = Math.floor(grid.width / 2)\n\n        const isLighter = (cell: Tile) => cell.isHidden()\n\n        switch (gravityType) {\n            case LevelGravity.FallDown:\n                copy.gravitate({\n                    rowRange: fullRows,\n                    colRange: fullCols,\n                    direction: Direction.Down,\n                    isLighter,\n                })\n\n                break\n\n            case LevelGravity.FlyUp:\n                copy.gravitate({\n                    rowRange: fullRows,\n                    colRange: fullCols,\n                    direction: Direction.Up,\n                    isLighter,\n                })\n\n                break\n\n            case LevelGravity.PushLeft:\n                copy.gravitate({\n                    rowRange: fullRows,\n                    colRange: fullCols,\n                    direction: Direction.Left,\n                    isLighter,\n                })\n\n                break\n\n            case LevelGravity.PushRight:\n                copy.gravitate({\n                    rowRange: fullRows,\n                    colRange: fullCols,\n                    direction: Direction.Right,\n                    isLighter,\n                })\n\n                break\n\n            case LevelGravity.PutColumnMiddle:\n                copy.gravitate({\n                    rowRange: fullRows,\n                    colRange: [halfCols, right],\n                    direction: Direction.Left,\n                    isLighter,\n                    out: copy.gravitate({\n                        rowRange: fullRows,\n                        colRange: [left, halfCols - 1],\n                        direction: Direction.Right,\n                        isLighter,\n                    }),\n                })\n\n                break\n\n            case LevelGravity.PutRowMiddle:\n                copy.gravitate({\n                    rowRange: [halfRows, bottom],\n                    colRange: fullCols,\n                    direction: Direction.Down,\n                    isLighter,\n                    out: copy.gravitate({\n                        rowRange: [top, halfRows - 1],\n                        colRange: fullCols,\n                        direction: Direction.Up,\n                        isLighter,\n                    }),\n                })\n\n                break\n        }\n\n        return copy\n    }\n\n    private getPrimitiveDirection(x: number, y: number, gravityType: LevelGravity): DirectionType {\n        if (!this.grid) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'getPrimitiveDirection')\n            return Direction.Down\n        }\n\n        const halfRows = Math.floor(this.grid.height / 2)\n        const halfCols = Math.floor(this.grid.width / 2)\n\n        switch (gravityType) {\n            case LevelGravity.FallDown:\n                return Direction.Down\n            case LevelGravity.FlyUp:\n                return Direction.Up\n            case LevelGravity.PushLeft:\n                return Direction.Left\n            case LevelGravity.PushRight:\n                return Direction.Right\n            case LevelGravity.PutColumnMiddle:\n                return x >= halfCols ? Direction.Left : Direction.Right\n            case LevelGravity.PutRowMiddle:\n                return y >= halfRows ? Direction.Down : Direction.Up\n        }\n    }\n\n    private processShuffleStep(\n        grid: Grid<Tile>,\n        force = false,\n        handleShuffleAnimation?: (prevGrid: Grid<Tile>, newGrid: Grid<Tile>) => Promise<void>,\n    ): [Grid<Tile>, Path] {\n        let path = getValidPath(grid)\n        const uncleared = getUncleared(grid).map((tile) => {\n            const coord = tile.getCoord()\n            return [coord.x, coord.y] as [number, number]\n        })\n\n        if (path !== null && !force) {\n            return [grid, path]\n        }\n\n        let newGrid: Grid<Tile>\n        let DEBUG_SANITY_CHECK = 100\n\n        do {\n            ;[newGrid] = grid.toShuffled(uncleared)\n            path = getValidPath(newGrid)\n            DEBUG_SANITY_CHECK--\n        } while (path === null && DEBUG_SANITY_CHECK > 0)\n\n        if (DEBUG_SANITY_CHECK <= 0) {\n            const gridAsArray = newGrid.asArray().map((tile) => {\n                return {\n                    name: tile.id,\n                    type: tile.special?.type,\n                    active: !tile.isHidden(),\n                }\n            })\n\n            monitorError?.sendException(new Error('No paths found after 100 shuffle attempts'), {\n                message: 'No paths found after 100 shuffle attempts',\n                level: this.levelData?.level,\n                rules: this.levelData?.rules,\n                mode: this.levelData?.mode,\n                gridAsArray,\n            })\n\n            this.node.scene.emit(GameplayEvents.GAME_EXIT)\n            return [grid, path ?? []] //? This line is unreachable\n        }\n\n        const affectedTiles = getOutOfSync(newGrid)\n\n        for (const [tile, [x, y]] of affectedTiles) {\n            tile.setCoord(x, y)\n        }\n\n        const animHandler =\n            handleShuffleAnimation !== undefined\n                ? () => handleShuffleAnimation(grid, newGrid)\n                : this.createShuffleAnimationHandler(grid, newGrid)\n\n        this.animationQueue.push(animHandler)\n\n        return [newGrid, path ?? []]\n    }\n\n    private createShuffleAnimationHandler(prevGrid: Grid<Tile>, currGrid: Grid<Tile>): () => Promise<void> {\n        const paddingAnimHandler = async () => {\n            await Promise.all(\n                prevGrid.map((tile, x, y) =>\n                    tile.sync({\n                        duration: 0.3,\n                        easing: 'smooth',\n                        getTargetPosition: () => calcTilePosition(currGrid, this.tileSize, { x, y }, 10),\n                    }),\n                ),\n            )\n        }\n\n        const returnToPlaceAnim = async () => {\n            currGrid.each((tile) => {\n                tile.node.setSiblingIndex(0)\n            })\n\n            await Promise.all(\n                currGrid.map((tile) =>\n                    tile.sync({\n                        duration: 0.4,\n                        easing: 'smooth',\n                        delay: randomRange(0, 0.2),\n                        getTargetPosition: (pos) => calcTilePosition(currGrid, this.tileSize, pos),\n                    }),\n                ),\n            )\n        }\n\n        const animHandler = async () => {\n            await paddingAnimHandler()\n            await returnToPlaceAnim()\n        }\n\n        return animHandler\n    }\n\n    private processSpawnSingleTileStep(): void {\n        if (!this.grid) {\n            this.reportOrThrowInDebugger('Grid is not initialized', 'processSpawnSingleTileStep')\n            return\n        }\n\n        const [clearTile] = getRandomTiles(getCleared(this.grid), 1)\n        const unclearTiles = getUncleared(this.grid)\n\n        // Count occurrences of each tile ID\n        const tileCountMap: Record<string, number> = {}\n        for (const tile of unclearTiles) {\n            const id = tile.id\n\n            if (id !== null) tileCountMap[id] = (tileCountMap[id] ?? 0) + 1\n        }\n\n        // Find an uncleared tile with an odd count\n        const unclearTile = A.search(unclearTiles, (tile) => {\n            const id = tile.id\n            if (id === null) return false\n\n            const tileCount = tileCountMap[id]\n            return tileCount !== undefined && tileCount % 2 === 1\n        })\n\n        if (!clearTile || !unclearTile || unclearTile.id === null) {\n            this.reportOrThrowInDebugger('Failed to get a random tile', 'processSpawnSingleTileStep')\n            return\n        }\n\n        clearTile.restore(unclearTile.id, unclearTile.frames)\n        this.node.scene.emit(GameplayEvents.GRID_SPAWN, [clearTile])\n    }\n\n    private async consumeAnimationQueue(): Promise<void> {\n        if (this.isConsumingAnimation) return\n\n        this.isConsumingAnimation = true\n\n        while (this.animationQueue.length > 0) {\n            if (this.getUncleared().length === 0) {\n                this.animationQueue = []\n                break\n            }\n\n            const handler = this.animationQueue.shift()\n            await handler?.()\n        }\n\n        // ? this.dirtyGameplayRotation might be set to true during the animation\n        while (this.dirtyGameplayRotation && this.levelData !== undefined) {\n            this.dirtyGameplayRotation = false\n\n            const shouldRotate = this.shouldRotate(this.levelData)\n\n            if (shouldRotate !== this.useRotatedGameplay) {\n                await this.updateGameplayRotation()\n            }\n        }\n\n        this.isConsumingAnimation = false\n    }\n\n    public async updateGameplayRotation() {\n        if (!this.levelData) return\n\n        const shouldRotate = this.shouldRotate(this.levelData)\n        const isRevert = this.useRotatedGameplay && !shouldRotate\n        this.useRotatedGameplay = shouldRotate\n\n        if (!this.grid || !this.levelData || !this.hintPath) {\n            return\n        }\n\n        this.node.scene.emit(GameplayEvents.GRID_ORIENTATION_CHANGE, this.useRotatedGameplay)\n\n        this.hintPath = rotatePath(this.grid.width, this.grid.height, this.hintPath, isRevert)\n\n        this.setIgnoreInput(true)\n\n        const newGrid = createRotatedGrid(this.grid, isRevert)\n        this.grid = newGrid\n\n        this.updateTilesHolderScale()\n\n        await Promise.all(\n            newGrid.map((tile) => {\n                return tile.sync({\n                    delay: 0.3,\n                    duration: 0.3,\n                    easing: 'quartInOut',\n                    getTargetPosition: () => calcTilePosition(newGrid, this.tileSize, tile.getCoord(), 10),\n                })\n            }),\n        )\n\n        newGrid.each((tile) => {\n            tile.node.setSiblingIndex(0)\n        })\n\n        await Promise.all(\n            newGrid.map((tile) => {\n                return tile.sync({\n                    duration: 0.2,\n                    easing: 'sineInOut',\n                    getTargetPosition: () => calcTilePosition(newGrid, this.tileSize, tile.getCoord()),\n                })\n            }),\n        )\n\n        this.setIgnoreInput(false)\n    }\n\n    public clearAnimationQueue(): void {\n        this.isConsumingAnimation = false\n        this.animationQueue = []\n    }\n\n    private reportOrThrowInDebugger(message = 'Unknown error thrown', from = 'Board') {\n        const error = new Error(`${from}: ${message}`)\n        if (V.isDebugger()) throw error\n        monitorError?.sendException(error)\n    }\n}\n","const {\n    Plugins: { Analytics: { Events: AnalyticsEvents } = {} },\n} = Ludex\n\nconst { analytics } = codex\n\nconst withItemAnalytics =\n    <F extends (...args: any[]) => any>(item: ItemKey, fn: F) =>\n    (...args: Parameters<F>): ReturnType<F> => {\n        if (AnalyticsEvents) {\n            analytics.event(AnalyticsEvents.USE_ITEM, {\n                item_name: item,\n            })\n        }\n\n        return fn(...args)\n    }\n\nexport default withItemAnalytics\n","import { CodeSoundKeys } from '../../../constants/SoundKeys'\nimport AudioUtils from '../../../utils/AudioUtils'\nimport ItemKeys from '../../constants/ItemKeys'\nimport type Board from '../board'\nimport type { PathDraw } from '../path-draw/PathDraw'\nimport withItemAnalytics from './withItemAnalytics'\n\nconst useHintItemLogic = (board: Board, pathDraw: PathDraw) => {\n    if (pathDraw.isDrawingHint) return\n\n    const path = board.getHintPath()\n    if (path === null) return\n\n    AudioUtils.playSound(CodeSoundKeys.HINT_ITEM)\n    pathDraw.drawHintPath(path, (coords) => board.getAnyTileWorldPosition(coords.x, coords.y))\n    board.showHint()\n}\n\nconst useHintItem = withItemAnalytics(ItemKeys.PLIERS, useHintItemLogic)\n\nexport default useHintItem\n","import { CodeSoundKeys } from '../../../constants/SoundKeys'\nimport AudioUtils from '../../../utils/AudioUtils'\nimport ItemKeys from '../../constants/ItemKeys'\nimport type EffectManager from '../../manager/EffectManager'\nimport type Board from '../board'\nimport TileSpecialTypes from '../board/constants/TileSpecialTypes'\nimport { getRandomTile } from '../board/utils/get'\nimport withItemAnalytics from './withItemAnalytics'\n\nconst usePliersItemLogic = (board: Board, effectManager: EffectManager) => {\n    const tiles = board.getBombTiles()\n    const tile = getRandomTile(tiles)\n    const position = tile.node.worldPosition\n\n    effectManager.createDefuseExplosionAt(position.x, position.y)\n    AudioUtils.playSound(CodeSoundKeys.BOMB_DEFUSE)\n    tile.special?.switch(TileSpecialTypes.none)\n}\n\nconst usePliersItem = withItemAnalytics(ItemKeys.PLIERS, usePliersItemLogic)\n\nexport default usePliersItem\n","import GeneralUtils from '../../../utils/GeneralUtils'\n\nconst withBlockedInput =\n    // biome-ignore lint/suspicious/noExplicitAny: Needed to use function inference\n        <F extends (...args: any[]) => any, O = ReturnType<F> extends Promise<infer O> ? O : never>(fn: F) =>\n        async (...args: Parameters<F>): Promise<O> => {\n            GeneralUtils.setBlockInput(true)\n            const out = await fn(...args)\n            GeneralUtils.setBlockInput(false)\n            return out\n        }\n\nexport default withBlockedInput\n","import { tween } from 'cc'\nimport AnimUtils from '../../../utils/AnimUtils'\nimport LayoutUtils from '../../../utils/LayoutUtils'\nimport type Board from '../board'\n\nconst withCenteredBoard =\n    // biome-ignore lint/suspicious/noExplicitAny: <explanation>\n        <F extends (...args: any[]) => any, O = ReturnType<F> extends Promise<infer O> ? O : never>(\n            board: Board,\n            fn: F,\n        ) =>\n        async (...args: Parameters<F>): Promise<O> => {\n            const { left: oLeft, right: oRight } = board.widget\n            const target = (oLeft + oRight) / 2\n            await AnimUtils.runTweenAsync(\n                tween(board.widget).to(0.2, { left: target, right: target }, { easing: 'cubicOut' }),\n            )\n            const out = await fn(...args)\n\n            const { top, bottom, left, right } = board.getWidgetMargins(LayoutUtils.getCurrentLayout())\n\n            await AnimUtils.runTweenAsync(\n                tween(board.widget).to(\n                    0.2,\n                    {\n                        top,\n                        bottom,\n                        left,\n                        right,\n                    },\n                    { easing: 'cubicOut' },\n                ),\n            )\n            return out\n        }\n\nexport default withCenteredBoard\n","import GameplayEvents from '../../constants/GameEvents'\nimport type Board from '../board'\n\nconst withEffectAnimationEvents =\n    // biome-ignore lint/suspicious/noExplicitAny: <explanation>\n        <F extends (...args: any[]) => any, O = ReturnType<F> extends Promise<infer O> ? O : never>(\n            board: Board,\n            fn: F,\n        ) =>\n        async (...args: Parameters<F>): Promise<O> => {\n            board.node.scene.emit(GameplayEvents.EFFECTS_ANIMATION_START)\n            const out = await fn(...args)\n            board.node.scene.emit(GameplayEvents.EFFECTS_ANIMATION_END)\n            return out\n        }\n\nexport default withEffectAnimationEvents\n","import AudioUtils from '../../../utils/AudioUtils'\n\nconst withLoweredVolume =\n    <F extends (...args: any[]) => any, O = ReturnType<F> extends Promise<infer O> ? O : never>(fn: F) =>\n    async (...args: Parameters<F>): Promise<O> => {\n        AudioUtils.setVolumeMusic(0, true)\n        const out = await fn(...args)\n        AudioUtils.setVolumeMusic(0.3, true)\n        return out\n    }\n\nexport default withLoweredVolume\n","import ItemKeys from '../../constants/ItemKeys'\nimport type EffectManager from '../../manager/EffectManager'\nimport type Board from '../board'\nimport type { Tile } from '../board'\nimport withBlockedInput from './withBlockedInput'\nimport withCenteredBoard from './withCenteredBoard'\nimport withEffectAnimationEvents from './withEffectAnimationEvents'\nimport withItemAnalytics from './withItemAnalytics'\nimport withLoweredVolume from './withLoweredVolume'\n\nconst useThunderItemLogic = async (board: Board, effectManager: EffectManager) => {\n    const uncleared = board.getUncleared()\n    if (uncleared.length < 2 * 2) return\n    const pairs = board.getPairs(2) as [[Tile, Tile], [Tile, Tile]]\n    const useThunder = withEffectAnimationEvents(board, withCenteredBoard(board, playThunderAnimationEffect))\n    board.clearSelectedTile()\n    await useThunder(effectManager, pairs, board)\n}\n\nconst useThunderItem = withItemAnalytics(ItemKeys.THUNDER, withLoweredVolume(withBlockedInput(useThunderItemLogic)))\n\nexport default useThunderItem\nfunction playThunderAnimationEffect(effectManager: EffectManager, pairs: [[Tile, Tile], [Tile, Tile]], board: Board) {\n    return effectManager.playThunderAnimation(pairs, board)\n}\n","import { CodeSoundKeys } from '../../../constants/SoundKeys'\nimport AudioUtils from '../../../utils/AudioUtils'\nimport ItemKeys from '../../constants/ItemKeys'\nimport type EffectManager from '../../manager/EffectManager'\nimport type Board from '../board'\nimport type { Grid, Tile } from '../board'\nimport calcTilePosition from '../board/utils/calc/calcTilePosition'\nimport withCenteredBoard from './withCenteredBoard'\nimport withEffectAnimationEvents from './withEffectAnimationEvents'\nimport withItemAnalytics from './withItemAnalytics'\nimport withLoweredVolume from './withLoweredVolume'\n\nconst {\n    Utils: { Function: F },\n} = Ludex\n\nconst playPadGridAnimation = async (grid: Grid<Tile>, tileSize: Readonly<[number, number]>) => {\n    const out = await F.allSettled(\n        grid.map((tile, x, y) =>\n            tile.sync({\n                duration: 0.4,\n                easing: 'smooth',\n                getTargetPosition: () => calcTilePosition(grid, tileSize, { x, y }, 10),\n            }),\n        ),\n    )\n\n    if (out.some((result) => result.status === 'rejected')) {\n        console.error(\n            'Error playing padding animation',\n            out.filter((result) => result.status === 'rejected'),\n        )\n    }\n}\n\nconst playShuffleGridAnimation = async (grid: Grid<Tile>, tileSize: Readonly<[number, number]>) => {\n    const array = grid.asArray()\n    const count = array.length\n\n    grid.each((tile, x, y) => {\n        tile.node.setSiblingIndex(count - 1 - (x + y * grid.width))\n    })\n\n    const out = await F.allSettled(\n        grid.map((tile) =>\n            tile.fly({\n                getTilePosition: (pos) => calcTilePosition(grid, tileSize, pos),\n            }),\n        ),\n    )\n\n    if (out.some((result) => result.status === 'rejected')) {\n        console.error(\n            'Error playing shuffle animation',\n            out.filter((result) => result.status === 'rejected'),\n        )\n    }\n}\n\nconst playTornadoAnimation = async (\n    prevGrid: Grid<Tile>,\n    currGrid: Grid<Tile>,\n    getTileSize: () => Readonly<[number, number]>,\n    playTornadoEffect: () => void,\n) => {\n    AudioUtils.playSound(CodeSoundKeys.SHUFFLE_ITEM)\n    AudioUtils.playSound(CodeSoundKeys.WIND)\n\n    await playPadGridAnimation(prevGrid, getTileSize())\n    playTornadoEffect()\n    await playShuffleGridAnimation(currGrid, getTileSize())\n}\n\nconst useTornadoItemLogic = async (board: Board, effectManager: EffectManager) => {\n    const getTileSize = () => board.getTileSize()\n    const playTornadoEffect = () => effectManager.playTornadoAnimation()\n\n    const playAnimationAndEffect = (prevGrid: Grid<Tile>, currGrid: Grid<Tile>) =>\n        playTornadoAnimation(prevGrid, currGrid, getTileSize, playTornadoEffect)\n\n    const useTornado = withEffectAnimationEvents(\n        board,\n        withCenteredBoard(board, withLoweredVolume(playAnimationAndEffect)),\n    )\n\n    return new Promise<void>((resolve) => {\n        board.processShuffleRequest(async (prev, curr) => {\n            board.clearSelectedTile()\n            await useTornado(prev, curr)\n            resolve()\n        })\n    })\n}\n\nconst useTornadoItem = withItemAnalytics(ItemKeys.THUNDER, withLoweredVolume(useTornadoItemLogic))\n\nexport default useTornadoItem\n","import { Component, UITransform, Vec2, Vec3, _decorator } from 'cc'\nconst { ccclass } = _decorator\n\n@ccclass('Line')\nexport class Line extends Component {\n    private uiTransform!: UITransform\n\n    public onLoad(): void {\n        this.uiTransform = this.getComponent<UITransform>(UITransform)!\n    }\n\n    public setPoints(a: Vec2Like, b: Vec2Like): void {\n        this.node.setWorldPosition((a.x + b.x) / 2, (a.y + b.y) / 2, 0)\n\n        this.uiTransform.width = Vec2.distance(a, b) + 10\n        this.uiTransform.width /= this.node.worldScale.x\n\n        const angleRadians = Math.atan2(b.y - a.y, b.x - a.x)\n        const angleDegree = (angleRadians * 180) / Math.PI\n\n        this.node.eulerAngles = new Vec3(0, 0, angleDegree)\n    }\n}\n","import { Pool } from 'cc'\n\nexport class AFPool<T> extends Pool<T> {\n    private ator?: (obj: T) => void\n    private ftor?: (obj: T) => void\n\n    /**\n     * @en Constructor with the allocator of elements and initial pool size.\n     * @zh \n     * @param ctor @en The allocator of elements in pool, it's invoked directly without `new` in Pool.\n     * @zh Pool \n     * @param elementsPerBatch @en Initial pool size, this size will also be the incremental size when\n     * the pool is overloaded.\n     * @zh \n     * @param dtor @en The finalizer of element, it's invoked when this Pool is destroyed or shrunk if\n     * it is valid.\n     * @zh \n     * @param ator The allocator of elements in pool, it's invoked when alloc object from the bool.\n     * @param ftor The free of element, it's invoked when free the object\n     */\n\n    constructor(\n        ctor: () => T,\n        elementsPerBatch: number,\n        ator?: (obj: T) => void,\n        ftor?: (obj: T) => void,\n        dtor?: ((obj: T) => void) | undefined,\n    ) {\n        super(ctor, elementsPerBatch, dtor)\n        this.ator = ator\n        this.ftor = ftor\n    }\n\n    public alloc(): T {\n        const obj = super.alloc()\n        if (this.ator) this.ator(obj)\n        return obj\n    }\n\n    public free(obj: T): void {\n        if (this.ftor) this.ftor(obj)\n        super.free(obj)\n    }\n}\n","import { Component, Node, Prefab, _decorator, instantiate } from 'cc'\nimport { AFPool } from '../../utils/pool/AFPool'\nimport { Line } from './Line'\nconst { ccclass, property } = _decorator\n\n@ccclass('PathDrawer')\nexport class PathDrawer extends Component {\n    @property({ group: 'Line', displayName: 'Prefab', type: Prefab })\n    protected linePrefab!: Prefab\n    @property({ group: 'Line', displayName: 'Holder', type: Node, tooltip: 'Line Prefab' })\n    protected lineHolder!: Node\n\n    protected lineNodes: Node[] = []\n    protected linePool!: AFPool<Node>\n\n    @property({ group: 'Point', displayName: 'Prefab', type: Prefab })\n    private pointPrefab!: Prefab\n    @property({ group: 'Point', displayName: 'Holder', type: Node })\n    private pointHolder!: Node\n\n    protected pointPool!: AFPool<Node>\n    protected pointNodes: Node[] = []\n\n    public start(): void {\n        this.linePool = new AFPool<Node>(\n            () => {\n                const lineNode = instantiate(this.linePrefab)\n                this.lineHolder.addChild(lineNode)\n                lineNode.parent = this.lineHolder\n                lineNode.active = false\n                return lineNode\n            },\n            0,\n            (lineNode: Node) => {\n                this.lineNodes.push(lineNode)\n                lineNode.active = true\n            },\n            (lineNode: Node) => {\n                lineNode.active = false\n            },\n            (lineNode: Node) => {\n                if (lineNode.isValid) {\n                    lineNode.destroy()\n                }\n            },\n        )\n\n        this.pointPool = new AFPool<Node>(\n            () => {\n                const pointNode = instantiate(this.pointPrefab)\n                this.pointHolder.addChild(pointNode)\n                pointNode.active = false\n                return pointNode\n            },\n            0,\n            (pointNode: Node) => {\n                this.pointNodes.push(pointNode)\n                pointNode.active = true\n            },\n            (pointNode: Node) => {\n                pointNode.active = false\n            },\n            (pointNode: Node) => {\n                if (pointNode.isValid) {\n                    pointNode.destroy()\n                }\n            },\n        )\n    }\n\n    public drawPath(path: Path) {\n        this.clearPath()\n        for (const line of path) {\n            const lineNode = this.linePool.alloc()\n            lineNode.getComponent(Line)?.setPoints(line.a, line.b)\n        }\n    }\n\n    public clearPath(): void {\n        for (const lineNode of this.lineNodes) {\n            this.linePool.free(lineNode)\n        }\n        this.lineNodes = []\n\n        for (const pointNodes of this.pointNodes) {\n            this.pointPool.free(pointNodes)\n        }\n        this.pointNodes = []\n    }\n}\n","import { Sprite, SpriteFrame, Vec3, _decorator } from 'cc'\nimport { Line } from '../Line'\nimport { PathDrawer } from '../PathDrawer'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('ErrorDrawer')\nexport class ErrorDrawer extends PathDrawer {\n    private pathAppearDuration!: number\n\n    @property(SpriteFrame)\n    private one!: SpriteFrame\n    @property(SpriteFrame)\n    private two!: SpriteFrame\n    @property(SpriteFrame)\n    private error!: SpriteFrame\n\n    public start(): void {\n        super.start()\n        this.pathAppearDuration = 0\n    }\n\n    public drawPath(path: Path): void {\n        this.clearPath()\n\n        path.forEach((line, index) => {\n            const lineNode = this.linePool.alloc()\n            lineNode.getComponent(Line)?.setPoints(line.a, line.b)\n\n            if (index !== 0) {\n                const pointNode = this.pointPool.alloc()\n                pointNode.setWorldPosition(new Vec3(line.a.x, line.a.y, 0))\n\n                const sprite = pointNode.getComponent(Sprite)!\n\n                if (index === 1 && path.length > 3) {\n                    sprite.spriteFrame = this.one\n                } else if (index === 2 && path.length > 3) {\n                    sprite.spriteFrame = this.two\n                } else {\n                    sprite.spriteFrame = this.error\n                }\n            }\n        })\n\n        if (path.length === 1) {\n            const pointNode = this.pointPool.alloc()\n            pointNode.setWorldPosition(\n                new Vec3(path[0].a.x + path[0].b.x, path[0].a.y + path[0].b.y, 0).multiplyScalar(0.5),\n            )\n            pointNode.getComponent(Sprite)!.spriteFrame = this.error\n        }\n\n        this.pathAppearDuration = 0.8\n    }\n\n    public update(dt: number): void {\n        if (this.pathAppearDuration > 0) {\n            this.pathAppearDuration -= dt\n            if (this.pathAppearDuration <= 0) {\n                this.clearPath()\n            }\n        }\n    }\n}\n","import AnimUtils from 'db://assets/utils/AnimUtils'\nimport ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport { UIOpacity, _decorator, tween } from 'cc'\nimport { Line } from '../Line'\nimport { PathDrawer } from '../PathDrawer'\n\nconst { ccclass } = _decorator\n\n@ccclass('HintDrawer')\nexport class HintDrawer extends PathDrawer {\n    public drawPath(path: Path): void {\n        this.clearPath()\n        this.createPath(path)\n        this.showPath()\n    }\n\n    private createPath(path: Path): void {\n        if (path.length === 0) return\n\n        const last = path.length - 1\n        if (last < 0) return\n\n        const lastLine = path[last]\n        if (!lastLine) return\n\n        for (const line of path) {\n            const lineNode = this.linePool.alloc()\n            lineNode.getComponent(Line)?.setPoints(line.a, line.b)\n\n            const pointNode = this.pointPool.alloc()\n            pointNode.setWorldPosition(line.a.x, line.a.y, 0)\n        }\n\n        const pointNode = this.pointPool.alloc()\n        pointNode.setWorldPosition(lastLine.b.x, lastLine.b.y, 0)\n    }\n\n    private showPath(): void {\n        for (const lineNode of this.lineNodes) {\n            const lineOpacity = lineNode.getComponent(UIOpacity)!\n            lineOpacity.opacity = 0\n            tween(lineOpacity).to(0.2, { opacity: 255 }, { easing: 'quadOut' }).start()\n        }\n\n        for (const pointNode of this.pointNodes) {\n            const pointOpacity = pointNode.getComponent(UIOpacity)!\n            pointOpacity.opacity = 0\n            tween(pointOpacity).to(0.2, { opacity: 255 }, { easing: 'quadOut' }).start()\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public clearPath(): void {\n        for (const lineNode of this.lineNodes) {\n            const lineOpacity = lineNode.getComponent(UIOpacity)!\n            const lineTween = tween(lineOpacity).to(0.15, { opacity: 0 })\n            AnimUtils.runTweenAsync(lineTween).then(() => {\n                if (!this.node.activeInHierarchy) return\n                lineOpacity.opacity = 255\n                this.linePool.free(lineNode)\n            })\n        }\n\n        for (const point of this.pointNodes) {\n            const pointOpacity = point.getComponent(UIOpacity)!\n            const pointTween = tween(pointOpacity).to(0.15, { opacity: 0 })\n            AnimUtils.runTweenAsync(pointTween).then(() => {\n                if (!this.node.activeInHierarchy) return\n                pointOpacity.opacity = 255\n                this.pointPool.free(point)\n            })\n        }\n\n        this.lineNodes = []\n        this.pointNodes = []\n    }\n}\n","import ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport { type Node, UIOpacity, Vec3, _decorator, tween } from 'cc'\nimport AnimUtils from '../../../../utils/AnimUtils'\nimport { Line } from '../Line'\nimport { PathDrawer } from '../PathDrawer'\n\nconst { ccclass } = _decorator\n\n@ccclass('MatchDrawer')\nexport class MatchDrawer extends PathDrawer {\n    public drawPath(path: Path): void {\n        if (path.length === 0) return\n\n        const last = path.length - 1\n        if (last < 0) return\n\n        const lastLine = path[last]\n        if (!lastLine) return\n\n        path.forEach((line, index) => {\n            const lineNode = this.linePool.alloc()\n            lineNode.getComponent(Line)?.setPoints(line.a, line.b)\n            this.animateLine(lineNode)\n\n            const pointNode = this.pointPool.alloc()\n            pointNode.setWorldPosition(line.a.x, line.a.y, 0)\n            this.animatePoint(pointNode, index)\n        })\n\n        const pointNode = this.pointPool.alloc()\n        pointNode.setWorldPosition(lastLine.b.x, lastLine.b.y, 0)\n        this.animatePoint(pointNode, path.length)\n    }\n\n    private async animateLine(lineNode: Node): Promise<void> {\n        const lineOpacity = lineNode.getComponent(UIOpacity)!\n        lineOpacity.opacity = 0\n\n        const lineTween = tween(lineOpacity)\n            .to(0.25, { opacity: 255 }, { easing: 'quadOut' })\n            .delay(0.1)\n            .to(0.2, { opacity: 0 })\n\n        await AnimUtils.runTweenAsync(lineTween)\n\n        lineOpacity.opacity = 255\n        this.linePool.free(lineNode)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async animatePoint(pointNode: Node, index: number): Promise<void> {\n        pointNode.scale = Vec3.ZERO\n        const pointTween = tween(pointNode)\n            .delay(0.03 * index)\n            .to(0.2, { scale: Vec3.ONE }, { easing: 'quadOut' })\n            .delay(0.1)\n            .to(0.2, { scale: Vec3.ZERO }, { easing: 'backIn' })\n\n        await AnimUtils.runTweenAsync(pointTween)\n        if (!this.node.activeInHierarchy) return\n\n        this.pointPool.free(pointNode)\n    }\n\n    public clearPath(): void {\n        this.lineNodes = []\n        this.pointNodes = []\n    }\n}\n","import { Component, _decorator } from 'cc'\nimport GameplayEvents from '../../constants/GameEvents'\nimport type Board from '../board'\nimport { ErrorDrawer } from './error/ErrorDrawer'\nimport { HintDrawer } from './hint/HintDrawer'\nimport { MatchDrawer } from './match/MatchDrawer'\nconst { ccclass, property } = _decorator\n\n@ccclass('PathDraw')\nexport class PathDraw extends Component {\n    @property({ group: { name: 'Path Drawer' }, type: MatchDrawer })\n    private matchPath!: MatchDrawer\n\n    @property({ group: { name: 'Path Drawer' }, type: HintDrawer })\n    private hintPath!: HintDrawer\n\n    @property({ group: { name: 'Path Drawer' }, type: ErrorDrawer })\n    private errorPath!: ErrorDrawer\n\n    private board!: Board\n\n    public isDrawingHint = false\n\n    public onLoad(): void {\n        this.node.scene.on(GameplayEvents.GRID_RESIZE, (scale: number) => {\n            this.node.setScale(scale, scale)\n            this.node.position = this.board.node.position.clone()\n        })\n    }\n\n    public init(board: Board): void {\n        this.board = board\n    }\n\n    public drawMatchPath(path: Path, getTileWorldPosition: (coords: Vec2Like) => Vec2Like): void {\n        // clone path to avoid modifying the original path\n        const p = path.map((line) => ({ ...line }))\n\n        for (const line of p) {\n            line.a = getTileWorldPosition(line.a)\n            line.b = getTileWorldPosition(line.b)\n        }\n\n        this.matchPath.drawPath(p)\n    }\n\n    public clearMatchPath(): void {\n        this.matchPath.clearPath()\n    }\n\n    public drawHintPath(path: Path, getTileWorldPosition: (coords: Vec2Like) => Vec2Like): void {\n        if (this.isDrawingHint) return\n\n        this.isDrawingHint = true\n        // clone path to avoid modifying the original path\n        const p = path.map((line) => ({ ...line }))\n\n        for (const line of p) {\n            line.a = getTileWorldPosition(line.a)\n            line.b = getTileWorldPosition(line.b)\n        }\n\n        this.hintPath.drawPath(p)\n    }\n\n    public clearHintPath(): void {\n        if (!this.isDrawingHint) return\n\n        this.isDrawingHint = false\n        this.hintPath.clearPath()\n    }\n\n    public drawErrorPath(path: Path, getTileWorldPosition: (coords: Vec2Like) => Vec2Like): void {\n        // clone path to avoid modifying the original path\n        const p = path.map((line) => ({ ...line }))\n\n        for (const line of p) {\n            line.a = getTileWorldPosition(line.a)\n            line.b = getTileWorldPosition(line.b)\n        }\n\n        this.errorPath.drawPath(p)\n    }\n}\n","import { Component, _decorator, math, tween } from 'cc'\nimport GameplayEvents from 'db://assets/gameplay/constants/GameEvents'\nimport AnimUtils from '../../utils/AnimUtils'\n\nconst { ccclass, disallowMultiple } = _decorator\n\n@ccclass('ClockManager')\n@disallowMultiple\nexport class ClockManager extends Component {\n    private time = 0\n    private remaining = 0\n    private running = false\n\n    private halfTime = false\n\n    protected onLoad(): void {\n        this.node.scene.on(GameplayEvents.RESCUE_START, this.refillTime, this)\n    }\n\n    public init() {\n        this.running = false\n        this.halfTime = false\n    }\n\n    public setTime(time: number) {\n        this.time = time\n        this.remaining = time\n\n        this.node.scene.emit(GameplayEvents.TIME_UPDATED, this.remaining)\n    }\n\n    public getRemainingTime(): number {\n        return this.remaining\n    }\n\n    public startCountdown() {\n        this.running = true\n        this.remaining = this.time\n    }\n\n    public pause() {\n        this.running = false\n    }\n\n    public resume() {\n        this.running = true\n    }\n\n    private endCountDown() {\n        this.running = false\n        this.remaining = 0\n        this.node.scene.emit(GameplayEvents.TIME_OUT)\n    }\n\n    public update(deltaTime: number) {\n        if (!this.running) return\n\n        if (this.remaining <= 0) {\n            this.endCountDown()\n            return\n        }\n\n        this.remaining -= deltaTime\n\n        if (!this.halfTime && this.remaining <= this.time / 2) {\n            this.halfTime = true\n            this.node.scene.emit(GameplayEvents.HALF_TIME)\n        }\n\n        if (this.remaining >= 0) {\n            this.node.scene.emit(GameplayEvents.TIME_UPDATED, this.remaining)\n        }\n    }\n\n    private async refillTime(): Promise<void> {\n        const addedTime = 120\n        const counterTween = tween(this.node).to(\n            3,\n            {},\n            {\n                onUpdate: (_, ratio) => {\n                    if (!ratio) return\n                    const current = math.lerp(0, addedTime, ratio)\n\n                    this.setTime(current)\n                },\n            },\n        )\n\n        await AnimUtils.runTweenAsync(counterTween)\n        this.setTime(addedTime)\n        this.node.scene.emit(GameplayEvents.RESCUE_FINISHED)\n    }\n}\n","import ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport { _decorator, Animation, AnimationClip, Component, ParticleSystem2D, Vec3 } from 'cc'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport type AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('Coin')\nexport class Coin extends Component {\n    @property(ParticleSystem2D)\n    public emittingParticles!: ParticleSystem2D\n\n    @property(Animation)\n    public animation!: Animation\n\n    @property(AnimationClip)\n    private spin!: AnimationClip\n\n    @property(AnimationClip)\n    private rest!: AnimationClip\n\n    protected __preload(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public resetDisabled() {\n        this.stopParticles()\n        this.stopAnimation()\n        this.hide()\n        this.node.active = false\n        this.node.setPosition(0, 0, this.node.position.z)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public hide() {\n        this.node.setScale(Vec3.ZERO)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public stopParticles() {\n        this.emittingParticles.stopSystem()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public playTrailParticles() {\n        this.emittingParticles.resetSystem()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async playSpinAnimationAfterDelay(seconds = 0, signal?: AnimAbortSignal): Promise<void> {\n        if (seconds > 0) await AnimUtils.waitTweenAsync(seconds)\n        await this.playSpinAnimation(signal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private playSpinAnimation(signal?: AnimAbortSignal) {\n        return AnimUtils.runAnimationAsync(this.animation, this.spin.name, signal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public stopAnimation(): void {\n        this.animation.play(this.rest.name)\n    }\n}\n","import { Component, Label, UIOpacity, Vec3, _decorator, tween } from 'cc'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\n\nconst { ccclass, property } = _decorator\n\nconst START_POSITION = Vec3.ZERO.clone().add3f(0, -100, 0)\nconst END_POSITION = Vec3.ZERO.clone().add3f(0, 100, 0)\n\nconst {\n    Utils: { Number: N },\n} = Ludex\n\n@ccclass('CoinTextPopup')\nexport class CoinTextPopup extends Component {\n    @property(Label)\n    public label!: Label\n\n    @property(UIOpacity)\n    public uiOpacity!: UIOpacity\n\n    protected __preload(): void {\n        ComponentUtils.lazyValidateProperties(this)\n        this.node.active = false\n    }\n\n    public async show(amount: number, signal: AnimAbortSignal): Promise<void> {\n        this.enableNode()\n\n        this.initializePopup(amount)\n        await this.showTextPopupAnimation(signal)\n        await this.hidePopup()\n\n        this.disableNode()\n    }\n\n    public enableNode(): void {\n        this.node.active = true\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public disableNode(): void {\n        this.node.active = false\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private initializePopup(amount: number) {\n        const text = N.getShortNumber(amount, 3)\n        this.label.string = text\n        this.uiOpacity.opacity = 255\n\n        this.node.setScale(0.5, 0.5, 0.5)\n        this.node.setPosition(START_POSITION)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async hidePopup() {\n        this.node.setScale(Vec3.ONE)\n        this.node.setPosition(END_POSITION)\n\n        //! not subscribed to signal because in the case the user skipped the animation we'd still want them to see this node disappear\n        await AnimUtils.runTweenAsync(\n            tween(this.uiOpacity).to(0.5, {\n                opacity: 0,\n            }),\n        )\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async showTextPopupAnimation(signal: AnimAbortSignal) {\n        await Promise.all([\n            AnimUtils.runTweenAsync(\n                tween(this.node).to(\n                    1.5,\n                    {\n                        position: END_POSITION,\n                    },\n                    {\n                        easing: 'sineOut',\n                    },\n                ),\n                signal,\n            ),\n            AnimUtils.runTweenAsync(\n                tween(this.node).to(\n                    0.5,\n                    {\n                        scale: Vec3.ONE,\n                    },\n                    {\n                        easing: 'backOut',\n                    },\n                ),\n                signal,\n            ),\n        ])\n    }\n}\n","import { Component, Node, Prefab, Vec3, _decorator, easing, instantiate, randomRange, tween } from 'cc'\nimport { CodeSoundKeys } from '../../constants/SoundKeys'\nimport type { CoinContainer } from '../../scenes/common/coin-container/CoinContainer'\nimport { Coin } from '../../scenes/game-scene/components/coin-manager/components/Coin'\nimport { CoinTextPopup } from '../../scenes/game-scene/components/coin-manager/components/CoinTextPopup'\nimport AnimUtils from '../../utils/AnimUtils'\nimport AudioUtils from '../../utils/AudioUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../utils/common/AnimAbortSignal'\nimport GameplayEvents from '../constants/GameEvents'\n\nconst { ccclass, disallowMultiple, property } = _decorator\n\nconst { player, monitorError } = codex\n\nconst MAX_COINS = 999999999\nconst COIN_COLLECT_ANIM = {\n    MAX_COIN_COUNT: 10,\n    DISTANCE_RANGE: [1000, 1500],\n    STAGGER: 0.03,\n    FLOAT_DURATION: 1,\n    FLY_DURATION: 1,\n} as const\n\n@ccclass('CoinManager')\n@disallowMultiple\nexport class CoinManager extends Component {\n    private coins: number = 0\n\n    @ComponentUtils.required()\n    @property(Prefab)\n    private coinPrefab!: Prefab\n\n    @ComponentUtils.required()\n    @property(Prefab)\n    private coinTextPopup!: Prefab\n\n    private coinTextPopupNode!: CoinTextPopup\n\n    @ComponentUtils.required()\n    @property(Node)\n    private coinAnimContainer!: Node\n\n    private collectionAnimSignal?: AnimAbortSignal\n\n    private coinObjects: Coin[] = []\n    private targetContainer: CoinContainer | undefined\n\n    protected onLoad(): void {\n        ComponentUtils.validateRequiredProperties(this)\n        this.getCoinsFromPlayerData()\n        this.prepareCoinCollection()\n        this.prepareCoinTextPopup()\n        this.listenToCoinEvents()\n    }\n\n    protected start(): void {\n        this.emitCoinAmount()\n    }\n\n    public init(): void {\n        this.updateCoins({ coins: this.coins })\n    }\n\n    public listenToCoinEvents(): void {\n        this.node.scene.on(GameplayEvents.ADD_COINS, this.addCoins, this)\n        this.node.scene.on(GameplayEvents.REMOVE_COINS, this.removeCoins, this)\n        this.node.scene.on(GameplayEvents.ABORT_COIN_ANIMATION, this.abortCoinAnimation, this)\n    }\n\n    private prepareCoinCollection(): void {\n        for (let i = 0; i < COIN_COLLECT_ANIM.MAX_COIN_COUNT; i++) {\n            const coin = instantiate(this.coinPrefab)\n            coin.setParent(this.coinAnimContainer)\n            coin.setPosition(0, 0)\n            coin.active = false\n            this.coinObjects.push(coin.getComponent(Coin) as Coin)\n        }\n    }\n\n    private prepareCoinTextPopup(): void {\n        const textPopupNode = instantiate(this.coinTextPopup)\n        textPopupNode.setParent(this.node)\n        textPopupNode.active = false\n\n        this.coinTextPopupNode = textPopupNode.getComponent(CoinTextPopup) as CoinTextPopup\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async handleCollectionAnim(\n        coins: number,\n        targetContainer: CoinContainer | undefined,\n        floatDuration: number,\n        flyDuration: number,\n        signal: AnimAbortSignal,\n    ): Promise<void> {\n        if (!targetContainer) {\n            console.warn(\n                'No target coin container assigned to CoinManager. No coin collection animation will be played',\n            )\n            return\n        }\n\n        const animatedCoins = this.coinObjects.slice(0, this.getShortAmount(coins))\n\n        if (animatedCoins.length === 0) {\n            console.warn(\n                `Requested coins amount is ${coins}. Shortened to ${this.getShortAmount(\n                    coins,\n                )}. No coin objects was found to animate collection.`,\n            )\n\n            monitorError?.sendException(\n                new Error(\n                    `Requested coins amount is ${coins}. Shortened to ${this.getShortAmount(\n                        coins,\n                    )}. No coin objects was found to animate collection.`,\n                ),\n                {\n                    coins,\n                    animatedCoins: animatedCoins.length,\n                    hasCoinTextPopup: !!this.coinTextPopupNode,\n                    hasTargetContainer: !!targetContainer,\n                    coinCollectionCount: this.coinObjects.length,\n                },\n            )\n\n            return\n        }\n\n        AudioUtils.playSound(CodeSoundKeys.COLLECT_STOCK_COINS)\n\n        await Promise.all([\n            this.playCoinFlyAndexplodeAnimation(targetContainer, animatedCoins, floatDuration, flyDuration, signal),\n            AnimUtils.waitTweenAsync(floatDuration + flyDuration / 2, signal).then(() =>\n                this.animateCoinTextPopup(coins, signal),\n            ),\n        ])\n\n        signal.abort()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async playCoinFlyAndexplodeAnimation(\n        container: CoinContainer,\n        coins: Coin[],\n        floatDuration: number,\n        flyDuration: number,\n        signal?: AnimAbortSignal,\n    ) {\n        const explodeAndFlybackAvgDuration = floatDuration + flyDuration\n\n        await Promise.all([\n            ...coins.flatMap((coin) => {\n                coin.node.active = true\n\n                coin.stopParticles()\n\n                const TIME_RANGE = [0, Math.min(floatDuration, flyDuration) * 0.5] as const\n                const offset = randomRange(...TIME_RANGE)\n\n                const explodeDuration = floatDuration - offset\n                const flybackDuration = flyDuration + offset\n\n                return [\n                    this.animateCoinExplode(coin.node, explodeDuration, signal),\n                    AnimUtils.waitTweenAsync(explodeDuration, signal).then(() =>\n                        this.animateCoinFlyBack(container, coin, flybackDuration, signal),\n                    ),\n                ]\n            }),\n            AnimUtils.waitTweenAsync(explodeAndFlybackAvgDuration, signal).then(() =>\n                container.emitExplodeEffect(signal),\n            ),\n        ])\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private animateCoinTextPopup(coin: number, signal: AnimAbortSignal) {\n        return this.coinTextPopupNode.show(coin, signal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async animateCoinFlyBack(\n        container: CoinContainer,\n        coin: Coin,\n        flyDuration: number,\n        signal?: AnimAbortSignal,\n    ) {\n        const startPosition = coin.node.worldPosition.clone()\n        const lerpedPosition = Vec3.ZERO.clone()\n        const targetScale = container.getCoinIconWorldScale()\n\n        await AnimUtils.runTweenAsync(\n            tween(coin.node).to(\n                flyDuration,\n                {\n                    scale: targetScale,\n                },\n                {\n                    onStart: () => {\n                        coin.playSpinAnimationAfterDelay(0, signal) // ? x2 to make the offset more obvious\n                        coin.playTrailParticles()\n                    },\n                    onUpdate: (_, ratio) => {\n                        if (ratio === undefined) {\n                            return\n                        }\n\n                        const cubicIn = easing.cubicIn(ratio)\n                        const position = container.getCoinIconWorldPosition()\n\n                        coin.node.worldPosition = Vec3.lerp(lerpedPosition, startPosition, position, cubicIn)\n                    },\n                    onComplete: () => {\n                        coin.emittingParticles.stopSystem()\n                        coin.stopAnimation()\n                        coin.hide()\n                    },\n                },\n            ),\n            signal,\n        )\n\n        await AnimUtils.waitTweenAsync(1, signal)\n        coin.resetDisabled()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async animateCoinExplode(coin: Node, floatDuration: number, signal?: AnimAbortSignal) {\n        const RANDOM_RANGE_X = [-200, 200] as const\n        const RANDOM_RANGE_Y = [-200, 200] as const\n        const targetX = randomRange(RANDOM_RANGE_X[0], RANDOM_RANGE_X[1])\n        const targetY = randomRange(RANDOM_RANGE_Y[0], RANDOM_RANGE_Y[1])\n\n        coin.setPosition(0, 0, coin.position.z)\n        coin.setScale(Vec3.ZERO)\n\n        const targetPos = new Vec3(targetX, targetY, coin.position.z)\n\n        await Promise.all([\n            AnimUtils.runTweenAsync(\n                tween(coin)\n                    // ? `floatDuration` to make the delay follows staggered timing\n                    // ? `* 0.1` to make the delay shorter,\n                    // ? making the position animation more obvious\n                    .delay(floatDuration * 0.1)\n                    .to(\n                        floatDuration * 0.8,\n                        {\n                            scale: Vec3.ONE,\n                        },\n                        {\n                            easing: 'elasticOut',\n                        },\n                    ),\n                signal,\n            ),\n            AnimUtils.runTweenAsync(\n                tween(coin).to(\n                    floatDuration,\n                    {\n                        position: targetPos,\n                    },\n                    {\n                        easing: 'circOut',\n                    },\n                ),\n                signal,\n            ),\n        ])\n    }\n\n    private getCoinsFromPlayerData(): void {\n        const gameData = player.getGameData()\n\n        if (!gameData) {\n            this.coins = 0\n            return\n        }\n\n        this.coins = gameData.coins\n    }\n\n    public getCoins(): number {\n        return this.coins\n    }\n\n    public updateCoins(payload: CoinDataPayload): void {\n        if (this.coins > MAX_COINS) {\n            this.coins = MAX_COINS\n        }\n\n        if (payload.coins === this.coins) {\n            return\n        }\n\n        const changes = Math.max(0, payload.coins - this.coins)\n        this.coins = payload.coins\n\n        player.setGameData({ coins: this.coins })\n\n        const { collectionAnimation } = payload\n\n        this.collectionAnimSignal?.abort()\n        const newSignal = new AnimAbortSignal()\n        this.collectionAnimSignal = newSignal\n\n        // let's signal from payload to cancel this signal too\n        collectionAnimation?.signal?.chain(newSignal)\n\n        if (collectionAnimation === undefined || collectionAnimation.animateTextOnly) {\n            this.node.scene.emit(GameplayEvents.COIN_CHANGED, {\n                ...payload,\n                collectionAnimation: {\n                    animateTextOnly: true,\n                    signal: collectionAnimation?.signal,\n                },\n            })\n            return\n        }\n\n        const {\n            floatDuration = COIN_COLLECT_ANIM.FLOAT_DURATION,\n            flyDuration = COIN_COLLECT_ANIM.FLY_DURATION,\n            target = this.targetContainer,\n        } = collectionAnimation\n\n        this.collectionAnimSignal = newSignal\n        this.targetContainer = target\n\n        const withCollectionAnim = {\n            ...payload,\n            collectionAnimation: {\n                floatDuration,\n                flyDuration,\n                animateTextOnly: false,\n                signal: newSignal,\n                target: target,\n            },\n        }\n\n        this.node.scene.emit(GameplayEvents.COIN_CHANGED, withCollectionAnim)\n        this.handleCollectionAnim(changes, this.targetContainer, floatDuration, flyDuration, newSignal)\n    }\n\n    public addCoins(payload: CoinDataPayload): void {\n        this.updateCoins({\n            ...payload,\n            coins: this.coins + payload.coins,\n        })\n    }\n\n    public removeCoins(payload: CoinDataPayload): void {\n        if (this.coins < payload.coins) {\n            this.node.scene.emit(GameplayEvents.REMOVE_COINS_FAILED)\n            return\n        }\n\n        this.updateCoins({\n            ...payload,\n            coins: this.coins - payload.coins,\n        })\n        this.node.scene.emit(GameplayEvents.REMOVE_COINS_SUCCESS)\n    }\n\n    public emitCoinAmount(): void {\n        this.node.scene.emit(GameplayEvents.COIN_CHANGED, {\n            coins: this.coins,\n        } as CoinDataPayload)\n    }\n\n    private getShortAmount(count: number): number {\n        return Math.min(count, COIN_COLLECT_ANIM.MAX_COIN_COUNT)\n    }\n\n    private abortCoinAnimation(): void {\n        this.collectionAnimSignal?.abort()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public untilFinishesCollectAnim(): Promise<void> {\n        if (this.collectionAnimSignal === undefined) return Promise.resolve()\n        return this.collectionAnimSignal.untilAborted()\n    }\n\n    public setTargetContainer(targetContainer: CoinContainer): void {\n        this.targetContainer = targetContainer\n    }\n\n    public getTargetContainer(): CoinContainer | undefined {\n        return this.targetContainer\n    }\n\n    protected onDestroy(): void {\n        this.collectionAnimSignal?.abort()\n    }\n}\n","import { Component, _decorator, find } from 'cc'\nimport { Vibrate } from '../../components/vibrate/Vibrate'\nimport { CodeSoundKeys } from '../../constants/SoundKeys'\nimport AudioUtils from '../../utils/AudioUtils'\nimport GameplayEvents from '../constants/GameEvents'\nconst { ccclass } = _decorator\n\nconst COMBO_SOUNDS = [\n    CodeSoundKeys.COMBO_1,\n    CodeSoundKeys.COMBO_2,\n    CodeSoundKeys.COMBO_3,\n    CodeSoundKeys.COMBO_4,\n    CodeSoundKeys.COMBO_5,\n    CodeSoundKeys.COMBO_6,\n    CodeSoundKeys.COMBO_7,\n    CodeSoundKeys.COMBO_8,\n    CodeSoundKeys.COMBO_9,\n    CodeSoundKeys.COMBO_10,\n    CodeSoundKeys.COMBO_11,\n    CodeSoundKeys.COMBO_12,\n    CodeSoundKeys.COMBO_13,\n]\n\n@ccclass('ComboManager')\nexport class ComboManager extends Component {\n    private currentCombo!: number\n\n    private emitEvent!: boolean\n\n    public init(): void {\n        this.currentCombo = 0\n        this.setEmitEvent(true)\n\n        this.node.scene.on(GameplayEvents.COMBO_ENDED, this.resetCombo, this)\n        this.node.scene.on(GameplayEvents.GAME_FINISH, this.resetCombo, this)\n        this.node.scene.on(GameplayEvents.GAME_REPLAY, this.resetCombo, this)\n        this.node.scene.on(GameplayEvents.NEXT_LEVEL, this.resetCombo, this)\n\n        this.node.scene.on(GameplayEvents.ADD_COMBO, this.addCombo, this)\n    }\n\n    public addCombo(): void {\n        this.setCombo(this.currentCombo + 1)\n    }\n\n    public resetCombo(): void {\n        this.setCombo(0)\n    }\n\n    public getCombo(): number {\n        return this.currentCombo\n    }\n\n    private setCombo(combo: number): void {\n        this.currentCombo = combo\n\n        if (combo > 0) {\n            const soundIndex = Math.min(combo - 1, COMBO_SOUNDS.length - 1)\n            AudioUtils.playSound(COMBO_SOUNDS[soundIndex])\n            this.vibrate(combo)\n        }\n\n        if (!this.emitEvent) return\n\n        this.node.scene.emit(GameplayEvents.COMBO_UPDATED, combo)\n    }\n\n    private vibrate(combo: number): void {\n        find('Vibrate')\n            ?.getComponent(Vibrate)\n            ?.vibrate(Math.min(20 + combo * 20, 11 * 20))\n    }\n\n    public setEmitEvent(enabled: boolean): void {\n        this.emitEvent = enabled\n    }\n}\n","import { _decorator, CCFloat, CCInteger, repeat } from 'cc'\nimport type { ParticleSystem } from './ParticleSystem'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('Burst')\nexport class Burst {\n    @property(CCFloat)\n    private time: number = 0\n\n    @property(CCInteger)\n    private repeatCount: number = 1\n\n    @property(CCFloat)\n    private repeatInterval: number = 1\n\n    @property(CCInteger)\n    public count: number = 1\n\n    private remainingCount!: number\n    private curTime!: number\n\n    constructor() {\n        this.remainingCount = 0\n        this.curTime = 0.0\n    }\n\n    public update(psys: ParticleSystem, dt: number): void {\n        if (this.remainingCount === 0) {\n            this.remainingCount = this.repeatCount\n            this.curTime = this.time\n        }\n\n        if (this.remainingCount > 0) {\n            let preFrameTime = repeat(psys.time - psys.startDelay.evaluate(0, 1), psys.duration) - dt\n            preFrameTime = preFrameTime > 0.0 ? preFrameTime : 0.0\n            const curFrameTime = repeat(psys.time - psys.startDelay.evaluate(0, 1), psys.duration)\n            if (this.curTime >= preFrameTime && this.curTime < curFrameTime) {\n                psys.emit(this.count, dt - (curFrameTime - this.curTime))\n                this.curTime += this.repeatInterval\n                --this.remainingCount\n            }\n        }\n    }\n\n    public reset(): void {\n        this.remainingCount = 0\n        this.curTime = 0.0\n    }\n}\n","import { Color, type IColorLike, js, MeshRenderData, misc, Vec3 } from 'cc'\nimport type { ParticleSystem } from './ParticleSystem'\n\nconst ZERO_VEC3 = new Vec3(0, 0, 0)\nconst formatBytes = 9\n\nexport class Particle {\n    public pos: Vec3 = new Vec3(0, 0, 0)\n    public color = new Color(255, 255, 255, 255)\n    public startColor!: Color\n    public size: Vec3 = new Vec3(0, 0, 0)\n    public startSize: Vec3 = new Vec3(0, 0, 0)\n    public rotation = new Vec3(0, 0, 0)\n    public startLifetime = 0\n    public remainingLifetime = 0\n    public randomSeed = 0\n    public velocity = new Vec3(0, 0)\n    public width = 0\n    public height = 0\n\n    public init(): void {\n        this.pos.set(ZERO_VEC3)\n\n        this.remainingLifetime = 0\n        this.startLifetime = 0\n        this.startSize.set(ZERO_VEC3)\n        this.startColor = Color.WHITE.clone()\n        this.velocity.set(ZERO_VEC3)\n\n        this.randomSeed = 0\n    }\n}\n\nclass ParticlePool extends js.Pool<Particle> {\n    public get(): Particle {\n        return this._get() || new Particle()\n    }\n}\n\nconst pool = new ParticlePool((par: Particle): void => {\n    par.pos.set(ZERO_VEC3)\n    par.color.set(255, 255, 255, 255)\n    par.size.set(ZERO_VEC3)\n    par.rotation.set(ZERO_VEC3)\n}, 1024)\n\nexport class ParticleSimulator {\n    public particles: Particle[] = []\n    public active = false\n    public uvFilled = 0\n    public renderData: MeshRenderData = new MeshRenderData()\n    private sys: ParticleSystem\n\n    constructor(system: ParticleSystem) {\n        this.sys = system\n        this.particles = []\n        this.active = false\n        this.uvFilled = 0\n    }\n\n    public stop(): void {\n        this.active = false\n    }\n\n    public reset(): void {\n        this.active = true\n        const particles = this.particles\n        for (const particle of particles) {\n            pool.put(particle)\n        }\n        particles.length = 0\n        this.renderData.resize(0, 0)\n    }\n\n    public emitParticle(): Particle {\n        const particle = pool.get()\n        this.particles.push(particle)\n\n        return particle\n    }\n\n    public updateUVs(force?: boolean): void {\n        const renderData = this.renderData\n        if (renderData && this.sys) {\n            const vbuf = renderData.vData\n            const spriteFrame = this.sys.spriteFrame\n            if (!spriteFrame) return\n            const uv = spriteFrame.uv\n\n            const start = force ? 0 : this.uvFilled\n            const particleCount = this.particles.length\n            for (let i = start; i < particleCount; i++) {\n                const offset = i * formatBytes * 4\n                vbuf[offset + 3] = uv[0] ?? 0\n                vbuf[offset + 4] = uv[1] ?? 0\n                vbuf[offset + 12] = uv[2] ?? 0\n                vbuf[offset + 13] = uv[3] ?? 0\n                vbuf[offset + 21] = uv[4] ?? 0\n                vbuf[offset + 22] = uv[5] ?? 0\n                vbuf[offset + 30] = uv[6] ?? 0\n                vbuf[offset + 31] = uv[7] ?? 0\n            }\n            this.uvFilled = particleCount\n        }\n    }\n\n    public updateParticleBuffer(particle: Particle, pos: Vec3, buffer: MeshRenderData, offset: number): void {\n        const vbuf = buffer.vData\n\n        const x: number = pos.x\n        const y: number = pos.y\n        const z: number = pos.z\n\n        const width = particle.width * particle.size.x\n        const height = particle.height * particle.size.y\n\n        const halfWidth = width / 2\n        const halfHeight = height / 2\n\n        const rotX = particle.rotation.x || 0\n        const rotY = particle.rotation.y || 0\n        const rotZ = particle.rotation.z || 0\n\n        if (rotX === 0 && rotY === 0 && rotZ === 0) {\n            // No rotation: direct assignment\n            vbuf[offset] = x - halfWidth\n            vbuf[offset + 1] = y - halfHeight\n            vbuf[offset + 2] = z\n\n            vbuf[offset + 9] = x + halfWidth\n            vbuf[offset + 10] = y - halfHeight\n            vbuf[offset + 11] = z\n\n            vbuf[offset + 18] = x - halfWidth\n            vbuf[offset + 19] = y + halfHeight\n            vbuf[offset + 20] = z\n\n            vbuf[offset + 27] = x + halfWidth\n            vbuf[offset + 28] = y + halfHeight\n            vbuf[offset + 29] = z\n        } else {\n            // Rotation in radians\n            const radX = -misc.degreesToRadians(rotX)\n            const radY = -misc.degreesToRadians(rotY)\n            const radZ = -misc.degreesToRadians(rotZ)\n\n            const cosX = Math.cos(radX)\n            const sinX = Math.sin(radX)\n            const cosY = Math.cos(radY)\n            const sinY = Math.sin(radY)\n            const cosZ = Math.cos(radZ)\n            const sinZ = Math.sin(radZ)\n\n            function rotatePoint(px: number, py: number, pz: number): Vec3 {\n                // Rotate around X-axis\n                const y1 = py * cosX - pz * sinX\n                const z1 = py * sinX + pz * cosX\n\n                // Rotate around Y-axis\n                const x2 = px * cosY + z1 * sinY\n                const z2 = z1 * cosY - px * sinY\n\n                // Rotate around Z-axis\n                const x3 = x2 * cosZ - y1 * sinZ\n                const y3 = x2 * sinZ + y1 * cosZ\n\n                return new Vec3(x3, y3, z2)\n            }\n\n            const positions: [Vec3, Vec3, Vec3, Vec3] = [\n                rotatePoint(-halfWidth, -halfHeight, 0), // bottom-left\n                rotatePoint(halfWidth, -halfHeight, 0), // bottom-right\n                rotatePoint(-halfWidth, halfHeight, 0), // top-left\n                rotatePoint(halfWidth, halfHeight, 0), // top-right\n            ]\n\n            vbuf[offset] = positions[0].x + x\n            vbuf[offset + 1] = positions[0].y + y\n            vbuf[offset + 2] = positions[0].z + z\n\n            vbuf[offset + 9] = positions[1].x + x\n            vbuf[offset + 10] = positions[1].y + y\n            vbuf[offset + 11] = positions[1].z + z\n\n            vbuf[offset + 18] = positions[2].x + x\n            vbuf[offset + 19] = positions[2].y + y\n            vbuf[offset + 20] = positions[2].z + z\n\n            vbuf[offset + 27] = positions[3].x + x\n            vbuf[offset + 28] = positions[3].y + y\n            vbuf[offset + 29] = positions[3].z + z\n        }\n\n        // Color data\n        Color.toArray(vbuf, particle.color as IColorLike, offset + 5)\n        Color.toArray(vbuf, particle.color as IColorLike, offset + 14)\n        Color.toArray(vbuf, particle.color as IColorLike, offset + 23)\n        Color.toArray(vbuf, particle.color as IColorLike, offset + 32)\n    }\n\n    public step(dt: number): void {\n        const psys = this.sys\n        const node = psys.node\n        const particles = this.particles\n        // dt = dt > assembler.maxParticleDeltaTime ? assembler.maxParticleDeltaTime : dt\n\n        // Calculate pos\n        node.updateWorldTransform()\n\n        // Emission\n        if (this.active) {\n            this.sys.emitting(dt)\n        }\n\n        // Request buffer for particles\n        const renderData = this.renderData\n        const particleCount = particles.length\n        renderData.reset()\n        this.requestData(particleCount * 4, particleCount * 6)\n\n        // Fill up uvs\n        if (particleCount > this.uvFilled) {\n            this.updateUVs()\n        }\n\n        // Used to reduce memory allocation / creation within the loop\n        let particleIdx = 0\n        while (particleIdx < particles.length) {\n            const particle = particles[particleIdx]\n            if (!particle) continue\n\n            particle.remainingLifetime -= dt\n            if (particle.remainingLifetime > 0) {\n                const offset = formatBytes * particleIdx * 4\n                this.updateParticleBuffer(particle, particle.pos, renderData, offset)\n\n                // update particle counter\n                ++particleIdx\n            } else {\n                const deadParticle = particles[particleIdx]\n                if (!deadParticle) continue\n\n                if (particleIdx !== particles.length - 1) {\n                    const lastParticle = particles[particles.length - 1]\n                    if (lastParticle) {\n                        particles[particleIdx] = lastParticle\n                    }\n                }\n\n                pool.put(deadParticle)\n\n                particles.length--\n                renderData.resize(renderData.vertexCount - 4, renderData.indexCount - 6)\n            }\n        }\n\n        this.renderData.material = this.sys.getRenderMaterial(0) // hack\n        this.renderData.frame = this.sys.spriteFrame // hack\n        renderData?.setRenderDrawInfoAttributes?.()\n    }\n\n    requestData(vertexCount: number, indexCount: number): void {\n        let offset = this.renderData.indexCount\n        this.renderData.request(vertexCount, indexCount)\n        const count = this.renderData.indexCount / 6\n        const buffer = this.renderData.iData\n        for (let i = offset; i < count; i++) {\n            const vId = i * 4\n            buffer[offset++] = vId\n            buffer[offset++] = vId + 1\n            buffer[offset++] = vId + 2\n            buffer[offset++] = vId + 1\n            buffer[offset++] = vId + 3\n            buffer[offset++] = vId + 2\n        }\n    }\n\n    public initDrawInfo(): void {\n        const renderData = this.renderData\n        renderData?.setRenderDrawInfoAttributes?.()\n    }\n}\n","import { _decorator, approx, Enum, EPSILON, lerp, RealCurve } from 'cc'\n\nconst { ccclass, property } = _decorator\n\nexport const Mode = Enum({\n    Constant: 0,\n    Curve: 1,\n    TwoCurves: 2,\n    TwoConstants: 3,\n})\n\n@ccclass('CurveRange')\nexport default class CurveRange {\n    @property({ type: Enum(Mode) })\n    public mode: number = Mode.Constant\n\n    @property({\n        visible: function (this: CurveRange): boolean {\n            return this.mode === Mode.Constant\n        },\n    })\n    public constant = 0\n\n    @property({\n        visible: function (this: CurveRange): boolean {\n            return this.mode === Mode.Curve\n        },\n    })\n    public spline: RealCurve = new RealCurve()\n\n    @property({\n        visible: function (this: CurveRange): boolean {\n            return this.mode === Mode.TwoCurves\n        },\n    })\n    public splineMin: RealCurve = new RealCurve()\n\n    @property({\n        visible: function (this: CurveRange): boolean {\n            return this.mode === Mode.TwoCurves\n        },\n    })\n    public splineMax: RealCurve = new RealCurve()\n\n    @property({\n        visible: function (this: CurveRange): boolean {\n            return this.mode === Mode.TwoConstants\n        },\n    })\n    public constantMin = 0\n\n    @property({\n        visible: function (this: CurveRange): boolean {\n            return this.mode === Mode.TwoConstants\n        },\n    })\n    public constantMax = 0\n\n    constructor() {\n        this.spline.assignSorted([0, 1], [0, 1])\n        this.splineMin.assignSorted([0, 1], [0, 1])\n        this.splineMax.assignSorted([0, 1], [0, 1])\n    }\n\n    public evaluate(time: number, rndRatio: number): number {\n        switch (this.mode) {\n            case Mode.Curve:\n                return this.spline.evaluate(time)\n            case Mode.TwoCurves:\n                return lerp(this.splineMin.evaluate(time), this.splineMax.evaluate(time), rndRatio)\n            case Mode.TwoConstants:\n                return lerp(this.constantMin, this.constantMax, rndRatio)\n            default:\n                return this.constant\n        }\n    }\n\n    public getMax(): number {\n        switch (this.mode) {\n            case Mode.Curve:\n                return 1\n            case Mode.TwoConstants:\n                return this.constantMax\n            case Mode.TwoCurves:\n                return 1\n            default:\n                return this.constant\n        }\n    }\n\n    public isZero(): boolean {\n        switch (this.mode) {\n            case Mode.Curve:\n                return approx(1, 0.0, EPSILON)\n            case Mode.TwoConstants:\n                return approx(Math.max(Math.abs(this.constantMax), Math.abs(this.constantMin)), 0.0, EPSILON)\n            case Mode.TwoCurves:\n                return approx(1, 0.0, EPSILON)\n            default:\n                return approx(this.constant, 0.0, EPSILON)\n        }\n    }\n}\n","import { _decorator, Color, Enum, Gradient } from 'cc'\n\nconst { ccclass, property } = _decorator\n\nexport const Mode = Enum({\n    Color: 0,\n    Gradient: 1,\n    TwoColors: 2,\n    TwoGradients: 3,\n    RandomColor: 4,\n})\n\nconst tempColor = new Color()\nconst tempColor2 = new Color()\n\n@ccclass('GradientRange')\nexport default class GradientRange {\n    @property({ type: Enum(Mode) })\n    public mode: number = Mode.Color\n\n    @property({\n        visible: function (this: GradientRange): boolean {\n            return this.mode === Mode.Color\n        },\n    })\n    public color = Color.WHITE.clone()\n\n    @property({\n        visible: function (this: GradientRange): boolean {\n            return this.mode === Mode.TwoColors\n        },\n    })\n    public colorMin = Color.WHITE.clone()\n\n    @property({\n        visible: function (this: GradientRange): boolean {\n            return this.mode === Mode.TwoColors\n        },\n    })\n    public colorMax = Color.WHITE.clone()\n\n    @property({\n        visible: function (this: GradientRange): boolean {\n            return this.mode === Mode.Gradient || this.mode === Mode.RandomColor\n        },\n    })\n    public gradient = new Gradient()\n\n    @property({\n        visible: function (this: GradientRange): boolean {\n            return this.mode === Mode.TwoGradients\n        },\n    })\n    public gradientMin = new Gradient()\n\n    @property({\n        visible: function (this: GradientRange): boolean {\n            return this.mode === Mode.TwoGradients\n        },\n    })\n    public gradientMax = new Gradient()\n\n    private _color = Color.WHITE.clone()\n\n    public evaluate(time: number, rndRatio: number): Color {\n        switch (this.mode) {\n            case Mode.Color:\n                return this.color\n            case Mode.TwoColors:\n                Color.lerp(this._color, this.colorMin, this.colorMax, rndRatio)\n                return this._color\n            case Mode.RandomColor:\n                return this.gradient.getRandomColor(this._color)\n            case Mode.Gradient:\n                return this.gradient.evaluateFast(this._color, time)\n            case Mode.TwoGradients:\n                Color.lerp(\n                    this._color,\n                    this.gradientMin.evaluateFast(tempColor, time),\n                    this.gradientMax.evaluateFast(tempColor2, time),\n                    rndRatio,\n                )\n                return this._color\n            default:\n                return this.color\n        }\n    }\n}\n","import { bits, random, randomRange, randomRangeInt, Vec2, Vec3 } from 'cc'\nimport type CurveRange from './particle-editor/CurveRange'\nimport { Mode as CurveRangeMode } from './particle-editor/CurveRange'\nimport type GradientRange from './particle-editor/GradientRange'\nimport { Mode as GradientRangeMode } from './particle-editor/GradientRange'\n\nexport function fixedAngleUnitVector2(out: Vec2 | Vec3, theta: number): void {\n    Vec2.set(out, Math.cos(theta), Math.sin(theta))\n}\n\nexport function randomUnitVector2(out: Vec2 | Vec3): void {\n    const a = randomRange(0, 2 * Math.PI)\n    const x = Math.cos(a)\n    const y = Math.sin(a)\n    Vec2.set(out, x, y)\n}\n\nexport function randomUnitVector(out: Vec3): void {\n    const z = randomRange(-1, 1)\n    const a = randomRange(0, 2 * Math.PI)\n    const r = Math.sqrt(1 - z * z)\n    const x = r * Math.cos(a)\n    const y = r * Math.sin(a)\n    Vec3.set(out, x, y, z)\n}\n\nexport function randomPointInUnitSphere(out: Vec3): void {\n    randomUnitVector(out)\n    Vec3.multiplyScalar(out, out, random())\n}\n\nexport function randomPointBetweenSphere(out: Vec3, minRadius: number, maxRadius: number): void {\n    randomUnitVector(out)\n    Vec3.multiplyScalar(out, out, minRadius + (maxRadius - minRadius) * random())\n}\n\nexport function randomPointInUnitCircle(out: Vec3): void {\n    randomUnitVector2(out)\n    out.z = 0\n    Vec3.multiplyScalar(out, out, random())\n}\n\nexport function randomPointBetweenCircle(out: Vec3, minRadius: number, maxRadius: number): void {\n    randomUnitVector2(out)\n    out.z = 0\n    Vec3.multiplyScalar(out, out, minRadius + (maxRadius - minRadius) * random())\n}\n\nexport function randomPointBetweenCircleAtFixedAngle(\n    out: Vec3,\n    minRadius: number,\n    maxRadius: number,\n    theta: number,\n): void {\n    fixedAngleUnitVector2(out, theta)\n    out.z = 0\n    Vec3.multiplyScalar(out, out, minRadius + (maxRadius - minRadius) * random())\n}\n\nexport function randomPointInRect(out: Vec3, extents: Vec2): void {\n    Vec2.set(out, randomRange(-extents.x, extents.x), randomRange(-extents.y, extents.y))\n}\n\nexport function randomPointBetweenCube(out: Vec3, minBox: Vec3, maxBox: Vec3): void {\n    const subscript: ['x', 'y', 'z'] = ['x', 'y', 'z']\n    const edge = randomRangeInt(0, 3)\n    for (let i = 0; i < 3; i++) {\n        if (i === edge) {\n            out[subscript[i]] = randomRange(-maxBox[subscript[i]], maxBox[subscript[i]])\n            continue\n        }\n        const x = random() * 2 - 1\n        if (x < 0) {\n            out[subscript[i]] = -minBox[subscript[i]] + x * (maxBox[subscript[i]] - minBox[subscript[i]])\n        } else {\n            out[subscript[i]] = minBox[subscript[i]] + x * (maxBox[subscript[i]] - minBox[subscript[i]])\n        }\n    }\n}\n\n// FisherYates shuffle\nexport function randomSortArray(arr: number[]): void {\n    for (let i = 0; i < arr.length; i++) {\n        const transpose = i + randomRangeInt(0, arr.length - i)\n        const val = arr[transpose]\n        arr[transpose] = arr[i]\n        arr[i] = val\n    }\n}\n\nexport function randomSign(): number {\n    let sgn = randomRange(-1, 1)\n    if (sgn === 0) {\n        sgn++\n    }\n    return bits.sign(sgn)\n}\n\n/**\n * @en judge if the CurveRange use TwoCurves or TwoConstants\n * @zh CurveRange TwoCurves  TwoConstants\n */\nexport function isCurveTwoValues(curve: CurveRange): boolean {\n    const Mode = CurveRangeMode\n    switch (curve.mode) {\n        case Mode.TwoCurves:\n        case Mode.TwoConstants:\n            return true\n        default:\n            return false\n    }\n}\n/**\n * @en judge if the GradientRange TwoValues use TwoGradients or TwoColors\n * @zh  GradientRange  TwoGradients  TwoColors\n */\nexport function isGradientTwoValues(color: GradientRange): boolean {\n    const Mode = GradientRangeMode\n    switch (color.mode) {\n        case Mode.TwoGradients:\n        case Mode.TwoColors:\n            return true\n        default:\n            return false\n    }\n}\n","export const ModuleRandSeed = {\n    LIMIT: 23541,\n    SIZE: 39825,\n    SPRITE: 90794,\n    COLOR: 91041,\n    FORCE: 212165,\n    ROTATION: 125292,\n    VELOCITY_X: 197866,\n    VELOCITY_Y: 156497,\n    VELOCITY_Z: 984136,\n}\n","import { _decorator, CCBoolean, pseudoRandom } from 'cc'\nimport { isGradientTwoValues } from '../ParticleFunction'\nimport type { Particle } from '../ParticleSimulator'\nimport GradientRange from '../particle-editor/GradientRange'\nimport { ModuleRandSeed } from './ModuleRandSeed'\n\nconst { ccclass, property } = _decorator\n\nconst COLOR_MODULE_RAND_SEED = ModuleRandSeed.COLOR\n\n@ccclass('ColorOvertimeModule')\nexport class ColorOvertimeModule {\n    @property({ type: CCBoolean })\n    private enable!: boolean\n\n    @property({ type: GradientRange })\n    private color: GradientRange = new GradientRange()\n\n    public update(particle: Particle): void {\n        if (!this.enable) return\n\n        particle.color.set(particle.startColor)\n        const rand = isGradientTwoValues(this.color) ? pseudoRandom(particle.randomSeed + COLOR_MODULE_RAND_SEED) : 0\n        particle.color.multiply(this.color.evaluate(1.0 - particle.remainingLifetime / particle.startLifetime, rand))\n    }\n}\n","import { _decorator, CCBoolean, math, pseudoRandom } from 'cc'\nimport { isCurveTwoValues } from '../ParticleFunction'\nimport type { Particle } from '../ParticleSimulator'\nimport CurveRange from '../particle-editor/CurveRange'\nimport { ModuleRandSeed } from './ModuleRandSeed'\n\nconst { ccclass, property } = _decorator\n\nconst LIMIT_VELOCITY_MODULE_RAND_SEED = ModuleRandSeed.LIMIT\n\n@ccclass('LimitVelocityOvertimeModule')\nexport class LimitVelocityOvertimeModule {\n    @property({ type: CCBoolean })\n    private enable!: boolean\n\n    @property({ type: CurveRange })\n    private limit: CurveRange = new CurveRange()\n\n    @property({ type: CurveRange })\n    private dampen: CurveRange = new CurveRange()\n\n    constructor() {\n        this.limit.constant = 500\n        this.dampen.constant = 0.2\n    }\n\n    public update(particle: Particle, dt: number): void {\n        if (!this.enable) return\n\n        const normalizedTime = 1 - particle.remainingLifetime / particle.startLifetime\n        const dampedVel = particle.velocity.clone().normalize()\n\n        const randLimit = isCurveTwoValues(this.limit)\n            ? pseudoRandom(particle.randomSeed + LIMIT_VELOCITY_MODULE_RAND_SEED)\n            : 0\n        const randDampen = isCurveTwoValues(this.dampen)\n            ? pseudoRandom(particle.randomSeed + LIMIT_VELOCITY_MODULE_RAND_SEED + 1)\n            : 0\n\n        const vel = particle.velocity.length()\n        const limit = this.limit.evaluate(normalizedTime, randLimit)\n        const dampen = this.dampen.evaluate(normalizedTime, randDampen)\n        particle.velocity = dampedVel.multiplyScalar(this.dampenBeyondLimit(vel, limit, dampen, dt))\n    }\n\n    private dampenBeyondLimit(vel: number, limit: number, dampen: number, dt: number): number {\n        if (vel <= limit) return vel\n        const t = 1 - Math.exp(-dampen * dt)\n        return math.lerp(vel, limit, t)\n    }\n}\n","import { _decorator, CCBoolean, pseudoRandom } from 'cc'\nimport { isCurveTwoValues } from '../ParticleFunction'\nimport type { Particle } from '../ParticleSimulator'\nimport CurveRange from '../particle-editor/CurveRange'\nimport { ModuleRandSeed } from './ModuleRandSeed'\n\nconst { ccclass, property } = _decorator\n\nconst ROTATION_MODULE_RAND_SEED = ModuleRandSeed.ROTATION\n\n@ccclass('RotationOvertimeModule')\nexport class RotationOvertimeModule {\n    @property({ type: CCBoolean })\n    private enable!: boolean\n\n    @property(CCBoolean)\n    private separateAxes = false\n\n    @property({\n        type: CurveRange,\n        visible: function (this: RotationOvertimeModule): boolean {\n            return this.separateAxes\n        },\n    })\n    private x = new CurveRange()\n\n    @property({\n        type: CurveRange,\n        visible: function (this: RotationOvertimeModule): boolean {\n            return this.separateAxes\n        },\n    })\n    private y = new CurveRange()\n\n    @property({ type: CurveRange })\n    private z = new CurveRange()\n\n    public update(particle: Particle, deltaTime: number): void {\n        if (!this.enable) return\n\n        const normalizedTime = 1 - particle.remainingLifetime / particle.startLifetime\n\n        const seed = particle.randomSeed + ROTATION_MODULE_RAND_SEED\n\n        const randZ = isCurveTwoValues(this.z) ? pseudoRandom(seed) : 0\n        const rotationZ = this.z.evaluate(normalizedTime, randZ) * deltaTime\n\n        let rotationX = 0\n        let rotationY = 0\n\n        if (this.separateAxes) {\n            const randX = isCurveTwoValues(this.x) ? pseudoRandom(seed) : 0\n            const randY = isCurveTwoValues(this.y) ? pseudoRandom(seed) : 0\n\n            rotationX = this.x.evaluate(normalizedTime, randX) * deltaTime\n            rotationY = this.y.evaluate(normalizedTime, randY) * deltaTime\n        }\n\n        particle.rotation.add3f(rotationX, rotationY, rotationZ)\n    }\n}\n","import { _decorator, Enum, type Graphics, randomRange, toRadian, Vec2, Vec3 } from 'cc'\nimport {\n    randomPointBetweenCircleAtFixedAngle,\n    randomPointInRect,\n    randomSign,\n    randomSortArray,\n} from '../ParticleFunction'\nimport type { Particle } from '../ParticleSimulator'\n\nconst { ccclass, property } = _decorator\n\nexport const Shape = Enum({\n    Circle: 0,\n    Rectangle: 1,\n})\n\nexport const EmitLocation = Enum({\n    Base: 0,\n    Edge: 1,\n})\n\nconst circleVisible = function (this: ShapeModule): boolean {\n    return this.shape === Shape.Circle\n}\n\nconst rectangleVisible = function (this: ShapeModule): boolean {\n    return this.shape === Shape.Rectangle\n}\n\nconst _tempArr: [number, number] = [0, 0]\n\n@ccclass('ShapeModule')\nexport class ShapeModule {\n    @property({ type: Enum(Shape) })\n    public shape: number = Shape.Circle\n\n    @property({ type: Enum(EmitLocation), visible: rectangleVisible })\n    public emitFrom: number = EmitLocation.Base\n\n    @property({})\n    public position: Vec3 = new Vec3(0, 0, 0)\n\n    @property({})\n    public rotation: Vec3 = new Vec3(0, 0, 0)\n\n    @property({})\n    public scale: Vec3 = new Vec3(1, 1, 1)\n\n    @property({ range: [0, 360], visible: circleVisible })\n    public arc = 360\n\n    @property({ range: [-360, 360], visible: circleVisible })\n    public angle = 25\n\n    @property({ min: 0, visible: circleVisible })\n    public radius = 1\n\n    @property({ range: [0, 1], step: 0.01, visible: circleVisible })\n    public radiusThickness = 1\n\n    @property({ visible: rectangleVisible })\n    public rectangleThickness = new Vec2(20, 50)\n\n    public emit(particle: Particle): void {\n        switch (this.shape) {\n            case Shape.Circle:\n                this.circleEmit(this.radius, this.radiusThickness, toRadian(this.generateArcAngle()), particle)\n                break\n            case Shape.Rectangle:\n                this.rectangleEmit(this.emitFrom, this.rectangleThickness, particle)\n                break\n        }\n    }\n\n    private circleEmit(radius: number, radiusThickness: number, theta: number, particle: Particle): void {\n        const pos = particle.pos\n        randomPointBetweenCircleAtFixedAngle(pos, radius * (1 - radiusThickness), radius, theta + toRadian(this.angle))\n        particle.velocity = pos.clone().normalize()\n    }\n\n    private rectangleEmit(emitFrom: number, rectangleThickness: Vec2, particle: Particle): void {\n        const pos = particle.pos\n        switch (emitFrom) {\n            case EmitLocation.Base:\n                randomPointInRect(pos, rectangleThickness)\n                break\n            case EmitLocation.Edge:\n                _tempArr[0] = randomRange(-1, 1)\n                _tempArr[1] = randomSign()\n                randomSortArray(_tempArr)\n                this.applyRectThickness(_tempArr, rectangleThickness)\n                Vec2.set(pos, _tempArr[0], _tempArr[1])\n                break\n        }\n\n        particle.velocity = pos.clone().normalize()\n    }\n\n    private generateArcAngle(): number {\n        return randomRange(0, this.arc)\n    }\n\n    private applyRectThickness(pos: [number, number], thickness: Vec2) {\n        if (thickness.x > 0) {\n            pos[0] *= thickness.x\n        }\n        if (thickness.y > 0) {\n            pos[1] *= thickness.y\n        }\n    }\n\n    public gizmo(g: Graphics) {\n        g.strokeColor.fromHEX('#46C4FFB0')\n        g.fillColor.fromHEX('#46C4FF77')\n        g.lineWidth = 8\n\n        switch (this.shape) {\n            case Shape.Circle:\n                this.gizmoCircle(g)\n                break\n            case Shape.Rectangle:\n                this.gizmoRectangle(g)\n                break\n        }\n    }\n\n    private gizmoCircle(g: Graphics) {\n        g.clear()\n\n        const startAngle = this.angle\n        const endAngle = this.angle + this.arc\n\n        this.createArcPath(g, this.radius, startAngle, endAngle)\n        this.createArcPath(g, this.radius * (1 - this.radiusThickness), startAngle, endAngle)\n\n        if (this.arc < 360 && this.radius > 0) {\n            // draw two line\n            const x1 = this.radius * Math.cos(toRadian(this.angle))\n            const y1 = this.radius * Math.sin(toRadian(this.angle))\n\n            const x2 = this.radius * Math.cos(toRadian(this.arc + this.angle))\n            const y2 = this.radius * Math.sin(toRadian(this.arc + this.angle))\n\n            g.moveTo(x1, y1)\n            g.lineTo(0, 0)\n\n            g.moveTo(x2, y2)\n            g.lineTo(0, 0)\n        }\n\n        g.stroke()\n    }\n\n    private gizmoRectangle(g: Graphics) {\n        g.clear()\n\n        // draw rectangle\n        const width = this.rectangleThickness.x\n        const height = this.rectangleThickness.y\n\n        g.moveTo(width, height)\n        g.lineTo(-width, height)\n        g.lineTo(-width, -height)\n        g.lineTo(width, -height)\n\n        g.close()\n\n        g.stroke()\n    }\n\n    private createArcPath(g: Graphics, radius: number, startAngle: number, endAngle: number) {\n        if (radius <= 0) return\n\n        const segments = 48\n        const angelStep = (endAngle - startAngle) / segments\n\n        for (let i = 0; i <= segments; i++) {\n            const angle = startAngle + i * angelStep\n            const x = radius * Math.cos(toRadian(angle))\n            const y = radius * Math.sin(toRadian(angle))\n            if (i === 0) {\n                g.moveTo(x, y)\n            } else {\n                g.lineTo(x, y)\n            }\n        }\n    }\n}\n","import { _decorator, CCBoolean, pseudoRandom } from 'cc'\nimport { isCurveTwoValues } from '../ParticleFunction'\nimport type { Particle } from '../ParticleSimulator'\nimport CurveRange from '../particle-editor/CurveRange'\nimport { ModuleRandSeed } from './ModuleRandSeed'\n\nconst { ccclass, property } = _decorator\n\nconst SIZE_MODULE_RAND_SEED = ModuleRandSeed.SIZE\n\n@ccclass('SizeOvertimeModule')\nexport class SizeOvertimeModule {\n    @property({ type: CCBoolean })\n    private enable!: boolean\n\n    @property(CCBoolean)\n    private separateAxes = false\n\n    @property({\n        type: CurveRange,\n        visible: function (this: SizeOvertimeModule): boolean {\n            return !this.separateAxes\n        },\n    })\n    private size = new CurveRange()\n\n    @property({\n        type: CurveRange,\n        visible: function (this: SizeOvertimeModule): boolean {\n            return this.separateAxes\n        },\n    })\n    private x = new CurveRange()\n\n    @property({\n        type: CurveRange,\n        visible: function (this: SizeOvertimeModule): boolean {\n            return this.separateAxes\n        },\n    })\n    private y = new CurveRange()\n\n    constructor() {\n        this.size.constant = 1\n        this.x.constant = 1\n        this.y.constant = 1\n    }\n\n    public update(particle: Particle): void {\n        if (!this.enable) return\n\n        const currLifetime = 1 - particle.remainingLifetime / particle.startLifetime\n        const seed = particle.randomSeed + SIZE_MODULE_RAND_SEED\n\n        if (!this.separateAxes) {\n            const rand = isCurveTwoValues(this.size) ? pseudoRandom(seed) : 0\n            const size = this.size.evaluate(currLifetime, rand)\n\n            particle.size.multiplyScalar(size)\n        } else {\n            const randX = isCurveTwoValues(this.x) ? pseudoRandom(seed) : 0\n            const randY = isCurveTwoValues(this.y) ? pseudoRandom(seed) : 0\n\n            particle.size.x = particle.startSize.x * this.x.evaluate(currLifetime, randX)\n            particle.size.y = particle.startSize.y * this.y.evaluate(currLifetime, randY)\n        }\n    }\n}\n","import { _decorator, CCBoolean, pseudoRandom, Vec3 } from 'cc'\nimport { isCurveTwoValues } from '../ParticleFunction'\nimport type { Particle } from '../ParticleSimulator'\nimport CurveRange from '../particle-editor/CurveRange'\nimport { ModuleRandSeed } from './ModuleRandSeed'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('VelocityOvertimeModule')\nexport class VelocityOvertimeModule {\n    @property({ type: CCBoolean })\n    private enable!: boolean\n\n    @property({ type: CurveRange })\n    private x: CurveRange = new CurveRange()\n\n    @property({ type: CurveRange })\n    private y: CurveRange = new CurveRange()\n\n    private _temp_v3 = new Vec3()\n\n    constructor() {\n        this.x.constant = 0\n        this.y.constant = 0\n    }\n\n    public update(particle: Particle, dt: number): void {\n        if (!this.enable) return\n\n        const normalizedTime = 1 - particle.remainingLifetime / particle.startLifetime\n\n        const randX = isCurveTwoValues(this.x) ? pseudoRandom(particle.randomSeed + ModuleRandSeed.VELOCITY_X) : 0\n        const randY = isCurveTwoValues(this.y) ? pseudoRandom(particle.randomSeed + ModuleRandSeed.VELOCITY_Y) : 0\n\n        const vel = Vec3.set(\n            this._temp_v3,\n            this.x.evaluate(normalizedTime, randX),\n            this.y.evaluate(normalizedTime, randY),\n            0,\n        )\n\n        particle.velocity.add(vel.multiplyScalar(dt))\n    }\n}\n","import {\n    type __private,\n    _decorator,\n    bits,\n    CCBoolean,\n    CCClass,\n    CCFloat,\n    Enum,\n    type IAssembler,\n    type MeshRenderData,\n    ParticleSystem2D,\n    pseudoRandom,\n    randomRangeInt,\n    SpriteFrame,\n    UIRenderer,\n    Vec3,\n} from 'cc'\nimport { EDITOR, EDITOR_NOT_IN_PREVIEW } from 'cc/env'\nimport { Burst } from './Burst'\nimport { type Particle, ParticleSimulator } from './ParticleSimulator'\nimport CurveRange from './particle-editor/CurveRange'\nimport GradientRange from './particle-editor/GradientRange'\nimport { ColorOvertimeModule } from './particle-modules/ColorOvertimeModule'\nimport { LimitVelocityOvertimeModule } from './particle-modules/LimitVelocityOvertimeModule'\nimport { RotationOvertimeModule } from './particle-modules/RotationOvertimeModule'\nimport { ShapeModule } from './particle-modules/ShapeModule'\nimport { SizeOvertimeModule } from './particle-modules/SizeOvertimeModule'\nimport { VelocityOvertimeModule } from './particle-modules/VelocityOvertimeModule'\n\nconst { ccclass, property, executeInEditMode, disallowMultiple, playOnFocus } = _decorator\n\ntype IBatcher = __private._cocos_2d_renderer_i_batcher__IBatcher\n\nconst setClassAttr = CCClass.Attr.setClassAttr\n\n//? Avoid rendering issues in 2D\nconst Z_OFFSET = 100\n\nexport const Space = Enum({\n    World: 0,\n    Local: 1,\n})\n\n//? Add this type to extend MeshRenderData with particleInitRenderDrawInfo\ntype ParticleMeshRenderData = MeshRenderData & {\n    particleInitRenderDrawInfo: (renderEntity: any) => void\n}\n\n@ccclass('ParticleSystem')\n@executeInEditMode(true)\n@disallowMultiple(true)\n@playOnFocus(true)\nexport class ParticleSystem extends UIRenderer {\n    @property({})\n    public get preview(): boolean {\n        return this._preview\n    }\n\n    public set preview(value: boolean) {\n        this._preview = value\n        if (value) {\n            this._startPreview()\n        } else {\n            this._stopPreview()\n        }\n    }\n\n    @property({ formerlySerializedAs: 'preview' })\n    private _preview: boolean = false\n\n    @property(CCBoolean)\n    private playOnAwake: boolean = true\n\n    @property({ type: Enum(Space) })\n    public get simulationSpace() {\n        return this._simulationSpace\n    }\n\n    public set simulationSpace(val: number) {\n        this._simulationSpace = val\n        this._updateMaterial()\n        this._updateSimulationSpace()\n    }\n\n    @property({ formerlySerializedAs: 'simulationSpace' })\n    private _simulationSpace = Space.Local\n\n    @property(CCFloat)\n    public duration: number = 5\n\n    @property(CCBoolean)\n    private loop: boolean = false\n\n    @property({ type: CurveRange })\n    public startDelay: CurveRange = new CurveRange()\n\n    @property({ type: CurveRange })\n    private startLifetime: CurveRange = new CurveRange()\n\n    @property(GradientRange)\n    private startColor: GradientRange = new GradientRange()\n\n    @property(CCBoolean)\n    private startSize2D: boolean = false\n\n    @property({ type: CurveRange, formerlySerializedAs: 'startSize' })\n    private startSizeX: CurveRange = new CurveRange()\n\n    @property({\n        type: CurveRange,\n        visible: function (this: ParticleSystem): boolean {\n            return this.startSize2D\n        },\n    })\n    private startSizeY: CurveRange = new CurveRange()\n\n    @property({ type: CurveRange })\n    public startSpeed: CurveRange = new CurveRange()\n\n    @property(CCBoolean)\n    private startRotation3D: boolean = false\n\n    @property({\n        type: CurveRange,\n        visible: function (this: ParticleSystem): boolean {\n            return this.startRotation3D\n        },\n    })\n    private startRotationX: CurveRange = new CurveRange()\n\n    @property({\n        type: CurveRange,\n        visible: function (this: ParticleSystem): boolean {\n            return this.startRotation3D\n        },\n    })\n    private startRotationY: CurveRange = new CurveRange()\n\n    @property({ type: CurveRange, formerlySerializedAs: 'startRotation' })\n    private startRotationZ: CurveRange = new CurveRange()\n\n    @property({ type: CurveRange })\n    private gravityModifier: CurveRange = new CurveRange()\n\n    @property({ type: CurveRange })\n    public rateOverTime: CurveRange = new CurveRange()\n\n    @property({ type: ShapeModule })\n    public shapeModule: ShapeModule = new ShapeModule()\n\n    @property({ type: VelocityOvertimeModule })\n    public velocityOvertimeModule: VelocityOvertimeModule = new VelocityOvertimeModule()\n\n    @property({ type: SizeOvertimeModule })\n    public sizeOvertimeModule: SizeOvertimeModule = new SizeOvertimeModule()\n\n    @property({ type: RotationOvertimeModule })\n    public rotationOvertimeModule: RotationOvertimeModule = new RotationOvertimeModule()\n\n    @property({ type: ColorOvertimeModule })\n    public colorOvertimeModule: ColorOvertimeModule = new ColorOvertimeModule()\n\n    @property({ type: LimitVelocityOvertimeModule })\n    public limitVelocityOvertimeModule: LimitVelocityOvertimeModule = new LimitVelocityOvertimeModule()\n\n    @property\n    @property(Burst)\n    public bursts: Burst[] = []\n\n    @property({ serializable: true })\n    private _spriteFrame: SpriteFrame | null = null\n\n    @property({ type: SpriteFrame })\n    public get spriteFrame(): SpriteFrame | null {\n        return this._spriteFrame\n    }\n\n    public set spriteFrame(value: SpriteFrame | null) {\n        const lastSprite = this._renderSpriteFrame\n        if (lastSprite === value) {\n            return\n        }\n        this._renderSpriteFrame = value\n\n        if (!value || value._uuid) {\n            this._spriteFrame = value\n        }\n\n        this._applySpriteFrame()\n\n        if (EDITOR) {\n            this.node.emit('spriteframe-changed', this)\n        }\n    }\n\n    public get assembler(): IAssembler | null {\n        return this._assembler\n    }\n\n    public _renderSpriteFrame: SpriteFrame | null = null\n\n    private _simulator!: ParticleSimulator\n\n    public time: number = 0\n    private emitRateTimeCounter: number = 0\n\n    private isPlaying: boolean = false\n    private isStopped: boolean = true\n    private isEmitting: boolean = false\n\n    constructor() {\n        super()\n\n        this.startLifetime.constant = 5\n        this.startSizeX.constant = 1\n        this.startSpeed.constant = 5\n        this.rateOverTime.constant = 10\n\n        this.initProperties()\n    }\n    public onEnable(): void {\n        super.onEnable()\n        this._updateMaterial()\n        this._updateSimulationSpace()\n    }\n\n    public onDestroy(): void {\n        super.onDestroy()\n    }\n\n    private initProperties(): void {\n        this._simulator = new ParticleSimulator(this)\n    }\n\n    public onFocusInEditor(): void {\n        this._startPreview()\n    }\n\n    public onLostFocusInEditor(): void {\n        this._stopPreview()\n    }\n\n    private _startPreview(): void {\n        if (this._preview) {\n            this.play()\n        }\n    }\n\n    private _stopPreview(): void {\n        if (!this._preview) {\n            this.play()\n            this.stop()\n        }\n    }\n\n    public __preload(): void {\n        super.__preload()\n\n        if (this.spriteFrame && !this._renderSpriteFrame) {\n            this._applySpriteFrame()\n        }\n\n        // auto play\n        if (!EDITOR_NOT_IN_PREVIEW) {\n            if (this.playOnAwake) {\n                this.play()\n            }\n        }\n    }\n\n    protected start(): void {\n        this.node.position = new Vec3(this.node.position.x, this.node.position.y, Z_OFFSET)\n    }\n\n    public play(): void {\n        if (this.isStopped) {\n            this.isStopped = false\n        }\n\n        this.time = 0\n        this.isPlaying = true\n        this.isStopped = false\n        this.isEmitting = true\n\n        this._simulator.reset()\n        this.markForUpdateRenderData()\n    }\n\n    public stop(): void {\n        if (this.isPlaying) {\n            this.isPlaying = false\n        }\n\n        if (this.isEmitting) {\n            this.isEmitting = false\n        }\n\n        this.isStopped = true\n\n        this._simulator.reset()\n        this._simulator.stop()\n    }\n\n    protected _flushAssembler(): void {\n        const assembler = ParticleSystem2D.Assembler.getAssembler(this)\n\n        if (this._assembler !== assembler) {\n            this._assembler = assembler\n        }\n\n        if (this._assembler?.createData) {\n            const simulator = this._simulator\n            let renderData = simulator.renderData as ParticleMeshRenderData\n            if (!renderData) {\n                renderData = simulator.renderData = this._assembler.createData(this) as ParticleMeshRenderData\n                simulator.uvFilled = 0\n                renderData.particleInitRenderDrawInfo(this.renderEntity)\n                simulator.initDrawInfo()\n            }\n        }\n    }\n\n    public _applySpriteFrame(): void {\n        this._renderSpriteFrame = this._renderSpriteFrame || this._spriteFrame\n        if (this._renderSpriteFrame) {\n            if (this._renderSpriteFrame.texture) {\n                if (this._simulator) {\n                    this._simulator.updateUVs(true)\n                }\n                this._updateMaterial()\n                this.isStopped = false\n                this.markForUpdateRenderData()\n            }\n        } else {\n            this.stop()\n        }\n    }\n\n    public _updateMaterial(): void {\n        if (this._customMaterial) {\n            this.setSharedMaterial(this._customMaterial, 0)\n            const target = this.getRenderMaterial(0)!.passes[0]!.blendState.targets[0]\n            if (target) {\n                this._dstBlendFactor = target.blendDst\n                this._srcBlendFactor = target.blendSrc\n            }\n        }\n\n        const mat = this.getMaterialInstance(0)\n        if (mat) mat.recompileShaders({ USE_LOCAL: this.simulationSpace === Space.Local })\n        if (mat && mat.passes.length > 0) {\n            this._updateBlendFunc()\n        }\n    }\n\n    public _finishedSimulation(): void {\n        this.stop()\n        this.markForUpdateRenderData()\n    }\n\n    protected _canRender(): boolean {\n        return (\n            super._canRender() &&\n            !this.isStopped &&\n            this._renderSpriteFrame !== null &&\n            this._renderSpriteFrame !== undefined\n        )\n    }\n\n    protected _render(render: IBatcher): void {\n        if (this.simulationSpace === Space.Local) {\n            render.commitComp(this, this._simulator.renderData, this._renderSpriteFrame, this._assembler, this.node)\n        } else if (this.simulationSpace === Space.World) {\n            render.commitComp(this, this._simulator.renderData, this._renderSpriteFrame, this._assembler, null)\n        }\n    }\n\n    protected _updateSimulationSpace(): void {\n        if (typeof this._renderEntity?.setRenderTransform !== 'function') return\n\n        if (this.simulationSpace === Space.Local) {\n            this._renderEntity.setRenderTransform(this.node)\n            this._renderEntity.setUseLocal(true)\n        } else if (this.simulationSpace === Space.World) {\n            this._renderEntity.setRenderTransform(null)\n            this._renderEntity.setUseLocal(false)\n        }\n    }\n\n    protected lateUpdate(dt: number): void {\n        if (this.isPlaying) {\n            this.time += dt\n            this._simulator.step(dt)\n        }\n    }\n\n    public emitting(deltaTime: number): void {\n        const startDelay = this.startDelay.evaluate(0, 1)\n        if (this.time > startDelay) {\n            if (this.time > this.duration + startDelay) {\n                if (!this.loop) {\n                    this.isEmitting = false\n                }\n            }\n        }\n\n        if (this.isEmitting) {\n            this.emitRateTimeCounter += this.rateOverTime.evaluate(this.time / this.duration, 1) * deltaTime\n\n            if (this.emitRateTimeCounter > 1) {\n                const emitNum = Math.floor(this.emitRateTimeCounter)\n                this.emitRateTimeCounter -= emitNum\n\n                this.emit(emitNum, deltaTime)\n            }\n\n            for (const burst of this.bursts) {\n                burst.update(this, deltaTime)\n            }\n        }\n\n        const gravityModifier = this.gravityModifier.evaluate(this.time / this.duration, 1)\n\n        if (this._simulator.particles.length === 0 && !this.isEmitting && this.isPlaying) {\n            this._finishedSimulation()\n            return\n        }\n\n        this._simulator.particles.forEach((particle, _) => {\n            this.sizeOvertimeModule.update(particle)\n            this.rotationOvertimeModule.update(particle, deltaTime)\n            this.colorOvertimeModule.update(particle)\n            // Apply velocity\n            this.velocityOvertimeModule.update(particle, deltaTime)\n            this.applyGravityModifier(particle, gravityModifier)\n            this.limitVelocityOvertimeModule.update(particle, deltaTime)\n\n            particle.pos.add(particle.velocity.clone().multiplyScalar(deltaTime))\n        })\n    }\n\n    public emit(count: number, deltaTime: number) {\n        if (this.spriteFrame === null) return\n\n        const loopDelta = (this.time % this.duration) / this.duration\n\n        for (let i = 0; i < count; i++) {\n            const particle = this._simulator.emitParticle()\n\n            particle.init()\n\n            // apply shapeModule\n            this.shapeModule.emit(particle)\n\n            // apply world space\n            if (this.simulationSpace === Space.World) {\n                const m = this.node.worldMatrix\n                particle.pos.x += m.m12\n                particle.pos.y += m.m13\n            }\n\n            // apply startSpeed\n            const curveStartSpeed = this.startSpeed.evaluate(loopDelta, this.rand())\n            particle.velocity.multiplyScalar(curveStartSpeed)\n\n            // apply width and height\n            particle.width = this.spriteFrame.width\n            particle.height = this.spriteFrame.height\n\n            // apply startSize\n            const sizeX = this.startSizeX.evaluate(loopDelta, this.rand())\n            const scale = this.startSize2D\n                ? new Vec3(sizeX, this.startSizeY.evaluate(loopDelta, this.rand()), 1)\n                : new Vec3(sizeX, sizeX, 1)\n            particle.startSize = scale.clone()\n            particle.size = scale.clone()\n\n            // apply startRotation\n            const rotationZ = this.startRotationZ.evaluate(loopDelta, this.rand())\n            const rotation = this.startRotation3D\n                ? new Vec3(\n                      this.startRotationX.evaluate(loopDelta, this.rand()),\n                      this.startRotationY.evaluate(loopDelta, this.rand()),\n                      rotationZ,\n                  )\n                : new Vec3(0, 0, rotationZ)\n            particle.rotation = rotation\n\n            // apply startColor\n            particle.startColor = this.startColor.evaluate(loopDelta, this.rand()).clone()\n            particle.color = particle.startColor.clone()\n\n            // apply startLifetime\n            particle.startLifetime = this.startLifetime.evaluate(loopDelta, this.rand()) + deltaTime\n            particle.remainingLifetime = particle.startLifetime\n\n            particle.randomSeed = randomRangeInt(0, 233280)\n        }\n    }\n\n    private applyGravityModifier(particle: Particle, gravityModifier: number): void {\n        particle.velocity.add(new Vec3(0, -9.8 * gravityModifier, 0))\n    }\n\n    private rand(): number {\n        return pseudoRandom(randomRangeInt(0, bits.INT_MAX))\n    }\n}\n\nsetClassAttr(ParticleSystem, 'color', 'visible', false)\n","import { _decorator, Component, Node, Sprite } from 'cc'\nimport { ParticleSystem } from '../../particles/ParticleSystem'\nimport ComponentUtils from '../../utils/ComponentUtils'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('ItemCollectionFX')\nexport class ItemCollectionFX extends Component {\n    @ComponentUtils.required()\n    @property(Sprite)\n    readonly sprite!: Sprite\n\n    @ComponentUtils.required()\n    @property(Node)\n    readonly standardParticlesContainer!: Node\n\n    @ComponentUtils.required()\n    @property(Node)\n    readonly quickParticlesContainer!: Node\n\n    private standardParticles: ParticleSystem[] = []\n    private quickParticles: ParticleSystem[] = []\n\n    protected __preload(): void {\n        this.standardParticles = this.standardParticlesContainer.getComponentsInChildren(ParticleSystem)\n        this.quickParticles = this.quickParticlesContainer.getComponentsInChildren(ParticleSystem)\n        ComponentUtils.validateRequiredProperties(this, ItemCollectionFX)\n    }\n\n    protected onDisable(): void {\n        this.standardParticlesContainer.active = false\n        this.quickParticlesContainer.active = false\n    }\n\n    public playExplosionParticles(useQuickVersion = false): void {\n        if (useQuickVersion) {\n            this.quickParticlesContainer.active = true\n            this.playParticles(this.quickParticles)\n        } else {\n            this.standardParticlesContainer.active = true\n            this.playParticles(this.standardParticles)\n        }\n    }\n\n    private playParticles(particles: ParticleSystem[]): void {\n        for (const particle of particles) {\n            particle.play()\n        }\n    }\n}\n","import { easing, lerp, tween, Vec3 } from 'cc'\nimport { CodeSoundKeys } from '../../../constants/SoundKeys'\nimport type { ItemCollectionFX } from '../../../screens/get-item-screen/ItemCollectionFX'\nimport AnimUtils from '../../../utils/AnimUtils'\nimport AudioUtils from '../../../utils/AudioUtils'\nimport type { SpecialItem } from './SpecialItem'\n\nconst VEC3_SCALE_UP_OVERSHOOT_Y = new Vec3(0.8, 1.2, 1)\nconst VEC3_SCALE_UP_OVERSHOOT_X = new Vec3(1.2, 0.8, 1)\nconst VEC3_HALF = new Vec3(0.5, 0.5, 0.5)\nconst VEC3_6_5 = new Vec3(0.65, 0.65, 0.65)\n\nconst addItemAnimation = async (itemEffect: ItemCollectionFX, item: SpecialItem, useQuickVersion = false) => {\n    itemEffect.playExplosionParticles(useQuickVersion)\n    AudioUtils.playSound(CodeSoundKeys.ITEM_REWARD)\n\n    if (useQuickVersion) {\n        await playQuickAnimation(itemEffect, item)\n    } else {\n        await playStandardAnimation(itemEffect, item)\n    }\n\n    AudioUtils.playSound(CodeSoundKeys.BUTTON_CLICK)\n}\n\nasync function playQuickAnimation(itemEffect: ItemCollectionFX, item: SpecialItem) {\n    const scaleUp = AnimUtils.runTweenAsync(\n        tween(itemEffect.node)\n            .to(0.1, { scale: VEC3_SCALE_UP_OVERSHOOT_Y })\n            .to(0.1, { scale: VEC3_SCALE_UP_OVERSHOOT_X })\n            .to(0.1, { scale: Vec3.ONE })\n            .to(0.3, { scale: VEC3_6_5 }),\n    )\n\n    const startX = itemEffect.node.worldPosition.x\n    const startY = itemEffect.node.worldPosition.y\n    const tempTargetPosition = new Vec3()\n\n    const move = AnimUtils.runTweenAsync(\n        tween(itemEffect.node).update(0.8, (_, ratio) => {\n            item.node.getWorldPosition(tempTargetPosition)\n\n            const progressX = easing.quadOut(ratio)\n            const x = lerp(startX, tempTargetPosition.x, progressX)\n            const midY = Math.max(startY, tempTargetPosition.y)\n            const interpolatedMidY = lerp(startY, midY + 300, 0.5)\n\n            if (ratio < 0.5) {\n                const progressY = easing.cubicOut(ratio * 2)\n                const y = lerp(startY, interpolatedMidY, progressY)\n                itemEffect.node.setWorldPosition(x, y, 0)\n            } else {\n                const progressY = easing.cubicIn((ratio - 0.5) * 2)\n                const y = lerp(interpolatedMidY, tempTargetPosition.y, progressY)\n                itemEffect.node.setWorldPosition(x, y, 0)\n            }\n        }),\n    )\n\n    await Promise.all([scaleUp, move])\n}\n\nasync function playStandardAnimation(itemEffect: ItemCollectionFX, item: SpecialItem) {\n    await scaleUpAnimation(itemEffect)\n    await AnimUtils.waitTweenAsync(0.8)\n    await moveCloseAnimation(itemEffect, item)\n    await jumpInAnimation(itemEffect, item)\n}\n\nconst scaleUpAnimation = (itemEffect: ItemCollectionFX) => {\n    return AnimUtils.runTweenAsync(\n        tween(itemEffect.node)\n            .to(0.1, { scale: VEC3_SCALE_UP_OVERSHOOT_Y })\n            .to(0.1, { scale: VEC3_SCALE_UP_OVERSHOOT_X })\n            .to(0.1, { scale: Vec3.ONE }),\n    )\n}\n\nconst moveCloseAnimation = (itemEffect: ItemCollectionFX, item: SpecialItem) => {\n    return AnimUtils.runTweenAsync(\n        tween(itemEffect.node).to(\n            1,\n            {\n                worldPosition: new Vec3(\n                    item.node.worldPosition.x,\n                    item.node.worldPosition.y + 30,\n                    item.node.worldPosition.z,\n                ),\n                scale: VEC3_HALF,\n            },\n            { easing: 'cubicInOut' },\n        ),\n    )\n}\n\nconst jumpInAnimation = (itemEffect: ItemCollectionFX, item: SpecialItem) => {\n    const targetPosition = item.node.worldPosition.clone()\n    const jumpPosition = new Vec3(targetPosition.x, targetPosition.y + 70, targetPosition.z)\n\n    return AnimUtils.runTweenAsync(\n        tween(itemEffect.node)\n            .to(0.3, { worldPosition: jumpPosition, scale: VEC3_6_5 }, { easing: 'cubicOut' })\n            .to(0.5, { worldPosition: targetPosition }, { easing: 'cubicIn' }),\n    )\n}\n\nexport default addItemAnimation\n","import { CCFloat, Component, Sprite, UIOpacity, Vec3, _decorator, tween } from 'cc'\nimport AnimUtils from '../../../utils/AnimUtils'\nimport ComponentUtils from '../../../utils/ComponentUtils'\nconst { ccclass, property, disallowMultiple } = _decorator\n\n@ccclass('ShiningStar')\n@disallowMultiple\nexport class ShiningStar extends Component {\n    @property(Sprite)\n    private shine!: Sprite\n\n    private shineOpacity!: UIOpacity\n    private uiOpacity!: UIOpacity\n\n    @property({ serializable: true, visible: false })\n    private twScaleUpDuration: number = 0.5\n    @property({ type: CCFloat, displayName: 'Scale up duration', min: 0.001 })\n    public get scaleUpDuration(): number {\n        return this.twScaleUpDuration\n    }\n    public set scaleUpDuration(value: number) {\n        this.twScaleUpDuration = value\n    }\n\n    @property({ serializable: true, visible: false })\n    private twBounceAndFallDuration: number = 0.5\n    @property({ type: CCFloat, displayName: 'Bounce and Fall duration', min: 0.001 })\n    public get bounceAndFallDuration(): number {\n        return this.twBounceAndFallDuration\n    }\n    public set bounceAndFallDuration(value: number) {\n        this.twBounceAndFallDuration = value\n    }\n\n    @property({ serializable: true, visible: false })\n    private twStartScale: number = 0.5\n    @property({ type: CCFloat, displayName: 'Start scale' })\n    public get startScale(): number {\n        return this.twStartScale\n    }\n    public set startScale(value: number) {\n        this.twStartScale = value\n    }\n\n    @property({ serializable: true, visible: false })\n    private twEndScale: number = 1\n    @property({ type: CCFloat, displayName: 'End scale' })\n    public get endScale(): number {\n        return this.twEndScale\n    }\n    public set endScale(value: number) {\n        this.twEndScale = value\n    }\n\n    private isBeingAnimated = false\n    public get isAvailable(): boolean {\n        return !this.isBeingAnimated\n    }\n\n    public __preload(): void {\n        this.shineOpacity = this.shine.node.getComponent(UIOpacity)!\n        this.uiOpacity = this.node.getComponent(UIOpacity)!\n        this.validateRequiredComponents()\n    }\n\n    public onLoad(): void {\n        this.uiOpacity.opacity = 0\n    }\n\n    public async playAnimation(): Promise<void> {\n        if (!this.isAvailable) {\n            throw new Error('ShiningStar: This star is being animated.')\n        }\n\n        this.isBeingAnimated = true\n\n        await this.animateAppear()\n        await this.animateDisappear()\n\n        this.isBeingAnimated = false\n    }\n\n    private async animateAppear(): Promise<void> {\n        this.shineOpacity.opacity = 255\n        await Promise.all([this.animateFadeIn(), this.animateScaleUp()])\n    }\n\n    private async animateDisappear(): Promise<void> {\n        await Promise.all([this.animateBounceAndFall(), this.animateScaleDown()])\n        this.node.setScale(0, 0)\n        this.uiOpacity.opacity = 0\n    }\n\n    private async animateBounceAndFall(): Promise<void> {\n        const startX = this.node.position.x\n        const startY = this.node.position.y\n\n        const randAngleRange = [60, 120]\n        const randAngle =\n            (Math.random() * (randAngleRange[1] - randAngleRange[0]) + randAngleRange[0]) * (Math.PI / 180)\n        const distance = 200\n        const randX = startX + distance * Math.cos(randAngle)\n        const randY = startY + distance * Math.sin(randAngle)\n\n        const endY = startY - 500\n\n        const bounce = AnimUtils.runTweenAsync(\n            tween(this.node)\n                .to(\n                    this.twBounceAndFallDuration * 0.2,\n                    {\n                        position: new Vec3(randX, randY, this.node.position.z),\n                    },\n                    {\n                        easing: 'sineOut',\n                    },\n                )\n                .to(\n                    this.twBounceAndFallDuration * 0.4,\n                    {\n                        position: new Vec3(randX, endY, this.node.position.z),\n                    },\n                    {\n                        easing: 'cubicIn',\n                    },\n                ),\n        )\n\n        const randRotation = [0, 360]\n        const rotation = AnimUtils.runTweenAsync(\n            tween(this.node).to(\n                this.twBounceAndFallDuration,\n                {\n                    eulerAngles: new Vec3(\n                        0,\n                        0,\n                        Math.random() * (randRotation[1] - randRotation[0]) * (randX > startX ? -1 : 1),\n                    ),\n                },\n                {\n                    easing: 'sineOut',\n                },\n            ),\n        )\n\n        await Promise.all([bounce, rotation])\n\n        this.node.eulerAngles = new Vec3(0, 0, 0)\n    }\n\n    private async animateFadeIn(): Promise<void> {\n        //? Ensure that the duration is not 0\n        const duration = Math.max(this.scaleUpDuration / 4, 0.01)\n        await AnimUtils.runTweenAsync(tween(this.uiOpacity).to(duration, { opacity: 255 }))\n    }\n\n    private async animateScaleUp(): Promise<void> {\n        this.node.setScale(this.startScale, this.startScale)\n\n        const targetScale = new Vec3(this.endScale, this.endScale, 1)\n        await AnimUtils.runTweenAsync(\n            tween(this.node).to(this.scaleUpDuration, { scale: targetScale }, { easing: 'cubicOut' }),\n        )\n    }\n\n    private async animateScaleDown(): Promise<void> {\n        const targetScale = new Vec3(0, 0, 1)\n        await AnimUtils.runTweenAsync(\n            tween(this.node)\n                .delay(this.bounceAndFallDuration * 0.1)\n                .to(this.bounceAndFallDuration * 0.5, { scale: targetScale }, { easing: 'cubicIn' }),\n        )\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n}\n","import { Component, Vec3, _decorator } from 'cc'\nimport ComponentUtils from '../../../utils/ComponentUtils'\nimport { ShiningStar } from './ShiningStar'\nconst { ccclass, property, disallowMultiple } = _decorator\n\nconst { Array: A } = Ludex.Utils\n\n@ccclass('StarParticles')\n@disallowMultiple\nexport class StarParticles extends Component {\n    @property({ type: [ShiningStar], displayName: 'Prebuilt Shining stars' })\n    private shiningStars: ShiningStar[] = []\n\n    public __preload(): void {\n        this.validateRequiredComponents()\n    }\n\n    public async fireShiningStarAt(targetPosition: [number, number]): Promise<void> {\n        const star = this.getFirstAvailableShiningStar()\n\n        if (star === undefined) {\n            throw new Error(\n                'No available shining stars. Please add more prebuilt shining stars or calls this function later.',\n            )\n        }\n\n        const [targetX, targetY] = targetPosition\n\n        const position = new Vec3(targetX, targetY, this.node.worldPosition.z)\n        star.node.worldPosition = position\n\n        await star.playAnimation()\n    }\n\n    private getFirstAvailableShiningStar(): ShiningStar | undefined {\n        return A.search(this.shiningStars, (star) => star.isAvailable)\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n}\n","import type { IVec2Like, Rect } from 'cc'\n\nconst clampToBoundingBox =\n    (box: Rect, padding: number) =>\n    (position: IVec2Like): IVec2Like => ({\n        x: Math.max(box.xMin + padding, Math.min(box.xMax - padding, position.x)),\n        y: Math.max(box.yMin + padding, Math.min(box.yMax - padding, position.y)),\n    })\n\nexport default clampToBoundingBox\n","import { type IVec2Like, Vec2 } from 'cc'\n\nfunction getClosestPairIndex(points: ReadonlyArray<IVec2Like>): [number, number] {\n    if (points.length < 2) {\n        throw new Error('Not enough points to find a closest pair')\n    }\n\n    const first = points[0] as IVec2Like\n    const second = points[1] as IVec2Like\n    const distance = Vec2.distance(first, second)\n\n    let matrix: Array<number> = [distance]\n    let maxCoords: [number, number] = [0, 1]\n\n    const getClosestPairLoopWithPoints = getClosestPairLoop(points)\n\n    for (let i = 0; i < points.length - 1; i++) {\n        for (let j = i + 1; j < points.length; j++) {\n            const [nextMatrix, nextMaxCoords] = getClosestPairLoopWithPoints(matrix, maxCoords, i, j)\n            matrix = nextMatrix\n            maxCoords = nextMaxCoords\n        }\n    }\n\n    return maxCoords\n}\n\nfunction getClosestPair(points: ReadonlyArray<IVec2Like>): [IVec2Like, IVec2Like] {\n    const [i, j] = getClosestPairIndex(points)\n    return [points[i] as IVec2Like, points[j] as IVec2Like]\n}\n\nconst getClosestPairLoop = (points: ReadonlyArray<IVec2Like>) => {\n    const getDistanceFromPoints = getDistance(points)\n\n    return (\n        matrix: Array<number>,\n        maxCoords: [number, number],\n        i: number,\n        j: number,\n    ): [Array<number>, [number, number]] => {\n        if (i === j) return [matrix, maxCoords]\n        if (i > j) return getClosestPairLoop(points)(matrix, maxCoords, j, i)\n\n        const newDistance = getDistanceFromPoints(i, j)\n        const oldDistance = getCell(matrix, points.length)(maxCoords[0], maxCoords[1])\n\n        if (newDistance >= oldDistance) return [matrix, maxCoords]\n\n        return [setCell(matrix, points.length)(i, j, newDistance), [i, j]]\n    }\n}\n\nconst getFlatCoord =\n    (size: number) =>\n    (i: number, j: number): number =>\n        (i * (2 * size - i - 1)) / 2 + (j - i - 1)\n\nconst setCell =\n    (matrix: Array<number>, size: number) =>\n    (i: number, j: number, value: number): Array<number> => {\n        if (i === j) return matrix\n        if (i > j) return setCell(matrix, size)(j, i, value)\n        const index = getFlatCoord(size)(i, j)\n        return [...matrix.slice(0, index), value, ...matrix.slice(index + 1)]\n    }\n\nconst getCell =\n    (matrix: Array<number>, size: number) =>\n    (i: number, j: number): number => {\n        if (i === j) return Infinity\n        if (i > j) return getCell(matrix, size)(j, i)\n        const index = getFlatCoord(size)(i, j)\n        return matrix[index] ?? Infinity\n    }\n\nconst getDistance =\n    (points: ReadonlyArray<IVec2Like>) =>\n    (i: number, j: number): number => {\n        const a = points[i] as IVec2Like\n        const b = points[j] as IVec2Like\n        return Vec2.distance(a, b)\n    }\n\nexport { getClosestPair, getClosestPairIndex }\n","const {\n    Utils: { Array: A },\n} = Ludex\n\nconst zeroes = (size: number) => A.fillWith(size, () => 0)\n\nconst toSortedIndices = <T>(array: ReadonlyArray<T>, compareFn: (a: T, b: T) => number): number[] => {\n    const entries = array.map((data, index) => ({ data, index }))\n    entries.sort((a, b) => compareFn(a.data, b.data))\n\n    const indices = entries.reduce((acc, entry, index) => {\n        acc[entry.index] = index\n        return acc\n    }, zeroes(array.length))\n\n    return indices\n}\n\nexport default toSortedIndices\n","import { random } from 'cc'\n\nconst randomSign = (): number => (random() > 0.5 ? 1 : -1)\n\nexport default randomSign\n","import ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport { _decorator, CCFloat, Component, Sprite, UIOpacity, UITransform } from 'cc'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('Ray')\nexport default class Ray extends Component {\n    @ComponentUtils.required()\n    @property(UITransform)\n    public readonly uiTransform!: UITransform\n\n    @ComponentUtils.required()\n    @property(Sprite)\n    public readonly sprite!: Sprite\n\n    @property({ type: UIOpacity })\n    public readonly uiOpacity!: UIOpacity\n\n    @property({ type: CCFloat })\n    public readonly widthOffset = 0\n\n    protected __preload(): void {\n        ComponentUtils.validateRequiredProperties(this, Ray)\n    }\n}\n","import { _decorator, CCFloat, CCInteger } from 'cc'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('RayManagerProperties')\nclass RayManagerProperties {\n    @property({ type: CCFloat })\n    public thicknessStart = 10\n\n    @property({ type: CCFloat })\n    public thicknessEnd = 10\n\n    @property({ type: CCInteger, min: 1 })\n    public segments = 10\n\n    @property({ type: CCFloat, min: 0, max: 1, slide: true, step: 0.01 })\n    public jaggedness = 0.1\n}\n\nexport default RayManagerProperties\n","import ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport {\n    _decorator,\n    Component,\n    easing,\n    type IVec2Like,\n    instantiate,\n    lerp,\n    type Node,\n    Prefab,\n    pseudoRandomRange,\n    randomRangeInt,\n    tween,\n    UIOpacity,\n    UITransform,\n    Vec2,\n} from 'cc'\nimport Ray from './Ray'\nimport RayManagerProperties from './RayManagerProperties'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('RayManager')\nexport default class RayManager extends Component {\n    @ComponentUtils.required()\n    @property({ type: Prefab })\n    public readonly rayPrefab!: Prefab\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity })\n    public readonly uiOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: UITransform })\n    public readonly uiTransform!: UITransform\n\n    @property({ type: RayManagerProperties })\n    public readonly properties: RayManagerProperties = new RayManagerProperties()\n\n    private rayPool!: RayPool\n\n    protected __preload(): void {\n        ComponentUtils.validateRequiredProperties(this, RayManager)\n        this.rayPool = createRayPool(this.rayPrefab, this.node)\n        this.rayPool = prepareRays(this.rayPool, this.properties.segments)\n    }\n\n    protected onEnable(): void {\n        this.rayPool = prepareRays(this.rayPool, this.properties.segments)\n    }\n\n    protected onDestroy(): void {\n        this.rayPool = destroyAllRays(this.rayPool)\n    }\n\n    public createRayAnimation(target?: IVec2Like, seed?: number) {\n        const [rays, pool] = getRays(this.rayPool, this.properties.segments)\n        this.rayPool = pool\n\n        const firstSeed = getSeed(seed)\n\n        return createRayAnimation(this, rays, target, firstSeed).call(() => {\n            this.rayPool = releaseRays(rays, this.rayPool)\n        })\n    }\n}\n\ntype RayPool = {\n    prefab: Prefab\n    container: Node\n    activeRays: Ray[]\n    inactiveRays: Ray[]\n}\n\nconst createRayPool = (prefab: Prefab, container: Node): RayPool => ({\n    prefab,\n    container,\n    activeRays: [],\n    inactiveRays: [],\n})\n\nconst getRay = (pool: RayPool): [Ray, RayPool] => retrieveRay(pool) ?? createRay(pool)\n\nconst getRays = (pool: RayPool, count: number): [Ray[], RayPool] => {\n    const rays: Ray[] = []\n    let currentPool = pool\n\n    for (let i = 0; i < count; i++) {\n        const [ray, pool] = getRay(currentPool)\n        rays.push(ray)\n        currentPool = pool\n    }\n\n    return [rays, currentPool]\n}\n\nconst prepareRays = (pool: RayPool, count: number): RayPool => {\n    if (pool.inactiveRays.length >= count) {\n        return pool\n    }\n\n    const raysToCreate = count - pool.inactiveRays.length\n    let currentPool = pool\n\n    for (let i = 0; i < raysToCreate; i++) {\n        const [ray, pool] = createRay(currentPool)\n        currentPool = releaseRay(ray, pool)\n    }\n\n    return currentPool\n}\n\nconst releaseRay = (ray: Ray, pool: RayPool): RayPool => {\n    ray.node.active = false\n\n    const inactiveRays = [...pool.inactiveRays, ray]\n    const activeRays = pool.activeRays.filter((r) => r !== ray)\n\n    return { ...pool, activeRays, inactiveRays }\n}\n\nconst releaseRays = (rays: Ray[], pool: RayPool): RayPool => {\n    for (const ray of rays) {\n        ray.node.active = false\n    }\n\n    const inactiveRays = [...pool.inactiveRays, ...rays]\n    const activeRays = pool.activeRays.filter((r) => !rays.includes(r))\n\n    return { ...pool, activeRays, inactiveRays }\n}\n\nconst destroyAllRays = (pool: RayPool): RayPool => {\n    pool.container.destroyAllChildren()\n\n    const activeRays: Ray[] = []\n    const inactiveRays: Ray[] = []\n\n    return { ...pool, activeRays, inactiveRays }\n}\n\nconst retrieveRay = (pool: RayPool): [Ray, RayPool] | undefined => {\n    if (pool.inactiveRays.length === 0) return undefined\n\n    const [first, ...rest] = pool.inactiveRays\n    const ray = first as (typeof pool.inactiveRays)[number]\n\n    const activeRays = [...pool.activeRays, ray]\n    const inactiveRays = rest\n\n    ray.node.active = true\n\n    return [ray, { ...pool, activeRays, inactiveRays }]\n}\n\nconst createRay = (pool: RayPool): [Ray, RayPool] => {\n    const ray = instantiate(pool.prefab)\n    pool.container.addChild(ray)\n\n    const rayComponent = ray.getComponent(Ray)\n\n    if (!rayComponent) {\n        throw new Error('Ray component not found')\n    }\n\n    const activeRays = [...pool.activeRays, rayComponent]\n\n    rayComponent.node.active = true\n\n    return [\n        rayComponent,\n        {\n            ...pool,\n            activeRays,\n        },\n    ]\n}\n\nconst alignRays = (rayManager: RayManager, rays: Ray[], target?: IVec2Like, seed = 0) => {\n    const getSimpleRayAnchorsCached = getSimpleRayAnchors(\n        rayManager.properties.segments,\n        rayManager.uiTransform.height * rayManager.node.worldScale.y,\n        rayManager.uiTransform.width * rayManager.node.worldScale.x,\n        rayManager.properties.jaggedness,\n    )\n\n    const simpleAnchors = {\n        start: { x: 0, y: 0 },\n        end: { x: 0, y: rayManager.uiTransform.height * rayManager.node.worldScale.y },\n    } as const\n\n    const transformedAnchors = {\n        start: rayManager.node.worldPosition,\n        end: target ?? {\n            x: 0,\n            y: rayManager.node.worldPosition.y + rayManager.uiTransform.height * rayManager.node.worldScale.y,\n        },\n    } as const\n\n    const transformFromSimpleToWorld = transformPoint(simpleAnchors.start, simpleAnchors.end)(\n        transformedAnchors.start,\n        transformedAnchors.end,\n    )\n\n    const alignRayCached = alignRay()\n\n    const alignRayToTransformed = (ray: Ray, start: IVec2Like, end: IVec2Like) =>\n        alignRayCached(ray, transformFromSimpleToWorld(start), transformFromSimpleToWorld(end))\n\n    let lastEndAnchor: IVec2Like = { x: 0, y: 0 }\n    let currentSeed = seed\n\n    for (let i = 0; i < rayManager.properties.segments; i++) {\n        const { start, end, seed } = getSimpleRayAnchorsCached(lastEndAnchor, i, currentSeed)\n        const thickness = getRayThickness(rayManager, i / (rayManager.properties.segments - 1))\n        const ray = rays[i] as (typeof rays)[number]\n\n        const alignedRay = alignRayToTransformed(ray, start, end)\n        alignedRay.uiTransform.setContentSize(alignedRay.uiTransform.width, thickness)\n\n        lastEndAnchor = end\n        currentSeed = seed\n    }\n\n    return rays\n}\n\nconst alignRay = () => {\n    const tempDirection: IVec2Like = { x: 0, y: 0 }\n\n    return (ray: Ray, startAnchor: IVec2Like, endAnchor: IVec2Like): Ray => {\n        const midX = (startAnchor.x + endAnchor.x) / 2\n        const midY = (startAnchor.y + endAnchor.y) / 2\n\n        Vec2.subtract(tempDirection, endAnchor, startAnchor)\n\n        const distance = Vec2.len(tempDirection)\n        const width = distance / ray.node.worldScale.x + ray.widthOffset\n\n        Vec2.normalize(tempDirection, tempDirection)\n        const rotation = (Math.atan2(tempDirection.y, tempDirection.x) * 180) / Math.PI\n\n        ray.node.setWorldPosition(midX, midY, 0)\n        ray.node.setRotationFromEuler(0, 0, rotation)\n        ray.uiTransform.setContentSize(width, ray.uiTransform.height)\n\n        return ray\n    }\n}\n\nconst getRayThickness = (rayManager: RayManager, ratio: number) =>\n    lerp(rayManager.properties.thicknessStart, rayManager.properties.thicknessEnd, ratio)\n\nconst createRayAnimation = (rayManager: RayManager, rays: Ray[], target?: IVec2Like, firstSeed?: number) => {\n    const secondSeed = getSeed(firstSeed)\n    const thirdSeed = getSeed(secondSeed)\n\n    return tween(rayManager.uiOpacity)\n        .call(() => alignRays(rayManager, rays, target, firstSeed))\n        .call(() => {\n            for (const ray of rays) {\n                ray.uiOpacity.opacity = 255\n            }\n        })\n        .set({ opacity: 255 })\n        .delay(0.05)\n        .set({ opacity: 0 })\n        .delay(0.05)\n        .call(() => alignRays(rayManager, rays, target, secondSeed))\n        .set({ opacity: 255 })\n        .delay(0.05)\n        .set({ opacity: 0 })\n        .delay(0.05)\n        .call(() => alignRays(rayManager, rays, target, thirdSeed))\n        .set({ opacity: 255 })\n        .parallel(\n            tween(rayManager.uiOpacity)\n                .delay(0.2)\n                .set({ opacity: 0 })\n                .call(() => {\n                    for (const ray of rays) {\n                        ray.uiOpacity.opacity = 0\n                    }\n                }),\n            ...rays.map((ray, index, array) =>\n                tween(ray.node).update(0.2, (_, ratio) => {\n                    ray.uiTransform.setContentSize(\n                        ray.uiTransform.width,\n                        lerp(\n                            getRayThickness(rayManager, index / (array.length - 1)),\n                            rayManager.properties.thicknessEnd,\n                            easing.cubicIn(ratio),\n                        ),\n                    )\n                }),\n            ),\n        )\n}\n\nconst X_RANDOMNESS_INITIAL_SCALE = 1\nconst X_RANDOMNESS_FINAL_SCALE = 0\n\nconst getSimpleRayAnchors =\n    (segmentCount: number, containerHeight: number, horizontalDeviation: number, jaggedness: number) =>\n    (lastEndAnchor: IVec2Like, i: number, seed: number): { start: IVec2Like; end: IVec2Like; seed: number } => {\n        if (i === 0) {\n            return {\n                start: { x: 0, y: 0 },\n                end: { x: 0, y: 0 },\n                seed,\n            }\n        }\n\n        if (i === segmentCount - 1) {\n            return {\n                start: { x: lastEndAnchor.x, y: lastEndAnchor.y },\n                end: { x: 0, y: containerHeight },\n                seed,\n            }\n        }\n\n        const firstSeed = getSeed(seed)\n        const secondSeed = getSeed(firstSeed)\n\n        const startX = lastEndAnchor.x\n        const startY = lastEndAnchor.y\n\n        const lastRatio = (i - 1) / (segmentCount - 1)\n        const ratio = i / (segmentCount - 1)\n\n        const minX = Math.max(-horizontalDeviation, lerp(startX, startX - horizontalDeviation, jaggedness))\n        const maxX = Math.min(horizontalDeviation, lerp(startX, startX + horizontalDeviation, jaggedness))\n\n        const endX =\n            pseudoRandomRange(secondSeed, minX, maxX) *\n            lerp(X_RANDOMNESS_INITIAL_SCALE, X_RANDOMNESS_FINAL_SCALE, ratio)\n\n        const minY = lerp(0, containerHeight, lastRatio)\n        const maxY = lerp(0, containerHeight, ratio)\n\n        const endY = pseudoRandomRange(firstSeed, minY, maxY)\n\n        return { start: { x: startX, y: startY }, end: { x: endX, y: endY }, seed: secondSeed }\n    }\n\nconst getSeed = (seed?: number) => pseudoRandomRange(seed ?? randomRangeInt(0, 1e6), 0, 1e6)\n\nconst transformPoint = (fromStart: IVec2Like, fromEnd: IVec2Like) => {\n    const fromDirection: IVec2Like = {\n        x: fromEnd.x - fromStart.x,\n        y: fromEnd.y - fromStart.y,\n    }\n\n    return (toStart: IVec2Like, toEnd: IVec2Like) => {\n        const toDirection: IVec2Like = { x: toEnd.x - toStart.x, y: toEnd.y - toStart.y }\n\n        const fromAngle = Math.atan2(fromDirection.y, fromDirection.x)\n        const toAngle = Math.atan2(toDirection.y, toDirection.x)\n\n        const angle = toAngle - fromAngle\n\n        const cosR = Math.cos(angle)\n        const sinR = Math.sin(angle)\n\n        const scale = Vec2.len(toDirection) / Vec2.len(fromDirection)\n\n        const transVec: IVec2Like = {\n            x: toStart.x - fromStart.x,\n            y: toStart.y - fromStart.y,\n        }\n\n        const temp: IVec2Like = { x: 0, y: 0 }\n\n        return (point: IVec2Like): IVec2Like => {\n            temp.x = point.x * cosR - point.y * sinR\n            temp.y = point.x * sinR + point.y * cosR\n\n            temp.x *= scale\n            temp.y *= scale\n\n            temp.x += transVec.x\n            temp.y += transVec.y\n\n            return { x: temp.x, y: temp.y }\n        }\n    }\n}\n","import {\n    _decorator,\n    Animation,\n    assert,\n    Component,\n    clamp,\n    find,\n    type IVec2Like,\n    randomRangeInt,\n    tween,\n    UITransform,\n    Vec3,\n} from 'cc'\nimport AnimUtils from '../../../utils/AnimUtils'\nimport ComponentUtils from '../../../utils/ComponentUtils'\nimport RayManager from './RayManager'\n\nconst { ccclass, property } = _decorator\n\nconst VEC3_0_300 = new Vec3(0, 300)\n\n@ccclass('Cloud')\nexport default class Cloud extends Component {\n    @ComponentUtils.required()\n    @property(Animation)\n    private readonly animation!: Animation\n\n    @property({ type: [RayManager] })\n    private rays: RayManager[] = []\n\n    private cachedCanvasUiTransform: UITransform | null = null\n    private get canvas(): UITransform {\n        const transform = this.cachedCanvasUiTransform ?? find('Canvas')?.getComponent(UITransform)\n        assert(transform !== null && transform !== undefined, 'Cloud: canvasUiTransform is null')\n        return transform\n    }\n\n    protected onLoad(): void {\n        ComponentUtils.validateRequiredProperties(this, Cloud)\n    }\n\n    public getLightningTween(position: Readonly<IVec2Like>) {\n        return tween(this.node)\n            .call(() => {\n                AnimUtils.runAnimationAsync(this.animation)\n            })\n            .delay(0.2)\n            .parallel(...this.rays.map((ray) => ray.createRayAnimation(position)))\n    }\n\n    public getMoveToScreenTween(worldPosition: IVec2Like, direction: 'left' | 'right') {\n        const { width: screenWidth } = this.canvas\n        const worldX = direction === 'left' ? -300 : screenWidth + 300\n\n        const moveTween = tween(this.node)\n            .set({ worldPosition: new Vec3(worldX, worldPosition.y) })\n            .to(0.6, { worldPosition: new Vec3(worldPosition.x, worldPosition.y, 0) }, { easing: 'quadOut' })\n\n        const scale = clamp(\n            worldPosition.y < this.canvas.height / 2 ? 1.2 : 1.7 - worldPosition.y / this.canvas.height,\n            0.7,\n            2,\n        )\n\n        const scaleTween = tween(this.node)\n            .set({ scale: new Vec3(scale * 1.1, scale * 0.9, 1) })\n            .to(0.6, { scale: new Vec3(scale, scale, 1) }, { easing: 'quadIn' })\n\n        return tween(this.node).parallel(moveTween, scaleTween)\n    }\n\n    public getMoveOutScreenTween(direction: 'left' | 'right') {\n        const { width: screenWidth, height: screenHeight } = this.canvas\n        const x = direction === 'left' ? -screenWidth / 2 - 300 : screenWidth / 2 + 300\n        const targetPosition = new Vec3(x, this.node.position.y)\n        const hiddenPosition = new Vec3(0, -screenHeight / 2 - 500)\n\n        const moveTween = tween(this.node)\n            .call(() => {\n                targetPosition.set(targetPosition.x, this.node.position.y)\n            })\n            .to(0.6, { position: () => targetPosition }, { easing: 'quadIn' })\n            .set({ position: hiddenPosition })\n        return moveTween\n    }\n\n    public getMoveToScreenCenterTween() {\n        const { width: screenWidth, height: screenHeight } = this.canvas\n\n        const { x: initialX, y: initialY } = this.getRandomInitialPosition(screenWidth, screenHeight)\n\n        const moveTween = tween(this.node)\n            .set({ position: new Vec3(initialX, initialY, 0) })\n            .to(0.8, { position: VEC3_0_300 }, { easing: 'quadOut' })\n\n        return moveTween\n    }\n\n    private getRandomInitialPosition(screenWidth: number, screenHeight: number) {\n        const direction = randomRangeInt(0, 4) as 0 | 1 | 2 | 3\n\n        switch (direction) {\n            case 0: // Top\n                return {\n                    x: Math.random() * screenWidth - screenWidth / 2,\n                    y: screenHeight / 2 + 300,\n                }\n            case 1: // Bottom\n                return {\n                    x: Math.random() * screenWidth - screenWidth / 2,\n                    y: -screenHeight / 2 - 300,\n                }\n            case 2: // Left\n                return {\n                    x: -screenWidth / 2 - 300,\n                    y: Math.random() * screenHeight - screenHeight / 2,\n                }\n            case 3: // Right\n                return {\n                    x: screenWidth / 2 + 300,\n                    y: Math.random() * screenHeight - screenHeight / 2,\n                }\n        }\n    }\n}\n","import ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport { _decorator, Node } from 'cc'\nimport Cloud from '../../../game-objects/cloud/Cloud'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('CloudEffectProperties')\nclass CloudEffectProperties {\n    @ComponentUtils.required()\n    @property({ group: { name: 'Thunder Effect', style: 'section' }, type: Node })\n    public readonly cloudContainer!: Node\n\n    @ComponentUtils.required()\n    @property({ group: { name: 'Thunder Effect', style: 'section' }, type: Cloud })\n    public readonly cloud1!: Cloud\n\n    @ComponentUtils.required()\n    @property({ group: { name: 'Thunder Effect', style: 'section' }, type: Cloud })\n    public readonly cloud2!: Cloud\n\n    @ComponentUtils.required()\n    @property({ group: { name: 'Thunder Effect', style: 'section' }, type: Cloud })\n    public readonly cloud3!: Cloud\n}\n\nexport default CloudEffectProperties\n","import { CodeSoundKeys } from 'db://assets/constants/SoundKeys'\nimport AnimUtils from 'db://assets/utils/AnimUtils'\nimport AudioUtils from 'db://assets/utils/AudioUtils'\nimport ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport { _decorator, assert, Component, find, type IVec2Like, randomRange, tween, UITransform } from 'cc'\nimport GameplayEvents from '../../../constants/GameEvents'\nimport type { Board, Tile } from '../../../game-objects/board'\nimport type Cloud from '../../../game-objects/cloud/Cloud'\nimport clampToBoundingBox from '../../../utils/2d/clampToBoundingBox'\nimport { getClosestPairIndex } from '../../../utils/2d/getClosestPair'\nimport toSortedIndices from '../../../utils/array/toSortedIndices'\nimport randomSign from '../../../utils/number/randomSign'\nimport type EffectManager from '../../EffectManager'\nimport CloudEffectProperties from './CloudEffectProperties'\n\nconst { ccclass, property } = _decorator\n\nconst {\n    Utils: { Array: A },\n} = Ludex\n\ntype MultiTileCloudPosition = {\n    type: 'multi-tile-cloud'\n    cloud: Cloud\n    worldPosition: IVec2Like\n    tiles: [Tile, Tile]\n}\n\ntype SingleTileCloudPosition = {\n    type: 'single-tile-cloud'\n    clouds: [\n        {\n            cloud: Cloud\n            worldPosition: IVec2Like\n            tile: Tile\n        },\n        {\n            cloud: Cloud\n            worldPosition: IVec2Like\n            tile: Tile\n        },\n    ]\n    tiles: [Tile, Tile]\n}\n\ntype CloudEffectConfig = MultiTileCloudPosition | SingleTileCloudPosition\n\n@ccclass('CloudEffect')\nclass CloudEffect extends Component {\n    @ComponentUtils.required()\n    @property({ type: CloudEffectProperties })\n    public readonly properties = new CloudEffectProperties()\n\n    private canvasUiTransform!: UITransform\n\n    protected __preload(): void {\n        ComponentUtils.validateRequiredProperties(this, CloudEffect)\n    }\n\n    protected onEnable(): void {\n        const canvasUiTransform = find('Canvas')?.getComponent(UITransform)\n        assert(canvasUiTransform !== undefined && canvasUiTransform !== null, 'Canvas UI transform not found')\n        this.canvasUiTransform = canvasUiTransform\n    }\n\n    public async playThunderAnimations(config: {\n        manager: EffectManager\n        pairs: [[Tile, Tile], [Tile, Tile]]\n        board: Board\n    }) {\n        const { manager, pairs, board } = config\n\n        const tiles = pairs.flat() as [Tile, Tile, Tile, Tile]\n        const clouds = [this.properties.cloud1, this.properties.cloud2, this.properties.cloud3] as [Cloud, Cloud, Cloud]\n\n        const configs = this.getSimpleCloudPositions(tiles, clouds)\n\n        const animation = tween(this.node).parallel(\n            ...configs.map((config, index) =>\n                this.getCloudFxTween({\n                    manager,\n                    board,\n                    effect: config,\n                    delay: 0.1 * index,\n                }),\n            ),\n        )\n\n        await AnimUtils.runTweenAsync(animation)\n    }\n\n    public async playMultiThunderAnimation(config: {\n        manager: EffectManager\n        pairs: [Tile, Tile][]\n        board: Board\n        stagger?: number\n    }): Promise<void> {\n        const { manager, pairs, board, stagger } = config\n\n        const cloud = this.properties.cloud1\n\n        cloud.node.active = true\n        await AnimUtils.runTweenAsync(cloud.getMoveToScreenCenterTween())\n\n        await AnimUtils.waitTweenAsync(0.2)\n\n        board.clear({ pairs, stagger, lightning: true })\n\n        const ps = []\n\n        // set of animations and effects\n        for (let i = 0, tilesCount = pairs.length * 2; i < tilesCount; i++) {\n            const pairIndex = Math.floor(i / 2)\n\n            const pair = pairs[pairIndex]\n            if (pair === undefined) continue\n\n            const tile = pair[i % 2]\n            if (tile === undefined) continue\n\n            if (i !== 0 && i % 2 === 0) {\n                manager.node.scene.emit(GameplayEvents.ADD_COMBO)\n                manager.node.scene.emit(GameplayEvents.ADD_SCORE)\n            }\n\n            manager.shakeGame()\n            manager.shakeScreen(500)\n            AudioUtils.playSound(CodeSoundKeys.THUNDERBOLT)\n            ps.push(AnimUtils.runTweenAsync(cloud.getLightningTween(tile.node.worldPosition)))\n\n            if (stagger) {\n                await AnimUtils.waitTweenAsync(stagger)\n            }\n        }\n\n        await Promise.all(ps)\n\n        cloud.node.active = false\n    }\n\n    private getSimpleCloudPositions(\n        tiles: [Tile, Tile, Tile, Tile],\n        clouds: [Cloud, Cloud, Cloud],\n    ): CloudEffectConfig[] {\n        const positions = [\n            tiles[0].node.worldPosition,\n            tiles[1].node.worldPosition,\n            tiles[2].node.worldPosition,\n            tiles[3].node.worldPosition,\n        ] as const\n\n        const closestPairIndices = getClosestPairIndex(positions)\n\n        const { left: closestPair, right: otherTiles } = A.split(tiles, (_, index) =>\n            closestPairIndices.includes(index),\n        )\n\n        assert(closestPair.length === 2, 'Closest pair must have 2 tiles')\n        assert(otherTiles.length === 2, 'Other tiles must have 2 tiles')\n\n        const closestTile1 = closestPair[0] as Tile\n        const closestTile2 = closestPair[1] as Tile\n\n        const otherTile1 = otherTiles[0] as Tile\n        const otherTile2 = otherTiles[1] as Tile\n\n        const otherPosition1 = otherTile1.node.worldPosition\n        const otherPosition2 = otherTile2.node.worldPosition\n\n        const clamp = clampToBoundingBox(this.canvasUiTransform.getBoundingBoxToWorld(), 100)\n\n        const multiCloudY =\n            Math.max(closestTile1.node.worldPosition.y, closestTile2.node.worldPosition.y) + randomRange(150, 200)\n\n        const singleCloud1Y = otherPosition1.y + randomRange(150, 200)\n        const singleCloud2Y = otherPosition2.y + randomRange(150, 200)\n\n        const multiCloudX =\n            (closestTile1.node.worldPosition.x + closestTile2.node.worldPosition.x) / 2 +\n            randomRange(50, 100) * randomSign()\n\n        const singleCloud1X = otherPosition1.x + randomRange(50, 100) * randomSign()\n        const singleCloud2X = otherPosition2.x + randomRange(50, 100) * randomSign()\n\n        const multiCloudPosition: IVec2Like = clamp({\n            x: multiCloudX,\n            y: multiCloudY,\n        })\n\n        const singleCloudPosition1: IVec2Like = clamp({\n            x: singleCloud1X,\n            y: singleCloud1Y,\n        })\n\n        const singleCloudPosition2: IVec2Like = clamp({\n            x: singleCloud2X,\n            y: singleCloud2Y,\n        })\n\n        const cloudPositions = [multiCloudPosition, singleCloudPosition1, singleCloudPosition2]\n\n        const sortedIndices = toSortedIndices(cloudPositions, (a, b) => b.y - a.y) as [number, number, number]\n\n        const multiCloud = clouds[sortedIndices[0]] as Cloud\n        const singleCloud1 = clouds[sortedIndices[1]] as Cloud\n        const singleCloud2 = clouds[sortedIndices[2]] as Cloud\n\n        const configs: CloudEffectConfig[] = [\n            {\n                type: 'multi-tile-cloud',\n                cloud: multiCloud,\n                worldPosition: multiCloudPosition,\n                tiles: [closestTile1, closestTile2],\n            },\n            {\n                type: 'single-tile-cloud',\n                clouds: [\n                    {\n                        cloud: singleCloud1,\n                        worldPosition: singleCloudPosition1,\n                        tile: otherTile1,\n                    },\n                    {\n                        cloud: singleCloud2,\n                        worldPosition: singleCloudPosition2,\n                        tile: otherTile2,\n                    },\n                ],\n                tiles: [otherTile1, otherTile2],\n            },\n        ]\n\n        return configs\n    }\n\n    private getCloudFxTween(config: {\n        manager: EffectManager\n        board: Board\n        effect: CloudEffectConfig\n        delay?: number\n    }) {\n        if (config.effect.type === 'multi-tile-cloud') {\n            return this.getMultiTileCloudFxTween(config.effect, config)\n        }\n\n        return this.getSingleTileCloudFxTween(config.effect, config)\n    }\n\n    private getMultiTileCloudFxTween(\n        effect: MultiTileCloudPosition,\n        config: {\n            manager: EffectManager\n            board: Board\n            delay?: number\n        },\n    ) {\n        const { manager, board, delay = 0 } = config\n\n        effect.cloud.node.active = true\n        const moveInTween = effect.cloud.getMoveToScreenTween(effect.worldPosition, 'left')\n\n        const clearTween = tween(this.node)\n            .delay(0.4)\n            .call(this.clearTiles.bind(this, manager, board, [effect.tiles], 0.05))\n\n        const explosionTween1 = tween(this.node)\n            .delay(0.2)\n            .call(manager.createClearExplosionAt.bind(manager, effect.tiles[0].node.worldPosition))\n\n        const lightningTween1 = effect.cloud.getLightningTween(effect.tiles[0].node.worldPosition)\n\n        const lightningTween2 = effect.cloud.getLightningTween(effect.tiles[1].node.worldPosition)\n\n        const explosionTween2 = tween(this.node)\n            .delay(0.2)\n            .call(manager.createClearExplosionAt.bind(manager, effect.tiles[1].node.worldPosition))\n\n        const cloudTween1 = tween(this.node).parallel(lightningTween1, explosionTween1)\n\n        const cloudTween2 = tween(this.node).delay(0.3).parallel(lightningTween2, explosionTween2)\n\n        const moveOutTween = effect.cloud.getMoveOutScreenTween('left')\n\n        const animation = tween(this.node)\n            .delay(delay)\n            .then(moveInTween)\n            .parallel(clearTween, cloudTween1, cloudTween2)\n            .then(moveOutTween)\n            .call(() => {\n                effect.cloud.node.active = false\n            })\n\n        return animation\n    }\n\n    private getSingleTileCloudFxTween(\n        effect: SingleTileCloudPosition,\n        config: {\n            manager: EffectManager\n            board: Board\n            delay?: number\n        },\n    ) {\n        const { manager, board, delay = 0 } = config\n\n        const cloudEffect1 = effect.clouds[0]\n        const cloudEffect2 = effect.clouds[1]\n\n        cloudEffect1.cloud.node.active = true\n        cloudEffect2.cloud.node.active = true\n\n        const clearTween = tween(this.node)\n            .delay(0.6)\n            .call(this.clearTiles.bind(this, manager, board, [effect.tiles], 0.1))\n\n        const moveInTween1 = cloudEffect1.cloud.getMoveToScreenTween(cloudEffect1.worldPosition, 'right')\n\n        const lightningTween1 = cloudEffect1.cloud\n            .getLightningTween(effect.tiles[0].node.worldPosition)\n            .then(cloudEffect1.cloud.getMoveOutScreenTween('right'))\n\n        const explosionTween1 = tween(this.node)\n            .delay(0.2)\n            .call(manager.createClearExplosionAt.bind(manager, cloudEffect1.tile.node.worldPosition))\n\n        const moveInTween2 = tween(this.node)\n            .delay(0.1)\n            .then(cloudEffect2.cloud.getMoveToScreenTween(cloudEffect2.worldPosition, 'left'))\n\n        const lightningTween2 = cloudEffect2.cloud\n            .getLightningTween(effect.tiles[1].node.worldPosition)\n            .then(cloudEffect2.cloud.getMoveOutScreenTween('left'))\n\n        const explosionTween2 = tween(this.node)\n            .delay(0.2)\n            .call(manager.createClearExplosionAt.bind(manager, cloudEffect2.tile.node.worldPosition))\n\n        const cloudTween1 = tween(this.node)\n            .then(moveInTween1)\n            .parallel(lightningTween1, explosionTween1)\n            .call(() => {\n                cloudEffect1.cloud.node.active = false\n            })\n\n        const cloudTween2 = tween(this.node)\n            .then(moveInTween2)\n            .parallel(lightningTween2, explosionTween2)\n            .call(() => {\n                cloudEffect2.cloud.node.active = false\n            })\n\n        const animation = tween(this.node).delay(delay).parallel(cloudTween1, cloudTween2, clearTween)\n\n        return animation\n    }\n\n    private clearTiles(manager: EffectManager, board: Board, pairs: [Tile, Tile][], stagger = 0) {\n        manager.shakeGame()\n        manager.shakeScreen(500)\n\n        AudioUtils.playSound(CodeSoundKeys.THUNDERBOLT)\n        board.clear({ pairs, stagger, lightning: true, delay: 1.5 })\n        manager.node.scene.emit(GameplayEvents.ADD_COMBO)\n        manager.node.scene.emit(GameplayEvents.ADD_SCORE)\n    }\n}\n\nexport default CloudEffect\n","import {\n    _decorator,\n    Animation,\n    Component,\n    director,\n    instantiate,\n    math,\n    Node,\n    type Prefab,\n    randomRange,\n    SpriteFrame,\n    type sp,\n    tween,\n    UITransform,\n    Vec3,\n} from 'cc'\nimport { OpacityToggler } from '../../components/common/OpacityToggler'\nimport { Vibrate } from '../../components/vibrate/Vibrate'\nimport { ParticleSystem } from '../../particles/ParticleSystem'\n\nimport { ItemCollectionFX } from '../../screens/get-item-screen/ItemCollectionFX'\nimport AnimUtils from '../../utils/AnimUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../utils/common/AnimAbortSignal'\nimport LayoutUtils from '../../utils/LayoutUtils'\nimport ResourceUtils from '../../utils/ResourceUtils'\nimport GameplayEvents from '../constants/GameEvents'\nimport ItemKeys from '../constants/ItemKeys'\nimport ResourcePaths from '../constants/ResourcePaths'\nimport type { Board, Tile } from '../game-objects/board'\nimport addItemAnimation from '../game-objects/item/addItemEffect'\nimport type { SpecialItem } from '../game-objects/item/SpecialItem'\nimport { StarParticles } from '../game-objects/star-particles/StarParticles'\nimport { AFPool } from '../utils/pool/AFPool'\nimport CloudEffect from './effects/cloud-effect/CloudEffect'\n\nconst {\n    Utils: { Valid: V },\n} = Ludex\n\nconst { ccclass, property } = _decorator\nconst { monitorError } = codex\n\n@ccclass('EffectManager')\nexport default class EffectManager extends Component {\n    @ComponentUtils.required()\n    @property({ group: { name: 'Thunder Effect', style: 'section' }, type: CloudEffect })\n    public readonly cloudEffect!: CloudEffect\n\n    @ComponentUtils.required()\n    @property({ group: { name: 'Mask Effect', style: 'section' }, type: OpacityToggler })\n    private readonly backgroundMask!: OpacityToggler\n\n    @ComponentUtils.required()\n    @property({ group: { name: 'Mask Effect', style: 'section' }, type: Node })\n    private readonly masks: Node[] = []\n\n    @ComponentUtils.required()\n    @property({ group: { name: 'Tornado Effect', style: 'section' }, type: Node })\n    private readonly tornadoContainer!: Node\n\n    @ComponentUtils.required()\n    @property({\n        group: { name: 'Clear Particle Effect', style: 'section' },\n        type: Node,\n        displayName: 'Particle holder node',\n    })\n    private readonly clearParticleHolder!: Node\n\n    @ComponentUtils.required()\n    @property({\n        group: { name: 'Clear Particle Effect', style: 'section' },\n        type: ParticleSystem,\n        displayName: 'Emitter 1',\n    })\n    private readonly clearParticle1!: ParticleSystem\n\n    @ComponentUtils.required()\n    @property({\n        group: { name: 'Clear Particle Effect', style: 'section' },\n        type: ParticleSystem,\n        displayName: 'Emitter 2',\n    })\n    private readonly clearParticle2!: ParticleSystem\n\n    @ComponentUtils.required()\n    @property({ group: { name: 'Star Particles Effect', style: 'section' }, type: StarParticles })\n    private readonly starParticle!: StarParticles\n\n    @ComponentUtils.required()\n    @property({ group: { name: 'Confetti Effect', style: 'section' }, type: ParticleSystem })\n    private readonly leftConfetti!: ParticleSystem\n\n    @ComponentUtils.required()\n    @property({ group: { name: 'Confetti Effect', style: 'section' }, type: ParticleSystem })\n    private readonly rightConfetti!: ParticleSystem\n\n    @property({ group: { name: 'Add Item Effect', style: 'section' }, type: ItemCollectionFX })\n    private readonly itemEffect!: ItemCollectionFX\n\n    @property({ group: { name: 'Add Item Effect', style: 'section' }, type: SpriteFrame })\n    private readonly hintSpriteFrame!: SpriteFrame\n\n    @property({ group: { name: 'Add Item Effect', style: 'section' }, type: SpriteFrame })\n    private readonly thunderSpriteFrame!: SpriteFrame\n\n    @property({ group: { name: 'Add Item Effect', style: 'section' }, type: SpriteFrame })\n    private readonly tornadoSpriteFrame!: SpriteFrame\n\n    @property({ group: { name: 'Add Item Effect', style: 'section' }, type: SpriteFrame })\n    private readonly pliersSpriteFrame!: SpriteFrame\n\n    private tornadoSpineNode!: Node\n\n    private maskTargets: Tile[] = []\n\n    private vibrate: Vibrate | null = null\n    private gameShakeSignal = new AnimAbortSignal()\n\n    private bombExplosionPool?: ReturnType<typeof createBombExplosionPool>\n\n    private defuseExplosionPool?: ReturnType<typeof createDefuseExplosionPool>\n\n    @ComponentUtils.required()\n    @property({\n        type: Node,\n        displayName: 'Clear Explosion Container',\n        group: { name: 'Clear Explosion Effect', style: 'section' },\n    })\n    readonly clearExplosionContainer!: Node\n\n    private clearExplosionPool?: ReturnType<typeof createClearExplosionPool>\n\n    private static FULL_ANIM_USED_ON_ADD_ITEM: Record<ItemKey, boolean> = {\n        [ItemKeys.HINT]: false,\n        [ItemKeys.THUNDER]: false,\n        [ItemKeys.STORM]: false,\n        [ItemKeys.PLIERS]: false,\n    }\n\n    protected __preload(): void {\n        ComponentUtils.validateRequiredProperties(this, EffectManager)\n    }\n\n    protected onLoad(): void {\n        this.clearParticleHolder.active = false\n        this.leftConfetti.node.active = false\n        this.rightConfetti.node.active = false\n    }\n\n    protected update(): void {\n        if (this.maskTargets.length > 0) {\n            for (let i = 0; i < this.maskTargets.length; i++) {\n                const target = this.maskTargets[i] as Tile\n                if (target.isHidden()) continue\n\n                const mask = this.masks[i]\n                if (!mask) continue\n\n                mask.setWorldPosition(target.node.worldPosition)\n            }\n        }\n    }\n\n    protected onEnable(): void {\n        this.node.scene.on(GameplayEvents.GRID_RESIZE, this.handleBoardResize, this)\n    }\n\n    protected onDisable(): void {\n        this.node.scene.off(GameplayEvents.GRID_RESIZE, this.handleBoardResize, this)\n    }\n\n    private handleBoardResize(scale: number): void {\n        this.clearParticleHolder.setScale(scale, scale)\n        this.clearExplosionContainer.setScale(scale, scale)\n\n        if (LayoutUtils.isLandscape()) {\n            const cloudScale = math.clamp(scale, 1, 1.5)\n            this.cloudEffect.node.setScale(cloudScale, cloudScale)\n        } else {\n            this.cloudEffect.node.setScale(1, 1)\n        }\n    }\n\n    public playClearEffectAt(positions: [Vec3, Vec3]) {\n        const { x: x1, y: y1 } = positions[0]\n        const { x: x2, y: y2 } = positions[1]\n        const { z: z1 } = this.clearParticle1.node.worldPosition\n        const { z: z2 } = this.clearParticle2.node.worldPosition\n\n        this.clearParticleHolder.active = true\n\n        this.clearParticle1.node.setWorldPosition(x1, y1, z1)\n\n        this.clearParticle2.node.setWorldPosition(x2, y2, z2)\n\n        this.clearParticle1.play()\n        this.clearParticle2.play()\n\n        this.scheduleOnce(() => {\n            this.clearParticleHolder.active = false\n        }, this.clearParticle1.duration)\n    }\n\n    public playStarEffectAt(position: [number, number]) {\n        this.starParticle.fireShiningStarAt(position)\n    }\n\n    public playConfettiEffect(): void {\n        //? Fix for confetti is behind the landscape's sidebar\n        this.node.parent?.addChild(this.leftConfetti.node)\n        if (this.rightConfetti.node.parent !== this.node.parent) this.node.parent?.addChild(this.rightConfetti.node)\n\n        const isLandscape = LayoutUtils.isLandscape()\n\n        const burstCount = isLandscape ? 50 : 30\n        const startSpeedMin = isLandscape ? 5000 : 2000\n        const startSpeedMax = isLandscape ? 15000 : 10000\n        const leftAngle = isLandscape ? 40 : 60\n        const rightAngle = isLandscape ? 110 : 100\n        const arc = isLandscape ? 30 : 20\n\n        this.leftConfetti.bursts[0]!.count = this.rightConfetti.bursts[0]!.count = burstCount\n        this.leftConfetti.startSpeed.constantMin = this.rightConfetti.startSpeed.constantMin = startSpeedMin\n        this.leftConfetti.startSpeed.constantMax = this.rightConfetti.startSpeed.constantMax = startSpeedMax\n        this.leftConfetti.shapeModule.angle = leftAngle\n        this.rightConfetti.shapeModule.angle = rightAngle\n        this.leftConfetti.shapeModule.arc = this.rightConfetti.shapeModule.arc = arc\n\n        this.leftConfetti.node.active = false\n        this.rightConfetti.node.active = false\n\n        this.leftConfetti.play()\n        this.rightConfetti.play()\n\n        this.scheduleOnce(() => {\n            this.leftConfetti.node.active = false\n        }, this.leftConfetti.duration)\n\n        this.scheduleOnce(() => {\n            this.rightConfetti.node.active = false\n        }, this.rightConfetti.duration)\n    }\n\n    public async playTornadoAnimation(): Promise<void> {\n        const spine = this.tornadoSpineNode.getComponent('sp.Skeleton') as sp.Skeleton\n        if (!spine) return\n\n        return new Promise((resolve) => {\n            this.tornadoSpineNode.active = true\n            spine.setAnimation(0, 'tornado_alone', false)\n            spine.setCompleteListener(() => {\n                resolve()\n                this.tornadoSpineNode.active = false\n            })\n        })\n    }\n\n    public async playThunderAnimation(pairs: [[Tile, Tile], [Tile, Tile]], board: Board): Promise<void> {\n        this.resetMasks()\n\n        const [[tile1, tile2], [tile3, tile4]] = pairs\n\n        this.maskTargets = [tile1, tile2, tile3, tile4]\n        this.maskTargets.forEach((tile, index) => {\n            this.setMaskProperties(index, tile.node.worldPosition, tile.node.worldScale)\n        })\n\n        await this.setBackgroundMaskActive(true)\n\n        await this.cloudEffect.playThunderAnimations({ manager: this, board, pairs })\n\n        this.setBackgroundMaskActive(false)\n    }\n\n    public async playItemAddAnimation(worldX: number, worldY: number, item: SpecialItem): Promise<void> {\n        const canvas = director.getScene()?.getChildByName('Canvas')\n        if (canvas === null || canvas === undefined) return\n\n        const { itemType } = item\n        if (!itemType) return\n\n        this.itemEffect.node.active = true\n        this.itemEffect.node.setParent(canvas)\n        this.itemEffect.node.setWorldPosition(worldX, worldY, this.itemEffect.node.worldPosition.z)\n        this.itemEffect.node.setScale(Vec3.ONE)\n\n        switch (itemType) {\n            case ItemKeys.HINT:\n                this.itemEffect.sprite.spriteFrame = this.hintSpriteFrame\n                break\n            case ItemKeys.THUNDER:\n                this.itemEffect.sprite.spriteFrame = this.thunderSpriteFrame\n                break\n            case ItemKeys.STORM:\n                this.itemEffect.sprite.spriteFrame = this.tornadoSpriteFrame\n                break\n            case ItemKeys.PLIERS:\n                this.itemEffect.sprite.spriteFrame = this.pliersSpriteFrame\n                break\n        }\n\n        const useQuickVersion = EffectManager.FULL_ANIM_USED_ON_ADD_ITEM[itemType]\n        EffectManager.FULL_ANIM_USED_ON_ADD_ITEM[itemType] = true\n\n        await addItemAnimation(this.itemEffect, item, useQuickVersion)\n\n        this.itemEffect.node.active = false\n    }\n\n    public async playMultiThunderAnimation(pairs: [Tile, Tile][], board: Board, stagger?: number): Promise<void> {\n        this.resetMasks()\n\n        await this.cloudEffect.playMultiThunderAnimation({\n            manager: this,\n            pairs,\n            board,\n            stagger,\n        })\n\n        await this.setBackgroundMaskActive(false)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public shakeScreen(amount = 500) {\n        this.vibrate = this.vibrate ?? this.node.getComponent(Vibrate)\n        this.vibrate?.vibrate(amount)\n    }\n\n    public preloadEffects(): void {\n        this.loadDefuseExplosionPool()\n        this.loadBombExplosionPool()\n        this.loadClearExplosionPool()\n        this.loadTornadoSpine()\n    }\n\n    private async loadDefuseExplosionPool(): Promise<AFPool<DefuseExplosionObject> | undefined> {\n        if (this.defuseExplosionPool) return this.defuseExplosionPool\n\n        const prefab = await ResourceUtils.loadPrefabAsync(ResourcePaths.BOMB_DEFUSE_PREFAB)\n        if (!this.isValid || !this.node.activeInHierarchy) return\n\n        if (prefab === null) {\n            this.reportOrThrowInDebugger('Failed to load prefab', 'createDefuseExplosionAt')\n            return\n        }\n\n        this.defuseExplosionPool = createDefuseExplosionPool(prefab, this.node)\n        return this.defuseExplosionPool\n    }\n\n    private async loadBombExplosionPool(): Promise<AFPool<BombExplosionObject> | undefined> {\n        if (this.bombExplosionPool) return this.bombExplosionPool\n\n        const prefab = await ResourceUtils.loadPrefabAsync(ResourcePaths.BOMB_EXPLODE_PREFAB)\n        if (!this.isValid || !this.node.activeInHierarchy) return\n\n        if (prefab === null) {\n            this.reportOrThrowInDebugger('Failed to load prefab', 'createBombExplosionAt')\n            return\n        }\n\n        this.bombExplosionPool = createBombExplosionPool(prefab, this.node)\n        return this.bombExplosionPool\n    }\n\n    private async loadClearExplosionPool(): Promise<AFPool<ClearExplosionObject> | undefined> {\n        if (this.clearExplosionPool) return this.clearExplosionPool\n\n        const prefab = await ResourceUtils.loadPrefabAsync(ResourcePaths.CLEAR_EXPLOSION_PREFAB)\n        if (!this.isValid || !this.node.activeInHierarchy) return\n\n        if (prefab === null) {\n            this.reportOrThrowInDebugger('Failed to load prefab', 'createClearExplosionAt')\n            return\n        }\n\n        this.clearExplosionPool = createClearExplosionPool(prefab, this.clearExplosionContainer)\n        return this.clearExplosionPool\n    }\n\n    private async loadTornadoSpine(): Promise<void> {\n        const prefab = await ResourceUtils.loadPrefabAsync(ResourcePaths.TORNADO_SPINE_PREFAB)\n        if (!this.isValid || !this.node.activeInHierarchy) return\n\n        if (prefab === null) {\n            this.reportOrThrowInDebugger('Failed to load prefab', 'loadTornadoSpine')\n            return\n        }\n\n        const node = instantiate(prefab)\n        node.active = false\n        this.tornadoContainer.addChild(node)\n\n        this.tornadoSpineNode = node\n    }\n\n    public async createDefuseExplosionAt(x: number, y: number): Promise<void> {\n        const pool = await this.loadDefuseExplosionPool()\n\n        // ? error already reported in loadDefuseExplosionPool\n        if (!pool) return\n\n        const defuseExplosion = pool.alloc()\n        const node = defuseExplosion.node\n        const anim = defuseExplosion.animation\n\n        node.setWorldPosition(x, y, 0)\n        await AnimUtils.runAnimationAsync(anim)\n        pool.free(defuseExplosion)\n    }\n\n    public async createBombExplosionAt(position: Vec3): Promise<void> {\n        const pool = await this.loadBombExplosionPool()\n\n        // ? error already reported in loadBombExplosionPool\n        if (!pool) return\n\n        const bombExplosion = pool.alloc()\n        const node = bombExplosion.node\n        const anim = bombExplosion.animation\n\n        node.setWorldPosition(position)\n        await AnimUtils.runAnimationAsync(anim)\n        pool.free(bombExplosion)\n    }\n\n    public async createClearExplosionAt(position: Vec3): Promise<void> {\n        const pool = await this.loadClearExplosionPool()\n\n        // ? error already reported in loadClearExplosionPool\n        if (!pool) return\n\n        const clearExplosion = pool.alloc()\n        const node = clearExplosion.node\n        const anim = clearExplosion.animation\n\n        node.setWorldPosition(position)\n        node.getComponentInChildren(ParticleSystem)?.play()\n        await AnimUtils.runAnimationAsync(anim)\n        pool.free(clearExplosion)\n    }\n\n    public async setBackgroundMaskActive(active: boolean): Promise<void> {\n        await this.backgroundMask.changeStateFade(active, 0.25)\n    }\n\n    public resetMasks(): void {\n        for (const mask of this.masks) {\n            mask.worldPosition = new Vec3(-9999, -9999, 0)\n        }\n    }\n\n    public setMaskProperties(index: number, position: Vec3, scale?: Vec3) {\n        const mask = this.masks[index]\n        if (!mask) return\n\n        if (scale) {\n            mask.worldScale = scale\n        }\n\n        mask.worldPosition = position\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async shakeGame(): Promise<void> {\n        this.gameShakeSignal.abort()\n        const signal = new AnimAbortSignal()\n        this.gameShakeSignal = signal\n\n        const defaultPos = this.node.position.clone()\n        const randX = randomRange(-10, 10)\n        const randY = randomRange(-10, 10)\n\n        const targetPosition = defaultPos.clone().add3f(randX, randY, 0)\n        const target2Position = defaultPos.clone().add3f(-randX, -randY, 0)\n\n        const shakeTween = tween(this.node)\n            .to(0.05, {\n                position: targetPosition,\n            })\n            .to(0.05, {\n                position: target2Position,\n            })\n            .to(0.05, {\n                position: defaultPos,\n            })\n\n        const cb = () => this.node.setPosition(defaultPos)\n\n        signal.addAbortListener(cb)\n        await AnimUtils.runTweenAsync(shakeTween, signal)\n        signal.removeAbortListener(cb)\n    }\n\n    private reportOrThrowInDebugger(message = 'Unknown error thrown', from = 'Board') {\n        const error = new Error(`${from}: ${message}`)\n        if (V.isDebugger()) throw error\n        monitorError?.sendException(error)\n    }\n}\n\ntype DefuseExplosionObject = {\n    node: Node\n    animation: Animation\n}\n\nfunction createDefuseExplosionPool(prefab: Prefab, parent: Node) {\n    const ctor = (): DefuseExplosionObject => {\n        const node = instantiate(prefab)\n        const animation = node.getComponent(Animation)\n\n        if (!animation) {\n            throw new Error('DefuseExplosion: No animation component found in bombDefuseExplosionPrefab')\n        }\n\n        parent.addChild(node)\n\n        node.active = false\n\n        return {\n            node,\n            animation,\n        }\n    }\n\n    const alloc = (obj: DefuseExplosionObject) => {\n        obj.node.active = true\n    }\n\n    const free = (obj: DefuseExplosionObject) => {\n        obj.node.active = false\n    }\n\n    const destroy = (obj: DefuseExplosionObject) => {\n        obj.node.destroy()\n    }\n\n    return new AFPool(ctor, 1, alloc, free, destroy)\n}\n\ntype BombExplosionObject = {\n    node: Node\n    animation: Animation\n}\n\nfunction createBombExplosionPool(prefab: Prefab, parent: Node) {\n    const ctor = (): BombExplosionObject => {\n        const node = instantiate(prefab)\n        const animation = node.getComponent(Animation)\n\n        if (!animation) {\n            throw new Error('BombExplosion: No animation component found in bombExplosionPrefab')\n        }\n\n        parent.addChild(node)\n\n        node.active = false\n\n        return {\n            node,\n            animation,\n        }\n    }\n\n    const alloc = (obj: BombExplosionObject) => {\n        obj.node.active = true\n    }\n\n    const free = (obj: BombExplosionObject) => {\n        obj.node.active = false\n    }\n\n    const destroy = (obj: BombExplosionObject) => {\n        obj.node.destroy()\n    }\n\n    return new AFPool(ctor, 1, alloc, free, destroy)\n}\n\ntype ClearExplosionObject = {\n    node: Node\n    uiTransform: UITransform\n    animation: Animation\n}\n\nfunction createClearExplosionPool(prefab: Prefab, parent: Node) {\n    const ctor = (): ClearExplosionObject => {\n        const node = instantiate(prefab)\n        const uiTransform = node.getComponent(UITransform)\n        const animation = node.getComponent(Animation)\n\n        if (!uiTransform || !animation) {\n            throw new Error('ClearExplosion: Invalid prefab')\n        }\n\n        parent.addChild(node)\n\n        node.active = false\n\n        return {\n            node,\n            uiTransform,\n            animation,\n        }\n    }\n\n    const alloc = (obj: ClearExplosionObject) => {\n        obj.node.active = true\n    }\n\n    const free = (obj: ClearExplosionObject) => {\n        obj.node.active = false\n    }\n\n    const destroy = (obj: ClearExplosionObject) => {\n        obj.node.destroy()\n    }\n\n    return new AFPool(ctor, 2, alloc, free, destroy)\n}\n","const GuideKeys = {\n    NEWBIE: 'newbie',\n    TIMER: 'timer',\n    COMBO: 'combo',\n    HINT_ITEM: 'hint-item',\n    THUNDER_ITEM: 'thunder-item',\n    STORM_ITEM: 'storm-item',\n    PLIERS_ITEM: 'pliers-item',\n    CUSTOM_MODE: 'custom-mode',\n} as const\n\nexport default GuideKeys\nexport type GuideKey = (typeof GuideKeys)[keyof typeof GuideKeys]\n","import { UITransform } from 'cc'\nimport CocosUtils from '../../utils/CocosUtils'\nimport type { Gameplay } from '../Gameplay'\nimport GameplayEvents from '../constants/GameEvents'\nimport GuideKeys from '../constants/GuideKeys'\nimport type GuidelinesManager from '../manager/GuidelinesManager'\nimport NewbieSteps from './NewbieSteps'\n\n//? The ratio scale in Portrait mode\nconst GUIDE_TEXT_BOX_HEIGHT = 223\n\nclass Guide01Newbie {\n    private gameplay: Gameplay\n    private manager: GuidelinesManager\n\n    private currentStep!: number\n\n    constructor(manager: GuidelinesManager) {\n        this.manager = manager\n        this.gameplay = manager.gameplay\n    }\n\n    public setup(): void {\n        this.currentStep = 0\n\n        this.manager.node.scene.on(GameplayEvents.GRID_MATCH_SUCCESS, this.showNextStep, this)\n        this.manager.node.scene.on(GameplayEvents.GRID_MATCH_FAIL, this.showNextStep, this)\n        this.manager.node.scene.on(GameplayEvents.GRID_RESIZE, this.handleViewResized, this)\n\n        this.manager.guideUi.guideSkipButton.on(UITransform.EventType.SIZE_CHANGED, this.alignSkipButton, this)\n\n        this.showStep(this.currentStep)\n\n        this.manager.node.scene.emit(GameplayEvents.HIDE_UI)\n    }\n\n    private showNextStep(): void {\n        if (this.currentStep + 1 < NewbieSteps.length) {\n            this.currentStep += 1\n            this.showStep(this.currentStep)\n        } else {\n            this.close()\n        }\n    }\n\n    private async showStep(step: number): Promise<void> {\n        const newbieStep = NewbieSteps[step]\n        if (!newbieStep) return\n\n        const { board, effectManager } = this.gameplay\n\n        const startTileCoords = newbieStep.startTile\n        const endTileCoords = newbieStep.endTile\n\n        const startTile = board.getTileAt(startTileCoords.x, startTileCoords.y)\n        const endTile = board.getTileAt(endTileCoords.x, endTileCoords.y)\n\n        if (!startTile || !endTile) return\n\n        const startPosition = startTile.node.worldPosition\n        const endPosition = endTile.node.worldPosition\n\n        effectManager.resetMasks()\n\n        effectManager.setMaskProperties(0, startPosition, startTile.node.worldScale)\n        effectManager.setMaskProperties(1, endPosition, endTile.node.worldScale)\n        effectManager.setBackgroundMaskActive(true)\n\n        const {\n            guideUi: { guideHand, guideTextBox, guideSkipButton },\n        } = this.manager\n\n        guideHand.node.active = true\n        guideSkipButton.active = true\n\n        guideHand.playHandAnimation(startPosition, endPosition)\n\n        this.alignGuideTextBox()\n        this.alignSkipButton()\n\n        await guideTextBox.hide()\n        guideTextBox.setLocalizedText(newbieStep.localeTextKey)\n        await guideTextBox.show()\n\n        board.setIgnoreInput(true)\n        startTile.setIgnoreInput(false)\n        endTile.setIgnoreInput(false)\n\n        this.gameplay.comboManager.setEmitEvent(false)\n    }\n\n    private handleViewResized(): void {\n        const newbieStep = NewbieSteps[this.currentStep]\n        if (!newbieStep) return\n\n        const { board, effectManager } = this.gameplay\n\n        const startTileCoords = newbieStep.startTile\n        const endTileCoords = newbieStep.endTile\n\n        const startTile = board.getTileAt(startTileCoords.x, startTileCoords.y)\n        const endTile = board.getTileAt(endTileCoords.x, endTileCoords.y)\n\n        if (!startTile || !endTile) return\n\n        const startPosition = startTile.node.worldPosition\n        const endPosition = endTile.node.worldPosition\n\n        effectManager.setMaskProperties(0, startPosition, startTile.node.worldScale)\n        effectManager.setMaskProperties(1, endPosition, endTile.node.worldScale)\n\n        this.alignGuideTextBox()\n        this.alignSkipButton()\n    }\n\n    private alignGuideTextBox(): void {\n        const { board } = this.gameplay\n        const {\n            guideUi: { guideTextBox },\n        } = this.manager\n\n        const boardBoundingBox = board.getBoundingBoxWorld()\n\n        const boardWidth = boardBoundingBox.width\n        const bottomBoard = boardBoundingBox.yMin\n        const guideBoxNewXPosition = boardBoundingBox.center.x\n        const guideBoxNewYPosition = guideTextBox.widget.bottom + (bottomBoard - guideTextBox.widget.bottom) / 2\n\n        guideTextBox.node.setWorldPosition(guideBoxNewXPosition, guideBoxNewYPosition, 0)\n\n        const guideBoxHeight = Math.max(\n            Math.min(GUIDE_TEXT_BOX_HEIGHT, (bottomBoard - guideTextBox.widget.bottom) * 0.85),\n            10, // Minimum height\n        )\n\n        guideTextBox.uiTransform.setContentSize(boardWidth, guideBoxHeight)\n    }\n\n    private alignSkipButton = () => {\n        const { board } = this.gameplay\n        const {\n            guideUi: { guideSkipButton },\n        } = this.manager\n        if (!guideSkipButton) return\n\n        const skipContainer = guideSkipButton.parent\n        if (!skipContainer) return\n\n        const boardBoundingBox = board.getBoundingBoxWorld()\n\n        const topBoard = boardBoundingBox.yMax\n        const rightBoard = boardBoundingBox.xMax\n\n        const topScreen = CocosUtils.cssSizeToWorldSize(CocosUtils.getScreenHeightCss())\n\n        const guideSkipButtonXPosition = rightBoard - skipContainer.getComponent(UITransform)!.width / 2\n        const guideSkipButtonYPosition = Math.min(topBoard + 100, topBoard + (topScreen - topBoard) / 2)\n\n        //? Change position of the container instead of the button because ExtendedButton can't change its position\n        skipContainer.setWorldPosition(guideSkipButtonXPosition, guideSkipButtonYPosition, 0)\n    }\n\n    public async close(): Promise<void> {\n        const { board, effectManager } = this.gameplay\n\n        this.manager.node.scene.off(GameplayEvents.GRID_MATCH_SUCCESS, this.showNextStep, this)\n        this.manager.node.scene.off(GameplayEvents.GRID_MATCH_FAIL, this.showNextStep, this)\n        this.manager.node.scene.off(GameplayEvents.GRID_RESIZE, this.handleViewResized, this)\n\n        this.manager.guideUi.guideSkipButton.off(UITransform.EventType.SIZE_CHANGED, this.alignSkipButton, this)\n\n        board.setIgnoreInput(false)\n\n        await Promise.all([this.manager.guideUi.guideTextBox.hide(), effectManager.setBackgroundMaskActive(false)])\n\n        this.manager.guideUi.guideHand.node.active = false\n\n        this.manager.completeGuide(GuideKeys.NEWBIE)\n    }\n}\n\nexport default Guide01Newbie\n","import { game, HorizontalTextAlignment, UITransform } from 'cc'\nimport GameEvents from '../../constants/GameEvents'\nimport LayoutUtils from '../../utils/LayoutUtils'\nimport GameplayEvents from '../constants/GameEvents'\nimport GuideKeys from '../constants/GuideKeys'\nimport type { Gameplay } from '../Gameplay'\nimport type GuidelinesManager from '../manager/GuidelinesManager'\n\nclass Guide02Timer {\n    private gameplay: Gameplay\n    private manager: GuidelinesManager\n\n    constructor(manager: GuidelinesManager) {\n        this.manager = manager\n        this.gameplay = manager.gameplay\n    }\n\n    public async setup(): Promise<void> {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideInfoTextLocalizer },\n        } = this.manager\n\n        guideMasks.node.active = true\n\n        guideInfoText.node.active = true\n        guideInfoTextLocalizer.key = 'guide.timer'\n        guideInfoText.horizontalAlign = HorizontalTextAlignment.CENTER\n        guideInfoText.getComponent(UITransform)!.setAnchorPoint(0.5, 0.5)\n\n        this.handleViewResized()\n\n        await guideMasks.show()\n\n        this.manager.node.scene.once(GameplayEvents.GUIDE_MASK_CLICKED, this.close, this)\n        this.manager.node.scene.emit(GameplayEvents.PAUSE_TIME)\n\n        game.on(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n    }\n\n    private handleViewResized(): void {\n        const {\n            guideUi: { guideMasks, guideInfoText },\n        } = this.manager\n        const { clock } = this.gameplay.uiManager.currentLayout\n        let { width, height } = clock.getComponent(UITransform)!.contentSize\n\n        const scale = 1.5\n        const clockPosition = clock.node.worldPosition\n        const guideInfoTextY = LayoutUtils.isPortrait()\n            ? clockPosition.y - height / 2 - 50\n            : clockPosition.y + height / 2 + 70\n\n        width *= scale\n        height *= scale\n\n        guideMasks.setOtherMaskTransform(clockPosition.x, clockPosition.y, width, height)\n        guideInfoText.node.setWorldPosition(clockPosition.x, guideInfoTextY, 0)\n    }\n\n    private async close(): Promise<void> {\n        const {\n            guideUi: { guideInfoText, guideMasks },\n        } = this.manager\n\n        this.gameplay.comboManager.setEmitEvent(true)\n\n        if (this.gameplay.stateManager.isPlaying()) {\n            this.manager.node.scene.emit(GameplayEvents.RESUME_TIME)\n        }\n\n        await guideMasks.hide()\n\n        guideInfoText.node.active = false\n        this.manager.completeGuide(GuideKeys.TIMER)\n\n        this.unlistenEvents()\n    }\n\n    public unlistenEvents(): void {\n        game.off(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n    }\n}\n\nexport default Guide02Timer\n","import { HorizontalTextAlignment, Node, UITransform, game } from 'cc'\nimport GameEvents from '../../constants/GameEvents'\nimport type { Gameplay } from '../Gameplay'\nimport GameplayEvents from '../constants/GameEvents'\nimport GuideKeys from '../constants/GuideKeys'\nimport type GuidelinesManager from '../manager/GuidelinesManager'\n\nclass Guide03Combo {\n    private gameplay: Gameplay\n    private manager: GuidelinesManager\n\n    constructor(manager: GuidelinesManager) {\n        this.manager = manager\n        this.gameplay = manager.gameplay\n    }\n\n    public async setup(): Promise<void> {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideInfoTextLocalizer },\n        } = this.manager\n\n        guideMasks.node.active = true\n\n        guideInfoText.node.active = true\n        guideInfoTextLocalizer.key = 'guide.combo'\n        guideInfoText.horizontalAlign = HorizontalTextAlignment.RIGHT\n        guideInfoText.getComponent(UITransform)!.setAnchorPoint(1, 0.5)\n\n        this.handleViewResized()\n\n        await guideMasks.show()\n\n        this.manager.node.scene.once(GameplayEvents.GUIDE_MASK_CLICKED, this.close, this)\n        this.manager.node.scene.emit(GameplayEvents.PAUSE_TIME)\n        game.on(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n    }\n\n    private handleViewResized(): void {\n        const {\n            guideUi: { guideMasks, guideInfoText },\n        } = this.manager\n        const { comboContainer } = this.gameplay.uiManager\n        let { width, height } = comboContainer.getComponent(UITransform)!.contentSize\n\n        const scale = 1.5 * comboContainer.node.scale.x\n        const comboPosition = comboContainer.node.worldPosition\n\n        width *= scale\n        height *= scale\n\n        guideMasks.setOtherMaskTransform(comboPosition.x, comboPosition.y, width, height)\n        guideInfoText.node.setWorldPosition(comboPosition.x - width / 2 - 10, comboPosition.y, 0)\n    }\n\n    private async close(): Promise<void> {\n        const {\n            guideUi: { guideMasks, guideInfoText },\n        } = this.manager\n\n        this.manager.node.scene.emit(GameplayEvents.RESUME_TIME)\n\n        guideMasks.node.off(Node.EventType.TOUCH_START, this.close, this)\n\n        await guideMasks.hide()\n\n        guideInfoText.node.active = false\n        this.manager.completeGuide(GuideKeys.COMBO)\n\n        this.unlistenEvents()\n    }\n\n    public unlistenEvents(): void {\n        game.off(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n    }\n}\n\nexport default Guide03Combo\n","import { HorizontalTextAlignment, UITransform, Vec3, game } from 'cc'\nimport GameEvents from '../../constants/GameEvents'\nimport LayoutUtils from '../../utils/LayoutUtils'\nimport type { Gameplay } from '../Gameplay'\nimport GameplayEvents from '../constants/GameEvents'\nimport GuideKeys from '../constants/GuideKeys'\nimport ItemKeys from '../constants/ItemKeys'\nimport type GuidelinesManager from '../manager/GuidelinesManager'\n\nconst { Array: A } = Ludex.Utils\n\nclass Guide04Hint {\n    private gameplay: Gameplay\n    private manager: GuidelinesManager\n\n    constructor(manager: GuidelinesManager) {\n        this.manager = manager\n        this.gameplay = manager.gameplay\n    }\n\n    public async setup(): Promise<void> {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideInfoTextLocalizer },\n        } = this.manager\n\n        const hint = A.search(this.gameplay.uiManager.items, (item) => item.itemType === ItemKeys.HINT)\n        if (!hint) return\n\n        guideMasks.node.active = true\n\n        guideInfoText.node.active = true\n        guideInfoTextLocalizer.key = 'guide.hint'\n        guideInfoText.horizontalAlign = HorizontalTextAlignment.CENTER\n        guideInfoText.getComponent(UITransform)!.setAnchorPoint(0.5, 0.5)\n\n        this.handleViewResized()\n\n        await guideMasks.show()\n\n        this.manager.node.scene.once(GameplayEvents.GUIDE_MASK_CLICKED, this.close, this)\n        this.manager.node.scene.once(GameplayEvents.ITEM_MASK_CLICKED, this.useItem, this)\n        this.manager.node.scene.emit(GameplayEvents.PAUSE_TIME)\n        game.on(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n    }\n\n    private handleViewResized(): void {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideItemButton },\n        } = this.manager\n        const hint = A.search(this.gameplay.uiManager.items, (item) => item.itemType === ItemKeys.HINT)\n        if (!hint) return\n\n        const itemPosition = hint.node.worldPosition\n        let { width, height } = hint.getComponent(UITransform)!.contentSize\n\n        const padding = 40\n        width += padding\n        height += padding\n\n        guideMasks.setItemMaskTransform(itemPosition.x, itemPosition.y, width, height)\n        guideItemButton.node.active = true\n        guideItemButton.setTransform(itemPosition.x, itemPosition.y, width, height)\n\n        if (LayoutUtils.isPortrait()) {\n            guideInfoText.node.setPosition(0, 0)\n            guideInfoText.node.setWorldPosition(guideInfoText.node.worldPosition.x, itemPosition.y + height / 2 + 30, 0)\n        } else if (LayoutUtils.isLandscape()) {\n            const { clock } = this.gameplay.uiManager.currentLayout\n            const guideInfoTextPosition = new Vec3(clock.node.worldPosition.x, clock.node.worldPosition.y - 750, 0)\n            guideInfoText.node.worldPosition = guideInfoTextPosition\n        }\n    }\n\n    private async close(): Promise<void> {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideItemButton },\n        } = this.manager\n\n        this.manager.node.scene.emit(GameplayEvents.RESUME_TIME)\n\n        await guideMasks.hide()\n\n        guideInfoText.node.active = false\n        guideItemButton.node.active = false\n\n        this.manager.completeGuide(GuideKeys.HINT_ITEM)\n\n        this.unlistenEvents()\n    }\n\n    private useItem(): void {\n        this.manager.node.scene.emit(GameplayEvents.USE_ITEM, ItemKeys.HINT)\n        this.close()\n    }\n\n    public unlistenEvents(): void {\n        this.manager.node.scene.off(GameplayEvents.GUIDE_MASK_CLICKED, this.close, this)\n        this.manager.node.scene.off(GameplayEvents.ITEM_MASK_CLICKED, this.useItem, this)\n        game.off(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n    }\n}\n\nexport default Guide04Hint\n","import { HorizontalTextAlignment, UITransform, Vec3, game } from 'cc'\nimport GameEvents from '../../constants/GameEvents'\nimport LayoutUtils from '../../utils/LayoutUtils'\nimport type { Gameplay } from '../Gameplay'\nimport GameplayEvents from '../constants/GameEvents'\nimport GuideKeys from '../constants/GuideKeys'\nimport ItemKeys from '../constants/ItemKeys'\nimport type GuidelinesManager from '../manager/GuidelinesManager'\n\nconst { Array: A } = Ludex.Utils\n\nclass Guide05Thunder {\n    private gameplay: Gameplay\n    private manager: GuidelinesManager\n\n    constructor(manager: GuidelinesManager) {\n        this.manager = manager\n        this.gameplay = manager.gameplay\n    }\n\n    public async setup(): Promise<void> {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideInfoTextLocalizer },\n        } = this.manager\n\n        const thunder = A.search(this.gameplay.uiManager.items, (item) => item.itemType === ItemKeys.THUNDER)\n        if (!thunder) return\n\n        guideMasks.node.active = true\n\n        guideInfoText.node.active = true\n        guideInfoTextLocalizer.key = 'guide.thunder'\n        guideInfoText.horizontalAlign = HorizontalTextAlignment.CENTER\n        guideInfoText.getComponent(UITransform)!.setAnchorPoint(0.5, 0.5)\n\n        this.handleViewResized()\n\n        await guideMasks.show()\n\n        this.manager.node.scene.once(GameplayEvents.GUIDE_MASK_CLICKED, this.close, this)\n        this.manager.node.scene.once(GameplayEvents.ITEM_MASK_CLICKED, this.useItem, this)\n        this.manager.node.scene.emit(GameplayEvents.PAUSE_TIME)\n        game.on(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n    }\n\n    private handleViewResized(): void {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideItemButton },\n        } = this.manager\n        const thunder = A.search(this.gameplay.uiManager.items, (item) => item.itemType === ItemKeys.THUNDER)\n        if (!thunder) return\n\n        const itemPosition = thunder.node.worldPosition\n        let { width, height } = thunder.getComponent(UITransform)!.contentSize\n\n        const padding = 40\n        width += padding\n        height += padding\n\n        guideMasks.setItemMaskTransform(itemPosition.x, itemPosition.y, width, height)\n        guideItemButton.node.active = true\n        guideItemButton.setTransform(itemPosition.x, itemPosition.y, width, height)\n\n        if (LayoutUtils.isPortrait()) {\n            guideInfoText.node.setPosition(0, 0)\n            guideInfoText.node.setWorldPosition(guideInfoText.node.worldPosition.x, itemPosition.y + height / 2 + 30, 0)\n        } else if (LayoutUtils.isLandscape()) {\n            const { clock } = this.gameplay.uiManager.currentLayout\n            const guideInfoTextPosition = new Vec3(clock.node.worldPosition.x, clock.node.worldPosition.y - 750, 0)\n            guideInfoText.node.worldPosition = guideInfoTextPosition\n        }\n    }\n\n    private async close(): Promise<void> {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideItemButton },\n        } = this.manager\n\n        this.manager.node.scene.emit(GameplayEvents.RESUME_TIME)\n\n        await guideMasks.hide()\n\n        guideInfoText.node.active = false\n        guideItemButton.node.active = false\n\n        this.manager.completeGuide(GuideKeys.THUNDER_ITEM)\n\n        this.unlistenEvents()\n    }\n\n    private useItem(): void {\n        this.manager.node.scene.emit(GameplayEvents.USE_ITEM, ItemKeys.THUNDER)\n        this.close()\n    }\n\n    public unlistenEvents(): void {\n        this.manager.node.scene.off(GameplayEvents.GUIDE_MASK_CLICKED, this.close, this)\n        this.manager.node.scene.off(GameplayEvents.ITEM_MASK_CLICKED, this.useItem, this)\n        game.off(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n    }\n}\n\nexport default Guide05Thunder\n","import { HorizontalTextAlignment, UITransform, Vec3, game } from 'cc'\nimport GameEvents from '../../constants/GameEvents'\nimport LayoutUtils from '../../utils/LayoutUtils'\nimport type { Gameplay } from '../Gameplay'\nimport GameplayEvents from '../constants/GameEvents'\nimport GuideKeys from '../constants/GuideKeys'\nimport ItemKeys from '../constants/ItemKeys'\nimport type GuidelinesManager from '../manager/GuidelinesManager'\n\nconst { Array: A } = Ludex.Utils\n\nclass Guide06Storm {\n    private gameplay: Gameplay\n    private manager: GuidelinesManager\n\n    constructor(manager: GuidelinesManager) {\n        this.manager = manager\n        this.gameplay = manager.gameplay\n    }\n\n    public async setup(): Promise<void> {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideInfoTextLocalizer },\n        } = this.manager\n\n        const storm = A.search(this.gameplay.uiManager.items, (item) => item.itemType === ItemKeys.STORM)\n        if (!storm) return\n\n        guideMasks.node.active = true\n\n        guideInfoText.node.active = true\n        guideInfoTextLocalizer.key = 'guide.storm'\n        guideInfoText.horizontalAlign = HorizontalTextAlignment.CENTER\n        guideInfoText.getComponent(UITransform)!.setAnchorPoint(0.5, 0.5)\n\n        this.handleViewResized()\n\n        await guideMasks.show()\n\n        this.manager.node.scene.once(GameplayEvents.GUIDE_MASK_CLICKED, this.close, this)\n        this.manager.node.scene.once(GameplayEvents.ITEM_MASK_CLICKED, this.useItem, this)\n        this.manager.node.scene.emit(GameplayEvents.PAUSE_TIME)\n        game.on(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n    }\n\n    private handleViewResized(): void {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideItemButton },\n        } = this.manager\n        const storm = A.search(this.gameplay.uiManager.items, (item) => item.itemType === ItemKeys.STORM)\n        if (!storm) return\n\n        const itemPosition = storm.node.worldPosition\n        let { width, height } = storm.getComponent(UITransform)!.contentSize\n\n        const padding = 40\n        width += padding\n        height += padding\n\n        guideMasks.setItemMaskTransform(itemPosition.x, itemPosition.y, width, height)\n        guideItemButton.node.active = true\n        guideItemButton.setTransform(itemPosition.x, itemPosition.y, width, height)\n        \n        if (LayoutUtils.isPortrait()) {\n            guideInfoText.node.setPosition(0, 0)\n            guideInfoText.node.setWorldPosition(guideInfoText.node.worldPosition.x, itemPosition.y + height / 2 + 30, 0)\n        } else if (LayoutUtils.isLandscape()) {\n            const { clock } = this.gameplay.uiManager.currentLayout\n            const guideInfoTextPosition = new Vec3(clock.node.worldPosition.x, clock.node.worldPosition.y - 750, 0)\n            guideInfoText.node.worldPosition = guideInfoTextPosition\n        }\n    }\n\n    private async close(): Promise<void> {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideItemButton },\n        } = this.manager\n\n        this.manager.node.scene.emit(GameplayEvents.RESUME_TIME)\n\n        await guideMasks.hide()\n\n        guideInfoText.node.active = false\n        guideItemButton.node.active = false\n\n        this.manager.completeGuide(GuideKeys.STORM_ITEM)\n\n        this.unlistenEvents()\n    }\n\n    private useItem(): void {\n        this.manager.node.scene.emit(GameplayEvents.USE_ITEM, ItemKeys.STORM)\n        this.close()\n    }\n\n    public unlistenEvents(): void {\n        this.manager.node.scene.off(GameplayEvents.GUIDE_MASK_CLICKED, this.close, this)\n        this.manager.node.scene.off(GameplayEvents.ITEM_MASK_CLICKED, this.useItem, this)\n        game.off(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n    }\n}\n\nexport default Guide06Storm\n","import { HorizontalTextAlignment, UITransform, Vec3, game } from 'cc'\nimport GameEvents from '../../constants/GameEvents'\nimport LayoutUtils from '../../utils/LayoutUtils'\nimport type { Gameplay } from '../Gameplay'\nimport GameplayEvents from '../constants/GameEvents'\nimport GuideKeys from '../constants/GuideKeys'\nimport ItemKeys from '../constants/ItemKeys'\nimport type GuidelinesManager from '../manager/GuidelinesManager'\n\nconst { Array: A } = Ludex.Utils\n\nclass Guide07Pliers {\n    private gameplay: Gameplay\n    private manager: GuidelinesManager\n\n    constructor(manager: GuidelinesManager) {\n        this.manager = manager\n        this.gameplay = manager.gameplay\n    }\n\n    public async setup(): Promise<void> {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideInfoTextLocalizer },\n        } = this.manager\n\n        const pliers = A.search(this.gameplay.uiManager.items, (item) => item.itemType === ItemKeys.PLIERS)\n        if (!pliers) return\n\n        guideMasks.node.active = true\n\n        guideInfoText.node.active = true\n        guideInfoTextLocalizer.key = 'guide.pliers'\n        guideInfoText.horizontalAlign = HorizontalTextAlignment.CENTER\n        guideInfoText.getComponent(UITransform)!.setAnchorPoint(0.5, 0.5)\n\n        this.handleViewResized()\n\n        await guideMasks.show()\n\n        this.manager.node.scene.once(GameplayEvents.GUIDE_MASK_CLICKED, this.close, this)\n        this.manager.node.scene.once(GameplayEvents.ITEM_MASK_CLICKED, this.useItem, this)\n        this.manager.node.scene.emit(GameplayEvents.PAUSE_TIME)\n        game.on(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n    }\n\n    private handleViewResized(): void {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideItemButton },\n        } = this.manager\n        const pliers = A.search(this.gameplay.uiManager.items, (item) => item.itemType === ItemKeys.PLIERS)\n\n        if (!pliers) return\n\n        const itemPosition = pliers.node.worldPosition\n        let { width, height } = pliers.getComponent(UITransform)!.contentSize\n\n        const padding = 40\n        width += padding\n        height += padding\n\n        guideMasks.setItemMaskTransform(itemPosition.x, itemPosition.y, width, height)\n        guideItemButton.node.active = true\n        guideItemButton.setTransform(itemPosition.x, itemPosition.y, width, height)\n\n        if (LayoutUtils.isPortrait()) {\n            guideInfoText.node.setPosition(0, 0)\n            guideInfoText.node.setWorldPosition(guideInfoText.node.worldPosition.x, itemPosition.y + height / 2 + 30, 0)\n        } else if (LayoutUtils.isLandscape()) {\n            const { clock } = this.gameplay.uiManager.currentLayout\n            const guideInfoTextPosition = new Vec3(clock.node.worldPosition.x, clock.node.worldPosition.y - 750, 0)\n            guideInfoText.node.worldPosition = guideInfoTextPosition\n        }\n    }\n\n    private async close(): Promise<void> {\n        const {\n            guideUi: { guideMasks, guideInfoText, guideItemButton },\n        } = this.manager\n\n        this.manager.node.scene.emit(GameplayEvents.RESUME_TIME)\n\n        await guideMasks.hide()\n\n        guideInfoText.node.active = false\n        guideItemButton.node.active = false\n        \n        this.manager.completeGuide(GuideKeys.PLIERS_ITEM)\n\n        this.unlistenEvents()\n    }\n\n    private useItem(): void {\n        this.manager.node.scene.emit(GameplayEvents.USE_ITEM, ItemKeys.PLIERS)\n        this.close()\n    }\n\n    public unlistenEvents(): void {\n        this.manager.node.scene.off(GameplayEvents.GUIDE_MASK_CLICKED, this.close, this)\n        this.manager.node.scene.off(GameplayEvents.ITEM_MASK_CLICKED, this.useItem, this)\n        game.off(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleViewResized, this)\n    }\n}\n\nexport default Guide07Pliers\n","import { Component, Node, type Tween, UIOpacity, Vec3, _decorator, tween } from 'cc'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('GuideHand')\nclass GuideHand extends Component {\n    @property(Node)\n    private hand!: Node\n\n    @property(Node)\n    private circleHighlight!: Node\n\n    @property(UIOpacity)\n    private circleHighlightOpacity!: UIOpacity\n\n    private handTween!: Tween<Node>\n\n    public start(): void {\n        this.circleHighlight.setScale(0, 0)\n        this.circleHighlightOpacity.opacity = 255\n    }\n\n    public playHandAnimation(startPosition: Vec3, endPosition: Vec3): void {\n        if (this.handTween) {\n            this.handTween.stop()\n        }\n\n        const moveTween = tween(this.hand)\n            .to(0.8, { worldPosition: endPosition }, { easing: 'quartOut' })\n            .to(0.2, { scale: new Vec3(0.9, 0.9, 0.9), angle: 15 })\n            .call(() => {\n                this.playHighlightAnimation()\n            })\n            .to(0.2, { scale: Vec3.ONE, angle: 0 })\n            .to(0.8, { worldPosition: startPosition }, { easing: 'quartOut' })\n            .to(0.2, { scale: new Vec3(0.9, 0.9, 0.9), angle: 15 })\n            .call(() => {\n                this.playHighlightAnimation()\n            })\n            .to(0.2, { scale: Vec3.ONE, angle: 0 })\n\n        this.handTween = tween(this.hand).repeatForever(moveTween).start()\n    }\n\n    private playHighlightAnimation(): void {\n        this.circleHighlight.setScale(0, 0)\n        this.circleHighlightOpacity.opacity = 255\n        this.circleHighlight.position = this.hand.position.clone()\n\n        tween(this.circleHighlight)\n            .to(0.6, { scale: new Vec3(1.5, 1.5) }, { easing: 'quadOut' })\n            .start()\n\n        tween(this.circleHighlightOpacity).to(0.6, { opacity: 0 }, { easing: 'quadIn' }).start()\n    }\n}\n\nexport default GuideHand\n","import { Component, UITransform, _decorator } from 'cc'\nimport GameplayEvents from '../constants/GameEvents'\n\nconst { ccclass } = _decorator\n\n@ccclass('GuideItemButton')\nclass GuideItemButton extends Component {\n    private uiTransform!: UITransform\n\n    public __preload(): void {\n        this.uiTransform = this.node.getComponent(UITransform)!\n    }\n\n    public setTransform(x: number, y: number, width: number, height: number): void {\n        this.node.setWorldPosition(x, y, 0)\n        this.uiTransform.setContentSize(width, height)\n    }\n\n    public onClick(): void {\n        this.node.scene.emit(GameplayEvents.ITEM_MASK_CLICKED)\n    }\n}\n\nexport default GuideItemButton\n","import { Component, Sprite, UITransform, _decorator } from 'cc'\nconst { ccclass, property } = _decorator\n\n@ccclass('GameMask')\nexport class GameMask extends Component {\n    @property(UITransform)\n    public uiTransform!: UITransform\n\n    @property(Sprite)\n    public sprite!: Sprite\n\n    get texture() {\n        return this.sprite.spriteFrame!.texture\n    }\n}\n","import ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport { _decorator, Component, type Material, Sprite, UITransform, Vec2 } from 'cc'\nimport { GameMask } from './GameMask'\n\nconst { ccclass, property, executeInEditMode } = _decorator\n\n@ccclass('AlphaMasks')\n@executeInEditMode(true)\nexport class AlphaMasks extends Component {\n    @property(GameMask)\n    public masks: GameMask[] = []\n\n    @ComponentUtils.required()\n    private UITransform!: UITransform\n\n    private material!: Material\n\n    public __preload(): void {\n        this.UITransform = this.node.getComponent(UITransform)!\n    }\n\n    public onLoad(): void {\n        ComponentUtils.validateRequiredProperties(this)\n    }\n\n    public start(): void {\n        this.material = this.getComponent(Sprite)?.getMaterialInstance(0)!\n\n        for (const [index, mask] of this.masks.entries()) {\n            this.material.setProperty(`mask${index}Texture`, mask.texture)\n        }\n    }\n\n    protected update(): void {\n        if (!this.material) return\n\n        const { width, height } = this.UITransform\n\n        this.masks.forEach((mask, index) => {\n            const { width: maskUIWidth, height: maskUIHeight, anchorX, anchorY } = mask.uiTransform\n\n            const maskWidth = maskUIWidth * mask.node.scale.x\n            const maskHeight = maskUIHeight * mask.node.scale.y\n\n            const ratio = new Vec2(maskWidth / width, maskHeight / height)\n\n            const offset = new Vec2(0.5 + (0.5 - anchorX) * ratio.x, 0.5 - (0.5 - anchorY) * ratio.y)\n\n            const center = new Vec2(\n                offset.x + (mask.node.worldPosition.x - this.node.worldPosition.x) / width,\n                offset.y - (mask.node.worldPosition.y - this.node.worldPosition.y) / height,\n            )\n\n            this.material.setProperty(`ratio${index}`, ratio)\n            this.material.setProperty(`center${index}`, center)\n        })\n    }\n\n    public setMaskActive(index: number, active: boolean): void {\n        if (index >= this.masks.length) return\n\n        this.material?.setProperty(`useMask${index}`, active ? 1 : 0)\n    }\n}\n","import { _decorator, Button, Component, Vec3 } from 'cc'\nimport { OpacityToggler } from '../../components/common/OpacityToggler'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport GameplayEvents from '../constants/GameEvents'\nimport { AlphaMasks } from '../game-objects/mask/AlphaMasks'\nimport type { GameMask } from '../game-objects/mask/GameMask'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('GuideMasks')\nclass GuideMasks extends Component {\n    @property(OpacityToggler)\n    private background!: OpacityToggler\n\n    @property(AlphaMasks)\n    private alphaMasks!: AlphaMasks\n\n    @property(Button)\n    private maskButtonComponent!: Button\n\n    public __preload(): void {\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public async show(): Promise<void> {\n        this.maskButtonComponent.enabled = true\n        await this.background.changeStateFade(true, 0.25)\n    }\n\n    public async hide(): Promise<void> {\n        this.maskButtonComponent.enabled = false\n        await this.background.changeStateFade(false, 0.25)\n    }\n\n    public onClick(): void {\n        this.node.scene.emit(GameplayEvents.GUIDE_MASK_CLICKED)\n    }\n\n    public setOtherMaskTransform(x: number, y: number, width: number, height: number): void {\n        this.alphaMasks.masks[1]!.node.worldPosition = new Vec3(-9999, -9999, 0)\n        const mask = this.alphaMasks.masks[0]!\n\n        this.setMaskTransform(mask, x, y, width, height)\n    }\n\n    public setItemMaskTransform(x: number, y: number, width: number, height: number): void {\n        this.alphaMasks.masks[0]!.node.worldPosition = new Vec3(-9999, -9999, 0)\n        const mask = this.alphaMasks.masks[1]!\n\n        this.setMaskTransform(mask, x, y, width, height)\n    }\n\n    private setMaskTransform(mask: GameMask, x: number, y: number, width: number, height: number): void {\n        mask.uiTransform.setContentSize(width, height)\n        mask.node.setWorldPosition(x, y, 0)\n    }\n}\n\nexport default GuideMasks\n","import { _decorator, Component, Label, UITransform, Widget } from 'cc'\nimport { OpacityToggler } from '../../components/common/OpacityToggler'\nimport { Localize } from '../../components/text/Localize'\nimport ComponentUtils from '../../utils/ComponentUtils'\n\nconst { ccclass, property } = _decorator\n\ntype Key = Ludex.Plugins.Language.TextKey\n\n@ccclass('GuideTextBox')\nclass GuideTextBox extends Component {\n    @ComponentUtils.required()\n    @property(Label)\n    readonly guideText!: Label\n\n    @ComponentUtils.required()\n    @property(Widget)\n    readonly widget!: Widget\n\n    @ComponentUtils.required()\n    @property(UITransform)\n    readonly uiTransform!: UITransform\n\n    @ComponentUtils.required()\n    @property(OpacityToggler)\n    readonly opacityToggler!: OpacityToggler\n\n    @ComponentUtils.required()\n    @property(Localize)\n    readonly localizer!: Localize\n\n    protected __preload(): void {\n        ComponentUtils.validateRequiredProperties(this)\n    }\n\n    public setLocalizedText(key: Key): void {\n        this.localizer.key = key\n    }\n\n    public async show(): Promise<void> {\n        await this.opacityToggler.changeStateFade(true)\n    }\n\n    public async hide(): Promise<void> {\n        await this.opacityToggler.changeStateFade(false)\n    }\n}\n\nexport default GuideTextBox\n","import { _decorator, Component, Label, Node } from 'cc'\nimport { Localize } from '../../components/text/Localize'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport GuideHand from './GuideHand'\nimport GuideItemButton from './GuideItemButton'\nimport GuideMasks from './GuideMasks'\nimport GuideTextBox from './GuideTextBox'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('GuideUI')\nexport class GuideUI extends Component {\n    @ComponentUtils.required()\n    @property(GuideHand)\n    readonly guideHand!: GuideHand\n\n    @ComponentUtils.required()\n    @property(GuideTextBox)\n    readonly guideTextBox!: GuideTextBox\n\n    @ComponentUtils.required()\n    @property(Label)\n    readonly guideInfoText!: Label\n\n    @ComponentUtils.required()\n    @property(Localize)\n    readonly guideInfoTextLocalizer!: Localize\n\n    @ComponentUtils.required()\n    @property(GuideMasks)\n    readonly guideMasks!: GuideMasks\n\n    @ComponentUtils.required()\n    @property(Node)\n    readonly guideSkipButton!: Node\n\n    @ComponentUtils.required()\n    @property(GuideItemButton)\n    readonly guideItemButton!: GuideItemButton\n\n    protected __preload(): void {\n        ComponentUtils.validateRequiredProperties(this)\n    }\n}\n","import { Component, type Node, Tween, Vec2, _decorator, tween } from 'cc'\nimport MatchUtils from '../../utils/MatchUtils'\nimport type { Gameplay } from '../Gameplay'\nimport GameplayEvents from '../constants/GameEvents'\nimport GuideKeys from '../constants/GuideKeys'\nimport ItemKeys from '../constants/ItemKeys'\nimport Guide01Newbie from '../guides/Guide01Newbie'\nimport Guide02Timer from '../guides/Guide02Timer'\nimport Guide03Combo from '../guides/Guide03Combo'\nimport Guide04Hint from '../guides/Guide04Hint'\nimport Guide05Thunder from '../guides/Guide05Thunder'\nimport Guide06Storm from '../guides/Guide06Storm'\nimport Guide07Pliers from '../guides/Guide07Pliers'\nimport { GuideUI } from '../guides/GuideUI'\n\nconst { player, analytics } = codex\nconst { ccclass, property } = _decorator\n\nconst {\n    Match: { Modes },\n    Plugins: {\n        Analytics: { Events: AnalyticsEvents } = {},\n    },\n    Utils: { Array: A },\n} = Ludex\n\nconst RANGE_HINT_GUIDE_LEVELS = new Vec2(0, 10)\nconst RANGE_ERROR_PATH_LEVELS = new Vec2(0, 10)\n\nconst HINT_GUIDE_DELAY = 5\nconst STORM_GUIDE_DELAY = 10\n\nconst STATUS = {\n    READY: 'READY',\n    RUNNING: 'RUNNING',\n}\n\ntype Status = (typeof STATUS)[keyof typeof STATUS]\n\n@ccclass('GuidelinesManager')\nclass GuidelinesManager extends Component {\n    public gameplay!: Gameplay\n\n    @property(GuideUI)\n    readonly guideUi!: GuideUI\n\n    private guide1!: Guide01Newbie\n    private guide2!: Guide02Timer\n    private guide3!: Guide03Combo\n    private guide4!: Guide04Hint\n    private guide5!: Guide05Thunder\n    private guide6!: Guide06Storm\n    private guide7!: Guide07Pliers\n\n    private status!: Status\n\n    private guideHintDelay: Tween<Node> | null = null\n    private guideStormDelay: Tween<Node> | null = null\n\n    public init(gameplay: Gameplay): void {\n        this.gameplay = gameplay\n\n        this.status = STATUS.READY\n\n        this.node.scene.on(GameplayEvents.COMBO_UPDATED, this.startComboGuide, this)\n        this.node.scene.on(GameplayEvents.TILE_CLICK, this.startAutoGuides, this)\n        this.node.scene.on(GameplayEvents.USE_ITEM, this.handleUseItem, this)\n\n        this.node.scene.on(GameplayEvents.GAME_FINISH, this.stopAutoGuides, this)\n        this.node.scene.on(GameplayEvents.GAME_REPLAY, this.stopAutoGuides, this)\n        this.node.scene.on(GameplayEvents.GAME_PAUSE, this.stopAutoGuides, this)\n    }\n\n    public show(): void {\n        if (this.isNewbieGuideLevel()) {\n            if (this.hasGuideItemShowed(GuideKeys.NEWBIE)) {\n                this.resetGuideItemShowed()\n            }\n            this.startGuide(GuideKeys.NEWBIE)\n        } else {\n            this.startGuide(GuideKeys.TIMER)\n        }\n    }\n\n    public startGuide(id: GuideKey): boolean {\n        if (this.status === STATUS.RUNNING) return false\n\n        if (this.hasGuideItemShowed(id)) return false\n\n        this.addGuideItemShowed(id)\n\n        this.status = STATUS.RUNNING\n\n        switch (id) {\n            case GuideKeys.NEWBIE:\n                AnalyticsEvents && analytics.event(AnalyticsEvents.TUTORIAL_BEGIN)\n                this.guide1 = new Guide01Newbie(this)\n                this.guide1.setup()\n                break\n            case GuideKeys.TIMER:\n                this.guide2 = new Guide02Timer(this)\n                this.guide2.setup()\n                break\n            case GuideKeys.COMBO:\n                this.guide3 = new Guide03Combo(this)\n                this.guide3.setup()\n                break\n            case GuideKeys.HINT_ITEM:\n                this.guide4 = new Guide04Hint(this)\n                this.guide4.setup()\n                break\n            case GuideKeys.THUNDER_ITEM:\n                this.guide5 = new Guide05Thunder(this)\n                this.guide5.setup()\n                break\n            case GuideKeys.STORM_ITEM:\n                this.guide6 = new Guide06Storm(this)\n                this.guide6.setup()\n                break\n            case GuideKeys.PLIERS_ITEM:\n                this.guide7 = new Guide07Pliers(this)\n                this.guide7.setup()\n                break\n            default:\n                break\n        }\n\n        return true\n    }\n\n    public completeGuide(id: GuideKey): void {\n        AnalyticsEvents && analytics.event(AnalyticsEvents.TUTORIAL_STEP, { step: id })\n\n        this.status = STATUS.READY\n        this.addGuideItemShowed(id)\n\n        if (!this.gameplay.stateManager.isPlaying()) return\n        this.startAutoGuides()\n    }\n\n    private isHintGuideLevel(): boolean {\n        const currentLevel = this.getCurrentLevel()\n        const { x: min, y: max } = RANGE_HINT_GUIDE_LEVELS\n        return currentLevel >= min && currentLevel <= max\n    }\n\n    public isShowErrorPathLevel(): boolean {\n        const currentGameMode = MatchUtils.getMatchMode()\n        if (currentGameMode === Modes.TOURNAMENT) return false\n\n        const currentLevel = this.getCurrentLevel()\n        const { x: min, y: max } = RANGE_ERROR_PATH_LEVELS\n        return currentLevel >= min && currentLevel <= max\n    }\n\n    public isNewbieGuideLevel(): boolean {\n        return this.getCurrentLevel() === 0\n    }\n\n    public hasGuideItemShowed(id: GuideKey): boolean {\n        return A.has(this.getGuideItemShowed(), id)\n    }\n\n    private addGuideItemShowed(id: GuideKey): void {\n        if (this.hasGuideItemShowed(id)) return\n\n        const guideItemShowed = this.getGuideItemShowed()\n        guideItemShowed.push(id)\n\n        player.setGameData({ guideItemShowed })\n    }\n\n    private resetGuideItemShowed(): void {\n        player.setGameData({ guideItemShowed: [] })\n    }\n\n    private getGuideItemShowed(): GuideKey[] {\n        return player.getGameData()?.guideItemShowed ?? []\n    }\n\n    private getCurrentLevel(): number {\n        return this.gameplay.levelManager.getLevelData().level\n    }\n\n    private startComboGuide(combo: number): void {\n        if (this.isNewbieGuideLevel()) return\n        if (combo < 2) return\n\n        this.startGuide(GuideKeys.COMBO)\n\n        this.node.scene.off(GameplayEvents.COMBO_UPDATED, this.startComboGuide, this)\n    }\n\n    public startAutoGuides(): void {\n        this.startHintGuide()\n        this.startStormGuide()\n    }\n\n    private stopAutoGuides(): void {\n        if (this.guideHintDelay !== null) {\n            this.guideHintDelay.stop()\n        }\n\n        if (this.guideStormDelay !== null) {\n            this.guideStormDelay.stop()\n        }\n    }\n\n    private startHintGuide(): void {\n        if (!this.isHintGuideLevel()) return\n\n        if (this.guideHintDelay === null) {\n            this.guideHintDelay = tween(this.node)\n                .delay(HINT_GUIDE_DELAY)\n                .call(() => {\n                    if (this.isNewbieGuideLevel()) return\n                    if (this.hasGuideItemShowed(GuideKeys.HINT_ITEM) && this.status === STATUS.READY) {\n                        this.node.scene.emit(GameplayEvents.SHOW_HINT)\n                    } else {\n                        this.startGuide(GuideKeys.HINT_ITEM)\n                    }\n\n                    this.startHintGuide()\n                })\n        }\n\n        this.guideHintDelay.stop()\n        this.guideHintDelay.start()\n    }\n\n    private startStormGuide(): void {\n        if (this.guideStormDelay === null) {\n            this.guideStormDelay = new Tween(this.node).delay(STORM_GUIDE_DELAY).call(() => {\n                if (this.isNewbieGuideLevel()) return\n                if (this.hasGuideItemShowed(GuideKeys.STORM_ITEM)) return\n\n                if (!this.gameplay.itemManager.canUseItem(ItemKeys.STORM)) return\n\n                if (!this.startGuide(GuideKeys.STORM_ITEM)) {\n                    this.startStormGuide()\n                }\n            })\n        }\n\n        this.guideStormDelay.stop()\n        this.guideStormDelay.start()\n    }\n\n    public startThunderGuide(): boolean {\n        if (this.isNewbieGuideLevel()) return false\n        return this.startGuide(GuideKeys.THUNDER_ITEM)\n    }\n\n    public startPliersGuide(): boolean {\n        if (this.isNewbieGuideLevel()) return false\n        return this.startGuide(GuideKeys.PLIERS_ITEM)\n    }\n\n    private handleUseItem(item: ItemKey): void {\n        this.startAutoGuides()\n\n        switch (item) {\n            case ItemKeys.HINT:\n                this.addGuideItemShowed(GuideKeys.HINT_ITEM)\n                break\n            case ItemKeys.THUNDER:\n                this.addGuideItemShowed(GuideKeys.THUNDER_ITEM)\n                break\n            case ItemKeys.STORM:\n                this.addGuideItemShowed(GuideKeys.STORM_ITEM)\n                break\n            case ItemKeys.PLIERS:\n                this.addGuideItemShowed(GuideKeys.PLIERS_ITEM)\n                break\n        }\n    }\n\n    public async skipNewbieGuide(): Promise<void> {\n        this.guideUi.guideSkipButton.active = false\n        await this.guide1.close()\n        const level = this.getCurrentLevel() + 1\n        player.setGameData({ level })\n        this.node.scene.emit(GameplayEvents.NEXT_LEVEL)\n    }\n\n    protected onDestroy(): void {\n        this.guide2?.unlistenEvents()\n        this.guide3?.unlistenEvents()\n        this.guide4?.unlistenEvents()\n        this.guide5?.unlistenEvents()\n        this.guide6?.unlistenEvents()\n        this.guide7?.unlistenEvents()\n    }\n}\n\nexport default GuidelinesManager\n","import type Board from '../board'\nimport type { PathDraw } from '../path-draw/PathDraw'\n\nconst canUseHintItem = (board: Board, pathDraw: PathDraw) => {\n    return board.getUncleared().length > 0 && pathDraw.isDrawingHint === false\n}\n\nexport default canUseHintItem\n","import type Board from '../board'\n\nconst canUsePliersItem = (board: Board) => {\n    return board.getBombTiles().length > 0\n}\n\nexport default canUsePliersItem\n","import type Board from '../board'\n\nconst canUseThunderItem = (board: Board) => {\n    return board.getUncleared().length >= 4\n}\n\nexport default canUseThunderItem\n","import type Board from '../board'\n\nconst canUseTornadoItem = (board: Board) => {\n    return board.getUncleared().length > 4\n}\n\nexport default canUseTornadoItem\n","import { Component, _decorator } from 'cc'\nimport type { Gameplay } from '../Gameplay'\nimport GameplayEvents from '../constants/GameEvents'\nimport ItemKeys from '../constants/ItemKeys'\nimport canUseHintItem from '../game-objects/item/canUseHintItem'\nimport canUsePliersItem from '../game-objects/item/canUsePliersItem'\nimport canUseThunderItem from '../game-objects/item/canUseThunderItem'\nimport canUseTornadoItem from '../game-objects/item/canUseTornadoItem'\nconst { ccclass } = _decorator\n\nconst { player } = codex\n\nexport type ItemConfig = {\n    canActivate: boolean\n    quantity: number\n    animate?: boolean\n}\n\nconst itemConfigs: Record<ItemKey, ItemConfig> = {\n    [ItemKeys.HINT]: {\n        canActivate: false,\n        quantity: 0,\n    },\n    [ItemKeys.THUNDER]: {\n        canActivate: false,\n        quantity: 0,\n    },\n    [ItemKeys.STORM]: {\n        canActivate: false,\n        quantity: 0,\n    },\n    [ItemKeys.PLIERS]: {\n        canActivate: false,\n        quantity: 0,\n    },\n}\n\n@ccclass('ItemManager')\nexport class ItemManager extends Component {\n    public itemConfigs: Record<ItemKey, ItemConfig> = itemConfigs\n\n    private game!: Gameplay\n\n    protected onLoad(): void {\n        this.node.scene.on(GameplayEvents.GRID_CREATE, this.updateItemsConfig, this)\n        this.node.scene.on(GameplayEvents.GRID_MATCH, this.updateItemsConfig, this)\n        this.node.scene.on(GameplayEvents.GRID_CLEAR, this.updateItemsConfig, this)\n        this.node.scene.on(GameplayEvents.GRID_SPAWN, this.updateItemsConfig, this)\n        this.node.scene.on(GameplayEvents.BOMB_EXPLODE, this.updateItemsConfig, this)\n        this.node.scene.on(GameplayEvents.REFRESH_ITEMS, this.updateItemsConfig, this)\n    }\n\n    public init(game: Gameplay): void {\n        this.game = game\n    }\n\n    public getQuantity(item: ItemKey): number {\n        return this.itemConfigs[item].quantity\n    }\n\n    public setQuantity(item: ItemKey, quantity: number, animate: boolean = false): void {\n        const q = Math.max(0, quantity)\n\n        this.itemConfigs[item].quantity = q\n\n        this.saveQuantity(item, quantity)\n        this.updateItemConfig(item, animate)\n    }\n\n    public saveQuantity(item: ItemKey, quantity: number): void {\n        const gameData = player.getGameData()\n        if (!gameData) return\n\n        player.setGameData({\n            items: {\n                ...gameData.items,\n                [item]: quantity,\n            },\n        })\n    }\n\n    public canUseItem(item: ItemKey) {\n        const { board, pathDraw } = this.game\n\n        switch (item) {\n            case ItemKeys.HINT:\n                return canUseHintItem(board, pathDraw)\n            case ItemKeys.PLIERS:\n                return canUsePliersItem(board)\n            case ItemKeys.STORM:\n                return canUseTornadoItem(board)\n            case ItemKeys.THUNDER:\n                return canUseThunderItem(board)\n            default:\n                return false\n        }\n    }\n\n    private updateItemsConfig(): void {\n        const gameData = player.getGameData()\n        if (!gameData || !gameData.items) return\n\n        for (const itemKey of Object.keys(this.itemConfigs)) {\n            const itemConfig = this.itemConfigs[itemKey as ItemKey]\n            itemConfig.canActivate = this.canUseItem(itemKey as ItemKey)\n            itemConfig.quantity = gameData.items[itemKey as ItemKey] || 0\n        }\n\n        this.game.uiManager.currentLayout.updateStatus({ items: this.itemConfigs })\n    }\n\n    private updateItemConfig(item: ItemKey, animate: boolean = false): void {\n        const gameData = player.getGameData()\n        if (!gameData) return\n\n        this.itemConfigs[item].canActivate = this.canUseItem(item)\n        this.itemConfigs[item].quantity = gameData.items[item] || 0\n\n        this.game.uiManager.currentLayout.updateStatus({\n            items: {\n                ...this.itemConfigs,\n                [item]: {\n                    animate,\n                    ...this.itemConfigs[item],\n                },\n            },\n            ...this.game.uiManager.config,\n        })\n    }\n}\n","import { Component, _decorator } from 'cc'\nimport CustomModeUtils from '../../utils/CustomModeUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport GameplayEvents from '../constants/GameEvents'\nimport GameModes from '../constants/GameMode'\n\nconst { ccclass } = _decorator\nconst {\n    Match: { Modes: MatchModes },\n} = Ludex\n\n@ccclass('ScoreManager')\nexport class ScoreManager extends Component {\n    private currentScore: number = 0\n\n    public addScore(level: number, combo: number, remainingTime: number): void {\n        const levelMultiplier = this.getLevelMultiplier(level)\n        const comboMultiplier = this.getComboMultiplier(combo)\n        const timeMultiplier = this.getTimeMultiplier(level, remainingTime)\n        const customBonusScoreMultiplier = this.getCustomBonusScoreMultiplier()\n\n        const newScore = Math.floor(\n            this.currentScore + 10 * levelMultiplier * comboMultiplier * timeMultiplier * customBonusScoreMultiplier,\n        )\n        const roundScore = Math.ceil(newScore / 10) * 10\n\n        this.setScore(roundScore)\n    }\n\n    public init(): void {\n        this.initCurrentScore()\n        this.updateScore()\n    }\n\n    private initCurrentScore(): void {\n        const mode = MatchUtils.getMatchMode()\n\n        if (mode === MatchModes.TOURNAMENT) {\n            this.currentScore = MatchUtils.getMatchCustomData()?.score || 0\n            return\n        }\n\n        this.currentScore = 0\n    }\n\n    private setScore(score: number): void {\n        this.currentScore = score\n        this.updateScore()\n    }\n\n    private async updateScore(): Promise<void> {\n        this.node.scene.emit(GameplayEvents.SCORE_UPDATED, this.currentScore)\n    }\n\n    public getCurrentScore(): number {\n        return this.currentScore\n    }\n\n    private getLevelMultiplier(level: number): number {\n        return 1 + (level - 1) * 0.1\n    }\n\n    private getComboMultiplier(combo: number): number {\n        return 1 + (combo - 1) * 0.1\n    }\n\n    private getTimeMultiplier(level: number, remainingTime: number): number {\n        if (level <= 2) {\n            return 1 + 60 * 0.05\n        }\n        return 1 + remainingTime * 0.05\n    }\n\n    private getCustomBonusScoreMultiplier(): number {\n        if (MatchUtils.getMatchMode() !== GameModes.CUSTOM) return 1\n\n        const customBonus = CustomModeUtils.getCustomBonus()\n        return 1 + customBonus / 100\n    }\n}\n","import type { Gameplay } from '../Gameplay'\nimport type { StateManager } from '../manager/StateManager'\n\nabstract class BaseState {\n    protected game: Gameplay | null = null\n    protected data: GameData = {}\n    protected manager: StateManager\n\n    constructor(manager: StateManager) {\n        this.game = manager.getGameplay()\n        this.manager = manager\n\n        this.updateStateData()\n\n        this.logDebug()\n    }\n\n    private logDebug(): void {\n        const stateName = this.constructor.name\n        console.debug(`[STATE] ${stateName}`, this.data)\n    }\n\n    protected updateStateData(): void {\n        if (!this.game) return\n\n        const gameData = this.game.getGameData()\n        if (!gameData) return\n\n        this.data = gameData\n        // console.info('[STATE] updateStateData', this.data)\n    }\n\n    protected updateGameData(data: GameData): void {\n        this.game?.setGameData(data)\n    }\n\n    public abstract initialize(): void\n    public abstract ready(): void\n    public abstract playing(): void\n    public abstract fail(failKey?: FailKey): void\n    public abstract finish(): void\n    public abstract update(deltaTime: number): void\n}\n\nexport default BaseState\n","import { find } from 'cc'\nimport { Vibrate } from '../../components/vibrate/Vibrate'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport { CodeSoundKeys } from '../../constants/SoundKeys'\nimport AudioUtils from '../../utils/AudioUtils'\nimport GeneralUtils from '../../utils/GeneralUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport TournamentUtils from '../../utils/TournamentUtils'\nimport FailKeys from '../constants/FailKeys'\nimport GameplayEvents from '../constants/GameEvents'\nimport GameModes from '../constants/GameMode'\nimport type { StateManager } from '../manager/StateManager'\nimport BaseState from './BaseState'\n\nconst { analytics, storage } = codex\nconst {\n    Match: { Modes },\n} = Ludex\n\nclass FailState extends BaseState {\n    constructor(manager: StateManager, failKey?: FailKey) {\n        super(manager)\n\n        AudioUtils.stopAllSounds()\n        this.vibrateDevice()\n        this.pauseCountdown()\n\n        this.updateMatchCustomData()\n        this.handleGameOver(failKey)\n\n        this.logLevelFailAnalytics()\n    }\n\n    private pauseCountdown(): void {\n        this.game?.uiManager.pauseTime()\n    }\n\n    private vibrateDevice(): void {\n        find('Vibrate')?.getComponent(Vibrate)?.vibrate(500)\n    }\n\n    private handleGameOver(failKey?: FailKey): void {\n        const mode = MatchUtils.getMatchMode()\n\n        if (mode === Modes.SINGLE || mode === GameModes.CUSTOM) {\n            this.handleSingleGameOver(failKey)\n        } else if (mode === Modes.TOURNAMENT) {\n            this.handleTournamentGameOver()\n        } else if (mode === Modes.CHALLENGE_FRIEND) {\n            this.handleChallengeGameOver()\n        } else {\n            this.handleSingleGameOver(failKey)\n        }\n    }\n\n    private async handleSingleGameOver(failKey?: FailKey): Promise<void> {\n        if (!this.game) return\n\n        const failScreenPayload = await this.openFailScreenAndWaitForClose(failKey)\n        const { customMode: openCustomGameScreen, rescue } = failScreenPayload.screenData ?? {}\n        if (!openCustomGameScreen) {\n            if (rescue) {\n                this.game.node.scene.emit(GameplayEvents.SHOW_UI)\n                this.game.node.scene.emit(GameplayEvents.RESCUE_START)\n            } else {\n                this.game.node.scene.emit(GameplayEvents.GAME_REPLAY)\n            }\n            return\n        }\n\n        const customScreenPayload = await ScreenUtils.openScreenAndWaitForClose(ScreenKeysEnum.CUSTOM_GAME_SCREEN)\n        const { customMode } = customScreenPayload.screenData ?? {}\n\n        const forceMode = customMode ? GameModes.CUSTOM : Modes.SINGLE\n\n        this.game.node.scene.emit(GameplayEvents.GAME_REPLAY, forceMode)\n    }\n\n    private async handleTournamentGameOver(): Promise<void> {\n        if (!this.game) return\n\n        const { tournamentId } = MatchUtils.getMatchCustomData() ?? {}\n        if (!tournamentId) return\n\n        const isTournamentExpired = TournamentUtils.validateTournamentExpired(tournamentId)\n\n        if (isTournamentExpired) {\n            storage.setStorageData('tournament', 'animateTournamentLeader', false)\n\n            const screenDuration = 2\n            ScreenUtils.showNotificationScreenWithLocalizedKey('error.tourEnded', screenDuration)\n\n            this.game?.scheduleOnce(() => {\n                this.game?.node.scene.emit(GameplayEvents.GAME_EXIT)\n            }, screenDuration)\n\n            return\n        }\n\n        GeneralUtils.setBlockInput(true)\n\n        try {\n            const previousScore = storage.getStorageData('tournament', 'previousScore') ?? 0\n            const currentScore = this.game.scoreManager.getCurrentScore()\n\n            const isAnimateTournament = currentScore > previousScore\n\n            if (isAnimateTournament) {\n                const { tournamentId } = MatchUtils.getMatchCustomData() ?? {}\n                if (!tournamentId) return\n\n                TournamentUtils.saveTournamentProgress(this.data.level ?? 1, currentScore, tournamentId)\n            }\n\n            storage.setStorageData('tournament', 'animateTournamentLeader', isAnimateTournament)\n\n            await MatchUtils.finishMatchAsync()\n        } catch (error) {\n            console.warn(error)\n        }\n\n        GeneralUtils.setBlockInput(false)\n\n        this.game?.node.scene.emit(GameplayEvents.GAME_EXIT)\n    }\n\n    private async handleChallengeGameOver(): Promise<void> {\n        if (!this.game) return\n\n        GeneralUtils.setBlockInput(true)\n\n        try {\n            const { challengeData } = MatchUtils.getMatchCustomData() ?? {}\n            await MatchUtils.finishMatchAsync({ extraData: { challengeData } })\n        } catch (error) {\n            console.warn(error)\n        }\n\n        GeneralUtils.setBlockInput(false)\n\n        this.game.node.scene.emit(GameplayEvents.SHOW_CHALLENGE_RESULTS)\n    }\n\n    private async openFailScreenAndWaitForClose(failKey?: FailKey): Promise<SwitchScreenPayload> {\n        const { level } = this.data\n\n        if (failKey === FailKeys.TIME) AudioUtils.playSound(CodeSoundKeys.LEVEL_FAIL_TIMEOUT)\n\n        AudioUtils.playSound(CodeSoundKeys.LEVEL_FAIL)\n\n        return ScreenUtils.openScreenAndWaitForClose(ScreenKeysEnum.RESCUES_SCREEN, {\n            level,\n            failKey,\n        })\n    }\n\n    private updateMatchCustomData(): void {\n        if (!this.game) return\n\n        const { level = 1 } = this.data\n        const score = this.game?.scoreManager.getCurrentScore()\n\n        MatchUtils.updateMatchStateAfterLevelFinish(level, score)\n    }\n\n    private logLevelFailAnalytics(): void {\n        if (!this.game) return\n\n        const { level = 0 } = this.data\n        const score = this.game.scoreManager.getCurrentScore()\n        const mode = MatchUtils.getMatchMode() || undefined\n\n        analytics?.levelFail(level, score, mode)\n    }\n\n    public initialize(): void {\n        const state = this.manager.createInitializeState(this.manager)\n        this.manager.change(state)\n    }\n\n    public ready(): void {\n        // Don't allow ready in fail state\n    }\n\n    public playing(): void {\n        const state = this.manager.createPlayingState(this.manager)\n        this.manager.change(state)\n    }\n\n    public fail(): void {\n        // This is fail state, do nothing\n    }\n\n    public finish(): void {\n        const state = this.manager.createFinishState(this.manager)\n        this.manager.change(state)\n    }\n\n    public update(): void {\n        //\n    }\n}\n\nexport default FailState\n","import { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport { CodeSoundKeys } from '../../constants/SoundKeys'\nimport AdsUtils from '../../utils/AdsUtils'\nimport AnimUtils from '../../utils/AnimUtils'\nimport AudioUtils from '../../utils/AudioUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport SceneUtils from '../../utils/SceneUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport TournamentUtils from '../../utils/TournamentUtils'\nimport GameplayEvents from '../constants/GameEvents'\nimport GameModes from '../constants/GameMode'\nimport ItemKeys from '../constants/ItemKeys'\nimport type { StateManager } from '../manager/StateManager'\nimport BaseState from './BaseState'\n\nconst { analytics, player, leaderboard } = codex\nconst {\n    Match: { Modes },\n    Utils: { Time: T },\n    Plugins: { Ads: { Types: AdTypes } = {} },\n} = Ludex\n\nconst NotifyPlayerBeforeShow = Ludex.Configs.Ads.NotifyPlayerBeforeShow\n// const SECONDS_BETWEEN_SHOW_TOURNAMENT = 300\n\nclass FinishState extends BaseState {\n    constructor(manager: StateManager) {\n        super(manager)\n\n        this.handleFinishStateFlow()\n    }\n\n    private async handleFinishStateFlow() {\n        if (!this.game) return\n\n        this.processCrazyGamesEvent()\n        this.attemptCallCreateShortcut()\n\n        this.game.uiManager.pauseTime()\n        const mode = MatchUtils.getMatchMode()\n\n        this.updatePlayerProgress()\n        this.updateMatchCustomData()\n\n        if (mode === Modes.CHALLENGE_FRIEND) {\n            this.handleFinishChallenge()\n        } else if (mode === Modes.TOURNAMENT) {\n            this.handleFinishTournament()\n        } else {\n            this.handleFinishSingle()\n        }\n\n        this.logLevelCompleteAnalytics()\n    }\n\n    private processCrazyGamesEvent(): void {\n        if ('gameplayStop' in GameSDK.extra) {\n            GameSDK.extra.gameplayStop()\n        }\n    }\n\n    private attemptCallCreateShortcut(): void {\n        const { level = 0 } = this.data\n\n        if (level < 2) return\n\n        if (AdTypes && AdsUtils.isReadyAdShowable(AdTypes.INTERSTITIAL)) return\n\n        GameSDK.extra.checkAndCreateShortcutAsync().catch((error: Error) => {\n            console.warn('createShortcutAsync', error)\n        })\n    }\n\n    private updatePlayerProgress(): void {\n        const { level } = this.data\n        const gameData = player.getGameData()\n        if (!this.game || !level || !gameData) return\n\n        const mode = MatchUtils.getMatchMode()\n\n        const currentLevel = gameData.level\n        const nextLevel = level + 1\n        const correctLevel = Math.max(currentLevel, nextLevel)\n\n        if (mode === Modes.SINGLE || mode === GameModes.CUSTOM) {\n            // ? Update level progress in single mode or custom mode\n            player.setGameData({ level: correctLevel })\n        } else if (mode === Modes.TOURNAMENT) {\n            // ? Update tournament progress in tournament mode\n            const { tournamentId } = MatchUtils.getMatchCustomData() ?? {}\n            if (!tournamentId) return\n\n            const score = this.game.scoreManager.getCurrentScore()\n            TournamentUtils.saveTournamentProgress(level, score, tournamentId)\n        }\n    }\n\n    private updateMatchCustomData(): void {\n        if (!this.game) return\n\n        const { level = 1 } = this.data\n        const score = this.game.scoreManager.getCurrentScore()\n\n        MatchUtils.updateMatchStateAfterLevelFinish(level, score)\n    }\n\n    private logLevelCompleteAnalytics(): void {\n        if (!this.game) return\n\n        const { level = 0 } = this.data\n        const score = this.game.scoreManager.getCurrentScore()\n        const mode = MatchUtils.getMatchMode() || undefined\n\n        analytics?.levelComplete(level, score, mode)\n    }\n\n    private async handleFinishChallenge(): Promise<void> {\n        if (!this.game) return\n\n        try {\n            ScreenUtils.showLoadingScreen()\n\n            const { challengeData } = MatchUtils.getMatchCustomData() ?? {}\n            await MatchUtils.finishMatchAsync({ extraData: { challengeData } })\n\n            this.game.node.scene.emit(GameplayEvents.SHOW_CHALLENGE_RESULTS)\n        } catch (error) {\n            console.warn('finish challenge error', error)\n        } finally {\n            ScreenUtils.closeLoadingScreen()\n        }\n    }\n\n    private async handleFinishTournament(): Promise<void> {\n        this.handlePostTournamentScore()\n\n        if (!this.game) return\n        const { level = 1 } = this.data\n\n        AudioUtils.playSound(CodeSoundKeys.LEVEL_COMPLETE, { volume: 0.5 })\n\n        this.game.effectManager.playConfettiEffect()\n\n        await T.sleepAsync(500)\n\n        await AdsUtils.showInterstitialAdAsync({\n            forLevel: level,\n        })\n\n        this.game.node.scene.emit(GameplayEvents.NEXT_LEVEL)\n    }\n\n    private async handlePostTournamentScore(): Promise<void> {\n        if (!this.game) return\n\n        const score = this.game?.scoreManager.getCurrentScore()\n        if (!score) return\n\n        try {\n            await GameSDK.tournament.postScoreAsync(score)\n        } catch (error) {\n            console.warn('GameSDK post score async', error)\n        }\n\n        const customData = MatchUtils.getMatchCustomData()\n        if (!customData) return\n\n        const { leaderboardId, playerId } = customData\n        if (!leaderboardId || !playerId) return\n\n        await leaderboard.setLeaderboardScoreAsync(leaderboardId, playerId, score)\n    }\n\n    private async handleFinishSingle(): Promise<void> {\n        AudioUtils.turnUpMusic()\n\n        const { level = 0 } = this.data\n        const isHardLevel = level > 0 && level % 5 === 0\n        const customModeUnlocked = level === 12\n\n        if (customModeUnlocked) {\n            await this.handleUnlockCustomMode()\n            return\n        }\n\n        if (isHardLevel) {\n            await this.handleFinishHardLevel()\n        } else {\n            await this.handleFinishNormalLevel()\n        }\n\n        this.handleNextLevelSingle()\n    }\n\n    private async handleFinishNormalLevel(): Promise<void> {\n        if (!this.game) return\n\n        const { level = 0 } = this.data\n        const { coins = 0 } = player.getGameData() ?? {}\n        const { score = 0 } = MatchUtils.getMatchCustomData() ?? {}\n\n        if (NotifyPlayerBeforeShow) {\n            await this.game.uiManager.interstitialAdIndicator.flash()\n        }\n\n        const isYandex = GameSDK.isGameSDK('Yandex')\n\n        if (!isYandex) {\n            //? Avoid showing ads after finishing the level in Yandex\n            await this.showAdsNormalLevel(0.8)\n        }\n\n        AudioUtils.playSound(CodeSoundKeys.LEVEL_COMPLETE, { volume: 0.5 })\n        await ScreenUtils.openScreenAndWaitForClose(ScreenKeysEnum.LEVEL_COMPLETE_SCREEN, {\n            level,\n            coins,\n            score,\n            overrideAnimation: {\n                openScreen: 'LevelCompleteOpenScreen',\n            },\n            lookingForRewards: false,\n        })\n\n        if (isYandex) {\n            //? Showing ads after user closes the level complete screen in Yandex\n            await this.showAdsNormalLevel()\n        }\n    }\n\n    private async showAdsNormalLevel(delay: number = 0): Promise<void> {\n        if (!this.game) return\n\n        const { level = 0 } = this.data\n        const { custom } = player.getGameData() ?? {}\n\n        if (MatchUtils.getMatchMode() === GameModes.CUSTOM && custom?.ads) {\n            this.game.node.scene.emit(GameplayEvents.HIDE_UI)\n\n            await AnimUtils.waitTweenAsync(delay)\n            await AdsUtils.showRewardedInterstitialAdAsync({ showError: false })\n        } else if (AdTypes && AdsUtils.isReadyAdShowable(AdTypes.INTERSTITIAL)) {\n            this.game.node.scene.emit(GameplayEvents.HIDE_UI)\n\n            await AnimUtils.waitTweenAsync(delay)\n            await AdsUtils.showInterstitialAdAsync({ forLevel: level })\n        }\n    }\n\n    private async handleFinishHardLevel(): Promise<void> {\n        const { level = 0 } = this.data\n        const coins = player.getGameData()?.coins ?? 0\n        const score = MatchUtils.getMatchCustomData()?.score ?? 0\n\n        AudioUtils.playSound(CodeSoundKeys.LEVEL_COMPLETE, { volume: 0.5 })\n        const { screenData: levelCompleteScreenData } = await ScreenUtils.openScreenAndWaitForClose(\n            ScreenKeysEnum.LEVEL_COMPLETE_SCREEN,\n            {\n                level,\n                coins,\n                score,\n                overrideAnimation: {\n                    openScreen: 'LevelCompleteOpenScreen',\n                },\n                lookingForRewards: true,\n            },\n        )\n        const { canShowRewardsAd = false } = levelCompleteScreenData ?? {}\n\n        if (!canShowRewardsAd) {\n            await AdsUtils.showInterstitialAdAsync({\n                forLevel: level,\n            })\n            return\n        }\n\n        const { screenData } = await ScreenUtils.openScreenAndWaitForClose(ScreenKeysEnum.GET_REWARDS_SCREEN)\n        const { getRewardsSuccess = false, rewardsAdShown = false } = screenData ?? {}\n        if (getRewardsSuccess) {\n            this.getRewardItems()\n        }\n\n        await ScreenUtils.openScreenAndWaitForClose(ScreenKeysEnum.LEVEL_COMPLETE_SCREEN, {\n            level,\n            coins,\n            score,\n            getRewardsSuccess,\n            lookingForRewards: false,\n        })\n\n        if (getRewardsSuccess || rewardsAdShown) return\n\n        await AdsUtils.showInterstitialAdAsync({\n            forLevel: level,\n        })\n    }\n\n    private async handleUnlockCustomMode(): Promise<void> {\n        if (!this.game) return\n\n        const { level = 0 } = this.data\n        const { coins = 0 } = player.getGameData() ?? {}\n        const { score = 0 } = MatchUtils.getMatchCustomData() ?? {}\n\n        AudioUtils.playSound(CodeSoundKeys.LEVEL_COMPLETE, { volume: 0.5 })\n        await ScreenUtils.openScreenAndWaitForClose(ScreenKeysEnum.LEVEL_COMPLETE_SCREEN, {\n            level,\n            coins,\n            score,\n            overrideAnimation: {\n                openScreen: 'LevelCompleteOpenScreen',\n            },\n            lookingForRewards: false,\n        })\n\n        SceneUtils.switchToDashboardScene()\n    }\n\n    private handleNextLevelSingle(): void {\n        const level = this.data.level\n        const gameData = player.getGameData()\n\n        if (!this.game || !level || !gameData) return\n\n        this.game.node.scene.emit(GameplayEvents.NEXT_LEVEL)\n    }\n\n    private getRewardItems(): void {\n        if (!this.game) return\n\n        this.game.node.scene.emit(GameplayEvents.ADD_ITEM, {\n            item: ItemKeys.STORM,\n            quantity: 1,\n        } as AddItemPayload)\n\n        this.game.node.scene.emit(GameplayEvents.ADD_ITEM, {\n            item: ItemKeys.THUNDER,\n            quantity: 1,\n        } as AddItemPayload)\n    }\n\n    public initialize(): void {\n        const state = this.manager.createInitializeState(this.manager)\n        this.manager.change(state)\n    }\n\n    public ready(): void {\n        // Don't allow ready in finish state\n    }\n\n    public playing(): void {\n        // Don't allow playing in finish state\n    }\n\n    public fail(): void {\n        // Don't allow fail in finish state\n    }\n\n    public finish(): void {\n        // This is finish state, do nothing\n    }\n\n    public update(): void {\n        //\n    }\n}\n\nexport default FinishState\n","import Ads from '../../constants/Ads'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport { CodeSoundKeys } from '../../constants/SoundKeys'\nimport AdsUtils from '../../utils/AdsUtils'\nimport AnimUtils from '../../utils/AnimUtils'\nimport AudioUtils from '../../utils/AudioUtils'\nimport GeneralUtils from '../../utils/GeneralUtils'\nimport LayoutUtils from '../../utils/LayoutUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport ThemeUtils from '../../utils/ThemeUtils'\nimport type { StateManager } from '../manager/StateManager'\nimport BaseState from './BaseState'\n\nconst { player, match } = codex\nconst {\n    Match: { Modes },\n    Plugins: { Ads: { Types: AdsTypes } = {} },\n} = Ludex\n\nclass InitializeState extends BaseState {\n    constructor(manager: StateManager) {\n        super(manager)\n\n        this.clearBoard()\n        this.initAdPreload()\n        this.initCountdown()\n        this.initScore()\n\n        this.loadLevelAndUI()\n    }\n\n    private loadLevelAndUI(): void {\n        this.setAdVisibility()\n        this.loadLevel().then(() => {\n            this.updateUI()\n        })\n    }\n\n    private clearBoard(): void {\n        if (!this.game) return\n\n        this.game.rescueTiles = []\n        this.game.board.destroyTiles()\n        this.game.board.clearAnimationQueue()\n        this.game.pathDraw.clearMatchPath()\n    }\n\n    private setAdVisibility(): void {\n        if (!AdsTypes) return\n\n        const { level } = this.data\n        if (level) {\n            const enable = level > Ads.NUM_LEVEL_WITHOUT_BANNER_ADS\n            AdsUtils.setAdEnable(AdsTypes.BANNER, enable)\n        }\n\n        AdsUtils.updateBannerAdsByLayout(LayoutUtils.getCurrentLayout())\n        AdsUtils.refreshBannerAdVisibility()\n    }\n\n    private async loadLevel(): Promise<void> {\n        if (!this.game) return\n\n        const mode = MatchUtils.getMatchMode()\n\n        try {\n            if (mode === Modes.CHALLENGE_FRIEND) {\n                const challengeData = await this.loadChallengeFriendMode()\n                AudioUtils.playSound(CodeSoundKeys.LEVEL_START)\n                this.handleChallengeFriendModeStart(challengeData)\n                return\n            }\n\n            if (mode === Modes.TOURNAMENT) {\n                await this.loadSingleMode()\n                AudioUtils.playSound(CodeSoundKeys.LEVEL_START)\n                this.handleTournamentModeStart()\n                return\n            }\n        } catch (error) {\n            console.error('Error loading level:', error)\n        }\n\n        await this.loadSingleMode()\n        AudioUtils.playSound(CodeSoundKeys.LEVEL_START)\n        this.handleSingleModeStart()\n    }\n\n    private async loadChallengeFriendMode() {\n        if (!this.game) throw new Error('Game is not initialized')\n\n        await MatchUtils.getMatchCustomDataAsync()\n\n        const challengeData = match.getMatchState().customData.challengeData\n\n        if (challengeData === undefined || challengeData === null) {\n            throw new Error('Challenge friend mode need to have data.')\n        }\n\n        const levelManager = this.game.levelManager\n        await levelManager.loadLevel(challengeData.level)\n\n        this.updateGameData({\n            level: challengeData.level,\n            levelData: levelManager.getLevelData(),\n        })\n\n        return challengeData\n    }\n\n    private async loadSingleMode() {\n        if (this.game === null) throw new Error('Game is not initialized')\n\n        const levelManager = this.game.levelManager\n        await levelManager.loadLevel(this.data.level)\n        this.updateGameData({\n            levelData: levelManager.getLevelData(),\n        })\n    }\n\n    private async handleChallengeFriendModeStart(challengeData: ChallengeData) {\n        if (!this.game) return\n\n        const levelData = this.game.levelManager.getLevelData()\n        const { level, fen, gravity, rules, time } = challengeData\n\n        const playerId = player.getPlayerId()\n\n        await Promise.all([\n            MatchUtils.setMatchCustomDataAsync({ level, score: 0 }),\n            MatchUtils.setProfileMatchDataAsync({ id: playerId, score: 0 }),\n        ])\n\n        const frames = ThemeUtils.loadLevelSpriteFrames(challengeData.level)\n\n        await this.game.board.create(frames, {\n            ...levelData,\n            level,\n            customFen: fen,\n            mode: gravity,\n            rules,\n            time,\n        })\n\n        this.game.board.setIgnoreInput(true)\n        await this.game.board.animateTilesAppear()\n        this.game.board.setIgnoreInput(false)\n\n        await frames\n\n        this.ready()\n    }\n\n    private async handleSingleModeStart() {\n        if (!this.game) return\n\n        const levelData = this.game.levelManager.getLevelData()\n        const level = this.data.level ?? 1\n        const playerId = player.getPlayerId()\n\n        await Promise.all([\n            MatchUtils.setMatchCustomDataAsync({ level, score: 0 }),\n            MatchUtils.setProfileMatchDataAsync({ id: playerId, score: 0 }),\n        ])\n\n        const frames = ThemeUtils.loadLevelSpriteFrames(level)\n        await this.game.board.create(frames, levelData)\n        this.game.board.setIgnoreInput(true)\n\n        await this.game.board.animateTilesAppear()\n\n        if (!this.game.guidelinesManager?.isNewbieGuideLevel()) {\n            this.game.board.setIgnoreInput(false)\n        }\n\n        const isHardLevel = level && level > 0 && level % 5 === 0\n\n        if (isHardLevel) {\n            //? Show hard level screen\n            if (LayoutUtils.isLandscape()) {\n                this.game.handleShowUI()\n            }\n\n            await ScreenUtils.openScreen(ScreenKeysEnum.HARD_LEVEL_SCREEN)\n            await AnimUtils.waitTweenAsync(1.3)\n            ScreenUtils.closeScreen(ScreenKeysEnum.HARD_LEVEL_SCREEN)\n\n            GeneralUtils.setBlockInput(true)\n            await this.game.board.animateTilesWave()\n            GeneralUtils.setBlockInput(false)\n        }\n\n        this.ready()\n    }\n\n    private async handleTournamentModeStart() {\n        if (!this.game) return\n\n        const levelData = this.game.levelManager.getLevelData()\n        const level = this.data.level ?? 1\n        const playerId = player.getPlayerId()\n\n        await Promise.all([\n            MatchUtils.setMatchCustomDataAsync({ level }),\n            MatchUtils.setProfileMatchDataAsync({ id: playerId }),\n        ])\n\n        const frames = ThemeUtils.loadLevelSpriteFrames(level, this.data.themeId)\n        await this.game.board.create(frames, levelData)\n        this.game.board.setIgnoreInput(true)\n\n        await this.game.board.animateTilesAppear()\n\n        if (!this.game.guidelinesManager?.isNewbieGuideLevel()) {\n            this.game.board.setIgnoreInput(false)\n        }\n\n        await frames\n\n        this.ready()\n    }\n\n    private initAdPreload(): void {\n        if (!this.game) return\n\n        this.game.isAdPreloadedForCurrentLevel = false\n    }\n\n    private initScore(): void {\n        if (!this.game) return\n\n        this.game.scoreManager.init()\n    }\n\n    private initCountdown(): void {\n        if (!this.game) return\n\n        this.game.clockManager.init()\n    }\n\n    private updateUI(): void {\n        if (!this.game) return\n        const gameData = this.game.getGameData()\n        if (!gameData) return\n\n        const { level = 0, levelData } = gameData\n        this.game.uiManager.setLevelText(level)\n\n        if (!levelData) return\n        this.game.clockManager.setTime(levelData.time)\n    }\n\n    public initialize(): void {\n        // This is initialize state, do nothing\n    }\n\n    public ready(): void {\n        const state = this.manager.createReadyState(this.manager)\n        this.manager.change(state)\n    }\n\n    public playing(): void {\n        // Don't allow play in initialize state\n    }\n\n    public fail(): void {\n        // Don't allow fail in initialize state\n    }\n\n    public finish(): void {\n        // Don't allow finish in initialize state\n    }\n\n    public update(): void {\n        //\n    }\n}\n\nexport default InitializeState\n","import AdsUtils from '../../utils/AdsUtils'\nimport ThemeUtils from '../../utils/ThemeUtils'\nimport type { StateManager } from '../manager/StateManager'\nimport BaseState from './BaseState'\n\nconst {\n    Plugins: {\n        Ads: { Types: AdsTypes } = {},\n    },\n} = Ludex\n\nclass PlayingState extends BaseState {\n    constructor(manager: StateManager) {\n        super(manager)\n\n        this.startCountdown()\n        this.preloadNextLevelSkins()\n\n        if (AdsTypes) {\n            AdsUtils.preloadAdsByType(AdsTypes.INTERSTITIAL)\n        }\n    }\n\n    private preloadNextLevelSkins(): void {\n        const level = this.data.level ?? 1\n        ThemeUtils.preloadLevelSpriteFrames(level + 1)\n    }\n\n    private startCountdown(): void {\n        if (!this.game) return\n        if (this.game.guidelinesManager?.isNewbieGuideLevel()) return\n\n        this.game.clockManager.startCountdown()\n        this.game.uiManager.startCountdown()\n    }\n\n    public initialize(): void {\n        const state = this.manager.createInitializeState(this.manager)\n        this.manager.change(state)\n    }\n\n    public ready(): void {\n        const state = this.manager.createReadyState(this.manager)\n        this.manager.change(state)\n    }\n\n    public playing(): void {\n        // This is playing state, do nothing\n    }\n\n    public fail(failKey: FailKey): void {\n        const state = this.manager.createFailState(this.manager, failKey)\n        this.manager.change(state)\n    }\n\n    public finish(): void {\n        const state = this.manager.createFinishState(this.manager)\n        this.manager.change(state)\n    }\n\n    public update(): void {\n        // TODO: check data using\n        this.updateStateData()\n    }\n}\n\nexport default PlayingState\n","import { CodeSoundKeys } from '../../constants/SoundKeys'\nimport AudioUtils from '../../utils/AudioUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport ResourceUtils from '../../utils/ResourceUtils'\nimport type { StateManager } from '../manager/StateManager'\nimport BaseState from './BaseState'\n\nconst { analytics } = codex\n\nconst {\n    Utils: { Valid: V },\n} = Ludex\n\nconst PRELOAD_SOUNDS = [\n    CodeSoundKeys.COMBO_1,\n    CodeSoundKeys.COMBO_2,\n    CodeSoundKeys.COMBO_3,\n    CodeSoundKeys.COMBO_4,\n    CodeSoundKeys.COMBO_5,\n    CodeSoundKeys.COMBO_6,\n    CodeSoundKeys.COMBO_7,\n    CodeSoundKeys.COMBO_8,\n    CodeSoundKeys.COMBO_9,\n    CodeSoundKeys.COMBO_10,\n    CodeSoundKeys.COMBO_11,\n    CodeSoundKeys.COMBO_12,\n    CodeSoundKeys.COMBO_13,\n    CodeSoundKeys.TILE_MATCH,\n    CodeSoundKeys.BOMB_DEFUSE,\n    CodeSoundKeys.BOMB_EXPLODE_1,\n    CodeSoundKeys.BOMB_EXPLODE_2,\n    CodeSoundKeys.TILE_SELECT,\n    CodeSoundKeys.THUNDERBOLT,\n    CodeSoundKeys.SHUFFLE_ITEM,\n    CodeSoundKeys.LEVEL_START,\n    CodeSoundKeys.LEVEL_COMPLETE,\n    CodeSoundKeys.LEVEL_FAIL,\n]\n\nclass ReadyState extends BaseState {\n    constructor(manager: StateManager) {\n        super(manager)\n\n        AudioUtils.stopAllSounds()\n        AudioUtils.turnDownMusic()\n\n        this.preloadAssets()\n\n        this.handleGuideFlow()\n\n        this.setGridPlayable()\n\n        this.logLevelStartAnalytics()\n    }\n\n    public initialize(): void {\n        const state = this.manager.createInitializeState(this.manager)\n        this.manager.change(state)\n    }\n\n    public ready(): void {\n        // This is ready state, do nothing\n    }\n\n    public playing(): void {\n        const state = this.manager.createPlayingState(this.manager)\n        this.manager.change(state)\n    }\n\n    public fail(_message?: string): void {\n        // ? Allow fail by dev tools\n        if (!V.isDebugger()) return\n\n        const state = this.manager.createFailState(this.manager)\n        this.manager.change(state)\n    }\n\n    public finish(): void {\n        // ? Allow complete by dev tools\n        if (!V.isDebugger()) return\n\n        const state = this.manager.createFinishState(this.manager)\n        this.manager.change(state)\n    }\n\n    public update(): void {\n        //\n    }\n\n    private preloadAssets(): void {\n        this.preloadSounds()\n\n        this.game?.effectManager.preloadEffects()\n    }\n\n    private preloadSounds(): void {\n        for (const sound of PRELOAD_SOUNDS) {\n            ResourceUtils.loadAudioAsync(sound)\n        }\n    }\n\n    private setGridPlayable(): void {\n        const gameplay = this.manager.getGameplay()\n\n        if (!gameplay.guidelinesManager?.isNewbieGuideLevel()) {\n            this.manager.getGameplay().board.setIgnoreInput(false)\n        }\n    }\n\n    private async handleGuideFlow(): Promise<void> {\n        if (!this.game) return\n\n        if (!this.game.guidelinesManager?.isNewbieGuideLevel()) {\n            await this.game.handleShowUI()\n        }\n\n        this.game.guidelinesManager?.show()\n    }\n\n    private logLevelStartAnalytics(): void {\n        if (!this.game) return\n\n        const { level = 0 } = this.data\n\n        // ? Score manager is initialized in InitializeState\n        // const score = this.game.scoreManager.getCurrentScore()\n\n        const { score = 0 } = MatchUtils.getMatchCustomData() || {}\n        const mode = MatchUtils.getMatchMode() || undefined\n\n        analytics?.levelStart(level, score, mode)\n    }\n}\n\nexport default ReadyState\n","import { Component, _decorator } from 'cc'\nimport type { Gameplay } from '../Gameplay'\nimport type BaseState from '../states/BaseState'\nimport FailState from '../states/FailState'\nimport FinishState from '../states/FinishState'\nimport InitializeState from '../states/InitializeState'\nimport PlayingState from '../states/PlayingState'\nimport ReadyState from '../states/ReadyState'\nconst { ccclass } = _decorator\n\n// ? \"isX\" methods only used for specific state checking, don't use it for other purpose. ex: check when switch state\n\n@ccclass('StateManager')\nexport class StateManager extends Component {\n    private state!: BaseState\n    private gameplay!: Gameplay\n\n    public getGameplay(): Gameplay {\n        return this.gameplay\n    }\n\n    public init(gameplay: Gameplay): void {\n        this.gameplay = gameplay\n        this.state = new InitializeState(this)\n    }\n\n    public change(state: BaseState): void {\n        this.state = state\n    }\n\n    public initialize(): void {\n        this.state.initialize()\n    }\n\n    /**\n     * @public\n     * @internal Demo state checking\n     */\n    public isInitialize(): boolean {\n        return this.state instanceof InitializeState\n    }\n\n    public ready(): void {\n        this.state.ready()\n    }\n\n    /**\n     * @public\n     * @internal Demo state checking\n     */\n    public isReady(): boolean {\n        return this.state instanceof ReadyState\n    }\n\n    public playing(): void {\n        this.state.playing()\n    }\n\n    public isPlaying(): boolean {\n        return this.state instanceof PlayingState\n    }\n\n    public fail(failKey?: FailKey): void {\n        this.state.fail(failKey)\n    }\n\n    public isFail(): boolean {\n        return this.state instanceof FailState\n    }\n\n    public finish(): void {\n        this.state.finish()\n    }\n\n    /**\n     * @public\n     * @internal Demo state checking\n     */\n    public isFinished(): boolean {\n        return this.state instanceof FinishState\n    }\n\n    public update(deltaTime: number) {\n        if (!this.state) return\n        this.state.update(deltaTime)\n    }\n\n    public createInitializeState(...args: ConstructorParameters<typeof InitializeState>): InitializeState {\n        return new InitializeState(...args)\n    }\n\n    public createReadyState(...args: ConstructorParameters<typeof ReadyState>): ReadyState {\n        return new ReadyState(...args)\n    }\n\n    public createPlayingState(...args: ConstructorParameters<typeof PlayingState>): PlayingState {\n        return new PlayingState(...args)\n    }\n\n    public createFailState(...args: ConstructorParameters<typeof FailState>): FailState {\n        return new FailState(...args)\n    }\n\n    public createFinishState(...args: ConstructorParameters<typeof FinishState>): FinishState {\n        return new FinishState(...args)\n    }\n}\n","const { leaderboard } = codex\ntype Leaderboard = Ludex.Plugins.Leaderboards.Leaderboard\n\nclass LeaderboardUtilsCore {\n    protected static inst$: LeaderboardUtilsCore\n\n    public static get inst() {\n        if (!this.inst$) {\n            this.inst$ = new this()\n        }\n\n        return this.inst$\n    }\n\n    public static async getAllLeaderboardAsync(id: string): Promise<Leaderboard | null> {\n        if (!leaderboard) return null\n\n        const leaderboardName = leaderboard.getLeaderboardName(id)\n        if (!leaderboardName) return null\n\n        const res = await leaderboard.getLeaderboardResponseAsync(id)\n        if (!res) return null\n\n        await this.requestLeaderboardAsync(leaderboardName, res.amountPlayer)\n\n        return leaderboard.getLeaderboard(leaderboardName)\n    }\n\n    public static async requestLeaderboardAsync(name: string, limit: number): Promise<void> {\n        if (this.isLeaderboardRequesting(name)) {\n            await this.waitForLeaderboardFinishAsync(name)\n            return\n        }\n\n        await leaderboard.requestLeaderboardAsync(name, limit)\n    }\n\n    public static async waitForLeaderboardFinishAsync(name: string): Promise<void> {\n        if (!this.isLeaderboardRequesting(name)) return\n\n        return new Promise((resolve) => {\n            const interval = setInterval(() => {\n                if (!this.isLeaderboardRequesting(name)) {\n                    clearInterval(interval)\n                    resolve()\n                }\n            }, 100)\n        })\n    }\n\n    public static isLeaderboardRequesting(name: string): boolean {\n        return leaderboard.getLeaderboard(name)?.isRequesting || false\n    }\n}\n\nclass LeaderboardUtils extends LeaderboardUtilsCore {\n    // * Custom logic here\n}\n\nexport default LeaderboardUtils\n","import { Component, _decorator } from 'cc'\nimport LeaderboardUtils from '../../utils/LeaderboardUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport TournamentUtils, { type TournamentData } from '../../utils/TournamentUtils'\n\nconst { ccclass } = _decorator\nconst {\n    Utils: { Object: O },\n} = Ludex\n\nconst { player, leaderboard } = codex\n\ntype Leader = {\n    score: number\n    rank: number\n}\n\ntype LeaderboardData = Ludex.Plugins.Leaderboards.Leaderboard\n\n@ccclass('TournamentManager')\nexport class TournamentManager extends Component {\n    public leaderData: Leader[] = []\n    public tournamentData: TournamentData | null = null\n    public leaderboardData: LeaderboardData | null = null\n    public leaderboardName: string | null = null\n\n    public async init(): Promise<void> {\n        await this.requestTournamentData()\n        await this.requestLeaderData()\n    }\n\n    private async requestTournamentData(): Promise<void> {\n        const { tournamentId } = MatchUtils.getMatchCustomData() ?? {}\n        if (!tournamentId) return\n\n        await TournamentUtils.requestTournamentDataAsync()\n        this.tournamentData = TournamentUtils.getTournamentDataById(tournamentId) ?? null\n    }\n\n    public async requestLeaderData(): Promise<void> {\n        const { leaderboardId } = MatchUtils.getMatchCustomData() ?? {}\n        if (!leaderboardId) return\n\n        await this.requestLeaderboardData(leaderboardId)\n        if (!this.leaderboardData) return\n\n        const playerId = player.getPlayerId()\n\n        this.leaderData = O.vals(this.leaderboardData.leaders)\n            .reduce((acc, leader) => {\n                if (leader.playerId !== playerId && leader.score > 0) {\n                    const l = {\n                        score: leader.score,\n                        rank: leader.rank,\n                    }\n                    acc.push(l)\n                }\n                return acc\n            }, [] as Leader[])\n            .sort((a, b) => a.score - b.score)\n\n        this.leaderData.forEach((leader, index) => {\n            leader.rank = this.leaderData.length - index\n        })\n    }\n\n    private async requestLeaderboardData(leaderboardId: string): Promise<void> {\n        this.leaderboardName = leaderboard.getLeaderboardName(leaderboardId)\n        this.leaderboardData = await LeaderboardUtils.getAllLeaderboardAsync(leaderboardId)\n    }\n}\n","import { Component, UIOpacity, _decorator, tween } from 'cc'\nimport { Localize } from '../../../../components/text/Localize'\nimport AnimUtils from '../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../../../utils/common/AnimAbortSignal'\n\nconst { ccclass, property } = _decorator\n\nconst LOADING_INTER_NOTIFICATION_LOCALE_KEYS = [\n    'ads.interNotice.backInSec',\n    'ads.interNotice.hangTight',\n    'ads.interNotice.quickAd',\n] as const satisfies Ludex.Plugins.Language.TextKey[]\n\nfunction getRandomInterPhrase() {\n    const index = Math.floor(Math.random() * LOADING_INTER_NOTIFICATION_LOCALE_KEYS.length)\n    return LOADING_INTER_NOTIFICATION_LOCALE_KEYS[index]\n}\n\nconst NotifyPlayerBeforeShow = Ludex.Configs.Ads.NotifyPlayerBeforeShow\n\n@ccclass('InterstitialAdIndicator')\nexport class InterstitialAdIndicator extends Component {\n    @ComponentUtils.required()\n    @property(UIOpacity)\n    protected uiOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property(Localize)\n    protected labelLocalizer!: Localize\n\n    protected signal?: AnimAbortSignal\n\n    protected __preload(): void {\n        ComponentUtils.validateRequiredProperties(this)\n    }\n\n    public async flash(): Promise<void> {\n        const localeKey = getRandomInterPhrase()\n        if (NotifyPlayerBeforeShow === false || !localeKey) return\n\n        this.signal?.abort()\n\n        const signal = new AnimAbortSignal()\n        this.signal = signal\n\n        this.labelLocalizer.key = localeKey\n\n        const flashes = tween(this.uiOpacity)\n            .to(\n                0.25,\n                {\n                    opacity: 255,\n                },\n                { easing: 'linear' },\n            )\n            .delay(0.25)\n            .to(\n                0.25,\n                {\n                    opacity: 100,\n                },\n                { easing: 'linear' },\n            )\n            .delay(0.125)\n\n        await AnimUtils.runTweenAsync(\n            tween(this.uiOpacity).repeat(2, flashes).to(0.25, { opacity: 0 }, { easing: 'linear' }),\n            signal,\n        )\n\n        this.uiOpacity.opacity = 0\n    }\n}\n","import { Component, Vec3, Widget, _decorator } from 'cc'\nimport GameplayEvents from '../../../../../gameplay/constants/GameEvents'\nimport type Board from '../../../../../gameplay/game-objects/board'\nimport CocosUtils from '../../../../../utils/CocosUtils'\nimport LayoutUtils from '../../../../../utils/LayoutUtils'\nimport MatchUtils from '../../../../../utils/MatchUtils'\nconst { ccclass } = _decorator\n\nconst { Modes } = Ludex.Match\n\nconst PORTRAIT_WIDGET_RIGHT = 22.5\nconst LANDSCAPE_WIDGET_RIGHT = 142.5\n\n@ccclass('ComboContainer')\nexport class ComboContainer extends Component {\n    private board!: Board\n    private widget!: Widget\n\n    protected __preload(): void {\n        this.widget = this.node.getComponent(Widget) as Widget\n\n        this.node.scene.on(GameplayEvents.GRID_RESIZE, this.handleViewResized, this)\n    }\n\n    public init(board: Board): void {\n        this.board = board\n    }\n\n    public updateWidget(): void {\n        if (LayoutUtils.isPortrait()) {\n            this.node.scale = new Vec3(1, 1, 1)\n            this.widget.right = PORTRAIT_WIDGET_RIGHT\n            this.widget.top = MatchUtils.getMatchMode() === Modes.TOURNAMENT ? 180 : 160\n            return\n        }\n\n        if (!this.board) return\n\n        this.node.scale = new Vec3(1.5, 1.5, 1.5)\n\n        const boardBoundingBox = this.board.getBoundingBoxWorld()\n        const topBoard = boardBoundingBox.yMax\n        const topScreen = CocosUtils.cssSizeToWorldSize(CocosUtils.getScreenHeightCss())\n\n        this.widget.right = LANDSCAPE_WIDGET_RIGHT\n        this.widget.top = (topScreen - topBoard) / 2\n    }\n\n    public updateStatus(): void {\n        this.updateWidget()\n    }\n\n    private handleViewResized(): void {\n        this.updateWidget()\n    }\n}\n","import { Component, UIOpacity, _decorator } from 'cc'\nimport { TapperedProgressBar } from '../../../../../components/tappered-progress-bar/TapperedProgressBar'\nimport GameplayEvents from '../../../../../gameplay/constants/GameEvents'\n\nconst { ccclass } = _decorator\n\nconst COMBO_DURATION = 2\n\n@ccclass('ComboProgressBar')\nexport class ComboProgressBar extends Component {\n    private progressBar!: TapperedProgressBar\n    private comboTimer!: number\n    private isActive!: boolean\n    private opacity!: UIOpacity\n\n    public start(): void {\n        this.progressBar = this.getComponent<TapperedProgressBar>(TapperedProgressBar)!\n        this.opacity = this.getComponent<UIOpacity>(UIOpacity)!\n\n        this.comboTimer = 0\n        this.isActive = false\n\n        this.node.scene.on(GameplayEvents.COMBO_UPDATED, this.handleComboUpdated, this)\n    }\n\n    public update(dt: number): void {\n        if (!this.isActive) return\n\n        if (this.comboTimer > 0) {\n            this.comboTimer -= dt\n            this.progressBar.progress = this.comboTimer / COMBO_DURATION\n        } else {\n            this.isActive = false\n            this.opacity.opacity = 0\n            this.node.scene.emit(GameplayEvents.COMBO_ENDED)\n        }\n    }\n\n    public handleComboUpdated(combo: number): void {\n        if (combo === 0) this.opacity.opacity = 0\n        else if (combo > 0) {\n            this.isActive = true\n            this.comboTimer = COMBO_DURATION\n        }\n        if (combo > 1) {\n            this.opacity.opacity = 255\n        }\n    }\n\n    public pause(): void {\n        this.isActive = false\n    }\n\n    public resume(): void {\n        this.isActive = true\n    }\n}\n","import { _decorator, Button, CCInteger, Node as CCNode, Component, Label, tween, UIOpacity, Vec3 } from 'cc'\nimport { Vibrate } from '../../../components/vibrate/Vibrate'\nimport { ScreenKeysEnum } from '../../../constants/ScreenKeys'\nimport type { StatusConfig } from '../../../scenes/game-scene/components/ui/GameSceneLayout'\nimport AnimUtils from '../../../utils/AnimUtils'\nimport ComponentUtils from '../../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../../utils/common/AnimAbortSignal'\nimport ScreenUtils from '../../../utils/ScreenUtils'\nimport GameplayEvents from '../../constants/GameEvents'\nimport ItemKeys from '../../constants/ItemKeys'\n\nconst { ccclass, property } = _decorator\n\nconst RequestItemLocalizedKeys = {\n    [ItemKeys.HINT]: 'item.hintDesc',\n    [ItemKeys.PLIERS]: 'item.pliersDesc',\n    [ItemKeys.STORM]: 'item.stormDesc',\n    [ItemKeys.THUNDER]: 'item.thunderDesc',\n} as const satisfies Record<ItemKey, Ludex.Plugins.Language.TextKey>\n\n@ccclass('SpecialItem')\nexport class SpecialItem extends Component {\n    @property({\n        editorOnly: true,\n        tooltip: 'A debug button has infinite quantity',\n    })\n    protected isDevButton = false\n\n    @ComponentUtils.required()\n    @property({ type: Button, tooltip: 'The button that activates the item' })\n    readonly button!: Button\n\n    @property({\n        type: CCInteger,\n        group: 'Quantity',\n        tooltip: 'The starting quantity of the item',\n        displayName: 'Quantity',\n    })\n    private quantity: number = 0\n\n    @ComponentUtils.required()\n    @property({\n        type: Label,\n        group: 'Quantity',\n        tooltip: 'The label that shows the quantity',\n        displayName: 'Label',\n    })\n    protected quantityLabel!: Label\n\n    @ComponentUtils.required()\n    @property({\n        type: CCNode,\n        group: 'Quantity',\n        tooltip: 'The node that shows the quantity of the item',\n        displayName: 'Quantity node',\n    })\n    protected quantityNode!: CCNode\n\n    @ComponentUtils.required()\n    @property({\n        type: CCNode,\n        group: 'Quantity',\n        tooltip: 'The node that shows the plus icon when there is no item',\n        displayName: 'Plus node',\n    })\n    protected plusNode!: CCNode\n\n    @ComponentUtils.required()\n    @property({\n        type: UIOpacity,\n        group: 'Animation',\n    })\n    readonly glowUIOpacity!: UIOpacity\n\n    public get itemType(): ItemKey | undefined {\n        return undefined\n    }\n\n    @ComponentUtils.required()\n    @property({\n        type: UIOpacity,\n        tooltip: 'The opacity component of the button',\n        displayName: 'Button UI Opacity',\n    })\n    readonly uiOpacity!: UIOpacity\n\n    private signal?: AnimAbortSignal\n\n    private vibrateComp: Vibrate | null = null\n\n    protected onLoad(): void {\n        ComponentUtils.validateRequiredProperties(this, SpecialItem)\n    }\n\n    public updateStatus(config: StatusConfig): void {\n        if (this.itemType === undefined) return\n\n        const itemConfig = config.items?.[this.itemType]\n        if (!itemConfig) return\n\n        this.setActiveStatus(itemConfig.canActivate)\n        this.setQuantity(itemConfig.quantity, itemConfig.animate)\n    }\n\n    private setActiveStatus(isActive: boolean): void {\n        this.signal?.abort()\n        const signal = new AnimAbortSignal()\n        this.signal = signal\n\n        this.button.interactable = isActive\n        AnimUtils.runTweenAsync(tween(this.uiOpacity).to(0.2, { opacity: isActive ? 255 : 128 }), signal)\n    }\n\n    public async activate(): Promise<void> {\n        if (this.quantity <= 0) {\n            this.requestItem()\n            return\n        }\n\n        this.vibrate()\n        this.node.scene.emit(GameplayEvents.USE_ITEM, this.itemType)\n    }\n\n    public setQuantity(quantity: number, animate = false): void {\n        let q = quantity\n        if (this.isDevButton) {\n            this.quantityLabel.string = 'i'\n            this.quantityNode.active = true\n            this.plusNode.active = false\n\n            return\n        }\n\n        q = Math.max(0, q)\n\n        this.quantity = q\n        this.quantityLabel.string = `${this.quantity}`\n\n        if (q <= 0) {\n            this.quantityNode.active = false\n            this.plusNode.active = true\n        } else {\n            this.quantityNode.active = true\n            this.plusNode.active = false\n        }\n\n        if (animate) {\n            this.animateAddItem()\n        }\n    }\n\n    public requestItem(): void {\n        if (this.itemType === undefined) {\n            console.warn('Item type is not defined')\n            return\n        }\n\n        ScreenUtils.openScreen(ScreenKeysEnum.GET_ITEM_SCREEN, {\n            item: this.itemType,\n            localizedMessageKey: RequestItemLocalizedKeys[this.itemType],\n            quantity: 1,\n        } as GetItemScreenData)\n    }\n\n    private vibrate(): void {\n        this.vibrateComp = this.vibrateComp ?? this.node.getComponent(Vibrate)\n        this.vibrateComp?.vibrate(50)\n    }\n\n    protected async animateAddItem() {\n        this.glowUIOpacity.opacity = 0\n\n        return Promise.all([\n            AnimUtils.runTweenAsync(\n                tween(this.node)\n                    .to(0.1, { scale: new Vec3(1.15, 1.15, 1.15) }, { easing: 'cubicOut' })\n                    .delay(0.2)\n                    .to(0.7, { scale: Vec3.ONE }, { easing: 'elasticOut' }),\n            ),\n            AnimUtils.runTweenAsync(\n                tween(this.glowUIOpacity).to(0.1, { opacity: 100 }).delay(0.2).to(0.6, { opacity: 0 }),\n            ),\n        ])\n    }\n}\n","import { Component, Label, Node, Vec3, _decorator, tween } from 'cc'\nimport GameplayEvents from 'db://assets/gameplay/constants/GameEvents'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport type { StatusConfig } from '../GameSceneLayout'\n\nconst { ccclass, disallowMultiple, property } = _decorator\n@ccclass('Clock')\n@disallowMultiple\nexport class Clock extends Component {\n    @property(Node)\n    public clockIcon!: Node\n\n    @property(Label)\n    private timeLabel!: Label\n\n    public __preload(): void {\n        this.node.scene.on(GameplayEvents.TIME_UPDATED, this.updateTimeLabel, this)\n        this.node.scene.on(GameplayEvents.RESCUE_START, this.handleRescueStart, this)\n        this.node.scene.on(GameplayEvents.RESCUE_FINISHED, this.handleRescueFinished, this)\n    }\n\n    public updateStatus(config: StatusConfig): void {\n        if (config.time !== undefined) this.updateTimeLabel(config.time)\n    }\n\n    private updateTimeLabel(time: number) {\n        const timeText = this.convertSecondsToMmSs(time)\n\n        this.timeLabel.string = timeText\n    }\n\n    private convertSecondsToMmSs(seconds: number): string {\n        const minutes: number = Math.floor(seconds / 60)\n        const remainingSeconds: number = Math.floor(seconds % 60)\n\n        const formattedMinutes: string = this.padZero(minutes)\n        const formattedSeconds: string = this.padZero(remainingSeconds)\n\n        return `${formattedMinutes}:${formattedSeconds}`\n    }\n\n    private padZero(number: number): string {\n        return number < 10 ? `0${number}` : `${number}`\n    }\n\n    private async handleRescueStart(): Promise<void> {\n        const scaleUpTween = tween(this.node).to(0.5, { scale: new Vec3(1.1, 1.1, 1) })\n        const clockIconTween = tween(this.clockIcon)\n            .to(0.15, { angle: -15 }, { easing: 'cubicOut' })\n            .to(0.15, { angle: 0 }, { easing: 'cubicIn' })\n            .to(0.15, { angle: 15 }, { easing: 'cubicOut' })\n            .to(0.15, { angle: 0 }, { easing: 'cubicIn' })\n        const clockIconTweenLoop = tween(this.clockIcon).repeat(5, clockIconTween)\n\n        AnimUtils.runTweenAsync(clockIconTweenLoop)\n        AnimUtils.runTweenAsync(scaleUpTween)\n    }\n\n    private async handleRescueFinished(): Promise<void> {\n        const scaleDownTween = tween(this.node).to(0.5, { scale: new Vec3(1, 1, 1) })\n        AnimUtils.runTweenAsync(scaleDownTween)\n    }\n}\n","import { ResolutionPolicy, view } from 'cc'\nimport GameWorld from '../constants/GameWorld'\nimport CocosUtils from './CocosUtils'\nimport LayoutUtils from './LayoutUtils'\n\nconst { player, analytics } = codex\n\nconst {\n    Plugins: { Analytics: { Events } = {} },\n} = Ludex\n\ntype OverlayView = FBInstant.OverlayView\n\nclass OverlayUtilsCore {\n    protected static inst$: OverlayUtilsCore\n\n    public static get inst() {\n        if (!this.inst$) {\n            this.inst$ = new this()\n        }\n        return this.inst$\n    }\n\n    public static async shareBestScoreWithOverlay(): Promise<void> {\n        try {\n            const { data } = player.getPlayer()\n            const { score: playerScore } = data || {}\n\n            this.isOverlayViewAPIAvailable(GameSDK)\n\n            await GameSDK.extra.shareAsync({\n                text: 'Great! I have a best score!',\n                intent: 'SHARE',\n                imageOverlayPath: 'wideframes/share-async.xml',\n                pathToCSS: 'wideframes/share-async-styles.css',\n                initialData: { score: playerScore ?? 0 },\n                shareDestination: ['NEWSFEED', 'GROUP', 'COPY_LINK', 'MESSENGER'],\n                switchContext: false,\n            })\n\n            if (Events) {\n                analytics.event(Events.SHARE, {\n                    share_content_type: 'BestScore',\n                    success: true,\n                })\n            }\n        } catch (error) {\n            if (Events) {\n                analytics.event(Events.SHARE, {\n                    share_content_type: 'BestScore',\n                    success: false,\n                })\n            }\n\n            console.error('Overlay sharing failed:', error)\n        }\n    }\n\n    public static async inviteFriendsWithOverlay(): Promise<void> {\n        try {\n            const { data } = player.getPlayer()\n            const { score: playerScore } = data || {}\n\n            this.isOverlayViewAPIAvailable(GameSDK)\n\n            await GameSDK.extra.inviteAsync({\n                initialData: { score: playerScore ?? 0 },\n                text: {\n                    default: 'Great! I have a best score!',\n                    localizations: {\n                        vi_VN: 'Tht tuyt! Mnh va ph k lc ny!',\n                    },\n                },\n                imageOverlayPath: 'wideframes/invite-async.xml',\n                pathToCSS: 'wideframes/invite-async-styles.css',\n            })\n\n            if (Events) {\n                analytics.event(Events.INVITE, {\n                    invite_content_type: 'BestScore',\n                    success: true,\n                })\n            }\n        } catch (error) {\n            if (Events) {\n                analytics.event(Events.INVITE, {\n                    invite_content_type: 'BestScore',\n                    success: false,\n                })\n            }\n\n            console.error('Overlay inviting failed:', error)\n        }\n    }\n\n    public static isOverlayViewAPIAvailable(\n        gameSDK: GameSDKAdapter,\n    ): asserts gameSDK is FBInstantNEZPAdapter | FBInstantRestrictedAdapter {\n        if (!gameSDK.isGameSDK('FacebookInstant')) {\n            throw new Error('GameSDK is not FacebookInstant')\n        }\n\n        if (!gameSDK.extra.isNEZP() || gameSDK.extra.isRestricted()) {\n            throw new Error('GameSDK is not NEZP or Restricted')\n        }\n\n        if (!('overlayViews' in gameSDK)) {\n            throw new Error('GameSDK does not have overlayViews')\n        }\n    }\n\n    public static async createOverlayViewAsync(\n        pathToXML: string,\n        domElement: HTMLElement,\n        iframeStyle: string,\n        pathToCSS: string,\n        initialData: Record<string, unknown>,\n    ): Promise<OverlayView> {\n        this.isOverlayViewAPIAvailable(GameSDK)\n\n        const overlay = await GameSDK.overlayViews.createOverlayViewAsync(\n            pathToXML,\n            domElement,\n            iframeStyle,\n            pathToCSS,\n            initialData,\n        )\n\n        return overlay\n    }\n\n    public static getGameScaleFactor(): number {\n        const { Portrait, Landscape } = GameWorld.DesignSize\n\n        const screenWidth = CocosUtils.getScreenWidthCss()\n        const screenHeight = CocosUtils.getScreenHeightCss()\n\n        const isPrimaryLayoutLandscape = LayoutUtils.isLandscape()\n        const designWidth = isPrimaryLayoutLandscape ? Landscape.WIDTH : Portrait.WIDTH\n        const designHeight = isPrimaryLayoutLandscape ? Landscape.HEIGHT : Portrait.HEIGHT\n\n        const scaleX = screenWidth / designWidth\n        const scaleY = screenHeight / designHeight\n\n        const viewResolutionPolicy = this.getViewResolutionPolicy()\n\n        switch (viewResolutionPolicy.getContentStrategy()) {\n            case ResolutionPolicy.ContentStrategy.FIXED_WIDTH:\n                return scaleX\n            case ResolutionPolicy.ContentStrategy.FIXED_HEIGHT:\n                return scaleY\n            default:\n                return Math.max(scaleX, scaleY)\n        }\n    }\n\n    protected static getViewResolutionPolicy(): ResolutionPolicy {\n        const resolutionPolicy = view.getResolutionPolicy()\n\n        return resolutionPolicy\n    }\n}\n\nclass OverlayUtils extends OverlayUtilsCore {\n    // * Custom logic here\n}\n\nexport default OverlayUtils\n","import OverlayUtils from 'db://assets/utils/OverlayUtils'\nimport { Scene } from 'cc'\nimport LayoutUtils from '../../utils/LayoutUtils'\n\ntype OverlayView = FBInstant.OverlayView\n\nconst {\n    Utils: { Time: T, Object: O },\n} = Ludex\n\ntype AvatarPayload = {\n    playerId: string\n    worldX: number\n    worldY: number\n    avatarWidth?: number\n    customCss?: string\n}\n\nconst DEFAULT_AVATAR_WIDTH = 55\n//? Make the div bigger than the avatar to avoid scrollbar\nconst DIV_SCALE_FACTOR = 1.2\nconst LANDSCAPE_SCALE_FACTOR = 2\n\nconst DEFAULT_XML_PATH = 'overlays/avatar/avatar-overlay.xml'\nconst DEFAULT_CSS_PATH = 'overlays/avatar/avatar-overlay-styles.css'\n\nclass PlayerAvatarOverlay {\n    private mainDiv$!: HTMLDivElement\n    private overlayView: OverlayView | undefined\n    public scene!: Scene\n\n    private currentPlayerId: string | undefined\n\n    constructor(scene: Scene) {\n        this.scene = scene\n        this.createMainDiv$()\n    }\n\n    private createMainDiv$ = (): void => {\n        this.mainDiv$ = document.createElement('div')\n\n        O.assign(this.mainDiv$.style, {\n            position: 'absolute',\n            transform: 'translate(-50%, -50%)',\n            scrollbarWidth: 'none',\n            alignItems: 'center',\n            overflow: 'hidden',\n            backgroundColor: 'transparent',\n            opacity: '0',\n            transition: 'opacity 0.3s ease-in-out',\n            pointerEvents: 'none',\n            display: 'none',\n        })\n\n        this.updateContainerWidth$(DEFAULT_AVATAR_WIDTH)\n        document.body.appendChild(this.mainDiv$)\n    }\n\n    public moveOverlayTo(worldX: number, worldY: number): void {\n        const scaleFactor = OverlayUtils.getGameScaleFactor()\n        Object.assign(this.mainDiv$.style, {\n            top: `calc(100vh - ${worldY * scaleFactor}px)`,\n            left: `calc(${worldX * scaleFactor}px)`,\n        })\n    }\n\n    public async updateOverlay(payload: AvatarPayload): Promise<boolean> {\n        try {\n            const {\n                playerId,\n                worldX,\n                worldY,\n                avatarWidth = DEFAULT_AVATAR_WIDTH,\n                customCss = DEFAULT_CSS_PATH,\n            } = payload\n\n            if (!this.isPlayerIdValid$(playerId)) return false\n\n            this.updateContainerWidth$(avatarWidth)\n            this.moveOverlayTo(worldX, worldY)\n\n            if (this.currentPlayerId === playerId) {\n                await this.showOverlay$()\n                return true\n            }\n\n            this.overlayView = await OverlayUtils.createOverlayViewAsync(\n                DEFAULT_XML_PATH,\n                this.mainDiv$,\n                this.getIframeCss$(),\n                customCss,\n                {\n                    playerId: playerId,\n                },\n            )\n\n            this.currentPlayerId = playerId\n            await this.showOverlay$()\n        } catch (error) {\n            console.error('Error creating overlay view:', error)\n            return false\n        }\n\n        return true\n    }\n\n    private isPlayerIdValid$ = (playerId: string): boolean => {\n        const validateRegEx = /^\\d+$/\n\n        return validateRegEx.test(playerId)\n    }\n\n    private showOverlay$ = async (): Promise<void> => {\n        if (!this.overlayView) return\n\n        O.assign(this.mainDiv$.style, {\n            opacity: '0',\n            display: 'none',\n            pointerEvents: 'none',\n        })\n\n        await this.overlayView.showAsync()\n\n        // Use the fadeIn utility method for smooth transition\n        await this.fadeIn()\n    }\n\n    public async hideOverlay(): Promise<void> {\n        if (!this.overlayView) return\n\n        // Start fade-out effect\n        O.assign(this.mainDiv$.style, {\n            opacity: '0',\n            pointerEvents: 'none',\n        })\n\n        try {\n            // ? Wait for fade-out transition to complete before hiding\n            await T.sleepAsync(300)\n            this.mainDiv$.style.display = 'none'\n            await this.overlayView.dismissAsync()\n        } catch (error) {\n            console.error('Hide overlay failed:', error)\n        }\n    }\n\n    /**\n     * Utility method to fade in the main div with custom duration and easing\n     */\n    public async fadeIn(duration: number = 300, easing: string = 'ease-in-out'): Promise<void> {\n        O.assign(this.mainDiv$.style, {\n            transition: `opacity ${duration}ms ${easing}`,\n            display: 'block',\n        })\n\n        requestAnimationFrame(() => {\n            O.assign(this.mainDiv$.style, {\n                opacity: '1',\n                pointerEvents: 'auto',\n            })\n        })\n\n        await T.sleepAsync(duration)\n    }\n\n    /**\n     * Utility method to fade out the main div with custom duration and easing\n     */\n    public async fadeOut(duration: number = 300, easing: string = 'ease-in-out'): Promise<void> {\n        O.assign(this.mainDiv$.style, {\n            transition: `opacity ${duration}ms ${easing}`,\n            opacity: '0',\n            pointerEvents: 'none',\n        })\n\n        await T.sleepAsync(duration)\n        this.mainDiv$.style.display = 'none'\n    }\n\n    private updateContainerWidth$ = (avatarWidth: number): void => {\n        const finalScaleFactor = LayoutUtils.isLandscape()\n            ? LANDSCAPE_SCALE_FACTOR * DIV_SCALE_FACTOR\n            : DIV_SCALE_FACTOR\n        const size = `${avatarWidth * finalScaleFactor * OverlayUtils.getGameScaleFactor()}px`\n\n        O.assign(this.mainDiv$.style, {\n            width: size,\n            height: size,\n        })\n    }\n\n    private getIframeCss$ = (): string => {\n        const widthString = 'width: 100%;'\n        const heightString = 'height: 100%;'\n        const overflowString = 'overflow: hidden;'\n        const backgroundColorString = 'background-color: transparent;'\n        const borderWidthString = 'border-width: 0px;'\n        const alignItemsString = 'align-items: center;'\n\n        return `${widthString} ${heightString} ${overflowString} ${backgroundColorString} ${borderWidthString} ${alignItemsString}`\n    }\n}\n\nexport default PlayerAvatarOverlay\n","import { SpriteFrame } from 'cc'\nimport type AnimAbortSignal from './common/AnimAbortSignal'\n\nconst {\n    Utils: { Image: I },\n} = Ludex\n\nconst { frameCapture } = codex\n\ntype Signal = Ludex.Utils.Signal.Signal\n\nclass CacheUtilsCore {\n    protected static inst$: CacheUtilsCore\n\n    public static get inst() {\n        if (!this.inst$) {\n            this.inst$ = new this()\n        }\n\n        return this.inst$\n    }\n\n    protected static playerAvatarCache$: Map<string, SpriteFrame> = new Map()\n\n    public static async getPlayerAvatar(\n        url: string,\n        playerId: string,\n        size: number,\n        signal?: AnimAbortSignal | Signal,\n    ): Promise<SpriteFrame | undefined> {\n        let avatar = this.playerAvatarCache$.get(`${playerId}:${size}`)\n        if (!avatar) {\n            avatar = await this.loadPlayerAvatar(url, playerId, size, signal)\n        }\n        return avatar\n    }\n\n    public static async loadPlayerAvatar(\n        url: string,\n        playerId: string,\n        size: number,\n        signal?: AnimAbortSignal | Signal,\n    ): Promise<SpriteFrame | undefined> {\n        const image = await this.loadImage(url, size, size, `${playerId}:${size}`)\n        if (signal?.aborted || !image) return\n\n        const spriteFrame = SpriteFrame.createWithImage(image)\n        this.playerAvatarCache$.set(`${playerId}:${size}`, spriteFrame)\n\n        return spriteFrame\n    }\n\n    public static isAvatarCached(playerId: string, size: number): boolean {\n        return this.playerAvatarCache$.has(`${playerId}:${size}`)\n    }\n\n    protected static async loadImage(\n        url: string,\n        width: number,\n        height: number,\n        id: string,\n    ): Promise<HTMLImageElement | null> {\n        try {\n            const data = await frameCapture.captureAsync({\n                width,\n                height,\n                name: 'LeaderAvatar',\n                renderOptions: {\n                    [id]: {\n                        name: id,\n                        type: 'image',\n                        depth: 0,\n                        position: [0, 0],\n                        size: [width, height],\n                        image: url,\n                    },\n                },\n            })\n            if (!data) return null\n\n            return await I.loadImage(data)\n        } catch {\n            return null\n        }\n    }\n}\n\nclass CacheUtils extends CacheUtilsCore {\n    // * Custom logic here\n}\n\nexport default CacheUtils\n","import PlayerAvatarOverlay from 'db://assets/scenes/common/PlayerAvatarOverlay'\nimport OverlayUtils from 'db://assets/utils/OverlayUtils'\nimport { _decorator, Component, Label, Node, Sprite, tween, UIOpacity, UITransform } from 'cc'\nimport { ParticleSystem } from '../../../../../../particles/ParticleSystem'\nimport AnimUtils from '../../../../../../utils/AnimUtils'\nimport CacheUtils from '../../../../../../utils/CacheUtils'\n\nconst { ccclass, property } = _decorator\n\nexport interface LeaderRailPayload {\n    score?: number\n    rank?: number\n}\n\ntype Signal = Ludex.Utils.Signal.Signal\n\nconst TOURNAMENT_RAIL_OVERLAY_CSS = 'overlays/avatar/tournament-rail-overlay-styles.css'\n\n@ccclass('LeaderRail')\nexport class LeaderRail extends Component {\n    @property(Label)\n    private scoreLabel!: Label\n\n    @property(Node)\n    private crown!: Node\n\n    @property(Sprite)\n    private avatar!: Sprite\n\n    @property(ParticleSystem)\n    private spark!: ParticleSystem\n\n    private defaultAvatar!: SpriteFrame\n\n    private uiOpacity!: UIOpacity\n\n    private score: number = 0\n\n    private isOverlayMode: boolean = false\n    private playerAvatarOverlay: PlayerAvatarOverlay | null = null\n\n    protected __preload(): void {\n        this.defaultAvatar = this.avatar.spriteFrame!\n        this.uiOpacity = this.getComponent(UIOpacity)!\n    }\n\n    public onLoad(): void {\n        this.createAvatarOverlay$()\n    }\n\n    public onDisable(): void {\n        this.cleanupOverlay()\n    }\n\n    public async updateScore(score: number, signal: Signal, immediately: boolean = false): Promise<void> {\n        const addScore = score - this.score\n        const duration = immediately ? 0 : 0.5\n\n        const scoreTween = tween(this.node).to(\n            duration,\n            {},\n            {\n                onUpdate: (_, ratio) => {\n                    if (!ratio) return\n                    const value = Math.floor(addScore * ratio) + this.score\n                    this.scoreLabel.string = value.toString()\n                },\n            },\n        )\n\n        await AnimUtils.runTweenAsync(scoreTween, signal)\n        this.score = score\n        this.scoreLabel.string = score.toString()\n    }\n\n    public async updatePhoto(): Promise<void> {\n        const id = GameSDK.player.getID()\n        if (!id) return\n\n        if (this.isOverlayMode) {\n            const result = await this.showAvatarOverlay$(id)\n            if (result) return\n\n            this.isOverlayMode = false\n        }\n\n        const url = GameSDK.player.getPhoto()\n        if (!url) return\n\n        const frame = await CacheUtils.getPlayerAvatar(url, id, 50)\n        if (!frame) {\n            this.avatar.spriteFrame = this.defaultAvatar\n            return\n        }\n\n        frame.packable = true\n        this.avatar.spriteFrame = frame\n    }\n\n    public setCrown(active: boolean): void {\n        this.crown.active = active\n    }\n\n    public setOpacity(value: number): void {\n        this.uiOpacity.opacity = value\n    }\n\n    public playSparkParticle(): void {\n        this.spark.play()\n    }\n\n    public stopSparkParticle(): void {\n        this.spark.stop()\n    }\n\n    private showAvatarOverlay$ = async (playerId: string): Promise<boolean> => {\n        const { worldX, worldY } = this.getAvatarPosition$()\n        const result = await this.playerAvatarOverlay?.updateOverlay({\n            playerId,\n            worldX,\n            worldY,\n            avatarWidth: this.getAvatarWidth$(),\n            customCss: TOURNAMENT_RAIL_OVERLAY_CSS,\n        })\n\n        return result ?? false\n    }\n\n    private getAvatarWidth$ = (): number => {\n        const uiTransform = this.avatar.node.getComponent(UITransform)\n        if (!uiTransform) return 0\n        const { width } = uiTransform\n        return width\n    }\n\n    private getAvatarPosition$ = (): { worldX: number; worldY: number } => {\n        const { worldPositionX, worldPositionY } = this.avatar.node\n        return { worldX: worldPositionX, worldY: worldPositionY }\n    }\n\n    private createAvatarOverlay$ = (): void => {\n        try {\n            OverlayUtils.isOverlayViewAPIAvailable(GameSDK)\n\n            this.isOverlayMode = true\n            this.playerAvatarOverlay = new PlayerAvatarOverlay(this.node.scene)\n        } catch {\n            return\n        }\n    }\n\n    public cleanupOverlay(): void {\n        this.playerAvatarOverlay?.hideOverlay()\n    }\n\n    public update(_dt: number): void {\n        this.handleAvatarPositionChanged$()\n    }\n\n    private handleAvatarPositionChanged$ = (): void => {\n        if (!this.isOverlayMode) return\n\n        const { worldX, worldY } = this.getAvatarPosition$()\n        this.playerAvatarOverlay?.moveOverlayTo(worldX, worldY)\n    }\n}\n","import { Component, ProgressBar, Vec3, _decorator, tween, type TweenEasing } from 'cc'\nimport AnimUtils from '../../../../../../utils/AnimUtils'\nimport { LeaderRail } from './LeaderRail'\nconst { ccclass, property } = _decorator\n\nconst TOTAL_LENGTH = 474\n\ntype Signal = Ludex.Utils.Signal.Signal\n\n@ccclass('TournamentProgressBar')\nexport class TournamentProgressBar extends Component {\n    @property(LeaderRail)\n    private playerLeader!: LeaderRail\n\n    private progressBar!: ProgressBar\n\n    protected __preload(): void {\n        this.progressBar = this.getComponent(ProgressBar)!\n    }\n\n    public async updateProgress(\n        progress: number,\n        signal: Signal,\n        duration: number = 0.5,\n        easing: TweenEasing = 'cubicOut',\n    ): Promise<void> {\n        const progressTween = tween(this.progressBar).to(duration, { progress }, { easing, onUpdate: this.onUpdate })\n\n        await AnimUtils.runTweenAsync(progressTween, signal)\n    }\n\n    public getProgress(): number {\n        return this.progressBar.progress\n    }\n\n    private onUpdate = () => {\n        if (!this.playerLeader || !this.playerLeader.node) return\n\n        this.playerLeader.node.position = new Vec3(this.progressBar.progress * TOTAL_LENGTH - TOTAL_LENGTH / 2, 0, 0)\n    }\n}\n","import { _decorator, Component, Node, tween, UIOpacity, Vec3 } from 'cc'\nimport { Localize } from '../../../../../../components/text/Localize'\nimport AnimUtils from '../../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../../utils/ComponentUtils'\nimport MatchUtils from '../../../../../../utils/MatchUtils'\nimport type { StatusConfig } from '../../GameSceneLayout'\nimport { LeaderRail } from './LeaderRail'\nimport { TournamentProgressBar } from './TournamentProgressBar'\n\nconst { ccclass, property } = _decorator\n\nconst {\n    Utils: { Array: A, Signal: S, Valid: V },\n    Match: { Modes },\n} = Ludex\n\ntype Leader = {\n    rank: number\n    score: number\n}\n\ntype Signal = Ludex.Utils.Signal.Signal\n\n@ccclass('TournamentRail')\nexport class TournamentRail extends Component {\n    @property(TournamentProgressBar)\n    private progressBar!: TournamentProgressBar\n\n    @property(LeaderRail)\n    private playerLeader!: LeaderRail\n\n    @property(Node)\n    private flag!: Node\n\n    @property(Node)\n    private sword!: Node\n\n    @property(Localize)\n    private currentRankLocalizer!: Localize\n\n    @property(Localize)\n    private nextRankLocalizer!: Localize\n\n    @property(Node)\n    private devTools!: Node\n\n    @property(UIOpacity)\n    private readonly challengerJoinedUiOpacity!: UIOpacity\n    private challengerJoinedY: number = 0\n\n    private leaderData: Leader[] = []\n\n    private uiOpacity!: UIOpacity\n\n    private nextLeaderIndex: number = 0\n\n    private score: number = 0\n\n    private minScore: number = 0\n\n    private maxScore: number = 0\n\n    private signal = new S.SignalController()\n\n    protected __preload() {\n        this.uiOpacity = this.getComponent(UIOpacity)!\n        this.playerLeader.updatePhoto()\n        this.devTools.active = V.isDebugger()\n        this.challengerJoinedY = this.challengerJoinedUiOpacity.node.position.y\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async updateStatus(config: StatusConfig): Promise<void> {\n        if (MatchUtils.getMatchMode() !== Modes.TOURNAMENT) {\n            this.uiOpacity.opacity = 0\n            this.playerLeader.cleanupOverlay()\n            return\n        }\n\n        this.uiOpacity.opacity = 255\n        this.playerLeader.updatePhoto()\n\n        const { leaderData, score } = config\n        if (!leaderData || score === undefined) return\n\n        const signal = this.signal.renew()\n\n        this.score = score\n        this.nextLeaderIndex = this.getScoreReachedLeaderIndex(this.score, leaderData)\n        this.syncRail(leaderData, signal, true)\n    }\n\n    private async syncRail(leaderData: Leader[], signal: Signal, immediately: boolean = false): Promise<void> {\n        const minLeaderData = leaderData[this.nextLeaderIndex - 1]\n        const maxLeaderData = leaderData[this.nextLeaderIndex]\n\n        const minRank = minLeaderData ? minLeaderData.rank : maxLeaderData ? maxLeaderData.rank + 1 : 1\n        this.setRankLabel(minRank, this.currentRankLocalizer)\n\n        const reachMaxLeader = !maxLeaderData\n\n        this.nextRankLocalizer.node.active = !reachMaxLeader\n        this.runActiveAnimation(this.sword, !reachMaxLeader, signal, immediately)\n        this.playerLeader.setCrown(reachMaxLeader)\n        this.playerLeader.updateScore(this.score, signal, immediately)\n\n        const duration = immediately ? 0 : undefined\n\n        if (!reachMaxLeader) {\n            this.playerLeader.stopSparkParticle()\n\n            this.setRankLabel(maxLeaderData.rank, this.nextRankLocalizer)\n            this.minScore = minLeaderData ? minLeaderData.score : 0\n            this.maxScore = maxLeaderData.score\n\n            let progress = (this.score - this.minScore) / (this.maxScore - this.minScore)\n            progress = 0.8 * progress + 0.1\n\n            if (progress < this.progressBar.getProgress()) this.showScoreUpdatedNotice(signal)\n            await this.progressBar.updateProgress(progress, signal, duration)\n        } else {\n            this.playerLeader.playSparkParticle()\n            await this.progressBar.updateProgress(1, signal, duration)\n        }\n    }\n\n    public async handleScoreUpdated(config: StatusConfig): Promise<void> {\n        const { score, leaderData } = config\n        if (score === undefined || !leaderData) return\n\n        this.leaderData = leaderData\n\n        const signal = this.signal.renew()\n\n        this.score = score\n\n        const reachedIndex = this.getScoreReachedLeaderIndex(score, leaderData)\n        if (reachedIndex > this.nextLeaderIndex) {\n            this.nextLeaderIndex = reachedIndex\n\n            let duration = (1 - this.progressBar.getProgress()) / 1.5\n            duration = Math.min(duration, 0.5)\n\n            await this.progressBar.updateProgress(1, signal, duration, 'cubicIn')\n            this.runBubbleAnimation(this.sword, signal)\n            await this.progressBar.updateProgress(0, signal, 0)\n            this.runBubbleAnimation(this.flag, signal)\n        } else if (reachedIndex < this.nextLeaderIndex) {\n            this.nextLeaderIndex = reachedIndex\n\n            let duration = this.progressBar.getProgress() / 1.5\n            duration = Math.min(duration, 0.5)\n\n            await this.progressBar.updateProgress(0, signal, duration, 'cubicIn')\n            this.runBubbleAnimation(this.flag, signal)\n            await this.progressBar.updateProgress(1, signal, 0)\n            this.runBubbleAnimation(this.sword, signal)\n        }\n\n        this.syncRail(leaderData, signal)\n    }\n\n    private async runBubbleAnimation(node: Node, signal: Signal): Promise<void> {\n        node.scale = Vec3.ONE\n\n        const scaleTween = tween(node)\n            .to(0.1, { scale: new Vec3(1.2, 1.2, 1.2) })\n            .to(0.2, { scale: Vec3.ONE }, { easing: 'backOut' })\n\n        await AnimUtils.runTweenAsync(scaleTween, signal)\n        node.scale = Vec3.ONE\n    }\n\n    private async runActiveAnimation(\n        node: Node,\n        active: boolean,\n        signal: Signal,\n        immediately: boolean = false,\n    ): Promise<void> {\n        const startScale = active ? Vec3.ZERO : Vec3.ONE\n        const targetScale = active ? Vec3.ONE : Vec3.ZERO\n\n        if (immediately) {\n            node.scale = targetScale\n            return\n        }\n\n        if (node.scale.equals(targetScale)) return\n\n        const easing = active ? 'backOut' : 'quadOut'\n\n        node.scale = startScale\n\n        const scaleTween = tween(node)\n            .to(0.1, { scale: new Vec3(1.2, 1.2, 1.2) })\n            .to(0.2, { scale: targetScale }, { easing })\n\n        await AnimUtils.runTweenAsync(scaleTween, signal)\n\n        node.scale = targetScale\n    }\n\n    private getScoreReachedLeaderIndex(score: number, leaderData: Leader[]): number {\n        const index = A.searchIndex(leaderData, (leader) => leader.score >= score)\n        if (index === -1) return leaderData.length\n        return index\n    }\n\n    private setRankLabel(rank: number, label: Localize): void {\n        if (rank === 1) {\n            label.key = 'status.first'\n            return\n        }\n\n        if (rank === 2) {\n            label.key = 'status.second'\n            return\n        }\n\n        if (rank === 3) {\n            label.key = 'status.third'\n            return\n        }\n\n        label.key = 'status.nth'\n        label.setParams([rank.toString()])\n    }\n\n    //? DEV TOOLS\n    public handleDecreaseRank(): void {\n        for (const leader of this.leaderData) {\n            leader.score += this.getMedianScore() * 2\n        }\n        this.handleScoreUpdated({ score: this.score, leaderData: this.leaderData })\n    }\n\n    public handleIncreaseRank(): void {\n        for (const leader of this.leaderData) {\n            leader.score -= this.getMedianScore() * 2\n        }\n        this.handleScoreUpdated({ score: this.score, leaderData: this.leaderData })\n    }\n\n    private getMedianScore(): number {\n        return (this.leaderData[this.leaderData.length - 1]!.score - this.leaderData[0]!.score) / this.leaderData.length\n    }\n\n    private async showScoreUpdatedNotice(signal: Signal) {\n        this.challengerJoinedUiOpacity.node.active = true\n        this.challengerJoinedUiOpacity.opacity = 0\n\n        const reset = () => {\n            this.challengerJoinedUiOpacity.node.active = false\n            this.challengerJoinedUiOpacity.opacity = 0\n        }\n\n        signal.once(reset)\n\n        const startPosition = new Vec3(\n            this.challengerJoinedUiOpacity.node.position.x,\n            this.challengerJoinedY - 10,\n            this.challengerJoinedUiOpacity.node.position.z,\n        )\n\n        const midPosition = new Vec3(\n            this.challengerJoinedUiOpacity.node.position.x,\n            this.challengerJoinedY,\n            this.challengerJoinedUiOpacity.node.position.z,\n        )\n\n        const endPosition = new Vec3(\n            this.challengerJoinedUiOpacity.node.position.x,\n            this.challengerJoinedY + 10,\n            this.challengerJoinedUiOpacity.node.position.z,\n        )\n\n        this.challengerJoinedUiOpacity.node.setPosition(startPosition)\n\n        const fadeIn = AnimUtils.runTweenAsync(tween(this.challengerJoinedUiOpacity).to(0.5, { opacity: 255 }), signal)\n\n        const moveIn = AnimUtils.runTweenAsync(\n            tween(this.challengerJoinedUiOpacity.node).to(\n                0.5,\n                {\n                    position: midPosition,\n                },\n                {\n                    easing: 'cubicOut',\n                },\n            ),\n            signal,\n        )\n\n        const wait = AnimUtils.waitTweenAsync(1, signal)\n\n        await Promise.all([fadeIn, moveIn, wait])\n\n        const moveOut = AnimUtils.runTweenAsync(\n            tween(this.challengerJoinedUiOpacity.node).to(\n                0.5,\n                {\n                    position: endPosition,\n                },\n                {\n                    easing: 'cubicIn',\n                },\n            ),\n            signal,\n        )\n\n        const fadeOut = AnimUtils.runTweenAsync(tween(this.challengerJoinedUiOpacity).to(0.5, { opacity: 0 }), signal)\n\n        await Promise.all([moveOut, fadeOut])\n\n        signal.off(reset)\n    }\n}\n","import { _decorator, Component } from 'cc'\nimport { SpecialItem } from '../../../../gameplay/game-objects/item/SpecialItem'\nimport type { ItemConfig } from '../../../../gameplay/manager/ItemManager'\nimport AnimAbortSignal from '../../../../utils/common/AnimAbortSignal'\nimport { Clock } from './clock/Clock'\nimport { TournamentRail } from './header/tournament-container/TournamentRail'\n\nconst { ccclass, property } = _decorator\n\nexport type StatusConfig = {\n    coins?: number\n    score?: number\n    level?: number\n    time?: number\n    leaderData?: {\n        score: number\n        rank: number\n    }[]\n    items?: Record<ItemKey, ItemConfig>\n}\n\n@ccclass('GameSceneLayout')\nexport class GameSceneLayout extends Component {\n    @property(TournamentRail)\n    public tournamentRail!: TournamentRail\n\n    @property(Clock)\n    public clock!: Clock\n\n    @property(SpecialItem)\n    public items: SpecialItem[] = []\n\n    public isInited: boolean = false\n\n    protected entranceSignal: AnimAbortSignal = new AnimAbortSignal()\n    protected exitSignal: AnimAbortSignal = new AnimAbortSignal()\n\n    public async waitForInitAsync(): Promise<void> {\n        if (this.isInited) return\n\n        return new Promise((resolve) => {\n            const interval = setInterval(() => {\n                if (this.isInited) {\n                    clearInterval(interval)\n                    resolve()\n                }\n            }, 100)\n        })\n    }\n\n    public setLevelText(_level: number): void {}\n\n    public disableLayout(): void {}\n\n    public enableLayout(): void {}\n\n    public updateStatus(config: StatusConfig): void {\n        this.clock.updateStatus(config)\n        this.tournamentRail.updateStatus(config)\n        for (const item of this.items) {\n            item.updateStatus(config)\n        }\n    }\n\n    public async playExitAnimUI(_duration: number = 0.17): Promise<void> {}\n\n    public async playEntranceAnimUI(_duration: number = 0.2): Promise<void> {}\n\n    public highlightCoinContainer(): void {}\n\n    public unHighlightCoinContainer(): void {}\n\n    public handleScoreUpdated(_score: number): void {}\n}\n","import { Director, director, instantiate, Label, Node, NodeEventType, type Prefab, type Quat, type Vec3 } from 'cc'\n\ninterface NodeMetadata {\n    node: Node\n    layer: string\n    originalParent: Node\n    originalSiblingIndex: number\n    originalLocalTransform: TransformData\n    eventHandler: () => void\n    parentTransformHandler: () => void\n    keepInLayer: boolean\n    needsPositionUpdate: boolean\n}\n\ninterface TransformData {\n    position: Vec3\n    rotation: Quat\n    scale: Vec3\n}\n\nclass SortNodeUtilsCore {\n    protected static inst$: SortNodeUtilsCore\n\n    protected layerPrefab$!: Prefab\n    protected layerNodes: Map<string, Node> = new Map()\n    protected nodeMetadata: Map<string, NodeMetadata> = new Map()\n    protected movedNodes: Set<string> = new Set()\n\n    public static get inst() {\n        if (!this.inst$) {\n            this.inst$ = new this()\n        }\n\n        return this.inst$\n    }\n\n    constructor() {\n        this.listenEvents$()\n    }\n\n    protected listenEvents$ = () => {\n        director.on(Director.EVENT_AFTER_UPDATE, this.onAfterUpdate$)\n        director.on(Director.EVENT_AFTER_RENDER, this.onAfterRender$)\n    }\n\n    public static setLayerPrefab(layerPrefab: Prefab) {\n        this.inst.layerPrefab$ = layerPrefab\n    }\n\n    public static createLayer(container: Node, layer: string, depth: number) {\n        const { inst } = this\n\n        if (!container?.isValid) {\n            console.warn(`[SortNode] createLayer: Invalid container for layer \"${layer}\"`)\n            return\n        }\n\n        if (inst.layerNodes.has(layer)) {\n            console.warn(`[SortNode] createLayer: Layer \"${layer}\" already exists`)\n            return\n        }\n\n        let layerNode: Node\n\n        if (inst.layerPrefab$) {\n            layerNode = instantiate(inst.layerPrefab$)\n            layerNode.name = `Layer:${layer}`\n\n            const label = layerNode.getComponentInChildren(Label)\n            if (label) {\n                label.string = layer\n            }\n        } else {\n            layerNode = new Node(`Layer:${layer}`)\n        }\n\n        container.insertChild(layerNode, depth)\n        inst.layerNodes.set(layer, layerNode)\n\n        console.debug(`[SortNode] createLayer: \"${layer}\" in ${container.name} at depth ${depth}`)\n    }\n\n    public static setNodeToLayer(node: Node, layer: string) {\n        const { inst } = this\n\n        if (!node?.isValid) {\n            console.warn(`[SortNode] setNodeToLayer: Invalid node for layer \"${layer}\"`)\n            return\n        }\n\n        const layerNode = inst.layerNodes.get(layer)\n        if (!layerNode) {\n            console.error(`[SortNode] setNodeToLayer: Layer \"${layer}\" not found`)\n            return\n        }\n\n        if (inst.nodeMetadata.has(node.uuid)) return\n\n        const originalParent = node.parent\n        if (!originalParent) {\n            console.warn('[SortNode] setNodeToLayer: Node has no parent')\n            return\n        }\n\n        // Setup cleanup on node destruction\n        const onDestroyed$ = () => {\n            this.removeNodeFromLayer(node)\n        }\n        node.once(NodeEventType.NODE_DESTROYED, onDestroyed$)\n\n        // Listen to parent transform changes to update node position\n        const onParentTransformChanged$ = () => {\n            const metadata = inst.nodeMetadata.get(node.uuid)\n            if (!metadata) return\n\n            metadata.needsPositionUpdate = true\n        }\n\n        originalParent.on(NodeEventType.TRANSFORM_CHANGED, onParentTransformChanged$)\n\n        // Store all node metadata in one place\n        inst.nodeMetadata.set(node.uuid, {\n            node,\n            layer,\n            originalParent,\n            originalSiblingIndex: node.getSiblingIndex(),\n            originalLocalTransform: {\n                position: node.getPosition().clone(),\n                rotation: node.getRotation().clone(),\n                scale: node.getScale().clone(),\n            },\n            eventHandler: onDestroyed$,\n            parentTransformHandler: onParentTransformChanged$,\n            keepInLayer: false,\n            needsPositionUpdate: false,\n        })\n\n        // const metadata = inst.nodeMetadata.get(node.uuid)\n        // console.debug('[SortNode] setNodeToLayer:', node.name, metadata)\n    }\n\n    public static removeNodeFromLayer(node: Node) {\n        const { inst } = this\n\n        const metadata = inst.nodeMetadata.get(node.uuid)\n        if (!metadata) return\n\n        // Cleanup event handlers\n        node.off(NodeEventType.NODE_DESTROYED, metadata.eventHandler)\n        metadata.originalParent.off(NodeEventType.TRANSFORM_CHANGED, metadata.parentTransformHandler)\n\n        // * Remove keepInLayer first\n        metadata.keepInLayer = false\n\n        // Restore node before cleanup\n        inst.restoreNode$(metadata)\n        inst.revertNodeSiblingIndex$(metadata)\n\n        // Clean up all references\n        inst.movedNodes.delete(node.uuid)\n        inst.nodeMetadata.delete(node.uuid)\n\n        // console.debug('[SortNode] removeNodeFromLayer:', node.name, metadata)\n    }\n\n    public static keepNodeInLayer(node: Node) {\n        const { inst } = this\n\n        if (!node?.isValid) {\n            console.warn('[SortNode] keepNodeInLayer: Invalid node')\n            return\n        }\n\n        const metadata = inst.nodeMetadata.get(node.uuid)\n        if (!metadata) {\n            console.warn('[SortNode] keepNodeInLayer: Node not found in layer')\n            return\n        }\n\n        metadata.keepInLayer = true\n    }\n\n    public static setActiveLayer(layer: string, active: boolean) {\n        const { inst } = this\n\n        if (!inst.layerNodes.has(layer)) {\n            console.warn(`[SortNode] setActiveLayer: Layer \"${layer}\" not found`)\n            return\n        }\n\n        const layerNode = inst.layerNodes.get(layer)\n        if (layerNode) {\n            layerNode.active = active\n        }\n\n        console.debug(`[SortNode] setActiveLayer: Layer \"${layer}\" ${active ? 'enabled' : 'disabled'}`)\n    }\n\n    // === Private Lifecycle Methods ===\n\n    protected onAfterUpdate$ = () => {\n        this.sortNodes$()\n    }\n\n    protected onAfterRender$ = () => {\n        this.restoreNodes$()\n    }\n\n    // === Private Core Methods ===\n\n    protected sortNodes$ = () => {\n        if (this.layerNodes.size === 0) return\n        if (this.nodeMetadata.size === 0) return\n\n        this.nodeMetadata.forEach((metadata, uuid) => {\n            const { node, layer, needsPositionUpdate } = metadata\n\n            // Validate node\n            if (!node?.isValid || !node.activeInHierarchy) return\n\n            const layerNode = this.layerNodes.get(layer)\n            if (!layerNode?.isValid) return\n\n            // If parent transform changed, restore to parent for 1 frame to update position\n            if (needsPositionUpdate) {\n                this.revertNodeTransform$(metadata)\n                metadata.needsPositionUpdate = false\n                this.movedNodes.add(uuid)\n                return\n            }\n\n            // Already in layer, skip\n            if (node.parent === layerNode) return\n\n            // Move node to layer and track it\n            node.setParent(layerNode, true)\n            this.movedNodes.add(uuid)\n        })\n    }\n\n    protected revertNodeTransform$ = (metadata: NodeMetadata) => {\n        const { node, originalParent, originalLocalTransform } = metadata\n        const { position, rotation, scale } = originalLocalTransform\n\n        node.setParent(originalParent, true)\n        node.setPosition(position)\n        node.setRotation(rotation)\n        node.setScale(scale)\n    }\n\n    protected restoreNodes$ = () => {\n        if (this.movedNodes.size === 0) return\n\n        this.movedNodes.forEach((uuid) => {\n            const metadata = this.nodeMetadata.get(uuid)\n            if (metadata) {\n                // If node is at original parent (from position update), it will be moved back to layer in next cycle\n                // Otherwise, restore it normally\n                if (metadata.node.parent !== metadata.originalParent) {\n                    this.restoreNode$(metadata)\n                }\n            }\n        })\n\n        // Clear moved nodes after restoration\n        this.movedNodes.clear()\n    }\n\n    protected restoreNode$ = (metadata: NodeMetadata) => {\n        const { node, originalParent, keepInLayer } = metadata\n\n        // Keep node in layer if requested\n        if (keepInLayer) return\n\n        // Already restored, skip\n        if (node.parent === originalParent) return\n\n        node.setParent(originalParent, true)\n    }\n\n    protected revertNodeSiblingIndex$ = (metadata: NodeMetadata) => {\n        const { node, originalSiblingIndex } = metadata\n\n        if (!node?.isValid || !node.activeInHierarchy) return\n\n        const parent = node.parent\n        if (!parent?.isValid) return\n\n        const currentIndex = node.getSiblingIndex()\n        const siblingLength = parent.children.length\n\n        // Already at correct index or original index is out of bounds\n        if (currentIndex === originalSiblingIndex) return\n        if (originalSiblingIndex >= siblingLength) return\n\n        node.setSiblingIndex(originalSiblingIndex)\n    }\n}\n\nclass SortNodeUtils extends SortNodeUtilsCore {\n    // * Custom logic here\n}\n\nexport default SortNodeUtils\n","import SortNodeUtils from 'db://assets/utils/SortNodeUtils'\nimport { _decorator, CCBoolean, Component, Label, math, type Node, type Tween, tween, UITransform } from 'cc'\nimport AnimUtils from '../../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../../utils/ComponentUtils'\n\nconst { ccclass, property, disallowMultiple } = _decorator\n\n@ccclass('ScoreBlock')\n@disallowMultiple\nexport class ScoreBlock extends Component {\n    @property(Label)\n    protected scoreText!: Label\n\n    @property(CCBoolean)\n    protected isResizeWidth: boolean = true\n\n    @property({\n        visible: function (this: ScoreBlock) {\n            return this.isResizeWidth\n        },\n    })\n    protected maxScoreWidth: number = 0\n\n    protected panelWidthDiff: number = 0\n\n    protected score!: number\n\n    protected scoreUITransform!: UITransform\n\n    protected uiTransform!: UITransform\n\n    protected uiTween!: Tween<Node>\n\n    public onLoad(): void {\n        this.uiTransform = this.node.getComponent(UITransform)!\n        this.scoreUITransform = this.scoreText.node.getComponent(UITransform)!\n        this.panelWidthDiff = this.uiTransform.width - this.maxScoreWidth\n\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public async updateScore(score: number): Promise<void> {\n        const addScore = score - this.score\n\n        const addScoreTween = tween(this.node).to(\n            0.1,\n            {},\n            {\n                onUpdate: (_, ratio) => {\n                    if (!ratio) return\n                    const value = Math.floor(addScore * ratio) + this.score\n                    this.scoreText.string = value.toString()\n                    this.resizeWidth()\n                },\n            },\n        )\n\n        await AnimUtils.runTweenAsync(addScoreTween)\n        this.setScore(score)\n        await this.resizeWidth()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public setScore(score?: number): void {\n        const correctScore = score ?? 0\n        this.score = correctScore\n        this.scoreText.string = correctScore.toString()\n    }\n\n    protected async resizeWidth(): Promise<void> {\n        if (!this.isResizeWidth) return\n\n        const currentWidth = this.uiTransform.width\n        const nextWidth =\n            (this.scoreUITransform.width > this.maxScoreWidth ? this.scoreUITransform.width : this.maxScoreWidth) +\n            this.panelWidthDiff\n\n        if (nextWidth <= currentWidth && this.score !== 0) return\n\n        if (this.uiTween) this.uiTween.stop()\n        this.uiTween = tween(this.node).to(\n            0.05,\n            {},\n            {\n                easing: 'sineOut',\n                onUpdate: (_target, ratio) => {\n                    if (!ratio) return\n                    this.uiTransform.width = math.lerp(currentWidth, nextWidth, ratio)\n                },\n            },\n        )\n        await AnimUtils.runTweenAsync(this.uiTween)\n        this.uiTransform.width = nextWidth\n\n        SortNodeUtils.setNodeToLayer(this.scoreText.node, 'GameUnpackLabel')\n    }\n}\n","import OverlayUtils from 'db://assets/utils/OverlayUtils'\nimport { _decorator, Node, Sprite, SpriteFrame, UITransform } from 'cc'\nimport CacheUtils from '../../../../../../utils/CacheUtils'\nimport PlayerAvatarOverlay from '../../../../../common/PlayerAvatarOverlay'\nimport { ScoreBlock } from './ScoreBlock'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('ChallengeScoreBlock')\nexport class ChallengeScoreBlock extends ScoreBlock {\n    @property(Sprite)\n    private avatar!: Sprite\n\n    @property(SpriteFrame)\n    private defaultAvatar!: SpriteFrame\n\n    @property(Node)\n    private defaultAvatarNode!: Node\n\n    private playerAvatarOverlay: PlayerAvatarOverlay | null = null\n\n    private isOverlayMode: boolean = false\n\n    public onLoad(): void {\n        super.onLoad()\n        this.createAvatarOverlay$()\n    }\n\n    public onDisable(): void {\n        this.cleanupOverlay()\n    }\n\n    public async updateInfo(photo: string, playerId: string, score?: number): Promise<void> {\n        this.setScore(score)\n        // ? Wait one frame for score update UITransform\n        this.scheduleOnce(() => this.resizeWidth(), 0)\n\n        try {\n            if (this.isOverlayMode) {\n                const result = await this.showAvatarOverlay(playerId)\n                if (result) return\n\n                this.isOverlayMode = false\n            }\n\n            const spriteFrame = await CacheUtils.getPlayerAvatar(photo, playerId, 50)\n            if (!spriteFrame) return\n\n            spriteFrame.packable = true\n            this.setAvatarSpriteFrame$(spriteFrame)\n        } catch {\n            this.setAvatarSpriteFrame$(this.defaultAvatar)\n        }\n    }\n\n    private async showAvatarOverlay(playerId: string): Promise<boolean> {\n        const { worldX, worldY } = this.getDefaultAvatarPosition$()\n        const result = await this.playerAvatarOverlay?.updateOverlay({\n            playerId,\n            worldX,\n            worldY,\n            avatarWidth: this.getDefaultAvatarWidth$(),\n        })\n\n        return result ?? false\n    }\n\n    private setAvatarSpriteFrame$ = (spriteFrame: SpriteFrame): void => {\n        if (!this.isValid) return\n        this.avatar.spriteFrame = spriteFrame\n    }\n\n    private createAvatarOverlay$ = (): void => {\n        try {\n            OverlayUtils.isOverlayViewAPIAvailable(GameSDK)\n\n            this.isOverlayMode = true\n            this.playerAvatarOverlay = new PlayerAvatarOverlay(this.node.scene)\n        } catch {\n            return\n        }\n    }\n\n    public cleanupOverlay(): void {\n        this.playerAvatarOverlay?.hideOverlay()\n    }\n\n    public update(_dt: number): void {\n        this.handleScoreBlockPositionChange$()\n    }\n\n    private handleScoreBlockPositionChange$ = (): void => {\n        if (!this.isOverlayMode) return\n\n        const { worldX, worldY } = this.getDefaultAvatarPosition$()\n        this.playerAvatarOverlay?.moveOverlayTo(worldX, worldY)\n    }\n\n    private getDefaultAvatarPosition$ = (): { worldX: number; worldY: number } => {\n        const { worldPositionX, worldPositionY } = this.defaultAvatarNode\n        return {\n            worldX: worldPositionX,\n            worldY: worldPositionY,\n        }\n    }\n\n    private getDefaultAvatarWidth$ = (): number => {\n        const uiTransform = this.defaultAvatarNode.getComponent(UITransform)\n        if (!uiTransform) return 0\n        const { width } = uiTransform\n        return width\n    }\n}\n","import { Component, Label, Node, _decorator } from 'cc'\nimport GameModes from 'db://assets/gameplay/constants/GameMode'\nimport CustomModeUtils from 'db://assets/utils/CustomModeUtils'\nimport MatchUtils from 'db://assets/utils/MatchUtils'\n\nconst { ccclass, property, disallowMultiple } = _decorator\n\n@ccclass('CustomScoreContainer')\n@disallowMultiple\nexport class CustomScoreContainer extends Component {\n    @property(Node)\n    private customScoreBlock!: Node\n\n    @property(Label)\n    private scoreText!: Label\n\n    public updateStatus(): void {\n        if (MatchUtils.getMatchMode() !== GameModes.CUSTOM) {\n            this.customScoreBlock.active = false\n            return\n        }\n\n        this.customScoreBlock.active = true\n        this.scoreText.string = `${CustomModeUtils.getCustomBonus()}%`\n    }\n}\n","import GameModes from 'db://assets/gameplay/constants/GameMode'\nimport MatchUtils from 'db://assets/utils/MatchUtils'\nimport { _decorator, Component, Label, Node, RealCurve, tween, UIOpacity, UITransform, Vec3, Widget } from 'cc'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\nimport { CustomScoreContainer } from '../custom/CustomScoreContainer'\nimport type { StatusConfig } from '../GameSceneLayout'\nimport { ScoreBlock } from '../header/score-block/ScoreBlock'\n\nconst { ccclass, property, disallowMultiple } = _decorator\n\nconst NORMAL_POSITIONS = {\n    score: -589.003,\n    item: -861.836,\n    sidebar: 1114,\n}\n\nconst CUSTOM_POSITIONS = {\n    score: -568.518,\n    item: -981.836,\n    sidebar: 1222,\n}\n\n@ccclass('Sidebar')\n@disallowMultiple\nexport class Sidebar extends Component {\n    @property(ScoreBlock)\n    private scoreBlock!: ScoreBlock\n\n    @property(Node)\n    private itemContainer!: Node\n\n    @property(Label)\n    private levelNumber!: Label\n\n    @property(Node)\n    private sidebarContainer!: Node\n\n    @property(Widget)\n    private sidebarBackground!: Widget\n\n    @property(Node)\n    private leavesContainer!: Node\n\n    @property(CustomScoreContainer)\n    private customScoreContainer!: CustomScoreContainer\n\n    @property(RealCurve)\n    private entranceCurve: RealCurve = new RealCurve()\n\n    @property(UIOpacity)\n    private uiOpacity!: UIOpacity\n\n    private originSidebarPosition: number = 0\n    private originLeavesPosition: number = 0\n\n    public saveOriginPos(): void {\n        this.originSidebarPosition = this.sidebarContainer.position.y\n        this.originLeavesPosition = this.leavesContainer.position.y\n    }\n\n    public initUIPos(): void {\n        this.sidebarContainer.setPosition(this.sidebarContainer.position.x, this.originSidebarPosition + 1250)\n        this.leavesContainer.setPosition(this.leavesContainer.position.x, this.originLeavesPosition + 150)\n    }\n\n    public async playExitAnimUI(entranceSignal: AnimAbortSignal) {\n        const cb = () => this.setActive(false)\n\n        entranceSignal.addAbortListener(cb)\n\n        const sidebarTween = tween(this.sidebarContainer).to(\n            0.2,\n            {\n                position: new Vec3(this.sidebarContainer.position.x, this.originSidebarPosition + 1250, 0),\n            },\n            { easing: 'quadIn' },\n        )\n\n        const leavesTween = tween(this.leavesContainer)\n        leavesTween.delay(0.1).to(\n            0.2,\n            {\n                position: new Vec3(this.leavesContainer.position.x, this.originLeavesPosition + 150, 0),\n            },\n            { easing: 'quadIn' },\n        )\n\n        await Promise.all([\n            AnimUtils.runTweenAsync(sidebarTween, entranceSignal),\n            AnimUtils.runTweenAsync(leavesTween, entranceSignal),\n        ])\n\n        entranceSignal.removeAbortListener(cb)\n\n        if (!entranceSignal.aborted) {\n            this.setActive(false)\n        }\n    }\n\n    public async playEntranceAnimUI(entranceSignal: AnimAbortSignal) {\n        this.setActive(true)\n\n        const sidebarTween = tween(this.sidebarContainer).to(\n            0.3,\n            {\n                position: new Vec3(this.sidebarContainer.position.x, this.originSidebarPosition, 0),\n            },\n            {\n                easing: (t: number) => {\n                    return this.entranceCurve.evaluate(t)\n                },\n            },\n        )\n\n        const leavesTween = tween(this.leavesContainer)\n        leavesTween.to(\n            0.2,\n            {\n                position: new Vec3(this.leavesContainer.position.x, this.originLeavesPosition, 0),\n            },\n            { easing: 'quadIn' },\n        )\n\n        await Promise.all([\n            AnimUtils.runTweenAsync(sidebarTween, entranceSignal),\n            AnimUtils.runTweenAsync(leavesTween, entranceSignal),\n        ])\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public setActive(active: boolean): void {\n        if (!this.uiOpacity) return\n        this.uiOpacity.opacity = active ? 255 : 0\n    }\n\n    public setLevelText(level: number) {\n        this.levelNumber.string = level.toString()\n    }\n\n    public updateStatus(config: StatusConfig): void {\n        if (config.score !== undefined) this.scoreBlock.setScore(config.score)\n        if (config.level !== undefined) this.setLevelText(config.level)\n\n        this.customScoreContainer.updateStatus()\n        this.updateUIByMode()\n    }\n\n    public updateScore(score: number): void {\n        this.scoreBlock.updateScore(score)\n    }\n\n    private updateUIByMode(): void {\n        const positions = MatchUtils.getMatchMode() === GameModes.CUSTOM ? CUSTOM_POSITIONS : NORMAL_POSITIONS\n\n        this.scoreBlock.node.position.set(this.scoreBlock.node.position.x, positions.score)\n        this.itemContainer.position.set(this.itemContainer.position.x, positions.item)\n\n        this.sidebarContainer.getComponent(UITransform)!.height = positions.sidebar\n        this.sidebarBackground.updateAlignment()\n    }\n}\n","import { _decorator, Director, director, Node, tween, Vec3 } from 'cc'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\nimport MatchUtils from '../../../../../utils/MatchUtils'\nimport { GameSceneLayout, type StatusConfig } from '../GameSceneLayout'\nimport { ChallengeScoreBlock } from '../header/score-block/ChallengeScoreBlock'\nimport { Sidebar } from './Sidebar'\n\nconst { ccclass, property } = _decorator\nconst { match } = codex\nconst {\n    Match: { Modes },\n} = Ludex\n@ccclass('LandscapeLayout')\nexport class LandscapeLayout extends GameSceneLayout {\n    @property({ type: Sidebar, group: 'Sidebar' })\n    private sidebar!: Sidebar\n\n    @property({ type: ChallengeScoreBlock, group: 'ChallengeScore' })\n    private playerScoreBlock!: ChallengeScoreBlock\n\n    @property({ type: ChallengeScoreBlock, group: 'ChallengeScore' })\n    private opponentScoreBlock!: ChallengeScoreBlock\n\n    @property(Node)\n    private topAnimNodes: Node[] = []\n    private originTopNodesPos: Vec3[] = []\n\n    public onLoad(): void {\n        //? wait LayoutComponent finish layout (not dirty)\n        director.once(Director.EVENT_AFTER_UPDATE, () => {\n            this.saveOriginPos()\n            this.initUIPos()\n            this.isInited = true\n        })\n    }\n\n    private saveOriginPos(): void {\n        this.sidebar.saveOriginPos()\n\n        for (const node of this.topAnimNodes) {\n            this.originTopNodesPos.push(node.position.clone())\n        }\n    }\n\n    private initUIPos(): void {\n        this.sidebar.initUIPos()\n\n        this.topAnimNodes.forEach((node, idx) => {\n            const startPos = this.originTopNodesPos[idx].clone()\n            startPos.y += 100\n            node.setPosition(startPos)\n        })\n    }\n\n    public async playExitAnimUI(duration: number = 0.2): Promise<void> {\n        this.entranceSignal.abort()\n        this.exitSignal.abort()\n        this.exitSignal = new AnimAbortSignal()\n\n        const exitTweens: Promise<unknown>[] = []\n\n        this.topAnimNodes.forEach((node, idx) => {\n            const des = new Vec3(this.node.position.x, this.originTopNodesPos[idx].y + 100, 0)\n            const t = tween(node)\n            t.to(duration, { position: des }, { easing: 'backIn' })\n\n            exitTweens.push(AnimUtils.runTweenAsync(t, this.exitSignal))\n        })\n\n        exitTweens.push(this.sidebar.playExitAnimUI(this.exitSignal))\n\n        await Promise.all(exitTweens)\n    }\n\n    public async playEntranceAnimUI(duration: number = 0.17): Promise<void> {\n        this.exitSignal.abort()\n        this.entranceSignal.abort()\n        this.entranceSignal = new AnimAbortSignal()\n\n        const entranceTweens: Promise<unknown>[] = []\n\n        this.topAnimNodes.forEach((node, idx) => {\n            if (!node.active) return\n\n            const des = new Vec3(this.node.position.x, this.originTopNodesPos[idx].y, 0)\n            const t = tween(node)\n            t.to(duration, { position: des }, { easing: 'backOut' })\n\n            const promise = AnimUtils.runTweenAsync(t, this.entranceSignal)\n            entranceTweens.push(promise)\n        })\n\n        entranceTweens.push(this.sidebar.playEntranceAnimUI(this.entranceSignal))\n\n        await Promise.all(entranceTweens)\n    }\n\n    public setLevelText(level: number): void {\n        this.sidebar.setLevelText(level)\n    }\n\n    public updateStatus(config: StatusConfig): void {\n        super.updateStatus(config)\n        this.sidebar.updateStatus(config)\n        this.updateScoreBlockStatus(config)\n    }\n\n    private updateScoreBlockStatus(config: StatusConfig): void {\n        if (MatchUtils.getMatchMode() !== Modes.CHALLENGE_FRIEND) {\n            this.playerScoreBlock.node.active = false\n            this.opponentScoreBlock.node.active = false\n            return\n        }\n\n        if (this.playerScoreBlock.node.active) return\n\n        const state = match.getMatchState()\n        const { playerId, opponentId } = MatchUtils.getMatchCustomData() ?? {}\n\n        if (!playerId || !opponentId) return\n\n        this.playerScoreBlock.node.active = true\n        this.opponentScoreBlock.node.active = true\n\n        const player = state.profiles[playerId]\n        const opponent = state.profiles[opponentId]\n\n        if (player) this.playerScoreBlock.updateInfo(player.photo, playerId, player.score)\n        if (opponent) this.opponentScoreBlock.updateInfo(opponent.photo, opponentId, opponent.score)\n\n        if (config.score !== undefined) this.playerScoreBlock.setScore(config.score)\n    }\n\n    public handleScoreUpdated(score: number): void {\n        this.sidebar.updateScore(score)\n\n        if (!this.playerScoreBlock.node.active) return\n        this.playerScoreBlock.updateScore(score)\n    }\n}\n","import { _decorator, Component } from 'cc'\nimport { OpacityToggler } from '../../../../../components/common/OpacityToggler'\nimport { AlphaMasks } from '../../../../../gameplay/game-objects/mask/AlphaMasks'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport LayoutUtils from '../../../../../utils/LayoutUtils'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('UIMasks')\nclass UIMasks extends Component {\n    @property(OpacityToggler)\n    private background!: OpacityToggler\n\n    @property(AlphaMasks)\n    private alphaMasks!: AlphaMasks\n\n    public __preload(): void {\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public async show(): Promise<void> {\n        this.alphaMasks.setMaskActive(0, LayoutUtils.isPortrait())\n        this.alphaMasks.setMaskActive(1, LayoutUtils.isLandscape())\n\n        await this.background.changeStateFade(true, 0.25)\n    }\n\n    public async hide(): Promise<void> {\n        await this.background.changeStateFade(false, 0.25)\n    }\n}\n\nexport default UIMasks\n","import { _decorator, Component, Label, ParticleSystem2D, Sprite, tween, UIOpacity, Vec3 } from 'cc'\nimport CoinData from '../../../constants/CoinData'\nimport { ScreenKeysEnum } from '../../../constants/ScreenKeys'\nimport { CodeSoundKeys } from '../../../constants/SoundKeys'\nimport GameplayEvents from '../../../gameplay/constants/GameEvents'\nimport AnimUtils from '../../../utils/AnimUtils'\nimport AudioUtils from '../../../utils/AudioUtils'\nimport ComponentUtils from '../../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../../utils/common/AnimAbortSignal'\nimport ScreenUtils from '../../../utils/ScreenUtils'\n\nconst { ccclass, property } = _decorator\nconst {\n    Utils: { Number: N },\n} = Ludex\n\n@ccclass('CoinContainer')\nexport class CoinContainer extends Component {\n    @property(Label)\n    private coinLabel!: Label\n\n    @property(Sprite)\n    private coinIcon!: Sprite\n\n    @property(UIOpacity)\n    private explosionCircle!: UIOpacity\n\n    @property(ParticleSystem2D)\n    private explosionParticles!: ParticleSystem2D\n\n    private currentCoin = 0\n\n    private animAbortSignal: AnimAbortSignal | undefined\n\n    private setCoinTextFromNumber(value: number): void {\n        const text = N.getShortNumber(value, 3)\n        this.coinLabel.string = text\n    }\n\n    public handleAddCoinButton(): void {\n        ScreenUtils.openScreen(ScreenKeysEnum.GET_COIN_SCREEN, {\n            quantity: CoinData.GET_COIN,\n        })\n    }\n\n    public onLoad(): void {\n        this.validateRequiredComponents()\n        this.listenToEvents()\n        this.explosionParticles.node.active = false\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenToEvents(): void {\n        this.node.scene.on(GameplayEvents.COIN_CHANGED, this.updateCoins, this)\n    }\n\n    public async updateCoins(payload: CoinDataPayload): Promise<void> {\n        const { coins, collectionAnimation: animConfig, playSound } = payload\n\n        if (animConfig === undefined || this.node.activeInHierarchy === false) {\n            this.setCoins(coins)\n            return\n        }\n\n        const { signal } = animConfig\n\n        this.animAbortSignal?.abort()\n        this.animAbortSignal = signal ?? new AnimAbortSignal()\n\n        if (animConfig.animateTextOnly) {\n            await this.animateCoinText(coins, 0, playSound, signal)\n            this.setCoins(coins)\n            return\n        }\n\n        const flyDuration = animConfig.flyDuration ?? 0\n        const floatDuration = animConfig.floatDuration ?? 0\n\n        const delay = floatDuration + flyDuration\n\n        await this.animateCoinText(coins, delay, playSound, signal)\n        this.setCoins(coins)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public setCoins(coins: number) {\n        this.setCoinTextFromNumber(coins)\n        this.currentCoin = coins\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async animateCoinText(\n        coins: number,\n        delay: number,\n        playSound = true,\n        signal?: AnimAbortSignal,\n    ): Promise<void> {\n        const startCoin = this.currentCoin\n\n        await AnimUtils.waitTweenAsync(delay, signal)\n\n        if (playSound) AudioUtils.playSound(CodeSoundKeys.COLLECT_COINS)\n\n        await AnimUtils.runOnUpdateAsync(\n            this.node,\n            1,\n            (ratio) => {\n                const currentCoin = Math.round(startCoin + (coins - startCoin) * ratio)\n                this.setCoinTextFromNumber(currentCoin)\n            },\n            signal,\n        )\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async emitExplodeEffect(signal?: AnimAbortSignal): Promise<void> {\n        this.initializeExplosionCircle()\n        this.explosionParticles.resetSystem()\n\n        await Promise.all([\n            AnimUtils.runTweenAsync(\n                tween(this.explosionCircle.node).to(0.4, { scale: new Vec3(3, 3, 3) }, { easing: 'quadOut' }),\n                signal,\n            ),\n            // ? Make sure that delay + duration add up to the duration of the tween above\n            AnimUtils.runTweenAsync(\n                tween(this.explosionCircle).delay(0.2).to(0.2, {\n                    opacity: 0,\n                }),\n                signal,\n            ),\n        ])\n\n        this.resetExplosionCircle()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private resetExplosionCircle() {\n        this.explosionCircle.node.setScale(0, 0)\n        this.explosionCircle.opacity = 0\n        this.explosionCircle.node.active = false\n        this.explosionParticles.node.active = false\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private initializeExplosionCircle() {\n        this.explosionCircle.node.active = true\n        this.explosionParticles.node.active = true\n        this.explosionCircle.opacity = 255\n        this.explosionCircle.node.setScale(0, 0)\n    }\n\n    public getCoinIconWorldPosition(): Vec3 {\n        return this.coinIcon.node.worldPosition\n    }\n\n    public getCoinIconWorldScale(): Vec3 {\n        return this.coinIcon.node.worldScale\n    }\n\n    protected onDestroy(): void {\n        this.animAbortSignal?.abort()\n    }\n}\n","import { _decorator, Component } from 'cc'\nimport GameModes from '../../../../../gameplay/constants/GameMode'\nimport MatchUtils from '../../../../../utils/MatchUtils'\nimport type { StatusConfig } from '../GameSceneLayout'\nimport { ChallengeScoreBlock } from './score-block/ChallengeScoreBlock'\nimport { ScoreBlock } from './score-block/ScoreBlock'\n\nconst { ccclass, property } = _decorator\n\nconst {\n    Match: { Modes },\n} = Ludex\nconst { match } = codex\n\n@ccclass('ScoreContainer')\nexport class ScoreContainer extends Component {\n    @property(ScoreBlock)\n    private scoreBlock!: ScoreBlock\n\n    @property(ChallengeScoreBlock)\n    private playerScoreBlock!: ChallengeScoreBlock\n\n    @property(ChallengeScoreBlock)\n    private opponentScoreBlock!: ChallengeScoreBlock\n\n    private scoreBlockShown: boolean = true\n    private challengeScoreBlockShown: boolean = false\n\n    public updateStatus(config: StatusConfig): void {\n        const { mode } = match.getMatchState()\n\n        switch (mode) {\n            case Modes.CHALLENGE_FRIEND:\n                this.showChallengeScoreBlock()\n                this.hideScoreBlock()\n                if (config.score !== undefined) this.playerScoreBlock.setScore(config.score)\n                break\n\n            case Modes.SINGLE:\n            case GameModes.CUSTOM:\n                this.hideChallengeScoreBlock()\n                this.showScoreBlock()\n                if (config.score !== undefined) this.scoreBlock.setScore(config.score)\n                break\n\n            default:\n                this.hideScoreBlock()\n                this.hideChallengeScoreBlock()\n        }\n    }\n\n    private showChallengeScoreBlock(): void {\n        if (this.challengeScoreBlockShown) return\n        this.challengeScoreBlockShown = true\n\n        const state = match.getMatchState()\n        const { playerId, opponentId } = MatchUtils.getMatchCustomData() ?? {}\n\n        if (!playerId || !opponentId) return\n\n        this.playerScoreBlock.node.active = true\n        this.opponentScoreBlock.node.active = true\n\n        const player = state.profiles[playerId]\n        const opponent = state.profiles[opponentId]\n\n        if (!player || !opponent) return\n\n        this.playerScoreBlock.updateInfo(player.photo, playerId, player.score)\n        this.opponentScoreBlock.updateInfo(opponent.photo, opponentId, opponent.score)\n    }\n\n    private hideChallengeScoreBlock(): void {\n        if (!this.challengeScoreBlockShown) return\n        this.challengeScoreBlockShown = false\n\n        this.playerScoreBlock.node.active = false\n        this.opponentScoreBlock.node.active = false\n\n        this.playerScoreBlock.cleanupOverlay()\n        this.opponentScoreBlock.cleanupOverlay()\n    }\n\n    private showScoreBlock(): void {\n        if (this.scoreBlockShown) return\n        this.scoreBlockShown = true\n\n        const { score } = MatchUtils.getMatchCustomData() ?? {}\n\n        this.scoreBlock.node.active = true\n        this.scoreBlock.setScore(score)\n    }\n\n    private hideScoreBlock(): void {\n        if (!this.scoreBlockShown) return\n        this.scoreBlockShown = false\n\n        this.scoreBlock.node.active = false\n    }\n\n    public updateScore(score: number): void {\n        if (this.challengeScoreBlockShown) {\n            this.playerScoreBlock.updateScore(score)\n        } else if (this.scoreBlockShown) {\n            this.scoreBlock.updateScore(score)\n        }\n    }\n}\n","import { Button, Component, Node, UIOpacity, _decorator, find } from 'cc'\nimport { CoinContainer } from 'db://assets/scenes/common/coin-container/CoinContainer'\nimport { Localize } from '../../../../../components/text/Localize'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport { CustomScoreContainer } from '../custom/CustomScoreContainer'\nimport type { StatusConfig } from '../GameSceneLayout'\nimport { ScoreContainer } from './ScoreContainer'\nconst { ccclass, property } = _decorator\n\n@ccclass('Header')\nexport class Header extends Component {\n    @property(Localize)\n    private levelTextLocalizer!: Localize\n\n    @property(Node)\n    private settingNode!: Node\n\n    @property(Node)\n    private homeNode!: Node\n\n    @property(Node)\n    private leftNode!: Node\n\n    @property(Node)\n    private coinNode!: Node\n\n    @property(ScoreContainer)\n    public scoreContainer!: ScoreContainer\n\n    @property(CoinContainer)\n    public coinContainer!: CoinContainer\n\n    @property(CustomScoreContainer)\n    public customScoreContainer!: CustomScoreContainer\n\n    private uiOpacity!: UIOpacity\n\n    public onLoad() {\n        this.uiOpacity = this.node.getComponent(UIOpacity)!\n\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public updateStatus(config: StatusConfig) {\n        this.scoreContainer.updateStatus(config)\n\n        if (config.coins !== undefined) this.coinContainer.setCoins(config.coins)\n        if (config.level !== undefined) this.setLevelText(config.level)\n    }\n\n    public highlightCoinContainer() {\n        const inputBlocker = find('Canvas/Screens')\n        if (!inputBlocker) return\n\n        const coinPosition = this.coinNode.worldPosition.clone()\n\n        this.coinNode.parent = inputBlocker\n        this.coinNode.worldPosition = coinPosition\n    }\n\n    public removeCoinContainerHighlight() {\n        const coinPosition = this.coinNode.worldPosition.clone()\n\n        this.coinNode.parent = this.leftNode\n        this.coinNode.worldPosition = coinPosition\n    }\n\n    public setLevelText(level: number) {\n        this.levelTextLocalizer.setParams([level.toString()])\n    }\n\n    public setButtonsInteractable(interactable = true): void {\n        this.settingNode.getComponent(Button)!.interactable = interactable\n        this.homeNode.getComponent(Button)!.interactable = interactable\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public setActive(active: boolean): void {\n        this.uiOpacity.opacity = active ? 255 : 0\n    }\n}\n","import { _decorator, Director, director, Node, tween, Vec3 } from 'cc'\nimport AnimUtils, { type TweenObj } from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\nimport { GameSceneLayout, type StatusConfig } from '../GameSceneLayout'\nimport { Header } from '../header/Header'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('PortraitLayout')\nexport class PortraitLayout extends GameSceneLayout {\n    @property(Header)\n    private header!: Header\n\n    @property([Node])\n    private topAnimNodes: Node[] = []\n    private originTopNodesPos: Vec3[] = []\n\n    @property([Node])\n    private botAnimNodes: Node[] = []\n    private originBotNodesPos: Vec3[] = []\n\n    private hideBotWorldY = -80\n\n    public onLoad(): void {\n        this.validateRequiredComponents()\n\n        //? wait LayoutComponent finish layout (not dirty)\n        director.once(Director.EVENT_AFTER_UPDATE, () => {\n            this.saveOriginPos()\n            this.initUIPos()\n            this.isInited = true\n        })\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private saveOriginPos(): void {\n        for (const node of this.topAnimNodes) {\n            this.originTopNodesPos.push(node.position.clone())\n        }\n\n        for (const node of this.botAnimNodes) {\n            this.originBotNodesPos.push(node.position.clone())\n        }\n    }\n\n    private initUIPos(): void {\n        this.topAnimNodes.forEach((node, idx) => {\n            const startPos = this.originTopNodesPos[idx]?.clone() ?? new Vec3(0, 0, 0)\n            startPos.y += 200\n            node.setPosition(startPos)\n        })\n\n        const temp = new Vec3(0, this.hideBotWorldY, 0)\n        this.botAnimNodes.forEach((node, idx) => {\n            const startPos = this.originBotNodesPos[idx]?.clone() ?? new Vec3(0, 0, 0)\n            temp.y = this.hideBotWorldY\n            const y = node.parent?.inverseTransformPoint(temp, temp).y ?? 200\n            startPos.y = y\n            node.setPosition(startPos)\n        })\n    }\n\n    public setLevelText(level: number): void {\n        this.header.setLevelText(level)\n    }\n\n    public disableLayout(): void {\n        this.header.setButtonsInteractable(false)\n    }\n\n    public enableLayout(): void {\n        this.header.setButtonsInteractable()\n    }\n\n    public updateStatus(config: StatusConfig): void {\n        super.updateStatus(config)\n        this.header.updateStatus(config)\n    }\n\n    public async playExitAnimUI(duration: number = 0.17): Promise<void> {\n        this.entranceSignal.abort()\n        this.exitSignal.abort()\n        this.exitSignal = new AnimAbortSignal()\n\n        const exitTweens: Promise<TweenObj<Node>>[] = []\n\n        this.topAnimNodes.forEach((node, idx) => {\n            if (!node.active) return\n\n            const des = new Vec3(node.position.x, (this.originTopNodesPos[idx]?.y ?? 0) + 200, 0)\n            const t = tween(node)\n            t.to(duration, { position: des }, { easing: 'backIn' })\n\n            exitTweens.push(AnimUtils.runTweenAsync(t, this.exitSignal))\n        })\n\n        const temp = new Vec3(0, this.hideBotWorldY, 0)\n\n        for (const node of this.botAnimNodes) {\n            if (!node.active) continue\n\n            temp.y = this.hideBotWorldY\n            const y = node.parent?.inverseTransformPoint(temp, temp).y ?? 200\n            const des = new Vec3(node.position.x, y, 0)\n            const t = tween(node)\n            t.to(duration, { position: des }, { easing: 'backIn' })\n\n            exitTweens.push(AnimUtils.runTweenAsync(t, this.exitSignal))\n        }\n\n        await Promise.all(exitTweens)\n\n        if (this.exitSignal.aborted) return\n\n        this.header.setActive(false)\n    }\n\n    public async playEntranceAnimUI(duration: number = 0.2): Promise<void> {\n        this.exitSignal.abort()\n        this.entranceSignal.abort()\n        this.entranceSignal = new AnimAbortSignal()\n\n        this.header.setActive(true)\n\n        const entranceTweens: Promise<TweenObj<Node>>[] = []\n\n        this.topAnimNodes.forEach((node, idx) => {\n            const des = new Vec3(node.position.x, this.originTopNodesPos[idx]?.y ?? 0, 0)\n            const t = tween(node)\n            t.to(duration, { position: des }, { easing: 'backOut' })\n\n            entranceTweens.push(AnimUtils.runTweenAsync(t, this.entranceSignal))\n        })\n\n        this.botAnimNodes.forEach((node, idx) => {\n            const des = new Vec3(node.position.x, this.originBotNodesPos[idx]?.y ?? 0, 0)\n            const t = tween(node)\n            t.to(duration, { position: des }, { easing: 'backOut' })\n\n            entranceTweens.push(AnimUtils.runTweenAsync(t, this.entranceSignal))\n        })\n\n        await Promise.all(entranceTweens)\n    }\n\n    public highlightCoinContainer(): void {\n        this.header.highlightCoinContainer()\n    }\n\n    public unHighlightCoinContainer(): void {\n        this.header.removeCoinContainerHighlight()\n    }\n\n    public handleScoreUpdated(score: number): void {\n        this.header.scoreContainer.updateScore(score)\n    }\n}\n","export const TileTypes = {\n    NORMAL: 'normal',\n    BOMB: 'bomb',\n    STAR: 'star',\n} as const\n\nexport type TileType = (typeof TileTypes)[keyof typeof TileTypes]\n","import type { EditBox } from 'cc'\nimport { Button, Component, Node, _decorator, game } from 'cc'\nimport GameEvents from '../../constants/GameEvents'\nimport { AvailableLocales } from '../../constants/Locales'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport type { Gameplay } from '../Gameplay'\nimport GameplayEvents from '../constants/GameEvents'\nimport ItemKeys from '../constants/ItemKeys'\nimport { TileTypes } from '../constants/TileType'\n\nconst {\n    Dtos: { Player },\n    Utils: { Function: F },\n} = Ludex\n\nconst { ccclass, property } = _decorator\n\nconst { player, language } = codex\n\n@ccclass('DevToolsContainer')\nexport class DevToolsContainer extends Component {\n    @property(Node)\n    public devToolsToggle!: Node\n\n    public isActive = true\n    public game: Gameplay | null = null\n\n    private bundleName: string = 'lowest'\n\n    private currentLocaleIndex = 0\n\n    public injectGameplay(game: Gameplay) {\n        this.game = game\n    }\n\n    protected start(): void {\n        this.initCurrentLocale()\n    }\n\n    private initCurrentLocale() {\n        const currentLocale = language.getCurrentLocale()\n        this.currentLocaleIndex = AvailableLocales.indexOf(currentLocale)\n    }\n\n    private hideAllButtons() {\n        const buttons = this.getComponentsInChildren(Button)\n\n        for (const button of buttons) {\n            const { parent } = button.node\n            if (!parent) continue\n\n            if (parent.name === this.devToolsToggle.name) continue\n            parent.active = false\n        }\n    }\n\n    private showAllButtons() {\n        const buttons = this.getComponentsInChildren(Button)\n\n        for (const button of buttons) {\n            const { parent } = button.node\n            if (!parent) continue\n\n            if (parent.name === this.devToolsToggle.name) continue\n            parent.active = true\n        }\n    }\n\n    public handleClickDevToolsButton() {\n        if (this.isActive) {\n            this.hideAllButtons()\n            this.isActive = false\n        } else {\n            this.showAllButtons()\n            this.isActive = true\n        }\n    }\n\n    // ? Callback for ResetDataButton\n    public handleResetData() {\n        player.setPlayerData(Player.Data.getDefaults() as object)\n\n        ScreenUtils.openScreen(ScreenKeysEnum.NOTIFICATION_SCREEN, {\n            duration: 3,\n            message: 'Items and stars will only be reset if you refresh the game page now.',\n        })\n\n        this.node.scene.emit(GameplayEvents.START_OVER, 0)\n    }\n\n    public async handleNextLevel() {\n        const level = (this.game?.getGameData()?.level ?? 1) + 1\n        this.game?.setGameData({ level: level - 1 })\n        player.setGameData({ level })\n        this.node.scene.emit(GameplayEvents.NEXT_LEVEL)\n    }\n\n    public async handlePrevLevel() {\n        const level = Math.max((this.game?.getGameData()?.level ?? 2) - 1, 1)\n        this.game?.setGameData({ level: level - 1 })\n        player.setGameData({ level })\n        this.node.scene.emit(GameplayEvents.NEXT_LEVEL)\n    }\n\n    // ? Callback for SelectLevelButton\n    public async handleEnterSelectLevel(editBox: EditBox) {\n        const level = Number(editBox.string)\n        this.game?.setGameData({ level: level - 1 })\n        player.setGameData({ level })\n        this.node.scene.emit(GameplayEvents.NEXT_LEVEL)\n    }\n\n    public handleClickBuildVersionButton() {\n        const buildVersion = codex.getBuildVersion()\n        ScreenUtils.showNotificationScreen(`Build version: ${buildVersion}`)\n    }\n\n    // ? Callback for button\n    public handleClickWinLevelButton() {\n        this.node.scene.emit(GameplayEvents.GAME_FINISH)\n    }\n\n    // ? Callback for button\n    public handleClickTimeOutButton() {\n        this.game?.clockManager.setTime(0.1)\n    }\n\n    // ? Callback for button\n    public handleClickExplodeButton() {\n        const game = this.game\n        if (!game) return\n\n        const bomb = game.getGameData()?.levelData?.specials.bomb\n        if (!bomb || bomb <= 0) return\n\n        const bombTiles = game.board.getBombTiles()\n\n        if (bombTiles.length === 0) {\n            console.info('No bomb tiles found')\n            return\n        }\n\n        const bombTile = bombTiles[0]\n        if (!bombTile || bombTile.special?.type !== TileTypes.BOMB) {\n            throw new Error('Invalid bomb tile')\n        }\n\n        bombTile.special.detonateImmediately()\n    }\n\n    // ? Callback for button\n    public handleFillItem() {\n        this.node.scene.emit(GameplayEvents.ADD_ITEM, {\n            item: ItemKeys.HINT,\n            quantity: 2,\n        } as AddItemPayload)\n\n        this.node.scene.emit(GameplayEvents.ADD_ITEM, {\n            item: ItemKeys.STORM,\n            quantity: 2,\n        } as AddItemPayload)\n\n        this.node.scene.emit(GameplayEvents.ADD_ITEM, {\n            item: ItemKeys.THUNDER,\n            quantity: 2,\n        } as AddItemPayload)\n\n        this.node.scene.emit(GameplayEvents.ADD_ITEM, {\n            item: ItemKeys.PLIERS,\n            quantity: 2,\n        } as AddItemPayload)\n    }\n\n    public handleAutoPlay() {\n        this.node.scene.emit(GameplayEvents.AUTO_PLAY)\n    }\n\n    public debouncedStarsNotification = F.debounce(() => {\n        const gameData = player.getGameData()\n        if (!gameData) return\n\n        ScreenUtils.showNotificationScreen(`Stars added. Current stars: ${gameData.stars}`)\n    }, 700)\n\n    public handleAddStars() {\n        const gameData = player.getGameData()\n        if (!gameData) return\n        player.setGameData({ stars: gameData.stars + 10 })\n        this.debouncedStarsNotification()\n    }\n\n    public handleSwitchQualityAssets() {\n        switch (this.bundleName) {\n            case 'lowest':\n                this.bundleName = 'highest'\n                break\n            case 'highest':\n                this.bundleName = 'lowest'\n                break\n        }\n\n        game.emit(GameEvents.REQUEST_UPGRADE_ASSET, { quality: this.bundleName })\n    }\n\n    public async handleSwitchLocale() {\n        this.currentLocaleIndex = (this.currentLocaleIndex + 1) % AvailableLocales.length\n        const locale = AvailableLocales[this.currentLocaleIndex]\n\n        ScreenUtils.showLoadingNotificationScreen()\n\n        try {\n            if (!locale) throw new Error('Locale is undefined')\n            await this.preloadLanguageAsync(locale)\n\n            game.emit(GameEvents.CHOOSE_LANGUAGE, { locale, saveToPlayerData: true } as ChooseLanguagePayload)\n            ScreenUtils.showNotificationScreen(`Language changed to ${locale}`)\n        } catch (error) {\n            console.error(error)\n            ScreenUtils.showNotificationScreen('Failed to change language')\n        }\n    }\n\n    private preloadLanguageAsync(locale: Ludex.Plugins.Language.Locale) {\n        return new Promise((resolve, reject) => {\n            game.emit(GameEvents.PRELOAD_LANGUAGE, {\n                locale,\n                onLoad: resolve,\n                onError: reject,\n            } as PreloadLanguagePayload)\n        })\n    }\n}\n","import { Component, _decorator, game } from 'cc'\nimport { OpacityToggler } from '../../components/common/OpacityToggler'\nimport DevTools from '../../constants/DevTools'\nimport GameEvents from '../../constants/GameEvents'\nimport GameWorld from '../../constants/GameWorld'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport { InterstitialAdIndicator } from '../../scenes/game-scene/components/interstitial-ad-indicator/InterstitialAdIndicator'\nimport type { GameSceneLayout, StatusConfig } from '../../scenes/game-scene/components/ui/GameSceneLayout'\nimport { ComboContainer } from '../../scenes/game-scene/components/ui/combo/ComboContainer'\nimport { ComboProgressBar } from '../../scenes/game-scene/components/ui/combo/ComboProgressBar'\nimport { LandscapeLayout } from '../../scenes/game-scene/components/ui/landscape/LandscapeLayout'\nimport UIMasks from '../../scenes/game-scene/components/ui/mask/UIMasks'\nimport { PortraitLayout } from '../../scenes/game-scene/components/ui/portrait/PortraitLayout'\nimport LayoutUtils from '../../utils/LayoutUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport type { Gameplay } from '../Gameplay'\nimport GameplayEvents from '../constants/GameEvents'\nimport { DevToolsContainer } from '../dev-tools/DevTools'\nimport type { SpecialItem } from '../game-objects/item/SpecialItem'\n\nconst { ccclass, property } = _decorator\nconst {\n    Utils: { Valid: V },\n    Match: { Modes },\n} = Ludex\nconst { Layout } = GameWorld\n\n@ccclass('UIManager')\nexport class UIManager extends Component {\n    @property(InterstitialAdIndicator)\n    readonly interstitialAdIndicator!: InterstitialAdIndicator\n\n    @property(PortraitLayout)\n    public portraitLayout!: PortraitLayout\n\n    @property(LandscapeLayout)\n    public landscapeLayout!: LandscapeLayout\n\n    @property(DevToolsContainer)\n    public devTools: DevToolsContainer | null = null\n\n    @property(ComboProgressBar)\n    public comboProgressBar!: ComboProgressBar\n\n    @property(ComboContainer)\n    public comboContainer!: ComboContainer\n\n    @property(UIMasks)\n    public uiMasks!: UIMasks\n\n    private game!: Gameplay\n\n    private uiShown: boolean = false\n\n    public config: StatusConfig = {}\n\n    public currentLayout!: GameSceneLayout\n\n    private isResetDataListener: boolean = false\n\n    public onLoad(): void {\n        this.node.scene.on(DevTools.Events.UNLOCK_DEV_TOOLS, this.showDevTools)\n        this.node.scene.on(GameplayEvents.RESCUE_START, this.showRescueAnimation, this)\n        this.node.scene.on(GameplayEvents.RESCUE_FINISHED, this.hideRescueAnimation, this)\n        this.node.scene.on(GameplayEvents.SCORE_UPDATED, this.handleScoreUpdated, this)\n\n        // @ts-expect-error - This event is custom event\n        game.on(GameEvents.ORIENTATION_CHANGED, this.onOrientationChanged, this)\n        this.onOrientationChanged(LayoutUtils.getCurrentLayout())\n    }\n\n    protected onDestroy(): void {\n        this.node.scene.off(DevTools.Events.UNLOCK_DEV_TOOLS, this.showDevTools)\n        this.node.scene.off(GameplayEvents.RESCUE_START, this.showRescueAnimation, this)\n        this.node.scene.off(GameplayEvents.RESCUE_FINISHED, this.hideRescueAnimation, this)\n        this.node.scene.off(GameplayEvents.SCORE_UPDATED, this.handleScoreUpdated, this)\n\n        game.off(GameEvents.ORIENTATION_CHANGED, this.onOrientationChanged, this)\n    }\n\n    public init(gameplay: Gameplay): void {\n        this.currentLayout = this.portraitLayout\n        this.game = gameplay\n\n        this.initDevTools(gameplay)\n        this.comboContainer.init(gameplay.board)\n    }\n\n    private initDevTools(gameplay: Gameplay): void {\n        // ? For debugging\n        if (!this.isResetDataListener) {\n            window.addEventListener('reset-game-data', () => {\n                this.devTools?.handleResetData()\n            })\n            this.isResetDataListener = true\n        }\n\n        if (!this.devTools) return\n\n        this.devTools.node.active = V.isDebugger()\n        this.devTools.injectGameplay(gameplay)\n    }\n\n    private showDevTools = () => {\n        if (!this.devTools) return\n        this.devTools.node.active = true\n    }\n\n    public setLevelText(level: number): void {\n        this.config.level = level\n        this.currentLayout.setLevelText(level)\n    }\n\n    public startCountdown(): void {\n        this.comboProgressBar.resume()\n    }\n\n    public pauseTime(): void {\n        this.comboProgressBar.pause()\n    }\n\n    public resumeTime(): void {\n        this.comboProgressBar.resume()\n    }\n\n    public setComboUI(active: boolean): void {\n        this.comboContainer.getComponent(OpacityToggler)!.changeStateFade(active, 0.1)\n    }\n\n    public disableLayout(): void {\n        this.currentLayout.disableLayout()\n    }\n\n    public enableLayout(): void {\n        this.currentLayout.enableLayout()\n    }\n\n    public updateStatus(): void {\n        this.currentLayout.updateStatus({\n            coins: this.game.coinManager.getCoins(),\n            score: this.game.scoreManager.getCurrentScore(),\n            leaderData: this.game.tournamentManager?.leaderData,\n            items: this.game.itemManager.itemConfigs,\n        })\n        this.comboContainer.updateStatus()\n    }\n\n    public async showRescueAnimation(): Promise<void> {\n        await this.uiMasks.show()\n    }\n\n    public async hideRescueAnimation(): Promise<void> {\n        await this.uiMasks.hide()\n    }\n\n    public async playExitAnimUI(duration: number = 0.2): Promise<void> {\n        this.uiShown = false\n        await this.currentLayout.playExitAnimUI(duration)\n    }\n\n    public async playEntranceAnimUI(duration: number = 0.17): Promise<void> {\n        this.uiShown = true\n        await this.currentLayout.playEntranceAnimUI(duration)\n    }\n\n    public highlightCoinContainer(): void {\n        this.currentLayout.highlightCoinContainer()\n    }\n\n    public unHighlightCoinContainer(): void {\n        this.currentLayout.unHighlightCoinContainer()\n    }\n\n    // ? Callback for click event of PauseButton\n    public handleClickedPauseGame() {\n        ScreenUtils.openScreen(ScreenKeysEnum.PAUSE_SCREEN)\n        this.node.scene.emit(GameplayEvents.GAME_PAUSE)\n    }\n\n    // ? Callback for click event of HomeButton\n    public handleReturnHome() {\n        ScreenUtils.openScreen(ScreenKeysEnum.QUIT_LEVEL_SCREEN)\n        this.node.scene.emit(GameplayEvents.GAME_PAUSE)\n    }\n\n    public get items(): SpecialItem[] {\n        return this.currentLayout.items\n    }\n\n    public setInteractableItems(interactable = true): void {\n        for (const item of this.items) {\n            if (!interactable) {\n                item.button.interactable = false\n                continue\n            }\n\n            if (item.itemType === undefined) {\n                console.warn('Item type is not defined')\n                continue\n            }\n\n            item.button.interactable = this.game.itemManager.canUseItem(item.itemType)\n        }\n    }\n\n    private async onOrientationChanged(layout: string): Promise<void> {\n        if (layout === Layout.Portrait) {\n            this.landscapeLayout.node.active = false\n            this.portraitLayout.node.active = true\n            this.currentLayout = this.portraitLayout\n        } else if (layout === Layout.Landscape) {\n            this.portraitLayout.node.active = false\n            this.landscapeLayout.node.active = true\n            this.currentLayout = this.landscapeLayout\n        }\n\n        if (!this.currentLayout) return\n\n        this.currentLayout.updateStatus({\n            coins: this.game.coinManager.getCoins(),\n            level: this.config.level,\n            score: this.game.scoreManager.getCurrentScore(),\n            time: this.game.clockManager.getRemainingTime(),\n            leaderData: this.game.tournamentManager?.leaderData,\n            items: this.game.itemManager.itemConfigs,\n        })\n        await this.currentLayout.waitForInitAsync()\n\n        if (this.uiShown) {\n            this.playEntranceAnimUI(0)\n        } else {\n            this.playExitAnimUI(0)\n        }\n    }\n\n    private handleScoreUpdated(score: number): void {\n        this.config.score = score\n\n        this.currentLayout.handleScoreUpdated(score)\n\n        if (MatchUtils.getMatchMode() !== Modes.TOURNAMENT) return\n\n        this.currentLayout.tournamentRail.handleScoreUpdated({\n            score,\n            leaderData: this.game.tournamentManager?.leaderData,\n        })\n    }\n}\n","import { _decorator, Component, Vec3 } from 'cc'\nimport { OpacityToggler } from '../components/common/OpacityToggler'\nimport { ScreenKeysEnum, ScreenNames } from '../constants/ScreenKeys'\nimport { CodeSoundKeys } from '../constants/SoundKeys'\nimport AdsUtils from '../utils/AdsUtils'\nimport AudioUtils from '../utils/AudioUtils'\nimport ComponentUtils from '../utils/ComponentUtils'\nimport GeneralUtils from '../utils/GeneralUtils'\nimport MatchUtils from '../utils/MatchUtils'\nimport SceneUtils from '../utils/SceneUtils'\nimport ScreenUtils from '../utils/ScreenUtils'\nimport ThemeUtils from '../utils/ThemeUtils'\nimport FailKeys from './constants/FailKeys'\nimport GameplayEvents from './constants/GameEvents'\nimport GameModes from './constants/GameMode'\nimport ItemKeys from './constants/ItemKeys'\nimport { InputController } from './controller/InputController'\nimport type { Tile } from './game-objects/board'\nimport Board from './game-objects/board/Board'\nimport useHintItem from './game-objects/item/useHintItem'\nimport usePliersItem from './game-objects/item/usePliersItem'\nimport useThunderItem from './game-objects/item/useThunderItem'\nimport useTornadoItem from './game-objects/item/useTornadoItem'\nimport { PathDraw } from './game-objects/path-draw/PathDraw'\nimport { ClockManager } from './manager/ClockManager'\nimport { CoinManager } from './manager/CoinManager'\nimport { ComboManager } from './manager/ComboManager'\nimport EffectManager from './manager/EffectManager'\nimport GuidelinesManager from './manager/GuidelinesManager'\nimport { ItemManager } from './manager/ItemManager'\nimport LevelManager from './manager/LevelManager'\nimport { ScoreManager } from './manager/ScoreManager'\nimport { StateManager } from './manager/StateManager'\nimport { TournamentManager } from './manager/TournamentManager'\nimport { UIManager } from './manager/UIManager'\n\nconst { player, event, match, storage, analytics, monitorError, leaderboard } = codex\n\nconst {\n    Events,\n    Utils: { Time: T, Array: A, Valid: V },\n    Configs: { Gameplay: GameplayConfig },\n    Match: { Modes },\n    Plugins: {\n        Ads: { Types: AdTypes } = {},\n    },\n} = Ludex\n\nconst { ccclass, property } = _decorator\n\nconst DEFAULT_GAME_DATA = {\n    level: 1,\n    isFromLoader: false,\n} as const satisfies GameData\n\n@ccclass('Gameplay')\nexport class Gameplay extends Component {\n    // Managers (System)\n    public uiManager!: UIManager\n    public levelManager!: LevelManager\n    public stateManager!: StateManager\n    public effectManager!: EffectManager\n    public itemManager!: ItemManager\n    public coinManager!: CoinManager\n    public comboManager!: ComboManager\n    public clockManager!: ClockManager\n    public scoreManager!: ScoreManager\n    public guidelinesManager: GuidelinesManager | undefined\n    public tournamentManager: TournamentManager | undefined\n\n    // Controllers (System)\n    public inputController!: InputController\n\n    // Components\n    @property(Board)\n    public board!: Board\n\n    @property(OpacityToggler)\n    public opacityToggler!: OpacityToggler\n\n    @property(PathDraw)\n    public pathDraw!: PathDraw\n\n    private gameData: GameData | null = null\n\n    public rescueTiles: Tile[] = []\n\n    private isAutoPlayEnabled: boolean = false\n\n    public isAdPreloadedForCurrentLevel: boolean = false\n\n    public __preload(): void {\n        this.initComponents()\n\n        this.validateRequiredComponents()\n\n        this.listenCoreEvents()\n        this.listenInputEvents()\n        this.listenFlowEvents()\n    }\n\n    public onLoad(): void {\n        ThemeUtils.init()\n    }\n\n    protected onDestroy(): void {\n        this.unlistenCoreEvents()\n    }\n\n    private initComponents() {\n        this.initUIManager()\n        this.initLevelManager()\n        this.initStateManager()\n        this.initEffectManager()\n        this.initItemManager()\n        this.initCoinManager()\n        this.initComboManager()\n        this.initClockManager()\n        this.initScoreManager()\n        this.initInputController()\n        this.initGuidelinesManager()\n        this.initPathDraw()\n    }\n\n    private initUIManager(): void {\n        this.uiManager = this.node.parent?.getComponentInChildren(UIManager)!\n        this.uiManager.init(this)\n    }\n\n    private initLevelManager(): void {\n        this.levelManager = this.getComponent(LevelManager)!\n    }\n\n    private initStateManager(): void {\n        this.stateManager = this.getComponent(StateManager)!\n    }\n\n    private initInputController(): void {\n        this.inputController = this.getComponent(InputController)!\n    }\n\n    private initEffectManager(): void {\n        this.effectManager = this.getComponent(EffectManager)!\n    }\n\n    private initItemManager(): void {\n        this.itemManager = this.getComponent(ItemManager)!\n        this.itemManager.init(this)\n    }\n\n    private initCoinManager(): void {\n        this.coinManager = this.getComponent(CoinManager)!\n    }\n\n    private initComboManager(): void {\n        this.comboManager = this.getComponent(ComboManager)!\n        this.comboManager.init()\n    }\n\n    private initClockManager(): void {\n        this.clockManager = this.getComponent(ClockManager)!\n        this.clockManager.init()\n    }\n\n    private initScoreManager(): void {\n        this.scoreManager = this.getComponent(ScoreManager)!\n        this.scoreManager.init()\n    }\n\n    private initGuidelinesManager(): void {\n        if (!GameplayConfig.Tutorial.Enabled) return\n\n        this.guidelinesManager = this.getComponent(GuidelinesManager)!\n        this.guidelinesManager.init(this)\n    }\n\n    private initPathDraw(): void {\n        this.pathDraw.init(this.board)\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenCoreEvents(): void {\n        event.on(Events.OPENING_SCREEN, this.handleOpenScreen)\n        event.on(Events.CLOSING_SCREEN, this.handleCloseScreen)\n    }\n\n    private unlistenCoreEvents(): void {\n        event.off(Events.OPENING_SCREEN, this.handleOpenScreen)\n        event.off(Events.CLOSING_SCREEN, this.handleCloseScreen)\n    }\n\n    private readonly handleOpenScreen = (payload: SwitchScreenPayload) => {\n        const { screenName } = payload\n\n        if (screenName === ScreenNames[ScreenKeysEnum.GET_ITEM_SCREEN]) {\n            this.uiManager.highlightCoinContainer()\n        }\n    }\n\n    public handleShowUI = async () => {\n        this.uiManager.updateStatus()\n        this.uiManager.disableLayout()\n        this.uiManager.setInteractableItems(false)\n\n        await this.uiManager.playEntranceAnimUI()\n\n        this.uiManager.enableLayout()\n        this.uiManager.setInteractableItems(true)\n    }\n\n    public handleHideUI = async () => {\n        this.uiManager.disableLayout()\n        this.uiManager.setInteractableItems(false)\n\n        await this.uiManager.playExitAnimUI()\n    }\n\n    private readonly handleCloseScreen = ({ screenName }: { screenName: string }) => {\n        if (screenName === ScreenNames[ScreenKeysEnum.GET_ITEM_SCREEN]) {\n            this.uiManager.unHighlightCoinContainer()\n        }\n    }\n\n    private listenInputEvents(): void {\n        this.node.scene.on(GameplayEvents.SHOW_UI, this.handleShowUI)\n        this.node.scene.on(GameplayEvents.HIDE_UI, this.handleHideUI)\n\n        this.node.scene.on(GameplayEvents.GAME_PAUSE, this.handlePauseGame)\n        this.node.scene.on(GameplayEvents.GAME_RESUME, this.handleResumeGame)\n        this.node.scene.on(GameplayEvents.GAME_REPLAY, this.handleReplayGame)\n        this.node.scene.on(GameplayEvents.GAME_FINISH, this.handleFinishGame)\n        this.node.scene.on(GameplayEvents.NEXT_LEVEL, this.handleNextLevel)\n        this.node.scene.on(GameplayEvents.START_OVER, this.handleStartOver)\n        this.node.scene.on(GameplayEvents.MAX_LEVEL, this.handleMaxLevel)\n        this.node.scene.on(GameplayEvents.GAME_EXIT, this.handleExitGame)\n\n        this.node.scene.on(GameplayEvents.TILE_CLICK, this.handleTileClick)\n        this.node.scene.on(GameplayEvents.GRID_MATCH_SUCCESS, this.handleGridMatchSuccess)\n        this.node.scene.on(GameplayEvents.GRID_MATCH_FAIL, this.handleGridMatchFail)\n        this.node.scene.on(GameplayEvents.GRID_ORIENTATION_CHANGE, this.handleGridOrientationChange)\n\n        this.node.scene.on(GameplayEvents.PAUSE_TIME, this.handlePauseTime)\n        this.node.scene.on(GameplayEvents.RESUME_TIME, this.handleResumeTime)\n\n        this.node.scene.on(GameplayEvents.TIME_OUT, this.handleClockTimeout)\n        this.node.scene.on(GameplayEvents.HALF_TIME, this.handleHalfTime)\n        this.node.scene.on(GameplayEvents.RESCUE_START, this.handleStartRescue)\n        this.node.scene.on(GameplayEvents.RESCUE_FINISHED, this.handleFinishRescue)\n        this.node.scene.on(GameplayEvents.BOMB_EXPLODE, this.handleBombExplode)\n        this.node.scene.on(GameplayEvents.SHOW_HINT, this.handleShowHint)\n\n        this.node.scene.on(GameplayEvents.ADD_SCORE, this.handleAddScore)\n\n        this.node.scene.on(GameplayEvents.GRID_CLEAR, this.handleGridClear)\n\n        this.node.scene.on(GameplayEvents.USE_ITEM, this.handleUseItem)\n\n        this.node.scene.on(GameplayEvents.ADD_ITEM, this.handleAddItem)\n\n        this.node.scene.on(GameplayEvents.AUTO_PLAY, this.handleAutoPlay)\n\n        this.node.scene.on(GameplayEvents.ADD_STARS, this.handleAddStars)\n    }\n\n    private listenFlowEvents(): void {\n        this.node.scene.on(GameplayEvents.CHALLENGE_FRIENDS, this.handleChallengeFriends)\n    }\n\n    public async start(): Promise<void> {\n        this.initDataFirstTime()\n        await this.tryInitTournamentMode()\n        this.initGame()\n        // this.initDevTools()\n    }\n\n    private initDataFirstTime(): void {\n        this.initData()\n\n        const sceneData = this.getSceneData()\n        const { isFromLoader = false } = sceneData ?? {}\n\n        let { level } = sceneData ?? {}\n        if (level === undefined) {\n            if (MatchUtils.getMatchMode() === Modes.TOURNAMENT) {\n                level = 1\n            } else {\n                level = player.getGameData()?.level ?? 0\n            }\n        }\n\n        this.setGameData({ level, isFromLoader })\n    }\n\n    private initData(): void {\n        const sceneData = this.getSceneData()\n        const { isFromLoader = false } = sceneData ?? {}\n\n        const { level = 1, items } = player.getGameData() ?? {}\n        const isFirstLogin = level === 0 && isFromLoader\n\n        if (isFirstLogin && items) {\n            items.hint = 2\n            items.thunder = 1\n            items.storm = 1\n            items.pliers = 0\n\n            player.setGameData({\n                items,\n                coins: 500,\n                lastRewardedItems: Date.now(),\n            })\n\n            this.node.scene.emit(GameplayEvents.ADD_COINS, { coins: 500, playSound: false } as CoinDataPayload)\n        } else if (items && this.checkItemsRewardable()) {\n            if (items.hint < 5) items.hint += 1\n            if (items.thunder < 5) items.thunder += 1\n            if (items.storm < 5) items.storm += 1\n            if (items.pliers < 5) items.pliers += 1\n\n            player.setGameData({\n                items,\n                lastRewardedItems: Date.now(),\n            })\n        }\n\n        this.setGameData({\n            ...DEFAULT_GAME_DATA,\n            level,\n        })\n    }\n\n    private checkItemsRewardable(): boolean {\n        const { lastRewardedItems = 0 } = player.getGameData() ?? {}\n\n        if (T.isToday(lastRewardedItems)) return false\n\n        return true\n    }\n\n    private initGame(): void {\n        this.stateManager.init(this)\n        this.stateManager.initialize()\n    }\n\n    private async tryInitTournamentMode(): Promise<void> {\n        const mode = MatchUtils.getMatchMode()\n        if (mode !== Modes.TOURNAMENT) return\n\n        this.tournamentManager = this.getComponent(TournamentManager)!\n        await this.tournamentManager.init()\n\n        const { leaderboardData, leaderboardName, tournamentData } = this.tournamentManager\n\n        //? Set game theme id\n        if (!tournamentData) return\n        const { themeId } = tournamentData.payload\n        this.setGameData({ themeId })\n\n        //? Request leaderboard data and update player's previous score\n        if (!leaderboardData || !leaderboardName) return\n        const playerId = player.getPlayerId()\n        let playerLeader = leaderboardData.leaders[playerId]\n\n        if (!playerLeader && leaderboard) {\n            const playerLeaders = await leaderboard.getLeadersByPlayerIdsAsync(leaderboardName, [playerId])\n            if (playerLeaders.length === 0) return\n\n            playerLeader = playerLeaders[0]\n        }\n\n        storage.setStorageData('tournament', 'previousScore', playerLeader?.score ?? 0)\n    }\n\n    public setGameData(data: GameData): void {\n        const correctLevel = data.level ?? this.gameData?.level ?? 1\n\n        this.gameData = {\n            ...this.gameData,\n            ...data,\n            level: correctLevel,\n        }\n    }\n\n    public getGameData(): GameData | null {\n        return this.gameData\n    }\n\n    private getSceneData(): SceneData | null {\n        return SceneUtils.getSceneData(this.node.scene)\n    }\n\n    private readonly handlePauseGame = (): void => {\n        this.node.scene.emit(GameplayEvents.PAUSE_TIME)\n        this.node.pauseSystemEvents(true)\n        this.opacityToggler.changeStateFade(false, 0.1)\n        this.uiManager.setComboUI(false)\n        this.processCrazyGamesGameplayStop()\n    }\n\n    private readonly handleResumeGame = (): void => {\n        this.node.resumeSystemEvents(true)\n\n        if (this.stateManager.isPlaying()) {\n            this.node.scene.emit(GameplayEvents.RESUME_TIME)\n        }\n\n        this.processCrazyGamesGameplayStart()\n        this.opacityToggler.changeStateFade(true, 0.1)\n        this.uiManager.setComboUI(true)\n\n        this.guidelinesManager?.startAutoGuides()\n    }\n\n    private readonly handleReplayGame = async (forceMode?: string): Promise<void> => {\n        this.handleHideHint()\n\n        try {\n            const mode = MatchUtils.getMatchMode()\n            if (mode === Modes.SINGLE || mode === GameModes.CUSTOM) {\n                await MatchUtils.finishMatchAsync()\n            }\n\n            if (mode !== Modes.CHALLENGE_FRIEND) {\n                await MatchUtils.startMatchAsync(forceMode)\n            }\n\n            if (mode === Modes.TOURNAMENT) {\n                await MatchUtils.setMatchCustomDataAsync({ level: 1, score: 0 })\n                this.setGameData({ level: 1 })\n            }\n        } catch (error) {\n            console.warn('handleReplayGame', error)\n        }\n\n        this.stateManager.initialize()\n    }\n\n    private readonly handleFinishGame = () => {\n        this.attemptCallCreateShortcut()\n\n        if (this.guidelinesManager?.isNewbieGuideLevel()) {\n            this.guidelinesManager.guideUi.guideSkipButton.active = false\n            this.handleNextLevel()\n        } else {\n            this.stateManager.finish()\n        }\n    }\n\n    private readonly handleNextLevel = async (): Promise<void> => {\n        if (!this.gameData) return\n\n        const mode = MatchUtils.getMatchMode()\n\n        try {\n            if (mode === Modes.SINGLE || mode === GameModes.CUSTOM) {\n                await MatchUtils.finishMatchAsync()\n            }\n        } catch (error) {\n            console.warn('handleNextLevel', error)\n        }\n\n        const correctLevel = this.gameData.level ?? 1\n        const nextLevel = correctLevel + 1\n\n        this.setGameData({ level: nextLevel })\n\n        if (mode === Modes.TOURNAMENT) {\n            await MatchUtils.setMatchCustomDataAsync({ level: nextLevel })\n        } else {\n            await MatchUtils.setMatchCustomDataAsync({ level: nextLevel, score: 0 })\n            await MatchUtils.startMatchAsync()\n        }\n\n        this.stateManager.initialize()\n\n        console.log('Next level', this.gameData.level)\n    }\n\n    private readonly handleStartOver = async (level?: number): Promise<void> => {\n        player.setGameData({\n            level: level ?? 1,\n        })\n\n        await MatchUtils.setMatchCustomDataAsync({ level, score: 0 })\n\n        this.gameData = player.getGameData()\n\n        this.stateManager.initialize()\n\n        console.info('Start over', this.gameData?.level)\n    }\n\n    private readonly handleMaxLevel = (): void => {\n        if (!this.gameData) return\n\n        this.initData()\n\n        ScreenUtils.openScreen(ScreenKeysEnum.CONGRATULATION_SCREEN, {\n            level: this.gameData.level,\n        })\n\n        console.info('Max level', this.gameData.level)\n    }\n\n    private readonly handleExitGame = async () => {\n        try {\n            storage.setStorageData('dashboard', 'animateToCurrentLevel', true)\n            storage.setStorageData('collection', 'animateMapPackUnlock', true)\n        } catch (error) {\n            console.warn('handleExitGame', error)\n        }\n    }\n\n    private readonly handleTileClick = (tile: Tile) => {\n        this.stateManager.playing()\n        this.board.handleTileClick(tile)\n        this.handleHideHint()\n    }\n\n    private readonly handleGridMatchSuccess = (path: Path, match: [Tile, Tile]) => {\n        this.pathDraw.drawMatchPath(path, ({ x, y }) => this.board.getAnyTileWorldPosition(x, y))\n\n        this.comboManager.addCombo()\n\n        this.handleAddScore()\n\n        this.effectManager.playClearEffectAt([match[0].node.worldPosition, match[1].node.worldPosition])\n    }\n\n    private readonly handleGridMatchFail = (path: Path) => {\n        if (!this.guidelinesManager?.isShowErrorPathLevel()) return\n\n        this.pathDraw.drawErrorPath(path, ({ x, y }) => this.board.getAnyTileWorldPosition(x, y))\n    }\n\n    private readonly handleGridClear = async () => {\n        const uncleared = this.board.getUncleared()\n\n        //? Preload interstitial ads when 10 tiles remain\n        if (AdTypes && uncleared.length === 10 && !this.isAdPreloadedForCurrentLevel) {\n            this.isAdPreloadedForCurrentLevel = true\n            AdsUtils.preloadAdsByType(AdTypes.INTERSTITIAL)\n        }\n\n        if (uncleared.length === 0) {\n            this.node.scene.emit(GameplayEvents.GAME_FINISH)\n        }\n\n        //? Request tournament leaderboard data when 8 tiles remain\n        if (uncleared.length === 8) {\n            await this.tournamentManager?.requestLeaderData()\n            this.uiManager?.currentLayout.tournamentRail.handleScoreUpdated({\n                score: this.scoreManager.getCurrentScore(),\n                leaderData: this.tournamentManager?.leaderData,\n            })\n        }\n    }\n\n    private handlePauseTime = () => {\n        this.clockManager.pause()\n        this.uiManager.pauseTime()\n    }\n\n    private handleResumeTime = () => {\n        this.clockManager.resume()\n        this.uiManager.resumeTime()\n    }\n\n    private readonly handleClockTimeout = () => {\n        this.stateManager.fail(FailKeys.TIME)\n    }\n\n    private readonly handleHalfTime = () => {\n        if (this.guidelinesManager === undefined) return\n\n        if (this.board.getUncleared().length >= this.board.getCleared().length) {\n            if (this.guidelinesManager.startThunderGuide()) return\n        }\n\n        if (this.board.getBombTiles().length > 0) {\n            if (this.guidelinesManager.startPliersGuide()) return\n        }\n    }\n\n    private readonly handleStartRescue = () => {\n        AudioUtils.turnDownMusic()\n        GeneralUtils.setBlockInput(true)\n        this.board.setIgnoreInput(true)\n\n        if (this.rescueTiles.length > 0) {\n            for (const tile of this.rescueTiles) {\n                tile.restore()\n            }\n            this.rescueTiles = []\n        }\n\n        const mode = MatchUtils.getMatchMode() ?? undefined\n\n        analytics?.levelRescue(this.gameData?.level ?? 1, undefined, mode)\n    }\n\n    private readonly handleFinishRescue = () => {\n        GeneralUtils.setBlockInput(false)\n        this.board.setIgnoreInput(false)\n    }\n\n    private readonly handleBombExplode = async (tile: Tile) => {\n        this.rescueTiles.push(tile)\n        this.board.setIgnoreInput(true)\n\n        if (!GeneralUtils.getBlockInput()) {\n            AudioUtils.playSound(CodeSoundKeys.BOMB_EXPLODE_1)\n            GeneralUtils.setBlockInput(true)\n        }\n\n        const position = tile.node.worldPosition\n        await this.effectManager.createBombExplosionAt(new Vec3(position.x, position.y, 0))\n\n        GeneralUtils.setBlockInput(false)\n\n        if (this.stateManager.isFail()) return\n        this.stateManager.fail(FailKeys.BOMB)\n    }\n\n    private readonly handleShowHint = () => {\n        if (this.pathDraw.isDrawingHint) return\n\n        const path = this.board.getHintPath()\n        if (!path) return\n\n        AudioUtils.playSound(CodeSoundKeys.HINT_ITEM)\n\n        this.pathDraw.drawHintPath(path, (coords) => this.board.getAnyTileWorldPosition(coords.x, coords.y))\n\n        this.board.showHint()\n\n        this.node.scene.emit(GameplayEvents.REFRESH_ITEMS)\n    }\n\n    private readonly handleGridOrientationChange = () => {\n        this.handleHideHint()\n    }\n\n    private readonly handleHideHint = () => {\n        if (!this.pathDraw.isDrawingHint) return\n\n        this.pathDraw.clearHintPath()\n        this.board.hideHint()\n\n        this.node.scene.emit(GameplayEvents.REFRESH_ITEMS)\n    }\n\n    private readonly handleAddScore = () => {\n        const currentLevel = this.levelManager.getLevelData().level\n        const currentCombo = this.comboManager.getCombo()\n        const remainingTime = this.clockManager.getRemainingTime()\n\n        this.scoreManager.addScore(currentLevel, currentCombo, remainingTime)\n    }\n\n    private readonly handleUseItem = async (item: ItemKey) => {\n        this.stateManager.playing()\n\n        if (item !== ItemKeys.HINT) {\n            this.handleHideHint()\n        }\n\n        this.itemManager.setQuantity(item, this.itemManager.getQuantity(item) - 1)\n\n        switch (item) {\n            case ItemKeys.HINT:\n                useHintItem(this.board, this.pathDraw)\n                this.node.scene.emit(GameplayEvents.REFRESH_ITEMS)\n                break\n            case ItemKeys.PLIERS:\n                usePliersItem(this.board, this.effectManager)\n                this.node.scene.emit(GameplayEvents.REFRESH_ITEMS)\n                break\n            case ItemKeys.STORM:\n                this.node.scene.emit(GameplayEvents.HIDE_UI)\n                this.node.scene.emit(GameplayEvents.PAUSE_TIME)\n                await useTornadoItem(this.board, this.effectManager)\n                this.node.scene.emit(GameplayEvents.RESUME_TIME)\n                this.node.scene.emit(GameplayEvents.SHOW_UI)\n                break\n            case ItemKeys.THUNDER: {\n                this.node.scene.emit(GameplayEvents.HIDE_UI)\n                this.node.scene.emit(GameplayEvents.PAUSE_TIME)\n                await useThunderItem(this.board, this.effectManager)\n                const uncleared = this.board.getUncleared()\n                if (uncleared.length > 0) {\n                    this.node.scene.emit(GameplayEvents.RESUME_TIME)\n                    this.node.scene.emit(GameplayEvents.SHOW_UI)\n                }\n            }\n        }\n    }\n\n    private readonly handleAutoPlay = () => {\n        if (this.isAutoPlayEnabled) {\n            this.disableAutoPlay()\n        } else {\n            this.enableAutoPlay()\n        }\n    }\n\n    private readonly enableAutoPlay = () => {\n        this.isAutoPlayEnabled = true\n        this.schedule(this.autoPlay, 0.5)\n    }\n\n    private readonly disableAutoPlay = () => {\n        this.isAutoPlayEnabled = false\n        this.unschedule(this.autoPlay)\n    }\n\n    private readonly autoPlay = () => {\n        if (!this.stateManager.isReady() && !this.stateManager.isPlaying()) return\n\n        const path = this.board.getHintPath()\n\n        if (path) {\n            const startLine = path[0]\n            const endLine = path.slice(-1)[0]\n\n            if (startLine === undefined || endLine === undefined) {\n                const error = new Error('No path found')\n                if (V.isDebugger()) throw error\n                monitorError?.sendException(error)\n                return\n            }\n\n            const start = startLine.a\n            const end = endLine.b\n\n            const startTile = this.board.getTileAt(start.x, start.y)\n            const endTile = this.board.getTileAt(end.x, end.y)\n\n            if (!startTile || !endTile) throw new Error('Tile is null')\n\n            startTile.onClick()\n            endTile.onClick()\n        } else {\n            throw new Error('No path found')\n        }\n    }\n\n    private readonly handleAddStars = (payload: AddStarsPayload) => {\n        const gameData = player.getGameData()\n        if (!gameData) return Promise.resolve([])\n\n        player.setGameData({\n            stars: gameData.stars + 1,\n        })\n\n        const { startAnimationAt } = payload\n        if (!startAnimationAt) return\n\n        this.effectManager.playStarEffectAt(startAnimationAt)\n    }\n\n    private readonly handleChallengeFriends = async () => {\n        try {\n            ScreenUtils.showLoadingScreen()\n\n            const fen = this.board.generateFenFromCurrentLevel()\n            let { level = 1 } = player.getGameData() ?? {}\n            //? Avoid playing level 0 (Newbie Guide)\n            level = Math.max(1, level)\n\n            const {\n                mode: gravity = '',\n                rules = { addRandomTilesPerMove: 0, maxSpaceOfPair: 0 },\n                time = 0,\n            } = this.gameData?.levelData ?? {}\n\n            await match?.context.choose.processAsync({\n                playerId: player.getPlayerId(),\n                fallbackSingleMode: false,\n                extraData: {\n                    challengeData: {\n                        level,\n                        fen,\n                        gravity,\n                        rules,\n                        time,\n                    },\n                },\n            })\n\n            if (MatchUtils.getMatchMode() === Modes.TOURNAMENT) {\n                //? If player choose tournament context\n                await this.tryInitTournamentMode()\n            }\n\n            ScreenUtils.closeLoadingScreen()\n\n            this.node.scene.emit(GameplayEvents.UPDATE_MUSIC)\n            this.node.scene.emit(GameplayEvents.GAME_RESUME)\n            this.node.scene.emit(GameplayEvents.GAME_REPLAY, {\n                level,\n            })\n        } catch (e) {\n            const error = e instanceof Error ? e : new Error('Unable to invite friends')\n            monitorError?.sendException(error)\n\n            ScreenUtils.closeLoadingScreen()\n            ScreenUtils.showNotificationScreenWithLocalizedKey('error.tryLater')\n\n            this.node.scene.emit(GameplayEvents.GAME_RESUME)\n            this.node.scene.emit(GameplayEvents.SHOW_UI)\n        }\n    }\n\n    private attemptCallCreateShortcut(): void {\n        const { level = 0, nextLevelCount = 0 } = this.getGameData() ?? {}\n\n        // ? Don't create shortcut for first level\n        if (level < 2) return\n\n        // ? Don't create shortcut for first 2 next levels\n        if (nextLevelCount < 2) return\n\n        GameSDK.extra.checkAndCreateShortcutAsync().catch((error: Error) => {\n            console.warn('checkAndCreateShortcutAsync', error)\n        })\n    }\n\n    private processCrazyGamesGameplayStart(): void {\n        if ('gameplayStart' in GameSDK.extra) {\n            GameSDK.extra.gameplayStart()\n        }\n    }\n\n    private processCrazyGamesGameplayStop(): void {\n        if ('gameplayStop' in GameSDK.extra) {\n            GameSDK.extra.gameplayStop()\n        }\n    }\n\n    public disableRewardAdsItemForCrazyGames(): void {\n        if (!GameSDK.isGameSDK('CrazyGames')) return\n\n        //TODO: implement for CG\n    }\n\n    private readonly handleAddItem = async (payload: AddItemPayload): Promise<void> => {\n        const { animate, item: itemType, quantity: addedQuantity } = payload\n        const item = A.search(this.uiManager.items, (item) => item.itemType === itemType)\n\n        if (item === undefined) {\n            console.warn(`Item ${itemType} not found`)\n            return\n        }\n\n        const quantity = this.itemManager.getQuantity(itemType)\n        const newQuantity = quantity + addedQuantity\n\n        this.itemManager.saveQuantity(itemType, newQuantity)\n        this.uiManager.setInteractableItems(false)\n\n        if (animate) {\n            const { startWorldPosition } = animate\n            await this.effectManager.playItemAddAnimation(startWorldPosition.x, startWorldPosition.y, item)\n        }\n\n        this.itemManager.setQuantity(itemType, newQuantity, true)\n        this.uiManager.setInteractableItems(true)\n    }\n}\n","import { ccenum } from 'cc'\n\nenum DashboardEventButtonTypes {\n    STAR_CHEST = 0,\n    BALLOON = 1,\n    DAILY_REWARDS = 2,\n}\n\nccenum(DashboardEventButtonTypes)\n\nexport default DashboardEventButtonTypes\n","enum LeaderboardEvents {\n    WORLD_TAB_SELECTED = 'world-tab-selected',\n    WEEKLY_TAB_SELECTED = 'weekly-tab-selected',\n    OVERLAY_SHOW_STARTED = 'overlay-show-started',\n    OVERLAY_SHOW_COMPLETED = 'overlay-show-completed',\n}\n\nconst LeaderboardColor = {\n    GOLD_RANK_OUTLINE: '#AE4212',\n    SILVER_RANK_OUTLINE: '#3D5172',\n    BRONZE_RANK_OUTLINE: '#92200C',\n    DEFAULT_LABEL: '#8F5542',\n    DEFAULT_LABEL_OUTLINE: '#8A4733',\n    HIGHLIGHT_LABEL: '#3e7110',\n    HIGHLIGHT_LABEL_OUTLINE: '#3e7110',\n}\n\nexport { LeaderboardColor }\nexport default LeaderboardEvents\n","import ThemeKeys from './ThemeKeys'\n\nconst ThemeLocaleKeys = {\n    [ThemeKeys.SUMMER]: 'theme.summer',\n    [ThemeKeys.AUTUMN]: 'theme.autumn',\n    [ThemeKeys.WINTER]: 'theme.winter',\n    [ThemeKeys.SPRING_FESTIVAL]: 'theme.springFestival',\n    [ThemeKeys.TREE_PLANTING_FESTIVAL]: 'theme.treePlantingFestival',\n    [ThemeKeys.BLUE_SEA_FESTIVAL]: 'theme.blueSeaFestival',\n    [ThemeKeys.MUSIC_FESTIVAL]: 'theme.musicFestival',\n    [ThemeKeys.HARVEST_FESTIVAL]: 'theme.harvestFestival',\n    [ThemeKeys.FOOD_FESTIVAL]: 'theme.foodFestival',\n    [ThemeKeys.SNOW_FESTIVAL]: 'theme.snowFestival',\n    [ThemeKeys.LIGHT_FESTIVAL]: 'theme.lightFestival',\n    [ThemeKeys.PEACE_FESTIVAL]: 'theme.peaceFestival',\n    [ThemeKeys.FLOWER_FESTIVAL]: 'theme.flowerFestival',\n    [ThemeKeys.STREET_FESTIVAL]: 'theme.streetFestival',\n    [ThemeKeys.COLOR_GARDEN]: 'theme.colorGarden',\n    [ThemeKeys.COLOR_FESTIVAL]: 'theme.colorFestival',\n    [ThemeKeys.NATURE_SUMMER]: 'theme.natureSummer',\n    [ThemeKeys.SNOW_MOUNTAIN]: 'theme.snowMountain',\n    [ThemeKeys.ICE_FESTIVAL]: 'theme.iceFestival',\n    [ThemeKeys.GREEN_GRASS_FESTIVAL]: 'theme.greenGrassFestival',\n    [ThemeKeys.COMMUNITY_FESTIVAL]: 'theme.communityFestival',\n    [ThemeKeys.WATER_FESTIVAL]: 'theme.waterFestival',\n    [ThemeKeys.ANIMAL_FESTIVAL]: 'theme.animalFestival',\n    [ThemeKeys.LOST_FESTIVAL]: 'theme.lostFestival',\n    [ThemeKeys.HALLOWEEN_FESTIVAL]: 'theme.halloweenFestival',\n    [ThemeKeys.SNOW_MUSIC_FESTIVAL]: 'theme.snowMusicFestival',\n    [ThemeKeys.CHRISTMAS]: 'theme.christmas',\n    [ThemeKeys.SPRING_FLOWER_FESTIVAL]: 'theme.springFlowerFestival',\n    [ThemeKeys.TET_HOLIDAY]: 'theme.tetHoliday',\n    [ThemeKeys.SEA_FESTIVAL]: 'theme.seaFestival',\n    [ThemeKeys.FIREWORK_FESTIVAL]: 'theme.fireworkFestival',\n    [ThemeKeys.HALLOWEEN_HORROR]: 'theme.halloweenHorror',\n    [ThemeKeys.MID_AUTUMN]: 'theme.midAutumn',\n    [ThemeKeys.CHRISTMAS_SWEET]: 'theme.christmasSweet',\n    [ThemeKeys.NEW_YEAR_COUNTDOWN]: 'theme.newYearCountdown',\n    [ThemeKeys.HAPPY_NEW_YEAR]: 'theme.happyNewYear',\n} as const satisfies Record<ThemeKeys, Ludex.Plugins.Language.TextKey>\n\nexport default ThemeLocaleKeys\n","import Board from './Board'\nimport Grid from './grid'\nimport Tile from './tile'\n\nexport { Board, Grid, Tile }\nexport default Board\n","import type Grid from '../../grid'\nimport type Tile from '../../tile'\n\nexport default function isEmptyBoard(grid: Grid<Tile>): boolean {\n    return grid.asArray().every((tile) => tile.isHidden())\n}\n","import { _decorator } from 'cc'\nimport ItemKeys from '../../constants/ItemKeys'\nimport { SpecialItem } from './SpecialItem'\n\nconst { ccclass } = _decorator\n\n@ccclass('HintItem')\nexport default class HintItem extends SpecialItem {\n    public override get itemType(): ItemKey {\n        return ItemKeys.HINT\n    }\n}\n","import { _decorator } from 'cc'\nimport ItemKeys from '../../constants/ItemKeys'\nimport { SpecialItem } from './SpecialItem'\n\nconst { ccclass } = _decorator\n\n@ccclass('PliersItem')\nexport default class PliersItem extends SpecialItem {\n    public override get itemType(): ItemKey {\n        return ItemKeys.PLIERS\n    }\n}\n","import { _decorator } from 'cc'\nimport ItemKeys from '../../constants/ItemKeys'\nimport { SpecialItem } from './SpecialItem'\n\nconst { ccclass } = _decorator\n\n@ccclass('StormItem')\nexport default class StormItem extends SpecialItem {\n    public override get itemType(): ItemKey {\n        return ItemKeys.STORM\n    }\n}\n","import { _decorator } from 'cc'\nimport ItemKeys from '../../constants/ItemKeys'\nimport { SpecialItem } from './SpecialItem'\n\nconst { ccclass } = _decorator\n\n@ccclass('ThunderItem')\nexport default class ThunderItem extends SpecialItem {\n    public override get itemType(): ItemKey {\n        return ItemKeys.THUNDER\n    }\n}\n","import ItemKeys from '../../constants/ItemKeys'\nimport type EffectManager from '../../manager/EffectManager'\nimport type Board from '../board'\nimport withBlockedInput from './withBlockedInput'\nimport withItemAnalytics from './withItemAnalytics'\nimport withLoweredVolume from './withLoweredVolume'\n\nconst useTornadoThunderCombinedLogic = async (board: Board, effectManager: EffectManager) => {\n    const uncleared = board.getUncleared()\n    if (uncleared.length <= 2 * 2) return\n\n    const pairCount = uncleared.length / 2\n    const halfPairCount = Math.ceil(pairCount / 2)\n    const pairs = board.getPairs(halfPairCount)\n\n    board.clearSelectedTile()\n\n    await effectManager.playMultiThunderAnimation(pairs, board, 0.125)\n}\n\nconst useTornadoThunderCombined = withItemAnalytics(\n    ItemKeys.THUNDER,\n    withLoweredVolume(withBlockedInput(useTornadoThunderCombinedLogic)),\n)\n\nexport default useTornadoThunderCombined\n","import { type Rect, Vec2 } from 'cc'\n\nexport type Point = {\n    position: IVec2Like\n    radius: number\n    isStatic: boolean\n}\n\nexport default function separatePoints(points: Point[], minDistance: number, boundingBox: Rect): void {\n    const maxIterations = 30\n    let iterations = 0\n\n    while (iterations++ < maxIterations) {\n        let adjusted = false\n\n        for (let i = 0; i < points.length; i++) {\n            for (let j = i + 1; j < points.length; j++) {\n                const a = points[i]!\n                const b = points[j]!\n\n                // Calculate effective minimum distance based on their radii\n                const effectiveDistance = minDistance + a.radius + b.radius\n\n                // Adjust only if they are too close\n                if (Vec2.distance(a.position, b.position) < effectiveDistance) {\n                    adjusted ||= adjustPosition(a, b, effectiveDistance, boundingBox)\n                }\n            }\n        }\n\n        if (!adjusted) break\n    }\n\n    // Ensure all points remain within the bounding box\n    for (const point of points) clampToBoundingBox(point, boundingBox)\n}\n\nfunction adjustPosition(a: Point, b: Point, minDistance: number, boundingBox: Rect): boolean {\n    const posA = a.position\n    const posB = b.position\n    const distance = Vec2.distance(posA, posB)\n\n    if (distance >= minDistance) return false\n\n    const direction = new Vec2(posB.x - posA.x, posB.y - posA.y).normalize()\n    const overlap = minDistance - distance\n\n    // Static points should not move\n    if (!a.isStatic && !b.isStatic) {\n        posA.x -= direction.x * overlap * 0.5\n        posA.y -= direction.y * overlap * 0.5\n        posB.x += direction.x * overlap * 0.5\n        posB.y += direction.y * overlap * 0.5\n    } else if (!a.isStatic) {\n        posA.x -= direction.x * overlap\n        posA.y -= direction.y * overlap\n    } else if (!b.isStatic) {\n        posB.x += direction.x * overlap\n        posB.y += direction.y * overlap\n    }\n\n    // Clamp adjusted positions to the bounding box\n    clampToBoundingBox(a, boundingBox)\n    clampToBoundingBox(b, boundingBox)\n\n    return true\n}\n\nfunction clampToBoundingBox(point: Point, boundingBox: Rect): void {\n    const { position, radius } = point\n\n    position.x = Math.max(boundingBox.xMin + radius, Math.min(boundingBox.xMax - radius, position.x))\n    position.y = Math.max(boundingBox.yMin + radius, Math.min(boundingBox.yMax - radius, position.y))\n}\n","/**\n * Iterates over a 2D grid in a straight line.\n * @param from The coordinate to start from. Inclusive.\n * @param direction The direction to increment by.\n * @param steps The number of steps to take. If <= 0, will iterate once yielding the starting coordinate.\n */\nexport default function* traverse4(\n    from: IVec2Like,\n    direction: DirectionType,\n    steps = 0,\n): Generator<IVec2Like, void, unknown> {\n    let s = steps\n    if (s < 0) {\n        yield from\n        return\n    }\n\n    let x = from.x\n    let y = from.y\n\n    while (s >= 0) {\n        yield {\n            x,\n            y,\n        }\n\n        x += direction.x\n        y += direction.y\n        s -= 1\n    }\n}\n","// Create a shallow copy of the original array to avoid modifying the original.\nexport default function shuffleArray<T>(array: T[]): T[] {\n    const shuffledArray = [...array]\n    for (let i = shuffledArray.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1))\n        ;[shuffledArray[i], shuffledArray[j]] = [shuffledArray[j], shuffledArray[i]]\n    }\n    return shuffledArray\n}\n","import shuffleArray from '../array/shuffle'\n\n/**\n * Iterator to iterate through a grid in a spiral from the outside in\n * @param width the width of the grid\n * @param height the height of the grid\n * @yields [x, y] coordinates of the grid, row first\n */\nexport default function* randomTraversal(width: number, height: number): Generator<Vec2Like, void, unknown> {\n    const tldr = []\n\n    for (let i = 0; i < width; i++) {\n        for (let j = 0; j < height; j++) {\n            tldr.push({ x: i, y: j })\n        }\n    }\n\n    const random = shuffleArray(tldr)\n\n    for (const { x, y } of random) {\n        yield { x, y }\n    }\n}\n","/**\n * Place a string inside a string of padding characters.\n * @param pad The placeholder for the string to sit in.\n * @param str The string to pad. This string will be truncated if it is longer than the padding string.\n * @param padLeft Whether to pad the left side of the string or the right side.\n * @returns\n */\nexport default function pad(pad: string, str: string, padLeft: boolean) {\n    if (typeof str === 'undefined') return pad\n    if (padLeft) {\n        return (pad + str).slice(-pad.length)\n    }\n\n    return (str + pad).substring(0, pad.length)\n}\n","import { _decorator, Material, SpriteFrame } from 'cc'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('RendererModule')\nexport class RendererModule {\n    @property(Material)\n    public material!: Material\n\n    @property(SpriteFrame)\n    public spriteFrame!: SpriteFrame\n}\n","import type { Vec2 } from 'cc'\nimport { _decorator, Component, ParticleSystem2D } from 'cc'\nimport ComponentUtils from '../../utils/ComponentUtils'\n\nconst { ccclass, disallowMultiple, executeInEditMode, requireComponent } = _decorator\n\n@ccclass('ParticleSystem2DExtra')\n@executeInEditMode(true)\n@disallowMultiple(true)\n@requireComponent(ParticleSystem2D)\nexport abstract class ParticleSystem2DExtra extends Component {\n    protected particleSystem!: ParticleSystem2D\n\n    public __preload(): void {\n        // called before onLoad, use for initialization\n\n        this.particleSystem = this.getComponent(ParticleSystem2D)!\n        this.validateRequiredComponents()\n\n        this.overrideFunctions()\n    }\n\n    /**\n     * Call when a new particle is emitted\n     */\n    public abstract initParticle(particle: Particle2DExtra): void\n\n    /**\n     * Call every frame to update a particle\n     */\n    public abstract updateParticle(particle: Particle2DExtra, dt: number): void\n\n    private overrideFunctions() {\n        const emitParticle = this.particleSystem._simulator.emitParticle.bind(this.particleSystem._simulator)\n        this.particleSystem._simulator.emitParticle = this.emitParticle(emitParticle)\n\n        const stepFunction = this.particleSystem._simulator.step.bind(this.particleSystem._simulator)\n        this.particleSystem._simulator.step = this.step(stepFunction)\n    }\n\n    private emitParticle =\n        (func: (pos: Vec2) => void) =>\n        (position: Vec2): void => {\n            func(position)\n\n            //? customize in here\n            const length = this.particleSystem._simulator.particles.length\n            const newParticle = this.particleSystem._simulator.particles[length - 1]\n            this.initParticle(newParticle)\n        }\n\n    private step =\n        (func: (dt: number) => void) =>\n        (dt: number): void => {\n            //? customize in here\n            const particles = this.particleSystem._simulator.particles\n            for (let i = 0; i < particles.length; i++) {\n                const particle = particles[i]\n                this.updateParticle(particle, dt)\n            }\n\n            func(dt)\n        }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n}\n","import type { Vec2 } from 'cc'\nimport { _decorator, math } from 'cc'\nimport { ParticleSystem2DExtra } from '../ParticleSystem2DExtra'\n\nconst { ccclass } = _decorator\n\ninterface ExampleParticle extends Particle2DExtra {\n    maxSize: number\n    cycleDuration: number\n    life: number\n}\n\n@ccclass('ExampleParticleSystem2DExtra')\nexport class ExampleParticleSystem2DExtra extends ParticleSystem2DExtra {\n    public initParticle(particle: ExampleParticle): void {\n        particle.maxSize = math.randomRange(0.25, 1) * particle.size\n\n        particle.size = 0\n        particle.deltaSize = 0\n        particle.cycleDuration = math.randomRange(0.4, 0.6)\n        particle.life = particle.timeToLive\n\n        this.setInitPosition(particle.pos)\n    }\n\n    public updateParticle(particle: ExampleParticle, _dt: number): void {\n        this.updateScale(particle)\n    }\n\n    private setInitPosition(out: Vec2) {\n        const rectW = 700\n        const rectH = 700\n        const x = out.x\n        const y = out.y\n\n        out.x = x + math.randomRange(-rectW / 2, rectW / 2)\n        out.y = y + math.randomRange(-rectH / 2, rectH / 2)\n\n        return out\n    }\n\n    private updateScale(particle: ExampleParticle) {\n        const liftCurrent = particle.life - particle.timeToLive\n        const currentCycleRatio = (liftCurrent % particle.cycleDuration) / particle.cycleDuration\n        const cubicLifeProgress = 1 - currentCycleRatio\n        particle.size = particle.maxSize * Math.sin(cubicLifeProgress * Math.PI)\n    }\n}\n","import { _decorator, Component, game, native } from 'cc'\nimport { ANDROID } from 'cc/env'\nimport Ads from '../../constants/Ads'\nimport SceneKeys from '../../constants/SceneKeys'\nimport MapData from '../../gameplay/constants/MapData'\nimport TotalLevel from '../../gameplay/constants/TotalLevel'\nimport AdsUtils from '../../utils/AdsUtils'\nimport AudioUtils from '../../utils/AudioUtils'\nimport ResourceUtils from '../../utils/ResourceUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport ThemeUtils from '../../utils/ThemeUtils'\nimport WasmUtils from '../../utils/WasmUtils'\n\nconst { ccclass, disallowMultiple } = _decorator\n\nconst {\n    Events,\n    Utils: { Valid: V },\n    Configs: {\n        Core: { StartSDKAfterLoadGame },\n    },\n    Plugins: { Ads: { Types: AdsTypes } = {} },\n} = Ludex\n\nconst { ads, player, event, context } = codex\n\n@ccclass('BootScene')\n@disallowMultiple\nexport class BootScene extends Component {\n    public __preload() {\n        this.setupAndroidPlatformAds()\n        this.processCrazyGamesLoadingStart()\n\n        // ? This flow use to preload assets before game start\n        this.preloadAssets()\n\n        this.listenEvents()\n    }\n\n    private async preloadAssets() {\n        try {\n            game.pause()\n\n            await Promise.all([\n                this.loadWasmModules(),\n                this.loadBundles(),\n                this.loadCurrentPlayerTheme(),\n                this.loadGuideSkin(),\n            ])\n        } catch (error) {\n            console.warn('processPreloadAssets', error)\n        } finally {\n            // ? If ads is showing, don't resume game\n            if (!ads?.isAdFullSizeShowing()) {\n                game.resume()\n            }\n        }\n    }\n\n    public onLoad() {\n        this.handlePauseAudio()\n\n        this.overrideGameSDK()\n\n        this.setupLoadingFullScreen()\n    }\n\n    public async start() {\n        await GameSDK.extra.waitSDKInitiatedAsync()\n\n        this.processCrazyGamesLoadingStop()\n        this.disableBannerAdsOnStartingLevels()\n    }\n\n    private listenEvents() {\n        // ! This flow is custom for this game, only here, don't add to CorecosSystem\n        event.catchUp(Events.GAME_READY, this.lazyLoadWasmModules)\n        event.catchUp(Events.GAME_SDK_STARTED, this.processWhenGameSdkStarted)\n    }\n\n    private overrideGameSDK() {\n        // ? This is example to override some methods\n        if (!('FBInstant' in window)) return\n\n        if ('shareAsync' in FBInstant) {\n            const originalShareAsync = FBInstant.shareAsync\n\n            FBInstant.shareAsync = async (payload: FBInstant.SharePayload) => {\n                const customPayload: FBInstant.SharePayload = { ...payload }\n\n                // ? This is example to override data\n                // customPayload.data.playerId = null\n\n                return originalShareAsync(customPayload)\n            }\n        }\n    }\n\n    private readonly setupLoadingFullScreen = () => {\n        if (StartSDKAfterLoadGame) {\n            // ? Hide loading full screen\n            ScreenUtils.addShowedScene(SceneKeys.BOOT_SCENE)\n\n            if (player.isFirstSession()) {\n                ScreenUtils.addShowedScene(SceneKeys.GAME_SCENE)\n            } else {\n                ScreenUtils.addShowedScene(SceneKeys.DASHBOARD_SCENE)\n            }\n        } else {\n            ScreenUtils.showLoadingFullScreen(SceneKeys.BOOT_SCENE)\n        }\n    }\n\n    private processWhenGameSdkStarted = (): void => {\n        this.setupGameData()\n        this.sendMsGamesDailyNotification()\n    }\n\n    private setupGameData() {\n        const gameData = player.getGameData()\n        if (!gameData) return\n\n        const { totalLevel } = gameData\n\n        // * We need to correct the totalLevel to make sure it's keep max level of player\n        const correctTotalLevel = Math.max(totalLevel, TotalLevel)\n\n        const correctGameData = {\n            ...gameData,\n            totalLevel: correctTotalLevel,\n        }\n\n        player.setGameData(correctGameData)\n    }\n\n    private disableBannerAdsOnStartingLevels() {\n        if (!AdsTypes) return\n\n        const gameData = player.getGameData()\n        if (!gameData) return\n\n        const { level } = gameData\n        const showBannerAds = level !== undefined && level > Ads.NUM_LEVEL_WITHOUT_BANNER_ADS\n        AdsUtils.setAdEnable(AdsTypes.BANNER, showBannerAds)\n    }\n\n    private async loadCurrentPlayerTheme() {\n        const mapInfo = MapData.mapOrder\n        let currentMap: (typeof mapInfo)[number] = mapInfo[0]\n\n        if (!V.isObject(currentMap)) return\n\n        const gameData = player.getGameData()\n        let playerLevel = gameData?.level\n\n        if (!V.isNumber(playerLevel)) {\n            return ResourceUtils.loadThemeAsync(currentMap.theme)\n        }\n\n        for (const element of mapInfo) {\n            playerLevel -= element.levelCount\n            if (playerLevel <= 0) {\n                currentMap = element\n                break\n            }\n        }\n\n        return ResourceUtils.loadThemeAsync(currentMap.theme)\n    }\n\n    private async loadGuideSkin() {\n        if (!player.isFirstSession()) return\n\n        return ThemeUtils.loadLevelSpriteFrames(0)\n    }\n\n    private processCrazyGamesLoadingStart(): void {\n        if ('gameLoadingStart' in GameSDK.extra) {\n            GameSDK.extra.gameLoadingStart()\n        }\n    }\n\n    private processCrazyGamesLoadingStop(): void {\n        if ('gameLoadingStop' in GameSDK.extra) {\n            GameSDK.extra.gameLoadingStop()\n        }\n    }\n\n    private setupAndroidPlatformAds() {\n        if (!ANDROID) return\n\n        const extra = GameSDK.extra\n        if ('setStaticNativeAdMethod' in extra) {\n            extra.setStaticNativeAdMethod(native.reflection.callStaticMethod)\n        }\n    }\n\n    private sendMsGamesDailyNotification() {\n        const extra = GameSDK.extra\n\n        if ('sendDailyNotificationAsync' in extra) {\n            extra.sendDailyNotificationAsync().catch((error) => {\n                console.warn('sendMsGamesDailyNotification', error)\n            })\n        }\n    }\n\n    private loadBundles = async () => {\n        return Promise.all([ResourceUtils.loadBundle('loadable')])\n    }\n\n    // ? Lazy-load wasm modules\n    // * Comment some modules if it's not needed for your game\n    private loadWasmModules = async () => {\n        // * Instruction optimize WASM modules loading:\n        // ? Setting in Cocos Creator -> Project Settings -> Feature Cropping -> 2D: Spine Animation / 2D: 2D Physics System.\n        // ? Spine: WasmUtils.loadModuleAsync('spine')\n        // ? Physics Box2D: WasmUtils.loadModuleAsync('box2d')\n        // ? Physics PhysX: WasmUtils.loadModuleAsync('physx')\n        // ? Physics Bullet: WasmUtils.loadModuleAsync('bullet')\n        //\n        // ? Case 1 (Default): Don't configure \"Load Manual\" in Project Settings\n        // * Safe to use, wasm modules will be loaded when game start, but it's not optimize for loading time`\n        //\n        // ? Case 2: If game \"only\" use Spine/Physics in Prefabs, and not immediately use in Main Scene\n        // * Need to configure \"Load Manual\" in  Project Settings, and use code below\n        // return Promise.all([WasmUtils.loadModuleAsync('spine'), WasmUtils.loadModuleAsync('box2d')])\n        //\n        // ? Case 3: Like Case 2, but only load wasm modules when player is first session (new player) or context is not SOLO (switch to GameScene)\n        // * Need to configure \"Load Manual\" in  Project Settings, and use code below\n        if (context.getContextType() !== 'SOLO' || player.isFirstSession()) {\n            return Promise.all([WasmUtils.loadModuleAsync('spine')])\n        }\n        //\n        // ? Case 4: If game use immediately Spine/Physics in Main Scene\n        // * Need to disable \"Load Manual\" in Project Settings! This case is not supported for lazy-load wasm modules :D\n    }\n\n    private lazyLoadWasmModules = async () => {\n        // ? Uncomment below some wasm modules if your game need\n        await Promise.all([\n            WasmUtils.loadModuleAsync('spine'),\n            // WasmUtils.loadModuleAsync('box2d'),\n            // WasmUtils.loadModuleAsync('physx'),\n            // WasmUtils.loadModuleAsync('bullet'),\n        ])\n    }\n\n    private handlePauseAudio = () => {\n        event.on(Events.VISIBILITY_HIDDEN, this.handleMuteAudio)\n        event.on(Events.VISIBILITY_VISIBLE, this.handleUnMuteAudio)\n    }\n\n    private readonly handleMuteAudio = () => {\n        AudioUtils.muteAudio(true)\n    }\n\n    private readonly handleUnMuteAudio = () => {\n        // ? If ads is showing, don't unmute audio\n        if (ads?.isAdFullSizeShowing()) return\n\n        AudioUtils.muteAudio(false)\n    }\n}\n","import { CCBoolean, CCFloat, Canvas, Component, UITransform, Vec2, Vec3, _decorator } from 'cc'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('RigidBodyObject')\nexport class RigidBodyObject extends Component {\n    @property(CCFloat)\n    public gravityScale = 1\n\n    @property(Vec2)\n    public linearVelocity = new Vec2(0, 0)\n\n    @property(CCFloat)\n    private bounce!: number\n\n    @property(CCBoolean)\n    public simulate!: boolean\n\n    private uiTransform!: UITransform\n\n    private canvas!: UITransform\n\n    public onLoad() {\n        this.canvas = this.node.scene.getComponentInChildren(Canvas)!.getComponent(UITransform)!\n\n        this.uiTransform = this.node.getComponent(UITransform)!\n    }\n\n    public update(dt: number) {\n        if (!this.simulate) {\n            return\n        }\n\n        this.applyGravity()\n\n        let position = this.node.worldPosition.clone()\n        position.add(new Vec3(this.linearVelocity.x * dt, this.linearVelocity.y * dt, 0))\n\n        position = this.applyBounce(position)\n\n        this.node.setWorldPosition(position)\n    }\n\n    /**\n     * Apply a force to the center\n     */\n    public applyForce(force: Vec2) {\n        this.linearVelocity.add(force)\n    }\n\n    private applyGravity(): void {\n        const gravity = new Vec2(0, -9.8 * this.gravityScale)\n        this.applyForce(gravity)\n    }\n\n    private applyBounce(position: Vec3): Vec3 {\n        const boundingBox = this.uiTransform.getBoundingBoxToWorld()\n\n        if (boundingBox.yMin < 0) {\n            position.y = boundingBox.height / 2\n            this.linearVelocity.y *= -this.bounce\n        }\n\n        if (boundingBox.xMin < 0) {\n            position.x = boundingBox.width / 2\n            this.linearVelocity.x *= -1\n        }\n\n        const canvasWidth = this.canvas.width\n\n        if (boundingBox.xMax > canvasWidth) {\n            position.x = canvasWidth - boundingBox.width / 2\n            this.linearVelocity.x *= -1\n        }\n\n        return position\n    }\n}\n","import { Button, Component, UIOpacity, _decorator, tween } from 'cc'\nimport GameEvents from '../../../constants/GameEvents'\nimport AnimUtils from '../../../utils/AnimUtils'\nimport ComponentUtils from '../../../utils/ComponentUtils'\nconst { ccclass, property, disallowMultiple } = _decorator\n\nconst onEmptyCallback = () => {}\n\n@ccclass('AnimSkipOverlay')\n@disallowMultiple\nexport class AnimSkipOverlay extends Component {\n    @property(UIOpacity)\n    private containerUIOpacity!: UIOpacity\n\n    @property(UIOpacity)\n    private maskUIOpacity!: UIOpacity\n\n    @property(Button)\n    private skipButton!: Button\n\n    private isOpened = false\n    private currentCallback: () => void = onEmptyCallback\n\n    protected __preload(): void {\n        this.validateRequiredComponents()\n        this.containerUIOpacity.node.active = false\n        this.skipButton.interactable = false\n    }\n\n    public onSkipButtonPress(): void {\n        this.currentCallback()\n        this.close()\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async open(payload: AnimSkipOverlayPayload): Promise<void> {\n        this.containerUIOpacity.node.active = true\n\n        const { onSkip, opacity = 255, transitionDuration = 0.2 } = payload\n\n        this.maskUIOpacity.opacity = opacity\n        await this.animateUIOpacity(0, 255, transitionDuration)\n\n        this.currentCallback = onSkip\n        this.skipButton.interactable = true\n\n        this.isOpened = true\n        this.node.scene.emit(GameEvents.OPENED_SKIP_OVERLAY, payload)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async close(transitionDuration = 0.2): Promise<void> {\n        this.skipButton.interactable = false\n        this.currentCallback = onEmptyCallback\n\n        await this.animateUIOpacity(255, 0, transitionDuration)\n        this.maskUIOpacity.opacity = 0\n\n        this.containerUIOpacity.node.active = false\n\n        this.isOpened = false\n        this.node.scene.emit(GameEvents.CLOSED_SKIP_OVERLAY)\n    }\n\n    private animateUIOpacity(fromOpacity: number, toOpacity: number, duration: number) {\n        this.containerUIOpacity.opacity = fromOpacity\n        return AnimUtils.runTweenAsync(tween(this.containerUIOpacity).to(duration, { opacity: toOpacity }))\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public untilClosed(): Promise<void> {\n        if (this.isOpened === false) {\n            return Promise.resolve()\n        }\n\n        return new Promise((resolve) => {\n            this.node.scene.once(GameEvents.CLOSED_SKIP_OVERLAY, resolve)\n        })\n    }\n}\n","import { _decorator, CCBoolean, CCFloat, ScrollView, Vec3, type EventMouse, type Node } from 'cc'\nconst { ccclass, property } = _decorator\n\n@ccclass('SmoothScrollView')\nexport class SmoothScrollView extends ScrollView {\n    @property({ type: CCBoolean, group: 'Mouse Scroll' })\n    private mouseScroll!: boolean\n\n    @property({\n        type: CCFloat,\n        group: 'Mouse Scroll',\n        visible: function (this: SmoothScrollView) {\n            return this.mouseScroll\n        },\n    })\n    private mouseScrollSpeed: number = 300\n\n    @property({\n        type: CCFloat,\n        group: 'Mouse Scroll',\n        visible: function (this: SmoothScrollView) {\n            return this.mouseScroll\n        },\n    })\n    private mouseScrollDuration: number = 0.5\n\n    protected _onMouseWheel(event: EventMouse, captureListeners?: Node[]): void {\n        if (!this.mouseScroll) {\n            super._onMouseWheel(event, captureListeners)\n            return\n        }\n\n        if (!this.enabledInHierarchy) {\n            return\n        }\n\n        if (this._hasNestedViewGroup(event, captureListeners)) {\n            return\n        }\n\n        const deltaMove = new Vec3()\n        const scrollY = event.getScrollY()\n        const direction = scrollY < 0 ? 1 : -1\n\n        if (this.vertical) {\n            deltaMove.set(0, direction * this.mouseScrollSpeed, 0)\n        } else if (this.horizontal) {\n            deltaMove.set(direction * this.mouseScrollSpeed, 0, 0)\n        }\n\n        if (!this._stopMouseWheel) {\n            this._handlePressLogic()\n            this.schedule(this._checkMouseWheel, 1.0 / 60)\n            this._stopMouseWheel = true\n        }\n\n        this._startAutoScroll(deltaMove, this.mouseScrollDuration, true)\n        this._stopPropagationIfTargetIsMe(event)\n    }\n}\n","import { Component, UIOpacity, _decorator } from 'cc'\nimport ComponentUtils from '../../../utils/ComponentUtils'\nconst { ccclass, requireComponent } = _decorator\n\n@ccclass('ViewNode')\n@requireComponent(UIOpacity)\nexport class ViewNode extends Component {\n    public order: number = 0\n\n    private uiOpacity!: UIOpacity\n\n    public __preload(): void {\n        this.uiOpacity = this.getComponent(UIOpacity)!\n\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public setVisible(visible: boolean) {\n        this.uiOpacity.opacity = visible ? 255 : 0\n    }\n\n    public isVisible(): boolean {\n        return this.uiOpacity.opacity > 0\n    }\n}\n","import {\n    _decorator,\n    CCFloat,\n    CCInteger,\n    Component,\n    game,\n    instantiate,\n    NodeEventType,\n    Prefab,\n    ScrollView,\n    UITransform,\n    Vec2,\n    Vec3,\n} from 'cc'\nimport GameEvents from '../../../constants/GameEvents'\nimport AnimUtils from '../../../utils/AnimUtils'\nimport ComponentUtils from '../../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../../utils/common/AnimAbortSignal'\nimport { SmoothScrollView } from './SmoothScrollView'\nimport { ViewNode } from './ViewNode'\n\nconst { ccclass, property, requireComponent } = _decorator\n\nconst { Array: A, Signal: S } = Ludex.Utils\n\n@ccclass('ScrollViewLayout')\n@requireComponent(SmoothScrollView)\nexport class ScrollViewLayout extends Component {\n    @ComponentUtils.required()\n    @property(UITransform)\n    public viewport!: UITransform\n\n    @property(CCFloat)\n    public spacing: number = 0\n\n    @property(Prefab)\n    private readonly nodePrefab!: Prefab\n\n    @property(CCInteger)\n    private maxNodeCount: number = 0\n\n    @ComponentUtils.required()\n    @property(CCInteger)\n    private readonly extendCount: number = 0\n\n    @ComponentUtils.required()\n    public scrollView!: SmoothScrollView\n\n    @ComponentUtils.required()\n    private uiTransform!: UITransform\n\n    @ComponentUtils.required()\n    private contentUiTransform!: UITransform\n\n    private readonly nodePool: ViewNode[] = []\n\n    public nodeHeight: number = 0\n\n    private readonly scrollSignalController = new S.SignalController()\n\n    private onNodeVisible: (node: ViewNode) => void = () => {}\n    private onNodeInvisible: (node: ViewNode) => void = () => {}\n\n    public __preload(): void {\n        this.scrollView = this.getComponent(SmoothScrollView) as SmoothScrollView\n        this.uiTransform = this.getComponent(UITransform) as UITransform\n        this.contentUiTransform = this.scrollView.content?.getComponent(UITransform) as UITransform\n    }\n\n    protected onDestroy(): void {\n        game.off(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n    }\n\n    protected start(): void {\n        const prefab = instantiate(this.nodePrefab)\n        this.nodeHeight = prefab.getComponent(UITransform)!.height\n        prefab.destroy()\n        ComponentUtils.validateRequiredProperties(this, ScrollViewLayout)\n    }\n\n    public init(onNodeVisible?: (node: ViewNode) => void, onNodeInvisible?: (node: ViewNode) => void) {\n        this.createNodePool()\n\n        this.onNodeVisible = onNodeVisible ?? this.onNodeVisible\n        this.onNodeInvisible = onNodeInvisible ?? this.onNodeInvisible\n\n        for (let i = 0; i < this.nodePool.length; i++) {\n            this.nodePool[i]?.setVisible(false)\n        }\n\n        this.updateVisibility()\n    }\n\n    public updateNodeVisibility() {\n        for (let i = 0; i < this.nodePool.length; i++) {\n            const node = this.nodePool[i]\n            if (!node) continue\n\n            if (node.isVisible()) {\n                this.onNodeVisible(node)\n            } else {\n                this.onNodeInvisible(node)\n            }\n        }\n    }\n\n    public listenEvents() {\n        this.scrollView.node.on(ScrollView.EventType.SCROLLING, this.updateVisibility, this)\n        this.scrollView.node.on(NodeEventType.TOUCH_MOVE, this.abortScrollSignal, this)\n        this.scrollView.node.on(NodeEventType.MOUSE_WHEEL, this.abortScrollSignal, this)\n        game.on(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n    }\n\n    public unlistenEvents() {\n        this.scrollView.node.off(ScrollView.EventType.SCROLLING, this.updateVisibility, this)\n        this.scrollView.node.off(NodeEventType.TOUCH_MOVE, this.abortScrollSignal, this)\n        this.scrollView.node.off(NodeEventType.MOUSE_WHEEL, this.abortScrollSignal, this)\n        game.off(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async scrollToOrder(order: number, signal: AnimAbortSignal, duration = 2) {\n        let scrollOffsetY = this.getNodeScrollOffset(order)\n        let currentOffsetY = this.scrollView.getScrollOffset().y\n\n        scrollOffsetY = Math.max(scrollOffsetY, 0)\n        currentOffsetY = Math.max(currentOffsetY, 0)\n\n        const offsetDiff = scrollOffsetY - currentOffsetY\n\n        if (Math.abs(offsetDiff) < 5) return\n\n        await this.scrollToOffset(new Vec2(0, scrollOffsetY), duration, signal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async scrollToTop(signal: AnimAbortSignal, duration = 2) {\n        await this.scrollToOffset(new Vec2(0, 0), duration, signal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async scrollToOffset(offset: Vec2, duration: number, signal: AnimAbortSignal): Promise<void> {\n        const scrollSignal = this.scrollSignalController.renew()\n\n        this.scrollView.scrollToOffset(offset, duration)\n\n        const onAborted = () => this.handleScrollSignalAborted()\n\n        const onAbortedWithOffset = () => {\n            if (scrollSignal.aborted) return\n            this.handleExternalSignalAborted(offset)\n        }\n\n        scrollSignal.once(onAborted)\n        signal.addAbortListener(onAbortedWithOffset)\n        await AnimUtils.waitTweenAsync(duration, signal)\n        scrollSignal.off(onAborted)\n        signal.removeAbortListener(onAbortedWithOffset)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public updateVisibility(): void {\n        const { yMax: top, yMin: bot } = this.viewport.getBoundingBoxToWorld()\n\n        for (let i = 0; i < this.maxNodeCount; i++) {\n            const { top: topNode, bot: botNode } = this.getNodeBoundingBoxWorld(i)\n            const isOffScreen = topNode < bot || botNode > top\n\n            if (!isOffScreen) {\n                const node = this.getNodeByOrder(i)\n                if (!node) {\n                    const invisibleNode = this.getInvisibleNode()\n                    if (invisibleNode) {\n                        invisibleNode.node.setPosition(this.getNodePosition(i))\n                        invisibleNode.order = i\n                        this.onNodeVisible(invisibleNode)\n                        invisibleNode.setVisible(true)\n                    }\n                } else if (!node.isVisible()) {\n                    node.order = i\n                    this.onNodeVisible(node)\n                    node.setVisible(true)\n                }\n            } else {\n                const node = this.getNodeByOrder(i)\n                if (node) {\n                    this.onNodeInvisible(node)\n                    node.setVisible(false)\n                }\n            }\n        }\n    }\n\n    public updateLayout(): void {\n        const nodes = this.getVisibleNodes()\n        for (const node of nodes) {\n            node.node.setPosition(this.getNodePosition(node.order))\n        }\n    }\n\n    public setMaxNodeCount(count: number): void {\n        this.maxNodeCount = count\n        this.contentUiTransform.height = (this.nodeHeight + this.spacing) * this.maxNodeCount\n    }\n\n    public getAllNodes(): ViewNode[] {\n        return this.nodePool\n    }\n\n    public getVisibleNodes(): ViewNode[] {\n        return this.nodePool.filter((node) => node.isVisible())\n    }\n\n    public getNodePosition(order: number): Vec3 {\n        return new Vec3(0, -(this.nodeHeight + this.spacing) * order - this.nodeHeight / 2, 0)\n    }\n\n    public getNodeScrollOffset(order: number): number {\n        const { y } = this.getNodePosition(order)\n        return (\n            -y -\n            this.uiTransform.node.worldPosition.y -\n            this.uiTransform.height / 2 +\n            this.viewport.node.worldPosition.y\n        )\n    }\n\n    public getNodeByOrder(order: number): ViewNode | undefined {\n        return A.search(this.nodePool, (node) => node.order === order)\n    }\n\n    private getInvisibleNode(): ViewNode | undefined {\n        return A.search(this.nodePool, (node) => !node.isVisible())\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private createNodePool(): void {\n        const initCount = Math.ceil(this.viewport.height / this.nodeHeight) + 1 + this.extendCount\n        if (this.nodePool.length >= initCount) return\n\n        const nodesToCreate = initCount - this.nodePool.length\n\n        this.setMaxNodeCount(this.maxNodeCount)\n\n        for (let i = 0; i < nodesToCreate; i++) {\n            const prefab = instantiate(this.nodePrefab)\n            this.scrollView.content?.addChild(prefab)\n            prefab.setPosition(this.getNodePosition(this.nodePool.length))\n\n            const node = prefab.addComponent(ViewNode)\n            node.order = this.nodePool.length\n            node.setVisible(false)\n\n            this.nodePool.push(node)\n        }\n    }\n\n    private getNodeBoundingBoxWorld(index: number) {\n        const nodeWorldPosition = this.getNodePosition(index).y + (this.scrollView.content?.worldPosition.y ?? 0)\n        const top = nodeWorldPosition + this.nodeHeight / 2\n        const bot = nodeWorldPosition - this.nodeHeight / 2\n        return { top, bot }\n    }\n\n    private abortScrollSignal() {\n        this.scrollSignalController.abort()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private handleScrollSignalAborted() {\n        this.scrollView.stopAutoScroll()\n        this.updateVisibility()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private handleExternalSignalAborted(offset: Vec2) {\n        this.scrollView.stopAutoScroll()\n        this.scrollView.scrollToOffset(offset, 0)\n        this.updateVisibility()\n    }\n\n    private async handleViewResized(): Promise<void> {\n        await AnimUtils.waitTweenAsync(0)\n        this.createNodePool()\n        this.updateVisibility()\n    }\n}\n","import DailyRewardsData from '../constants/DailyRewardsData'\nimport { ScreenKeysEnum } from '../constants/ScreenKeys'\nimport ScreenUtils from './ScreenUtils'\n\nconst { player, storage, dailyRewards } = codex\n\nconst {\n    Utils: { Array: A },\n    Configs: {\n        DailyRewards: { MockTime, MaxDays, CheckInterrupt },\n    },\n} = Ludex\n\nconst DATE_LENGTH = MockTime > 0 ? MockTime : 864e5\n\ntype DailyReward = Ludex.Plugins.DailyRewards.DailyReward\n\nclass DailyRewardsUtilsCore {\n    protected static lastUpdate = 0\n    protected static updateInterval = 0\n\n    protected static setDirty$ = () => {\n        this.lastUpdate = 0\n    }\n\n    public static logLoginReward() {\n        dailyRewards.logLoginReward()\n        this.setDirty$()\n        this.tryUpdateData()\n    }\n\n    public static async tryUpdateData() {\n        if (!this.shouldUpdateData$()) return\n        this.lastUpdate = Date.now()\n        await dailyRewards.requestDailyRewardsAsync()\n        const remaining = this.getCurrentRemainingTime$()\n        this.updateInterval = remaining / 2\n    }\n\n    public static async hasClaimableRewards() {\n        await this.tryUpdateData()\n        const rewards = dailyRewards.getDailyRewards()\n        if (rewards === null) return false\n        return A.search(Object.values(rewards), (i) => i.status === 'ready') !== undefined\n    }\n\n    public static async getRewardsData() {\n        await this.tryUpdateData()\n        const dailyFromPlugin = dailyRewards.getDailyRewards()\n        if (dailyFromPlugin === null) return null\n\n        const rewardsData: DailyReward[] = []\n\n        for (let i = 0; i < MaxDays; i++) {\n            const dailyRewardsData = DailyRewardsData[i]\n            if (!dailyRewardsData) continue\n\n            //? Data from plugin is 1-based\n            const dayData = dailyFromPlugin[i + 1]\n\n            rewardsData.push({\n                id: dailyRewardsData.id,\n                type: dailyRewardsData.type,\n                status: dailyRewardsData.status,\n                ...dayData,\n                value: dailyRewardsData.value,\n                items: dailyRewardsData.items ? { ...dailyRewardsData.items } : undefined,\n            })\n        }\n\n        return rewardsData\n    }\n\n    public static async getRemainingTime() {\n        await this.tryUpdateData()\n        return this.getCurrentRemainingTime$()\n    }\n\n    protected static getCurrentRemainingTime$ = () => {\n        const rewards = dailyRewards.getDailyRewards()\n        if (rewards === null) return 0\n\n        const { firstReward = 0, lastReward = 0 } = player.getPlayerData().dailyRewardedData ?? {}\n\n        if (CheckInterrupt) {\n            const lastRewardIndex = this.findLastRewardedIndex$()\n            if (lastRewardIndex === -1) return 0\n            const nextReward = firstReward + (lastRewardIndex + 1) * DATE_LENGTH\n            return Math.max(nextReward - Date.now(), 0)\n        }\n\n        const nextReward = lastReward + DATE_LENGTH\n        return Math.max(nextReward - Date.now(), 0)\n    }\n\n    protected static findLastRewardedIndex$ = () => {\n        const { logDays = [] } = player.getPlayerData().dailyRewardedData ?? {}\n\n        for (let i = logDays.length - 1; i >= 0; i--) {\n            if (logDays[i]) return i\n        }\n\n        return -1\n    }\n\n    protected static shouldUpdateData$ = () => {\n        return Date.now() - this.lastUpdate > this.updateInterval\n    }\n}\n\nclass DailyRewardsUtils extends DailyRewardsUtilsCore {\n    public static hasShownPopup() {\n        const store = storage.getStorage('dashboardDailyRewards')\n        return store.hasShownPopup\n    }\n\n    public static setHasShownPopup(shown = true) {\n        storage.setStorageData('dashboardDailyRewards', 'hasShownPopup', shown)\n    }\n\n    public static async openPopupScreen() {\n        await ScreenUtils.openScreen(ScreenKeysEnum.DAILY_REWARDS_SCREEN)\n    }\n\n    public static async openPopupScreenAndWaitForClose() {\n        await ScreenUtils.openScreenAndWaitForClose(ScreenKeysEnum.DAILY_REWARDS_SCREEN)\n    }\n}\n\nexport default DailyRewardsUtils\n","import { Trail } from 'db://assets/components/trail/Trail'\nimport AnimUtils from 'db://assets/utils/AnimUtils'\nimport ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport type AnimAbortSignal from 'db://assets/utils/common/AnimAbortSignal'\nimport {\n    _decorator,\n    Animation,\n    AnimationClip,\n    CCInteger,\n    Component,\n    instantiate,\n    ParticleSystem2D,\n    randomRange,\n    tween,\n    Vec3,\n} from 'cc'\n\nconst { ccclass, disallowMultiple, property } = _decorator\n\nconst DISTANCE_RANGE = [50, 160]\n\n@ccclass('LockAnimator')\n@disallowMultiple\nexport class LockAnimator extends Component {\n    @property(ParticleSystem2D)\n    private floatingParticles!: ParticleSystem2D\n\n    @property(Animation)\n    private iconAnimation!: Animation\n\n    @property(AnimationClip)\n    private lockClip!: AnimationClip\n\n    @property(AnimationClip)\n    private unlockClip!: AnimationClip\n\n    @property(AnimationClip)\n    private tryToUnlockClip!: AnimationClip\n\n    @property(Trail)\n    private trailTemplate!: Trail\n\n    @property({ type: CCInteger, min: 0 })\n    private trailCount: number = 0\n\n    private trails: Trail[] = []\n\n    public onLoad(): void {\n        this.validateRequiredComponents()\n\n        this.prepareTrails()\n\n        this.floatingParticles.node.active = false\n    }\n\n    public async unlock(signal?: AnimAbortSignal): Promise<void> {\n        this.floatingParticles.node.active = true\n\n        this.floatingParticles.resetSystem()\n\n        this.scheduleOnce(() => {\n            this.explodeTrails(signal)\n        }, 1.1)\n\n        await this.playAnimation(this.unlockClip.name, signal)\n\n        this.floatingParticles.stopSystem()\n    }\n\n    public lock(): void {\n        this.playAnimation(this.lockClip.name)\n\n        if (this.floatingParticles.node.active) {\n            this.floatingParticles.stopSystem()\n        }\n    }\n\n    private async explodeTrails(signal?: AnimAbortSignal): Promise<void> {\n        await Promise.all(this.trails.map((trail) => this.getExplodeTrail(trail, 0, signal)))\n    }\n\n    private async getExplodeTrail(trail: Trail, delay = 0, signal?: AnimAbortSignal): Promise<void> {\n        const rotation = randomRange(0, 2 * Math.PI)\n\n        const explodeX = randomRange(DISTANCE_RANGE[0], DISTANCE_RANGE[1]) * Math.cos(rotation)\n        const explodeY = randomRange(DISTANCE_RANGE[0], DISTANCE_RANGE[1]) * Math.sin(rotation)\n\n        const explodePosition = new Vec3(explodeX, explodeY, trail.node.position.z)\n\n        const ogScale = trail.node.scale.clone()\n\n        // animate coin from 0, 0 of the screen, appearing, moving in a random direction, for a random amount of distance, and then move to the target position\n        const moveTween = tween(trail.node)\n            .delay(delay)\n            .call(() => {\n                trail.node.setPosition(0, 0)\n                trail.reset()\n                trail.node.active = true\n            })\n            .to(\n                0.5,\n                {\n                    position: explodePosition.clone(),\n                },\n                {\n                    easing: 'expoOut',\n                },\n            )\n            .to(\n                0.5,\n                {\n                    scale: new Vec3(0, 0, 1),\n                },\n                {\n                    easing: 'expoIn',\n                },\n            )\n\n        await AnimUtils.runTweenAsync(moveTween, signal)\n\n        trail.node.setPosition(0, 0)\n        trail.node.scale = ogScale\n        trail.reset()\n        trail.node.active = false\n    }\n\n    private prepareTrails() {\n        this.trailTemplate.node.active = false\n\n        for (let i = 0; i < this.trailCount; i++) {\n            const trail = instantiate(this.trailTemplate.node)\n            trail.setParent(this.node)\n            trail.active = false\n\n            this.trails.push(trail.getComponent(Trail)!)\n        }\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private async playAnimation(clipName: string, signal?: AnimAbortSignal): Promise<void> {\n        if (signal?.aborted) {\n            return Promise.resolve()\n        }\n\n        return new Promise((resolve) => {\n            this.iconAnimation.once(Animation.EventType.FINISHED, () => {\n                resolve()\n            })\n\n            signal?.addAbortListener(() => {\n                this.iconAnimation.off(Animation.EventType.FINISHED)\n                this.iconAnimation.stop()\n                resolve()\n            })\n\n            this.iconAnimation.play(clipName)\n        })\n    }\n\n    public async playTryToUnlockAnimation(): Promise<void> {\n        return this.playAnimation(this.tryToUnlockClip.name)\n    }\n}\n","import { _decorator, Component, Label, Node, ProgressBar } from 'cc'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('ThemeProgressBar')\nexport class ThemeProgressBar extends Component {\n    @property(Node)\n    public progressBar!: Node\n\n    @property(Node)\n    public progressText!: Node\n\n    @property(Node)\n    private leftCap!: Node\n\n    @property(Node)\n    private rightCap!: Node\n\n    public onLoad(): void {\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        if (!this.progressBar) {\n            throw new Error('ThemeProgressBar: progressBar not found')\n        }\n\n        if (!this.progressText) {\n            throw new Error('ThemeProgressBar: progressText not found')\n        }\n\n        if (!this.leftCap) {\n            throw new Error('ThemeProgressBar: leftCap not found')\n        }\n\n        if (!this.rightCap) {\n            throw new Error('ThemeProgressBar: rightCap not found')\n        }\n    }\n\n    public setProgress(progress: number, max: number) {\n        if (progress <= 0) {\n            this.leftCap.active = false\n            this.rightCap.active = false\n        } else {\n            this.leftCap.active = true\n            this.rightCap.active = true\n        }\n\n        const progressBarComponent = this.progressBar.getComponent(ProgressBar)\n\n        if (!progressBarComponent) {\n            throw new Error('ThemeProgressBar: progressBarComponent not found')\n        }\n\n        progressBarComponent.progress = progress / max\n\n        const progressTextComponent = this.progressText.getComponent(Label)\n\n        if (!progressTextComponent) {\n            throw new Error('ThemeProgressBar: progressTextComponent not found')\n        }\n\n        progressTextComponent.string = `${progress}/${max}`\n    }\n}\n","import { _decorator, CCBoolean, Component, Node, Sprite, SpriteFrame, tween, UIOpacity } from 'cc'\nimport { Localize } from '../../../../../../components/text/Localize'\nimport SkinKeys from '../../../../../../gameplay/constants/SkinKeys'\nimport ThemeKeys from '../../../../../../gameplay/constants/ThemeKeys'\nimport ThemeLocaleKeys from '../../../../../../gameplay/constants/ThemeLocaleKeys'\nimport { ThemePreviewResourcesMapping } from '../../../../../../gameplay/constants/ThemeResourcesPath'\nimport AnimUtils from '../../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../../../../../utils/common/AnimAbortSignal'\nimport ResourceUtils from '../../../../../../utils/ResourceUtils'\nimport { LockAnimator } from './common/lock/LockAnimator'\nimport { ThemeProgressBar } from './common/ThemeProgressBar'\n\nconst { ccclass, property } = _decorator\n\nconst defaultBlock: CollectionsPayload = {\n    progress: 0,\n    max: 10,\n    isLocked: true,\n    theme: ThemeKeys.SUMMER,\n    skins: [SkinKeys.FRUIT],\n}\n\nconst { Array: A } = Ludex.Utils\n@ccclass('ThemeBlock')\nexport class ThemeBlock extends Component {\n    @ComponentUtils.required()\n    @property(Node)\n    private readonly mask!: Node\n\n    @ComponentUtils.required()\n    @property(Node)\n    private readonly progressBar!: Node\n\n    @ComponentUtils.required()\n    @property(LockAnimator)\n    private readonly lockAnimator!: LockAnimator\n\n    @ComponentUtils.required()\n    @property({ type: Node, group: 'Container' })\n    public container!: Node\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity, group: 'Container' })\n    private readonly containerOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: Node, group: 'Theme' })\n    private readonly themeLoadingRing!: Node\n\n    @ComponentUtils.required()\n    @property({ type: Sprite, group: 'Theme' })\n    private readonly themeSprite!: Sprite\n\n    @ComponentUtils.required()\n    @property({ type: Localize, group: 'Title' })\n    private readonly titleLocalizer!: Localize\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity, group: 'Title' })\n    private readonly titleOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: Sprite, group: 'Tile' })\n    private readonly tileBlockIconSprite: Sprite[] = []\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity, group: 'Tile' })\n    private readonly newTilesOpacity!: UIOpacity\n\n    private maskUIOpacity!: UIOpacity\n\n    private signal: AnimAbortSignal = new AnimAbortSignal()\n\n    @property(CCBoolean)\n    public set isLocked(value: boolean) {\n        this.payload.isLocked = value\n        this.updateInfo()\n    }\n\n    public get isLocked(): boolean {\n        return this.payload.isLocked\n    }\n\n    private payload: CollectionsPayload = defaultBlock\n\n    public __preload() {\n        this.maskUIOpacity = this.mask.getComponent(UIOpacity)!\n\n        ComponentUtils.validateRequiredProperties(this, ThemeBlock)\n    }\n\n    public updateInfo(payload: CollectionsPayload = defaultBlock): void {\n        this.payload = payload\n        const { progress, max, isLocked, theme, skins } = payload\n\n        this.signal.abort()\n        const signal = new AnimAbortSignal()\n        this.signal = signal\n\n        this.updateTitle(theme)\n        this.updateSkinAsync(skins, signal)\n        this.updateThemeAsync(theme, signal)\n\n        const progressBarComponent = this.progressBar.getComponent(ThemeProgressBar)\n\n        if (!progressBarComponent) {\n            throw new Error('ThemeBlock: progressBarComponent not found')\n        }\n\n        this.mask.active = isLocked\n        this.progressBar.active = !isLocked\n        this.lockAnimator.node.active = isLocked\n        if (isLocked) this.lockAnimator.lock()\n        this.maskUIOpacity.opacity = isLocked ? 128 : 0\n\n        if (isLocked) return\n\n        progressBarComponent.setProgress(progress, max)\n    }\n\n    public async playUnlockAnim(signal: AnimAbortSignal, payload: CollectionsPayload = defaultBlock): Promise<void> {\n        this.payload = { ...payload, isLocked: false }\n        const { progress, max } = payload\n\n        const progressBarComponent = this.progressBar.getComponent(ThemeProgressBar)\n\n        if (!progressBarComponent) throw new Error('ThemeBlock: progressBarComponent not found')\n\n        this.mask.active = true\n        this.progressBar.active = false\n        this.lockAnimator.node.active = true\n\n        progressBarComponent.setProgress(progress, max)\n        await this.animateUnlockedState(signal)\n    }\n\n    private updateTitle(theme: ThemeKeys) {\n        const localeKey = ThemeLocaleKeys[theme]\n        this.titleLocalizer.key = localeKey\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async updateSkinAsync(skinKeys: SkinKeys[], signal: AnimAbortSignal): Promise<void> {\n        const tileCount = this.tileBlockIconSprite.length\n        const skinCount = skinKeys.length\n\n        const spritesPromises = skinKeys.map(async (skinKey) => {\n            const sprites = await ResourceUtils.loadSkinPreviewAsync(skinKey)\n            return sprites\n        })\n\n        const skinSprites = await Promise.all(spritesPromises)\n\n        if (signal.aborted || !this.tileBlockIconSprite) return\n\n        if (skinCount <= tileCount) {\n            const spritesPerSkin = Math.floor(tileCount / skinCount)\n            const remainingSprites = tileCount % skinCount\n\n            const spritesEachSkins = [...A.fillWith(skinCount, () => spritesPerSkin)]\n            for (let i = 0; i < remainingSprites; i++) {\n                const count = spritesEachSkins[i] as (typeof spritesEachSkins)[number]\n                spritesEachSkins[i] = count + 1\n            }\n\n            let tileIndex = 0\n\n            for (let i = 0; i < skinCount; i++) {\n                const count = spritesEachSkins[i] as (typeof spritesEachSkins)[number]\n                for (let j = 0; j < count && tileIndex < tileCount; j++, tileIndex++) {\n                    const currentSkinSprites = skinSprites[i] as (typeof skinSprites)[number]\n                    const skinSprite = currentSkinSprites[j] as (typeof currentSkinSprites)[number]\n                    const tileIcon = this.tileBlockIconSprite[tileIndex] as (typeof this.tileBlockIconSprite)[number]\n                    tileIcon.spriteFrame = skinSprite\n                }\n            }\n        } else {\n            for (let index = 0, len = this.tileBlockIconSprite.length; index < len; index++) {\n                const tile = this.tileBlockIconSprite[index] as (typeof this.tileBlockIconSprite)[number]\n                const currentSkinSprites = skinSprites[index % skinCount] as (typeof skinSprites)[number]\n                const firstSkinSprite = currentSkinSprites[0] as (typeof currentSkinSprites)[number]\n                tile.spriteFrame = firstSkinSprite\n            }\n        }\n    }\n\n    private async updateThemeAsync(theme: ThemeKeys, signal: AnimAbortSignal): Promise<void> {\n        this.themeSprite.spriteFrame = null\n\n        let sprite = ResourceUtils.getAsset(`${ThemePreviewResourcesMapping[theme]}/spriteFrame`, SpriteFrame)\n\n        if (!sprite) {\n            this.themeLoadingRing.active = true\n\n            //? Wait for a short time to prevent load image too fast\n            await AnimUtils.waitTweenAsync(0.1, signal)\n            if (signal.aborted) return\n\n            sprite = await ResourceUtils.loadThemePreviewAsync(theme)\n        }\n\n        if (!sprite) {\n            //? Fallback to summer theme\n            sprite = await ResourceUtils.loadThemePreviewAsync(ThemeKeys.SUMMER)\n        }\n\n        if (!this.themeSprite || !sprite || signal.aborted) return\n\n        this.themeSprite.spriteFrame = sprite\n        this.themeLoadingRing.active = false\n    }\n\n    private async animateUnlockedState(signal: AnimAbortSignal) {\n        const progressBarUIOpacity = this.progressBar.getComponent(UIOpacity)\n\n        if (!progressBarUIOpacity) {\n            throw new Error('ThemeBlock: progressBarUIOpacity not found')\n        }\n\n        this.mask.active = true\n        this.maskUIOpacity.opacity = this.maskUIOpacity.opacity ?? 255\n        this.progressBar.active = true\n        progressBarUIOpacity.opacity = 0\n\n        await this.lockAnimator.unlock(signal)\n        this.lockAnimator.node.active = false\n\n        await Promise.all([\n            AnimUtils.runTweenAsync(tween(this.maskUIOpacity).to(0.25, { opacity: 0 }), signal),\n            AnimUtils.runTweenAsync(tween(progressBarUIOpacity).to(0.25, { opacity: 255 }), signal),\n        ])\n\n        this.mask.active = false\n        this.maskUIOpacity.opacity = 0\n        progressBarUIOpacity.opacity = 255\n    }\n\n    public setVisible(value: boolean) {\n        this.containerOpacity.opacity = value ? 255 : 0\n        this.titleOpacity.opacity = value ? 255 : 0\n        this.newTilesOpacity.opacity = value ? 255 : 0\n    }\n}\n","import { CCFloat, Component, Vec2, Vec3, _decorator, tween } from 'cc'\nimport { OpacityToggler } from '../../../../../components/common/OpacityToggler'\nimport { PanelAnimator } from '../../../../../components/panel-animator/PanelAnimator'\nimport GameplayEvents from '../../../../../gameplay/constants/GameEvents'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\nimport ThemeUtils from '../../../../../utils/ThemeUtils'\nimport { ScrollViewLayout } from '../../../../common/scroll-view-layout/ScrollViewLayout'\nimport type { ViewNode } from '../../../../common/scroll-view-layout/ViewNode'\nimport { ThemeBlock } from './theme-tabs/ThemeBlock'\n\nconst { ccclass, property } = _decorator\n\nconst { storage } = codex\n\n@ccclass('CollectionsContent')\nexport class CollectionsContent extends Component {\n    private animateThemeBlockUnlockIndex: number | null = null\n\n    @property(PanelAnimator)\n    private panelAnimator!: PanelAnimator\n\n    @property(ScrollViewLayout)\n    private themeScrollView!: ScrollViewLayout\n\n    @property(OpacityToggler)\n    private contentOpacity!: OpacityToggler\n\n    private themeScrollViewInited: boolean = false\n\n    private payloads: CollectionsPayload[] = []\n\n    private preservedScrollPosition: Vec2 = new Vec2()\n\n    @property({\n        type: CCFloat,\n        displayName: 'Offset from top of scroll view',\n        tooltip: 'The offset between the first theme tab and the top of the scroll view',\n    })\n    public offsetFromTopOfScrollView = 407.5\n\n    public __preload(): void {\n        this.validateRequiredComponents()\n    }\n\n    public listenEvents() {\n        this.node.scene.on(GameplayEvents.HIDE_UI, this.hideContent)\n        this.node.scene.on(GameplayEvents.SHOW_UI, this.showContent)\n        this.themeScrollView.listenEvents()\n    }\n\n    public unlistenEvents() {\n        this.unlistenUIEvents()\n        this.themeScrollView.unlistenEvents()\n    }\n\n    public unlistenUIEvents() {\n        this.node.scene.off(GameplayEvents.HIDE_UI, this.hideContent)\n        this.node.scene.off(GameplayEvents.SHOW_UI, this.showContent)\n    }\n\n    public init(payloads: CollectionsPayload[]): void {\n        this.payloads = payloads\n\n        if (this.themeScrollViewInited) return\n        this.themeScrollViewInited = true\n\n        this.themeScrollView.init((node: ViewNode) => {\n            const isAnimating = this.animateThemeBlockUnlockIndex === node.order\n            const payload = this.payloads[node.order]\n            const themeBlock = node.getComponent(ThemeBlock)!\n\n            if (!payload) return\n\n            themeBlock.updateInfo({\n                ...payload,\n                skins: payload.skins ?? [],\n                isLocked: isAnimating ? true : payload.isLocked,\n            })\n\n            themeBlock.setVisible(true)\n\n            themeBlock.container.scale = new Vec3(0.4, 0.4, 0.4)\n            tween(themeBlock.container).to(0.3, { scale: Vec3.ONE }, { easing: 'quadOut' }).start()\n        })\n    }\n\n    public preserveScrollPosition(): void {\n        this.themeScrollView.scrollView.stopAutoScroll()\n        this.preservedScrollPosition.set(this.themeScrollView.scrollView.getScrollOffset())\n    }\n\n    public restoreScrollPosition(): void {\n        this.themeScrollView.scrollView.scrollToOffset(this.preservedScrollPosition, 0)\n    }\n\n    public updateUnlockedProgress(collectionsPayloads: CollectionsPayload[]): void {\n        const animateUnlock = storage.getStorageData('collection', 'animateMapPackUnlock')\n        const lastMapPackId = storage.getStorageData('collection', 'lastMapPack')\n        collectionsPayloads.forEach((element, i) => {\n            const { progress, max, isLocked } = element\n            if (progress < max && !isLocked && animateUnlock && lastMapPackId !== i + 1) {\n                // skip the current theme\n                // it will be animated when fade-in-complete event is fired\n                this.animateThemeBlockUnlockIndex = i\n                storage.setStorageData('collection', 'animateMapPackUnlock', false)\n                storage.setStorageData('collection', 'lastMapPack', i + 1)\n\n                return\n            }\n        })\n    }\n\n    public shouldAnimateThemeBlockUnlock(): boolean {\n        return this.animateThemeBlockUnlockIndex !== null\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async playThemeTabUnlockAnim(signal: AnimAbortSignal): Promise<void> {\n        if (!this.animateThemeBlockUnlockIndex) return\n\n        const themeNode = this.themeScrollView.getNodeByOrder(this.animateThemeBlockUnlockIndex)\n        if (!themeNode || !themeNode.isVisible()) return\n\n        const themeBlock = themeNode.getComponent(ThemeBlock)\n        if (!themeBlock) return\n\n        const payload = ThemeUtils.getCollectionUnlockProgress()[this.animateThemeBlockUnlockIndex]\n        if (!payload) return\n\n        await themeBlock.playUnlockAnim(signal, {\n            ...payload,\n            skins: payload.skins ?? [],\n            isLocked: true,\n        })\n\n        this.animateThemeBlockUnlockIndex = null\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async scrollToCurrentUnlockingTheme(index: number, signal: AnimAbortSignal) {\n        await this.themeScrollView.scrollToOrder(index, signal)\n    }\n\n    public enableUIAnimator(): void {\n        this.panelAnimator.enabled = true\n    }\n\n    public disableUIAnimator(): void {\n        this.panelAnimator.enabled = false\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private hideContent = () => {\n        this.contentOpacity.changeStateFade(false, 0.1)\n    }\n\n    private showContent = () => {\n        this.contentOpacity.changeStateFade(true, 0.1)\n    }\n}\n","import { CCInteger, CCString, Component, Label, Vec3, _decorator, tween } from 'cc'\nimport { TapperedProgressBar } from '../../components/tappered-progress-bar/TapperedProgressBar'\nimport AnimUtils from '../../utils/AnimUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../utils/common/AnimAbortSignal'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('StarProgressBar')\nexport class StarProgressBar extends Component {\n    @property(TapperedProgressBar)\n    private progressBar!: TapperedProgressBar\n\n    @property(Label)\n    private progressLabel!: Label\n\n    @property(CCInteger)\n    private current!: number\n\n    @property(CCInteger)\n    private total!: number\n\n    @property(CCString)\n    private separator!: string\n\n    public setRange(current: number, total: number): void {\n        this.total = total\n\n        this.current = current\n\n        this.updateProgress()\n    }\n\n    public onLoad(): void {\n        this.validateRequiredComponents()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private updateProgress() {\n        this.progressBar.progress = Math.min(this.current, this.total) / this.total\n        this.updateProgressLabel()\n    }\n\n    private updateProgressLabel() {\n        this.progressLabel.string = `${this.current}${this.separator}${this.total}`\n    }\n\n    public async animateTo(\n        current: number,\n        signal?: AnimAbortSignal,\n        onProgress?: (current: number) => void,\n    ): Promise<void> {\n        const progress = Math.min(current, this.total) / this.total\n\n        const start = this.current\n\n        let i = 1\n\n        const progressTween = tween(this.progressBar).to(\n            3,\n            { progress },\n            {\n                easing: 'quadOut',\n                onUpdate: (_target, ratio) => {\n                    if (!ratio) return\n                    this.current = start + Math.floor((current - start) * ratio)\n                    onProgress?.(this.current)\n\n                    if (this.current === start - i) {\n                        i++\n                        tween(this.progressLabel.node)\n                            .to(0.05, { scale: new Vec3(1.2, 1.2, 1.2) })\n                            .to(0.05, { scale: Vec3.ONE })\n                            .start()\n                    }\n\n                    this.updateProgressLabel()\n                },\n            },\n        )\n\n        const cb = () => {\n            this.current = current\n            this.updateProgress()\n        }\n\n        signal?.addAbortListener(cb)\n        await AnimUtils.runTweenAsync(progressTween, signal)\n        signal?.removeAbortListener(cb)\n    }\n\n    private validateRequiredComponents(): void {\n        if (!this.progressBar) {\n            throw new Error('JourneyProgressBar: Missing required component TapperedProgressBar')\n        }\n\n        if (!this.progressLabel) {\n            throw new Error('JourneyProgressBar: Missing required component Label')\n        }\n    }\n}\n","import { _decorator, animation, Component, Label, Node, tween, Vec3 } from 'cc'\nimport { TapperedProgressBar } from '../../../../../../components/tappered-progress-bar/TapperedProgressBar'\nimport { ScreenKeysEnum, ScreenNames } from '../../../../../../constants/ScreenKeys'\nimport { ParticleSystem } from '../../../../../../particles/ParticleSystem'\nimport AnimUtils from '../../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../../utils/ComponentUtils'\nimport DailyRewardsUtils from '../../../../../../utils/DailyRewardsUtils'\n\nconst { ccclass, property } = _decorator\nconst {\n    Utils: { Signal: S, String: Str },\n    Configs: {\n        DailyRewards: { MockTime },\n    },\n    Events,\n} = Ludex\nconst { event } = codex\ntype Signal = InstanceType<typeof S.Signal>\n\nconst DATE_LENGTH = MockTime > 0 ? MockTime : 864e5\n\n@ccclass('DailyRewardsWidget')\nexport class DailyRewardsWidget extends Component {\n    @ComponentUtils.required()\n    @property(animation.AnimationController)\n    readonly animationController!: animation.AnimationController\n\n    @ComponentUtils.required()\n    @property(ParticleSystem)\n    readonly particles!: ParticleSystem\n\n    @ComponentUtils.required()\n    @property(Label)\n    readonly timeLabel!: Label\n\n    @ComponentUtils.required()\n    @property(TapperedProgressBar)\n    readonly progressBar!: TapperedProgressBar\n\n    @ComponentUtils.required()\n    @property(Node)\n    readonly progressBarAndLabel!: Node\n\n    protected readonly signalController = new S.SignalController()\n\n    protected __preload(): void {\n        ComponentUtils.validateRequiredProperties(this)\n    }\n\n    protected onEnable(): void {\n        event.on(Events.CLOSED_SCREEN, this.handleScreenClosed)\n    }\n\n    protected onDisable(): void {\n        event.off(Events.CLOSED_SCREEN, this.handleScreenClosed)\n        this.signalController.abort()\n    }\n\n    protected onDestroy(): void {\n        this.signalController.abort()\n    }\n\n    protected handleScreenClosed = ({ screenName }: SwitchScreenPayload) => {\n        if (screenName !== ScreenNames[ScreenKeysEnum.DAILY_REWARDS_SCREEN]) return\n        this.refresh()\n    }\n\n    protected setParticles(play: boolean): void {\n        if (play) {\n            this.particles.node.active = true\n            this.particles.play()\n        } else {\n            this.particles.stop()\n            this.particles.node.active = false\n        }\n    }\n\n    protected setProgressBarAndLabelVisibility(visible: boolean, signal: Signal): void {\n        AnimUtils.runTweenAsync(\n            tween(this.progressBarAndLabel).to(\n                visible ? 0.5 : 0.2,\n                { scale: visible ? Vec3.ONE : Vec3.ZERO },\n                { easing: visible ? 'backOut' : 'sineIn' },\n            ),\n            signal,\n        )\n    }\n\n    protected startUpdateRemainingTimeSchedule(signal: Signal) {\n        const controller = new S.SignalController()\n\n        const callback = async () => {\n            const sig = controller.renew()\n            sig.chain(signal)\n\n            const remaining = await DailyRewardsUtils.getRemainingTime()\n            if (sig.aborted) return\n\n            this.updateRemainingTime(remaining)\n\n            if (remaining === 0) {\n                this.unschedule(callback)\n            }\n        }\n\n        callback()\n        this.schedule(callback, 1)\n        signal.once(() => this.unschedule(callback))\n    }\n\n    protected async startSelfRefreshSchedule(signal: Signal) {\n        const remaining = await DailyRewardsUtils.getRemainingTime()\n        if (signal.aborted) return\n\n        if (remaining === 0) return\n\n        const callback = () => {\n            if (!signal.aborted) this.refresh()\n            this.unschedule(callback)\n        }\n\n        this.schedule(callback, remaining / 1e3)\n        signal.once(() => this.unschedule(callback))\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    protected updateRemainingTime(remainingTime: number) {\n        if (remainingTime === 0) {\n            this.updateTimeLabel('00:00:00')\n        } else {\n            const hours = Str.padStart(Math.floor(remainingTime / 36e5).toString(), 2, '0')\n            const minutes = Str.padStart(Math.floor((remainingTime % 36e5) / 6e4).toString(), 2, '0')\n            const seconds = Str.padStart(Math.floor((remainingTime % 6e4) / 1e3).toString(), 2, '0')\n            const text = `${hours}:${minutes}:${seconds}`\n            this.updateTimeLabel(text)\n        }\n\n        const progress = 1 - remainingTime / DATE_LENGTH\n        this.updateProgressBar(progress)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    protected updateTimeLabel(text: string) {\n        this.timeLabel.string = text\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    protected updateProgressBar(progress: number) {\n        this.progressBar.progress = progress\n    }\n\n    public async refresh() {\n        const signal = this.signalController.renew()\n        const claimable = await DailyRewardsUtils.hasClaimableRewards()\n        if (signal.aborted) return\n        this.animationController.setValue('claimable', claimable)\n        this.setParticles(claimable)\n        this.setProgressBarAndLabelVisibility(!claimable, signal)\n        this.startUpdateRemainingTimeSchedule(signal)\n        this.startSelfRefreshSchedule(signal)\n    }\n}\n","import { CCBoolean, Enum, _decorator } from 'cc'\nimport { EDITOR_NOT_IN_PREVIEW } from 'cc/env'\nimport { ExtendedButton } from '../../../../../../components/button/ExtendedButton'\nimport DashboardEvents from '../../../../../../constants/DashboardEvents'\nimport DashboardEventButtonTypes from '../../../../../../gameplay/constants/DashboardEventButtonTypes'\nconst { ccclass, property } = _decorator\n\n@ccclass('EventButton')\nexport class EventButton extends ExtendedButton {\n    @property({ type: Enum(DashboardEventButtonTypes) })\n    public eventType: DashboardEventButtonTypes = DashboardEventButtonTypes.STAR_CHEST\n\n    private _isAvailable = false\n\n    @property(CCBoolean)\n    public get isAvailable() {\n        return this._isAvailable\n    }\n\n    public set isAvailable(value: boolean) {\n        this._isAvailable = value\n        this.fakeClick()\n    }\n\n    public handleClick(): void {\n        this.node.scene.emit(DashboardEvents.DASHBOARD_EVENTS_BUTTON_PRESS, {\n            type: this.eventType,\n        } as DashboardEventButtonPayload)\n    }\n\n    protected override setAnimationState(state: 'DOWN' | 'HOVER' | 'RESET'): void {\n        if (EDITOR_NOT_IN_PREVIEW) return\n        this.animationController.setValue('RESET-SPECIAL', this._isAvailable)\n        super.setAnimationState(state)\n    }\n}\n","import { Component, UITransform, Widget, _decorator, game } from 'cc'\nimport DashboardEvents from '../../../../../constants/DashboardEvents'\nimport GameEvents from '../../../../../constants/GameEvents'\nimport { ScreenKeysEnum } from '../../../../../constants/ScreenKeys'\nimport { StarProgressBar } from '../../../../../screens/star-chest-screen/StarProgressBar'\nimport LayoutUtils from '../../../../../utils/LayoutUtils'\nimport ScreenUtils from '../../../../../utils/ScreenUtils'\nimport { DailyRewardsWidget } from '../event-buttons/buttons/DailyRewardsWidget'\nimport { EventButton } from '../event-buttons/event-button/EventButton'\nconst { ccclass, property } = _decorator\n\nconst { player } = codex\n\n@ccclass('DashboardHeader')\nexport class DashboardHeader extends Component {\n    @property({ type: StarProgressBar, displayName: 'Progress bar', group: 'Star Chest' })\n    private starProgressBar!: StarProgressBar\n\n    @property({ type: EventButton, displayName: 'Button Component', group: 'Star Chest' })\n    private chestButton!: EventButton\n\n    @property(DailyRewardsWidget)\n    readonly dailyRewardsWidget!: DailyRewardsWidget\n\n    @property(UITransform)\n    private uiTransform!: UITransform\n\n    @property(Widget)\n    private containerWidget!: Widget\n\n    @property(UITransform)\n    private containerUITransform!: UITransform\n\n    public __preload(): void {\n        game.on(DashboardEvents.STARS_UPDATED, this.handleStarsUpdateEvent, this)\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n        game.on(GameEvents.VIEW_RESIZED, this.handleOrientationChanged, this)\n    }\n\n    protected start(): void {\n        this.handleOrientationChanged()\n    }\n\n    public onDestroy(): void {\n        game.off(DashboardEvents.STARS_UPDATED, this.handleStarsUpdateEvent, this)\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n        game.off(GameEvents.VIEW_RESIZED, this.handleOrientationChanged, this)\n    }\n\n    public updateDailyRewardsButton() {\n        this.dailyRewardsWidget.refresh()\n    }\n\n    public updateStarProgress(stars: number): void {\n        this.handleStarsUpdateEvent(stars)\n    }\n\n    private updateStarChestButtonAnimation(stars: number): void {\n        this.chestButton.isAvailable = stars >= 20\n    }\n\n    private handleStarsUpdateEvent(stars?: number): void {\n        const s = stars ?? player.getGameData()?.stars\n        if (s === undefined) return\n\n        this.starProgressBar.setRange(s, 20)\n        this.updateStarChestButtonAnimation(s)\n    }\n\n    private handleOrientationChanged(): void {\n        if (LayoutUtils.isPortrait()) {\n            this.containerWidget.isAlignLeft = this.containerWidget.isAlignRight = true\n        } else if (LayoutUtils.isLandscape()) {\n            this.containerWidget.isAlignLeft = this.containerWidget.isAlignRight = false\n            this.containerUITransform.width = Math.min(this.uiTransform.width, 1366)\n        }\n\n        this.containerWidget.getComponentsInChildren(Widget).forEach((widget, _) => {\n            widget.updateAlignment()\n        })\n    }\n\n    //? Callback for click event of settings button\n    public handleClickedSettingsButton(): void {\n        ScreenUtils.openScreen(ScreenKeysEnum.SETTINGS_SCREEN)\n    }\n}\n","import {\n    _decorator,\n    Animation,\n    AnimationClip,\n    Node as CCNode,\n    Component,\n    Sprite,\n    SpriteFrame,\n    tween,\n    UIOpacity,\n    Vec3,\n} from 'cc'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport type AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\n\nconst { ccclass, property, executeInEditMode } = _decorator\n\n@ccclass('JourneyLevelAvatar')\n@executeInEditMode\nexport class JourneyLevelAvatar extends Component {\n    @property({ type: Sprite, displayName: 'Avatar node' })\n    private sprite: Sprite | null = null\n\n    @property(CCNode)\n    private lockIcon!: CCNode\n\n    @property(Animation)\n    private animation!: Animation\n\n    @property(UIOpacity)\n    private opacity!: UIOpacity\n\n    @property({ type: AnimationClip, group: 'Animation' })\n    private flashAnimation!: AnimationClip\n\n    @property({ type: AnimationClip, group: 'Animation' })\n    private unlockAnimation!: AnimationClip\n\n    @property({ type: AnimationClip, group: 'Animation' })\n    private spawnAnimation!: AnimationClip\n\n    @property({ type: SpriteFrame, displayName: 'Avatar sprite' })\n    public get avatarSprite(): SpriteFrame | null {\n        return this.sprite?.spriteFrame ?? null\n    }\n\n    public set avatarSprite(value: SpriteFrame | null) {\n        if (this.sprite) {\n            this.sprite.spriteFrame = value\n        }\n    }\n\n    public async playUnlockAnimation(): Promise<void> {\n        const anim = this.playAnimation(this.unlockAnimation)\n\n        const startX = this.lockIcon.position.x\n        const startY = this.lockIcon.position.y\n\n        const randAngleRange = [45, 135] as const\n        const randAngle =\n            (Math.random() * (randAngleRange[1] - randAngleRange[0]) + randAngleRange[0]) * (Math.PI / 180)\n        const distance = 150\n        const randX = this.lockIcon.position.x + distance * Math.cos(randAngle)\n        const randY = this.lockIcon.position.y + distance * Math.sin(randAngle)\n\n        const endY = startY - 400\n\n        // shoot the lock icon up and let it fall down to endY\n        const movement = AnimUtils.runTweenAsync(\n            tween(this.lockIcon)\n                .delay(0.3)\n                .to(\n                    0.2,\n                    {\n                        position: new Vec3(randX, randY, this.lockIcon.position.z),\n                    },\n                    {\n                        easing: 'sineOut',\n                    },\n                )\n                .to(\n                    0.4,\n                    {\n                        position: new Vec3(randX, endY, this.lockIcon.position.z),\n                    },\n                    {\n                        easing: 'cubicIn',\n                    },\n                ),\n        )\n\n        // spin the lock icon to random angle\n        const randRotation = [0, 360] as const\n        const rotation = AnimUtils.runTweenAsync(\n            tween(this.lockIcon)\n                .delay(0.3)\n                .to(\n                    0.6,\n                    {\n                        eulerAngles: new Vec3(\n                            0,\n                            0,\n                            Math.random() * (randRotation[1] - randRotation[0]) * (randX > startX ? -1 : 1),\n                        ),\n                    },\n                    {\n                        easing: 'sineOut',\n                    },\n                ),\n        )\n\n        await Promise.all([anim, movement, rotation])\n\n        this.lockIcon.position = new Vec3(startX, startY, this.lockIcon.position.z)\n        this.lockIcon.eulerAngles = new Vec3(0, 0, 0)\n    }\n\n    public async playFlashAnimation(signal: AnimAbortSignal): Promise<void> {\n        const y = this.node.position.y\n        const anim = this.playAnimation(this.flashAnimation)\n        const t = AnimUtils.runTweenAsync(\n            tween(this.node)\n                .to(\n                    0.1,\n                    {\n                        position: new Vec3(this.node.position.x, this.node.position.y + 10, this.node.position.z),\n                    },\n                    {\n                        easing: 'sineOut',\n                    },\n                )\n                .to(\n                    0.1,\n                    {\n                        position: new Vec3(this.node.position.x, y, this.node.position.z),\n                    },\n                    {\n                        easing: 'sineIn',\n                    },\n                ),\n            signal,\n        )\n\n        await Promise.all([anim, t])\n    }\n\n    public playSpawnAnimation(): void {\n        this.opacity.opacity = 255\n\n        // ? assume animation is short and won't block main logic\n        this.playAnimation(this.spawnAnimation)\n    }\n\n    public hideImmediately(): void {\n        this.opacity.opacity = 0\n        this.node.setScale(Vec3.ZERO)\n    }\n\n    private async playAnimation(clip: AnimationClip): Promise<void> {\n        await AnimUtils.runAnimationAsync(this.animation, clip.name)\n    }\n\n    public onLoad(): void {\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        if (!this.sprite) {\n            throw new Error('JourneyLevelAvatar: Avatar node is required')\n        }\n\n        if (!this.lockIcon) {\n            throw new Error('JourneyLevelAvatar: Lock icon is required')\n        }\n\n        if (!this.flashAnimation) {\n            throw new Error('JourneyLevelAvatar: Flash animation is required')\n        }\n\n        if (!this.unlockAnimation) {\n            throw new Error('JourneyLevelAvatar: Unlock animation is required')\n        }\n\n        if (!this.animation) {\n            throw new Error('JourneyLevelAvatar: Animation component is required')\n        }\n\n        if (\n            !this.animation.clips.some((clip) => {\n                if (clip === null) return false\n\n                return (\n                    clip.name === this.flashAnimation.name ||\n                    clip.name === this.unlockAnimation.name ||\n                    clip.name === this.spawnAnimation.name\n                )\n            })\n        ) {\n            throw new Error('JourneyLevelAvatar: Animation component does not contain required animations')\n        }\n    }\n}\n","import { _decorator, CCInteger, CCString, Component, easing, Label, lerp, tween, UIOpacity } from 'cc'\nimport { TapperedProgressBar } from '../../../../../components/tappered-progress-bar/TapperedProgressBar'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\n\nconst { ccclass, property, executeInEditMode } = _decorator\n\n@ccclass('JourneyProgressBar')\n@executeInEditMode\nexport class JourneyProgressBar extends Component {\n    @property(TapperedProgressBar)\n    private progressBar!: TapperedProgressBar\n\n    @property(Label)\n    private progressLabel!: Label\n\n    @property(UIOpacity)\n    private labelUIOpacity!: UIOpacity\n\n    private currentProgress: number = 10\n    private totalProgress: number = 10\n    private labelSeparator: string = '/'\n\n    @property(CCInteger)\n    public get total(): number {\n        return this.totalProgress\n    }\n\n    @property(CCInteger)\n    public get current(): number {\n        return this.currentProgress\n    }\n\n    @property(CCString)\n    public get separator(): string {\n        return this.labelSeparator\n    }\n\n    public set separator(value: string) {\n        this.labelSeparator = value\n        this.updateProgress()\n    }\n\n    public setRange(current: number, total: number): void {\n        this.totalProgress = total\n        let c = current\n\n        if (c > total) {\n            c = total\n        }\n\n        this.currentProgress = c\n\n        this.updateProgress()\n    }\n\n    public onLoad(): void {\n        this.validateRequiredComponents()\n    }\n\n    public async animateTo(payload: JourneyProgressSameLevelPayload): Promise<number> {\n        const { nextCurr, nextTotal, numberOfProgressBar = 0, onProgressBarPassed, signal } = payload\n\n        const progress = nextCurr / nextTotal\n        const fadeOutText = tween(this.labelUIOpacity).to(0.2, { opacity: 0 })\n        const fadeInText = tween(this.labelUIOpacity).to(0.2, { opacity: 255 })\n\n        const duration = numberOfProgressBar < 1 ? 1 : Math.sqrt(numberOfProgressBar) + 1\n\n        // [===-------][progress-bars][progress-bars]...[progress-bars][progress----]\n        const targetValue = numberOfProgressBar === 0 ? progress : numberOfProgressBar + progress\n\n        let currentProgress = 1\n\n        const start = this.progressBar.progress\n        const end = targetValue\n\n        const progressAnimation = AnimUtils.runOnUpdateAsync(\n            this.node,\n            duration,\n            (ratio) => {\n                const sineInOutRatio = easing.sineInOut(ratio)\n                const curr = lerp(start, end, sineInOutRatio)\n                this.progressBar.progress = curr % 1\n\n                if (curr > currentProgress) {\n                    currentProgress = curr === 0 ? 1 : Math.ceil(curr)\n                    onProgressBarPassed?.()\n                }\n            },\n            signal,\n        )\n\n        await Promise.all([AnimUtils.runTweenAsync(fadeOutText, signal), progressAnimation])\n\n        //? in case the animation was aborted, set final values\n        this.currentProgress = nextCurr\n        this.totalProgress = nextTotal\n        this.updateProgress()\n\n        await AnimUtils.runTweenAsync(fadeInText, signal)\n\n        //? in case the animation was aborted, set text opacity to 255\n        this.labelUIOpacity.opacity = 255\n\n        return progress\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private updateProgress(): void {\n        this.progressBar.progress = this.currentProgress / this.totalProgress\n        this.progressLabel.string = `${this.currentProgress}${this.separator}${this.totalProgress}`\n    }\n\n    private validateRequiredComponents(): void {\n        if (!this.progressBar) {\n            throw new Error('JourneyProgressBar: Missing required component TapperedProgressBar')\n        }\n\n        if (!this.progressLabel) {\n            throw new Error('JourneyProgressBar: Missing required component Label')\n        }\n    }\n}\n","import { _decorator, CCFloat, Node as CCNode, CCString, Component, Sprite, SpriteFrame, tween, Vec3 } from 'cc'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\nimport ResourceUtils from '../../../../../utils/ResourceUtils'\nimport { JourneyLevelAvatar } from '../journey-level-avatar/JourneyLevelAvatar'\nimport { JourneyProgressBar } from '../journey-progress-bar/JourneyProgressBar'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('ProgressConfiguration')\nexport class ProgressConfiguration {\n    @property(SpriteFrame)\n    public avatar!: SpriteFrame\n\n    @property(CCString)\n    public themeId!: string\n}\n\n@ccclass('JourneyProgressAnimator')\nexport class JourneyProgressAnimator extends Component {\n    @ComponentUtils.required()\n    @property(JourneyProgressBar)\n    private readonly progressBar!: JourneyProgressBar\n\n    @ComponentUtils.required()\n    @property(CCNode)\n    private readonly currentLevelAvatarNode!: CCNode\n\n    @ComponentUtils.required()\n    @property(Sprite)\n    private readonly currentLevelAvatar!: Sprite\n\n    @ComponentUtils.required()\n    @property(JourneyLevelAvatar)\n    private readonly nextLevelAvatar!: JourneyLevelAvatar\n\n    @property({\n        type: CCFloat,\n        displayName: 'Next Level Y Offset on Animation',\n        group: 'Unlocked Animation',\n    })\n    private readonly nextLevelYOffset: number = 0\n\n    private originalNextLevelAvatarPosition!: Vec3\n\n    private isAnimating = false\n\n    public setRange(current: number, total: number): void {\n        this.progressBar.setRange(current, total)\n    }\n\n    public async animateTo(current: number, signal: AnimAbortSignal): Promise<void> {\n        if (this.isAnimating) {\n            console.warn('JourneyProgressAnimator: animation already in progress')\n            return Promise.resolve()\n        }\n\n        this.isAnimating = true\n        if (current !== this.progressBar.current) {\n            await this.progressBar.animateTo({\n                nextCurr: current,\n                nextTotal: this.progressBar.total,\n                signal,\n            })\n        }\n\n        this.isAnimating = false\n    }\n\n    public async animateToNextLevel({\n        nextCurr,\n        nextTotal,\n        mapsPassed,\n        signal,\n    }: JourneyProgressLevelUpPayload): Promise<void> {\n        if (this.isAnimating) {\n            console.warn('JourneyProgressAnimator: animation already in progress')\n            return\n        }\n\n        this.isAnimating = true\n\n        const numberOfProgressBar = mapsPassed.length - 2\n\n        if (numberOfProgressBar === 0) {\n            await this.progressBar.animateTo({ nextCurr, nextTotal, signal })\n            this.isAnimating = false\n            return\n        }\n\n        await this.animateTargetAvaToCenter(signal)\n\n        const onProgressBarPassed = () => {\n            if (currThemeIndex === 1) {\n                this.nextLevelAvatar.playUnlockAnimation()\n                currThemeIndex += 1\n                return\n            }\n\n            if (currThemeIndex >= mapsPassed.length) {\n                throw new Error('JourneyProgressAnimator: currThemeIndex out of bounds')\n            }\n\n            this.nextLevelAvatar.playFlashAnimation(signal)\n            this.setNextLevelAvatar((<(typeof mapsPassed)[number]>mapsPassed[currThemeIndex]).theme)\n            currThemeIndex += 1\n        }\n\n        let currThemeIndex = 1\n        await this.progressBar.animateTo({\n            signal,\n            nextCurr,\n            nextTotal,\n            numberOfProgressBar,\n            onProgressBarPassed,\n        })\n\n        await this.animateTargetAvaToPrev(signal)\n\n        const nextTheme = (<(typeof mapsPassed)[number]>mapsPassed[mapsPassed.length - 1]).theme\n        const currentTheme = (<(typeof mapsPassed)[number]>mapsPassed[mapsPassed.length - 2]).theme\n        this.setCurrentLevelAvatar(currentTheme)\n\n        this.nextLevelAvatar.hideImmediately()\n        this.moveTargetAvaToOriginal()\n        this.nextLevelAvatar.avatarSprite = await this.getSpriteFrameByThemeId(nextTheme)\n        this.nextLevelAvatar.playSpawnAnimation()\n\n        this.isAnimating = false\n    }\n\n    private async animateTargetAvaToCenter(signal: AnimAbortSignal): Promise<void> {\n        const targetPos = new Vec3(\n            0,\n            this.nextLevelYOffset + this.nextLevelAvatar.node.position.y,\n            this.nextLevelAvatar.node.position.z,\n        )\n\n        await AnimUtils.runTweenAsync(\n            tween(this.nextLevelAvatar.node).to(\n                1,\n                {\n                    position: targetPos,\n                },\n                {\n                    easing: 'cubicInOut',\n                },\n            ),\n            signal,\n        )\n\n        //? in case the animation was aborted, set final values\n        this.nextLevelAvatar.node.position = targetPos\n    }\n\n    private moveTargetAvaToOriginal(): void {\n        this.nextLevelAvatar.node.position = this.originalNextLevelAvatarPosition.clone()\n    }\n\n    private async animateTargetAvaToPrev(signal: AnimAbortSignal): Promise<void> {\n        const targetPos = this.currentLevelAvatarNode.position.clone()\n\n        await AnimUtils.runTweenAsync(\n            tween(this.nextLevelAvatar.node).to(\n                1,\n                {\n                    position: targetPos,\n                },\n                {\n                    easing: 'cubicInOut',\n                },\n            ),\n            signal,\n        )\n\n        //? in case the animation was aborted, set final values\n        this.nextLevelAvatar.node.position = targetPos\n    }\n\n    private async getSpriteFrameByThemeId(themeId: ThemeKeys): Promise<SpriteFrame | null> {\n        const spriteFrame = ResourceUtils.loadThemeThumbnailAsync(themeId)\n\n        return spriteFrame\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async loadAndSetAvatar(themeId: ThemeKeys, avatar: JourneyLevelAvatar | Sprite) {\n        const spriteFrame = await this.getSpriteFrameByThemeId(themeId)\n\n        if (!spriteFrame) {\n            console.warn(`JourneyProgressAnimator: ${themeId} is null`)\n            return\n        }\n\n        this.setAvatar(spriteFrame, avatar)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private setAvatar(spriteFrame: SpriteFrame, avatar: JourneyLevelAvatar | Sprite) {\n        if (avatar instanceof JourneyLevelAvatar) {\n            avatar.avatarSprite = spriteFrame\n            return\n        }\n\n        avatar.spriteFrame = spriteFrame\n    }\n\n    public setCurrentLevelAvatar(themeId: ThemeKeys) {\n        this.loadAndSetAvatar(themeId, this.currentLevelAvatar)\n    }\n\n    public setNextLevelAvatar(themeId: ThemeKeys) {\n        this.loadAndSetAvatar(themeId, this.nextLevelAvatar)\n    }\n\n    public onLoad(): void {\n        ComponentUtils.validateRequiredProperties(this, JourneyProgressAnimator)\n        this.originalNextLevelAvatarPosition = this.nextLevelAvatar.node.position.clone()\n    }\n}\n","import { _decorator, Component, game, UITransform } from 'cc'\nimport { OpacityToggler } from '../../../../../components/common/OpacityToggler'\nimport GameEvents from '../../../../../constants/GameEvents'\nconst { ccclass, property } = _decorator\n\n@ccclass('LandscapeMask')\nexport class LandscapeMask extends Component {\n    @property(OpacityToggler)\n    private opacityToggler!: OpacityToggler\n\n    @property(UITransform)\n    private uiTransform!: UITransform\n\n    @property(UITransform)\n    private leftMask!: UITransform\n\n    @property(UITransform)\n    private rightMask!: UITransform\n\n    protected __preload(): void {\n        game.on(GameEvents.VIEW_RESIZED, this.onViewResized, this)\n    }\n\n    protected onDestroy(): void {\n        game.off(GameEvents.VIEW_RESIZED, this.onViewResized, this)\n    }\n\n    private onViewResized(): void {\n        this.updateMaskPosition()\n    }\n\n    public updateMaskPosition() {\n        const { width: screenWidth, height: screenHeight } = this.uiTransform.contentSize\n\n        // ? Masks is rotated 90 degrees so width is actually height and vice versa\n        this.leftMask.width = this.rightMask.width = screenHeight * 2\n        const margin = this.leftMask.height > screenWidth * 0.3 ? this.leftMask.height - screenWidth * 0.3 : 0\n\n        this.leftMask.node.setWorldPosition(-margin, this.leftMask.node.worldPosition.y, 0)\n        this.rightMask.node.setWorldPosition(screenWidth + margin, this.rightMask.node.worldPosition.y, 0)\n    }\n\n    public show(): void {\n        this.opacityToggler.changeStateFade(true, 0.2)\n    }\n\n    public hide(): void {\n        this.opacityToggler.changeStateFade(false, 0.1)\n    }\n}\n","import DashboardEvents from 'db://assets/constants/DashboardEvents'\nimport { CustomModeLevel } from 'db://assets/gameplay/constants/CustomGameData'\nimport { _decorator, Button, Component, Node, Sprite, SpriteFrame } from 'cc'\nimport { ScreenKeysEnum } from '../../../../../../constants/ScreenKeys'\nimport ScreenUtils from '../../../../../../utils/ScreenUtils'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('CustomButton')\nexport class CustomButton extends Component {\n    @property(Sprite)\n    private sprite!: Sprite\n\n    @property(SpriteFrame)\n    private lockedSprite!: SpriteFrame\n\n    @property(SpriteFrame)\n    private unlockedSprite!: SpriteFrame\n\n    @property(Button)\n    private button!: Button\n\n    @property(Node)\n    private unlockContainer!: Node\n\n    public set interactable(value: boolean) {\n        this.button.interactable = value\n    }\n\n    public updateStatus(level: number): void {\n        const active = level >= CustomModeLevel\n\n        this.button.interactable = active\n        this.unlockContainer.active = !active\n\n        this.sprite.spriteFrame = active ? this.unlockedSprite : this.lockedSprite\n    }\n\n    public async handleOnClicked(): Promise<void> {\n        const screenPayload = await ScreenUtils.openScreenAndWaitForClose(ScreenKeysEnum.CUSTOM_GAME_SCREEN)\n        const { customMode } = screenPayload.screenData ?? {}\n\n        if (customMode) this.node.scene.emit(DashboardEvents.CUSTOM_PLAY_BUTTON_PRESS)\n    }\n}\n","import { Component, Label, Vec3, _decorator } from 'cc'\nimport GameplayEvents from 'db://assets/gameplay/constants/GameEvents'\nimport GuideMasks from 'db://assets/gameplay/guides/GuideMasks'\nimport AnimUtils from 'db://assets/utils/AnimUtils'\nimport ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport { CustomButton } from '../custom-button/CustomButton'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('CustomGuideUI')\nexport class CustomGuideUI extends Component {\n    @ComponentUtils.required()\n    @property(CustomButton)\n    private customButton!: CustomButton\n\n    @ComponentUtils.required()\n    @property(GuideMasks)\n    private guideMasks!: GuideMasks\n\n    @ComponentUtils.required()\n    @property(Label)\n    private guideInfoText!: Label\n\n    private guideShown: boolean = false\n\n    public update(): void {\n        if (!this.guideShown) return\n\n        const position = this.customButton.node.worldPosition\n        this.guideInfoText.node.worldPosition = new Vec3(position.x - 100, position.y, 0)\n        this.guideMasks.setOtherMaskTransform(position.x, position.y, 150, 150)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async startGuide(): Promise<void> {\n        this.guideShown = true\n        this.guideInfoText.node.active = true\n\n        await this.guideMasks.show()\n        await Promise.race([this.waitForClick(), AnimUtils.waitTweenAsync(3)])\n        await this.guideMasks?.hide()\n\n        this.guideInfoText.node.active = false\n        this.guideShown = false\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private waitForClick(): Promise<void> {\n        return new Promise<void>((resolve) => {\n            this.node.scene.once(GameplayEvents.GUIDE_MASK_CLICKED, () => {\n                resolve()\n            })\n        })\n    }\n}\n","import { _decorator, Button, Component, Node } from 'cc'\nimport { Localize } from '../../../../../../components/text/Localize'\nimport DashboardEvents from '../../../../../../constants/DashboardEvents'\nimport ComponentUtils from '../../../../../../utils/ComponentUtils'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('PlayButton')\nexport class PlayButton extends Component {\n    @ComponentUtils.required()\n    @property(Localize)\n    private localizer!: Localize\n\n    @ComponentUtils.required()\n    @property(Node)\n    private defaultBackground!: Node\n\n    @ComponentUtils.required()\n    @property(Node)\n    private hardLevelBackground!: Node\n\n    @ComponentUtils.required()\n    @property(Button)\n    private button!: Button\n\n    public set interactable(value: boolean) {\n        this.button.interactable = value\n    }\n\n    public updateStatus(level: number): void {\n        const isHardLevel = level % 5 === 0\n\n        this.localizer.setParams([level.toString()])\n        this.defaultBackground.active = !isHardLevel\n        this.hardLevelBackground.active = isHardLevel\n    }\n\n    public handleOnClicked(): void {\n        this.node.scene.emit(DashboardEvents.PLAY_BUTTON_PRESS)\n    }\n}\n","import { Component, Node, UIOpacity, _decorator, game, tween } from 'cc'\nimport { OpacityToggler } from '../../../../../components/common/OpacityToggler'\nimport GameEvents from '../../../../../constants/GameEvents'\nimport GameplayEvents from '../../../../../gameplay/constants/GameEvents'\nimport MapData from '../../../../../gameplay/constants/MapData'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\nimport LayoutUtils from '../../../../../utils/LayoutUtils'\nimport ThemeUtils from '../../../../../utils/ThemeUtils'\nimport { CoinContainer } from '../../../../common/coin-container/CoinContainer'\nimport { DashboardHeader } from '../../ui/header/DashboardHeader'\nimport { JourneyProgressAnimator } from '../../ui/journey-progress/JourneyProgressAnimator'\nimport { LandscapeMask } from '../../ui/landscape-mask/LandscapeMask'\nimport { CustomButton } from './custom-button/CustomButton'\nimport { CustomGuideUI } from './custom-guide-ui/CustomGuideUI'\nimport { PlayButton } from './play-button/PlayButton'\n\nconst { ccclass, property } = _decorator\n\nconst { storage, monitorError, player } = codex\nconst {\n    Utils: { Array: A, Json: J },\n} = Ludex\n\n@ccclass('HomeContent')\nexport class HomeContent extends Component {\n    @ComponentUtils.required()\n    @property({ type: PlayButton, group: 'Play Button' })\n    private playButton!: PlayButton\n\n    @ComponentUtils.required()\n    @property({ type: CustomButton, group: 'Play Button' })\n    private customButton!: CustomButton\n\n    @ComponentUtils.required()\n    @property(OpacityToggler)\n    private contentOpacity!: OpacityToggler\n\n    @ComponentUtils.required()\n    @property(JourneyProgressAnimator)\n    private journeyProgressAnimator!: JourneyProgressAnimator\n\n    @ComponentUtils.required()\n    @property(DashboardHeader)\n    private dashboardHeader!: DashboardHeader\n\n    @ComponentUtils.required()\n    @property(UIOpacity)\n    private overlayDuringAnim!: UIOpacity\n\n    @ComponentUtils.required()\n    @property(CoinContainer)\n    private coinContainer!: CoinContainer\n\n    @ComponentUtils.required()\n    @property(Node)\n    private leavesContainer!: Node\n\n    @ComponentUtils.required()\n    @property(LandscapeMask)\n    private landscapeMask!: LandscapeMask\n\n    @ComponentUtils.required()\n    @property(CustomGuideUI)\n    private customGuideUI!: CustomGuideUI\n\n    protected onLoad(): void {\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n\n        this.handleOrientationChanged()\n\n        ComponentUtils.validateRequiredProperties(this)\n    }\n\n    protected onDestroy(): void {\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n    }\n\n    private listenEvents() {\n        this.node.scene.on(GameplayEvents.HIDE_UI, this.hideContent, this)\n        this.node.scene.on(GameplayEvents.SHOW_UI, this.showContent, this)\n    }\n\n    private unlistenEvents() {\n        this.node.scene.off(GameplayEvents.HIDE_UI, this.hideContent, this)\n        this.node.scene.off(GameplayEvents.SHOW_UI, this.showContent, this)\n    }\n\n    public getCoinContainer(): CoinContainer {\n        return this.coinContainer\n    }\n\n    public updateStatus(): void {\n        const { level = 1, stars = 0 } = player.getGameData() ?? {}\n\n        this.playButton.updateStatus(level)\n        this.customButton.updateStatus(level)\n        this.dashboardHeader.updateStarProgress(stars)\n        this.dashboardHeader.updateDailyRewardsButton()\n    }\n\n    public updateDailyRewardsButton(): void {\n        this.dashboardHeader.updateDailyRewardsButton()\n    }\n\n    public setUnlockProgress(currProgress: CurrentMapProgressPayload, resetAnimationQueue = false): void {\n        this.setProgress(currProgress)\n        this.updateCurrentMapInStorage(currProgress, resetAnimationQueue)\n    }\n\n    public shouldPlayUnlockAnimation(): boolean {\n        const dashboardStorage = storage.getStorage('dashboard')\n\n        if (dashboardStorage === null || dashboardStorage === undefined) {\n            monitorError?.sendException(new Error('DashboardScene: dashboardStorage not found'))\n            return false\n        }\n\n        const animateToCurrentLevel = dashboardStorage.animateToCurrentLevel ?? false\n\n        if (!animateToCurrentLevel) {\n            return false\n        }\n\n        const tournamentStorage = storage.getStorage('tournament')\n\n        if (tournamentStorage === null || tournamentStorage === undefined) {\n            monitorError?.sendException(new Error('DashboardScene: tournamentStorage not found'))\n            return false\n        }\n\n        const animateTournamentLeader = tournamentStorage.animateTournamentLeader ?? false\n\n        if (animateTournamentLeader) {\n            return false\n        }\n\n        const lastProgress = dashboardStorage.lastMapPayload\n        const currProgress = ThemeUtils.getCurrentMapProgress()\n        const isSameProgress = J.encode(lastProgress) === J.encode(currProgress)\n\n        if (isSameProgress) {\n            return false\n        }\n\n        const lastMapIndex = A.searchIndex(MapData.mapOrder, (map) => map.id === lastProgress.id)\n        const currMapIndex = A.searchIndex(MapData.mapOrder, (map) => map.id === currProgress.id)\n\n        const isDevToolTimeTravel = lastMapIndex > currMapIndex\n        return !isDevToolTimeTravel\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public playUnlockProgressAnimation(signal: AnimAbortSignal) {\n        const dashboardStorage = storage.getStorage('dashboard')\n        if (dashboardStorage === null || dashboardStorage === undefined) {\n            throw new Error('DashboardScene: dashboardStorage not found')\n        }\n\n        const lastProgress = dashboardStorage.lastMapPayload\n        const currProgress = ThemeUtils.getCurrentMapProgress()\n\n        const lastMapIndex = A.searchIndex(MapData.mapOrder, (map) => map.id === lastProgress.id)\n        const currMapIndex = A.searchIndex(MapData.mapOrder, (map) => map.id === currProgress.id)\n\n        const mapsPassed = MapData.mapOrder.slice(lastMapIndex, currMapIndex + 2)\n        const isSamePack = lastProgress.id === currProgress.id\n\n        if (isSamePack) {\n            return this.playUnlockProgressAnimationOnly(currProgress, lastProgress, signal)\n        }\n\n        return this.playUnlockProgressAndPackAnimation(lastProgress, currProgress, mapsPassed, signal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async playUnlockProgressAndPackAnimation(\n        lastProgress: CurrentMapProgressPayload,\n        currProgress: CurrentMapProgressPayload,\n        mapsPassed: MapInfo[],\n        signal: AnimAbortSignal,\n    ) {\n        this.setProgress({ ...lastProgress })\n\n        this.updateCurrentMapInStorage({ ...currProgress }, true)\n\n        this.playButton.interactable = false\n\n        await this.showOwnOverlay(signal)\n        await this.journeyProgressAnimator.animateToNextLevel({\n            nextCurr: currProgress.progress,\n            nextTotal: currProgress.max,\n            mapsPassed,\n            signal,\n        })\n        await this.hideOwnOverlay(signal)\n\n        this.playButton.interactable = true\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async playUnlockProgressAnimationOnly(\n        currProgress: CurrentMapProgressPayload,\n        lastProgress: CurrentMapProgressPayload,\n        signal: AnimAbortSignal,\n    ) {\n        this.setProgress({\n            ...currProgress,\n            progress: lastProgress.progress,\n        })\n\n        this.updateCurrentMapInStorage({ ...currProgress }, true)\n\n        const progress = currProgress.progress\n\n        await this.showOwnOverlay(signal)\n        await this.journeyProgressAnimator.animateTo(progress, signal)\n        await this.hideOwnOverlay(signal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async hideOwnOverlay(signal: AnimAbortSignal) {\n        await AnimUtils.runTweenAsync(tween(this.overlayDuringAnim).to(0.3, { opacity: 0 }), signal)\n        if (!this.node.activeInHierarchy) return\n\n        //? in case the animation was aborted, set final values\n        this.overlayDuringAnim.opacity = 0\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async showOwnOverlay(signal: AnimAbortSignal) {\n        await AnimUtils.runTweenAsync(tween(this.overlayDuringAnim).to(0.3, { opacity: 150 }), signal)\n    }\n\n    private setProgress(payload: CurrentMapProgressPayload): void {\n        const { currentTheme, nextTheme, progress, max } = payload\n\n        this.journeyProgressAnimator.setCurrentLevelAvatar(currentTheme)\n\n        // ! Handle case where nextMap is undefined. (i.e. last map)\n        this.journeyProgressAnimator.setNextLevelAvatar(nextTheme ?? currentTheme)\n\n        this.journeyProgressAnimator.setRange(progress, max)\n    }\n\n    private updateCurrentMapInStorage(currProgress: CurrentMapProgressPayload, resetAnimationQueue = false): void {\n        const dashboardStorage = storage.getStorage('dashboard')\n\n        if (dashboardStorage === null || dashboardStorage === undefined) {\n            monitorError?.sendException(new Error('DashboardScene: dashboardStorage not found'))\n            return\n        }\n\n        const { animateToCurrentLevel } = dashboardStorage\n\n        storage.setStorageData(\n            'dashboard',\n            'animateToCurrentLevel',\n            resetAnimationQueue ? false : animateToCurrentLevel,\n        )\n\n        storage.setStorageData('dashboard', 'lastMapPayload', currProgress)\n    }\n\n    private handleOrientationChanged(): void {\n        this.leavesContainer.active = LayoutUtils.isLandscape()\n        this.landscapeMask.node.active = LayoutUtils.isLandscape()\n    }\n    public transitionIn(): void {\n        this.listenEvents()\n        if (!this.landscapeMask.node.active) return\n        this.landscapeMask.updateMaskPosition()\n        this.landscapeMask.show()\n    }\n\n    public transitionOut(): void {\n        this.unlistenEvents()\n        if (!this.landscapeMask.node.active) return\n        this.landscapeMask.hide()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private hideContent(): void {\n        this.contentOpacity.changeStateFade(false, 0.5)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private showContent(): void {\n        this.contentOpacity.changeStateFade(true, 0.1)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async showCustomGuide(): Promise<void> {\n        await this.customGuideUI.startGuide()\n    }\n}\n","import { CCInteger, Node as CCNode, Component, type Prefab, UIOpacity, Widget, _decorator, instantiate } from 'cc'\nimport AnalyticsUtils from '../../../../utils/AnalyticsUtils'\nimport AnimUtils from '../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../utils/ComponentUtils'\nconst { ccclass, property, disallowMultiple, requireComponent } = _decorator\n\n@ccclass('DashboardPage')\n@disallowMultiple\n@requireComponent(Widget)\n@requireComponent(UIOpacity)\nexport class DashboardPage extends Component {\n    @ComponentUtils.required()\n    @property({\n        type: CCNode,\n        displayName: \"Page's container\",\n    })\n    protected container!: CCNode\n\n    @ComponentUtils.required()\n    protected containerUIOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: CCNode, displayName: 'Placeholder' })\n    protected placeholder!: CCNode\n\n    @ComponentUtils.required()\n    protected placeholderUIOpacity!: UIOpacity\n\n    @property({\n        displayName: \"Don't create prefab\",\n        tooltip: \"Tell the component to not create the prefab even if it hasn't create yet\",\n    })\n    public hasCreated: boolean = false\n\n    protected pagePrefab: Prefab | null = null\n\n    @property({\n        displayName: 'Darken background',\n    })\n    protected darkenBackground: boolean = false\n\n    @property({\n        type: CCInteger,\n        min: 0,\n        max: 255,\n        displayName: 'Background opacity',\n        visible: function (this: DashboardPage) {\n            return this.darkenBackground\n        },\n    })\n    protected backgroundOpacity = 150\n\n    @property({\n        displayName: 'Use navbar shadow',\n    })\n    protected useNavbarShadow: boolean = false\n\n    @property({\n        type: CCInteger,\n        min: 0,\n        max: 255,\n        displayName: 'Navbar shadow opacity',\n        visible: function (this: DashboardPage) {\n            return this.useNavbarShadow\n        },\n    })\n    protected navbarShadowOpacity = 150\n\n    @ComponentUtils.required()\n    protected uiOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    protected widgetComponent!: Widget\n\n    public onLoad(): void {\n        this.uiOpacity = this.getComponent(UIOpacity) as UIOpacity\n        this.widgetComponent = this.getComponent(Widget) as Widget\n        this.containerUIOpacity = this.container.getComponent(UIOpacity) as UIOpacity\n        this.placeholderUIOpacity = this.placeholder.getComponent(UIOpacity) as UIOpacity\n\n        ComponentUtils.validateRequiredProperties(this)\n    }\n\n    public start(): void {\n        this.container.active = true\n        this.placeholder.active = true\n    }\n\n    public getWidget(): Widget {\n        return this.widgetComponent\n    }\n\n    /**\n     * Show the page (placeholder and container untouched)\n     */\n    public show(): void {\n        this.uiOpacity.opacity = 255\n    }\n\n    /**\n     * Hide the page (placeholder and container untouched)\n     */\n    public hide(): void {\n        this.uiOpacity.opacity = 0\n    }\n\n    /**\n     * This method is called when this page is the target of a navigation action.\n     */\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async mount(): Promise<void> {\n        if (!this.hasCreated) {\n            await this.create()\n        }\n\n        this.mountInLifeCycle()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private mountInLifeCycle() {\n        this.placeholderUIOpacity.opacity = 0\n        this.containerUIOpacity.opacity = 255\n\n        AnalyticsUtils.trackCurrentPage(this.node.name, true)\n    }\n\n    /**\n     * This method is called when this page is not on the screen anymore.\n     */\n    public unmount(): void {\n        if (this.placeholderUIOpacity.opacity === 255 && this.containerUIOpacity.opacity === 0) return\n\n        this.placeholderUIOpacity.opacity = 255\n        this.containerUIOpacity.opacity = 0\n    }\n\n    /**\n     * This method is called when navigation to this page finishes.\n     */\n    public transitionIn(): Promise<void> {\n        return Promise.resolve()\n    }\n\n    /**\n     * This method is called when navigation to another page starts.\n     */\n    public transitionOut(): Promise<void> {\n        return Promise.resolve()\n    }\n\n    public hasLoadedPage(): boolean {\n        return true\n    }\n\n    public getContainer(): CCNode {\n        return this.container\n    }\n\n    public getDarkenBackground(): number {\n        return this.darkenBackground ? this.backgroundOpacity : 0\n    }\n\n    public getNavbarShadow(): number {\n        return this.useNavbarShadow ? this.navbarShadowOpacity : 0\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async create(): Promise<void> {\n        if (!this.pagePrefab || this.hasCreated) return\n\n        const page = instantiate(this.pagePrefab)\n\n        this.container.addChild(page)\n\n        // ? Wait at least 0s for next frame\n        // ? when Cocos finished instantiating the prefab\n        // ? before playing animations to avoid stuttering\n        await AnimUtils.waitTweenAsync(0)\n\n        this.hasCreated = true\n    }\n}\n","import { _decorator, tween } from 'cc'\nimport { PanelAnimationController } from '../../../../../components/panel-animator/PanelAnimationController'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport ThemeUtils from '../../../../../utils/ThemeUtils'\nimport { DashboardPage } from '../DashboardPage'\nimport { CollectionsContent } from './CollectionsContent'\nconst { ccclass } = _decorator\n\n@ccclass('CollectionsPage')\nexport class CollectionsPage extends DashboardPage {\n    private themeContent!: CollectionsContent\n\n    private payload: CollectionsPayload[] | null = null\n\n    @ComponentUtils.required()\n    private panelAnimationController!: PanelAnimationController\n\n    public onLoad(): void {\n        this.panelAnimationController = this.getComponent(PanelAnimationController) as PanelAnimationController\n        super.onLoad()\n    }\n\n    public async start(): Promise<void> {\n        super.start()\n\n        // this.pagePrefab = GeneralUtils.getAsset(ResourcePaths.COLLECTIONS_PAGE, Prefab)\n    }\n\n    public setPayload(payload: CollectionsPayload[]): void {\n        this.payload = payload\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public override async mount(): Promise<void> {\n        // if (!this.pagePrefab) {\n        //     const data = await GeneralUtils.loadPrefabAsync(ResourcePaths.COLLECTIONS_PAGE)\n        //     if (data && this.node) {\n        //         this.pagePrefab = data\n        //     }\n        // }\n\n        await super.mount()\n        this.onMount()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private onMount() {\n        this.containerUIOpacity.opacity = 0\n\n        if (!this.themeContent) {\n            this.themeContent = this.container.getComponentInChildren(CollectionsContent)!\n\n            if (!this.themeContent) {\n                throw new Error('No theme content found')\n            }\n        }\n\n        const collectionPayloads = ThemeUtils.getCollectionUnlockProgress()\n        this.themeContent.updateUnlockedProgress(collectionPayloads)\n\n        if (this.payload) this.themeContent.init(this.payload)\n        \n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public override async transitionIn(): Promise<void> {\n        await super.transitionIn()\n        this.themeContent.restoreScrollPosition()\n\n        this.themeContent.listenEvents()\n\n        const fadeIn = AnimUtils.runTweenAsync(tween(this.containerUIOpacity).to(0.2, { opacity: 255 }))\n\n        const uiAnim = this.panelAnimationController.showUI()\n\n        await Promise.all([fadeIn, uiAnim])\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public override async transitionOut(): Promise<void> {\n        await super.transitionOut()\n        this.themeContent.preserveScrollPosition()\n        this.themeContent.unlistenUIEvents()\n\n        await this.panelAnimationController.hideUI()\n\n        this.themeContent.unlistenEvents()\n    }\n}\n","import { CCFloat, Component, Enum, UIOpacity, UITransform, Vec3, View, _decorator, easing, game, tween } from 'cc'\nimport DashboardEvents from '../../../../constants/DashboardEvents'\nimport DashboardScreens from '../../../../constants/DashboardScreens'\nimport GameEvents from '../../../../constants/GameEvents'\nimport AnimUtils from '../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../../../utils/common/AnimAbortSignal'\nimport ScreenUtils from '../../../../utils/ScreenUtils'\nimport { CollectionsPage } from './collections/CollectionsPage'\nimport { DashboardPage } from './DashboardPage'\n\nconst { ccclass, property, disallowMultiple, requireComponent } = _decorator\n\nconst { Array: A } = Ludex.Utils\n\n@ccclass('PageManagerItem')\nclass PageManagerItem {\n    @property(DashboardPage)\n    public page!: DashboardPage\n\n    @property({ type: Enum(DashboardScreens) })\n    public pageType!: DashboardScreens\n}\n\n@ccclass('PageManager')\n@disallowMultiple\n@requireComponent(UITransform)\nexport class PageManager extends Component {\n    @ComponentUtils.required()\n    @property({ type: UIOpacity, displayName: 'Background Mask', group: 'Background Mask' })\n    private backgroundMask!: UIOpacity\n\n    @property({\n        type: CCFloat,\n        displayName: 'Transition duration',\n        group: 'Background Mask',\n    })\n    private backgroundMaskTransitionDuration: number = 0.5\n\n    @property({\n        type: CCFloat,\n        displayName: 'Transition delay',\n        group: 'Background Mask',\n    })\n    private backgroundMaskTransitionDelay: number = 0.3\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity, displayName: 'Nav Bar Shadow', group: 'Nav Bar Shadow' })\n    private navBarShadow!: UIOpacity\n\n    @property({\n        type: CCFloat,\n        displayName: 'Transition duration',\n        group: 'Nav Bar Shadow',\n    })\n    private navBarShadowTransitionDuration: number = 0.5\n\n    @property({\n        type: CCFloat,\n        displayName: 'Transition delay',\n        group: 'Nav Bar Shadow',\n    })\n    private navBarShadowTransitionDelay: number = 0.3\n\n    @property({ type: [PageManagerItem] })\n    private pageItems: PageManagerItem[] = []\n\n    @property({ type: Enum(DashboardScreens) })\n    private currentScreen: DashboardScreens = DashboardScreens.home\n\n    @ComponentUtils.required()\n    private uiTransform!: UITransform\n\n    public unmountAndHideAll(): void {\n        // biome-ignore lint/complexity/noForEach: simple\n        this.pageItems.forEach((item) => {\n            const { page, pageType: screen } = item\n\n            if (screen === this.currentScreen) {\n                return\n            }\n\n            page.unmount()\n            page.hide()\n        })\n    }\n\n    public onLoad(): void {\n        this.uiTransform = this.getComponent(UITransform) as UITransform\n        ComponentUtils.validateRequiredProperties(this)\n\n        game.on(GameEvents.VIEW_RESIZED, this.init, this)\n    }\n\n    protected onDestroy(): void {\n        game.off(GameEvents.VIEW_RESIZED, this.init, this)\n    }\n\n    public init(): void {\n        this.pageItems.forEach((pageItem, index) => {\n            const { page } = pageItem\n            const widget = page.getWidget()\n\n            const currentIndex = this.getPageIndex(this.currentScreen)\n\n            widget.right = -(index - currentIndex) * this.uiTransform.width\n            widget.left = (index - currentIndex) * this.uiTransform.width\n            widget.updateAlignment()\n        })\n    }\n\n    public updateCollectionsContentPayload(data: CollectionsPayload[]): void {\n        const collectionsPage = this.getPage(DashboardScreens.collections)\n        if (collectionsPage && collectionsPage instanceof CollectionsPage) {\n            collectionsPage.setPayload(data)\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async navigate(\n        payload: NavigatePayload,\n        signal: AnimAbortSignal,\n        onMount?: (page: DashboardPage) => Promise<void>,\n        onTransitionIn?: (page: DashboardPage) => Promise<void>,\n    ): Promise<void> {\n        const { from, to } = payload\n\n        if (from === null) {\n            await this.navigateFromNull(to, onMount, onTransitionIn)\n            return\n        }\n\n        await this.navigateFromPage(from, to, signal, onMount, onTransitionIn)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async navigateFromPage(\n        from: DashboardScreens,\n        to: DashboardScreens,\n        signal: AnimAbortSignal,\n        onMount?: (page: DashboardPage) => Promise<void>,\n        onTransitionIn?: (page: DashboardPage) => Promise<void>,\n    ) {\n        const { toPage, fromPage } = this.validateNavigationRequest(from, to)\n\n        this.currentScreen = to\n\n        const width = this.uiTransform.width\n\n        const startIndex = this.getPageIndex(from)\n        const endIndex = this.getPageIndex(to)\n\n        const leftIndex = Math.min(startIndex, endIndex)\n        const rightIndex = Math.max(startIndex, endIndex)\n\n        const distance = (rightIndex - leftIndex) * width\n        const direction = startIndex < endIndex ? 1 : -1\n\n        const items = this.pageItems.slice(leftIndex, rightIndex + 1)\n\n        items.forEach(({ page }, index) => {\n            page.show()\n\n            const widget = page.getWidget()\n\n            widget.enabled = false\n\n            page.node.position = new Vec3(\n                (index + leftIndex - startIndex) * width,\n                page.node.position.y,\n                page.node.position.z,\n            )\n        })\n\n        const isPageLoading = !toPage.hasLoadedPage()\n\n        if (isPageLoading) {\n            this.showLoadingScreen()\n        }\n\n        const remainingItems = this.pageItems.filter((item) => item.pageType !== to)\n\n        const cleanup = () => this.cleanupPages(toPage, remainingItems)\n\n        signal.addAbortListener(cleanup)\n\n        await this.mountPage(toPage, onMount)\n\n        await signal.callAsync(() =>\n            this.performFullTransition({ from, to, fromPage, toPage, distance, direction, items }),\n        )\n\n        signal.removeAbortListener(cleanup)\n        signal.call(cleanup)\n\n        await signal.callAsync(() => this.transitionInPage(toPage, onTransitionIn))\n\n        if (isPageLoading) {\n            this.hideLoadingScreen()\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private hideLoadingScreen() {\n        ScreenUtils.closeLoadingScreen()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private showLoadingScreen() {\n        ScreenUtils.showLoadingScreen()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private cleanupPages(toPage: DashboardPage, items: PageManagerItem[]) {\n        const widget = toPage.getWidget()\n        widget.enabled = true\n        widget.left = 0\n        widget.right = 0\n        View.instance.emit('canvas-resize')\n\n        for (const item of items) {\n            item.page.unmount()\n            item.page.hide()\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async performFullTransition(config: {\n        from: DashboardScreens\n        to: DashboardScreens\n        fromPage: DashboardPage\n        toPage: DashboardPage\n        distance: number\n        direction: 1 | -1\n        items: PageManagerItem[]\n    }) {\n        const { from, to, fromPage, distance, direction, items, toPage } = config\n\n        this.node.scene.emit(DashboardEvents.REQUEST_NAVIGATION_ANIMATION, {\n            from,\n            to,\n        })\n\n        await Promise.all([\n            fromPage.transitionOut(),\n            this.transition(distance, direction, items),\n            this.handleBackgroundMask(this.backgroundMaskTransitionDuration, toPage.getDarkenBackground()),\n\n            this.handleNavBarShadow(this.navBarShadowTransitionDuration, toPage.getNavbarShadow()),\n        ])\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async mountPage(toPage: DashboardPage, onMount?: (page: DashboardPage) => Promise<void>) {\n        await toPage.mount()\n        await onMount?.(toPage)\n    }\n\n    private validateNavigationRequest(from: DashboardScreens, to: DashboardScreens) {\n        if (from !== this.currentScreen) {\n            throw new Error(\n                'PageManager: Cannot navigate from a different screen. Perhaps you forgot to update the currentScreen property.',\n            )\n        }\n\n        const fromPage = this.getPage(this.currentScreen)\n        const toPage = this.getPage(to)\n\n        if (!toPage || !fromPage) {\n            throw new Error(\n                'PageManager: Cannot navigate to/from a null page. Perhaps you forgot to add the page to the pageItems array in the editor.',\n            )\n        }\n        return { toPage, fromPage }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async navigateFromNull(\n        to: DashboardScreens,\n        onMount?: (page: DashboardPage) => Promise<void>,\n        onTransitionIn?: (page: DashboardPage) => Promise<void>,\n    ) {\n        const currentPage = this.getPage(this.currentScreen)!\n        currentPage.show()\n\n        this.currentScreen = to\n        await this.mountPage(currentPage, onMount)\n\n        if (!this.node?.scene) return\n        this.node.scene.emit(DashboardEvents.REQUEST_NAVIGATION_ANIMATION, {\n            from: null,\n            to,\n        })\n\n        await this.transitionInPage(currentPage, onTransitionIn)\n    }\n\n    private async transitionInPage(\n        currentPage: DashboardPage,\n        onTransitionIn?: (page: DashboardPage) => Promise<void>,\n    ) {\n        await currentPage.transitionIn()\n        await onTransitionIn?.(currentPage)\n    }\n\n    public getPage(screen: DashboardScreens): DashboardPage | null {\n        const index = this.getPageIndex(screen)\n        return index !== -1 ? (this.pageItems[index]?.page ?? null) : null\n    }\n\n    private async handleBackgroundMask(duration: number, nextOpacity: number): Promise<void> {\n        await AnimUtils.runTweenAsync(\n            tween(this.backgroundMask)\n                .delay(this.backgroundMaskTransitionDelay)\n                .to(duration, {\n                    opacity: nextOpacity,\n                })\n                .start(),\n        )\n    }\n\n    private async handleNavBarShadow(duration: number, nextOpacity: number): Promise<void> {\n        await AnimUtils.runTweenAsync(\n            tween(this.navBarShadow)\n                .delay(this.navBarShadowTransitionDelay)\n                .to(duration, {\n                    opacity: nextOpacity,\n                })\n                .start(),\n        )\n    }\n\n    private getPageIndex(screen: DashboardScreens): number {\n        const index = A.searchIndex(this.pageItems, (item) => item.pageType === screen)\n        return index\n    }\n\n    private async transition(distance: number, direction: 1 | -1, items: PageManagerItem[]): Promise<void> {\n        await Promise.all(\n            items.map(({ page }) =>\n                AnimUtils.runTweenAsync(\n                    tween(page.node).to(\n                        0.5,\n                        {\n                            position: new Vec3(\n                                page.node.position.x - distance * direction,\n                                page.node.position.y,\n                                page.node.position.z,\n                            ),\n                        },\n                        {\n                            easing: easing.quintInOut,\n                        },\n                    ),\n                ),\n            ),\n        )\n    }\n}\n","import { Button, Component, Node, UITransform, Vec3, Widget, _decorator, game, tween } from 'cc'\nimport AutoLayout from '../../../../../../components/auto-layout/AutoLayout'\nimport DashboardEvents from '../../../../../../constants/DashboardEvents'\nimport DashboardScreens from '../../../../../../constants/DashboardScreens'\nimport GameEvents from '../../../../../../constants/GameEvents'\nimport GameWorld from '../../../../../../constants/GameWorld'\nimport { ScreenKeysEnum } from '../../../../../../constants/ScreenKeys'\nimport AnimUtils from '../../../../../../utils/AnimUtils'\nimport LayoutUtils from '../../../../../../utils/LayoutUtils'\nimport ScreenUtils from '../../../../../../utils/ScreenUtils'\nimport type { NavButton } from './NavButton'\n\nconst { ccclass, property } = _decorator\nconst {\n    Utils: { Array: A, Signal: S },\n} = Ludex\n\nconst { Layout } = GameWorld\n\n@ccclass('NavManager')\nexport class NavManager extends Component {\n    @property(Node)\n    private selectorNode!: Node\n\n    @property(Node)\n    public selectedButtonNode!: Node\n\n    @property(AutoLayout)\n    private autoLayout!: AutoLayout\n\n    @property({ type: Widget, group: 'Widgets' })\n    private navWidget!: Widget\n\n    @property({ type: Widget, group: 'Widgets' })\n    private backgroundWidget!: Widget\n\n    @property({ type: Widget, group: 'Widgets' })\n    private layoutWidget!: Widget\n\n    @property(UITransform)\n    private uiTransform!: UITransform\n\n    private selectedButton!: NavButton\n\n    private navButtons: NavButton[] = []\n\n    private selectorAnimationSignal = new S.SignalController()\n\n    public get currentButton(): NavButton {\n        return this.selectedButton\n    }\n\n    private isNavigating = false\n\n    public onLoad(): void {\n        this.navButtons = this.node.getComponentsInChildren('NavButton') as NavButton[]\n        this.selectedButton = this.selectedButtonNode?.getComponentInChildren('NavButton')! as NavButton\n\n        // @ts-expect-error - This event is custom event\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n        game.on(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n\n        this.handleOrientationChanged(LayoutUtils.getCurrentLayout())\n    }\n\n    protected onDestroy(): void {\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n        game.off(GameEvents.VIEW_RESIZED, this.handleViewResized, this)\n    }\n\n    public async select(button: NavButton): Promise<void> {\n        if (this.isNavigating) {\n            return\n        }\n\n        if (!A.has(this.navButtons, button)) {\n            throw new Error('NavManager: Button not found')\n        }\n\n        if (button === this.selectedButton) {\n            return\n        }\n\n        if (button.isWIP) {\n            this.handleWIPButton()\n            return\n        }\n\n        this.isNavigating = true\n\n        this.node.scene.emit(DashboardEvents.REQUEST_NAVIGATION, {\n            from: this.selectedButton.buttonType,\n            to: button.buttonType,\n        } as NavigatePayload)\n\n        return new Promise((resolve) => {\n            this.node.scene.once(DashboardEvents.REQUEST_NAVIGATION_ANIMATION, () => {\n                const deselectAnim = this.selectedButton.deselect()\n\n                this.autoLayout.selectedIndex = this.navButtons.indexOf(button)\n\n                this.selectedButton = button\n\n                const selectedWorldX = this.autoLayout.getSelectedWorldX()\n                const offsetDistance = button.getSelectedWorldDistanceX()\n                const targetX = selectedWorldX - offsetDistance\n\n                const selectorAnim = this.playSelectorAnimation(targetX)\n\n                const selectAnim = button.select()\n\n                Promise.all([deselectAnim, selectAnim, selectorAnim]).then(() => {\n                    this.isNavigating = false\n                    resolve()\n                })\n            })\n        })\n    }\n\n    public async selectUsingSceneTransition(button: NavButton): Promise<void> {\n        if (this.isNavigating) {\n            return\n        }\n\n        if (A.has([DashboardScreens.store], button.buttonType)) {\n            this.handleWIPButton()\n            return\n        }\n\n        await this.select(button)\n    }\n\n    public async selectByType(screenType: DashboardScreens): Promise<void> {\n        const button = A.search(this.navButtons, (button) => button.buttonType === screenType)\n\n        if (!button) {\n            throw new Error('NavManager: Button not found')\n        }\n\n        await this.selectUsingSceneTransition(button)\n    }\n\n    private handleWIPButton(): void {\n        ScreenUtils.openScreen(ScreenKeysEnum.STAR_CHEST_SCREEN)\n    }\n\n    public async selectDefaultNavBtn(): Promise<void> {\n        if (!this.currentButton || !A.has(this.navButtons, this.currentButton)) {\n            throw new Error('NavManager: Button not found')\n        }\n\n        const from = null\n        const to = this.currentButton.buttonType\n\n        this.node.scene.emit(DashboardEvents.REQUEST_NAVIGATION, {\n            from,\n            to,\n        } as NavigatePayload)\n\n        return new Promise((resolve) => {\n            this.node.scene.once(DashboardEvents.REQUEST_NAVIGATION_ANIMATION, () => {\n                this.autoLayout.selectedIndex = this.navButtons.indexOf(this.currentButton)\n\n                const animations = this.navButtons.map((button) => {\n                    if (button === this.currentButton) {\n                        return button.select(false)\n                    }\n\n                    return button.deselect(false, true)\n                })\n\n                const selectedWorldX = this.autoLayout.getSelectedWorldX()\n                const offsetDistance = this.currentButton.getSelectedWorldDistanceX()\n\n                const targetX = selectedWorldX - offsetDistance\n\n                this.selectorNode.worldPosition = new Vec3(targetX, this.selectorNode.worldPosition.y, 0)\n                Promise.all(animations).then(() => {\n                    resolve()\n                })\n            })\n        })\n    }\n\n    public async playSelectorAnimation(targetWorldX: number): Promise<void> {\n        const signal = this.selectorAnimationSignal.renew()\n\n        const originalScale = new Vec3(1, 1, 1)\n        const originalPosition = this.selectorNode.worldPosition.clone()\n\n        const squashX = 1.2\n        const squashY = 0.8\n        const squashedScale = new Vec3(squashX * originalScale.x, squashY * originalScale.y, 1)\n\n        const selectorTween = tween(this.selectorNode).to(\n            0.3,\n            {\n                worldPosition: new Vec3(targetWorldX, originalPosition.y, 0),\n            },\n            {\n                easing: 'quintInOut',\n                onUpdate: (_target, ratio) => {\n                    if (ratio === undefined) return\n\n                    const nextScale = this.calculateCurrentSquashScale(originalScale, squashedScale, ratio)\n\n                    this.selectorNode.scale = nextScale\n                },\n            },\n        )\n\n        await AnimUtils.runTweenAsync(selectorTween, signal)\n\n        this.selectorNode.scale = originalScale\n    }\n\n    public setIgnoreInput(ignore = true): void {\n        for (const button of this.navButtons) {\n            const b = button.getComponentInChildren(Button)\n            if (b) {\n                b.interactable = !ignore\n            }\n        }\n    }\n\n    private calculateCurrentSquashScale(original: Vec3, squashed: Vec3, ratio: number) {\n        const calcRatio = this.splitIntoSquashRatio(ratio)\n        return original.clone().lerp(squashed, calcRatio)\n    }\n\n    private splitIntoSquashRatio(ratio: number): number {\n        if (ratio < 0.5) {\n            return ratio * 2\n        }\n\n        return 1 - (ratio - 0.5) * 2\n    }\n\n    private handleOrientationChanged(layout: string): void {\n        if (layout === Layout.Portrait) {\n            this.navWidget.isAlignLeft = true\n            this.navWidget.isAlignRight = true\n            this.backgroundWidget.left = -50\n            this.backgroundWidget.right = -50\n            this.layoutWidget.left = 0\n            this.layoutWidget.right = 0\n        } else if (layout === Layout.Landscape) {\n            this.navWidget.isAlignLeft = false\n            this.navWidget.isAlignRight = false\n            this.backgroundWidget.left = 0\n            this.backgroundWidget.right = 0\n            this.layoutWidget.left = 25\n            this.layoutWidget.right = 25\n            this.uiTransform.width = 1000\n        }\n    }\n\n    private handleViewResized(): void {\n        if (!this.selectedButton) return\n        this.selectorAnimationSignal.abort()\n        this.selectorNode.worldPositionX = this.selectedButton.node.worldPosition.x\n        this.selectorNode.y = -164.5\n    }\n}\n","import { _decorator, Component } from 'cc'\nimport { MultiBackground } from '../../components/background/MultiBackground'\nimport { OpacityToggler } from '../../components/common/OpacityToggler'\nimport DashboardEvents from '../../constants/DashboardEvents'\nimport DashboardScreens from '../../constants/DashboardScreens'\nimport SceneKeys from '../../constants/SceneKeys'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport { CodeSoundKeys } from '../../constants/SoundKeys'\nimport { CustomModeLevel } from '../../gameplay/constants/CustomGameData'\nimport DashboardEventButtonTypes from '../../gameplay/constants/DashboardEventButtonTypes'\nimport GameModes from '../../gameplay/constants/GameMode'\nimport GuideKeys from '../../gameplay/constants/GuideKeys'\nimport MapData from '../../gameplay/constants/MapData'\nimport ResourcePaths from '../../gameplay/constants/ResourcePaths'\nimport { CoinManager } from '../../gameplay/manager/CoinManager'\nimport AnimUtils from '../../utils/AnimUtils'\nimport AudioUtils from '../../utils/AudioUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../utils/common/AnimAbortSignal'\nimport DailyRewardsUtils from '../../utils/DailyRewardsUtils'\nimport GeneralUtils from '../../utils/GeneralUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport ResourceUtils from '../../utils/ResourceUtils'\nimport SceneUtils from '../../utils/SceneUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport SortNodeUtils from '../../utils/SortNodeUtils'\nimport ThemeUtils from '../../utils/ThemeUtils'\nimport { AnimSkipOverlay } from '../common/anim-skip-overlay/AnimSkipOverlay'\nimport { CollectionsContent } from './components/pages/collections/CollectionsContent'\nimport { HomeContent } from './components/pages/home/HomeContent'\nimport { PageManager } from './components/pages/PageManager'\nimport { NavManager } from './components/ui/footer/nav-button/NavManager'\n\nconst { ccclass, disallowMultiple, property } = _decorator\n\nconst { storage, player, monitorError } = codex\n\nconst {\n    Match: { Modes },\n    Utils: { Array: A },\n} = Ludex\n\n// SceneComponent\n// Required components: SceneManager\n\n@ccclass('DashboardScene')\n@disallowMultiple\nexport class DashboardScene extends Component {\n    @ComponentUtils.required()\n    @property(CoinManager)\n    private readonly coinManager!: CoinManager\n\n    @ComponentUtils.required()\n    @property(NavManager)\n    private readonly navManager!: NavManager\n\n    @ComponentUtils.required()\n    @property(MultiBackground)\n    private readonly bgComp!: MultiBackground\n\n    @ComponentUtils.required()\n    @property(PageManager)\n    private readonly pageManager!: PageManager\n\n    @ComponentUtils.required()\n    @property(AnimSkipOverlay)\n    private readonly pageAnimSkipOverlay!: AnimSkipOverlay\n\n    @ComponentUtils.required()\n    @property(OpacityToggler)\n    private readonly transitionOpacityToggler!: OpacityToggler\n\n    private firstNavigation = true\n    private isFirstNavToCollections = true\n    private isFirstNavToTournament = true\n    private navigationSignal: AnimAbortSignal | null = null\n\n    public onLoad() {\n        ComponentUtils.validateRequiredProperties(this)\n\n        this.listenNavigationEvents()\n        this.listenDashboardEvents()\n\n        SortNodeUtils.createLayer(this.node, 'Particles', 6)\n\n        this.coinManager.init()\n        ThemeUtils.init()\n\n        this.setPlayerLevel()\n\n        this.updateBackgroundImageToCurrentTheme()\n\n        this.pageManager.updateCollectionsContentPayload(ThemeUtils.getCollectionUnlockProgress())\n    }\n\n    private listenNavigationEvents() {\n        this.node.scene.on(DashboardEvents.REQUEST_NAVIGATION, this.onNavigate, this)\n    }\n\n    private listenDashboardEvents() {\n        this.node.scene.on(DashboardEvents.PLAY_BUTTON_PRESS, this.handleDashboardPlayButtonPress, this)\n        this.node.scene.on(DashboardEvents.CUSTOM_PLAY_BUTTON_PRESS, this.handleCustomPlayButtonPress, this)\n        this.node.scene.on(DashboardEvents.DASHBOARD_EVENTS_BUTTON_PRESS, this.handleEventButtonPress, this)\n    }\n\n    private setPlayerLevel() {\n        let { level = 1 } = player.getGameData() ?? {}\n        level = level === 0 ? 1 : level\n\n        player.setGameData({ level })\n    }\n\n    public start() {\n        //? do not sort\n        if (player.getPlayerSetting('music')) {\n            this.updateMusic()\n        }\n\n        this.pageManager.init()\n        this.navManager.selectDefaultNavBtn()\n\n        this.scheduleOnce(this.preloadScene, 5)\n        this.scheduleOnce(this.preloadSkins, 3)\n        this.scheduleOnce(this.preloadScreens, 10)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private preloadScene(): void {\n        if (SceneUtils.isSceneLoaded(SceneKeys.GAME_SCENE)) return\n\n        SceneUtils.preloadGameScene()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private preloadScreens(): void {\n        ScreenUtils.preloadScreen(ScreenKeysEnum.LOADING_SCREEN)\n        ScreenUtils.preloadScreen(ScreenKeysEnum.NOTIFICATION_SCREEN)\n\n        ScreenUtils.preloadScreen(ScreenKeysEnum.SETTINGS_SCREEN)\n        ScreenUtils.preloadScreen(ScreenKeysEnum.GET_COIN_SCREEN)\n        ScreenUtils.preloadScreen(ScreenKeysEnum.STAR_CHEST_SCREEN)\n        ScreenUtils.preloadScreen(ScreenKeysEnum.DAILY_REWARDS_SCREEN)\n\n        const gameData = player.getGameData()\n        const currentLevel = gameData?.level ?? 1\n\n        if (currentLevel >= 13) {\n            ScreenUtils.preloadScreen(ScreenKeysEnum.CUSTOM_GAME_SCREEN)\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private preloadSkins(): void {\n        const unlockedSkins = ThemeUtils.getUnlockedSkins()\n\n        for (const skin of unlockedSkins) {\n            const skinPath = `${ResourcePaths.TILE_SKIN_FOLDER}/${skin}`\n            ResourceUtils.loadSpriteFramesDirAsync(skinPath)\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private attemptCallSubscribeBot(): void {\n        if (!GameSDK.isGameSDK('FacebookInstant')) return\n\n        GameSDK.extra.checkAndSubscribeBotAsync().catch((error) => {\n            console.warn('subscribeBotAsync', error)\n        })\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private updateBackgroundImageToCurrentTheme(): void {\n        const dashboardStorage = storage.getStorage('dashboard')\n\n        if (dashboardStorage === null || dashboardStorage === undefined) {\n            monitorError?.sendException(new Error('DashboardScene: dashboardStorage not found'))\n            return\n        }\n\n        const animateToCurrentLevel = dashboardStorage.animateToCurrentLevel ?? false\n        const lastProgress = { ...dashboardStorage.lastMapPayload }\n        const currProgress = ThemeUtils.getCurrentMapProgress()\n\n        const isSameProgress =\n            lastProgress.currentTheme === currProgress.currentTheme && lastProgress.nextTheme === currProgress.nextTheme\n\n        const leftTheme = currProgress.currentTheme\n\n        if (!animateToCurrentLevel || isSameProgress || this.isDevToolTimeTravel(lastProgress.id, currProgress.id)) {\n            this.bgComp.setCurrentTheme(leftTheme)\n        } else {\n            this.bgComp.setCurrentTheme(lastProgress.currentTheme)\n        }\n    }\n\n    private isDevToolTimeTravel(lastProgressId: number, currProgressId: number): boolean {\n        const lastMapIndex = A.searchIndex(MapData.mapOrder, (map) => map.id === lastProgressId)\n        const currMapIndex = A.searchIndex(MapData.mapOrder, (map) => map.id === currProgressId)\n\n        return lastMapIndex > currMapIndex\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private handleDashboardPlayButtonPress(): void {\n        this.handlePlayButtonPress(Modes.SINGLE)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private handleCustomPlayButtonPress(): void {\n        this.handlePlayButtonPress(GameModes.CUSTOM)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async handlePlayButtonPress(gameMode: string): Promise<void> {\n        try {\n            GeneralUtils.setBlockInput(true)\n            const currMapPayload = ThemeUtils.getCurrentMapProgress()\n            const { level = 1 } = player.getGameData() ?? {}\n\n            await MatchUtils.setMatchCustomDataAsync({ level })\n            await MatchUtils.startMatchAsync(gameMode)\n\n            this.updateCurrentMapInStorage(currMapPayload)\n\n            storage.setStorageData('collection', 'lastMapPack', currMapPayload.id)\n            storage.setStorageData('collection', 'animateMapPackUnlock', false)\n\n            await this.switchToGameScene(level)\n        } catch (error) {\n            GeneralUtils.setBlockInput(false)\n            console.error(error)\n        }\n    }\n\n    private async switchToGameScene(level: number): Promise<void> {\n        if (SceneUtils.isSceneLoaded(SceneKeys.GAME_SCENE)) {\n            await this.transitionOpacityToggler.changeStateFade(true, 0.25)\n        }\n\n        SceneUtils.switchToGameScene({ level })\n    }\n\n    private updateCurrentMapInStorage(currMap: CurrentMapProgressPayload) {\n        storage.setStorageData('dashboard', 'animateToCurrentLevel', false)\n        storage.setStorageData('dashboard', 'lastMapPayload', currMap)\n    }\n\n    private async updateMusic(): Promise<void> {\n        if (AudioUtils.getCurrentMusic() !== CodeSoundKeys.BG_MUSIC) {\n            await AudioUtils.setVolumeMusic(0, true)\n            await AnimUtils.waitTweenAsync(1)\n        }\n\n        AudioUtils.playMusic(CodeSoundKeys.BG_MUSIC)\n        // ? Channel 'global_music' has been created in 'LoadScene' as a persistent node for playing background music across all scenes.\n        AudioUtils.turnUpMusic()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async onNavigate(payload: NavigatePayload): Promise<void> {\n        if (this.firstNavigation) {\n            this.firstNavigation = false\n            this.pageManager.unmountAndHideAll()\n        }\n\n        switch (payload.to) {\n            case DashboardScreens.store:\n                // ? Handle store navigation here\n                break\n\n            case DashboardScreens.collections:\n                await this.triggerPageNavigation(payload)\n                await this.handleLogicAfterNavigateToCollections()\n                this.cleanupAfterPageNavigation()\n                break\n\n            case DashboardScreens.tournaments:\n                ScreenUtils.preloadScreen(ScreenKeysEnum.TOURNAMENT_DETAIL_SCREEN)\n                await this.triggerPageNavigation(payload)\n                this.cleanupAfterPageNavigation()\n                break\n\n            case DashboardScreens.leaderboard:\n                await this.triggerPageNavigation(payload)\n                this.cleanupAfterPageNavigation()\n                break\n\n            case DashboardScreens.home:\n                await this.handleNavigateToHome(payload)\n                break\n\n            default:\n                throw new Error('DashboardScene: Unhandled page name')\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async handleLogicAfterNavigateToCollections() {\n        const content = this.pageManager\n            .getPage(DashboardScreens.collections)\n            ?.getContainer()\n            .getComponentInChildren(CollectionsContent)\n\n        if (content === undefined || content === null) {\n            throw new Error('CollectionsContent not found')\n        }\n\n        const signal = new AnimAbortSignal()\n\n        const requireAnimation = content.shouldAnimateThemeBlockUnlock()\n\n        if (requireAnimation) {\n            await this.openSkipOverlay(signal)\n        }\n\n        await this.tryPlayScrollToCollectionAnim(content, signal)\n        await content.playThemeTabUnlockAnim(signal)\n\n        if (requireAnimation) {\n            await this.closeSkipOverlay()\n        }\n\n        signal.abort()\n    }\n\n    private async closeSkipOverlay() {\n        await this.pageAnimSkipOverlay.close()\n    }\n\n    private async openSkipOverlay(signal: AnimAbortSignal) {\n        await this.pageAnimSkipOverlay.open({\n            onSkip: () => signal.abort(),\n            opacity: 200,\n        })\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async tryPlayScrollToCollectionAnim(content: CollectionsContent, signal: AnimAbortSignal) {\n        const currentlyUnlockedIndex = ThemeUtils.getCurrentUnlockingThemeIndex()\n\n        if (this.isFirstNavToCollections && currentlyUnlockedIndex !== null) {\n            await content.scrollToCurrentUnlockingTheme(currentlyUnlockedIndex, signal)\n            this.isFirstNavToCollections = false\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private cleanupAfterPageNavigation() {\n        this.navManager.setIgnoreInput(false)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async triggerPageNavigation(payload: NavigatePayload) {\n        this.navigationSignal?.abort()\n        this.navigationSignal = new AnimAbortSignal()\n\n        await this.pageManager.navigate(payload, this.navigationSignal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async handleNavigateToHome(payload: NavigatePayload) {\n        this.navigationSignal?.abort()\n        this.navigationSignal = new AnimAbortSignal()\n\n        await this.pageManager.navigate(payload, this.navigationSignal, async () => {\n            this.initializeHomepageCoinManager()\n        })\n\n        await this.handleLogicAfterNavigateToHome()\n    }\n\n    private async handleLogicAfterNavigateToHome() {\n        if (!DailyRewardsUtils.hasShownPopup() && !this.shouldPlayLevelUpAnimation()) {\n            if (await DailyRewardsUtils.hasClaimableRewards()) {\n                await DailyRewardsUtils.openPopupScreenAndWaitForClose()\n            }\n        }\n\n        this.attemptCallSubscribeBot()\n        await this.waitUntilCoinManagerFinishesAnyAnimation()\n        await this.waitUntilPageAnimSkipOverlayCloses()\n        await this.tryNavigateToTournament()\n        await this.tryPlayLevelUpAnimation()\n        await this.tryShowCustomModeGuide()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private waitUntilCoinManagerFinishesAnyAnimation() {\n        return this.coinManager.untilFinishesCollectAnim()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private waitUntilPageAnimSkipOverlayCloses() {\n        return this.pageAnimSkipOverlay.untilClosed()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async tryNavigateToTournament(): Promise<void> {\n        const { animateTournamentLeader } = storage.getStorage('tournament')\n        if (animateTournamentLeader) {\n            return await this.navManager.selectByType(DashboardScreens.tournaments)\n        }\n\n        if (!this.isFirstNavToTournament) return\n        this.isFirstNavToTournament = false\n\n        try {\n            if (!('getTournamentAsync' in GameSDK)) {\n                throw new Error('Unavailable feature: tournament')\n            }\n\n            const tournament = await GameSDK.getTournamentAsync()\n\n            if (tournament.getEndTime() < Date.now() / 1000) {\n                return await this.navManager.selectByType(DashboardScreens.tournaments)\n            }\n        } catch (error) {\n            // safe to ignore\n        }\n    }\n\n    private shouldPlayLevelUpAnimation() {\n        if (!this.enabledInHierarchy) return false\n\n        const homepage = this.pageManager\n            .getPage(DashboardScreens.home)\n            ?.getContainer()\n            .getComponentInChildren(HomeContent)\n\n        if (homepage === undefined || homepage === null) {\n            return false\n        }\n\n        const shouldPlayUnlockAnimation = homepage.shouldPlayUnlockAnimation()\n        const shouldPlayPackUnlockAnimation = this.shouldPlayPackUnlockAnimation()\n\n        return shouldPlayUnlockAnimation || shouldPlayPackUnlockAnimation\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async tryPlayLevelUpAnimation() {\n        const homepage = this.pageManager\n            .getPage(DashboardScreens.home)\n            ?.getContainer()\n            .getComponentInChildren(HomeContent)\n\n        if (homepage === undefined || homepage === null) {\n            throw new Error('DashboardScene: Homepage not found')\n        }\n\n        const signal = new AnimAbortSignal()\n        if (this.navigationSignal) signal.chain(this.navigationSignal)\n\n        const shouldPlayUnlockAnimation = homepage.shouldPlayUnlockAnimation()\n        const shouldPlayPackUnlockAnimation = this.shouldPlayPackUnlockAnimation()\n\n        if (!shouldPlayUnlockAnimation) {\n            return\n        }\n\n        if (shouldPlayPackUnlockAnimation) {\n            await this.pageAnimSkipOverlay.open({\n                onSkip: () => signal.abort(),\n                opacity: 150,\n            })\n        }\n\n        await homepage.playUnlockProgressAnimation(signal)\n\n        this.updateBackgroundImageToCurrentTheme()\n\n        if (shouldPlayPackUnlockAnimation) {\n            await this.pageAnimSkipOverlay.close()\n            await signal.callAsync(() => this.navManager.selectByType(DashboardScreens.collections))\n        }\n    }\n\n    private shouldPlayPackUnlockAnimation(): boolean {\n        const dashboardStorage = storage.getStorage('dashboard')\n\n        if (dashboardStorage === null || dashboardStorage === undefined) {\n            throw new Error('DashboardScene: dashboardStorage not found')\n        }\n\n        const lastProgress = dashboardStorage.lastMapPayload\n        const currProgress = ThemeUtils.getCurrentMapProgress()\n\n        const lastMapIndex = A.searchIndex(MapData.mapOrder, (map) => map.id === lastProgress.id)\n        const currMapIndex = A.searchIndex(MapData.mapOrder, (map) => map.id === currProgress.id)\n        const isSameMap = lastMapIndex === currMapIndex\n\n        return !isSameMap\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private initializeHomepageCoinManager() {\n        const homepage = this.pageManager\n            .getPage(DashboardScreens.home)\n            ?.getContainer()\n            .getComponentInChildren(HomeContent)\n\n        if (homepage === undefined || homepage === null) {\n            throw new Error('DashboardScene: Homepage not found')\n        }\n\n        this.coinManager.setTargetContainer(homepage.getCoinContainer())\n        this.coinManager.emitCoinAmount()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async tryShowCustomModeGuide() {\n        const { level = 1, guideItemShowed = [] } = player.getGameData() ?? {}\n        if (level !== CustomModeLevel || A.has(guideItemShowed, GuideKeys.CUSTOM_MODE)) return\n\n        guideItemShowed.push(GuideKeys.CUSTOM_MODE)\n        player.setGameData({ guideItemShowed })\n\n        const homepage = this.pageManager\n            .getPage(DashboardScreens.home)\n            ?.getContainer()\n            .getComponentInChildren(HomeContent)\n\n        if (homepage === undefined || homepage === null) {\n            throw new Error('DashboardScene: Homepage not found')\n        }\n\n        await homepage.showCustomGuide()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private handleEventButtonPress(payload: DashboardEventButtonPayload) {\n        switch (payload.type) {\n            case DashboardEventButtonTypes.STAR_CHEST:\n                ScreenUtils.openScreen(ScreenKeysEnum.STAR_CHEST_SCREEN)\n                break\n            case DashboardEventButtonTypes.DAILY_REWARDS:\n                DailyRewardsUtils.openPopupScreen()\n                break\n            case DashboardEventButtonTypes.BALLOON:\n                ScreenUtils.showNotificationScreenWithLocalizedKey('error.soon')\n                break\n            default:\n                throw new Error('DashboardScene: Unhandled event button type')\n        }\n    }\n\n    public handleTestLayoutButtonClicked() {\n        // SceneUtils.switchScene(SceneKeys.TEST_LAYOUT_SCENE)\n    }\n}\n","import { _decorator, Component, game, UITransform, Widget } from 'cc'\nimport GameEvents from '../../../../constants/GameEvents'\nimport GameWorld from '../../../../constants/GameWorld'\nimport LayoutUtils from '../../../../utils/LayoutUtils'\n\nconst { ccclass } = _decorator\nconst { Layout } = GameWorld\n\n@ccclass('PageContent')\nexport class PageContent extends Component {\n    protected widget!: Widget\n\n    protected uiTransform!: UITransform\n\n    protected __preload(): void {\n        this.widget = this.getComponent(Widget)!\n        this.uiTransform = this.getComponent(UITransform)!\n    }\n\n    protected onLoad(): void {\n        // @ts-expect-error - This event is custom event\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n        this.handleOrientationChanged(LayoutUtils.getCurrentLayout())\n    }\n\n    protected onDestroy(): void {\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n    }\n\n    private handleOrientationChanged(layout: string): void {\n        if (layout === Layout.Portrait) {\n            this.widget.isAlignLeft = true\n            this.widget.isAlignRight = true\n        } else if (layout === Layout.Landscape) {\n            this.widget.isAlignLeft = false\n            this.widget.isAlignRight = false\n            this.uiTransform.width = 1000\n        }\n    }\n}\n","import { _decorator, Component, game, instantiate, type Node, Widget } from 'cc'\nimport GameEvents from '../../../../constants/GameEvents'\nimport GameWorld from '../../../../constants/GameWorld'\nimport ResourcePaths from '../../../../gameplay/constants/ResourcePaths'\nimport ComponentUtils from '../../../../utils/ComponentUtils'\nimport LayoutUtils from '../../../../utils/LayoutUtils'\nimport ResourceUtils from '../../../../utils/ResourceUtils'\n\nconst { ccclass, property } = _decorator\nconst { Layout } = GameWorld\n\n@ccclass('PageHeader')\nexport class PageHeader extends Component {\n    @ComponentUtils.required()\n    @property(Widget)\n    private readonly widget!: Widget\n\n    private leaves!: Node\n\n    protected __preload(): void {\n        ComponentUtils.validateRequiredProperties(this, PageHeader)\n        if (LayoutUtils.isLandscape()) this.loadLeaves()\n    }\n\n    protected onLoad(): void {\n        // @ts-expect-error - This event is custom event\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n        this.handleOrientationChanged(LayoutUtils.getCurrentLayout())\n    }\n\n    protected onDestroy(): void {\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n    }\n\n    private async handleOrientationChanged(layout: string): Promise<void> {\n        if (layout === Layout.Portrait) {\n            if (this.leaves) this.leaves.active = false\n            this.widget.left = -80\n            this.widget.right = -80\n        } else if (layout === Layout.Landscape) {\n            this.widget.left = 0\n            this.widget.right = 0\n            await this.loadLeaves()\n            if (this.leaves) this.leaves.active = true\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async loadLeaves(): Promise<void> {\n        if (this.leaves) return\n\n        const leavesPrefab = await ResourceUtils.loadPrefabAsync(ResourcePaths.PAGE_LEAVES_PREFAB)\n        if (this.leaves || !leavesPrefab || !this.enabledInHierarchy) return\n\n        this.leaves = instantiate(leavesPrefab)\n        this.node.addChild(this.leaves)\n    }\n}\n","import { Label, _decorator } from 'cc'\nimport { PanelAnimationController } from '../../../../../components/panel-animator/PanelAnimationController'\nimport GameplayEvents from '../../../../../gameplay/constants/GameEvents'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport ThemeUtils from '../../../../../utils/ThemeUtils'\nimport { DashboardPage } from '../DashboardPage'\nimport { HomeContent } from './HomeContent'\nconst { ccclass, property } = _decorator\n\nconst { player, storage, monitorError } = codex\nconst {\n    Utils: { Number: N },\n} = Ludex\n\n@ccclass('HomePage')\nexport class HomePage extends DashboardPage {\n    private homeContent!: HomeContent\n\n    @ComponentUtils.required()\n    @property({ type: Label, group: 'Placeholders' })\n    private coinLabel!: Label\n\n    @ComponentUtils.required()\n    private panelAnimationController!: PanelAnimationController\n\n    public onLoad(): void {\n        this.panelAnimationController = this.getComponent(PanelAnimationController) as PanelAnimationController\n        super.onLoad()\n    }\n\n    public onEnable(): void {\n        this.node.scene.on(GameplayEvents.COIN_CHANGED, this.updatePlaceholderCoins, this)\n    }\n\n    public onDisable(): void {\n        this.node.scene.off(GameplayEvents.COIN_CHANGED, this.updatePlaceholderCoins, this)\n    }\n\n    private async updatePlaceholderCoins(value: CoinDataPayload): Promise<void> {\n        this.coinLabel.string = N.getShortNumber(value.coins, 3)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public override async mount(): Promise<void> {\n        await super.mount()\n        this.onMount()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private onMount() {\n        if (!this.homeContent) {\n            this.homeContent = this.container.getComponentInChildren(HomeContent)!\n            if (!this.homeContent) throw new Error('HomePage: homeContent not found')\n        }\n\n        const { coins = 0 } = player.getGameData() ?? {}\n\n        this.updatePlaceholderCoins({ coins })\n\n        this.homeContent.updateStatus()\n\n        this.initUnlockProgressData()\n    }\n\n    private initUnlockProgressData() {\n        const shouldPlayUnlockAnimation = this.homeContent.shouldPlayUnlockAnimation()\n        const currentProgress = { ...ThemeUtils.getCurrentMapProgress() }\n\n        const dashboardStorage = storage.getStorage('dashboard')\n\n        if (dashboardStorage === null || dashboardStorage === undefined) {\n            monitorError?.sendException(new Error('DashboardScene: dashboardStorage not found'))\n            if (!shouldPlayUnlockAnimation) {\n                this.homeContent.setUnlockProgress(currentProgress)\n            }\n\n            return\n        }\n\n        const lastProgress = { ...dashboardStorage.lastMapPayload }\n\n        if (shouldPlayUnlockAnimation) {\n            this.homeContent.setUnlockProgress(lastProgress)\n        } else {\n            this.homeContent.setUnlockProgress(currentProgress)\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public override async transitionIn(): Promise<void> {\n        this.homeContent.transitionIn()\n        await super.transitionIn()\n        await this.panelAnimationController.showUI()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public override async transitionOut(): Promise<void> {\n        this.homeContent.transitionOut()\n        await super.transitionOut()\n        await this.panelAnimationController.hideUI()\n    }\n\n    public hasLoadedPage(): boolean {\n        return true\n    }\n}\n","import { _decorator, Component, Node, tween, UITransform, Vec3, Widget } from 'cc'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('JoinLeaderboardContainer')\nexport class JoinLeaderboardContainer extends Component {\n    @ComponentUtils.required()\n    @property(Widget)\n    readonly widget!: Widget\n\n    @ComponentUtils.required()\n    @property(UITransform)\n    readonly uiTransform!: UITransform\n\n    @ComponentUtils.required()\n    @property(Node)\n    private readonly joinButton!: Node\n\n    protected __preload(): void {\n        ComponentUtils.validateRequiredProperties(this, JoinLeaderboardContainer)\n    }\n\n    public updatePosition(worldY?: number): void {\n        if (worldY !== undefined) {\n            this.widget.enabled = false\n            this.node.setWorldPosition(this.node.worldPosition.x, worldY, this.node.worldPosition.z)\n        } else {\n            this.widget.enabled = true\n            this.widget.updateAlignment()\n        }\n    }\n\n    public async show(signal?: AnimAbortSignal): Promise<void> {\n        if (signal?.aborted) return\n\n        this.joinButton.active = true\n\n        const scaleTween = tween(this.joinButton)\n            .set({ scale: Vec3.ZERO })\n            .to(0.5, { scale: Vec3.ONE }, { easing: 'backOut' })\n\n        await AnimUtils.runTweenAsync(scaleTween, signal)\n    }\n\n    public hide(): void {\n        this.joinButton.active = false\n    }\n}\n","import SoundKeys, { CodeSoundKeys, SoundKeysMapping } from 'db://assets/constants/SoundKeys'\nimport AudioUtils from 'db://assets/utils/AudioUtils'\nimport ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport { Animation, AnimationClip, Button, CCBoolean, Component, type EventTouch, Node, _decorator } from 'cc'\nconst { ccclass, property, requireComponent } = _decorator\n\nconst { analytics } = codex\nconst {\n    Utils: { Array: A, Valid: V },\n    Plugins: {\n        Analytics: { Events: AnalyticsEvents } = {},\n    },\n} = Ludex\n\n@ccclass('SwitchButton')\n@requireComponent([Button, Animation])\nexport class SwitchButton extends Component {\n    @property(CCBoolean)\n    public enable = true\n\n    @property(Node)\n    private nodeOn!: Node\n\n    @property(Node)\n    private nodeOff!: Node\n\n    @property(CCBoolean)\n    public useSound = true\n\n    @property({\n        visible(this: SwitchButton) {\n            return this.useSound\n        },\n        type: SoundKeys,\n    })\n    private soundKey = SoundKeys[CodeSoundKeys.BUTTON_CLICK]\n\n    @property(CCBoolean)\n    private useDesktopHover = true\n\n    @property({\n        visible(this: SwitchButton) {\n            return this.useDesktopHover\n        },\n        type: AnimationClip,\n    })\n    private mouseEnterClip!: AnimationClip\n\n    @property({\n        visible(this: SwitchButton) {\n            return this.useDesktopHover\n        },\n        type: AnimationClip,\n    })\n    private mouseLeaveClip!: AnimationClip\n\n    private buttonComponent!: Button\n    private animationComponent!: Animation\n\n    private isMouseLeaved = false\n\n    public __preload() {\n        this.buttonComponent = this.getComponent(Button)!\n        this.animationComponent = this.getComponent(Animation)!\n\n        this.validateRequiredComponents()\n    }\n\n    public onLoad() {\n        const clips = this.animationComponent.clips\n            .map((clip) => clip?.name)\n            .filter((clip): clip is string => clip !== null && clip !== undefined && typeof clip === 'string')\n\n        if (this.useDesktopHover) {\n            if (!A.has(clips, this.mouseEnterClip.name)) {\n                this.animationComponent.addClip(this.mouseEnterClip)\n            }\n\n            if (!A.has(clips, this.mouseLeaveClip.name)) {\n                this.animationComponent.addClip(this.mouseLeaveClip)\n            }\n        }\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public onEnable() {\n        //? Support for window\n        this.node.on(Node.EventType.MOUSE_ENTER, this.onMouseEnter)\n        this.node.on(Node.EventType.MOUSE_LEAVE, this.onMouseLeave)\n    }\n\n    public onDisable() {\n        //? Support for window\n        this.node.off(Node.EventType.MOUSE_ENTER, this.onMouseEnter)\n        this.node.off(Node.EventType.MOUSE_LEAVE, this.onMouseLeave)\n    }\n\n    private onMouseEnter = (_event: EventTouch) => {\n        if (!this.useDesktopHover) return\n        if (!this.buttonComponent.interactable) return\n\n        this.isMouseLeaved = false\n\n        this.animationComponent.play(this.mouseEnterClip.name)\n    }\n\n    private onMouseLeave = (_event: EventTouch) => {\n        if (!this.useDesktopHover) return\n        if (!this.buttonComponent.interactable) return\n        if (this.isMouseLeaved) return\n\n        this.isMouseLeaved = true\n\n        this.animationComponent.play(this.mouseLeaveClip.name)\n    }\n\n    public switch(): boolean {\n        if (!this.node.active) return false\n\n        // TODO: handle event from component button\n        if (AnalyticsEvents) {\n            analytics.event(AnalyticsEvents.BUTTON_CLICK, {\n                button_name: this.node.name,\n                enable: !this.enable,\n            })\n        }\n\n        if (this.useSound && V.isString(this.soundKey)) {\n            AudioUtils.playSound(SoundKeysMapping[this.soundKey]!)\n        }\n\n        return this.updateStatus(!this.enable)\n    }\n\n    public setEnabled(enable: boolean): void {\n        if (!this.node.active) return\n\n        this.updateStatus(enable)\n    }\n\n    private updateStatus(enable: boolean): boolean {\n        if (this.enable === enable) {\n            return this.enable\n        }\n\n        this.onMouseLeave(null!)\n\n        this.enable = enable\n\n        this.nodeOn.active = enable\n        this.nodeOff.active = !enable\n\n        return this.enable\n    }\n}\n","import LeaderboardEvents from 'db://assets/gameplay/constants/Leaderboard'\nimport { SwitchButton } from 'db://assets/screens/settings-screen/components/switch-button/SwitchButton'\nimport AnalyticsUtils from 'db://assets/utils/AnalyticsUtils'\nimport { Button, Component, _decorator } from 'cc'\nimport { type LeaderboardType, LeaderboardTypes } from '../../../../../../../../constants/Leaderboard'\nimport { CodeSoundKeys } from '../../../../../../../../constants/SoundKeys'\nimport AudioUtils from '../../../../../../../../utils/AudioUtils'\nconst { ccclass, property } = _decorator\n\nconst { analytics } = codex\nconst {\n    Plugins: {\n        Analytics: { Events: AnalyticsEvents } = {},\n    },\n} = Ludex\n\n\n@ccclass('Tabs')\nexport class Tabs extends Component {\n    @property(SwitchButton)\n    public tabDaily!: SwitchButton\n\n    @property(SwitchButton)\n    public tabWeekly!: SwitchButton\n\n    public setInteractableButtons(interactable: boolean): void {\n        this.tabDaily.getComponent(Button)!.interactable = interactable\n        this.tabWeekly.getComponent(Button)!.interactable = interactable\n    }\n\n    public updateStatus(type: LeaderboardType): void {\n        this.tabDaily.setEnabled(type === LeaderboardTypes.DAILY)\n        this.tabWeekly.setEnabled(type === LeaderboardTypes.WEEKLY)\n    }\n\n    public handleTabDailySelect(): void {\n        this.tabDaily.setEnabled(true)\n        this.tabWeekly.setEnabled(false)\n\n        AudioUtils.playSound(CodeSoundKeys.BUTTON_CLICK)\n\n        if (AnalyticsEvents) {\n            analytics.event(AnalyticsEvents.BUTTON_CLICK, {\n                button_name: this.node.name,\n                screen_name: AnalyticsUtils.getCurrentPage(),\n            })\n        }\n\n        this.node.scene.emit(LeaderboardEvents.WORLD_TAB_SELECTED)\n    }\n\n    public handleTabWeeklySelect(): void {\n        this.tabDaily.setEnabled(false)\n        this.tabWeekly.setEnabled(true)\n\n        AudioUtils.playSound(CodeSoundKeys.BUTTON_CLICK)\n\n        if (AnalyticsEvents) {\n            analytics.event(AnalyticsEvents.BUTTON_CLICK, {\n                button_name: this.node.name,\n                screen_name: AnalyticsUtils.getCurrentPage(),\n            })\n        }\n\n        this.node.scene.emit(LeaderboardEvents.WEEKLY_TAB_SELECTED)\n    }\n}\n","import { Component, Node, UIOpacity, UITransform, Vec3, _decorator, tween } from 'cc'\nimport { Localize } from '../../../../../../../../components/text/Localize'\nimport AnimUtils from '../../../../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../../../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../../../../../../../utils/common/AnimAbortSignal'\n\nconst { ccclass, property } = _decorator\n\nconst { Time: T } = Ludex.Utils\nconst { language } = codex\n\n@ccclass('LeaderboardTimer')\nexport class LeaderboardTimer extends Component {\n    @property(UITransform)\n    private background!: UITransform\n\n    @property(Node)\n    private calendar!: Node\n\n    @property(Localize)\n    private timerLocalizer!: Localize\n\n    private timerOpacity!: UIOpacity\n\n    private backgroundDefaultWidth!: number\n\n    private calendarDefaultPosition!: Vec3\n\n    private alreadyShown: boolean = false\n\n    public onLoad(): void {\n        this.timerOpacity = this.timerLocalizer.node.getComponent(UIOpacity) as UIOpacity\n\n        this.validateRequiredComponents()\n\n        this.backgroundDefaultWidth = this.background.width\n        this.calendarDefaultPosition = this.calendar.position.clone()\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public async show(signal: AnimAbortSignal): Promise<void> {\n        if (this.alreadyShown || signal.aborted) return\n        this.alreadyShown = true\n\n        const calendarTween = tween(this.calendar)\n            .to(0.3, { scale: Vec3.ONE }, { easing: 'backOut' })\n            .to(0.3, { position: this.calendarDefaultPosition.clone() }, { easing: 'quadOut' })\n\n        const backgroundTween = tween(this.background)\n            .delay(0.3)\n            .to(0.3, { width: this.backgroundDefaultWidth }, { easing: 'quadOut' })\n\n        const labelTween = tween(this.timerOpacity).to(0.3, { opacity: 255 })\n\n        await Promise.all([\n            AnimUtils.runTweenAsync(calendarTween, signal),\n            AnimUtils.runTweenAsync(backgroundTween, signal),\n        ])\n\n        this.calendar.scale = Vec3.ONE\n        this.calendar.position = this.calendarDefaultPosition.clone()\n        this.background.width = this.backgroundDefaultWidth\n\n        await AnimUtils.runTweenAsync(labelTween, signal)\n        this.timerOpacity.opacity = 255\n    }\n\n    public reset(): void {\n        if (this.alreadyShown) return\n\n        this.calendar.position = this.background.node.position.clone()\n        this.calendar.scale = Vec3.ZERO\n\n        this.background.width = 0\n\n        this.timerOpacity.opacity = 0\n    }\n\n    public setTimeLabel(resettable?: string): void {\n        if (!resettable) {\n            this.timerLocalizer.key = 'status.loading'\n            return\n        }\n\n        const now = new Date()\n        let time = 0\n\n        if (resettable === 'manually') {\n            time = 0\n        } else if (resettable === 'daily') {\n            time = Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate() + 1)\n        } else if (resettable === 'weekly') {\n            const day = now.getUTCDay()\n            const add = day === 0 ? 1 : 8 - day\n            time = Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate() + add)\n        } else if (resettable === 'monthly') {\n            time = Date.UTC(now.getUTCFullYear(), now.getUTCMonth() + 1)\n        } else {\n            time = Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate() + 1)\n        }\n\n        try {\n            const timeString = T.getRelativeTime(time / 1000, language.getCurrentLocale())\n            this.timerLocalizer.key = 'game.endsIn'\n            this.timerLocalizer.setParams([timeString])\n        } catch (error) {\n            this.timerLocalizer.key = 'game.endsSoon'\n        }\n    }\n}\n","import AnimUtils from 'db://assets/utils/AnimUtils'\nimport type AnimAbortSignal from 'db://assets/utils/common/AnimAbortSignal'\nimport { _decorator, Node as CCNode, Component, tween, UIOpacity, Vec3 } from 'cc'\n\nconst { ccclass, disallowMultiple, property } = _decorator\n\n@ccclass('LeaderSkeleton')\n@disallowMultiple\nexport class LeaderSkeleton extends Component {\n    private uiOpacity!: UIOpacity\n\n    @property(CCNode)\n    private container!: CCNode\n\n    public __preload(): void {\n        this.uiOpacity = this.getComponent(UIOpacity)!\n        this.validateRequiredComponents()\n    }\n\n    public async hide(signal: AnimAbortSignal): Promise<void> {\n        await AnimUtils.runTweenAsync(\n            tween(this.uiOpacity)\n                .to(0.2, {\n                    opacity: 0,\n                })\n                .call(() => {\n                    this.node.active = false\n                }),\n            signal,\n        )\n    }\n\n    public async show(delay: number, signal: AnimAbortSignal): Promise<void> {\n        this.node.active = true\n\n        this.uiOpacity.opacity = 0\n\n        const position = this.container.position.clone()\n        this.container.position = new Vec3(position.x, position.y - 100, position.z)\n\n        const float = tween(this.container).delay(delay)\n        float.to(0.2, { position }, { easing: 'cubicOut' })\n\n        const opacity = tween(this.uiOpacity).delay(delay)\n        opacity.to(0.2, { opacity: 255 }, { easing: 'cubicOut' })\n\n        const cb = () => {\n            this.container.position = position\n            this.uiOpacity.opacity = 255\n        }\n\n        signal.addAbortListener(cb)\n        await Promise.all([AnimUtils.runTweenAsync(float, signal), AnimUtils.runTweenAsync(opacity, signal)])\n        signal.removeAbortListener(cb)\n    }\n\n    private validateRequiredComponents(): void {\n        if (!this.uiOpacity) {\n            throw new Error('UIOpacity component is not attached to the same node')\n        }\n\n        if (!this.container) {\n            throw new Error('Container is not attached to the same node')\n        }\n    }\n}\n","import { LeaderboardColor } from 'db://assets/gameplay/constants/Leaderboard'\nimport AnimUtils from 'db://assets/utils/AnimUtils'\nimport ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport type AnimAbortSignal from 'db://assets/utils/common/AnimAbortSignal'\nimport {\n    _decorator,\n    Node as CCNode,\n    Color,\n    Component,\n    Label,\n    Sprite,\n    SpriteFrame,\n    tween,\n    UIOpacity,\n    UITransform,\n    Vec3,\n} from 'cc'\nimport CacheUtils from '../../../../../../../utils/CacheUtils'\n\nconst { ccclass, property } = _decorator\n\nexport interface LeaderConfig {\n    playerId: string\n    rank: number\n    name: string\n    photo: string\n    score: number\n    isHighlight: boolean\n}\n\nconst {\n    Utils: { Number: N, Signal: S },\n} = Ludex\n\n@ccclass('Leader')\nexport class Leader extends Component {\n    @property(Label)\n    private nameLabel!: Label\n    @property(UIOpacity)\n    private nameOpacity!: UIOpacity\n\n    @property({ type: CCNode, group: 'Container' })\n    private container!: CCNode\n\n    @property({ type: Sprite, group: 'Background' })\n    private background!: Sprite\n    @property({ type: SpriteFrame, group: 'Background' })\n    private highlightBackground!: SpriteFrame\n\n    @property({ type: Sprite, group: 'Rank' })\n    private rankSprite!: Sprite\n    @property({ type: Label, group: 'Rank' })\n    private rankLabel!: Label\n    @property({ type: SpriteFrame, group: 'Rank' })\n    private goldRank!: SpriteFrame\n    @property({ type: SpriteFrame, group: 'Rank' })\n    private silverRank!: SpriteFrame\n    @property({ type: SpriteFrame, group: 'Rank' })\n    private bronzeRank!: SpriteFrame\n    @property({ type: SpriteFrame, group: 'Rank' })\n    private highlightRank!: SpriteFrame\n\n    @property({ type: Sprite, group: 'Avatar' })\n    private avatar!: Sprite\n    @property({ type: UIOpacity, group: 'Avatar' })\n    private avatarOpacity!: UIOpacity\n\n    @property({ type: Sprite, group: 'Score' })\n    private scoreBackground!: Sprite\n    @property({ type: Label, group: 'Score' })\n    private scoreLabel!: Label\n    @property({ type: SpriteFrame, group: 'Score' })\n    private highlightScoreBackground!: SpriteFrame\n    @property({ type: UIOpacity, group: 'Score' })\n    private scoreOpacity!: UIOpacity\n\n    private defaultBackground!: SpriteFrame\n    private defaultRank!: SpriteFrame\n    private defaultAvatar!: SpriteFrame\n    private defaultScoreBackground!: SpriteFrame\n\n    @property({ type: UIOpacity })\n    private uiOpacity!: UIOpacity\n\n    @property({ type: UITransform })\n    public uiTransform!: UITransform\n\n    private readonly signalController = new S.SignalController()\n\n    public onLoad() {\n        this.defaultBackground = this.background.spriteFrame!\n        this.defaultRank = this.rankSprite.spriteFrame!\n\n        this.defaultScoreBackground = this.scoreBackground.spriteFrame!\n        this.defaultAvatar = this.avatar.spriteFrame!\n\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public updateInfo(payload: LeaderConfig, maxRank?: number): void {\n        this.updateBackground(payload)\n        this.updateRank(payload, maxRank)\n        this.updatePhoto(payload)\n        this.updateUsername(payload)\n        this.updateScore(payload)\n    }\n\n    private updateBackground(payload: LeaderConfig): void {\n        this.background.spriteFrame = payload.isHighlight ? this.highlightBackground : this.defaultBackground\n    }\n\n    public updateRank(payload: Pick<LeaderConfig, 'rank' | 'isHighlight'>, maxRank?: number): void {\n        const rank = payload.rank\n\n        this.rankLabel.string = maxRank && rank > maxRank ? `${maxRank}+` : rank.toString()\n        this.rankSprite.spriteFrame = this.defaultRank\n\n        let color = new Color(LeaderboardColor.DEFAULT_LABEL_OUTLINE)\n\n        if (payload.isHighlight) {\n            this.rankSprite.spriteFrame = this.highlightRank\n            color = new Color(LeaderboardColor.HIGHLIGHT_LABEL_OUTLINE)\n        }\n\n        switch (rank) {\n            case 1:\n                this.rankSprite.spriteFrame = this.goldRank\n                color = new Color(LeaderboardColor.GOLD_RANK_OUTLINE)\n\n                break\n            case 2:\n                this.rankSprite.spriteFrame = this.silverRank\n                color = new Color(LeaderboardColor.SILVER_RANK_OUTLINE)\n\n                break\n            case 3:\n                this.rankSprite.spriteFrame = this.bronzeRank\n                color = new Color(LeaderboardColor.BRONZE_RANK_OUTLINE)\n\n                break\n        }\n\n        this.rankLabel.shadowColor = color\n        this.rankLabel.outlineColor = color\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async updatePhoto(payload: Pick<LeaderConfig, 'photo' | 'playerId'>): Promise<void> {\n        const signal = this.signalController.renew()\n\n        if (!this.avatar) return\n        const { playerId, photo } = payload\n\n        if (CacheUtils.isAvatarCached(payload.playerId, 70)) {\n            const spriteFrame = await CacheUtils.getPlayerAvatar(photo, playerId, 70, signal)\n            if (!spriteFrame || signal.aborted) return\n\n            this.setPhoto(spriteFrame)\n            return\n        }\n\n        this.avatar.spriteFrame = this.defaultAvatar\n\n        //? Wait for a short time to prevent load image too fast\n        await AnimUtils.waitTweenAsync(0.1, signal)\n        if (signal.aborted) return\n\n        const spriteFrame = await CacheUtils.getPlayerAvatar(photo, playerId, 70, signal)\n        if (!spriteFrame || signal.aborted) return\n\n        this.setPhoto(spriteFrame)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private setPhoto(spriteFrame: SpriteFrame): void {\n        if (!this.node.active) return\n\n        spriteFrame.packable = true\n        this.avatar.spriteFrame = spriteFrame\n    }\n\n    private updateUsername(payload: LeaderConfig): void {\n        this.nameLabel.string = payload.name\n\n        this.nameLabel.color = new Color(\n            payload.isHighlight ? LeaderboardColor.HIGHLIGHT_LABEL : LeaderboardColor.DEFAULT_LABEL,\n        )\n    }\n\n    public updateScore(payload: Pick<LeaderConfig, 'isHighlight' | 'score'>): void {\n        const score = Math.floor(payload.score)\n        this.scoreLabel.string = N.getShortNumber(score, 7)\n\n        const label = this.scoreLabel.getComponent(Label)!\n\n        label.outlineColor = new Color(\n            payload.isHighlight ? LeaderboardColor.HIGHLIGHT_LABEL_OUTLINE : LeaderboardColor.DEFAULT_LABEL_OUTLINE,\n        )\n\n        label.shadowColor = new Color(\n            payload.isHighlight ? LeaderboardColor.HIGHLIGHT_LABEL_OUTLINE : LeaderboardColor.DEFAULT_LABEL_OUTLINE,\n        )\n\n        this.scoreBackground.spriteFrame = payload.isHighlight\n            ? this.highlightScoreBackground\n            : this.defaultScoreBackground\n    }\n\n    public async runShowUpAnimation(signal: AnimAbortSignal, delay: number, duration = 0.3): Promise<void> {\n        this.setVisible(false)\n\n        const position = this.container.position.clone()\n        this.container.position = new Vec3(position.x, position.y - 100, position.z)\n\n        const floatTween = tween(this.container).delay(delay)\n        floatTween.to(duration, { position }, { easing: 'backOut' })\n\n        const opacityTween = tween(this.uiOpacity).delay(delay)\n        opacityTween.to(\n            duration,\n            { opacity: 255 },\n            {\n                easing: 'cubicOut',\n                onUpdate: () => {\n                    this.nameOpacity.opacity = this.uiOpacity.opacity\n                    this.scoreOpacity.opacity = this.uiOpacity.opacity\n                    this.avatarOpacity.opacity = this.uiOpacity.opacity\n                },\n            },\n        )\n\n        const cb = () => {\n            if (!this.enabledInHierarchy) return\n\n            this.container.position = position\n            this.uiOpacity.opacity = 255\n            this.avatar.node.active = true\n        }\n\n        signal.addAbortListener(cb)\n        await Promise.all([AnimUtils.runTweenAsync(floatTween, signal), AnimUtils.runTweenAsync(opacityTween, signal)])\n        signal.removeAbortListener(cb)\n    }\n\n    public async runWorldPositionAnimation(\n        worldPosition: Vec3,\n        duration: number,\n        signal: AnimAbortSignal,\n    ): Promise<void> {\n        const positionTween = tween(this.node).to(duration, { worldPosition }, { easing: 'quadOut' })\n\n        await AnimUtils.runTweenAsync(positionTween, signal)\n    }\n\n    public async runScaleAnimation(scale: number, duration: number, signal: AnimAbortSignal): Promise<void> {\n        const scaleTween = tween(this.node).to(\n            duration,\n            { scale: new Vec3(scale, scale, scale) },\n            { easing: 'backOut' },\n        )\n\n        await AnimUtils.runTweenAsync(scaleTween, signal)\n    }\n\n    public async runUpdateDataAnimation(\n        oldRank: number,\n        newRank: number,\n        oldScore: number,\n        newScore: number,\n        duration: number,\n        signal: AnimAbortSignal,\n    ) {\n        await AnimUtils.runOnUpdateAsync(\n            this.node,\n            duration,\n            (ratio) => {\n                const rank = Math.floor(oldRank + (newRank - oldRank) * ratio)\n                const score = Math.floor(oldScore + (newScore - oldScore) * ratio)\n\n                this.updateRank({ rank, isHighlight: true })\n                this.updateScore({ score, isHighlight: true })\n            },\n            signal,\n        )\n    }\n\n    public setVisible(visible: boolean): void {\n        const opacity = visible ? 255 : 0\n\n        this.uiOpacity.opacity = opacity\n        this.nameOpacity.opacity = opacity\n        this.scoreOpacity.opacity = opacity\n        this.avatarOpacity.opacity = opacity\n    }\n}\n","import ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport type AnimAbortSignal from 'db://assets/utils/common/AnimAbortSignal'\nimport { _decorator, CCInteger, Component, UITransform, Vec3 } from 'cc'\nimport { ScrollViewLayout } from '../../../../../../common/scroll-view-layout/ScrollViewLayout'\nimport type { ViewNode } from '../../../../../../common/scroll-view-layout/ViewNode'\nimport { Leader, type LeaderConfig } from './Leader'\n\nconst { ccclass, property } = _decorator\nconst { player } = codex\n\nconst {\n    Utils: { Array: A },\n} = Ludex\n\n@ccclass('Leaders')\nexport class Leaders extends Component {\n    @property(ScrollViewLayout)\n    public scrollView!: ScrollViewLayout\n\n    @property(Leader)\n    private tempLeader!: Leader\n\n    @property(CCInteger)\n    public maxLeader!: number\n\n    private leaderData: Ludex.Plugins.Leaderboards.Leader[] = []\n\n    private displayLeaderData: Ludex.Plugins.Leaderboards.Leader[] = []\n    private displayPlayerLeader: Ludex.Plugins.Leaderboards.Leader | null = null\n\n    private currentPlayerId!: string\n\n    private isHidden = true\n\n    public uiTransform!: UITransform\n\n    protected onLoad() {\n        this.uiTransform = this.getComponent(UITransform)!\n\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public __preload() {\n        this.currentPlayerId = player.getPlayerId()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async updateData(data: Ludex.Plugins.Leaderboards.Leader[]): Promise<void> {\n        this.isHidden = false\n        this.leaderData = data\n        this.leaderData.forEach((leader, index) => {\n            leader.rank = index + 1\n        })\n\n        this.setupDisplayLeadersData()\n    }\n\n    public initScrollViews(): void {\n        this.scrollView.setMaxNodeCount(this.leaderData.length)\n\n        this.scrollView.init((node: ViewNode) => {\n            const leader = node.getComponent(Leader)!\n            const leaderData = this.displayLeaderData[node.order]\n            if (!leaderData) return\n\n            const { playerId, photo, name, score } = leaderData\n\n            leader.setVisible(true)\n\n            leader.updateInfo(\n                {\n                    playerId,\n                    isHighlight: this.currentPlayerId === playerId,\n                    name,\n                    photo,\n                    rank: node.order + 1,\n                    score,\n                },\n                this.maxLeader,\n            )\n        })\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async playRankChangeAnimation(\n        signal: AnimAbortSignal,\n        oldScore: number,\n        newScore: number,\n        newRank: number,\n    ): Promise<void> {\n        if (oldScore >= newScore) return\n\n        const oldLeaderData = this.displayLeaderData\n\n        const playerLeaderData = A.search(oldLeaderData, (leader) => leader.playerId === player.getPlayerId())\n        if (!playerLeaderData) return\n\n        const oldRank = playerLeaderData.rank\n\n        const permutedLeaderData = oldLeaderData[newRank - 1]\n        if (!permutedLeaderData) return\n\n        const playerLeaderNode = this.scrollView.getNodeByOrder(playerLeaderData.rank - 1)\n        if (!playerLeaderNode) return\n        const playerLeader = playerLeaderNode?.getComponent(Leader)\n        if (!playerLeader) return\n\n        playerLeader.setVisible(false)\n        this.tempLeader.setVisible(true)\n        this.tempLeader.updatePhoto({\n            playerId: player.getPlayerId(),\n            photo: playerLeaderData.photo,\n        })\n        this.tempLeader.node.worldPosition = playerLeaderNode.node.worldPosition.clone()\n        await this.tempLeader.runScaleAnimation(1.1, 0.5, signal)\n\n        const scrollDuration = Math.min((oldRank - newRank) * 0.5, 2)\n\n        const scrollAnimations = [\n            this.tempLeader.runUpdateDataAnimation(oldRank, newRank, oldScore, newScore, scrollDuration, signal),\n            this.scrollToLeaderRank(newRank, scrollDuration, signal),\n        ]\n\n        const maxScrollOffsetY = this.scrollView.scrollView.getMaxScrollOffset().y\n        const scrollOffsetY = this.scrollView.getNodeScrollOffset(newRank - 1)\n\n        let endWorldPosition = Vec3.ZERO\n\n        if (scrollOffsetY < 0) {\n            endWorldPosition = new Vec3(\n                this.tempLeader.node.worldPosition.x,\n                this.node.worldPosition.y +\n                    this.scrollView.getNodePosition(newRank - 1).y +\n                    this.uiTransform.height / 2,\n                this.tempLeader.node.worldPosition.z,\n            )\n        } else if (this.scrollView.scrollView.getScrollOffset().y >= maxScrollOffsetY - 5) {\n            if (scrollOffsetY < maxScrollOffsetY) {\n                endWorldPosition = new Vec3(\n                    this.tempLeader.node.worldPosition.x,\n                    this.scrollView.viewport.node.worldPosition.y,\n                    this.tempLeader.node.worldPosition.z,\n                )\n            } else {\n                const permutedLeader = this.scrollView.getNodeByOrder(newRank - 1)\n                endWorldPosition = permutedLeader?.node.worldPosition.clone() ?? Vec3.ZERO\n            }\n        }\n\n        if (!endWorldPosition.equals(Vec3.ZERO)) {\n            scrollAnimations.push(this.tempLeader.runWorldPositionAnimation(endWorldPosition, scrollDuration, signal))\n        }\n\n        await Promise.all(scrollAnimations)\n        await Promise.all([\n            this.tempLeader.runScaleAnimation(1, 0.25, signal),\n            this.playPostRankChangeAnimation(newRank, oldRank, signal),\n        ])\n\n        this.tempLeader.setVisible(false)\n        playerLeaderNode.node.worldPosition = this.tempLeader.node.worldPosition.clone()\n\n        this.setupDisplayLeadersData()\n        this.scrollView.updateNodeVisibility()\n        this.scrollView.updateLayout()\n    }\n\n    public async playShowLeadersAnimation(signal: AnimAbortSignal, stagger = 0.1): Promise<void> {\n        if (this.isHidden) return\n        let visibleLeaders: Leader[] = []\n\n        const viewNodes = this.scrollView.getAllNodes()\n\n        viewNodes\n            .sort((a, b) => a.order - b.order)\n            .forEach((node, index) => {\n                const leader = node.getComponent(Leader)!\n                leader.setVisible(index < this.leaderData.length)\n\n                if (node.isVisible()) {\n                    visibleLeaders.push(leader)\n                }\n            })\n\n        if (visibleLeaders.length < 1) return\n        visibleLeaders = visibleLeaders.slice(0, viewNodes.length - 1)\n\n        const duration = 0.3\n        await Promise.all(\n            visibleLeaders.map(async (leader, index) => {\n                if (this.isHidden) return\n                await leader.runShowUpAnimation(signal, index * stagger, duration)\n            }),\n        )\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async scrollToPlayerLeader(duration: number, signal: AnimAbortSignal): Promise<void> {\n        if (!this.displayPlayerLeader) return\n\n        await this.scrollToLeaderRank(this.displayPlayerLeader.rank, duration, signal)\n    }\n\n    public updateDisplayPlayerLeaderForRankChanging(\n        previousScore: number,\n        currentScore: number,\n        currentRank: number,\n    ): boolean {\n        if (!this.displayPlayerLeader) return false\n\n        this.displayPlayerLeader.score = previousScore\n\n        this.displayLeaderData.sort((a, b) => b.score - a.score)\n        const previousRank = this.displayLeaderData.indexOf(this.displayPlayerLeader) + 1\n\n        if (currentRank === previousRank) {\n            this.displayPlayerLeader.score = currentScore\n            this.displayPlayerLeader.rank = currentRank\n            return false\n        }\n\n        this.displayPlayerLeader.rank = previousRank\n\n        this.tempLeader.updateInfo({\n            playerId: player.getPlayerId(),\n            isHighlight: true,\n            name: this.displayPlayerLeader.name,\n            photo: this.displayPlayerLeader.photo,\n            rank: this.displayPlayerLeader.rank,\n            score: previousScore,\n        })\n\n        return true\n    }\n\n    public hideLeaders(): void {\n        this.isHidden = true\n\n        const leaders = this.scrollView.getAllNodes().map((node) => node.getComponent(Leader))\n\n        for (const leader of leaders) {\n            leader?.setVisible(false)\n        }\n    }\n\n    public getLeaderData(): Ludex.Plugins.Leaderboards.Leader[] {\n        return this.leaderData\n    }\n\n    private setupDisplayLeadersData(): void {\n        const playerData = A.search(this.leaderData, (leader) => leader.playerId === this.currentPlayerId)\n\n        if (playerData) {\n            this.displayLeaderData = this.leaderData.filter((leader) => leader.playerId !== this.currentPlayerId)\n            this.displayPlayerLeader = { ...playerData }\n            this.displayLeaderData.splice(playerData.rank - 1, 0, this.displayPlayerLeader)\n        } else {\n            this.displayPlayerLeader = null\n            this.displayLeaderData = this.leaderData\n        }\n    }\n\n    private async playPostRankChangeAnimation(start: number, end: number, signal: AnimAbortSignal): Promise<void> {\n        const startIndex = start ?? 0\n        const nodes = this.scrollView\n            .getVisibleNodes()\n            .filter((node) => node.order >= startIndex - 1 && node.order < end)\n        const leaders = nodes.map((node) => node.getComponent(Leader)!)\n\n        // Distance between each leader\n        const offset = this.scrollView.nodeHeight + this.scrollView.spacing\n\n        const leaderAnimations: Promise<void>[] = []\n\n        leaders.forEach((leader, index) => {\n            const node = nodes[index]\n            if (!node) return\n\n            leader.updateRank({\n                rank: node.order + 2,\n                isHighlight: false,\n            } as LeaderConfig)\n\n            const leaderWorldPosition = leader.node.worldPosition.clone()\n            leaderAnimations.push(\n                leader.runWorldPositionAnimation(leaderWorldPosition.add3f(0, -offset, 0), 0.25, signal),\n            )\n        })\n\n        await Promise.all(leaderAnimations)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async scrollToLeaderRank(rank: number, duration: number, signal: AnimAbortSignal): Promise<void> {\n        await this.scrollView.scrollToOrder(rank - 1, signal, duration)\n    }\n}\n","import OverlayUtils from 'db://assets/utils/OverlayUtils'\nimport type { Scene } from 'cc'\nimport LeaderboardEvents from '../../../../../gameplay/constants/Leaderboard'\nimport AdsUtils from '../../../../../utils/AdsUtils'\n\ntype OverlayView = FBInstant.OverlayView\n\nconst {\n    Utils: { Time: T, Object: O },\n} = Ludex\n\ntype ElementInGamePosition = {\n    worldX: number\n    worldY: number\n    width: number\n    height: number\n}\n\nconst DEFAULT_XML_PATH = 'overlays/leaderboard/leaderboard-overlay.xml'\nconst DEFAULT_CSS_PATH = 'overlays/leaderboard/leaderboard-overlay-styles.css'\n\ntype LeaderboardContentPayload = {\n    leaderboardPlayers: LeaderboardPlayer[]\n    leaderboardPosition: ElementInGamePosition\n    currentPlayerId: string\n}\n\ntype LeaderboardPlayer = {\n    playerId: string\n    rank: string\n    score: number\n}\n\nconst HEADER_HEIGHT = 295\nconst FOOTER_HEIGHT = 155\n\nclass LeaderboardContentOverlay {\n    private mainDiv$!: HTMLDivElement\n    private overlayElement$: OverlayView | undefined\n    public scene!: Scene\n\n    private currentPayload$: LeaderboardContentPayload | undefined\n    private isPageMounted: boolean = false\n\n    constructor(scene: Scene) {\n        this.scene = scene\n        this.createMainDiv$()\n    }\n\n    private createMainDiv$ = (): void => {\n        this.mainDiv$ = document.createElement('div')\n\n        const scaleFactor = OverlayUtils.getGameScaleFactor()\n\n        // Apply styles using Object.assign for better performance\n        O.assign(this.mainDiv$.style, {\n            position: 'absolute',\n            transform: 'translateX(-50%)',\n            left: '50%',\n            top: `${scaleFactor * HEADER_HEIGHT}px`,\n            scrollbarWidth: 'none',\n            alignItems: 'start',\n            overflow: 'auto',\n            backgroundColor: 'transparent',\n            opacity: '0',\n            transition: 'opacity 0.1s ease-in-out',\n            pointerEvents: 'none',\n            display: 'none',\n            userSelect: 'none',\n        })\n\n        document.body.appendChild(this.mainDiv$)\n    }\n\n    public async updateOverlay(payload: LeaderboardContentPayload): Promise<boolean> {\n        try {\n            if (!this.isPageMounted) return false\n\n            this.scene.emit(LeaderboardEvents.OVERLAY_SHOW_STARTED)\n\n            const validatedPayload = this.validateOverlayPayload$(payload)\n\n            // Update position if provided\n            if (validatedPayload.leaderboardPosition) {\n                this.moveMainDiv(validatedPayload.leaderboardPosition)\n            }\n\n            // Only update if payload has changed\n            if (!this.isPayloadChanged$(validatedPayload)) {\n                this.revealMainDiv$()\n                return true\n            }\n\n            if (this.overlayElement$) {\n                await this.overlayElement$.updateAsync(validatedPayload)\n            } else {\n                this.overlayElement$ = await OverlayUtils.createOverlayViewAsync(\n                    DEFAULT_XML_PATH,\n                    this.mainDiv$,\n                    this.getIframeCss$(payload),\n                    DEFAULT_CSS_PATH,\n                    validatedPayload,\n                )\n            }\n\n            this.currentPayload$ = validatedPayload\n            await this.showOverlay$()\n        } catch (error) {\n            console.error('Error creating overlay view:', error)\n            return false\n        }\n\n        return true\n    }\n\n    private isPayloadChanged$ = (payload: LeaderboardContentPayload): boolean => {\n        if (!this.currentPayload$) return true\n\n        // Check if the arrays have different lengths\n        if (this.currentPayload$.leaderboardPlayers.length !== payload.leaderboardPlayers.length) {\n            return true\n        }\n\n        // Compare each player object\n        for (let i = 0; i < payload.leaderboardPlayers.length; i++) {\n            const currentPlayer = this.currentPayload$.leaderboardPlayers[i]\n            const newPlayer = payload.leaderboardPlayers[i]\n\n            // Safety check (though should not be needed after length check)\n            if (!currentPlayer || !newPlayer) {\n                return true\n            }\n\n            if (\n                currentPlayer.playerId !== newPlayer.playerId ||\n                currentPlayer.rank !== newPlayer.rank ||\n                currentPlayer.score !== newPlayer.score\n            ) {\n                return true\n            }\n        }\n\n        return false\n    }\n\n    private showOverlay$ = async (): Promise<void> => {\n        if (!this.overlayElement$) return\n        await this.overlayElement$.showAsync()\n        this.revealMainDiv$()\n    }\n\n    private revealMainDiv$ = (): void => {\n        if (!this.overlayElement$) return\n        if (!this.isPageMounted) return\n\n        this.scene.emit(LeaderboardEvents.OVERLAY_SHOW_COMPLETED)\n\n        // Start fade-in effect\n        this.mainDiv$.style.display = 'block'\n        this.mainDiv$.scrollTop = 0\n\n        // Trigger fade-in by setting opacity after a brief delay\n        requestAnimationFrame(() => {\n            if (!this.isPageMounted) {\n                this.mainDiv$.style.display = 'none'\n                return\n            }\n\n            O.assign(this.mainDiv$.style, {\n                opacity: '1',\n                pointerEvents: 'auto',\n            })\n        })\n    }\n\n    private validateOverlayPayload$ = (payload: LeaderboardContentPayload): LeaderboardContentPayload => {\n        const correctedPayload: LeaderboardContentPayload = {\n            ...payload,\n            leaderboardPlayers: [],\n        }\n\n        const validateRegEx = /^\\d+$/\n\n        for (const player of payload.leaderboardPlayers) {\n            // if player id contains any alphabet characters, delete the player\n            if (!validateRegEx.test(player.playerId)) {\n                continue\n            }\n\n            correctedPayload.leaderboardPlayers.push(player)\n        }\n\n        return correctedPayload\n    }\n\n    public async hideOverlay(): Promise<void> {\n        if (!this.overlayElement$) return\n\n        // Start fade-out effect\n        O.assign(this.mainDiv$.style, {\n            opacity: '0',\n            pointerEvents: 'none',\n        })\n\n        try {\n            // ? Wait for fade-out transition to complete before hiding\n            await T.sleepAsync(100)\n            this.mainDiv$.style.display = 'none'\n        } catch (error) {\n            console.error('Hide overlay failed:', error)\n        }\n    }\n\n    public async handleHideUICall(): Promise<void> {\n        O.assign(this.mainDiv$.style, {\n            opacity: '0',\n            pointerEvents: 'none',\n            display: 'none',\n        })\n    }\n\n    public async handleShowUICall(): Promise<void> {\n        O.assign(this.mainDiv$.style, {\n            opacity: '1',\n            pointerEvents: 'auto',\n            display: 'block',\n        })\n    }\n\n    private getIframeCss$ = (payload: LeaderboardContentPayload): string => {\n        const widthString = 'width: 100%;'\n        let widthCss = '100cqw'\n\n        const { leaderboardPosition, leaderboardPlayers } = payload\n        const playerCount = leaderboardPlayers.length\n\n        if (leaderboardPosition) {\n            widthCss = `${this.getElementDivWidth$(leaderboardPosition)}px`\n        }\n\n        // ? Optimal iframe height is based on player tab count and margin to not show scrollbar\n        const heightString = `height: calc((${widthCss} * (121 / 1000) + 4px) * ${playerCount});`\n\n        const borderWidthString = 'border-width: 0px;'\n        const overflowString = 'overflow: hidden;'\n        const displayString = 'display: block;'\n        return `${widthString} ${borderWidthString} ${overflowString} ${displayString} ${heightString}   `\n    }\n\n    public setIsPageMounted(isPageMounted: boolean): void {\n        this.isPageMounted = isPageMounted\n    }\n\n    public moveMainDiv(position: ElementInGamePosition): void {\n        this.updateMainDivPosition$(position)\n    }\n\n    private updateMainDivPosition$ = (position: ElementInGamePosition): void => {\n        if (!this.mainDiv$) return\n\n        const cssWidth = `${this.getElementDivWidth$(position)}px`\n        const cssHeight = `${this.getElementDivHeight$()}px`\n        const cssTopOffset = `${this.getElementDivTopOffset$()}px`\n\n        O.assign(this.mainDiv$.style, {\n            width: cssWidth,\n            height: `calc(100vh - ${cssHeight})`,\n            top: cssTopOffset,\n        })\n    }\n\n    private getElementDivWidth$ = (position: ElementInGamePosition): number => {\n        const { width } = position\n        return width * OverlayUtils.getGameScaleFactor()\n    }\n\n    private getElementDivHeight$ = (): number => {\n        const scaleFactor = OverlayUtils.getGameScaleFactor()\n        const adBannerHeight = AdsUtils.getBannerAdHeight()\n        return scaleFactor * (HEADER_HEIGHT + FOOTER_HEIGHT + adBannerHeight)\n    }\n\n    private getElementDivTopOffset$ = (): number => {\n        return HEADER_HEIGHT * OverlayUtils.getGameScaleFactor()\n    }\n}\n\nexport default LeaderboardContentOverlay\n","import { Component, UIOpacity, _decorator, tween } from 'cc'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nconst { ccclass } = _decorator\n\n@ccclass('LeaderboardIsEmpty')\nexport class LeaderboardIsEmpty extends Component {\n    private uiOpacity!: UIOpacity\n\n    public onLoad(): void {\n        this.uiOpacity = this.getComponent(UIOpacity)!\n\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public async show(): Promise<void> {\n        this.uiOpacity.opacity = 255\n\n        const position = this.node.position.clone()\n\n        const shakeTween = tween(this.node)\n\n        shakeTween.to(0.05, { position: position.clone().add3f(5, 0, 0) })\n        shakeTween.to(0.05, { position: position.clone().add3f(-5, 0, 0) })\n\n        const returnTween = tween(this.node).repeat(2, shakeTween)\n\n        returnTween.to(0.05, { position })\n\n        await AnimUtils.runTweenAsync(returnTween)\n    }\n\n    public hide(): void {\n        this.uiOpacity.opacity = 0\n    }\n}\n","import OverlayUtils from 'db://assets/utils/OverlayUtils'\nimport { _decorator, Component, game, Node, UITransform } from 'cc'\nimport { OpacityToggler } from '../../../../../components/common/OpacityToggler'\nimport GameEvents from '../../../../../constants/GameEvents'\nimport { LeaderboardIds, type LeaderboardType, LeaderboardTypes } from '../../../../../constants/Leaderboard'\nimport GameplayEvents from '../../../../../gameplay/constants/GameEvents'\nimport LeaderboardEvents from '../../../../../gameplay/constants/Leaderboard'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\nimport ScreenUtils from '../../../../../utils/ScreenUtils'\nimport { Tabs } from './components/header/tabs/Tabs'\nimport { LeaderboardTimer } from './components/header/timer/LeaderboardTimer'\nimport { LeaderSkeleton } from './components/leader/LeaderSkeleton'\nimport { Leaders } from './components/leader/Leaders'\nimport { JoinLeaderboardContainer } from './JoinLeaderboardContainer'\nimport LeaderboardContentOverlay from './LeaderboardContentOverlay'\nimport { LeaderboardIsEmpty } from './LeaderboardIsEmpty'\n\nconst { ccclass, property } = _decorator\nconst { storage, leaderboard, player, monitorError } = codex\n\nconst {\n    Utils: { Object: O },\n    Configs: { Leaderboards: LeaderboardConfigs },\n} = Ludex\n\nclass EmptyLeaderboardError extends Error {\n    constructor(message: string) {\n        super(message)\n        this.name = 'EmptyLeaderboardError'\n    }\n}\n\n@ccclass('LeaderboardContent')\nexport class LeaderboardContent extends Component {\n    @ComponentUtils.required()\n    @property(Tabs)\n    private tabs!: Tabs\n\n    @ComponentUtils.required()\n    @property(LeaderboardTimer)\n    private timer!: LeaderboardTimer\n\n    @ComponentUtils.required()\n    @property({ type: Leaders, group: 'Leaderboard' })\n    public leaders!: Leaders\n\n    @property({ type: [LeaderSkeleton], group: 'Leaderboard' })\n    private leaderSkeletons: LeaderSkeleton[] = []\n\n    @ComponentUtils.required()\n    @property({ type: LeaderboardIsEmpty, group: 'Leaderboard' })\n    private leaderboardIsEmpty!: LeaderboardIsEmpty\n\n    @ComponentUtils.required()\n    @property(OpacityToggler)\n    private contentOpacity!: OpacityToggler\n\n    @ComponentUtils.required()\n    @property(JoinLeaderboardContainer)\n    private joinLeaderboardContainer!: JoinLeaderboardContainer\n\n    @ComponentUtils.required()\n    @property(Node)\n    private loadingNode!: Node\n\n    private isHidden = true\n    private isOverlayMode = false\n\n    private currentLb: Ludex.Plugins.Leaderboards.Leaderboard | null = null\n    private currentTab: LeaderboardType = LeaderboardTypes.DAILY\n\n    private animAbortSignal: AnimAbortSignal = new AnimAbortSignal()\n\n    private hasPlayedAppearAnim: Record<LeaderboardType, boolean> = {\n        friends: false,\n        global: false,\n        global_weekly: false,\n    }\n\n    private dailyFBOverlay: LeaderboardContentOverlay | null = null\n    private weeklyFBOverlay: LeaderboardContentOverlay | null = null\n\n    protected __preload(): void {\n        this.leaders.maxLeader = LeaderboardConfigs.LeaderboardList[0]?.Limit ?? 0\n    }\n\n    public onLoad(): void {\n        ComponentUtils.validateRequiredProperties(this)\n        this.createFBOverlay$()\n    }\n\n    public listenEvents(): void {\n        game.on(GameEvents.VIEW_RESIZED, this.handleViewResized$)\n\n        this.node.scene.on(LeaderboardEvents.WEEKLY_TAB_SELECTED, this.handleWeeklyTabSelected$)\n        this.node.scene.on(LeaderboardEvents.WORLD_TAB_SELECTED, this.handleDailyTabSelected$)\n        this.node.scene.on(LeaderboardEvents.OVERLAY_SHOW_STARTED, this.enableOverlayLoadingNode$)\n        this.node.scene.on(LeaderboardEvents.OVERLAY_SHOW_COMPLETED, this.disableOverlayLoadingNode$)\n\n        this.node.scene.on(GameplayEvents.HIDE_UI, this.hideContent$)\n        this.node.scene.on(GameplayEvents.SHOW_UI, this.showContent$)\n    }\n\n    private unlistenEvents$ = (): void => {\n        game.off(GameEvents.VIEW_RESIZED, this.handleViewResized$)\n\n        this.node.scene.off(LeaderboardEvents.WEEKLY_TAB_SELECTED, this.handleWeeklyTabSelected$)\n        this.node.scene.off(LeaderboardEvents.WORLD_TAB_SELECTED, this.handleDailyTabSelected$)\n        this.node.scene.off(LeaderboardEvents.OVERLAY_SHOW_STARTED, this.enableOverlayLoadingNode$)\n        this.node.scene.off(LeaderboardEvents.OVERLAY_SHOW_COMPLETED, this.disableOverlayLoadingNode$)\n\n        this.unlistenUIEvents()\n    }\n\n    public unlistenUIEvents(): void {\n        this.node.scene.off(GameplayEvents.HIDE_UI, this.hideContent$)\n        this.node.scene.off(GameplayEvents.SHOW_UI, this.showContent$)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async loadLeaderboard(signal: AnimAbortSignal, type: LeaderboardType): Promise<void> {\n        const leaderboardName = this.getLeaderboardName$(type)\n        if (leaderboardName === null) return\n\n        await signal.callAsync(() => leaderboard.requestLeaderboardAsync(leaderboardName, this.leaders.maxLeader))\n\n        signal.call(() => {\n            const lb = leaderboard.getLeaderboard(leaderboardName)\n            this.currentLb = lb ?? this.currentLb\n        })\n\n        await signal.callAsync(async () => this.loadPlayerLeaderData(type))\n    }\n\n    private getLeaderboardName$ = (type: LeaderboardType): string | null => {\n        const leaderboardId = type === LeaderboardTypes.WEEKLY ? LeaderboardIds.WEEKLY : LeaderboardIds.DAILY\n        return leaderboard.getLeaderboardName(leaderboardId)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async showLoading(signal: AnimAbortSignal, type: LeaderboardType, skeletonDelay = 0): Promise<void> {\n        if (this.isOverlayMode) {\n            this.enableOverlayLoadingNode$()\n            this.cleanupOverlay()\n            return\n        }\n\n        await Promise.all([\n            this.leaders.scrollView.unlistenEvents(),\n            this.leaders.scrollView.scrollToTop(signal).then(() => {\n                if (!this.leaders) return\n\n                this.leaders.scrollView.scrollView.enabled = false\n                this.leaders.scrollView.listenEvents()\n            }),\n            this.leaderSkeletons.map((skeleton, index) => skeleton.show(index * skeletonDelay, signal)),\n        ])\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async hideLoading(signal: AnimAbortSignal, _type: LeaderboardType): Promise<void> {\n        if (this.isOverlayMode) {\n            return\n        }\n\n        await Promise.all(this.leaderSkeletons.map((skeleton) => skeleton.hide(signal)))\n    }\n\n    public entering(): void {\n        this.timer.reset()\n\n        this.isHidden = false\n        const lastTabOpened = storage.getStorageData('leaderboard_content', 'lastTabOpened')\n\n        if (lastTabOpened === LeaderboardTypes.WEEKLY) {\n            this.handleWeeklyTabSelected$()\n        } else if (lastTabOpened === LeaderboardTypes.DAILY) {\n            this.handleDailyTabSelected$()\n        }\n    }\n\n    public hide(): void {\n        this.isHidden = true\n    }\n\n    public cleanup(): void {\n        this.leaders.scrollView.unlistenEvents()\n        this.unlistenEvents$()\n        this.cleanupSideEffects$()\n        this.cleanupOverlay()\n    }\n\n    public cleanupOverlay(): void {\n        this.dailyFBOverlay?.hideOverlay()\n        this.weeklyFBOverlay?.hideOverlay()\n    }\n\n    private cleanupSideEffects$ = (): void => {\n        this.animAbortSignal.abort()\n        this.animAbortSignal = new AnimAbortSignal()\n\n        this.leaders.hideLeaders()\n        this.leaderboardIsEmpty.hide()\n        this.joinLeaderboardContainer.hide()\n    }\n\n    public updateOverlayMountStatus(isPageMounted: boolean): void {\n        this.dailyFBOverlay?.setIsPageMounted(isPageMounted)\n        this.weeklyFBOverlay?.setIsPageMounted(isPageMounted)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async updateStatus(signal: AnimAbortSignal, type: LeaderboardType): Promise<void> {\n        if (signal === undefined || this.isHidden) {\n            return\n        }\n\n        this.initializeStatusUpdate$(type)\n\n        try {\n            await this.loadLeaderboardData$(signal, type)\n            await this.handleSuccessfulLoad$(signal, type)\n        } catch (error) {\n            this.handleLoadError$(signal, type, error)\n        }\n    }\n\n    private initializeStatusUpdate$ = (type: LeaderboardType): void => {\n        this.tabs.updateStatus(type)\n        this.timer.setTimeLabel()\n    }\n\n    private loadLeaderboardData$ = async (signal: AnimAbortSignal, type: LeaderboardType): Promise<void> => {\n        await this.showLoading(signal, type)\n        await this.loadLeaderboard(signal, type)\n        this.hideLoading(signal, type)\n    }\n\n    private handleSuccessfulLoad$ = async (signal: AnimAbortSignal, type: LeaderboardType): Promise<void> => {\n        if (this.isOverlayMode) {\n            await this.handleOverlayMode$(signal, type)\n        } else {\n            await this.handleRegularMode$(signal, type)\n        }\n\n        await this.handleGuestUserFlow$(signal)\n    }\n\n    private handleOverlayMode$ = async (signal: AnimAbortSignal, type: LeaderboardType): Promise<void> => {\n        signal.call(() => {\n            this.timer?.show(signal)\n            this.handleUpdateOverlayAfterSignal$(signal, type)\n        })\n    }\n\n    private handleUpdateOverlayAfterSignal$ = async (signal: AnimAbortSignal, type: LeaderboardType): Promise<void> => {\n        const result = await this.updateOverlay$(type)\n\n        if (!result) {\n            this.isOverlayMode = false\n            this.disableOverlayLoadingNode$()\n            this.handleRegularMode$(signal, type)\n            return\n        }\n\n        this.setupTimerWithLeaderboard$(signal)\n    }\n\n    private handleRegularMode$ = async (signal: AnimAbortSignal, type: LeaderboardType): Promise<void> => {\n        signal.call(() => {\n            this.setupTimerWithLeaderboard$(signal)\n        })\n\n        await signal.callAsync((signal) => this.playLeadersShowupAnimation(type, signal))\n    }\n\n    private setupTimerWithLeaderboard$ = (signal: AnimAbortSignal): void => {\n        this.timer?.setTimeLabel(this.currentLb?.resettable)\n        this.timer?.show(signal)\n    }\n\n    private handleGuestUserFlow$ = async (signal: AnimAbortSignal): Promise<void> => {\n        if (GameSDK.extra.isGuest) {\n            this.updateJoinLeaderboardButton()\n            await this.joinLeaderboardContainer?.show(signal)\n        }\n    }\n\n    private handleLoadError$ = (signal: AnimAbortSignal, type: LeaderboardType, error: unknown): void => {\n        if (!(error instanceof EmptyLeaderboardError)) {\n            throw error\n        }\n\n        signal.call(() => {\n            this.handleEmptyLeaderboard$(signal, type)\n        })\n    }\n\n    private handleEmptyLeaderboard$ = (signal: AnimAbortSignal, type: LeaderboardType): void => {\n        this.leaderboardIsEmpty.show()\n        this.leaders.scrollView.setMaxNodeCount(0)\n        this.hideLoading(signal, type)\n        this.setupTimerWithLeaderboard$(signal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async playLeadersShowupAnimation(type: LeaderboardType, signal: AnimAbortSignal) {\n        if (!this.currentLb) return\n\n        const playerId = player.getPlayerId()\n        const playerLeaderData = this.currentLb.leaders[playerId]\n\n        const { previousScore } = storage.getStorage('leaderboard_content')\n\n        let leaders = O.vals(this.currentLb.leaders)\n        leaders.sort((a, b) => b.score - a.score)\n\n        if (GameSDK.extra.isGuest) {\n            leaders = leaders.slice(0, 5)\n        }\n\n        const scoreChanging =\n            playerLeaderData &&\n            previousScore !== -1 &&\n            previousScore < playerLeaderData.score &&\n            playerLeaderData.rank <= this.leaders.maxLeader\n\n        this.leaders.updateData(leaders)\n\n        let rankChanging = false\n        if (scoreChanging) {\n            rankChanging = this.leaders.updateDisplayPlayerLeaderForRankChanging(\n                previousScore,\n                playerLeaderData.score,\n                playerLeaderData.rank,\n            )\n        }\n\n        this.leaders.initScrollViews()\n        this.leaders.scrollView.scrollView.enabled = true\n\n        const stagger = this.hasPlayedAppearAnim[type] ? 0 : 0.1\n        await signal.callAsync(() => this.leaders.playShowLeadersAnimation(signal, stagger))\n        this.hasPlayedAppearAnim[type] = true\n\n        if (!playerLeaderData) return\n\n        await signal.callAsync(() => this.leaders.scrollToPlayerLeader(1, signal))\n\n        if (!rankChanging || previousScore === -1) return\n\n        await signal.callAsync((s) =>\n            this.leaders.playRankChangeAnimation(s, previousScore, playerLeaderData.score, playerLeaderData.rank),\n        )\n\n        storage.setStorageData('leaderboard_content', 'previousScore', playerLeaderData.score)\n    }\n\n    private updateOverlay$ = async (type: LeaderboardType): Promise<boolean> => {\n        if (!this.currentLb) return false\n\n        const sortedLeaders = O.vals(this.currentLb.leaders)\n        sortedLeaders.sort((a, b) => b.score - a.score)\n\n        const leaderboardPlayers = sortedLeaders.map((leader) => {\n            const correctRankText = leader.rank > 50 ? '50+' : `${leader.rank}`\n\n            return {\n                playerId: leader.playerId,\n                rank: correctRankText,\n                score: leader.score,\n            }\n        })\n\n        const correctOverlay = this.getCorrectOverlay$(type)\n        if (!correctOverlay) return false\n\n        const result = await correctOverlay?.updateOverlay({\n            leaderboardPlayers,\n            leaderboardPosition: this.getLeaderboardSize$(),\n            currentPlayerId: player.getPlayerId(),\n        })\n\n        return result ?? false\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async loadPlayerLeaderData(type: LeaderboardType): Promise<void> {\n        const playerId = player.getPlayerId()\n\n        if (this.currentLb === null) {\n            throw new Error('LeaderboardContent: Leaderboard is not found.')\n        }\n\n        const leaders = this.currentLb.leaders\n\n        if (Object.keys(leaders).length === 0) {\n            throw new EmptyLeaderboardError('LeaderboardContent: Leaderboard is empty.')\n        }\n\n        const leaderData = leaders[playerId]\n        if (leaderData) return\n\n        const leaderboardName = this.getLeaderboardName$(type)\n        if (leaderboardName === null) {\n            throw new Error('LeaderboardContent: Leaderboard name is not found.')\n        }\n\n        const leadersByIds = await leaderboard.getLeadersByPlayerIdsAsync(leaderboardName, [playerId])\n\n        if (leadersByIds.length === 0) {\n            return\n        }\n\n        const data = leadersByIds[0]\n        if (!data) return\n\n        leaders[playerId] = data\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private updateJoinLeaderboardButton(): void {\n        if (!GameSDK.extra.isGuest) return\n        if (this.isOverlayMode) return\n\n        let y: number | undefined = undefined\n        const nodes = this.leaders.scrollView.getVisibleNodes()\n\n        if (nodes.length === 0) {\n            y = this.leaders.scrollView.viewport.getBoundingBoxToWorld().center.y\n        } else {\n            const lastNode = nodes[nodes.length - 1] as (typeof nodes)[number]\n            const containerHeight = this.joinLeaderboardContainer.uiTransform.height\n            const spacing = 20\n            const newY = lastNode.node.worldPosition.y - containerHeight - spacing\n            const bottomY = newY - containerHeight / 2\n            const { yMin: bot } = this.leaders.scrollView.viewport.getBoundingBoxToWorld()\n\n            if (bottomY >= bot) y = newY\n        }\n\n        this.joinLeaderboardContainer.updatePosition(y)\n    }\n\n    private handleViewResized$ = (): void => {\n        this.updateJoinLeaderboardButton()\n    }\n\n    private handleWeeklyTabSelected$ = async (): Promise<void> => {\n        storage.setStorageData('leaderboard_content', 'lastTabOpened', LeaderboardTypes.WEEKLY)\n        this.cleanupSideEffects$()\n\n        this.currentTab = LeaderboardTypes.WEEKLY\n        const signal = this.animAbortSignal\n\n        try {\n            await this.updateStatus(signal, LeaderboardTypes.WEEKLY)\n        } catch (error) {\n            signal.call(() => {\n                const err =\n                    error instanceof Error\n                        ? error\n                        : new Error('Unknown error during loading global weekly leaderboard.')\n\n                console.error('LeaderboardContent', err)\n                monitorError?.sendException(err)\n                ScreenUtils.showNotificationScreenWithLocalizedKey('error.noFriendsLb', 2)\n            })\n        }\n    }\n\n    private handleDailyTabSelected$ = async (): Promise<void> => {\n        storage.setStorageData('leaderboard_content', 'lastTabOpened', LeaderboardTypes.DAILY)\n        this.cleanupSideEffects$()\n\n        this.currentTab = LeaderboardTypes.DAILY\n        const signal = this.animAbortSignal\n\n        try {\n            await this.updateStatus(signal, LeaderboardTypes.DAILY)\n        } catch (error) {\n            signal.call(() => {\n                const err =\n                    error instanceof Error ? error : new Error('Unknown error during loading global leaderboard.')\n\n                console.error('LeaderboardContent', err)\n                monitorError?.sendException(err)\n                ScreenUtils.showNotificationScreenWithLocalizedKey('error.noWorldLb', 2)\n            })\n        }\n    }\n\n    private hideContent$ = () => {\n        this.contentOpacity.changeStateFade(false, 0.1)\n        this.updateOverlayMountStatus(false)\n        this.dailyFBOverlay?.handleHideUICall()\n        this.weeklyFBOverlay?.handleHideUICall()\n    }\n\n    private showContent$ = () => {\n        this.contentOpacity.changeStateFade(true, 0.1)\n        this.updateOverlayMountStatus(true)\n        this.handleOverlayShowUICall$()\n    }\n\n    private handleOverlayShowUICall$ = () => {\n        if (!this.isOverlayMode) return\n\n        if (this.currentTab === LeaderboardTypes.WEEKLY) {\n            this.weeklyFBOverlay?.handleShowUICall()\n        } else {\n            this.dailyFBOverlay?.handleShowUICall()\n        }\n    }\n\n    // ? Callback for join leaderboard button\n    public async handleJoinLeaderboard(): Promise<void> {\n        try {\n            if (!('initPlayerAsync' in GameSDK.player)) return\n\n            ScreenUtils.showLoadingScreen()\n            await GameSDK.player.initPlayerAsync()\n            ScreenUtils.closeLoadingScreen()\n\n            if (GameSDK.extra.isGuest) {\n                ScreenUtils.showNotificationScreenWithLocalizedKey('error.joinLb', 1)\n                return\n            }\n        } catch (error) {\n            console.warn('Join leaderboard failed', error)\n            ScreenUtils.closeLoadingScreen()\n            ScreenUtils.showNotificationScreenWithLocalizedKey('error.joinLb', 1)\n        }\n    }\n\n    private createFBOverlay$ = (): void => {\n        try {\n            OverlayUtils.isOverlayViewAPIAvailable(GameSDK)\n\n            this.isOverlayMode = true\n            this.dailyFBOverlay = new LeaderboardContentOverlay(this.node.scene)\n            this.weeklyFBOverlay = new LeaderboardContentOverlay(this.node.scene)\n        } catch {\n            return\n        }\n    }\n\n    private getLeaderboardSize$ = (): { worldX: number; worldY: number; width: number; height: number } => {\n        const leaderboardUITransform = this.leaders.getComponent(UITransform)\n        if (!leaderboardUITransform)\n            return {\n                worldX: 0,\n                worldY: 0,\n                width: 0,\n                height: 0,\n            }\n\n        const { width, height } = leaderboardUITransform\n        const { worldPositionX, worldPositionY } = this.leaders.node\n\n        return {\n            worldX: worldPositionX,\n            worldY: worldPositionY,\n            width,\n            height,\n        }\n    }\n\n    private getCorrectOverlay$ = (type: LeaderboardType): LeaderboardContentOverlay | null => {\n        return type === LeaderboardTypes.DAILY ? this.dailyFBOverlay : this.weeklyFBOverlay\n    }\n\n    private enableOverlayLoadingNode$ = (): void => {\n        this.loadingNode.active = true\n    }\n\n    private disableOverlayLoadingNode$ = (): void => {\n        this.loadingNode.active = false\n    }\n}\n","import { _decorator, tween } from 'cc'\nimport { PanelAnimationController } from '../../../../../components/panel-animator/PanelAnimationController'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport { DashboardPage } from '../DashboardPage'\nimport { LeaderboardContent } from './LeaderboardContent'\n\nconst { ccclass } = _decorator\n\n@ccclass('LeaderboardPage')\nexport class LeaderboardPage extends DashboardPage {\n    private content!: LeaderboardContent\n\n    @ComponentUtils.required()\n    private panelAnimationController!: PanelAnimationController\n\n    public onLoad(): void {\n        this.panelAnimationController = this.getComponent(PanelAnimationController) as PanelAnimationController\n        super.onLoad()\n    }\n\n    public async start(): Promise<void> {\n        super.start()\n\n        // this.pagePrefab = GeneralUtils.getAsset(ResourcePaths.LEADERBOARD_PAGE, Prefab)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public override async mount(): Promise<void> {\n        // if (!this.pagePrefab) {\n        //     const data = await GeneralUtils.loadPrefabAsync(ResourcePaths.LEADERBOARD_PAGE)\n        //     if (data && this.node) {\n        //         this.pagePrefab = data\n        //     }\n        // }\n\n        await super.mount()\n\n        this.containerUIOpacity.opacity = 0\n\n        this.content = this.container.getComponentInChildren(LeaderboardContent)!\n        this.content.updateOverlayMountStatus(true)\n\n        if (!this.content) {\n            throw new Error('LeaderboardPage: Leaders not found')\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public override async transitionIn(): Promise<void> {\n        this.content.entering()\n\n        await super.transitionIn()\n\n        const fadeIn = AnimUtils.runTweenAsync(tween(this.containerUIOpacity).to(0.2, { opacity: 255 }))\n\n        const uiAnim = this.panelAnimationController.showUI()\n\n        this.content.listenEvents()\n\n        await Promise.all([fadeIn, uiAnim])\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public override async transitionOut(): Promise<void> {\n        await super.transitionOut()\n\n        this.content.cleanupOverlay()\n        this.content.unlistenUIEvents()\n\n        await this.panelAnimationController.hideUI()\n    }\n\n    public override unmount(): void {\n        this.content?.hide()\n        this.content?.cleanup()\n        this.content?.updateOverlayMountStatus(false)\n        super.unmount()\n    }\n}\n","import ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport AnimAbortSignal from 'db://assets/utils/common/AnimAbortSignal'\nimport { _decorator, Component, Label, Mask, Node, Sprite, type SpriteFrame, tween, UIOpacity, Vec3 } from 'cc'\nimport AnimUtils from '../../../utils/AnimUtils'\nimport CacheUtils from '../../../utils/CacheUtils'\n\nconst { ccclass, property } = _decorator\n\nexport interface LeaderConfig {\n    playerId: string\n    name: string\n    photo: string\n    score: number\n}\n\nconst {\n    Utils: { Number: N },\n} = Ludex\n\n@ccclass('TopLeader')\nexport class TopLeader extends Component {\n    @property(Label)\n    private nameLabel: Label | null = null\n\n    @property(Node)\n    private defaultAvatar!: Node\n\n    @property({ type: Sprite })\n    private avatar!: Sprite\n\n    @property({ type: Mask })\n    private mask!: Mask\n\n    @property({ type: UIOpacity })\n    private avatarOpacity!: UIOpacity\n\n    @property({ type: Label })\n    private scoreLabel: Label | null = null\n\n    @property({ type: UIOpacity })\n    private uiOpacity!: UIOpacity\n\n    private signal: AnimAbortSignal = new AnimAbortSignal()\n\n    public onLoad() {\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public updateInfo(payload: LeaderConfig): void {\n        this.updateUsername(payload)\n        this.updatePhoto(payload)\n        this.updateScore(payload)\n    }\n\n    private updateUsername(payload: LeaderConfig): void {\n        if (!this.nameLabel) return\n        this.nameLabel.string = payload.name\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async updatePhoto(payload: Pick<LeaderConfig, 'photo' | 'playerId'>): Promise<void> {\n        this.signal.abort()\n        const signal = new AnimAbortSignal()\n        this.signal = signal\n\n        this.mask.enabled = false\n        this.defaultAvatar.active = !CacheUtils.isAvatarCached(payload.playerId, 128)\n        this.avatar.spriteFrame = null\n\n        const { playerId, photo } = payload\n\n        const spriteFrame = await CacheUtils.getPlayerAvatar(photo, playerId, 128, signal)\n        if (!spriteFrame || signal.aborted) return\n\n        this.setPhoto(spriteFrame)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async setPhoto(spriteFrame: SpriteFrame): Promise<void> {\n        if (!this.node.active) return\n\n        spriteFrame.packable = true\n        this.avatar.spriteFrame = spriteFrame\n\n        const avatarTween = tween(this.avatarOpacity).to(0.2, { opacity: 255 })\n\n        await AnimUtils.runTweenAsync(avatarTween, this.signal)\n\n        if (!this.enabledInHierarchy) return\n\n        this.mask.enabled = true\n        this.defaultAvatar.active = false\n    }\n\n    public updateScore(payload: LeaderConfig): void {\n        if (!this.scoreLabel) return\n\n        const score = Math.floor(payload.score)\n        this.scoreLabel.string = N.getShortNumber(score, 7)\n    }\n\n    public async runShowUpAnimation(delay: number, duration = 0.3, signal?: AnimAbortSignal): Promise<void> {\n        this.node.scale = Vec3.ZERO\n\n        const scaleTween = tween(this.node)\n            .delay(delay)\n            .to(duration, { scale: new Vec3(1, 1, 1) }, { easing: 'backOut' })\n\n        const opacityTween = tween(this.uiOpacity).delay(delay).to(duration, { opacity: 255 })\n\n        await Promise.all([AnimUtils.runTweenAsync(scaleTween, signal), AnimUtils.runTweenAsync(opacityTween, signal)])\n    }\n\n    public setVisible(visible: boolean): void {\n        const opacity = visible ? 255 : 0\n\n        this.uiOpacity.opacity = opacity\n        this.avatarOpacity.opacity = opacity\n    }\n}\n","import { _decorator, Component, Label, Node, Sprite, SpriteFrame, tween, UIOpacity, UITransform, Vec3 } from 'cc'\nimport { Localize } from '../../../../../components/text/Localize'\nimport TournamentEvents from '../../../../../constants/Tournament'\nimport ThemeKeys from '../../../../../gameplay/constants/ThemeKeys'\nimport { ThemePreviewResourcesMapping } from '../../../../../gameplay/constants/ThemeResourcesPath'\nimport { TopLeader } from '../../../../../screens/tournament-detail-screen/components/TopLeader'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\nimport LeaderboardUtils from '../../../../../utils/LeaderboardUtils'\nimport ResourceUtils from '../../../../../utils/ResourceUtils'\nimport ScreenUtils from '../../../../../utils/ScreenUtils'\nimport TournamentUtils, { type TournamentData } from '../../../../../utils/TournamentUtils'\nimport type { ITournamentLeadersPayload } from './TournamentContent'\n\nconst { ccclass, property } = _decorator\n\nconst { leaderboard, player, language } = codex\n\nconst {\n    Utils: { Time: T, Object: O, Array: A, Number: N },\n} = Ludex\n\n@ccclass('TournamentBlock')\nexport class TournamentBlock extends Component {\n    @ComponentUtils.required()\n    @property(Node)\n    private readonly container!: Node\n\n    @ComponentUtils.required()\n    @property(Label)\n    private readonly title!: Label\n\n    @ComponentUtils.required()\n    @property({ type: Localize, group: 'Localize' })\n    private readonly titleLocalizer!: Localize\n\n    @ComponentUtils.required()\n    @property({ type: Localize, group: 'Localize' })\n    private readonly timeLocalizer!: Localize\n\n    @ComponentUtils.required()\n    @property({ type: Localize, group: 'Localize' })\n    private readonly playerCountLocalizer!: Localize\n\n    @ComponentUtils.required()\n    @property({ type: Localize, group: 'Localize' })\n    private readonly playButtonLocalize!: Localize\n\n    @ComponentUtils.required()\n    @property(UITransform)\n    public uiTransform!: UITransform\n\n    @ComponentUtils.required()\n    @property(UIOpacity)\n    public uiOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property({ type: Sprite, group: 'Banner' })\n    private readonly banner!: Sprite\n\n    @ComponentUtils.required()\n    @property({ type: Node, group: 'Banner' })\n    private readonly bannerMask!: Node\n\n    @ComponentUtils.required()\n    @property({ type: Node, group: 'Banner' })\n    private readonly bannerLoadingRing!: Node\n\n    @ComponentUtils.required()\n    @property(TopLeader)\n    private readonly topLeader!: TopLeader\n\n    private payload!: TournamentData\n\n    private leadersPayload!: ITournamentLeadersPayload\n    private hasPlayedAnimation = false\n\n    protected __preload(): void {\n        ComponentUtils.validateRequiredProperties(this, TournamentBlock)\n    }\n\n    public async updateInfo(tournament: TournamentData): Promise<void> {\n        this.payload = tournament\n\n        const {\n            endTime,\n            title,\n            payload: { playerName },\n            tournamentType,\n        } = tournament\n        const { leaderboardId, themeId = ThemeKeys.AUTUMN } = tournament.payload\n\n        if (!leaderboardId) return\n        this.topLeader.setVisible(false)\n        this.topLeader.node.active = false\n\n        this.setPlayerCountWaiting()\n\n        if (tournamentType === 'PAGE_HOSTED') {\n            this.updateTitleTournamentTitle(title)\n        } else {\n            this.updateTitleWithPlayerName(playerName ?? title)\n        }\n\n        this.updateEndTime(endTime)\n        this.updateTournamentBanner(themeId)\n\n        const leadersPayload: ITournamentLeadersPayload = {\n            leaders: [],\n            amountPlayer: 0,\n        }\n\n        await this.fetchAndUpdateLeadersPayload(leaderboardId, leadersPayload, title)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async fetchAndUpdateLeadersPayload(\n        leaderboardId: string,\n        leadersPayload: ITournamentLeadersPayload,\n        title: string,\n    ) {\n        let payload = leadersPayload\n        try {\n            const result = await this.getLeadersPayload(leaderboardId)\n            if (result) {\n                payload = result\n            }\n        } catch (error) {\n            console.error(`Fetch lb for tournament ${title}`, error)\n        }\n\n        this.updateLeadersPayload(payload)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private updateLeadersPayload(leadersPayload: ITournamentLeadersPayload) {\n        this.leadersPayload = leadersPayload\n        const { player, amountPlayer, leaders } = this.leadersPayload\n\n        this.updatePlayerCount(amountPlayer)\n        this.updatePlayButtonLabel(player !== undefined)\n        this.updateTopLeader(leaders ?? [])\n    }\n\n    private updateTitleWithPlayerName(name?: string): void {\n        if (name === undefined) return\n        this.titleLocalizer.enabled = true\n        this.titleLocalizer.setParams([name])\n    }\n\n    private updateTitleTournamentTitle(title: string): void {\n        this.titleLocalizer.enabled = false\n        this.title.string = title\n    }\n\n    private updateEndTime(endTime: number): void {\n        try {\n            const timeString = T.getRelativeTime(endTime, language.getCurrentLocale())\n            this.timeLocalizer.key = 'game.endsIn'\n            this.timeLocalizer.setParams([timeString])\n        } catch (error) {\n            this.timeLocalizer.key = 'game.endsSoon'\n        }\n    }\n\n    private updatePlayerCount(count: number): void {\n        const shortPlayerNumber = N.getShortNumber(count, 3)\n\n        if (count === 1) {\n            this.playerCountLocalizer.key = 'game.player'\n        } else {\n            this.playerCountLocalizer.key = 'game.nPlayers'\n            this.playerCountLocalizer.setParams([shortPlayerNumber])\n        }\n    }\n\n    private setPlayerCountWaiting(): void {\n        this.playerCountLocalizer.key = 'status.loading'\n    }\n\n    private async updateTopLeader(leaders: Ludex.Plugins.Leaderboards.Leader[]): Promise<void> {\n        if (leaders.length === 0) return\n\n        let topLeader = leaders[0]\n        if (!topLeader) return\n\n        //? In production, leaders are already sorted\n        if (Ludex.Configs.Mockup.Leaderboards.Enabled) {\n            topLeader = A.search(leaders, (leader) => leader.rank === 1) ?? topLeader\n        }\n\n        this.topLeader.node.active = true\n        this.topLeader.updateInfo(topLeader)\n        this.topLeader.runShowUpAnimation(0, 0.2)\n    }\n\n    private async updateTournamentBanner(themeId: ThemeKeys): Promise<void> {\n        let sprite = ResourceUtils.getAsset(`${ThemePreviewResourcesMapping[themeId]}/spriteFrame`, SpriteFrame)\n\n        if (!sprite) {\n            this.bannerMask.active = true\n            this.bannerLoadingRing.active = true\n            sprite = await ResourceUtils.loadThemePreviewAsync(themeId)\n        }\n\n        if (!sprite) {\n            //? Fallback to summer theme\n            sprite = await ResourceUtils.loadThemePreviewAsync(ThemeKeys.SUMMER)\n        }\n\n        if (!this.banner || !sprite) return\n\n        this.banner.spriteFrame = sprite\n        this.bannerMask.active = false\n        this.bannerLoadingRing.active = false\n    }\n\n    private updatePlayButtonLabel(isPlayerInTournament: boolean): void {\n        this.playButtonLocalize.key = isPlayerInTournament ? 'game.continue' : 'game.join'\n    }\n\n    private async getLeadersPayload(leaderboardId: string): Promise<ITournamentLeadersPayload | null> {\n        const leaderboardName = leaderboard.getLeaderboardName(leaderboardId)\n        if (!leaderboardName) return null\n\n        const leaderboardData = await LeaderboardUtils.getAllLeaderboardAsync(leaderboardId)\n        if (!leaderboardData) return null\n\n        const leaders = O.vals(leaderboardData.leaders)\n        leaders.sort((a, b) => a.rank - b.rank)\n\n        const playerId = player.getPlayerId()\n        const playerData = await leaderboard.getLeadersByPlayerIdsAsync(leaderboardName, [playerId])\n\n        const leadersPayload: ITournamentLeadersPayload = {\n            leaders,\n            amountPlayer: leaderboardData.amountPlayer ?? 0,\n        }\n\n        if (playerData.length > 0) {\n            leadersPayload.player = playerData[0]\n        }\n\n        return leadersPayload\n    }\n\n    public async runShowPopUpAnimation(delay: number, duration: number, signal: AnimAbortSignal): Promise<void> {\n        this.node.scale = new Vec3(0.8, 0.8, 0.8)\n        this.uiOpacity.opacity = 0\n\n        const position = this.container.position.clone()\n        this.container.position = new Vec3(position.x, position.y - 100, position.z)\n\n        const tween1 = tween(this.node).delay(delay)\n        tween1.to(duration, { scale: Vec3.ONE }, { easing: 'elasticOut' })\n\n        const tween2 = tween(this.container).delay(delay)\n        tween2.to(duration, { position }, { easing: 'backOut' })\n\n        const tween3 = tween(this.uiOpacity).delay(delay)\n        tween3.to(duration, { opacity: 255 }, { easing: 'cubicOut' })\n\n        const cb = () => {\n            this.node.setScale(Vec3.ONE)\n            this.container.setPosition(position)\n            this.uiOpacity.opacity = 255\n        }\n\n        signal.addAbortListener(cb)\n\n        await Promise.all([\n            AnimUtils.runTweenAsync(tween1, signal),\n            AnimUtils.runTweenAsync(tween2, signal),\n            AnimUtils.runTweenAsync(tween3, signal),\n        ])\n\n        signal.removeAbortListener(cb)\n    }\n\n    public handleOnTournamentClicked(): void {\n        const tournamentId = this.payload.id || ''\n        const isTournamentExpired = TournamentUtils.validateTournamentExpired(tournamentId)\n\n        if (isTournamentExpired) {\n            this.node.scene.emit(TournamentEvents.RELOAD_TOURNAMENT)\n            ScreenUtils.showNotificationScreenWithLocalizedKey('error.tourEnded', 2)\n            return\n        }\n\n        try {\n            const tournamentData = JSON.stringify(this.payload)\n            const tournamentContextType = this.leadersPayload.player ? 'tournament_end' : 'tournament_start'\n            ScreenUtils.showTournamentDetailScreen(tournamentData, tournamentContextType, this.hasPlayedAnimation)\n            this.hasPlayedAnimation = true\n        } catch (error) {\n            console.warn('handleOnTournamentClicked', error)\n        }\n    }\n}\n","import { Node as CCNode, Component, UIOpacity, Vec3, _decorator, tween } from 'cc'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('TournamentBlockSkeleton')\nexport class TournamentBlockSkeleton extends Component {\n    private uiOpacity!: UIOpacity\n\n    @property(CCNode)\n    private container!: CCNode\n\n    public __preload(): void {\n        this.uiOpacity = this.getComponent(UIOpacity)!\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public async hide(signal: AnimAbortSignal): Promise<void> {\n        await AnimUtils.runTweenAsync(\n            tween(this.uiOpacity)\n                .to(0.2, {\n                    opacity: 0,\n                })\n                .call(() => {\n                    this.node.active = false\n                }),\n            signal,\n        )\n    }\n\n    public async show(delay: number, signal: AnimAbortSignal): Promise<void> {\n        this.node.active = true\n\n        this.node.scale = new Vec3(0.8, 0.8, 0.8)\n        this.uiOpacity.opacity = 0\n\n        const position = this.container.position.clone()\n        this.container.position = new Vec3(position.x, position.y - 100, position.z)\n\n        const scale = tween(this.node).delay(delay)\n        scale.to(0.2, { scale: Vec3.ONE }, { easing: 'elasticOut' })\n\n        const float = tween(this.container).delay(delay)\n        float.to(0.2, { position }, { easing: 'backOut' })\n\n        const opacity = tween(this.uiOpacity).delay(delay)\n        opacity.to(0.2, { opacity: 255 }, { easing: 'cubicOut' })\n\n        const cb = () => {\n            this.node.setScale(Vec3.ONE)\n            this.container.setPosition(position)\n            this.uiOpacity.opacity = 255\n        }\n\n        signal.addAbortListener(cb)\n\n        await Promise.all([\n            AnimUtils.runTweenAsync(scale, signal),\n            AnimUtils.runTweenAsync(float, signal),\n            AnimUtils.runTweenAsync(opacity, signal),\n        ])\n\n        signal.removeAbortListener(cb)\n    }\n}\n","import { _decorator, Component, instantiate, Layout, Node, Prefab, UIOpacity, UITransform } from 'cc'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\nimport type { TournamentData } from '../../../../../utils/TournamentUtils'\nimport { TournamentBlock } from './TournamentBlock'\n\nconst { ccclass, property } = _decorator\nconst { player } = codex\n\n@ccclass('TournamentsBoard')\nexport class TournamentsBoard extends Component {\n    @property(Prefab)\n    private tournamentBlockPrefab!: Prefab\n\n    private tournamentBlockArray: TournamentBlock[] = []\n\n    @property(Layout)\n    public layout!: Layout\n\n    @property(Node)\n    public createTournamentButton!: Node\n\n    @property(UITransform)\n    private viewport!: UITransform\n\n    private tournamentBlockContentHeight!: number\n\n    public uiOpacity!: UIOpacity\n\n    protected onLoad() {\n        this.uiOpacity = this.getComponent(UIOpacity)!\n\n        this.validateRequiredComponents()\n    }\n\n    public start() {\n        for (let index = 0; index < 6; index++) {\n            this.addTournamentBlock()\n        }\n\n        const tournamentBlock = this.tournamentBlockArray[0]\n\n        if (!tournamentBlock) return\n\n        this.tournamentBlockContentHeight = tournamentBlock.uiTransform.contentSize.height + this.layout.spacingY\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public updateData(data: TournamentData[]) {\n        let hasPlayerTournament = false\n\n        data.forEach((tournament, index) => {\n            let tournamentBlock = this.tournamentBlockArray[index]\n\n            if (tournament.payload.playerId === player.getPlayerId()) {\n                hasPlayerTournament = true\n            }\n\n            if (!tournamentBlock) {\n                tournamentBlock = this.addTournamentBlock()\n            }\n            tournamentBlock.node.active = true\n\n            tournamentBlock.updateInfo(tournament)\n        })\n\n        if (hasPlayerTournament) return\n\n        this.setCreateTournamentButtonActive(true)\n    }\n\n    public addTournamentBlock() {\n        const tournamentBlockNode = instantiate(this.tournamentBlockPrefab)\n\n        this.layout.node.addChild(tournamentBlockNode)\n        tournamentBlockNode.active = false\n\n        const tournamentBlock = tournamentBlockNode.getComponent(TournamentBlock)!\n        this.tournamentBlockArray.push(tournamentBlock)\n\n        return tournamentBlock\n    }\n\n    public removeTournamentBlocks(): void {\n        const tournamentBlocks = this.getActiveTournamentBlocks()\n\n        for (const block of tournamentBlocks) {\n            block.node.active = false\n        }\n\n        this.setCreateTournamentButtonActive(false)\n    }\n\n    private getActiveTournamentBlocks(): TournamentBlock[] {\n        return this.tournamentBlockArray.filter((tournamentBlock) => {\n            return tournamentBlock.node.parent === this.layout.node\n        })\n    }\n\n    private setCreateTournamentButtonActive(active: boolean): void {\n        if (!GameSDK.isGameSDK('FacebookInstant')) return\n\n        if (active) {\n            this.layout.node.addChild(this.createTournamentButton)\n        } else {\n            this.layout.node.removeChild(this.createTournamentButton)\n        }\n\n        this.createTournamentButton.active = active\n    }\n\n    public async showTournamentBlocks(contentHeight: number, signal: AnimAbortSignal): Promise<void> {\n        const tournaments = this.getActiveTournamentBlocks()\n\n        if (tournaments.length < 1) return\n\n        const minTournamentsShow = Math.ceil(contentHeight / this.tournamentBlockContentHeight)\n        const numberOfTournamentPlayShow = Math.min(tournaments.length, minTournamentsShow)\n        const duration = 0.3\n\n        await Promise.all(\n            tournaments.map(async (tournament, index) => {\n                if (index < numberOfTournamentPlayShow) {\n                    await tournament.runShowPopUpAnimation(index * 0.1, duration, signal)\n                    return\n                }\n\n                tournament.uiOpacity.opacity = 255\n            }),\n        )\n    }\n\n    public updateVisibility(): void {\n        const { yMax: top, yMin: bot } = this.viewport.getBoundingBoxToWorld()\n\n        const blocks = this.getActiveTournamentBlocks()\n\n        for (const tournamentBlock of blocks) {\n            const uiTransform = tournamentBlock.uiTransform\n\n            if (uiTransform === undefined) continue\n\n            const { yMax: topBlock, yMin: botBlock } = uiTransform.getBoundingBoxToWorld()\n\n            const isOffScreen = topBlock < bot || botBlock > top\n\n            tournamentBlock.uiOpacity.opacity = isOffScreen ? 0 : 255\n        }\n    }\n}\n","import { _decorator, Component, tween } from 'cc'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nconst { ccclass } = _decorator\n\n@ccclass('TournamentsNotAvailable')\nexport class TournamentsNotAvailable extends Component {\n    public onLoad(): void {\n        this.hide()\n    }\n\n    public async show(): Promise<void> {\n        this.node.active = true\n\n        const position = this.node.position.clone()\n\n        const shakeTween = tween(this.node)\n\n        shakeTween.to(0.05, { position: position.clone().add3f(5, 0, 0) })\n        shakeTween.to(0.05, { position: position.clone().add3f(-5, 0, 0) })\n\n        const returnTween = tween(this.node).repeat(2, shakeTween)\n\n        returnTween.to(0.05, { position })\n\n        await AnimUtils.runTweenAsync(returnTween)\n    }\n\n    public hide(): void {\n        this.node.active = false\n    }\n}\n","import { _decorator, Component, ScrollView, UITransform } from 'cc'\nimport { OpacityToggler } from '../../../../../components/common/OpacityToggler'\nimport { PanelAnimator } from '../../../../../components/panel-animator/PanelAnimator'\nimport TournamentEvents from '../../../../../constants/Tournament'\nimport GameplayEvents from '../../../../../gameplay/constants/GameEvents'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../../../../utils/common/AnimAbortSignal'\nimport MatchUtils from '../../../../../utils/MatchUtils'\nimport ScreenUtils from '../../../../../utils/ScreenUtils'\nimport TournamentUtils, { type TournamentData } from '../../../../../utils/TournamentUtils'\nimport { TournamentBlockSkeleton } from './TournamentBlockSkeleton'\nimport { TournamentsBoard } from './TournamentsBoard'\nimport { TournamentsNotAvailable } from './TournamentsNotAvailable'\n\nconst { ccclass, property } = _decorator\nconst { storage, match } = codex\n\nconst {\n    Utils: { Object: O, Array: A },\n} = Ludex\n\nexport interface ITournamentLeadersPayload {\n    leaders: Ludex.Plugins.Leaderboards.Leader[]\n    player?: Ludex.Plugins.Leaderboards.Leader\n    amountPlayer: number\n}\n\n@ccclass('TournamentContent')\nexport class TournamentContent extends Component {\n    @property({ type: PanelAnimator })\n    private panelAnimator!: PanelAnimator\n\n    @property(TournamentsBoard)\n    private tournamentsBoard!: TournamentsBoard\n\n    @property(TournamentsNotAvailable)\n    private tournamentsNotAvailable!: TournamentsNotAvailable\n\n    @property(ScrollView)\n    private scrollView!: ScrollView\n\n    @property({ type: [TournamentBlockSkeleton] })\n    private skeletons: TournamentBlockSkeleton[] = []\n\n    @property(OpacityToggler)\n    private contentOpacity!: OpacityToggler\n\n    private uiTransform!: UITransform\n\n    private animAbortSignal: AnimAbortSignal | null = null\n\n    //? soft abort signal should only be used for non-critical animations. called immediately upon page transitionOut\n    private softAbortSignal: AnimAbortSignal | null = null\n\n    public onLoad(): void {\n        this.uiTransform = this.node.getComponent(UITransform)!\n\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public listenEvents(): void {\n        this.scrollView.node.on(ScrollView.EventType.SCROLLING, this.onScrolling, this)\n\n        this.node.scene.on(TournamentEvents.RELOAD_TOURNAMENT, this.reload, this)\n        this.node.scene.on(GameplayEvents.HIDE_UI, this.hideContent)\n        this.node.scene.on(GameplayEvents.SHOW_UI, this.showContent)\n    }\n\n    private unlistenEvents(): void {\n        this.scrollView.node.off(ScrollView.EventType.SCROLLING, this.onScrolling, this)\n\n        this.node.scene.off(TournamentEvents.RELOAD_TOURNAMENT, this.reload, this)\n        this.unlistenUIEvents()\n    }\n\n    public unlistenUIEvents(): void {\n        this.node.scene.off(GameplayEvents.HIDE_UI, this.hideContent)\n        this.node.scene.off(GameplayEvents.SHOW_UI, this.showContent)\n    }\n\n    private hideContent = () => {\n        this.contentOpacity.changeStateFade(false, 0.1)\n    }\n\n    private showContent = () => {\n        this.contentOpacity.changeStateFade(true, 0.1)\n    }\n\n    private onScrolling(): void {\n        this.tournamentsBoard.updateVisibility()\n    }\n\n    public enableUIAnimator(): void {\n        this.panelAnimator.enabled = true\n    }\n\n    public disableUIAnimator(): void {\n        this.panelAnimator.enabled = false\n    }\n\n    public async enter(): Promise<void> {\n        if (this.animAbortSignal !== null || this.softAbortSignal !== null) {\n            return\n        }\n\n        this.animAbortSignal = new AnimAbortSignal()\n        this.softAbortSignal = new AnimAbortSignal()\n\n        await this.showLoading(this.animAbortSignal)\n        if (this.isAborted()) return\n\n        const tournamentData: TournamentData[] = await TournamentUtils.requestTournamentDataAsync()\n        if (this.isAborted()) return\n\n        await this.hideLoading(this.animAbortSignal)\n        if (this.isAborted()) return\n\n        if (tournamentData.length === 0 && !this.softAbortSignal?.aborted) {\n            this.tournamentsNotAvailable.show()\n            return\n        }\n\n        this.tournamentsNotAvailable.hide()\n\n        this.tryShowTournamentResult()\n\n        this.scrollView.enabled = true\n\n        this.tournamentsBoard.updateData(tournamentData)\n\n        await this.tournamentsBoard.showTournamentBlocks(\n            this.uiTransform.contentSize.height - this.tournamentsBoard.layout.paddingTop,\n            this.animAbortSignal,\n        )\n\n        this.tournamentsBoard.updateVisibility()\n    }\n\n    public async showLoading(signal: AnimAbortSignal): Promise<void> {\n        this.scrollView.scrollToTop(0)\n        this.scrollView.enabled = false\n\n        await Promise.all([this.skeletons.map((skeleton) => skeleton.show(0, signal))])\n    }\n\n    private async hideLoading(signal: AnimAbortSignal): Promise<void> {\n        await Promise.all([this.skeletons.map((skeleton) => skeleton.hide(signal))])\n    }\n\n    private tryShowTournamentResult(): void {\n        try {\n            const { animateTournamentLeader } = storage.getStorage('tournament')\n            if (!animateTournamentLeader) return\n\n            const tournamentData = TournamentUtils.getAllTournamentData()\n\n            const { tournamentId } = match.getMatchState().customData\n            if (!tournamentId) throw new Error('Tournament ID not found')\n\n            const tournament = A.search(tournamentData, (tournament) => tournament.id === tournamentId)\n            if (!tournament) throw new Error('Tournament not found')\n\n            const data = JSON.stringify(tournament)\n            ScreenUtils.showTournamentDetailScreen(data, 'tournament_end')\n        } catch (error) {\n            storage.setStorageData('tournament', 'animateTournamentLeader', false)\n            console.warn('showTournamentResult', error)\n        }\n    }\n\n    public async processCreateTournament() {\n        try {\n            await MatchUtils.processCreateTournamentAsync()\n        } catch (error) {\n            if (!O.hasOwn(error, 'code')) {\n                ScreenUtils.showNotificationScreenWithLocalizedKey('error.createTourFail', 2)\n                return\n            }\n\n            if (error.code === 'USER_INPUT') return\n\n            if (error.code === 'PLAYER_HAS_TOURNAMENT') {\n                ScreenUtils.showNotificationScreenWithLocalizedKey('error.tourExists', 2)\n                return\n            }\n\n            if (error.code === 'INVALID_OPERATION' && O.hasOwn(error, 'message') && typeof error.message === 'string') {\n                ScreenUtils.showNotificationScreen(error.message, 2)\n            }\n\n            ScreenUtils.showNotificationScreenWithLocalizedKey('error.createTourFail', 2)\n        }\n\n        this.reload()\n    }\n\n    public isAborted(): boolean {\n        return this.animAbortSignal?.aborted ?? true\n    }\n\n    public cleanup(): void {\n        this.unlistenEvents()\n\n        this.animAbortSignal?.abort()\n        this.animAbortSignal = null\n\n        this.tournamentsBoard.removeTournamentBlocks()\n        this.tournamentsNotAvailable.hide()\n    }\n\n    public softAbort(): void {\n        this.softAbortSignal?.abort()\n        this.softAbortSignal = null\n    }\n\n    public reload(): void {\n        this.softAbort()\n        this.cleanup()\n        this.listenEvents()\n        this.enter()\n    }\n}\n","import { _decorator, tween } from 'cc'\nimport { PanelAnimationController } from '../../../../../components/panel-animator/PanelAnimationController'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport { DashboardPage } from '../DashboardPage'\nimport { TournamentContent } from './TournamentContent'\nconst { ccclass } = _decorator\n\n@ccclass('TournamentPage')\nexport class TournamentPage extends DashboardPage {\n    private content!: TournamentContent\n\n    @ComponentUtils.required()\n    private panelAnimationController!: PanelAnimationController\n\n    public onLoad(): void {\n        this.panelAnimationController = this.getComponent(PanelAnimationController) as PanelAnimationController\n        super.onLoad()\n    }\n\n    public async start(): Promise<void> {\n        super.start()\n\n        // this.pagePrefab = GeneralUtils.getAsset(ResourcePaths.TOURNAMENTS_PAGE, Prefab)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public override async mount(): Promise<void> {\n        // if (!this.pagePrefab) {\n        //     const data = await GeneralUtils.loadPrefabAsync(ResourcePaths.TOURNAMENTS_PAGE)\n        //     if (data && this.node) {\n        //         this.pagePrefab = data\n        //     }\n        // }\n\n        await super.mount()\n        this.onMount()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private onMount() {\n        this.containerUIOpacity.opacity = 0\n\n        this.content = this.container.getComponentInChildren(TournamentContent)!\n\n        if (!this.content) {\n            throw new Error('LeaderboardPage: Leaders not found')\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public override async transitionIn(): Promise<void> {\n        await super.transitionIn()\n\n        const fadeIn = AnimUtils.runTweenAsync(tween(this.containerUIOpacity).to(0.2, { opacity: 255 }))\n\n        const uiAnim = this.panelAnimationController.showUI()\n\n        this.content.listenEvents()\n\n        await Promise.all([fadeIn, uiAnim])\n\n        this.content.enter()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public override async transitionOut(): Promise<void> {\n        this.content?.softAbort()\n        this.content.unlistenUIEvents()\n        await super.transitionOut()\n\n        await this.panelAnimationController.hideUI()\n    }\n\n    public override unmount(): void {\n        this.content?.cleanup()\n        super.unmount()\n    }\n}\n","import { CCString, Component, Label, _decorator } from 'cc'\nconst { ccclass, property } = _decorator\n\n@ccclass('EventBadge')\nexport class EventBadge extends Component {\n    @property(Label)\n    private label!: Label\n\n    @property(CCString)\n    public get text(): string {\n        return this.label.string\n    }\n\n    public set text(value: string) {\n        this.label.string = value\n    }\n\n    public onLoad(): void {\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        if (!this.label) {\n            throw new Error('EventBadge: Missing required component Label')\n        }\n    }\n}\n","import { CCString, Component, Label, _decorator } from 'cc'\nimport { TapperedProgressBar } from '../../../../../../components/tappered-progress-bar/TapperedProgressBar'\nconst { ccclass, property } = _decorator\n\n@ccclass('EventProgressBar')\nexport class EventProgressBar extends Component {\n    @property(TapperedProgressBar)\n    private progressBar!: TapperedProgressBar\n\n    @property(Label)\n    private progressLabel!: Label\n\n    @property(CCString)\n    public get text(): string {\n        return this.progressLabel.string\n    }\n\n    @property({\n        range: [0, 1, 0.01],\n        slide: true,\n        tooltip: 'i18n:progress.progress',\n    })\n    public get progress(): number {\n        return this.progressBar.progress\n    }\n\n    public set progress(value: number) {\n        this.progressBar.progress = value\n    }\n\n    public set text(value: string) {\n        this.progressLabel.string = value\n    }\n\n    public __preload(): void {\n        // called before onLoad, use for initialization\n    }\n\n    public onLoad(): void {\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        if (!this.progressBar) {\n            throw new Error('EventProgressBar: Missing required component TapperedProgressBar')\n        }\n\n        if (!this.progressLabel) {\n            throw new Error('EventProgressBar: Missing required component Label')\n        }\n    }\n}\n","import {\n    CCBoolean,\n    CCFloat,\n    Node as CCNode,\n    Component,\n    Enum,\n    type EventTouch,\n    Node,\n    UIOpacity,\n    UITransform,\n    Vec3,\n    _decorator,\n    easing,\n    lerp,\n    tween,\n} from 'cc'\nimport { EDITOR_NOT_IN_PREVIEW } from 'cc/env'\nimport DashboardScreens from '../../../../../../constants/DashboardScreens'\nimport { CodeSoundKeys } from '../../../../../../constants/SoundKeys'\nimport AnalyticsUtils from '../../../../../../utils/AnalyticsUtils'\nimport AnimUtils from '../../../../../../utils/AnimUtils'\nimport AudioUtils from '../../../../../../utils/AudioUtils'\nimport ComponentUtils from '../../../../../../utils/ComponentUtils'\nimport { NavManager } from './NavManager'\nconst { ccclass, property, executeInEditMode } = _decorator\n\nconst { analytics } = codex\nconst { Plugins } = Ludex\n\nconst { Events: AnalyticsEvents } = Plugins.Analytics ?? {}\n\n@ccclass('NavButton')\n@executeInEditMode\nexport class NavButton extends Component {\n    // ! Remove this when other screens are ready\n    @property(CCBoolean)\n    private wip = false\n\n    public get isWIP(): boolean {\n        return this.wip\n    }\n\n    @property({\n        group: { name: 'Animation' },\n        displayName: 'Is Selected',\n        tooltip: 'This is for the editor only and will be ignored at runtime',\n        editorOnly: true,\n    })\n    private isSelectedInEditor = false\n\n    @property({ type: CCFloat, group: { name: 'Animation' } })\n    private animationDuration = 0.3\n\n    @property({ type: CCFloat, group: { name: 'Animation' } })\n    private selectedSpacing = 150\n\n    @property({ type: CCFloat, group: { name: 'Animation' } })\n    private deselectedSpacing = 88\n\n    @property({ type: CCFloat, group: { name: 'Animation' } })\n    private selectedIconY = 20\n\n    @property({ type: CCFloat, group: { name: 'Animation' } })\n    private selectedIconX = 0\n\n    @property({ group: { name: 'Animation' } })\n    private selectedIconScale = new Vec3(1, 1, 1)\n\n    @property({ type: CCFloat, group: { name: 'Animation' } })\n    private deselectedIconY = 0\n\n    @property({ type: CCFloat, group: { name: 'Animation' } })\n    private deselectedIconX = 0\n\n    @property({ group: { name: 'Animation' } })\n    private deselectedIconScale = new Vec3(0.8, 0.8, 1)\n\n    @property({ type: CCFloat, group: { name: 'Animation' } })\n    private initTextY = -100\n\n    @property({ type: CCFloat, group: { name: 'Animation' } })\n    private selectedTextY = -10\n\n    @property({ type: CCFloat, group: { name: 'Animation' } })\n    private selectedTextX = 0\n\n    @property({ type: CCFloat, group: { name: 'Animation' } })\n    private deselectedTextY = 0\n\n    @property({ type: CCFloat, group: { name: 'Animation' } })\n    private deselectedTextX = 0\n\n    @property({ type: UITransform })\n    private spacer!: UITransform\n\n    @property(CCNode)\n    private icon!: CCNode\n\n    @property(UIOpacity)\n    private text!: UIOpacity\n\n    @property({ type: UITransform })\n    private uiTransform!: UITransform\n\n    @property({ type: Enum(DashboardScreens) })\n    private screenType!: DashboardScreens\n\n    public get buttonType(): DashboardScreens {\n        return this.screenType\n    }\n\n    @property(NavManager)\n    public navManager!: NavManager\n\n    private isSelected: boolean = false\n\n    public update() {\n        if (EDITOR_NOT_IN_PREVIEW) {\n            this.onEditorUpdate()\n        }\n    }\n\n    public onEnable() {\n        //? Support for window\n        this.node.on(Node.EventType.MOUSE_ENTER, this.onMouseEnter)\n        this.node.on(Node.EventType.MOUSE_LEAVE, this.onMouseLeave)\n    }\n\n    public onDisable() {\n        //? Support for window\n        this.node.off(Node.EventType.MOUSE_ENTER, this.onMouseEnter)\n        this.node.off(Node.EventType.MOUSE_LEAVE, this.onMouseLeave)\n    }\n\n    private onMouseEnter = (_event: EventTouch) => {\n        if (this.isSelected) return\n\n        this.playHoverOnAnimation()\n    }\n\n    private onMouseLeave = (_event: EventTouch) => {\n        if (this.isSelected) return\n\n        this.playHoverOffAnimation()\n    }\n\n    private onEditorUpdate() {\n        if (this.icon === null || this.icon === undefined) {\n            return\n        }\n        if (this.text === null || this.icon === undefined) {\n            return\n        }\n        if (this.spacer === null || this.spacer === undefined) {\n            return\n        }\n\n        if (this.isSelectedInEditor) {\n            this.icon.setScale(this.selectedIconScale)\n            this.icon.setPosition(this.selectedIconX, this.selectedIconY, 0)\n\n            this.text.node.setPosition(this.selectedTextX, this.selectedTextY, 0)\n\n            this.spacer.width = this.selectedSpacing\n\n            this.text.opacity = 255\n        } else {\n            this.icon.setScale(this.deselectedIconScale)\n            this.icon.setPosition(this.deselectedIconX, this.deselectedIconY, 0)\n\n            this.text.node.setPosition(this.deselectedTextX, this.initTextY, 0)\n\n            this.spacer.width = this.deselectedSpacing\n\n            this.text.opacity = 0\n        }\n    }\n\n    public setSelected() {\n        if (this.isSelected) {\n            return\n        }\n\n        AudioUtils.playSound(CodeSoundKeys.PATCH_SHIFT)\n        this.navManager.selectUsingSceneTransition(this)\n\n        if (AnalyticsEvents) {\n            analytics.event(AnalyticsEvents.BUTTON_CLICK, {\n                button_name: this.node.parent?.name ?? this.node.name,\n                screen_name: AnalyticsUtils.getCurrentPage(),\n            })\n        }\n    }\n\n    public async select(animateSelect = true): Promise<void> {\n        if (this.isSelected) {\n            throw new Error('NavButton: Already selected')\n        }\n\n        this.isSelected = true\n\n        if (animateSelect) {\n            await AnimUtils.runTweenAsync(this.playSelectAnimation())\n        } else {\n            this.icon.setScale(this.selectedIconScale)\n            this.icon.setPosition(this.selectedIconX, this.selectedIconY, 0)\n\n            this.text.node.setPosition(this.selectedTextX, this.selectedTextY, 0)\n\n            this.spacer.width = this.selectedSpacing\n\n            this.text.opacity = 255\n        }\n    }\n\n    public async deselect(animate = true, force = false): Promise<void> {\n        if (!this.isSelected && !force) {\n            throw new Error('NavButton: Already deselected')\n        }\n\n        this.isSelected = false\n        if (animate) {\n            await AnimUtils.runTweenAsync(this.deselectAnimation())\n        } else {\n            this.icon.setScale(this.deselectedIconScale)\n            this.icon.setPosition(this.deselectedIconX, this.deselectedIconY, 0)\n\n            this.text.node.setPosition(this.deselectedTextX, this.deselectedTextY, 0)\n\n            this.spacer.width = this.deselectedSpacing\n\n            this.text.opacity = 0\n        }\n    }\n\n    public getSelectedWorldDistanceX(): number {\n        const deselPos = new Vec3(this.selectedIconX, this.selectedIconY, 0)\n        const selPos = new Vec3(this.deselectedIconX, this.deselectedIconY, 0)\n\n        const ogScale = this.node.scale.clone()\n\n        //? This is to get the world position of the icon as if it was selected\n        this.node.scale = this.selectedIconScale\n        const deselWorldPos = this.uiTransform.convertToWorldSpaceAR(deselPos)\n        const selWorldPos = this.uiTransform.convertToWorldSpaceAR(selPos)\n\n        //? Restore the original scale\n        this.node.scale = ogScale\n\n        return selWorldPos.x - deselWorldPos.x\n    }\n\n    private playHoverOnAnimation() {\n        const t = tween(this.icon)\n        t.to(\n            0.1,\n            {\n                scale: this.deselectedIconScale.clone().add3f(0.1, 0.1, 0),\n            },\n            {\n                easing: 'cubicIn',\n            },\n        )\n\n        return AnimUtils.runTweenAsync(t)\n    }\n\n    private playHoverOffAnimation() {\n        const t = tween(this.icon)\n        t.to(\n            0.1,\n            {\n                scale: this.deselectedIconScale,\n            },\n            {\n                easing: 'cubicOut',\n            },\n        )\n\n        return AnimUtils.runTweenAsync(t)\n    }\n\n    private playSelectAnimation() {\n        return tween(this.spacer).to(\n            this.animationDuration,\n            {\n                width: this.selectedSpacing,\n            },\n            {\n                easing: 'linear',\n                onUpdate: (_target, ratio) => {\n                    if (ratio === undefined) return\n\n                    const easedRatio = easing.quintInOut(ratio)\n                    const backRatio = easing.backOut(ratio)\n                    const linearRatio = easing.linear(ratio)\n                    const halfRatio = ratio < 0.5 ? ratio * 2 : 1\n\n                    const iconNextY = this.deselectedIconY + (this.selectedIconY - this.deselectedIconY) * backRatio\n\n                    const iconNextX = this.deselectedIconX + (this.selectedIconX - this.deselectedIconX) * linearRatio\n\n                    this.icon.setPosition(iconNextX, iconNextY, 0)\n\n                    const iconNextScale = this.deselectedIconScale.clone().lerp(this.selectedIconScale, easedRatio)\n\n                    this.icon.setScale(iconNextScale.x, iconNextScale.y, this.icon.scale.z)\n\n                    const textNextOpacity = halfRatio * 255\n                    const textNextY = this.deselectedTextY + (this.selectedTextY - this.deselectedTextY) * linearRatio\n\n                    const textNextX = this.deselectedTextX + (this.selectedTextX - this.deselectedTextX) * linearRatio\n\n                    this.text.opacity = textNextOpacity\n                    this.text.node.setPosition(textNextX, textNextY, 0)\n                },\n            },\n        )\n    }\n\n    private deselectAnimation() {\n        return tween(this.spacer).to(\n            this.animationDuration,\n            {\n                width: this.deselectedSpacing,\n            },\n            {\n                easing: 'linear',\n                onUpdate: (_target, ratio) => {\n                    if (ratio === undefined) return\n\n                    const iconNextY = lerp(this.selectedIconY, this.deselectedIconY, ratio)\n                    const iconNextX = lerp(this.selectedIconX, this.deselectedIconX, ratio)\n                    this.icon.setPosition(iconNextX, iconNextY, 0)\n\n                    const halfRatio = ratio < 0.5 ? ratio * 2 : 1\n                    const textNextOpacity = lerp(255, 0, halfRatio)\n                    this.text.opacity = textNextOpacity\n\n                    const textNextY = lerp(this.selectedTextY, this.deselectedTextY, ratio)\n                    const textNextX = lerp(this.selectedTextX, this.deselectedTextX, ratio)\n                    this.text.node.setPosition(textNextX, textNextY, 0)\n\n                    const iconNextScale = this.selectedIconScale\n                        .clone()\n                        .lerp(this.deselectedIconScale, easing.quintInOut(ratio))\n                    this.icon.setScale(iconNextScale.x, iconNextScale.y, this.icon.scale.z)\n                },\n            },\n        )\n    }\n\n    public onLoad(): void {\n        this.uiTransform = this.getComponent(UITransform)!\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n}\n","import LeaderboardUtils from 'db://assets/utils/LeaderboardUtils'\nimport { _decorator, Component, Node, tween, Vec3 } from 'cc'\nimport AnimUtils from '../../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../../utils/ComponentUtils'\nimport TournamentUtils from '../../../../../../utils/TournamentUtils'\n\nconst {\n    Utils: { Signal: S },\n} = Ludex\n\ntype Signal = InstanceType<typeof S.Signal>\n\nconst { ccclass, property } = _decorator\n\nconst VEC3_1_1 = new Vec3(1.1, 1.1)\n\n@ccclass('TournamentButton')\nexport class TournamentButton extends Component {\n    @ComponentUtils.required()\n    @property(Node)\n    public readonly hotIcon!: Node\n\n    private readonly requestController = new S.SignalController()\n\n    protected __preload(): void {\n        ComponentUtils.validateRequiredProperties(this, TournamentButton)\n    }\n\n    protected async onLoad(): Promise<void> {\n        await this.handleHotIconAppearance()\n    }\n\n    protected onDestroy(): void {\n        this.requestController.abort()\n    }\n\n    private async handleHotIconAppearance() {\n        if (GameSDK.isGameSDK('MsGames')) {\n            this.handleMsGamesHotIconCheck()\n        } else {\n            this.handleNormalHotIconCheck()\n        }\n    }\n\n    private async handleMsGamesHotIconCheck() {\n        try {\n            const signal = this.requestController.renew()\n\n            const tournaments = await TournamentUtils.requestTournamentDataAsync()\n            if (signal.aborted) return\n\n            const activeTournaments = tournaments.filter((tour) => !TournamentUtils.validateTournamentExpired(tour.id))\n\n            if (activeTournaments.length >= 2) {\n                this.showHotIcon(signal)\n            }\n        } catch (error) {\n            console.info('Error in TournamentButton', error)\n        }\n    }\n\n    private async handleNormalHotIconCheck() {\n        try {\n            const signal = this.requestController.renew()\n\n            const tournaments = await TournamentUtils.requestTournamentDataAsync()\n            if (signal.aborted) return\n\n            for (const tournament of tournaments) {\n                const { leaderboardId, playerId } = tournament.payload\n                if (!leaderboardId || playerId !== 'global') continue\n\n                const leaderboardData = await LeaderboardUtils.getAllLeaderboardAsync(leaderboardId)\n                if (!leaderboardData) continue\n\n                if (leaderboardData.amountPlayer >= 30) {\n                    this.showHotIcon(signal)\n                    break\n                }\n            }\n        } catch (error) {\n            console.info('Error in TournamentButton', error)\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private showHotIcon(signal: Signal) {\n        this.hotIcon.active = true\n        this.hotIcon.setScale(Vec3.ZERO)\n\n        const pulse = tween(this.hotIcon)\n            .delay(1)\n            .to(0.3, { scale: VEC3_1_1 }, { easing: 'backIn' })\n            .to(0.3, { scale: Vec3.ONE }, { easing: 'backOut' })\n\n        AnimUtils.runTweenAsync(\n            tween(this.hotIcon).to(0.5, { scale: Vec3.ONE }, { easing: 'backOut' }).repeatForever(pulse),\n            signal,\n        )\n    }\n}\n","import { _decorator, Component, find, game, Mask } from 'cc'\nimport GameEvents from '../../constants/GameEvents'\nimport GameWorld from '../../constants/GameWorld'\nimport SceneKeys from '../../constants/SceneKeys'\nimport { ScreenKeysEnum, ScreenNames } from '../../constants/ScreenKeys'\nimport { CodeSoundKeys } from '../../constants/SoundKeys'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport TotalLevel from '../../gameplay/constants/TotalLevel'\nimport { CoinManager } from '../../gameplay/manager/CoinManager'\nimport AnimUtils from '../../utils/AnimUtils'\nimport AudioUtils from '../../utils/AudioUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport SceneUtils from '../../utils/SceneUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport SortNodeUtils from '../../utils/SortNodeUtils'\n\nconst { ccclass, property, disallowMultiple } = _decorator\n\nconst { player, event } = codex\nconst { Layout } = GameWorld\nconst {\n    Match: { Modes },\n    Events,\n} = Ludex\n\n@ccclass('GameScene')\n@disallowMultiple\nexport class GameScene extends Component {\n    @ComponentUtils.required()\n    @property(CoinManager)\n    private readonly coinManager!: CoinManager\n\n    public __preload() {\n        ComponentUtils.validateRequiredProperties(this)\n\n        SortNodeUtils.createLayer(this.node, 'Particles', 6)\n        SortNodeUtils.createLayer(this.node, 'GameUnpackLabel', 5)\n\n        this.listenGameEvents()\n    }\n\n    protected onLoad(): void {\n        this.coinManager.init()\n    }\n\n    private listenGameEvents() {\n        // @ts-expect-error - This event is custom event\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleGameMaskWhenLayoutChanged)\n\n        this.node.scene.on(GameplayEvents.GAME_EXIT, this.handleGameExit)\n        this.node.scene.on(GameplayEvents.SHOW_CHALLENGE_RESULTS, this.handleShowResults)\n        this.node.scene.on(GameplayEvents.UPDATE_MUSIC, this.updateMusic)\n    }\n\n    private readonly handleGameExit = () => {\n        SceneUtils.switchToDashboardScene()\n    }\n\n    private readonly handleShowResults = () => {\n        SceneUtils.switchScene(SceneKeys.CHALLENGE_RESULT_SCENE)\n    }\n\n    private readonly handleGameMaskWhenLayoutChanged = (layout: string) => {\n        const gameObjectsNode = find('Canvas/Game/GameObjects')\n        if (!gameObjectsNode) return\n\n        const maskComponent = gameObjectsNode.getComponent(Mask)\n        if (!maskComponent) return\n\n        maskComponent.enabled = layout === Layout.Landscape\n    }\n\n    public start() {\n        if (player.getPlayerSetting('music')) {\n            this.updateMusic()\n        }\n\n        this.scheduleOnce(this.preloadScenes, 20)\n        this.scheduleOnce(this.preloadScreens, 10)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private preloadScenes(): void {\n        SceneUtils.preloadDashboardScene()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private preloadScreens(): void {\n        const gameData = player.getGameData()\n        const currentLevel = gameData?.level ?? 1\n\n        // ? Preload hard level screen for every 5th level\n        if (currentLevel % 5 === 0) {\n            ScreenUtils.preloadScreen(ScreenKeysEnum.HARD_LEVEL_SCREEN)\n        }\n\n        if (currentLevel >= TotalLevel) {\n            ScreenUtils.preloadScreen(ScreenKeysEnum.CONGRATULATION_SCREEN)\n            ScreenUtils.preloadScreen(ScreenKeysEnum.START_OVER_SCREEN)\n        }\n\n        ScreenUtils.preloadScreen(ScreenKeysEnum.PAUSE_SCREEN)\n        ScreenUtils.preloadScreen(ScreenKeysEnum.LOADING_SCREEN)\n        ScreenUtils.preloadScreen(ScreenKeysEnum.GET_ITEM_SCREEN)\n        ScreenUtils.preloadScreen(ScreenKeysEnum.NOTIFICATION_SCREEN)\n\n        this.node.scene.once(GameplayEvents.GAME_FINISH, () => {\n            ScreenUtils.preloadScreen(ScreenKeysEnum.LEVEL_COMPLETE_SCREEN)\n            ScreenUtils.preloadScreen(ScreenKeysEnum.GET_REWARDS_SCREEN)\n        })\n\n        event.once(Events.OPENED_SCREEN, (payload: SwitchScreenPayload) => {\n            const { screenName } = payload\n            if (screenName === ScreenNames[ScreenKeysEnum.PAUSE_SCREEN]) {\n                ScreenUtils.preloadScreen(ScreenKeysEnum.QUIT_LEVEL_SCREEN)\n                ScreenUtils.preloadScreen(ScreenKeysEnum.START_OVER_SCREEN)\n                ScreenUtils.preloadScreen(ScreenKeysEnum.CUSTOM_GAME_SCREEN)\n            }\n        })\n    }\n\n    private readonly updateMusic = async () => {\n        const mode = MatchUtils.getMatchMode()\n        const isTournament = mode === Modes.TOURNAMENT\n        const sound = isTournament ? CodeSoundKeys.TOURNAMENT_MUSIC : CodeSoundKeys.BG_MUSIC\n\n        if (AudioUtils.getCurrentMusic() !== sound) {\n            await AudioUtils.setVolumeMusic(0, true)\n            await AnimUtils.waitTweenAsync(1)\n        }\n\n        //? Restart music in tournament mode\n        AudioUtils.playMusic(sound, isTournament)\n\n        AudioUtils.setVolumeMusic(isTournament ? 0.4 : 0.3, true)\n    }\n}\n","import { _decorator, Component, ParticleSystem2D, tween, UIOpacity, Vec3 } from 'cc'\nimport GameplayEvents from '../../../../../gameplay/constants/GameEvents'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('ComboEffect')\nexport class ComboEffect extends Component {\n    @property(UIOpacity)\n    private circleOpacity!: UIOpacity\n\n    @property(ParticleSystem2D)\n    private particle!: ParticleSystem2D\n\n    public onLoad(): void {\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public start(): void {\n        this.node.scene.on(GameplayEvents.COMBO_UPDATED, this.handleOnComboUpdated, this)\n    }\n\n    public handleOnComboUpdated(combo: number): void {\n        if (combo > 1) {\n            this.circleOpacity.node.scale = Vec3.ZERO\n            this.circleOpacity.opacity = 60\n\n            this.particle.node.active = true\n            this.particle.resetSystem()\n\n            tween(this.circleOpacity.node)\n                .to(0.2, { scale: new Vec3(1.3, 1.3, 1.3) }, { easing: 'quadOut' })\n                .start()\n\n            tween(this.circleOpacity).delay(0.3).to(0.2, { opacity: 0 }, { easing: 'expoIn' }).start()\n        }\n\n        if (combo === 0) {\n            this.particle.node.active = false\n        }\n    }\n}\n","import SortNodeUtils from 'db://assets/utils/SortNodeUtils'\nimport { _decorator, Component, Label, Node, tween, UIOpacity, Vec3 } from 'cc'\nimport GameplayEvents from '../../../../../gameplay/constants/GameEvents'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('ComboLabel')\nexport class ComboLabel extends Component {\n    @property(Label)\n    private comboNumber!: Label\n\n    @property(Node)\n    private comboContainer!: Node\n\n    private opacity!: UIOpacity\n\n    protected onLoad(): void {\n        this.opacity = this.getComponent<UIOpacity>(UIOpacity)!\n\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public start(): void {\n        this.node.scene.on(GameplayEvents.COMBO_UPDATED, this.handleOnComboUpdated, this)\n    }\n\n    public handleOnComboUpdated(combo: number): void {\n        if (combo > 1) {\n            this.opacity.opacity = 255\n            this.comboNumber.string = `${combo}`\n\n            SortNodeUtils.setNodeToLayer(this.comboNumber.node, 'GameUnpackLabel')\n\n            tween(this.comboContainer)\n                .to(0.1, { scale: new Vec3(1.3, 1.3, 1.3) }, { easing: 'sineIn' })\n                .to(0.1, { scale: Vec3.ONE }, { easing: 'sineOut' })\n                .start()\n        } else {\n            SortNodeUtils.removeNodeFromLayer(this.comboNumber.node)\n            this.opacity.opacity = 0\n        }\n    }\n}\n","import { Animation, Component, UIOpacity, Widget, _decorator, game, tween } from 'cc'\nimport { Localize } from '../../../../../components/text/Localize'\nimport GameEvents from '../../../../../constants/GameEvents'\nimport GameWorld from '../../../../../constants/GameWorld'\nimport GameplayEvents from '../../../../../gameplay/constants/GameEvents'\nimport AnimUtils from '../../../../../utils/AnimUtils'\nimport ComponentUtils from '../../../../../utils/ComponentUtils'\nimport LayoutUtils from '../../../../../utils/LayoutUtils'\n\nconst {\n    Utils: { Signal: S },\n} = Ludex\nconst { ccclass, property } = _decorator\nconst { Layout } = GameWorld\nconst ComboSpriteLocalizeKeys = ['good', 'great', 'excellent'] as const satisfies Ludex.Plugins.Language.TextureKey[]\n\n@ccclass('ComboPopup')\nexport class ComboPopup extends Component {\n    @ComponentUtils.required()\n    @property(Localize)\n    private readonly spriteLocalizer!: Localize\n\n    @ComponentUtils.required()\n    @property(Animation)\n    private readonly animation!: Animation\n\n    @ComponentUtils.required()\n    @property(UIOpacity)\n    private readonly textUiOpacity!: UIOpacity\n\n    private widget!: Widget\n\n    private readonly comboController = new S.SignalController()\n\n    protected __preload(): void {\n        this.widget = this.getComponent(Widget)!\n\n        ComponentUtils.validateRequiredProperties(this)\n    }\n\n    protected onLoad(): void {\n        // @ts-expect-error - This event is custom event\n        game.on(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n        this.handleOrientationChanged(LayoutUtils.getCurrentLayout())\n    }\n\n    protected onDestroy(): void {\n        game.off(GameEvents.ORIENTATION_CHANGED, this.handleOrientationChanged, this)\n        this.comboController.abort()\n    }\n\n    protected start() {\n        this.node.scene.on(GameplayEvents.COMBO_UPDATED, this.handleOnComboUpdated, this)\n    }\n\n    public async handleOnComboUpdated(combo: number) {\n        if (combo < 2) return\n\n        for (let i = ComboSpriteLocalizeKeys.length - 1; i >= 0; i--) {\n            const key = ComboSpriteLocalizeKeys[i] as (typeof ComboSpriteLocalizeKeys)[number]\n\n            if (combo >= i + 2) {\n                const signal = this.comboController.renew()\n                this.spriteLocalizer.key = key\n\n                this.textUiOpacity.opacity = 0\n\n                await this.spriteLocalizer.waitUntilLocalized()\n                if (signal.aborted) return\n\n                AnimUtils.runTweenAsync(tween(this.textUiOpacity).to(0.25, { opacity: 255 }), signal)\n                this.animation.play()\n\n                return\n            }\n        }\n    }\n\n    private handleOrientationChanged(layout: string): void {\n        if (layout === Layout.Portrait) {\n            this.widget.left = 20\n            this.widget.right = 20\n        } else if (layout === Layout.Landscape) {\n            this.widget.left = 700\n            this.widget.right = 120\n        }\n    }\n}\n","import { Animation, Component, Label, Vec3, _decorator, game, tween } from 'cc'\nimport SceneKeys from '../../constants/SceneKeys'\nimport { ParticleSystem } from '../../particles/ParticleSystem'\nimport AnimUtils from '../../utils/AnimUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport SceneUtils from '../../utils/SceneUtils'\nconst { ccclass, property, disallowMultiple } = _decorator\n\nconst { analytics } = codex\n\n@ccclass('PlayableScene')\n@disallowMultiple\nexport class PlayableScene extends Component {\n    @ComponentUtils.required()\n    @property({ type: Label })\n    private label!: Label\n\n    @ComponentUtils.required()\n    @property({ type: ParticleSystem })\n    private particleLeft!: ParticleSystem\n\n    @ComponentUtils.required()\n    @property({ type: ParticleSystem })\n    private particleRight!: ParticleSystem\n\n    @ComponentUtils.required()\n    @property({ type: Animation })\n    private backgroundAnimation!: Animation\n\n    constructor() {\n        super()\n\n        // ? Make scene flow correct for test scene\n        // * Need call this in constructor to make sure SceneManager can get correct scene\n        SceneUtils.markIsTestScene(SceneKeys.PLAYABLE_SCENE)\n    }\n\n    public __preload() {\n        this.listenEvents()\n    }\n\n    public onLoad() {\n        ComponentUtils.validateRequiredProperties(this)\n    }\n\n    private listenEvents() {\n        //\n    }\n\n    public async start() {\n        analytics.event('ready_playable')\n\n        await this.waitViewable()\n\n        this.playTweens()\n        this.playParticles()\n        this.playAnimations()\n\n        analytics.event('showing_playable')\n\n        setTimeout(() => {\n            if (!('openAppStore' in GameSDK.extra)) return\n            GameSDK.extra.openAppStore()\n        }, 10000)\n    }\n\n    private async waitViewable() {\n\n        if (!('isViewable' in GameSDK.extra)) return\n        if (GameSDK.extra.isViewable()) return\n\n        if (!('waitViewableChange' in GameSDK.extra)) return\n\n        game.pause()\n\n        const success = await GameSDK.extra.waitViewableChange()\n\n        if (!success) {\n            await this.waitViewable()\n            return\n        }\n\n        game.resume()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async playTweens() {\n        const labelTween = tween(this.label.node)\n            .to(10, { position: new Vec3(0, 200, 0) }, { easing: 'cubicInOut' })\n            .to(6, { position: new Vec3(0, -100, 0) }, { easing: 'cubicInOut' })\n\n        AnimUtils.runTweenAsync(tween(this.label.node).repeat(999, labelTween))\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private playParticles() {\n        console.log('playParticles', this.particleLeft, this.particleRight)\n        this.particleLeft.play()\n        this.particleRight.play()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private playAnimations() {\n        this.backgroundAnimation.play()\n    }\n}\n","import ComponentUtils from 'db://assets/utils/ComponentUtils'\nimport OverlayUtils from 'db://assets/utils/OverlayUtils'\nimport { _decorator, Component, Label, Node, Sprite, type Tween, tween, UIOpacity, UITransform } from 'cc'\nimport CacheUtils from '../../../../utils/CacheUtils'\nimport PlayerAvatarOverlay from '../../../common/PlayerAvatarOverlay'\n\nconst { ccclass, property } = _decorator\nconst DEFAULT_PLAYER_ID = '10'\n\n@ccclass('PlayerScore')\nexport class PlayerScore extends Component {\n    @property(Node)\n    private crown!: Node\n\n    @property(Label)\n    private playerScore!: Label\n\n    @property(UIOpacity)\n    private playerScoreUiOpacity!: UIOpacity\n\n    @property(UIOpacity)\n    private waitingUiOpacity!: UIOpacity\n\n    @property(Sprite)\n    private avatar!: Sprite\n\n    @property(Node)\n    private defaultAvatarNode!: Node\n\n    private avatarOverlay: PlayerAvatarOverlay | null = null\n\n    private isOverlayMode: boolean = false\n\n    private waitingAnimation!: Tween<UIOpacity>\n\n    public onLoad(): void {\n        this.createAvatarOverlay()\n    }\n\n    private createAvatarOverlay(): void {\n        try {\n            OverlayUtils.isOverlayViewAPIAvailable(GameSDK)\n\n            this.isOverlayMode = true\n            this.avatarOverlay = new PlayerAvatarOverlay(this.node.scene)\n        } catch {\n            return\n        }\n    }\n\n    public showCrown(visible: boolean): void {\n        this.crown.active = visible\n    }\n\n    public setPlayerScore(score: number): void {\n        this.playerScore.string = score.toString()\n    }\n\n    public playWaitingAnimation(): void {\n        this.waitingUiOpacity.node.active = true\n        this.playerScoreUiOpacity.node.active = false\n\n        this.waitingUiOpacity.opacity = 130\n        this.playerScoreUiOpacity.opacity = 0\n\n        const waitingOpacityTween = tween(this.waitingUiOpacity)\n            .to(1, { opacity: 130 }, { easing: 'sineInOut' })\n            .to(1, { opacity: 255 }, { easing: 'sineInOut' })\n            .delay(0.25)\n\n        this.waitingAnimation = tween(this.waitingUiOpacity).repeatForever(waitingOpacityTween).start()\n    }\n\n    public stopWaitingAnimation(): void {\n        if (this.waitingAnimation) {\n            this.waitingAnimation.stop()\n        }\n\n        this.waitingUiOpacity.opacity = 0\n        this.playerScoreUiOpacity.opacity = 255\n\n        this.waitingUiOpacity.node.active = false\n        this.playerScoreUiOpacity.node.active = true\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    public async loadPhoto(photo: string, playerId: string): Promise<void> {\n        try {\n            const isDefaultPlayerId = playerId === DEFAULT_PLAYER_ID\n            if (this.isOverlayMode && !isDefaultPlayerId) {\n                const result = await this.showAvatarOverlay(playerId)\n                if (result) return\n\n                this.isOverlayMode = false\n            }\n\n            const spriteFrame = await CacheUtils.getPlayerAvatar(photo, playerId, 128)\n            if (!spriteFrame) throw new Error('Failed to create sprite frame')\n            if (!this.node.activeInHierarchy) return\n\n            spriteFrame.packable = true\n            this.avatar.spriteFrame = spriteFrame\n        } catch (error) {\n            console.error(error)\n            return\n        }\n    }\n\n    private async showAvatarOverlay(playerId: string): Promise<boolean> {\n        if (!this.avatarOverlay) return false\n\n        const { worldX, worldY } = this.getDefaultAvatarPosition()\n        const result = await this.avatarOverlay.updateOverlay({\n            playerId,\n            worldX,\n            worldY,\n            avatarWidth: this.getDefaultAvatarWidth(),\n        })\n\n        return result ?? false\n    }\n\n    public cleanupOverlay(): void {\n        this.avatarOverlay?.hideOverlay()\n    }\n\n    private getDefaultAvatarPosition(): { worldX: number; worldY: number } {\n        const { worldPositionX, worldPositionY } = this.defaultAvatarNode\n        return {\n            worldX: worldPositionX,\n            worldY: worldPositionY,\n        }\n    }\n\n    private getDefaultAvatarWidth(): number {\n        const uiTransform = this.defaultAvatarNode.getComponent(UITransform)!\n        const { width } = uiTransform\n        return width\n    }\n}\n","import { _decorator, Animation, Component } from 'cc'\nimport { Localize } from '../../components/text/Localize'\nimport GameEvents from '../../constants/GameEvents'\nimport { CodeSoundKeys } from '../../constants/SoundKeys'\nimport Board from '../../gameplay/game-objects/board'\nimport LevelManager from '../../gameplay/manager/LevelManager'\nimport { ParticleSystem } from '../../particles/ParticleSystem'\nimport AudioUtils from '../../utils/AudioUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport LayoutUtils from '../../utils/LayoutUtils'\nimport SceneUtils from '../../utils/SceneUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport { PlayerScore } from './components/player-score/PlayerScore'\n\nconst { ccclass, disallowMultiple, property } = _decorator\nconst { match, player, monitorError } = codex\n\nconst {\n    Utils: { Object: O },\n} = Ludex\n\n@ccclass('ChallengeResultScene')\n@disallowMultiple\nexport class ChallengeResultScene extends Component {\n    @property(Localize)\n    readonly drawLocalizer!: Localize\n\n    @property(Localize)\n    readonly winLocalizer!: Localize\n\n    @property(Localize)\n    readonly loseLocalizer!: Localize\n\n    @property(Localize)\n    readonly waitingLocalizer!: Localize\n\n    @property({ type: PlayerScore, group: 'Score' })\n    readonly playerScore!: PlayerScore\n\n    @property({ type: PlayerScore, group: 'Score' })\n    readonly opponentScore!: PlayerScore\n\n    @property({ group: 'Confetti Effect', type: ParticleSystem })\n    private readonly leftConfetti!: ParticleSystem\n\n    @property({ group: 'Confetti Effect', type: ParticleSystem })\n    private readonly rightConfetti!: ParticleSystem\n\n    @property(LevelManager)\n    readonly levelManager!: LevelManager\n\n    @property(Animation)\n    readonly headerAnimation!: Animation\n\n    public __preload() {\n        this.validateRequiredComponents()\n        this.listenEvents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenEvents() {\n        this.node.scene.on(GameEvents.RESULT_SCENE_HOME, this.goToDashboardScene)\n        this.node.scene.on(GameEvents.RESULT_SCENE_REPLAY, this.handleTryAgainClicked, this)\n    }\n\n    public start() {\n        this.scheduleOnce(this.preloadScenes, 3)\n\n        try {\n            const state = match.getMatchState()\n            const { playerId, opponentId } = state.customData\n\n            if (!playerId || !opponentId) {\n                throw new Error(\n                    `ResultScene: playerId is ${playerId} and opponentId is ${opponentId}. Expected to not be null.`,\n                )\n            }\n\n            const { photo: playerPhoto } = player.getPlayer()\n\n            const { score: playerScore = 0, finished: isPlayerFinish = false } = state.profiles[playerId] ?? {}\n\n            const {\n                photo: opponentPhoto = '',\n                score: opponentScore = 0,\n                finished: isOpponentFinish = false,\n            } = state.profiles[opponentId] ?? {}\n\n            const isMatchFinished = isPlayerFinish && isOpponentFinish\n            const isPlayerWon = isMatchFinished && playerScore > opponentScore\n            const isOpponentWon = isMatchFinished && opponentScore > playerScore\n\n            // Update player info\n            this.playerScore.loadPhoto(playerPhoto, playerId)\n            this.opponentScore.loadPhoto(opponentPhoto, opponentId)\n\n            this.playerScore.setPlayerScore(playerScore)\n            this.opponentScore.setPlayerScore(opponentScore)\n\n            this.playerScore.showCrown(isPlayerWon)\n            this.opponentScore.showCrown(isOpponentWon)\n\n            if (!isPlayerFinish || !isOpponentFinish) {\n                if (!isPlayerFinish) this.playerScore.playWaitingAnimation()\n                if (!isOpponentFinish) this.opponentScore.playWaitingAnimation()\n                this.playStatusAnimation('Waiting')\n            } else if (playerScore === opponentScore) {\n                this.playStatusAnimation('Draw')\n            } else if (isPlayerWon) {\n                this.playStatusAnimation('Win')\n            } else if (isOpponentWon) {\n                this.playStatusAnimation('Lose')\n            }\n        } catch (error) {\n            console.warn('ResultScene: Error on load', error)\n            this.goToDashboardScene()\n        }\n    }\n\n    private preloadScenes(): void {\n        SceneUtils.preloadDashboardScene()\n    }\n\n    public async handleTryAgainClicked() {\n        let { level = 1 } = player.getGameData() ?? {}\n        //? Avoid playing level 0 (Newbie Guide)\n        level = Math.max(1, level)\n\n        const levelData = await this.levelManager.loadLevelData(level)\n\n        try {\n            if (!levelData) {\n                throw new Error('Level data is not found')\n            }\n\n            const { opponentId } = match.getMatchState().customData\n\n            if (!opponentId) {\n                throw new Error('Opponent id is not found')\n            }\n\n            ScreenUtils.showLoadingScreen()\n\n            const fen = Board.generateFen(levelData)\n\n            const {\n                mode: gravity = '',\n                rules = { addRandomTilesPerMove: 0, maxSpaceOfPair: 0 },\n                time = 0,\n                level,\n            } = levelData\n\n            await match.challenge.friend.processAsync({\n                playerId: player.getPlayerId(),\n                opponentId,\n                extraData: {\n                    challengeData: {\n                        level,\n                        fen,\n                        gravity,\n                        rules,\n                        time,\n                    },\n                },\n            })\n\n            ScreenUtils.closeLoadingScreen()\n            this.goToGameScene()\n        } catch (error) {\n            if (O.hasOwn(error, 'code') && error.code === 'USER_INPUT') {\n                // ? User cancelled. Safely ignore\n                ScreenUtils.closeLoadingScreen()\n                return\n            }\n\n            console.warn('ReplayChallengeFriend', error)\n\n            ScreenUtils.closeLoadingScreen()\n\n            const duration = 2\n            ScreenUtils.showNotificationScreenWithLocalizedKey('error.challengeFail', duration)\n\n            monitorError?.sendException(\n                // biome-ignore lint/style/useTemplate: <explanation>\n                error instanceof Error ? error : new Error('ReplayChallengeFriend' + JSON.stringify(error)),\n            )\n\n            this.scheduleOnce(this.goToDashboardScene, duration)\n        }\n    }\n\n    public handleHomeClicked() {\n        this.goToDashboardScene()\n    }\n\n    private goToDashboardScene = () => {\n        this.playerScore.cleanupOverlay()\n        this.opponentScore.cleanupOverlay()\n\n        SceneUtils.switchToDashboardScene()\n    }\n\n    private goToGameScene = () => {\n        this.playerScore.cleanupOverlay()\n        this.opponentScore.cleanupOverlay()\n\n        SceneUtils.switchToGameScene()\n    }\n\n    private playStatusAnimation(status: 'Draw' | 'Win' | 'Lose' | 'Waiting'): void {\n        if (status === 'Win' || status === 'Waiting') {\n            this.triggerConfettiAnimation()\n        }\n\n        const localizer = this.getSpriteLocalizer(status)\n        localizer.node.active = true\n\n        localizer.waitUntilLocalized().then(() => {\n            switch (status) {\n                case 'Draw':\n                    this.playDrawAnimation()\n                    break\n                case 'Win':\n                    this.playWinAnimation()\n                    break\n                case 'Lose':\n                    this.playLoseAnimation()\n                    break\n                case 'Waiting':\n                    this.playWaitingAnimation()\n                    break\n            }\n        })\n    }\n\n    private getSpriteLocalizer(status: 'Draw' | 'Win' | 'Lose' | 'Waiting') {\n        switch (status) {\n            case 'Draw':\n                return this.drawLocalizer\n            case 'Win':\n                return this.winLocalizer\n            case 'Lose':\n                return this.loseLocalizer\n            case 'Waiting':\n                return this.waitingLocalizer\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private playDrawAnimation(): void {\n        this.headerAnimation.play('RibbonDraw')\n        AudioUtils.playSound(CodeSoundKeys.LEVEL_FAIL)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private playWinAnimation(): void {\n        this.headerAnimation.play('RibbonWin')\n        AudioUtils.playSound(CodeSoundKeys.LEVEL_COMPLETE)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private playLoseAnimation(): void {\n        this.headerAnimation.play('RibbonLose')\n        AudioUtils.playSound(CodeSoundKeys.LEVEL_FAIL)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private playWaitingAnimation(): void {\n        this.headerAnimation.play('RibbonWaiting')\n        AudioUtils.playSound(CodeSoundKeys.LEVEL_COMPLETE)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private triggerConfettiAnimation(): void {\n        const isLandscape = LayoutUtils.isLandscape()\n\n        const burstCount = isLandscape ? 50 : 30\n        const startSpeedMin = isLandscape ? 5000 : 2000\n        const startSpeedMax = isLandscape ? 15000 : 10000\n        const leftAngle = isLandscape ? 40 : 60\n        const rightAngle = isLandscape ? 110 : 100\n        const arc = isLandscape ? 30 : 20\n\n        this.leftConfetti.bursts[0]!.count = this.rightConfetti.bursts[0]!.count = burstCount\n        this.leftConfetti.startSpeed.constantMin = this.rightConfetti.startSpeed.constantMin = startSpeedMin\n        this.leftConfetti.startSpeed.constantMax = this.rightConfetti.startSpeed.constantMax = startSpeedMax\n        this.leftConfetti.shapeModule.angle = leftAngle\n        this.rightConfetti.shapeModule.angle = rightAngle\n        this.leftConfetti.shapeModule.arc = this.rightConfetti.shapeModule.arc = arc\n\n        this.scheduleOnce(() => {\n            this.leftConfetti.play()\n            this.rightConfetti.play()\n        }, 0.2)\n    }\n}\n","import { Animation, Button, Component, Node, UIOpacity, Widget, _decorator } from 'cc'\nimport ComponentUtils from '../utils/ComponentUtils'\nconst { ccclass, property, disallowMultiple } = _decorator\n\nconst { Events } = Ludex\nconst { event } = codex\n\n@ccclass('BaseScreen')\n@disallowMultiple\nexport class BaseScreen extends Component {\n    @property(Node)\n    public container!: Node\n\n    @property(Node)\n    public backgroundMask!: Node\n\n    @property(UIOpacity)\n    private screenOpacity!: UIOpacity\n\n    public backgroundMaskButton!: Button\n\n    private animation!: Animation\n\n    public data: ScreenData = {}\n\n    public __preload() {\n        this.animation = this.getComponent(Animation) as Animation\n        this.backgroundMaskButton = this.backgroundMask.getComponent(Button) as Button\n\n        this.validateRequiredComponents()\n\n        this.initializeNodes()\n    }\n\n    private initializeNodes() {\n        const maskOpacity = this.getMaskOpacity()\n        const containerOpacity = this.getContainerOpacity()\n        if (!maskOpacity || !containerOpacity) return\n\n        maskOpacity.opacity = 0\n        containerOpacity.opacity = 0\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public setScreenOpacity(opacity: number) {\n        this.screenOpacity.opacity = opacity\n    }\n\n    public open(data?: ScreenData) {\n        if (data) {\n            this.data = data\n        }\n\n        this.animation.once(Animation.EventType.PLAY, () => {\n            this.show()\n        })\n\n        event.emit(Events.OPENED_SCREEN, { screenName: this.node.name, screenData: this.data })\n\n        this.runAnimation(this.data.overrideAnimation?.openScreen ?? 'OpenScreen')\n    }\n\n    public close() {\n        if (!this.node.active) return\n\n        this.animation.once(Animation.EventType.FINISHED, () => {\n            event.emit(Events.CLOSED_SCREEN, { screenName: this.node.name })\n            this.hide()\n        })\n\n        this.runAnimation(this.data.overrideAnimation?.closeScreen ?? 'CloseScreen')\n    }\n\n    private runAnimation(name: string) {\n        if (!this.isAnimationExist(name)) {\n            throw new Error(`${this.node.name}: Animation component must have ${name} clip`)\n        }\n\n        this.animation.play(name)\n    }\n\n    private isAnimationExist(name: string): boolean {\n        return this.animation.clips.some((clip) => {\n            if (clip && clip.name === name) return true\n            return false\n        })\n    }\n\n    private getMaskOpacity(): UIOpacity | null {\n        const maskOpacity = this.backgroundMask.getComponent(UIOpacity)\n        if (!maskOpacity) {\n            console.warn('BaseScreen: maskOpacity not found')\n            return null\n        }\n\n        return maskOpacity\n    }\n\n    private getContainerOpacity(): UIOpacity | null {\n        const containerOpacity = this.container.getComponent(UIOpacity)\n        if (!containerOpacity) {\n            console.warn('BaseScreen: containerOpacity not found')\n            return null\n        }\n\n        return containerOpacity\n    }\n\n    private show(): void {\n        this.node.active = true\n\n        const widget = this.node.getComponent(Widget)\n        if (widget) {\n            widget.enabled = true\n            widget.updateAlignment()\n\n            const widgets = this.node.getComponentsInChildren(Widget)\n            for (const childWidget of widgets) {\n                childWidget.updateAlignment()\n            }\n        }\n    }\n\n    private hide(): void {\n        this.node.active = false\n    }\n\n    // TODO: add closeable when click outside\n}\n","import { Component, UIOpacity, _decorator } from 'cc'\nconst { ccclass, requireComponent } = _decorator\n\nconst changeElementMaskAlpha = (alpha: number): void => {\n    const appMask = document.getElementById('app-mask')\n    if (!appMask) return\n\n    appMask.style.background = `rgb(0 0 0 / ${alpha})`\n}\n\n/**\n * Yandex only\n */\n@ccclass('BackgroundMask')\n@requireComponent([UIOpacity])\nexport class BackgroundMask extends Component {\n    private opacity!: UIOpacity\n\n    public onLoad() {\n        const opacity = this.getComponent(UIOpacity)\n        if (!opacity) {\n            console.warn('BackgroundMask: UIOpacity not found')\n            return\n        }\n\n        this.opacity = opacity\n        this.updateMaskAlpha()\n    }\n\n    public updateMaskAlpha() {\n        const nodeAlpha = this.opacity.opacity / 255\n        changeElementMaskAlpha(nodeAlpha)\n    }\n}\n","import { _decorator, CCInteger, Component, Enum, NodeEventType } from 'cc'\nimport { EDITOR_NOT_IN_PREVIEW } from 'cc/env'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\n\nconst { ccclass, property, executeInEditMode } = _decorator\n\n@ccclass('ScreenConfig')\nexport class ScreenConfig {\n    @property({ type: Enum(ScreenKeysEnum) })\n    public key: ScreenKeysEnum = ScreenKeysEnum.LOADING_SCREEN\n\n    @property({ type: CCInteger })\n    public depth: number = 0\n}\n\n@ccclass('Screens')\n@executeInEditMode\nexport class Screens extends Component {\n    @property({ type: [ScreenConfig] })\n    public screens: ScreenConfig[] = []\n\n    @property({\n        tooltip: 'Preload all the screens automatically in ScreenDepth when the scene starts.',\n    })\n    public autoPreload = false\n\n    protected onEnable(): void {\n        if (!EDITOR_NOT_IN_PREVIEW) return\n        this.onChildrenChanged()\n        this.node.on(NodeEventType.CHILD_ADDED, this.onChildrenChanged, this)\n        this.node.on(NodeEventType.CHILD_REMOVED, this.onChildrenChanged, this)\n    }\n\n    protected onDisable(): void {\n        if (!EDITOR_NOT_IN_PREVIEW) return\n        this.node.on(NodeEventType.CHILD_ADDED, this.onChildrenChanged, this)\n        this.node.on(NodeEventType.CHILD_REMOVED, this.onChildrenChanged, this)\n    }\n\n    protected onChildrenChanged() {\n        if (!EDITOR_NOT_IN_PREVIEW) return\n        const deprecatedScreens = this.node.getComponentsInChildren('BaseScreen')\n        if (deprecatedScreens.length > 0) {\n            console.warn('Please add Screens to the Screens component instead of adding them directly to the node.')\n        }\n    }\n}\n","import { Button, Component, Node, UIOpacity, Vec3, _decorator, tween } from 'cc'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport { BaseScreen } from '../BaseScreen'\nconst { ccclass, property, disallowMultiple, requireComponent } = _decorator\n\nconst { Events } = Ludex\nconst { event } = codex\n\n@ccclass('CongratulationScreen')\n@disallowMultiple\n@requireComponent(BaseScreen)\nexport class CongratulationScreen extends Component {\n    private screen!: BaseScreen\n\n    @property(Node)\n    public congratulation!: Node\n\n    @property(Node)\n    public confirmation!: Node\n\n    private confirmationUIOpacity!: UIOpacity\n\n    @property(Button)\n    private closeButtonComponent!: Button\n\n    @property(Button)\n    private yesButtonComponent!: Button\n\n    @property(Button)\n    private noButtonComponent!: Button\n\n    public __preload() {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen)!\n        this.confirmationUIOpacity = this.confirmation.getComponent(UIOpacity)!\n        this.validateRequiredComponents()\n        this.listenScreenEvents()\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenScreenEvents() {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.screen) {\n            throw new Error('CongratulationScreen: screen not found')\n        }\n\n        if (!this.validateEventPayload(payload)) return\n        this.closeButtonComponent.interactable = true\n        this.yesButtonComponent.interactable = true\n        this.noButtonComponent.interactable = true\n    }\n\n    private handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.open()\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload\n        if (screenName !== this.node.name) return false\n        return true\n    }\n\n    public open() {\n        this.confirmation.active = false\n        this.congratulation.active = true\n    }\n\n    public close() {\n        this.closeButtonComponent.interactable = false\n        this.yesButtonComponent.interactable = false\n        this.noButtonComponent.interactable = false\n\n        ScreenUtils.closeScreen(ScreenKeysEnum.CONGRATULATION_SCREEN)\n    }\n\n    // ? Callback for click event of StartOverButton\n    public handleStartOver() {\n        this.confirmation.active = true\n        this.congratulation.active = false\n\n        tween(this.confirmationUIOpacity).set({ opacity: 0 }).to(0.2, { opacity: 255 }).start()\n\n        tween(this.confirmation)\n            .set({ scale: new Vec3(0.8, 0.8, 0.8) })\n            .to(0.2, { scale: new Vec3(1, 1, 1) }, { easing: 'backOut' })\n            .start()\n    }\n\n    // ? Callback for click event of YesButton\n    public handleYesStartOver() {\n        this.close()\n        this.node.scene.emit(GameplayEvents.START_OVER, 1)\n    }\n\n    // ? Callback for click event of NoButton\n    public handleNoStartOver() {\n        this.requestGameReplay()\n    }\n\n    // ? Callback for click event of CloseButton\n    public handleClickedClose(): void {\n        this.requestGameReplay()\n    }\n\n    private requestGameReplay() {\n        this.close()\n        this.node.scene.emit(GameplayEvents.GAME_REPLAY)\n    }\n}\n","import { CCBoolean, CCInteger, CCString, Component, EventHandler, Label, _decorator } from 'cc'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('HorizontalSelector')\nexport class HorizontalSelector extends Component {\n    @property({\n        type: CCBoolean,\n        tooltip:\n            'Component initializes on its own in its preload method. Turn off if you want to initialize it manually.',\n    })\n    private selfInitialize!: boolean\n\n    @property({\n        type: CCString,\n        visible: function (this: HorizontalSelector): boolean {\n            return !this.selfInitialize\n        },\n    })\n    private items: string[] = []\n\n    @property({\n        type: CCInteger,\n        visible: function (this: HorizontalSelector): boolean {\n            return !this.selfInitialize\n        },\n    })\n    private currentIndex: number = 0\n\n    @property(CCBoolean)\n    private loop!: boolean\n\n    @property(Label)\n    private selectedItemLabel: Label | null = null\n\n    @property(EventHandler)\n    private onSelectEvents: EventHandler[] = []\n\n    private selectedItem: string = ''\n\n    public __preload() {\n        if (this.selfInitialize) return\n\n        this.init(this.items, this.currentIndex)\n    }\n\n    public init(items: string[], currentIndex: number, loop?: boolean) {\n        this.items = items\n        this.currentIndex = currentIndex\n        if (loop !== undefined) this.loop = loop\n\n        this.selectedItem = this.items[this.currentIndex]\n        if (this.selectedItemLabel) this.selectedItemLabel.string = this.selectedItem\n    }\n\n    public selectNext() {\n        if (!this.loop && this.currentIndex === this.items.length - 1) return\n        this.currentIndex = (this.currentIndex + 1) % this.items.length\n        this.selectedItem = this.items[this.currentIndex]\n        this.emitOnSelectedEvents()\n    }\n\n    public selectPrevious() {\n        if (!this.loop && this.currentIndex === 0) return\n        this.currentIndex = (this.currentIndex - 1 + this.items.length) % this.items.length\n        this.selectedItem = this.items[this.currentIndex]\n        this.emitOnSelectedEvents()\n    }\n\n    public getSelectedItem() {\n        return this.selectedItem\n    }\n\n    public getSelectedIndex() {\n        return this.currentIndex\n    }\n\n    public getItems() {\n        return this.items\n    }\n\n    public setSelectedItem(index: number) {\n        this.selectedItem = this.items[index]\n        this.currentIndex = index\n        this.emitOnSelectedEvents()\n    }\n\n    private emitOnSelectedEvents() {\n        if (this.selectedItemLabel) this.selectedItemLabel.string = this.selectedItem\n\n        for (const selectEvent of this.onSelectEvents) {\n            selectEvent.emit([this.selectedItem, selectEvent.customEventData])\n        }\n    }\n}\n","import { _decorator, Button, Component, Label } from 'cc'\nimport CustomGameData from '../../gameplay/constants/CustomGameData'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport CustomModeUtils from '../../utils/CustomModeUtils'\nimport { BaseScreen } from '../BaseScreen'\nimport { SwitchButton } from '../settings-screen/components/switch-button/SwitchButton'\nimport { HorizontalSelector } from './components/horizontal-selector/HorizontalSelector'\n\nconst { ccclass, property, requireComponent } = _decorator\n\nconst { Events } = Ludex\nconst { event, player } = codex\n\n@ccclass('CustomGameScreen')\n@requireComponent(BaseScreen)\nexport class CustomGameScreen extends Component {\n    private screen!: BaseScreen\n\n    @property(Button)\n    private playButton!: Button\n\n    @property({ type: HorizontalSelector, group: 'Selectors' })\n    private timeSelector!: HorizontalSelector\n\n    @property({ type: HorizontalSelector, group: 'Selectors' })\n    private difficultySelector!: HorizontalSelector\n\n    @property({ type: HorizontalSelector, group: 'Selectors' })\n    private bombsSelector!: HorizontalSelector\n\n    @property({ type: SwitchButton, group: 'Selectors' })\n    private extraAdsSwitch!: SwitchButton\n\n    @property(Label)\n    private bonusLabel!: Label\n\n    public __preload() {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen)!\n        this.validateRequiredComponents()\n        this.listenScreenEvents()\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenScreenEvents() {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.screen) {\n            throw new Error('StartLevelScreen: screen not found')\n        }\n\n        if (!this.validateEventPayload(payload)) return\n\n        this.setInteractableButtons(true)\n    }\n\n    private handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.open()\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload ?? {}\n\n        if (screenName !== this.node.name) return false\n\n        return true\n    }\n\n    public open() {\n        this.updateStatus()\n        this.runPopUpAnimation()\n        this.node.scene.emit(GameplayEvents.HIDE_UI)\n    }\n\n    public close(customMode?: boolean): void {\n        this.setInteractableButtons(false)\n        this.node.scene.emit(GameplayEvents.SHOW_UI)\n\n        event.emit(Events.CLOSE_SCREEN, { screenName: this.node.name, screenData: { customMode } })\n    }\n\n    private runPopUpAnimation(): void {\n        if (!this.screen.container) {\n            console.warn('StartLevelScreen: screen not found')\n        }\n    }\n\n    private updateStatus(): void {\n        const { time, difficulty, bombs } = CustomGameData\n        const custom = CustomModeUtils.getCustomData()\n\n        this.timeSelector.init(\n            time.map((t) => (t < 0 ? `${t}%` : `+${t}%`)),\n            custom.time,\n        )\n        this.difficultySelector.init([...difficulty], custom.difficulty)\n        this.bombsSelector.init(\n            bombs.map((b) => `${b}`),\n            custom.bombs,\n        )\n\n        this.extraAdsSwitch.setEnabled(custom.ads)\n\n        this.calculateBonus()\n    }\n\n    // ? Callback for click event of PlayButton\n    public async handleClickedPlay(): Promise<void> {\n        this.close(true)\n    }\n\n    public handleClickedClose(): void {\n        this.close()\n    }\n\n    // ? Callback for select event of TimeSelector\n    public handleSelectedTime(time: string): void {\n        this.updateCustomGameData()\n        this.calculateBonus()\n    }\n\n    // ? Callback for select event of TimeSelector\n    public handleSelectedDifficulty(difficulty: string): void {\n        this.updateCustomGameData()\n        this.calculateBonus()\n    }\n\n    // ? Callback for select event of BombSelector\n    public handleSelectedBombs(bombs: string): void {\n        this.updateCustomGameData()\n        this.calculateBonus()\n    }\n\n    // ? Callback for switch event of ExtraAdsSwitch\n    public handleSwitchedExtraAds(): void {\n        this.extraAdsSwitch.switch()\n        this.updateCustomGameData()\n        this.calculateBonus()\n    }\n\n    private updateCustomGameData(): void {\n        const timeIndex = this.timeSelector.getSelectedIndex()\n        const difficultyIndex = this.difficultySelector.getSelectedIndex()\n        const bombIndex = this.bombsSelector.getSelectedIndex()\n\n        player.setGameData({\n            custom: {\n                time: timeIndex,\n                difficulty: difficultyIndex,\n                bombs: bombIndex,\n                ads: this.extraAdsSwitch.enable,\n            },\n        })\n    }\n\n    private setInteractableButtons(interactable: boolean): void {\n        this.playButton.interactable = interactable\n        this.screen.backgroundMask.getComponent(Button)!.interactable = interactable\n    }\n\n    private calculateBonus(): void {\n        const bonus = CustomModeUtils.getCustomBonus()\n        this.bonusLabel.string = bonus >= 0 ? `+${bonus}%` : `${bonus}%`\n    }\n}\n","import { _decorator, Color, Component, Label, Node, Sprite, SpriteFrame, UIOpacity } from 'cc'\nimport { Localize } from '../../../components/text/Localize'\nimport ComponentUtils from '../../../utils/ComponentUtils'\n\nconst { ccclass, property } = _decorator\n\nexport interface IDayPayload {\n    day: number\n    type: string\n    value: number\n    status?: string\n}\n\nconst DAY_LABEL_BLUE_OUTLINE_COLOR = '#3469bf'\n\n@ccclass('DayBlock')\nexport class DayBlock extends Component {\n    @ComponentUtils.required()\n    @property({ type: Sprite, group: 'Background' })\n    protected background!: Sprite\n\n    @ComponentUtils.required()\n    @property({ type: Sprite, group: 'Background' })\n    protected topBackground!: Sprite\n\n    @ComponentUtils.required()\n    @property({ type: SpriteFrame, group: 'Background' })\n    protected blueBackground!: SpriteFrame\n\n    @ComponentUtils.required()\n    @property({ type: SpriteFrame, group: 'Background' })\n    protected blueTopBackground!: SpriteFrame\n\n    protected defaultBackground!: SpriteFrame\n\n    protected defaultTopBackground!: SpriteFrame\n\n    @ComponentUtils.required()\n    @property(Label)\n    protected dayLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Localize)\n    protected dayLocalizer!: Localize\n\n    protected defaultDayLabelOutlineColor!: Color\n\n    protected blueDayLabelOutlineColor!: Color\n\n    @ComponentUtils.required()\n    @property(Label)\n    private coinLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Node)\n    private rewardItemsNode!: Node\n\n    @ComponentUtils.required()\n    @property(Node)\n    private checkNode!: Node\n\n    @ComponentUtils.required()\n    @property(Node)\n    protected glowNodes: Node[] = []\n\n    @ComponentUtils.required()\n    @property({ type: UIOpacity })\n    public uiOpacity!: UIOpacity\n\n    public onLoad() {\n        ComponentUtils.validateRequiredProperties(this, DayBlock)\n\n        this.initDefaultProperties()\n    }\n\n    private initDefaultProperties(): void {\n        this.defaultBackground = this.background.spriteFrame!\n        this.defaultTopBackground = this.topBackground.spriteFrame!\n\n        this.defaultDayLabelOutlineColor = new Color(this.dayLabel.outlineColor)\n        this.blueDayLabelOutlineColor = new Color(DAY_LABEL_BLUE_OUTLINE_COLOR)\n    }\n\n    public updateInfo(payload: IDayPayload): void {\n        this.updateBackground(payload)\n        this.updateDayLabel(payload)\n\n        this.coinLabel.string = payload.value.toString()\n\n        this.updateRewardItems(payload)\n    }\n\n    protected updateBackground(payload: IDayPayload): void {\n        if (!this.blueTopBackground || !this.blueBackground) {\n            return\n        }\n\n        switch (payload.status) {\n            case 'ready':\n                this.background.spriteFrame = this.blueBackground\n                this.topBackground.spriteFrame = this.blueTopBackground\n                break\n            case 'waiting':\n                this.background.spriteFrame = this.defaultBackground\n                this.topBackground.spriteFrame = this.blueTopBackground\n                break\n            case 'rewarded':\n                this.background.spriteFrame = this.defaultBackground\n                this.topBackground.spriteFrame = this.defaultTopBackground\n                break\n        }\n    }\n\n    protected updateDayLabel(payload: IDayPayload): void {\n        this.dayLocalizer.setParams([payload.day.toString()])\n\n        let dayLabelColor = this.defaultDayLabelOutlineColor\n\n        if (payload.status !== 'rewarded') {\n            dayLabelColor = this.blueDayLabelOutlineColor\n        }\n\n        this.dayLabel.outlineColor = dayLabelColor\n        this.dayLabel.shadowColor = dayLabelColor\n    }\n\n    private updateRewardItems(payload: IDayPayload): void {\n        switch (payload.status) {\n            case 'ready':\n                this.rewardItemsNode.active = true\n                this.checkNode.active = false\n                this.setGlowNodesActive(true)\n                break\n            case 'waiting':\n                this.rewardItemsNode.active = true\n                this.checkNode.active = false\n                this.setGlowNodesActive(false)\n                break\n            case 'rewarded':\n                this.rewardItemsNode.active = false\n                this.checkNode.active = true\n                this.setGlowNodesActive(false)\n                break\n        }\n    }\n\n    protected setGlowNodesActive(active: boolean): void {\n        if (!this.glowNodes) return\n\n        // biome-ignore lint/complexity/noForEach: simple\n        this.glowNodes.forEach((node) => {\n            node.active = active\n        })\n    }\n}\n","import { _decorator, Button, Node as CCNode, Component, Node, tween, Vec3 } from 'cc'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport AdsUtils from '../../utils/AdsUtils'\nimport AnimUtils from '../../utils/AnimUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport DailyRewardsUtils from '../../utils/DailyRewardsUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport { BaseScreen } from '../BaseScreen'\nimport { DayBlock } from './components/DayBlock'\n\nconst { ccclass, property, requireComponent } = _decorator\n\nconst {\n    Events,\n    Utils: { Array: A, Signal: S },\n    Plugins: { Ads: { Types: AdsTypes } = {} },\n} = Ludex\n\nconst { event, player } = codex\n\ntype DailyReward = Ludex.Plugins.DailyRewards.DailyReward\ntype Signal = InstanceType<typeof S.Signal>\n\n@ccclass('DailyRewardsScreen')\n@requireComponent(BaseScreen)\nexport class DailyRewardsScreen extends Component {\n    private rewardsData: DailyReward[] = []\n    private currentRewardsData: DailyReward | undefined\n\n    @ComponentUtils.required()\n    @property(CCNode)\n    private readonly loadingRing!: CCNode\n\n    @ComponentUtils.required()\n    @property(Button)\n    private readonly claimButton!: Button\n\n    @ComponentUtils.required()\n    @property(Button)\n    private readonly claimX2Button!: Button\n\n    @ComponentUtils.required()\n    @property(Button)\n    private readonly closeButton!: Button\n\n    @ComponentUtils.required()\n    @property(Button)\n    private readonly backgroundButton!: Button\n\n    @ComponentUtils.required()\n    @property(Button)\n    private readonly continueButton!: Button\n\n    @ComponentUtils.required()\n    @property(Node)\n    private readonly claimButtonScallableNode!: Node\n\n    @ComponentUtils.required()\n    @property(Node)\n    private readonly claimX2ButtonScallableNode!: Node\n\n    @ComponentUtils.required()\n    @property(Node)\n    private readonly continueButtonScallableNode!: Node\n\n    @property([DayBlock])\n    private readonly dailyBlocks: DayBlock[] = []\n\n    private readonly dailyLoadingController = new S.SignalController()\n\n    public __preload() {\n        this.enabled = false\n        ComponentUtils.validateRequiredProperties(this, DailyRewardsScreen)\n        this.listenScreenEvents()\n\n        if (AdsTypes) {\n            AdsUtils.preloadAdsByType(AdsTypes.REWARDED_VIDEO)\n        }\n    }\n\n    protected onDestroy(): void {\n        this.unListenScreenEvents()\n    }\n\n    private listenScreenEvents() {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private readonly handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.enabled = true\n        this.setLoading()\n    }\n\n    private readonly handleOpenedScreen = async (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.open()\n    }\n\n    private setLoading() {\n        this.loadingRing.active = true\n\n        for (const block of this.dailyBlocks) {\n            block.uiOpacity.opacity = 0\n        }\n\n        this.continueButtonScallableNode.active = false\n        this.claimButtonScallableNode.active = false\n        this.claimX2ButtonScallableNode.active = false\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload ?? {}\n        if (screenName !== this.node.name) return false\n        return true\n    }\n\n    public open() {\n        this.setInteractableButtons(true)\n        this.node.scene.emit(GameplayEvents.HIDE_UI)\n        this.openAsync()\n    }\n\n    private async openAsync() {\n        const signal = this.dailyLoadingController.renew()\n        const shouldPlayAnim = !DailyRewardsUtils.hasShownPopup()\n\n        const rewardsData = await DailyRewardsUtils.getRewardsData()\n        if (rewardsData === null) {\n            this.close()\n            return\n        }\n\n        const currentRewardsData = A.search(rewardsData, (reward) => reward.status === 'ready')\n        this.updateScreenData(rewardsData, currentRewardsData)\n        if (shouldPlayAnim) {\n            await this.runPopUpAnim(signal)\n        } else {\n            this.showElements()\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private updateScreenData(rewards: DailyReward[], currentReward: DailyReward | undefined): void {\n        this.rewardsData = rewards\n        this.currentRewardsData = currentReward\n\n        for (let i = 0, len = this.dailyBlocks.length; i < len; i++) {\n            const rewardData = this.rewardsData[i] as DailyReward\n            const block = this.dailyBlocks[i] as DayBlock\n            const { id: day, type, value, status } = rewardData\n            block.updateInfo({ day, type, value, status })\n        }\n    }\n\n    public close() {\n        DailyRewardsUtils.setHasShownPopup()\n        this.setInteractableButtons(false)\n        this.dailyLoadingController.abort()\n        event.emit(Events.CLOSE_SCREEN, { screenName: this.node.name })\n        this.node.scene.emit(GameplayEvents.SHOW_UI)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async runPopUpAnim(signal: Signal): Promise<void> {\n        this.loadingRing.active = false\n        await Promise.all(this.dailyBlocks.map((block, index) => this.runBlockPopUpAnim(block, index * 0.15, signal)))\n        await this.runButtonPopUpAnim(signal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private showElements(): void {\n        this.loadingRing.active = false\n\n        for (const block of this.dailyBlocks) {\n            block.uiOpacity.opacity = 255\n            block.node.setScale(1, 1, 1)\n        }\n\n        if (this.currentRewardsData === undefined) {\n            this.continueButtonScallableNode.active = true\n            this.claimButtonScallableNode.active = false\n            this.claimX2ButtonScallableNode.active = false\n            this.continueButtonScallableNode.setScale(1, 1, 1)\n        } else {\n            this.continueButtonScallableNode.active = false\n            this.claimButtonScallableNode.active = true\n            this.claimX2ButtonScallableNode.active = true\n            this.claimButtonScallableNode.setScale(1, 1, 1)\n            this.claimX2ButtonScallableNode.setScale(1, 1, 1)\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async runButtonPopUpAnim(signal?: Signal): Promise<void> {\n        if (this.currentRewardsData === undefined) {\n            this.continueButtonScallableNode.active = true\n            this.claimButtonScallableNode.active = false\n            this.claimX2ButtonScallableNode.active = false\n            this.continueButtonScallableNode.setScale(0, 0, 0)\n            await AnimUtils.runTweenAsync(\n                tween(this.continueButtonScallableNode).to(0.3, { scale: Vec3.ONE }, { easing: 'backOut' }),\n                signal,\n            )\n            return\n        }\n\n        this.continueButtonScallableNode.active = false\n        this.claimButtonScallableNode.active = true\n        this.claimX2ButtonScallableNode.active = true\n\n        this.claimButtonScallableNode.setScale(0, 0, 0)\n        this.claimX2ButtonScallableNode.setScale(0, 0, 0)\n\n        await Promise.all([\n            AnimUtils.runTweenAsync(\n                tween(this.claimButtonScallableNode).to(0.3, { scale: Vec3.ONE }, { easing: 'backOut' }),\n                signal,\n            ),\n            AnimUtils.runTweenAsync(\n                tween(this.claimX2ButtonScallableNode).delay(0.1).to(0.3, { scale: Vec3.ONE }, { easing: 'backOut' }),\n                signal,\n            ),\n        ])\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async runBlockPopUpAnim(dayBlock: DayBlock, delay: number, signal?: Signal): Promise<void> {\n        dayBlock.node.setScale(1.2, 1.2, 1.2)\n        dayBlock.uiOpacity.opacity = 0\n\n        const opacity = AnimUtils.runTweenAsync(\n            tween(dayBlock.uiOpacity).delay(delay).to(0.3, { opacity: 255 }, { easing: 'quadOut' }),\n            signal,\n        )\n\n        const scale = AnimUtils.runTweenAsync(\n            tween(dayBlock.node).delay(delay).to(0.3, { scale: Vec3.ONE }, { easing: 'backOut' }),\n            signal,\n        )\n\n        await Promise.all([opacity, scale])\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    public handleOnClaim(): void {\n        if (this.currentRewardsData === undefined) {\n            ScreenUtils.showNotificationScreenWithLocalizedKey('error.rewardFail', 2)\n            return\n        }\n\n        this.setInteractableButtons(false)\n        this.claimReward(this.currentRewardsData)\n    }\n\n    public async handleOnClaimX2(): Promise<void> {\n        if (this.currentRewardsData === undefined) {\n            ScreenUtils.showNotificationScreenWithLocalizedKey('error.rewardFail', 2)\n            return\n        }\n\n        this.setInteractableButtons(false)\n\n        const success = await AdsUtils.showRewardVideoAdAsync()\n\n        if (!success) {\n            this.setInteractableButtons(true)\n            return\n        }\n\n        const x2Reward = true\n        this.claimReward(this.currentRewardsData, x2Reward)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private claimReward(rewardData: DailyReward, x2: boolean = false): void {\n        DailyRewardsUtils.logLoginReward()\n\n        const coinValue = rewardData.value * (x2 ? 2 : 1)\n\n        this.node.scene.emit(GameplayEvents.ADD_COINS, {\n            coins: coinValue,\n            collectionAnimation: {\n                animateTextOnly: false,\n            },\n        } as CoinDataPayload)\n\n        const gameData = player.getGameData()\n\n        if (rewardData.items && gameData) {\n            const hintValue = rewardData.items.hint * (x2 ? 2 : 1)\n            const thunderValue = rewardData.items.thunder * (x2 ? 2 : 1)\n            const stormValue = rewardData.items.storm * (x2 ? 2 : 1)\n\n            player.setGameData({\n                items: {\n                    hint: gameData.items.hint + hintValue,\n                    thunder: gameData.items.thunder + thunderValue,\n                    storm: gameData.items.storm + stormValue,\n                    pliers: gameData.items.pliers,\n                },\n            })\n        }\n\n        this.close()\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private setInteractableButtons(interactable: boolean): void {\n        this.claimButton.interactable = interactable\n        this.claimX2Button.interactable = interactable\n        this.closeButton.interactable = interactable\n        this.backgroundButton.interactable = interactable\n        this.continueButton.interactable = interactable\n    }\n}\n","import { _decorator } from 'cc'\nimport { DayBlock, type IDayPayload } from './DayBlock'\n\nconst { ccclass } = _decorator\n\n@ccclass('DayBlockRed')\nclass DayBlockRed extends DayBlock {\n    protected updateBackground(payload: IDayPayload): void {\n        if (!this.blueTopBackground || !this.blueBackground) {\n            return\n        }\n\n        switch (payload.status) {\n            case 'ready':\n                this.background.spriteFrame = this.blueBackground\n                this.topBackground.spriteFrame = this.blueTopBackground\n                break\n            case 'waiting':\n                this.background.spriteFrame = this.defaultBackground\n                this.topBackground.spriteFrame = this.defaultTopBackground\n                break\n        }\n    }\n\n    protected updateDayLabel(payload: IDayPayload): void {\n        this.dayLocalizer.setParams([payload.day.toString()])\n\n        let dayLabelColor = this.defaultDayLabelOutlineColor\n\n        if (payload.status === 'ready') {\n            dayLabelColor = this.blueDayLabelOutlineColor\n        }\n\n        this.dayLabel.shadowColor = dayLabelColor\n        this.dayLabel.outlineColor = dayLabelColor\n    }\n}\n\nexport default DayBlockRed\n","import { _decorator, Button, Component, Label, Node } from 'cc'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport AdsUtils from '../../utils/AdsUtils'\nimport AudioUtils from '../../utils/AudioUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport SortNodeUtils from '../../utils/SortNodeUtils'\nimport { BaseScreen } from '../BaseScreen'\n\nconst { ccclass, property, requireComponent } = _decorator\n\nconst { event } = codex\nconst {\n    Events,\n    Plugins: { Ads: { Types: AdsTypes } = {} },\n} = Ludex\n\n@ccclass('GetCoinScreen')\n@requireComponent(BaseScreen)\nexport class GetCoinScreen extends Component {\n    private screen!: BaseScreen\n    private payload!: SwitchScreenPayload\n\n    @ComponentUtils.required()\n    @property(Label)\n    private quantityLabel!: Label\n\n    @ComponentUtils.required()\n    @property(Button)\n    public closeButtonComponent!: Button\n\n    @ComponentUtils.required()\n    @property(Button)\n    public getNowButtonComponent!: Button\n\n    @ComponentUtils.required()\n    @property(Node)\n    private particle!: Node\n\n    public __preload() {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen)!\n        this.listenScreenEvents()\n    }\n\n    protected onLoad(): void {\n        SortNodeUtils.setNodeToLayer(this.particle, 'Particles')\n\n        if (AdsTypes) {\n            AdsUtils.preloadAdsByType(AdsTypes.REWARDED_VIDEO)\n        }\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n    }\n\n    private listenScreenEvents() {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        console.log('GetCoinScreen.OPENING_SCREEN', payload)\n        if (!this.validateEventPayload(payload)) return\n\n        this.setInteractableButtons(true)\n        this.updateStatus()\n    }\n\n    private handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.open()\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        if (!('screenName' in payload)) return false\n\n        const { screenName } = payload\n        if (screenName !== this.node.name) return false\n\n        this.payload = payload\n        return true\n    }\n\n    public open() {\n        this.updateStatus()\n        this.runPopUpAnimation()\n        this.node.scene.emit(GameplayEvents.HIDE_UI)\n    }\n\n    public close() {\n        this.setInteractableButtons(false)\n\n        event.emit(Events.CLOSE_SCREEN, { screenName: this.node.name })\n        this.node.scene.emit(GameplayEvents.SHOW_UI)\n    }\n\n    private updateStatus() {\n        this.updateCoinQuantity()\n    }\n\n    private runPopUpAnimation(): void {\n        if (!this.screen.container) {\n            console.warn('GetCoinScreen: screen not found')\n        }\n    }\n\n    private updateCoinQuantity() {\n        const quantity = this.getQuantity()\n\n        if (quantity) {\n            this.updateQuantityLabel(quantity)\n        }\n    }\n\n    private updateQuantityLabel(quantity: number) {\n        this.quantityLabel.string = `x${quantity.toString()}`\n    }\n\n    private getQuantity(): number {\n        const { screenData } = this.payload\n\n        if (!screenData) return 0\n\n        if ('quantity' in screenData && screenData.quantity && typeof screenData.quantity === 'number') {\n            return screenData.quantity\n        }\n\n        return 0\n    }\n\n    public handleAddCoin() {\n        const quantity = this.getQuantity()\n        this.node.scene.emit(GameplayEvents.ADD_COINS, {\n            coins: quantity,\n            collectionAnimation: {\n                animateTextOnly: false,\n            },\n            skipAnimation: true,\n        } as CoinDataPayload)\n        this.close()\n    }\n\n    // ? Callback for click event of GetNowButton\n    public async handleGetNowButtonClicked(): Promise<void> {\n        AudioUtils.stopAllSounds()\n\n        const success = await AdsUtils.showRewardVideoAdAsync()\n        if (!success) return\n\n        this.handleAddCoin()\n    }\n\n    private setInteractableButtons(interactable: boolean) {\n        this.closeButtonComponent.interactable = interactable\n        this.getNowButtonComponent.interactable = interactable\n        this.screen.backgroundMaskButton.interactable = interactable\n    }\n}\n","import { Button, Component, Label, Prefab, Sprite, SpriteFrame, _decorator, find } from 'cc'\nimport { Sound } from '../../components/audio/Sound'\nimport { Localize } from '../../components/text/Localize'\nimport CoinData from '../../constants/CoinData'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport ItemKeys, { type ItemKey } from '../../gameplay/constants/ItemKeys'\nimport AdsUtils from '../../utils/AdsUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport { BaseScreen } from '../BaseScreen'\nconst { ccclass, property } = _decorator\n\nconst { event, player, analytics, language } = codex\n\nconst {\n    Events,\n    Utils: { Array: A },\n    Plugins: {\n        Ads: { Types: AdsTypes } = {},\n        Analytics: { Events: AnalyticsEvents } = {},\n    },\n} = Ludex\n\nconst ValidItemKeys = Object.values(ItemKeys)\n\n@ccclass('GetItemScreen')\nexport class GetItemScreen extends Component {\n    private screen!: BaseScreen\n\n    private data!: Required<GetItemScreenData>\n\n    @property({ type: Prefab, group: 'Item' })\n    public itemFxPrefab!: Prefab\n\n    @property({ type: Sprite, group: 'Item' })\n    public itemSprite!: Sprite\n\n    @property({ type: SpriteFrame, group: 'Item' })\n    public hintSpriteFrame!: SpriteFrame\n\n    @property({ type: SpriteFrame, group: 'Item' })\n    public stormSpriteFrame!: SpriteFrame\n\n    @property({ type: SpriteFrame, group: 'Item' })\n    public thunderSpriteFrame!: SpriteFrame\n\n    @property({ type: SpriteFrame, group: 'Item' })\n    public pliersSpriteFrame!: SpriteFrame\n\n    @property({ type: Label, group: 'Title' })\n    public titleLabel!: Label\n\n    @property({ type: Localize, group: 'Title' })\n    public titleLocalizer!: Localize\n\n    @property({ type: Label, group: 'Description' })\n    public descriptionLabel!: Label\n\n    @property({ type: Localize, group: 'Description' })\n    public descriptionLocalizer!: Localize\n\n    @property(Label)\n    public coinLabel!: Label\n\n    @property({ type: Button, group: 'Buttons' })\n    public closeButtonComponent!: Button\n\n    @property({ type: Button, group: 'Buttons' })\n    public buyItemButtonComponent!: Button\n\n    @property({ type: Button, group: 'Buttons' })\n    public getNowButtonComponent!: Button\n\n    public __preload() {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen)!\n        this.validateRequiredComponents()\n        this.listenScreenEvents()\n\n        if (AdsTypes) {\n            AdsUtils.preloadAdsByType(AdsTypes.REWARDED_VIDEO)\n        }\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenScreenEvents() {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.screen) {\n            throw new Error('GetItemScreen: screen not found')\n        }\n\n        if (!this.validateEventPayload(payload)) return\n        if (!this.validateEventPayloadData(payload.screenData)) return\n\n        this.setInteractableButtons(true)\n\n        this.data = payload.screenData\n        this.updateStatus(payload.screenData)\n    }\n\n    private handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.open()\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload ?? {}\n        if (screenName !== this.node.name) return false\n\n        return true\n    }\n\n    private validateEventPayloadData(data?: ScreenData): data is Required<GetItemScreenData> {\n        if (!data) return false\n\n        if (!('item' in data) || !A.has(ValidItemKeys, data.item)) return false\n\n        if (!('quantity' in data) || typeof data.quantity !== 'number') return false\n\n        if (\n            'localizedMessageKey' in data &&\n            data.localizedMessageKey !== undefined &&\n            !language.hasTextKey(data.localizedMessageKey)\n        )\n            return false\n\n        return true\n    }\n\n    public open() {\n        this.node.scene.emit(GameplayEvents.GAME_PAUSE)\n    }\n\n    public close() {\n        this.setInteractableButtons(false)\n\n        event.emit(Events.CLOSE_SCREEN, { screenName: this.node.name })\n        this.node.scene.emit(GameplayEvents.GAME_RESUME)\n    }\n\n    private updateStatus(data: Required<GetItemScreenData>): void {\n        this.updateItemIcon(data.item)\n        this.updateTitle(data.item)\n\n        if (data.localizedMessageKey) {\n            this.updateDescription(data.localizedMessageKey)\n        }\n\n        this.updateButtons(data.item)\n    }\n\n    private updateItemIcon(itemType: ItemKey): void {\n        switch (itemType) {\n            case ItemKeys.HINT:\n                this.itemSprite.spriteFrame = this.hintSpriteFrame\n                break\n            case ItemKeys.STORM:\n                this.itemSprite.spriteFrame = this.stormSpriteFrame\n                break\n            case ItemKeys.THUNDER:\n                this.itemSprite.spriteFrame = this.thunderSpriteFrame\n                break\n            case ItemKeys.PLIERS:\n                this.itemSprite.spriteFrame = this.pliersSpriteFrame\n                break\n        }\n    }\n\n    private getItemLocalizedTitleKey(itemType: ItemKey): Ludex.Plugins.Language.TextKey {\n        switch (itemType) {\n            case ItemKeys.HINT:\n                return 'item.hint'\n            case ItemKeys.STORM:\n                return 'item.storm'\n            case ItemKeys.THUNDER:\n                return 'item.thunder'\n            case ItemKeys.PLIERS:\n                return 'item.pliers'\n        }\n    }\n\n    private updateTitle(itemType: ItemKey): void {\n        this.titleLocalizer.key = this.getItemLocalizedTitleKey(itemType)\n    }\n\n    private updateDescription(key: Ludex.Plugins.Language.TextKey): void {\n        this.descriptionLocalizer.key = key\n    }\n\n    private updateButtons(itemType: ItemKey): void {\n        const canBuyItem = this.canBuyItem(itemType)\n\n        this.buyItemButtonComponent.node.active = canBuyItem\n        this.getNowButtonComponent.node.active = !canBuyItem\n\n        if (canBuyItem) {\n            this.coinLabel.string = `${CoinData.ITEMS[itemType] * 3}`\n        }\n    }\n\n    private canBuyItem(itemType: ItemKey): boolean {\n        const gameData = player.getGameData()\n        if (!gameData) return false\n\n        const { coins } = gameData\n\n        return coins >= CoinData.ITEMS[itemType] * 3\n    }\n\n    public async handleAddItem(): Promise<void> {\n        if (!this.data.item) return\n\n        const quantity = 3\n\n        if (AnalyticsEvents) {\n            analytics.event(AnalyticsEvents.EARN_ITEM, {\n                item_name: this.data.item,\n                value: quantity,\n            })\n        }\n\n        this.node.scene.emit(GameplayEvents.ADD_ITEM, {\n            animate: {\n                startWorldPosition: this.itemSprite.node.worldPosition.clone(),\n            },\n            item: this.data.item,\n            quantity,\n        } as AddItemPayload)\n    }\n\n    // ? Callback for click event of GetNowButton\n    public async handleGetNowButtonClicked(): Promise<void> {\n        this.stopAllSounds()\n\n        const success = await AdsUtils.showRewardVideoAdAsync()\n        if (!success) return\n\n        this.handleAddItem()\n        this.close()\n    }\n\n    public async handleBuyItemButtonClicked(): Promise<void> {\n        this.node.scene.emit(GameplayEvents.REMOVE_COINS, {\n            coins: CoinData.ITEMS[this.data.item] * 3,\n            collectionAnimation: {\n                animateTextOnly: true,\n            },\n        } as CoinDataPayload)\n\n        this.handleAddItem()\n        this.close()\n    }\n\n    private stopAllSounds(): void {\n        find('Sound')?.getComponent(Sound)?.stopAll()\n    }\n\n    private setInteractableButtons(interactable: boolean) {\n        this.closeButtonComponent.interactable = interactable\n        this.buyItemButtonComponent.interactable = interactable\n        this.getNowButtonComponent.interactable = interactable\n        this.screen.backgroundMaskButton.interactable = interactable\n    }\n}\n","import { _decorator, Button, Component, tween, UIOpacity } from 'cc'\nimport { Localize } from '../../components/text/Localize'\nimport AdsUtils from '../../utils/AdsUtils'\nimport AnimUtils from '../../utils/AnimUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport { BaseScreen } from '../BaseScreen'\n\nconst { ccclass, requireComponent, property } = _decorator\n\nconst {\n    Events,\n    Plugins: {\n        Ads: { Types: AdsTypes } = {},\n    },\n} = Ludex\nconst { event } = codex\n\n@ccclass('GetRewardsScreen')\n@requireComponent(BaseScreen)\nexport class GetRewardsScreen extends Component {\n    private screen!: BaseScreen\n\n    @property(Localize)\n    private countDownLocalizer!: Localize\n\n    @property(Button)\n    private skipButton!: Button\n\n    @property(Button)\n    private claimButton!: Button\n\n    public __preload() {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen)!\n\n        this.validateRequiredComponents()\n        this.listenScreenEvents()\n\n        if (AdsTypes) {\n            AdsUtils.preloadAdsByType(AdsTypes.REWARDED_VIDEO)\n        }\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenScreenEvents() {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.setInteractableButtons(false)\n    }\n\n    private handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.open()\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload ?? {}\n\n        if (screenName !== this.node.name) return false\n\n        return true\n    }\n\n    public open() {\n        this.updateStatus()\n        this.runPopUpAnimation()\n        this.runCountdownAnimation()\n    }\n\n    public close(getRewardsSuccess: boolean, rewardsAdShown: boolean = false) {\n        this.setInteractableButtons(false)\n\n        event.emit(Events.CLOSE_SCREEN, {\n            screenName: this.node.name,\n            screenData: { getRewardsSuccess, rewardsAdShown },\n        } as SwitchScreenPayload)\n    }\n\n    private runCountdownAnimation(): void {\n        let time = 5\n        this.countDownLocalizer.setParams([time.toString()])\n\n        const updateTime = () => {\n            if (time <= 0) {\n                this.stopCountdownAnimation()\n                return\n            }\n\n            time--\n\n            if (time === 3) this.runButtonAnimation()\n\n            this.countDownLocalizer.setParams([time.toString()])\n        }\n\n        this.schedule(updateTime, 1.0, 6)\n    }\n\n    private async stopCountdownAnimation(): Promise<void> {\n        this.unscheduleAllCallbacks()\n\n        if (GameSDK.isGameSDK('Yandex')) {\n            this.close(false)\n            return\n        }\n\n        const success = await AdsUtils.showRewardedInterstitialAdAsync()\n        this.close(success, true)\n    }\n\n    public handleClickedSkip(): void {\n        this.unscheduleAllCallbacks()\n        this.close(false)\n    }\n\n    public async handleClickedClaim(): Promise<void> {\n        this.unscheduleAllCallbacks()\n        const success = await AdsUtils.showRewardedInterstitialAdAsync()\n        this.close(success, true)\n    }\n\n    private runPopUpAnimation(): void {\n        if (!this.screen.container) {\n            console.warn('StartLevelScreen: screen not found')\n        }\n    }\n\n    private async runButtonAnimation(): Promise<void> {\n        const button = GameSDK.isGameSDK('Yandex') ? this.claimButton : this.skipButton\n        const buttonOpacity = button.node.getComponent(UIOpacity)\n\n        if (!buttonOpacity) return\n\n        const opacityTween = tween(buttonOpacity).to(0.3, { opacity: 255 })\n\n        await AnimUtils.runTweenAsync(opacityTween)\n\n        this.setInteractableButtons(true)\n    }\n\n    private updateStatus(): void {\n        const isYandex = GameSDK.isGameSDK('Yandex')\n\n        this.skipButton.node.active = !isYandex\n        this.claimButton.node.active = isYandex\n        this.countDownLocalizer.key = isYandex ? 'ads.levelAfterT' : 'ads.adAfterT'\n\n        this.skipButton.getComponent(UIOpacity)!.opacity = 0\n        this.claimButton.getComponent(UIOpacity)!.opacity = 0\n    }\n\n    private setInteractableButtons(interactable: boolean) {\n        this.skipButton.interactable = interactable\n        this.claimButton.interactable = interactable\n    }\n}\n","import { Component, _decorator } from 'cc'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport AdsUtils from '../../utils/AdsUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport { BaseScreen } from '../BaseScreen'\n\nconst { ccclass, requireComponent } = _decorator\n\nconst {\n    Events,\n    Plugins: {\n        Ads: { Types: AdsTypes } = {},\n    },\n} = Ludex\nconst { event } = codex\n\n@ccclass('HardLevelScreen')\n@requireComponent(BaseScreen)\nexport class HardLevelScreen extends Component {\n    private screen!: BaseScreen\n\n    public __preload() {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen)!\n        this.validateRequiredComponents()\n        this.listenScreenEvents()\n\n        if (AdsTypes) {\n            AdsUtils.preloadAdsByType(AdsTypes.REWARDED_INTERSTITIAL)\n        }\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenScreenEvents() {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n    }\n\n    private handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.open()\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload ?? {}\n\n        if (screenName !== this.node.name) return false\n\n        return true\n    }\n\n    public open() {\n        this.runPopUpAnimation()\n    }\n\n    public close() {\n        ScreenUtils.closeScreen(ScreenKeysEnum.HARD_LEVEL_SCREEN)\n    }\n\n    private runPopUpAnimation(): void {\n        if (!this.screen.container) {\n            console.warn('StartLevelScreen: screen not found')\n        }\n    }\n}\n","import { Component, Node, Sprite, SpriteFrame, Vec3, _decorator, tween } from 'cc'\nimport { CodeSoundKeys } from '../../constants/SoundKeys'\nimport { ParticleSystem } from '../../particles/ParticleSystem'\nimport AnimUtils from '../../utils/AnimUtils'\nimport AudioUtils from '../../utils/AudioUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\n\nconst { ccclass, property } = _decorator\n\nconst ANGLE = 30\nconst DISTANCE = 300\nconst DELAY = 0.15\n\n@ccclass('GetRewardsEffect')\nexport class GetRewardsEffect extends Component {\n    @property(SpriteFrame)\n    private hint!: SpriteFrame\n\n    @property(SpriteFrame)\n    private thunder!: SpriteFrame\n\n    @property(SpriteFrame)\n    private storm!: SpriteFrame\n\n    @property(SpriteFrame)\n    private pliers!: SpriteFrame\n\n    @property(ParticleSystem)\n    private particles: ParticleSystem[] = []\n\n    public __preload() {\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public async playAnimation(items: ItemKey[], onItemFinish: () => void): Promise<void> {\n        const totalAngle = (items.length - 1) * ANGLE\n        const startAngle = -totalAngle / 2 + 90\n\n        await Promise.all(\n            items.map((item, index) => {\n                const sprite = this.createSprite(item)\n                const angle = startAngle + index * ANGLE\n                const delay = index * DELAY\n\n                sprite.node.position = new Vec3(\n                    Math.cos(angle * (Math.PI / 180)) * DISTANCE,\n                    Math.sin(angle * (Math.PI / 180)) * DISTANCE,\n                    0,\n                )\n\n                const nodeTween = tween(sprite.node)\n                nodeTween.delay(delay)\n                nodeTween.to(0.6, { position: Vec3.ZERO, scale: new Vec3(0.7, 0.7, 0.7) }, { easing: 'backIn' })\n\n                return AnimUtils.runTweenAsync(nodeTween).then(() => {\n                    onItemFinish()\n                    AudioUtils.playSound(CodeSoundKeys.COLLECT_STARS)\n                    this.playExplodeEffect()\n                    sprite.node.destroy()\n                })\n            }),\n        )\n    }\n\n    private playExplodeEffect(): void {\n        for (const particle of this.particles) {\n            particle.stop()\n            particle.play()\n        }\n    }\n\n    private createSprite(item: ItemKey): Sprite {\n        const spriteFrame = this.getSpriteFrame(item)\n        const sprite = new Node().addComponent(Sprite)\n\n        sprite.spriteFrame = spriteFrame\n        sprite.node.parent = this.node\n        sprite.node.scale = new Vec3(1.5, 1.5, 1.5)\n\n        return sprite\n    }\n\n    private getSpriteFrame(item: ItemKey) {\n        switch (item) {\n            case 'hint':\n                return this.hint\n            case 'thunder':\n                return this.thunder\n            case 'storm':\n                return this.storm\n            case 'pliers':\n                return this.pliers\n            default:\n                return null\n        }\n    }\n}\n","import { Animation, AnimationClip, Button, Component, Label, Node, UIOpacity, Vec3, _decorator, lerp, tween } from 'cc'\nimport { Localize } from '../../components/text/Localize'\nimport CoinData from '../../constants/CoinData'\nimport { CustomModeLevel } from '../../gameplay/constants/CustomGameData'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport { ParticleSystem } from '../../particles/ParticleSystem'\nimport { CoinContainer } from '../../scenes/common/coin-container/CoinContainer'\nimport AdsUtils from '../../utils/AdsUtils'\nimport AnimUtils from '../../utils/AnimUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../utils/common/AnimAbortSignal'\nimport LayoutUtils from '../../utils/LayoutUtils'\nimport { BaseScreen } from '../BaseScreen'\nimport { GetRewardsEffect } from './GetRewardsEffect'\n\nconst { ccclass, property, requireComponent } = _decorator\n\nconst {\n    Events,\n    Utils: { Valid: V, Signal: S },\n    Plugins: { Ads: { Types: AdTypes } = {} },\n} = Ludex\nconst { event, player } = codex\n\n@ccclass('LevelCompleteScreen')\n@requireComponent(BaseScreen)\nexport class LevelCompleteScreen extends Component {\n    private screen!: BaseScreen\n\n    private level: number = 1\n    private coins: number = 40\n    private currentCoins: number = 0\n    private score: number = 0\n    private playAnimation: boolean = false\n    private getRewardsSuccess: boolean = false\n    private lookingForRewards: boolean = false\n\n    private playAnimationSignal: AnimAbortSignal = new AnimAbortSignal()\n\n    @property(Label)\n    private coinText!: Label\n\n    @property(Label)\n    private scoreText!: Label\n\n    @property(UIOpacity)\n    private lookingForRewardsText!: UIOpacity\n\n    @property(GetRewardsEffect)\n    private getRewardsEffect!: GetRewardsEffect\n\n    @property({ type: Button, group: 'Play Button' })\n    private playButton!: Button\n\n    @property({ type: Node, group: 'Play Button' })\n    private playBackground!: Node\n\n    @property({ type: UIOpacity, group: 'Play Button' })\n    private shineBackground!: UIOpacity\n\n    @property({ type: Node, group: 'Play Button' })\n    private hardLevelBackground!: Node\n\n    @property({ type: Node, group: 'Play Button' })\n    private buttonsContainer!: Node\n\n    @property({ type: Button, group: 'Home Button' })\n    private homeButton!: Button\n\n    @property({ type: Animation, group: 'Coin Container' })\n    private coinAnimation!: Animation\n\n    @property({ type: CoinContainer, group: 'Coin Container' })\n    private coinContainer!: CoinContainer\n\n    @property({ type: Animation, group: 'Coin Container' })\n    private coinContainerAnimation!: Animation\n\n    @property({ type: AnimationClip, group: 'Coin Container' })\n    private coinContainerEnterClip!: AnimationClip\n\n    @property({ type: AnimationClip, group: 'Coin Container' })\n    private coinContainerExitClip!: AnimationClip\n\n    @property({ type: ParticleSystem, group: 'Particles' })\n    private leftConfetti!: ParticleSystem\n\n    @property({ type: ParticleSystem, group: 'Particles' })\n    private rightConfetti!: ParticleSystem\n\n    @property({ type: ParticleSystem, group: 'Particles' })\n    private bokehParticles!: ParticleSystem\n\n    @property(UIOpacity)\n    private welldoneUiOpacity!: UIOpacity\n\n    @property(Localize)\n    private welldoneLocalize!: Localize\n\n    private localizeVisibilityController = new S.SignalController()\n\n    private coinContainerShown: boolean = false\n\n    public __preload() {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen)!\n        this.validateRequiredComponents()\n        this.listenScreenEvents()\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n        this.localizeVisibilityController.abort()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenScreenEvents() {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.screen) {\n            throw new Error('StarChestScreen: screen not found')\n        }\n\n        if (!this.validateEventPayload(payload)) return\n\n        this.setInteractableButtons(true)\n        this.hideTextUntilLocalized()\n    }\n\n    private async hideTextUntilLocalized() {\n        const signal = this.localizeVisibilityController.renew()\n        this.welldoneUiOpacity.opacity = 0\n        await this.welldoneLocalize.waitUntilLocalized()\n        if (signal.aborted) return\n        await AnimUtils.runTweenAsync(tween(this.welldoneUiOpacity).to(0.5, { opacity: 255 }), signal)\n    }\n\n    private handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n\n        this.open()\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        const { screenName, screenData } = payload ?? {}\n        if (screenName !== this.node.name) return false\n\n        if (!V.isObject(screenData)) return false\n\n        if (V.isNumber(screenData.level)) {\n            this.level = screenData.level\n            this.coins = this.level < 5 ? CoinData.LEVEL_BELOW_5 : CoinData.LEVEL_ABOVE_5\n        }\n\n        if (V.isNumber(screenData.coins)) {\n            this.currentCoins = screenData.coins\n        }\n\n        if (V.isNumber(screenData.score)) {\n            this.score = screenData.score\n        }\n\n        this.playAnimation = false\n        if (V.isObject(screenData.overrideAnimation)) {\n            this.playAnimation = screenData.overrideAnimation.openScreen === 'LevelCompleteOpenScreen'\n        }\n\n        this.lookingForRewards = false\n        if (V.isBoolean(screenData.lookingForRewards)) {\n            this.lookingForRewards = screenData.lookingForRewards\n        }\n\n        this.getRewardsSuccess = false\n        if (V.isBoolean(screenData.getRewardsSuccess)) {\n            this.getRewardsSuccess = screenData.getRewardsSuccess\n        }\n\n        return true\n    }\n\n    public open() {\n        this.updateStatus()\n        this.node.scene.emit(GameplayEvents.HIDE_UI)\n        this.tryPlayAnimation()\n    }\n\n    public async close(canShowRewardsAd: boolean = false) {\n        this.localizeVisibilityController.abort()\n\n        this.stopParticles()\n\n        if (this.coinContainerShown) {\n            this.coinContainerShown = false\n            await AnimUtils.runAnimationAsync(this.coinContainerAnimation, this.coinContainerExitClip.name)\n        }\n\n        event.emit(Events.CLOSE_SCREEN, {\n            screenName: this.node.name,\n            screenData: {\n                canShowRewardsAd,\n            },\n        } as SwitchScreenPayload)\n        this.node.scene.emit(GameplayEvents.ABORT_COIN_ANIMATION)\n    }\n\n    private updateStatus(): void {\n        this.updateCoinContainer()\n        this.updateButtonsContainer()\n        this.lookingForRewardsText.opacity = 0\n    }\n\n    private updateCoinContainer(): void {\n        this.coinContainer.updateCoins({\n            coins: this.currentCoins,\n        })\n    }\n\n    private updateButtonsContainer(): void {\n        const gameData = player.getGameData()\n        if (!gameData) return\n\n        const nextLevel = this.level + 1 > gameData.totalLevel ? this.level : this.level + 1\n\n        const isHardLevel = nextLevel % 5 === 0\n        const customModeUnlocked = nextLevel === CustomModeLevel\n\n        this.playButton.node.active = false\n        this.homeButton.node.active = false\n\n        if (customModeUnlocked) {\n            this.homeButton.node.active = true\n            return\n        }\n\n        this.playButton.node.active = true\n        this.playBackground.active = !isHardLevel\n        this.hardLevelBackground.active = isHardLevel\n    }\n\n    private tryPlayAnimation(): void {\n        if (!this.playAnimation) {\n            this.animateVisibleButtonContainer(true, false)\n\n            if (!this.getRewardsSuccess) return\n            this.getRewardsEffect.playAnimation(\n                ['storm', 'thunder'],\n                this.triggerCollectItemPlayButtonAnimation.bind(this),\n            )\n\n            return\n        }\n\n        this.screen.setScreenOpacity(255)\n        this.coinText.string = 'x0'\n        this.scoreText.string = '0'\n        this.animateVisibleButtonContainer(false, false)\n\n        // Play particle\n        this.playParticles()\n\n        // run this.animateCoin() after open animation\n        const anim = this.screen.getComponent(Animation)\n        if (anim) {\n            anim.once(Animation.EventType.FINISHED, this.handleParticleEnd)\n        } else {\n            this.handleParticleEnd()\n        }\n    }\n\n    private handleParticleEnd = async () => {\n        if (this.level) {\n            // ? Wait confetti to finish\n            await AnimUtils.waitTweenAsync(0.15)\n        }\n\n        await Promise.all([this.animateCoin(), this.animateScore()])\n\n        if (this.lookingForRewards) {\n            await this.handleLookingForRewards()\n        } else {\n            await this.animateVisibleButtonContainer(true)\n        }\n    }\n\n    private async handleLookingForRewards(): Promise<void> {\n        await this.animateLookingForRewards()\n\n        if (AdTypes && AdsUtils.isReadyAdShowable(AdTypes.REWARDED_INTERSTITIAL)) {\n            this.close(true)\n        } else {\n            this.animateVisibleButtonContainer(true)\n        }\n    }\n\n    private async animateCoin(): Promise<void> {\n        if (!this.screen.container) {\n            console.warn('LevelCompleteScreen: screen not found')\n            return\n        }\n\n        this.coinAnimation.play()\n\n        await AnimUtils.runOnUpdateAsync(this.node, 0.8, (ratio) => {\n            const quantity = lerp(0, this.coins, ratio)\n            const intQuantity = Math.floor(quantity)\n            this.coinText.string = `x${intQuantity}`\n        })\n\n        await this.animateCoinCollection()\n\n        this.coinText.string = `x${this.coins}`\n    }\n\n    private async animateScore(): Promise<void> {\n        AnimUtils.runOnUpdateAsync(this.scoreText.node, 0.8, (ratio) => {\n            const scoreNum = lerp(0, this.score, ratio)\n            this.scoreText.string = `${Math.floor(scoreNum)}`\n        })\n        this.scoreText.node.setScale(1, 1, 1)\n        this.scoreText.string = `${this.score}`\n    }\n\n    private async animateCoinCollection(): Promise<void> {\n        this.coinContainerShown = true\n        await AnimUtils.runAnimationAsync(this.coinContainerAnimation, this.coinContainerEnterClip.name)\n\n        this.node.scene.emit(GameplayEvents.ADD_COINS, {\n            coins: this.coins,\n            collectionAnimation: {\n                floatDuration: 0.5,\n                flyDuration: 0.5,\n                animateTextOnly: false,\n                target: this.coinContainer,\n            },\n        } as CoinDataPayload)\n    }\n\n    private async animateLookingForRewards(): Promise<void> {\n        const flashTween = tween(this.lookingForRewardsText)\n        flashTween.to(0.25, { opacity: 255 }, { easing: 'linear' }).delay(0.25)\n        flashTween.to(0.25, { opacity: 100 }, { easing: 'linear' }).delay(0.125)\n\n        await AnimUtils.runTweenAsync(\n            tween(this.lookingForRewardsText).repeat(2, flashTween).to(0.25, { opacity: 0 }, { easing: 'linear' }),\n        )\n\n        this.lookingForRewardsText.opacity = 0\n    }\n\n    private async animateVisibleButtonContainer(visible: boolean, animate: boolean = true): Promise<void> {\n        const endScale = visible ? 1 : 0\n\n        if (animate) {\n            this.playAnimationSignal.abort()\n            const signal = new AnimAbortSignal()\n            this.playAnimationSignal = signal\n\n            const startScale = visible ? 0 : 1\n\n            this.buttonsContainer.setScale(startScale, startScale, this.buttonsContainer.scale.z)\n\n            const scaleTween = tween(this.buttonsContainer).to(\n                0.5,\n                { scale: new Vec3(endScale, endScale, 1) },\n                { easing: 'backOut' },\n            )\n\n            if (!visible) this.setInteractableButtons(false)\n            await AnimUtils.runTweenAsync(scaleTween, signal)\n            if (visible) this.setInteractableButtons(true)\n        } else {\n            this.setInteractableButtons(visible)\n            this.buttonsContainer.setScale(endScale, endScale, this.buttonsContainer.scale.z)\n        }\n    }\n\n    private async triggerCollectItemPlayButtonAnimation(): Promise<void> {\n        this.playAnimationSignal.abort()\n        const signal = new AnimAbortSignal()\n        this.playAnimationSignal = signal\n\n        const scaleTween = tween(this.buttonsContainer)\n            .to(0.08, { scale: new Vec3(0.95, 1.05, 1) })\n            .to(0.08, { scale: new Vec3(1.05, 0.95, 1) })\n            .to(0.08, { scale: new Vec3(1, 1, 1) })\n\n        const shineTween = tween(this.shineBackground)\n            .to(0.08, { opacity: 50 }, { easing: 'quadOut' })\n            .to(0.08, { opacity: 0 }, { easing: 'quadIn' })\n\n        await Promise.all([AnimUtils.runTweenAsync(scaleTween, signal), AnimUtils.runTweenAsync(shineTween, signal)])\n    }\n\n    private playParticles(): void {\n        const isLandscape = LayoutUtils.isLandscape()\n\n        const burstCount = isLandscape ? 50 : 30\n        const startSpeedMin = isLandscape ? 5000 : 2000\n        const startSpeedMax = isLandscape ? 15000 : 10000\n        const leftAngle = isLandscape ? 40 : 60\n        const rightAngle = isLandscape ? 110 : 100\n        const arc = isLandscape ? 30 : 20\n\n        this.leftConfetti.bursts[0]!.count = this.rightConfetti.bursts[0]!.count = burstCount\n        this.leftConfetti.startSpeed.constantMin = this.rightConfetti.startSpeed.constantMin = startSpeedMin\n        this.leftConfetti.startSpeed.constantMax = this.rightConfetti.startSpeed.constantMax = startSpeedMax\n        this.leftConfetti.shapeModule.angle = leftAngle\n        this.rightConfetti.shapeModule.angle = rightAngle\n        this.leftConfetti.shapeModule.arc = this.rightConfetti.shapeModule.arc = arc\n\n        this.leftConfetti.play()\n        this.rightConfetti.play()\n        this.bokehParticles.play()\n    }\n\n    private stopParticles(): void {\n        this.leftConfetti.stop()\n        this.rightConfetti.stop()\n        this.bokehParticles.stop()\n    }\n\n    private setInteractableButtons(interactable: boolean): void {\n        this.playButton.interactable = interactable\n        this.homeButton.interactable = interactable\n    }\n\n    // ? Callback for click event of PlayButton\n    public handleClickedPlay() {\n        this.setInteractableButtons(false)\n        this.close()\n    }\n\n    // ? Callback for click event of HomeButton\n    public handleClickedHome() {\n        this.setInteractableButtons(false)\n        this.close()\n    }\n}\n","import { Component, ProgressBar, UIOpacity, _decorator, tween } from 'cc'\nimport { Localize } from '../../components/text/Localize'\nimport AnimUtils from '../../utils/AnimUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nconst { ccclass, property } = _decorator\n\ntype Locale = Ludex.Plugins.Language.Locale\ntype Locales = Ludex.Plugins.Language.Locales\n\ntype Key = keyof Locales[Locale]['text']\n\nconst PROGRESS_AMOUNT = 0.9\nconst LOADING_DURATION = 8\nconst HINT_UPDATE_INTERVAL = 5\n\nconst LOCALIZED_MESSAGE_KEYS = [\n    // ADS:\n    'interMsg.reviveAd',\n    'interMsg.doubleAd',\n\n    // GAMEMODE\n    'interMsg.ranked',\n    'interMsg.friendChallenge',\n    'interMsg.bragChallenge',\n\n    // GAMEPLAY\n    'interMsg.clearTiles',\n    'interMsg.beatClock',\n    'interMsg.clearBombs',\n    'interMsg.seasonPack',\n    'interMsg.collectStars',\n\n    // LEADERBOARDS\n    'interMsg.competeInLb',\n    'interMsg.competeWithFriends',\n\n    // POWERUPS\n    'interMsg.thunder',\n    'interMsg.hint',\n    'interMsg.pliers',\n    'interMsg.tornado',\n\n    // REWARDS\n    'interMsg.coins',\n    'interMsg.seasonTiles',\n    'interMsg.dailyLogin',\n    'interMsg.levelUp',\n    'interMsg.seasonRewards',\n] as const satisfies Key[]\n\n@ccclass('LoadingFullScreen')\nexport class LoadingFullScreen extends Component {\n    @ComponentUtils.required()\n    @property(ProgressBar)\n    private progressBar!: ProgressBar\n\n    @ComponentUtils.required()\n    private uiOpacity!: UIOpacity\n\n    @ComponentUtils.required()\n    @property(Localize)\n    private loadingLabelLocalizer!: Localize\n\n    public __preload(): void {\n        this.uiOpacity = this.getComponent(UIOpacity) as UIOpacity\n        ComponentUtils.validateRequiredProperties(this)\n    }\n\n    public onLoad(): void {\n        this.uiOpacity.opacity = 0\n        this.progressBar.progress = 0\n    }\n\n    public async show(_sceneName: string): Promise<void> {\n        this.uiOpacity.opacity = 0\n        this.progressBar.progress = 0\n\n        const fadeTween = tween(this.uiOpacity).to(0.5, { opacity: 255 }, { easing: 'cubicOut' })\n        const loadingTween = tween(this.progressBar).to(\n            LOADING_DURATION,\n            { progress: PROGRESS_AMOUNT },\n            { easing: 'cubicOut' },\n        )\n\n        this.runLoadingTextAnimation()\n\n        AnimUtils.runTweenAsync(fadeTween)\n        await AnimUtils.runTweenAsync(loadingTween)\n    }\n\n    public async hide(_sceneName: string): Promise<void> {\n        if (!this.uiOpacity || !this.progressBar) return\n\n        this.uiOpacity.opacity = 255\n        this.progressBar.progress = PROGRESS_AMOUNT\n\n        const fadeTween = tween(this.uiOpacity).to(0.5, { opacity: 0 }, { easing: 'cubicIn' })\n        const loadingTween = tween(this.progressBar).to(0.2, { progress: 1 }, { easing: 'cubicIn' })\n\n        this.runLoadingTextAnimation()\n        await AnimUtils.runTweenAsync(loadingTween)\n        this.stopLoadingTextAnimation()\n\n        await AnimUtils.runTweenAsync(fadeTween)\n        this.node.active = false\n    }\n\n    private runLoadingTextAnimation() {\n        this.updateHintText()\n        this.schedule(() => this.updateHintText(), HINT_UPDATE_INTERVAL)\n    }\n\n    private updateHintText() {\n        if (!this.loadingLabelLocalizer) return\n        const hintText = this.getHintText()\n        if (!hintText) return\n        this.loadingLabelLocalizer.key = hintText\n    }\n\n    private stopLoadingTextAnimation() {\n        this.unscheduleAllCallbacks()\n    }\n\n    private getHintText() {\n        return LOCALIZED_MESSAGE_KEYS[Math.floor(Math.random() * LOCALIZED_MESSAGE_KEYS.length)]\n    }\n}\n","import { Component, type Node, Prefab, _decorator, director, find, instantiate } from 'cc'\nimport { EDITOR_NOT_IN_PREVIEW } from 'cc/env'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport { LoadingFullScreen } from './LoadingFullScreen'\nconst { ccclass, property } = _decorator\n\n@ccclass('Loading')\nexport class Loading extends Component {\n    @property(Prefab)\n    private loadingPrefab!: Prefab\n    private loadingFullScreen!: LoadingFullScreen\n\n    private loadingNode: Node | null = null\n\n    public __preload(): void {\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public onLoad() {\n        this.makePersistent()\n    }\n\n    private makePersistent() {\n        if (EDITOR_NOT_IN_PREVIEW) return\n        if (director.isPersistRootNode(this.node)) return\n\n        director.addPersistRootNode(this.node)\n    }\n\n    public createLoadingFullScreen() {\n        const canvas = find('Canvas')\n        if (!canvas) return\n\n        if (canvas.getChildByName('Loading')) return\n\n        if (!this.loadingNode) {\n            this.loadingNode = instantiate(this.loadingPrefab)\n        }\n\n        const node = instantiate._clone(this.loadingNode)\n        this.loadingFullScreen = node.getComponent(LoadingFullScreen)!\n\n        find('Canvas')?.addChild(node)\n    }\n\n    public async show(sceneName: string): Promise<void> {\n        this.createLoadingFullScreen()\n        await this.loadingFullScreen.show(sceneName)\n    }\n\n    public async hide(sceneName: string): Promise<void> {\n        if (!this.loadingFullScreen) return\n        await this.loadingFullScreen.hide(sceneName)\n    }\n}\n","import { Component, _decorator } from 'cc'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport { BaseScreen } from '../BaseScreen'\nconst { ccclass, disallowMultiple, requireComponent } = _decorator\n\nconst { Events } = Ludex\nconst { event } = codex\n\n@ccclass('LoadingScreen')\n@disallowMultiple\n@requireComponent(BaseScreen)\nexport class LoadingScreen extends Component {\n    private screen!: BaseScreen\n    private isClosing: boolean = false\n\n    public onLoad() {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen) as BaseScreen\n        this.validateRequiredComponents()\n        this.listenScreenEvents()\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.validateRequiredProperties(this, LoadingScreen)\n    }\n\n    private listenScreenEvents() {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n        event.on(Events.CLOSING_SCREEN, this.handleClosingScreen)\n        event.on(Events.CLOSED_SCREEN, this.handleClosedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n        event.off(Events.CLOSING_SCREEN, this.handleClosingScreen)\n        event.off(Events.CLOSED_SCREEN, this.handleClosedScreen)\n    }\n\n    private readonly handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.enabled = true\n        this.isClosing = false\n    }\n\n    private readonly handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.open()\n    }\n\n    private readonly handleClosingScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.isClosing = true\n        this.unscheduleAllCallbacks()\n    }\n\n    private readonly handleClosedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.enabled = false\n        this.isClosing = false\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload\n        if (screenName !== this.node.name) return false\n        return true\n    }\n\n    public open() {\n        if (!this.enabled || this.isClosing) return\n\n        const duration = this.screen.data.duration\n        if (!duration) return\n\n        if (duration > 0) {\n            this.scheduleOnce(this.handleOnCloseScreen, duration)\n        }\n    }\n\n    private readonly handleOnCloseScreen = () => {\n        ScreenUtils.closeScreen(ScreenKeysEnum.LOADING_SCREEN)\n    }\n}\n","import { Button, Component, Label, _decorator } from 'cc'\nimport { Localize } from '../../components/text/Localize'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport { BaseScreen } from '../BaseScreen'\nconst { ccclass, disallowMultiple, requireComponent, property } = _decorator\n\nconst {\n    Events,\n    Utils: { Valid: V },\n} = Ludex\nconst { event } = codex\n\n@ccclass('NotificationScreen')\n@disallowMultiple\n@requireComponent(BaseScreen)\nexport class NotificationScreen extends Component {\n    private screen!: BaseScreen\n\n    @property(Label)\n    public message!: Label\n\n    @property(Localize)\n    public messageLocalizer!: Localize\n\n    @property(Button)\n    public touchZone!: Button\n\n    public enableCloseOnTouch = true\n\n    public __preload() {\n        this.listenScreenEvents()\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n    }\n\n    public onLoad() {\n        this.screen = this.getComponent(BaseScreen)!\n        this.validateRequiredComponents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenScreenEvents() {\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.CLOSING_SCREEN, this.handleClosingScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.CLOSING_SCREEN, this.handleClosingScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n\n        // ? this.screen.data only available after OPENING_SCREEN event\n        // ? Or use this.screen.data as payload.screenData\n        this.updateScreenData(payload)\n        this.screen.backgroundMaskButton.interactable = this.enableCloseOnTouch\n    }\n\n    private handleClosingScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.unscheduleAllCallbacks()\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload\n        if (screenName !== this.node.name) return false\n        return true\n    }\n\n    private updateScreenData(payload: SwitchScreenPayload) {\n        const { screenData } = payload\n\n        if (!V.isObject(screenData)) {\n            console.warn('NotificationScreen: screenData not found')\n            return\n        }\n\n        if (screenData.message !== undefined) {\n            this.setMessageManually(screenData.message)\n        } else if (screenData.localizedMessageKey !== undefined) {\n            this.setMessageUsingLocalizeKey(screenData.localizedMessageKey)\n        }\n\n        if (screenData.duration && screenData.duration > 0) {\n            this.scheduleOnce(() => {\n                ScreenUtils.closeScreen(ScreenKeysEnum.NOTIFICATION_SCREEN)\n            }, screenData.duration)\n        }\n\n        if (screenData.enableCloseOnTouch === false) {\n            this.enableCloseOnTouch = false\n        } else {\n            this.enableCloseOnTouch = true\n        }\n    }\n\n    private setMessageManually(message: string) {\n        this.messageLocalizer.enabled = false\n        this.message.string = message\n    }\n\n    private setMessageUsingLocalizeKey(key: Ludex.Plugins.Language.TextKey) {\n        this.messageLocalizer.enabled = true\n        this.messageLocalizer.key = key\n    }\n\n    // ? Callback for click event of CloseButton\n    public handleClickedClose() {\n        this.unscheduleAllCallbacks()\n        this.screen.backgroundMaskButton.interactable = false\n        ScreenUtils.closeScreen(ScreenKeysEnum.NOTIFICATION_SCREEN)\n    }\n\n    public closeOnTouch() {\n        if (!this.enableCloseOnTouch) return\n\n        this.handleClickedClose()\n    }\n}\n","import { _decorator, Button, Component, Label } from 'cc'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport TournamentUtils from '../../utils/TournamentUtils'\nimport { BaseScreen } from '../BaseScreen'\n\nconst { ccclass, property, requireComponent } = _decorator\n\nconst {\n    Events,\n    Match: { Modes },\n} = Ludex\n\nconst { event, storage } = codex\n\n@ccclass('QuitLevelScreen')\n@requireComponent(BaseScreen)\nexport class QuitLevelScreen extends Component {\n    private screen!: BaseScreen\n\n    @property(Label)\n    private singleDescription!: Label\n\n    @property(Label)\n    private tournamentDescription!: Label\n\n    @property(Button)\n    private quitButton!: Button\n\n    @property(Label)\n    private quitLabel!: Label\n\n    @property(Label)\n    private endLabel!: Label\n\n    @property(Button)\n    private continueButton!: Button\n\n    public __preload() {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen)!\n        this.validateRequiredComponents()\n        this.listenScreenEvents()\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenScreenEvents() {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n\n        this.setInteractableButtons(true)\n    }\n\n    private handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.open()\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload ?? {}\n\n        if (screenName !== this.node.name) return false\n\n        return true\n    }\n\n    public open() {\n        this.updateStatus()\n        this.runPopUpAnimation()\n        this.node.scene.emit(GameplayEvents.HIDE_UI)\n    }\n\n    public close() {\n        this.setInteractableButtons(false)\n\n        ScreenUtils.closeScreen(ScreenKeysEnum.QUIT_LEVEL_SCREEN)\n\n        this.node.scene.emit(GameplayEvents.SHOW_UI)\n        this.node.scene.emit(GameplayEvents.GAME_RESUME)\n    }\n\n    private updateStatus() {\n        const isTournament = MatchUtils.getMatchMode() === Modes.TOURNAMENT\n\n        this.singleDescription.node.active = !isTournament\n        this.tournamentDescription.node.active = isTournament\n        this.quitLabel.node.active = !isTournament\n        this.endLabel.node.active = isTournament\n    }\n\n    private runPopUpAnimation(): void {\n        if (!this.screen.container) {\n            console.warn('StartLevelScreen: screen not found')\n        }\n    }\n\n    private setInteractableButtons(interactable: boolean) {\n        this.quitButton.interactable = interactable\n        this.continueButton.interactable = interactable\n        this.screen.backgroundMaskButton.interactable = interactable\n    }\n\n    public handleClickedContinue() {\n        this.close()\n    }\n\n    public async handleClickedQuit(): Promise<void> {\n        this.setInteractableButtons(false)\n\n        if (MatchUtils.getMatchMode() === Modes.TOURNAMENT) {\n            await this.handleTournamentQuit()\n        }\n\n        this.node.scene.emit(GameplayEvents.GAME_EXIT)\n    }\n\n    private async handleTournamentQuit(): Promise<void> {\n        const { score: currentScore = 0, level = 1, tournamentId } = MatchUtils.getMatchCustomData() ?? {}\n        const previousScore = storage.getStorageData('tournament', 'previousScore') ?? 0\n        const isAnimateTournament = currentScore > previousScore\n\n        if (isAnimateTournament && tournamentId) {\n            TournamentUtils.saveTournamentProgress(level, currentScore, tournamentId)\n        }\n\n        storage.setStorageData('tournament', 'animateTournamentLeader', isAnimateTournament)\n\n        await MatchUtils.finishMatchAsync()\n    }\n}\n","import { _decorator, Animation, Component, Node, tween, UIOpacity, Vec3 } from 'cc'\nimport { Localize } from '../../components/text/Localize'\nimport CoinData from '../../constants/CoinData'\nimport { CustomModeLevel } from '../../gameplay/constants/CustomGameData'\nimport FailKeys from '../../gameplay/constants/FailKeys'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport AdsUtils from '../../utils/AdsUtils'\nimport AnimUtils from '../../utils/AnimUtils'\nimport AudioUtils from '../../utils/AudioUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport { BaseScreen } from '../BaseScreen'\n\nconst { ccclass, property, disallowMultiple, requireComponent } = _decorator\n\nconst {\n    Events,\n    Plugins: { Ads: { Types: AdsTypes } = {} },\n} = Ludex\nconst { event, player } = codex\n\n@ccclass('RescuesScreen')\n@disallowMultiple\n@requireComponent(BaseScreen)\nexport class RescuesScreen extends Component {\n    private screen!: BaseScreen\n\n    @property(UIOpacity)\n    public adOpacity!: UIOpacity\n\n    @property([Node])\n    private animNodes: Node[] = []\n\n    @property(Localize)\n    private titleLocalizer!: Localize\n\n    @property(Localize)\n    private descriptionLocalizer!: Localize\n\n    @property(Node)\n    private timer!: Node\n\n    @property(Node)\n    private bomb!: Node\n\n    @property(Animation)\n    private bombAnim!: Animation\n\n    @property(Node)\n    private replayButton!: Node\n\n    @property(Node)\n    private buyTimeButton!: Node\n\n    private payload!: SwitchScreenPayload\n\n    public __preload() {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen)!\n        this.validateRequiredComponents()\n        this.listenScreenEvents()\n\n        if (AdsTypes) {\n            AdsUtils.preloadAdsByType(AdsTypes.REWARDED_VIDEO)\n        }\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenScreenEvents() {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.screen) {\n            throw new Error('RescuesScreen: screen not found')\n        }\n\n        if (!this.validateEventPayload(payload)) return\n    }\n\n    private handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.open()\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload\n        if (screenName !== this.node.name) return false\n\n        this.payload = payload\n\n        return true\n    }\n\n    public async open() {\n        AudioUtils.turnOffMusic()\n        this.resetState()\n        this.runOpenAnimation()\n        this.node.scene.emit(GameplayEvents.HIDE_UI)\n    }\n\n    public close(screenData?: ScreenData): void {\n        AudioUtils.turnUpMusic()\n        event.emit(Events.CLOSE_SCREEN, {\n            screenName: this.node.name,\n            screenData: screenData,\n        })\n    }\n\n    private resetState(): void {\n        const isBomb = this.payload.screenData?.failKey === FailKeys.BOMB\n\n        this.titleLocalizer.key = isBomb ? 'game.boom' : 'game.timesUp'\n        this.descriptionLocalizer.key = isBomb ? 'game.bombDesc' : 'game.timesUpDesc'\n\n        this.timer.active = !isBomb\n        this.bomb.active = isBomb\n\n        if (isBomb) this.bombAnim.play()\n\n        const gameData = player.getGameData()\n        if (!gameData) return\n\n        const canContinue = gameData.coins >= CoinData.CONTINUE_GAME\n\n        this.replayButton.active = !canContinue\n        this.buyTimeButton.active = canContinue\n\n        this.adOpacity.opacity = 0\n    }\n\n    private async runOpenAnimation(): Promise<void> {\n        if (!this.screen.container) {\n            console.warn('TimeUpScreen: screen not found')\n            return\n        }\n\n        await Promise.all(this.animNodes.map((target, index) => this.runAppearTween(target, index * 0.1)))\n\n        await this.runShowAdContainer()\n    }\n\n    private async runAppearTween(target: Node, delay: number): Promise<void> {\n        await AnimUtils.runTweenAsync(\n            tween(target)\n                .set({ scale: new Vec3(0, 0, 0) })\n                .delay(delay)\n                .to(\n                    1,\n                    { scale: new Vec3(1, 1, 1) },\n                    {\n                        easing: (t: number) => {\n                            return AnimUtils.elasticOut(t, 0.1, 0.45)\n                        },\n                    },\n                ),\n        )\n    }\n\n    private async runShowAdContainer(): Promise<void> {\n        const t = tween(this.adOpacity)\n        t.delay(1)\n        t.to(0.5, { opacity: 255 })\n\n        await AnimUtils.runTweenAsync(t)\n    }\n\n    public async handleClickReplay(): Promise<void> {\n        const { level } = this.screen.data\n        if (GameSDK.isGameSDK('Yandex')) {\n            await AdsUtils.showInterstitialAdAsync({\n                forLevel: level,\n            })\n        }\n\n        this.close()\n    }\n\n    public handleClickBuyTime(): void {\n        this.node.scene.emit(GameplayEvents.REMOVE_COINS, {\n            coins: CoinData.CONTINUE_GAME,\n            collectionAnimation: {\n                animateTextOnly: true,\n            },\n        } as CoinDataPayload)\n\n        this.close({ rescue: true })\n    }\n\n    public async handleClickAd(): Promise<void> {\n        const success = await AdsUtils.showRewardVideoAdAsync()\n        if (!success) return\n\n        this.close({ rescue: true })\n    }\n\n    public handleClickClose(): void {\n        const level = player.getGameData()?.level ?? 1\n        const customMode = level >= CustomModeLevel\n        this.close({ customMode })\n    }\n}\n","import { _decorator, Button, Component, Node, UIOpacity } from 'cc'\nimport { OpacityToggler } from '../../components/common/OpacityToggler'\nimport DevTools from '../../constants/DevTools'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport { CodeSoundKeys } from '../../constants/SoundKeys'\nimport { CustomModeLevel } from '../../gameplay/constants/CustomGameData'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport GameModes from '../../gameplay/constants/GameMode'\nimport AdsUtils from '../../utils/AdsUtils'\nimport AudioUtils from '../../utils/AudioUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport { BaseScreen } from '../BaseScreen'\nimport { SwitchButton } from './components/switch-button/SwitchButton'\n\nconst { ccclass, property, requireComponent } = _decorator\n\nconst {\n    Events,\n    Utils: { Device: D },\n    Match: { Modes },\n} = Ludex\nconst { player, event } = codex\n\n@ccclass('PauseScreen')\n@requireComponent(BaseScreen)\nexport class PauseScreen extends Component {\n    private screen!: BaseScreen\n\n    @property(Node)\n    public musicSetting!: Node\n\n    @property(Node)\n    public soundSetting!: Node\n\n    @property(Node)\n    public vibrateSetting!: Node\n\n    @property(SwitchButton)\n    private musicSwitch!: SwitchButton\n\n    @property(SwitchButton)\n    private soundSwitch!: SwitchButton\n\n    @property(SwitchButton)\n    private vibrateSwitch!: SwitchButton\n\n    @property(Button)\n    private closeButtonComponent!: Button\n\n    @property({ type: Button, group: 'Button Container' })\n    private resumeButton!: Button\n\n    @property({ type: Button, group: 'Button Container' })\n    private restartButton!: Button\n\n    @property({ type: Button, group: 'Button Container' })\n    private challengeFriendsButton!: Button\n\n    @property({ type: Button, group: 'Button Container' })\n    private createShortcutButton!: Button\n\n    @property({ type: Button, group: 'Button Container' })\n    private customModeButton!: Button\n\n    @property(UIOpacity)\n    private containerUIOpacity!: UIOpacity\n\n    // ! For Unlocking DevTools\n    private triggerSequence = ''\n\n    public onLoad() {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen)!\n        this.validateRequiredComponents()\n\n        this.listenScreenEvents()\n        this.listenUnlockDevTools()\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n        this.unListenUnlockDevTools()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenScreenEvents() {\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateSwitchScreenPayload(payload)) return\n\n        this.setInteractableButtons(true)\n        this.updateStatus()\n        this.updateButtonsStatus()\n    }\n\n    private handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateSwitchScreenPayload(payload)) return\n        this.open()\n    }\n\n    private validateSwitchScreenPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload\n        if (screenName !== this.node.name) return false\n        return true\n    }\n\n    // * Music setting switch on/off will have a code: 0 for off, 1 for on\n    // * Sound setting switch on/off will have a code: 2 for off, 3 for on\n    private listenUnlockDevTools() {\n        this.node.off(DevTools.Events.TRIGGER_UNLOCK_KEY)\n\n        this.node.on(DevTools.Events.TRIGGER_RESET_SEQUENCE, this.handleResetSequence)\n        this.node.on(DevTools.Events.TRIGGER_UNLOCK_KEY, this.handleTriggerUnlockKey)\n    }\n\n    private unListenUnlockDevTools() {\n        this.node.off(DevTools.Events.TRIGGER_RESET_SEQUENCE, this.handleResetSequence)\n        this.node.off(DevTools.Events.TRIGGER_UNLOCK_KEY, this.handleTriggerUnlockKey)\n    }\n\n    private handleResetSequence = () => {\n        this.triggerSequence = ''\n    }\n\n    private handleTriggerUnlockKey = (payload: { code: number }) => {\n        if (!('code' in payload)) return\n\n        const { code } = payload\n\n        const { UNLOCK_SEQUENCE } = DevTools\n\n        if (typeof code !== 'number') return\n        if (UNLOCK_SEQUENCE.indexOf(code.toString()) === -1) return\n\n        this.triggerSequence += code.toString()\n\n        console.log(\n            'SettingsScreen: handleTriggerUnlockKey',\n            code,\n            this.triggerSequence,\n            this.triggerSequence === UNLOCK_SEQUENCE,\n        )\n\n        if (this.triggerSequence === UNLOCK_SEQUENCE) {\n            this.node.scene.emit(DevTools.Events.UNLOCK_DEV_TOOLS)\n            this.node.off(DevTools.Events.TRIGGER_UNLOCK_KEY)\n        }\n    }\n\n    public open() {\n        this.updateStatus()\n        this.node.emit(DevTools.Events.TRIGGER_RESET_SEQUENCE)\n        this.node.scene.emit(GameplayEvents.HIDE_UI)\n    }\n\n    public close() {\n        this.setInteractableButtons(false)\n        this.node.emit(DevTools.Events.TRIGGER_RESET_SEQUENCE)\n        ScreenUtils.closeScreen(ScreenKeysEnum.PAUSE_SCREEN)\n    }\n\n    private updateStatus() {\n        const settings = {\n            music: player.getPlayerSetting('music') ?? false,\n            sound: player.getPlayerSetting('sound') ?? false,\n            vibrate: player.getPlayerSetting('vibrate') ?? false,\n        }\n\n        if (!this.musicSwitch) {\n            console.warn('SettingsScreen: musicSwitch not found')\n            return\n        }\n\n        if (!this.soundSwitch) {\n            console.warn('SettingsScreen: soundSwitch not found')\n            return\n        }\n\n        this.musicSwitch.setEnabled(settings.music)\n        this.soundSwitch.setEnabled(settings.sound)\n\n        if (GameSDK.isGameSDK('GameDistribution')) return\n\n        this.updateVibrateButton()\n    }\n\n    private setInteractableButtons(interactable: boolean): void {\n        this.resumeButton.interactable = interactable\n        this.closeButtonComponent.interactable = interactable\n        this.restartButton.interactable = interactable\n        this.challengeFriendsButton.interactable = interactable\n        this.screen.backgroundMaskButton.interactable = interactable\n        this.customModeButton.interactable = interactable\n    }\n\n    private updateButtonsStatus() {\n        const isYandex = GameSDK.isGameSDK('Yandex')\n        const isSingleCustomMode =\n            MatchUtils.getMatchMode() === Modes.SINGLE || MatchUtils.getMatchMode() === GameModes.CUSTOM\n        const { level = 1 } = player.getGameData() ?? {}\n\n        this.setActiveButton(this.challengeFriendsButton, !isYandex)\n        this.setActiveButton(this.createShortcutButton, isYandex && D.isDesktop())\n        this.setActiveButton(this.customModeButton, isSingleCustomMode && level >= CustomModeLevel)\n        this.setActiveButton(this.resumeButton, !isSingleCustomMode)\n    }\n\n    private setActiveButton(button: Button, active: boolean): void {\n        if (!button || !button.node.parent) return\n\n        button.node.parent.active = active\n    }\n\n    public switchMusicButton(): void {\n        if (!this.musicSwitch) {\n            console.warn('SettingsScreen: musicSwitch not found')\n            return\n        }\n\n        const state = this.musicSwitch.switch()\n        player.setSetting('music', state)\n\n        // ! For Unlocking DevTools\n        this.node.emit(DevTools.Events.TRIGGER_UNLOCK_KEY, { code: state ? 1 : 0 })\n\n        if (state) {\n            const mode = MatchUtils.getMatchMode()\n            AudioUtils.playMusic(mode === Modes.TOURNAMENT ? CodeSoundKeys.TOURNAMENT_MUSIC : CodeSoundKeys.BG_MUSIC)\n        } else {\n            AudioUtils.pauseMusic()\n        }\n    }\n\n    public switchSoundButton(): void {\n        if (!this.soundSwitch) {\n            console.warn('SettingsScreen: soundSwitch not found')\n            return\n        }\n\n        const state = this.soundSwitch.switch()\n        player.setSetting('sound', state)\n\n        // ! For Unlocking DevTools\n        this.node.emit(DevTools.Events.TRIGGER_UNLOCK_KEY, { code: state ? 3 : 2 })\n    }\n\n    public switchVibrateButton(): void {\n        if (!this.vibrateSwitch) {\n            console.warn('SettingsScreen: vibrateSwitch not found')\n            return\n        }\n\n        const state = this.vibrateSwitch.switch()\n        player.setSetting('vibrate', state)\n    }\n\n    private updateVibrateButton = (): void => {\n        const button = this.vibrateSetting.getComponentInChildren(Button)\n        const switchState = this.vibrateSetting.getComponentInChildren(SwitchButton)\n        const opacityState = this.vibrateSetting.getComponentInChildren(OpacityToggler)\n\n        if (!button || !switchState || !opacityState) {\n            console.warn('SettingsScreen: vibrate button missing components')\n            return\n        }\n\n        if (!D.isMobile()) {\n            button.interactable = false\n            switchState.setEnabled(false)\n            opacityState.changeState(false)\n        } else {\n            const vibrate = player.getPlayerSetting('vibrate') ?? false\n            // switchState.updateStatus(vibrate)\n            switchState.setEnabled(vibrate)\n        }\n    }\n\n    // ? Callback for click event of ResumeButton\n    public handleClickedResume() {\n        this.resumeGame()\n    }\n\n    // ? Callback for click event of CustomModeButton\n    public async handleClickedCustomMode() {\n        this.setVisible(false)\n        const screenPayload = await ScreenUtils.openScreenAndWaitForClose(ScreenKeysEnum.CUSTOM_GAME_SCREEN)\n\n        const { customMode } = screenPayload.screenData ?? {}\n        if (!customMode) {\n            this.node.scene.emit(GameplayEvents.HIDE_UI)\n            this.setVisible(true)\n            return\n        }\n\n        this.close()\n        this.node.scene.emit(GameplayEvents.GAME_RESUME)\n        this.node.scene.emit(GameplayEvents.GAME_REPLAY, customMode ? GameModes.CUSTOM : undefined)\n    }\n\n    // ? Callback for click event of CloseButton\n    public handleClickedClose() {\n        this.resumeGame()\n    }\n\n    // ? Callback for click event of RestartButton\n    public async handleClickedRestart(): Promise<void> {\n        this.close()\n\n        const { level = 1 } = player.getGameData() ?? {}\n\n        if (MatchUtils.getMatchMode() === GameModes.CUSTOM) {\n            await AdsUtils.showRewardedInterstitialAdAsync({ showError: false })\n        } else {\n            await AdsUtils.showInterstitialAdAsync({ forLevel: level })\n        }\n\n        if (MatchUtils.getMatchMode() === Modes.TOURNAMENT) {\n            ScreenUtils.openScreen(ScreenKeysEnum.START_OVER_SCREEN)\n            return\n        }\n\n        this.node.scene.emit(GameplayEvents.GAME_RESUME)\n        this.node.scene.emit(GameplayEvents.GAME_REPLAY)\n    }\n\n    // ? Callback for click event of InviteFriendsButton\n    public async handleClickedChallengeFriends(): Promise<void> {\n        if (GameSDK.isGameSDK('MsGames')) {\n            //? Sharing game to friends if SDK is MsGames\n            ScreenUtils.showLoadingScreen()\n            await GameSDK.extra.shareAsync()\n            ScreenUtils.closeLoadingScreen()\n            return\n        }\n\n        this.close()\n        this.node.scene.emit(GameplayEvents.CHALLENGE_FRIENDS)\n    }\n\n    // ? Callback for click event of CreateShortcutButton\n    public async handleClickedCreateShortcut(): Promise<void> {\n        try {\n            await GameSDK.extra.checkAndCreateShortcutAsync()\n        } catch {\n            ScreenUtils.showNotificationScreenWithLocalizedKey('error.shortcutFail')\n        }\n    }\n\n    private resumeGame() {\n        this.close()\n        this.node.scene.emit(GameplayEvents.GAME_RESUME)\n        this.node.scene.emit(GameplayEvents.SHOW_UI)\n    }\n\n    private setVisible(visible: boolean) {\n        this.containerUIOpacity.opacity = visible ? 255 : 0\n    }\n}\n","import { _decorator, Button, Component, Node } from 'cc'\nimport { OpacityToggler } from '../../components/common/OpacityToggler'\nimport DevTools from '../../constants/DevTools'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport { CodeSoundKeys } from '../../constants/SoundKeys'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport AudioUtils from '../../utils/AudioUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport OverlayUtils from '../../utils/OverlayUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport { BaseScreen } from '../BaseScreen'\nimport { SwitchButton } from './components/switch-button/SwitchButton'\n\nconst { ccclass, property, requireComponent } = _decorator\n\ntype ShareScorePayload = Ludex.Plugins.FrameCapture.Wideframe.ShareScorePayload\n\nconst {\n    Events,\n    Utils: { Device: D },\n    Match: { Modes },\n    Configs: {\n        Debugger: { MonitorError },\n    },\n    Plugins: { Analytics: { Events: AnalyticsEvents } = {} },\n} = Ludex\n\nconst { player, event, monitorError, frameCapture, analytics } = codex\n\n@ccclass('SettingsScreen')\n@requireComponent(BaseScreen)\nexport class SettingsScreen extends Component {\n    private screen!: BaseScreen\n\n    @property({ type: Node, group: 'SettingContainer' })\n    public musicSetting!: Node\n\n    @property({ type: Node, group: 'SettingContainer' })\n    public soundSetting!: Node\n\n    @property({ type: Node, group: 'SettingContainer' })\n    public vibrateSetting!: Node\n\n    @property({ type: SwitchButton, group: 'Switch Container' })\n    private musicSwitch!: SwitchButton\n\n    @property({ type: SwitchButton, group: 'Switch Container' })\n    private soundSwitch!: SwitchButton\n\n    @property({ type: SwitchButton, group: 'Switch Container' })\n    private vibrateSwitch!: SwitchButton\n\n    @property(Button)\n    private closeButton!: Button\n\n    @property({ type: Button, group: 'Button Container' })\n    private reportButton!: Button\n\n    @property({ type: Button, group: 'Button Container' })\n    private shareButton!: Button\n\n    @property({ type: Button, group: 'Button Container' })\n    private inviteFriendsButton!: Button\n\n    @property({ type: Button, group: 'Button Container' })\n    private feedbackButton!: Button\n\n    @property({ type: Button, group: 'Button Container' })\n    private createShortcutButton!: Button\n\n    public onLoad(): void {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen)!\n\n        this.listenScreenEvents()\n        this.updateButtonsStatus()\n    }\n\n    public onDestroy(): void {\n        this.unlistenScreenEvents()\n    }\n\n    private listenScreenEvents(): void {\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unlistenScreenEvents(): void {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateSwitchScreenPayload(payload)) return\n\n        this.setInteractableButtons(true)\n        this.updateStatus()\n    }\n\n    private handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateSwitchScreenPayload(payload)) return\n        this.open()\n    }\n\n    private validateSwitchScreenPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload\n        if (screenName !== this.node.name) return false\n        return true\n    }\n\n    public open(): void {\n        this.updateStatus()\n        this.node.emit(DevTools.Events.TRIGGER_RESET_SEQUENCE)\n        this.node.scene.emit(GameplayEvents.HIDE_UI)\n    }\n\n    public close(): void {\n        this.setInteractableButtons(false)\n\n        this.node.emit(DevTools.Events.TRIGGER_RESET_SEQUENCE)\n        this.node.scene.emit(GameplayEvents.SHOW_UI)\n\n        ScreenUtils.closeScreen(ScreenKeysEnum.SETTINGS_SCREEN)\n    }\n\n    private updateStatus(): void {\n        const settings = {\n            music: player.getPlayerSetting('music') ?? false,\n            sound: player.getPlayerSetting('sound') ?? false,\n            vibrate: player.getPlayerSetting('vibrate') ?? false,\n        }\n\n        if (!this.musicSwitch) {\n            console.warn('SettingsScreen: musicSwitch not found')\n            return\n        }\n\n        if (!this.soundSwitch) {\n            console.warn('SettingsScreen: soundSwitch not found')\n            return\n        }\n\n        this.musicSwitch.setEnabled(settings.music)\n        this.soundSwitch.setEnabled(settings.sound)\n\n        if (GameSDK.isGameSDK('GameDistribution')) return\n\n        this.updateVibrateButton()\n    }\n\n    private setInteractableButtons(interactable: boolean): void {\n        this.closeButton.interactable = interactable\n        this.reportButton.interactable = interactable\n        this.shareButton.interactable = interactable\n        this.inviteFriendsButton.interactable = interactable\n        this.feedbackButton.interactable = interactable\n        this.createShortcutButton.interactable = interactable\n        this.screen.backgroundMaskButton.interactable = interactable\n    }\n\n    private updateButtonsStatus(): void {\n        const isYandex = GameSDK.isGameSDK('Yandex')\n        const isMSGames = GameSDK.isGameSDK('MsGames')\n\n        this.setActiveButton(this.reportButton, MonitorError.Feedback)\n        this.setActiveButton(this.shareButton, !isYandex && !isMSGames)\n        this.setActiveButton(this.inviteFriendsButton, !isYandex)\n        this.setActiveButton(this.feedbackButton, isYandex)\n        this.setActiveButton(this.createShortcutButton, (isYandex && D.isDesktop()) || isMSGames)\n    }\n\n    private setActiveButton(button: Button, active: boolean): void {\n        if (!button || !button.node.parent) return\n\n        button.node.parent.active = active\n    }\n\n    private updateVibrateButton = (): void => {\n        const button = this.vibrateSetting.getComponentInChildren(Button)\n        const switchState = this.vibrateSetting.getComponentInChildren(SwitchButton)\n        const opacityState = this.vibrateSetting.getComponentInChildren(OpacityToggler)\n\n        if (!button || !switchState || !opacityState) {\n            console.warn('SettingsScreen: vibrate button missing components')\n            return\n        }\n\n        if (!D.isMobile()) {\n            button.interactable = false\n            switchState.setEnabled(false)\n            opacityState.changeState(false)\n        } else {\n            const vibrate = player.getPlayerSetting('vibrate') ?? false\n            // switchState.updateStatus(vibrate)\n            switchState.setEnabled(vibrate)\n        }\n    }\n\n    public switchMusicButton(): void {\n        if (!this.musicSwitch) {\n            console.warn('SettingsScreen: musicSwitch not found')\n            return\n        }\n\n        const state = this.musicSwitch.switch()\n        player.setSetting('music', state)\n\n        if (state) {\n            const mode = MatchUtils.getMatchMode()\n            AudioUtils.playMusic(mode === Modes.TOURNAMENT ? CodeSoundKeys.TOURNAMENT_MUSIC : CodeSoundKeys.BG_MUSIC)\n        } else {\n            AudioUtils.pauseMusic()\n        }\n    }\n\n    public switchSoundButton(): void {\n        if (!this.soundSwitch) {\n            console.warn('SettingsScreen: soundSwitch not found')\n            return\n        }\n\n        const state = this.soundSwitch.switch()\n        player.setSetting('sound', state)\n    }\n\n    public switchVibrateButton(): void {\n        if (!this.vibrateSwitch) {\n            console.warn('SettingsScreen: vibrateSwitch not found')\n            return\n        }\n\n        const state = this.vibrateSwitch.switch()\n        player.setSetting('vibrate', state)\n    }\n\n    // ? Callback for click event of CloseButton\n    public handleClickedClose(): void {\n        this.close()\n    }\n\n    // ? Callback for click event of ReportButton\n    public handleClickedReport(): void {\n        monitorError?.feedbackAsync()\n    }\n\n    // ? Callback for click event of ContinueButton\n    public async handleClickedShare(): Promise<void> {\n        if (GameSDK.isGameSDK('FacebookInstant')) {\n            ScreenUtils.showLoadingScreen()\n\n            if (GameSDK.extra.isNEZP()) {\n                await OverlayUtils.shareBestScoreWithOverlay()\n            } else {\n                await GameSDK.extra.shareBestScoreAsync()\n            }\n\n            ScreenUtils.closeLoadingScreen()\n            return\n        }\n\n        this.close()\n    }\n\n    // ? Callback for click event of InviteFriendsButton\n    public async handleClickedInviteFriends(): Promise<void> {\n        ScreenUtils.showLoadingScreen()\n\n        if (GameSDK.isGameSDK('MsGames')) {\n            await GameSDK.extra.shareAsync()\n        }\n\n        if (GameSDK.isGameSDK('FacebookInstant')) {\n            await this.inviteWithBestScoreFbInstant()\n        }\n\n        ScreenUtils.closeLoadingScreen()\n    }\n\n    // ? Callback for click event of FeedbackButton\n    public handleClickedFeedback(): void {\n        let errorKey: Ludex.Plugins.Language.TextKey = 'error.ratingFail'\n\n        if (!('ratingAsync' in GameSDK.extra)) {\n            ScreenUtils.showNotificationScreenWithLocalizedKey(errorKey)\n            return\n        }\n\n        GameSDK.extra.ratingAsync().catch((error) => {\n            if (!('code' in error)) {\n                ScreenUtils.showNotificationScreenWithLocalizedKey(errorKey)\n                return\n            }\n\n            switch (error.code) {\n                case 'NO_AUTH':\n                    errorKey = 'error.ratingNoAuth'\n                    break\n                case 'GAME_RATED':\n                    errorKey = 'error.ratingGameRated'\n                    break\n            }\n\n            ScreenUtils.showNotificationScreenWithLocalizedKey(errorKey)\n        })\n    }\n\n    // ? Callback for click event of CreateShortcutButton\n    public async handleClickedCreateShortcut(): Promise<void> {\n        try {\n            await GameSDK.extra.checkAndCreateShortcutAsync()\n        } catch {\n            ScreenUtils.showNotificationScreenWithLocalizedKey('error.shortcutFail')\n        }\n    }\n\n    private async inviteWithBestScoreFbInstant(): Promise<void> {\n        if (!GameSDK.isGameSDK('FacebookInstant')) return\n\n        if (GameSDK.extra.isNEZP()) {\n            await OverlayUtils.inviteFriendsWithOverlay()\n        } else {\n            await this.inviteWithBestScoreAsync()\n        }\n    }\n\n    /**\n     * Customized GameSDK.extra.inviteWithBestScoreAsync\n     * to use custom wideframe\n     */\n    private async inviteWithBestScoreAsync() {\n        if (!GameSDK.isGameSDK('FacebookInstant')) return\n\n        try {\n            if (!frameCapture) throw new Error('FrameCapture not found')\n\n            const { playerId, name: playerName, photo: playerPhoto, data } = player.getPlayer()\n            const { score: playerScore } = data || {}\n\n            const image = await frameCapture.renderAsync('share-score-with-invite', {\n                playerId,\n                playerPhoto,\n                playerScore,\n            } as ShareScorePayload)\n\n            if (image === null) {\n                throw new Error('Failed to render share score wideframe')\n            }\n\n            await GameSDK.extra.inviteAsync({\n                text: {\n                    default: 'Great! I got a new best score!',\n                    localizations: {\n                        vi_VN: 'Tht tuyt! Mnh va ph k lc ny!',\n                    },\n                },\n                image,\n                data: { playerId, playerName, playerPhoto, type: 'share_invite' },\n            })\n\n            if (AnalyticsEvents) {\n                analytics.event(AnalyticsEvents.INVITE, {\n                    invite_content_type: 'BestScore',\n                    success: true,\n                })\n            }\n        } catch (error) {\n            if (AnalyticsEvents) {\n                analytics.event(AnalyticsEvents.INVITE, {\n                    invite_content_type: 'BestScore',\n                    success: false,\n                })\n            }\n\n            console.warn(error)\n        }\n    }\n}\n","import { CCFloat, Component, ParticleSystem2D, Sprite, type Tween, UIOpacity, Vec3, _decorator, tween } from 'cc'\nimport AnimUtils from '../../../utils/AnimUtils'\nimport ComponentUtils from '../../../utils/ComponentUtils'\nimport type AnimAbortSignal from '../../../utils/common/AnimAbortSignal'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('StarChest')\nexport class StarChest extends Component {\n    private shakingTween: { ogPos: Vec3; tw: Tween<unknown> } | undefined\n\n    @property(Sprite)\n    private sprite!: Sprite\n\n    @property(UIOpacity)\n    private glowOpacity!: UIOpacity\n\n    @property(ParticleSystem2D)\n    private explosionParticles!: ParticleSystem2D\n\n    @property(UIOpacity)\n    private circle!: UIOpacity\n\n    @property(UIOpacity)\n    private uiOpacity!: UIOpacity\n\n    @property({\n        type: CCFloat,\n        readonly: true,\n        displayName: 'Starting Offset X',\n        group: 'Reward Animations',\n    })\n    private get startingOffsetX(): number {\n        return this.node.position.x\n    }\n\n    private ogCenterX = 0\n\n    @property({\n        type: CCFloat,\n        readonly: true,\n        displayName: 'Starting Offset Y',\n        group: 'Reward Animations',\n    })\n    private get startingOffsetY(): number {\n        return this.node.position.y\n    }\n\n    private ogCenterY = 0\n\n    @property({\n        type: CCFloat,\n        displayName: 'Centered Offset X',\n        group: 'Reward Animations',\n    })\n    private endingOffsetX = 0\n\n    @property({\n        type: CCFloat,\n        displayName: 'Centered Offset Y',\n        group: 'Reward Animations',\n    })\n    private endingOffsetY = 0\n\n    @property({\n        type: CCFloat,\n        min: 0,\n        displayName: 'Starting Scale',\n        group: 'Reward Animations',\n    })\n    private startingScale = 0.5\n\n    @property({\n        type: CCFloat,\n        min: 0,\n        displayName: 'Ending Scale',\n        group: 'Reward Animations',\n    })\n    private endingScale = 1\n\n    public __preload(): void {\n        this.validateRequiredComponents()\n\n        this.ogCenterX = this.startingOffsetX\n        this.ogCenterY = this.startingOffsetY\n    }\n\n    private validateRequiredComponents(): void {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    public async moveToCenter(signal: AnimAbortSignal): Promise<void> {\n        const targetPosition = new Vec3(this.endingOffsetX, this.endingOffsetY, this.node.position.z)\n\n        await AnimUtils.runTweenAsync(\n            tween(this.node).to(\n                0.7,\n                {\n                    position: targetPosition,\n                },\n                {\n                    easing: 'quintInOut',\n                },\n            ),\n            signal,\n        )\n\n        this.node.position = targetPosition\n    }\n\n    public respawnAtStartingState(): void {\n        this.node.position = new Vec3(this.ogCenterX, this.ogCenterY, this.node.position.z)\n        this.glowOpacity.opacity = 0\n\n        this.sprite.node.setScale(this.startingScale, this.startingScale, this.startingScale)\n        this.glowOpacity.node.setScale(this.startingScale, this.startingScale, this.startingScale)\n\n        this.uiOpacity.opacity = 255\n    }\n\n    public async scale(progress: number, signal: AnimAbortSignal): Promise<void> {\n        const currentScale = this.startingScale + (this.endingScale - this.startingScale) * progress\n        const targetScale = new Vec3(currentScale, currentScale, currentScale)\n\n        await Promise.all([\n            AnimUtils.runTweenAsync(\n                tween(this.sprite.node).to(0.2, { scale: targetScale }, { easing: 'backOut' }),\n                signal,\n            ),\n            AnimUtils.runTweenAsync(\n                tween(this.glowOpacity.node).to(0.2, { scale: targetScale }, { easing: 'backOut' }),\n                signal,\n            ),\n        ])\n\n        this.sprite.node.setScale(targetScale)\n        this.glowOpacity.node.setScale(targetScale)\n    }\n\n    public startShaking(): void {\n        const ogPosition = this.node.position.clone()\n\n        this.shakingTween = {\n            ogPos: ogPosition,\n            tw: tween(this.node)\n                .to(\n                    0.1,\n                    {},\n                    {\n                        onUpdate: (_target, ratio) => {\n                            if (ratio) {\n                                // 0 -> x - 5\n                                // 0.25 -> x\n                                // 0.5 -> x + 5\n                                // 0.75 -> x\n                                // 1 -> x - 5\n                                const x = ogPosition.x + (ratio - 0.5) * (5 * 2)\n                                this.node.position = new Vec3(x, ogPosition.y, ogPosition.z)\n                            }\n                        },\n                    },\n                )\n                .repeatForever()\n                .start(),\n        }\n    }\n\n    public stopShaking(): void {\n        if (this.shakingTween) {\n            this.shakingTween.tw.stop()\n            this.node.position = this.shakingTween.ogPos\n            this.shakingTween = undefined\n        }\n    }\n\n    public async glow(signal: AnimAbortSignal): Promise<void> {\n        const targetScale = this.sprite.node.scale.clone().multiplyScalar(1.1)\n        await Promise.all([\n            AnimUtils.runTweenAsync(\n                tween(this.sprite.node).to(0.2, { scale: targetScale }, { easing: 'cubicInOut' }),\n                signal,\n            ),\n            AnimUtils.runTweenAsync(tween(this.glowOpacity.node).to(0.2, { scale: targetScale }), signal),\n            AnimUtils.runTweenAsync(tween(this.glowOpacity).to(0.5, { opacity: 255 }), signal),\n        ])\n    }\n\n    public async explode(signal: AnimAbortSignal): Promise<void> {\n        const targetScale = new Vec3(8, 8, 8)\n\n        const animateCircle = async () => {\n            this.circle.opacity = 255\n            this.circle.node.setScale(Vec3.ZERO)\n\n            await Promise.all([\n                AnimUtils.runTweenAsync(tween(this.circle).to(0.3, { opacity: 0 }), signal),\n                AnimUtils.runTweenAsync(\n                    tween(this.circle.node).to(0.3, { scale: targetScale }, { easing: 'cubicOut' }),\n                    signal,\n                ),\n            ])\n\n            this.circle.opacity = 0\n            this.circle.node.scale = targetScale\n        }\n\n        const animateSprites = async () => {\n            await Promise.all([\n                AnimUtils.runTweenAsync(\n                    tween(this.glowOpacity.node).to(0.3, { scale: Vec3.ZERO }, { easing: 'cubicOut' }),\n                    signal,\n                ),\n                AnimUtils.runTweenAsync(\n                    tween(this.sprite.node).to(0.3, { scale: Vec3.ZERO }, { easing: 'cubicOut' }),\n                    signal,\n                ),\n            ])\n\n            this.sprite.node.setScale(Vec3.ZERO)\n            this.glowOpacity.node.setScale(Vec3.ZERO)\n        }\n\n        await Promise.all([this.explodeParticles(signal), animateCircle(), animateSprites()])\n    }\n\n    private async explodeParticles(signal: AnimAbortSignal): Promise<void> {\n        if (signal.aborted) return\n\n        this.explosionParticles.node.active = true\n        this.explosionParticles.resetSystem()\n\n        await AnimUtils.waitTweenAsync(1)\n\n        this.explosionParticles.node.active = false\n    }\n}\n","import { Animation, Button, Component, UIOpacity, _decorator, game, tween } from 'cc'\nimport { Localize } from '../../components/text/Localize'\nimport CoinData from '../../constants/CoinData'\nimport DashboardEvents from '../../constants/DashboardEvents'\nimport { CodeSoundKeys } from '../../constants/SoundKeys'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport { AnimSkipOverlay } from '../../scenes/common/anim-skip-overlay/AnimSkipOverlay'\nimport AnimUtils from '../../utils/AnimUtils'\nimport AudioUtils from '../../utils/AudioUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../utils/common/AnimAbortSignal'\nimport { BaseScreen } from '../BaseScreen'\nimport { StarChest } from './components/StarChest'\nimport { StarProgressBar } from './StarProgressBar'\n\nconst { ccclass, property, requireComponent } = _decorator\n\ntype Key = Ludex.Plugins.Language.TextKey\n\nconst { Events } = Ludex\nconst { event, player } = codex\n\nconst STARS_REQUIRED_FOR_CHEST = 20\n\nconst CHEST_AVAILABLE_LOCALIZED_KEY: Key = 'reward.starChestAvailable'\nconst CHEST_UNAVAILABLE_MESSAGE: Key = 'reward.starChestUnavailable'\n\n@ccclass('StarChestScreen')\n@requireComponent(BaseScreen)\nexport class StarChestScreen extends Component {\n    private screen!: BaseScreen\n\n    @property(StarProgressBar)\n    private starProgressBar!: StarProgressBar\n\n    @property(Button)\n    private openButton!: Button\n\n    @property(Button)\n    private continueButton!: Button\n\n    @property(Animation)\n    private chestAnimation!: Animation\n\n    @property(StarChest)\n    private starChest!: StarChest\n\n    @property(UIOpacity)\n    private chestUnlockFXMask!: UIOpacity\n\n    @property(AnimSkipOverlay)\n    private skipOverlay!: AnimSkipOverlay\n\n    @property(Localize)\n    private messageLabelLocalizer!: Localize\n\n    private numChestAvailable!: number\n\n    public __preload() {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen)!\n        this.validateRequiredComponents()\n        this.listenScreenEvents()\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenScreenEvents() {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.screen) {\n            throw new Error('StarChestScreen: screen not found')\n        }\n\n        if (!this.validateEventPayload(payload)) return\n    }\n\n    private handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.open()\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload ?? {}\n\n        if (screenName !== this.node.name) return false\n\n        return true\n    }\n\n    public open() {\n        this.runPopUpAnimation()\n        this.node.scene.emit(GameplayEvents.HIDE_UI)\n\n        const gameData = player.getGameData()\n        if (!gameData) return\n\n        const { stars } = gameData\n\n        this.numChestAvailable = Math.floor(stars / STARS_REQUIRED_FOR_CHEST)\n\n        this.starProgressBar.setRange(stars, STARS_REQUIRED_FOR_CHEST)\n\n        const hasChest = this.numChestAvailable > 0\n\n        this.setInteractableButtons(true)\n\n        this.openButton.node.active = hasChest\n        this.openButton.interactable = hasChest\n\n        this.continueButton.node.active = !hasChest\n        this.continueButton.interactable = !hasChest\n\n        this.messageLabelLocalizer.key = this.numChestAvailable\n            ? CHEST_AVAILABLE_LOCALIZED_KEY\n            : CHEST_UNAVAILABLE_MESSAGE\n\n        this.numChestAvailable ? this.chestAnimation.play() : this.chestAnimation.stop()\n\n        this.chestUnlockFXMask.node.active = false\n        this.chestUnlockFXMask.opacity = 0\n        this.starChest.respawnAtStartingState()\n    }\n\n    public close() {\n        this.setInteractableButtons(false)\n        event.emit(Events.CLOSE_SCREEN, { screenName: this.node.name })\n        this.node.scene.emit(GameplayEvents.SHOW_UI)\n    }\n\n    private runPopUpAnimation(): void {\n        if (!this.screen.container) {\n            console.warn('StarChestScreen: screen not found')\n        }\n    }\n\n    public async handleClickButton(): Promise<void> {\n        if (this.numChestAvailable === 0) {\n            this.close()\n            return\n        }\n\n        AudioUtils.turnDownMusic()\n\n        const gameData = player.getGameData()\n        if (!gameData) return\n\n        this.setInteractableButtons(false)\n\n        const { stars: prevStars } = gameData\n\n        player.setGameData({\n            stars: gameData.stars - STARS_REQUIRED_FOR_CHEST * this.numChestAvailable,\n        })\n\n        const signal = new AnimAbortSignal()\n\n        await this.skipOverlay.open({\n            opacity: 200,\n            onSkip: () => signal.abort(),\n        })\n\n        await this.handleUnlockAnimation(prevStars, gameData.stars, signal)\n        await this.skipOverlay.close()\n\n        AudioUtils.turnUpMusic()\n\n        game.emit(DashboardEvents.STARS_UPDATED)\n\n        this.close()\n    }\n\n    private async handleUnlockAnimation(prevStars: number, nextStars: number, signal: AnimAbortSignal): Promise<void> {\n        await Promise.all([this.starChest.moveToCenter(signal), this.fadeInChestUnlockFX(signal)])\n\n        this.chestAnimation.stop()\n\n        this.starChest.startShaking()\n\n        // start playing drum roll\n        await AudioUtils.playSound(CodeSoundKeys.STAR_CHEST_DRUM_ROLL, {\n            loop: true,\n        })\n\n        // Audio only plays after a frame\n        // So we wait for a frame before starting the animation\n        // to cover the case where animations was skipped\n        await AnimUtils.waitTweenAsync(0)\n\n        let lastAmount = prevStars\n        let currChest = this.numChestAvailable\n\n        const getProgress = (curr: number) => {\n            if (this.numChestAvailable > 2) {\n                return 1 - curr / this.numChestAvailable\n            }\n\n            // ? Rescaled so the animation doesn't look too fast going straight to the largest scale\n            return (1 - curr / this.numChestAvailable) * 0.35\n        }\n\n        const onProgress = (current: number) => {\n            if (lastAmount - current >= STARS_REQUIRED_FOR_CHEST) {\n                lastAmount = current\n                currChest--\n                this.starChest.scale(getProgress(currChest), signal)\n                AudioUtils.playSound(CodeSoundKeys.STAR_CHEST_OPEN)\n            }\n        }\n\n        await Promise.all([this.starProgressBar.animateTo(nextStars, signal, onProgress)])\n\n        await AnimUtils.waitTweenAsync(1, signal)\n\n        this.starChest.stopShaking()\n\n        await this.starChest.glow(signal)\n\n        // Stop drum roll\n        AudioUtils.stopSound(CodeSoundKeys.STAR_CHEST_DRUM_ROLL)\n\n        const coins = CoinData.STAR_CHEST * this.numChestAvailable\n\n        this.node.scene.emit(GameplayEvents.ADD_COINS, {\n            coins,\n            collectionAnimation: {\n                animateTextOnly: false,\n                floatDuration: 3,\n                signal,\n            },\n            skipAnimation: true,\n        } as CoinDataPayload)\n\n        await this.starChest.explode(signal)\n        await AnimUtils.waitTweenAsync(1, signal)\n\n        await Promise.all([this.fadeOutChestUnlockFX(signal)])\n    }\n\n    private async fadeInChestUnlockFX(signal: AnimAbortSignal): Promise<void> {\n        this.chestUnlockFXMask.node.active = true\n        await AnimUtils.runTweenAsync(tween(this.chestUnlockFXMask).to(0.5, { opacity: 150 }), signal)\n    }\n\n    private async fadeOutChestUnlockFX(signal: AnimAbortSignal): Promise<void> {\n        await AnimUtils.runTweenAsync(tween(this.chestUnlockFXMask).to(0.3, { opacity: 0 }), signal)\n        this.chestUnlockFXMask.opacity = 0\n        this.chestUnlockFXMask.node.active = false\n    }\n\n    private setInteractableButtons(interactable: boolean) {\n        this.openButton.interactable = interactable\n        this.continueButton.interactable = interactable\n        this.screen.backgroundMaskButton.interactable = interactable\n    }\n}\n","import { Button, Component, _decorator } from 'cc'\nimport { ScreenKeysEnum } from '../../constants/ScreenKeys'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport { BaseScreen } from '../BaseScreen'\n\nconst { ccclass, property, requireComponent } = _decorator\n\nconst { Events } = Ludex\nconst { event, player } = codex\n\n@ccclass('StartOverScreen')\n@requireComponent(BaseScreen)\nexport class StartOverScreen extends Component {\n    private screen!: BaseScreen\n\n    @property(Button)\n    private restartButton!: Button\n\n    @property(Button)\n    private cancelButton!: Button\n\n    public __preload() {\n        this.enabled = false\n        this.screen = this.getComponent(BaseScreen)!\n        this.validateRequiredComponents()\n        this.listenScreenEvents()\n    }\n\n    public onDestroy(): void {\n        this.unListenScreenEvents()\n    }\n\n    private validateRequiredComponents() {\n        ComponentUtils.lazyValidateProperties(this)\n    }\n\n    private listenScreenEvents() {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private unListenScreenEvents() {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen)\n    }\n\n    private handleOpeningScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n\n        this.setInteractableButtons(true)\n    }\n\n    private handleOpenedScreen = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload(payload)) return\n        this.open()\n    }\n\n    private validateEventPayload(payload: SwitchScreenPayload) {\n        const { screenName } = payload ?? {}\n\n        if (screenName !== this.node.name) return false\n\n        return true\n    }\n\n    public open() {\n        this.runPopUpAnimation()\n        this.node.scene.emit(GameplayEvents.HIDE_UI)\n    }\n\n    public close() {\n        this.setInteractableButtons(false)\n        ScreenUtils.closeScreen(ScreenKeysEnum.START_OVER_SCREEN)\n    }\n\n    private runPopUpAnimation(): void {\n        if (!this.screen.container) {\n            console.warn('StartLevelScreen: screen not found')\n        }\n    }\n\n    private setInteractableButtons(interactable: boolean) {\n        this.restartButton.interactable = interactable\n        this.cancelButton.interactable = interactable\n        this.screen.backgroundMaskButton.interactable = interactable\n    }\n\n    public handleClickedCancel() {\n        this.close()\n\n        this.node.scene.emit(GameplayEvents.GAME_RESUME)\n        this.node.scene.emit(GameplayEvents.SHOW_UI)\n    }\n\n    public async handleClickedRestart(): Promise<void> {\n        this.close()\n\n        this.node.scene.emit(GameplayEvents.GAME_RESUME)\n        this.node.scene.emit(GameplayEvents.GAME_REPLAY)\n    }\n}\n","import { _decorator, Component } from 'cc'\nimport type AnimAbortSignal from '../../../utils/common/AnimAbortSignal'\nimport { TopLeader } from './TopLeader'\n\nconst { ccclass, property } = _decorator\n\nexport interface LeaderConfig {\n    playerId: string\n    name: string\n    photo: string\n    score: number\n}\n\n@ccclass('TopLeaders')\nexport class TopLeaders extends Component {\n    @property(TopLeader)\n    private topLeaders: TopLeader[] = []\n\n    private leaderData: Ludex.Plugins.Leaderboards.Leader[] = []\n\n    public updateData(data: Ludex.Plugins.Leaderboards.Leader[]): void {\n        this.leaderData = data.slice(0, 3)\n        this.leaderData.slice(0, 3).forEach((leader, index) => {\n            this.topLeaders[index].updateInfo({\n                playerId: leader.playerId,\n                name: leader.name,\n                photo: leader.photo,\n                score: leader.score,\n            })\n        })\n    }\n\n    public async playShowLeadersAnimation(signal: AnimAbortSignal, stagger = 0.1): Promise<void> {\n        const duration = 0.3\n\n        await Promise.all(\n            this.leaderData.map(async (_, index) => {\n                const leader = this.topLeaders[index]\n                await leader.runShowUpAnimation(index * stagger, duration, signal)\n            }),\n        )\n    }\n\n    public hideLeaders(): void {\n        for (const leader of this.topLeaders) {\n            leader.setVisible(false)\n        }\n    }\n}\n","import OverlayUtils from 'db://assets/utils/OverlayUtils'\nimport type { Scene } from 'cc'\n\ntype OverlayView = FBInstant.OverlayView\n\nconst {\n    Utils: { Time: T, Object: O },\n} = Ludex\n\nconst TOP_PLAYER_OVERLAY_PATH = 'overlays/tournament/top-player-overlay.xml'\nconst TOP_PLAYER_OVERLAY_CSS = 'overlays/tournament/top-player-overlay-styles.css'\n\nconst LEADERBOARD_OVERLAY_PATH = 'overlays/tournament/leaderboard-overlay.xml'\nconst LEADERBOARD_OVERLAY_CSS = 'overlays/tournament/leaderboard-overlay-styles.css'\n\ntype TournamentDetailPayload = {\n    tournamentPlayers: TournamentPlayer[]\n    leaderboardPosition: ElementInGamePosition\n    topPlayerPosition: ElementInGamePosition\n    currentPlayerId: string\n}\n\ntype ElementInGamePosition = {\n    worldX: number\n    worldY: number\n    width: number\n    height: number\n}\n\ntype TournamentPlayer = {\n    playerId: string\n    rank: number\n    score: number\n}\n\nclass TournamentDetailOverlay {\n    private topPlayerDiv$!: HTMLDivElement\n    private topPlayerElement$: OverlayView | undefined\n\n    private leaderboardDiv$!: HTMLDivElement\n    private leaderboardElement$: OverlayView | undefined\n    public scene!: Scene\n\n    private currentPayload$: TournamentDetailPayload | undefined\n    private isScreenActive: boolean = false\n\n    constructor(scene: Scene) {\n        this.scene = scene\n        this.createLeaderboardDiv$()\n        this.createTopPlayerDiv$()\n    }\n\n    private createLeaderboardDiv$ = (): void => {\n        this.leaderboardDiv$ = document.createElement('div')\n\n        // Apply styles using Object.assign for better performance\n        O.assign(this.leaderboardDiv$.style, {\n            position: 'absolute',\n            transform: 'translate(-50%, -50%)',\n            left: '50%',\n            scrollbarWidth: 'none',\n            alignItems: 'start',\n            overflow: 'auto',\n            backgroundColor: 'transparent',\n            opacity: '0',\n            transition: 'opacity 0.3s ease-in-out',\n            pointerEvents: 'none',\n            display: 'none',\n            userSelect: 'none',\n        })\n\n        document.body.appendChild(this.leaderboardDiv$)\n    }\n\n    private createTopPlayerDiv$ = (): void => {\n        this.topPlayerDiv$ = document.createElement('div')\n\n        // Apply styles using Object.assign for better performance\n        O.assign(this.topPlayerDiv$.style, {\n            position: 'absolute',\n            transform: 'translate(-50%, -50%)',\n            left: '50%',\n            scrollbarWidth: 'none',\n            alignItems: 'start',\n            overflow: 'hidden',\n            backgroundColor: 'transparent',\n            opacity: '0',\n            transition: 'opacity 0.3s ease-in-out',\n            pointerEvents: 'none',\n            display: 'none',\n            userSelect: 'none',\n        })\n\n        document.body.appendChild(this.topPlayerDiv$)\n    }\n\n    public async updateOverlay(payload: TournamentDetailPayload): Promise<boolean> {\n        try {\n            if (!this.isScreenActive) return false\n\n            const validatedPayload = this.validateOverlayPayload$(payload)\n\n            this.moveAndResizeOverlays$(validatedPayload)\n\n            // Only update if payload has changed\n            if (!this.isPayloadChanged$(validatedPayload)) {\n                await this.revealMainDivs$()\n                return true\n            }\n\n            this.topPlayerElement$ = await this.updateTopPlayerElement$(validatedPayload)\n            this.leaderboardElement$ = await this.updateLeaderboardElement$(validatedPayload)\n\n            this.currentPayload$ = validatedPayload\n            await this.showOverlay$()\n        } catch (error) {\n            console.error('Error creating overlay view:', error)\n            return false\n        }\n\n        return true\n    }\n\n    private updateTopPlayerElement$ = async (\n        validatedPayload: TournamentDetailPayload,\n    ): Promise<OverlayView | undefined> => {\n        // Get top 3 players sorted by rank (ascending)\n        const top3Players = validatedPayload.tournamentPlayers\n            .slice() // Create a copy to avoid mutating the original array\n            .sort((a, b) => a.rank - b.rank) // Sort by rank ascending (rank 1 is first)\n            .slice(0, 3) // Take only the first 3 players\n\n        // Create a new payload with only the top 3 players\n        const top3Payload: TournamentDetailPayload = {\n            ...validatedPayload,\n            tournamentPlayers: top3Players,\n            leaderboardPosition: validatedPayload.leaderboardPosition,\n            topPlayerPosition: validatedPayload.topPlayerPosition,\n        }\n\n        if (this.topPlayerElement$) {\n            await this.topPlayerElement$.updateAsync(top3Payload)\n            return this.topPlayerElement$\n        }\n\n        // Create the top player overlay element\n        const overlay = await OverlayUtils.createOverlayViewAsync(\n            TOP_PLAYER_OVERLAY_PATH,\n            this.topPlayerDiv$,\n            this.getTopPlayerIframeCss$(),\n            TOP_PLAYER_OVERLAY_CSS,\n            top3Payload,\n        )\n\n        return overlay\n    }\n\n    private updateLeaderboardElement$ = async (\n        validatedPayload: TournamentDetailPayload,\n    ): Promise<OverlayView | undefined> => {\n        if (this.leaderboardElement$) {\n            await this.leaderboardElement$.updateAsync(validatedPayload)\n\n            const iframe = this.leaderboardElement$.getIFrameElement()\n            const newIframeStyleString = this.getLeaderboardIframeCss$(validatedPayload)\n            iframe.style.cssText = newIframeStyleString\n\n            return this.leaderboardElement$\n        }\n\n        const overlay = await OverlayUtils.createOverlayViewAsync(\n            LEADERBOARD_OVERLAY_PATH,\n            this.leaderboardDiv$,\n            this.getLeaderboardIframeCss$(validatedPayload),\n            LEADERBOARD_OVERLAY_CSS,\n            validatedPayload,\n        )\n\n        return overlay\n    }\n\n    private isPayloadChanged$ = (payload: TournamentDetailPayload): boolean => {\n        if (!this.currentPayload$) return true\n\n        // Check if the arrays have different lengths\n        if (this.currentPayload$.tournamentPlayers.length !== payload.tournamentPlayers.length) {\n            return true\n        }\n\n        // Compare each player object\n        for (let i = 0; i < payload.tournamentPlayers.length; i++) {\n            const currentPlayer = this.currentPayload$.tournamentPlayers[i]\n            const newPlayer = payload.tournamentPlayers[i]\n\n            // Safety check (though should not be needed after length check)\n            if (!currentPlayer || !newPlayer) {\n                return true\n            }\n\n            if (\n                currentPlayer.playerId !== newPlayer.playerId ||\n                currentPlayer.rank !== newPlayer.rank ||\n                currentPlayer.score !== newPlayer.score\n            ) {\n                return true\n            }\n        }\n\n        return false\n    }\n\n    private showOverlay$ = async (): Promise<void> => {\n        if (!this.leaderboardElement$ || !this.topPlayerElement$) return\n\n        const leaderboardPromise = this.leaderboardElement$.showAsync()\n        const topPlayerPromise = this.topPlayerElement$.showAsync()\n\n        await Promise.all([leaderboardPromise, topPlayerPromise])\n        this.revealMainDivs$()\n    }\n\n    private revealMainDivs$ = (): void => {\n        if (!this.isScreenActive) return\n        if (!this.leaderboardElement$ || !this.topPlayerElement$) return\n\n        O.assign(this.leaderboardDiv$.style, {\n            display: 'block',\n        })\n        this.leaderboardDiv$.scrollTop = 0\n\n        O.assign(this.topPlayerDiv$.style, {\n            display: 'block',\n        })\n\n        requestAnimationFrame(() => {\n            if (!this.isScreenActive) {\n                this.leaderboardDiv$.style.display = 'none'\n                this.topPlayerDiv$.style.display = 'none'\n                return\n            }\n\n            O.assign(this.leaderboardDiv$.style, {\n                opacity: '1',\n                pointerEvents: 'auto',\n            })\n            O.assign(this.topPlayerDiv$.style, {\n                opacity: '1',\n                pointerEvents: 'auto',\n            })\n        })\n    }\n\n    private validateOverlayPayload$ = (payload: TournamentDetailPayload): TournamentDetailPayload => {\n        const correctedPayload: TournamentDetailPayload = {\n            ...payload,\n            tournamentPlayers: [],\n        }\n\n        const validateRegEx = /^\\d+$/\n\n        for (const player of payload.tournamentPlayers) {\n            // if player id contains any alphabet characters, delete the player\n            if (!validateRegEx.test(player.playerId)) {\n                continue\n            }\n\n            correctedPayload.tournamentPlayers.push(player)\n        }\n\n        return correctedPayload\n    }\n\n    public async hideOverlay(): Promise<void> {\n        if (!this.leaderboardElement$) return\n        if (!this.topPlayerElement$) return\n\n        // Start fade-out effect\n        O.assign(this.leaderboardDiv$.style, {\n            opacity: '0',\n            pointerEvents: 'none',\n            display: 'none',\n        })\n\n        O.assign(this.topPlayerDiv$.style, {\n            opacity: '0',\n            pointerEvents: 'none',\n            display: 'none',\n        })\n    }\n\n    private getLeaderboardIframeCss$ = (payload: TournamentDetailPayload): string => {\n        const widthString = 'width: 100%;'\n\n        const { tournamentPlayers, leaderboardPosition } = payload\n\n        const containerWidth = this.getElementDivWidth$(leaderboardPosition)\n        const playerCount = tournamentPlayers.length\n\n        // ? Optimal iframe height is based on player tab count and margin to not show scrollbar\n        const heightString = `height: calc((${containerWidth}px * (107 / 593) - 2px) * ${playerCount} + 15px);`\n\n        const borderWidthString = 'border-width: 0px;'\n        const overflowString = 'overflow: hidden;'\n        const displayString = 'display: block;'\n        return `${widthString} ${borderWidthString} ${overflowString} ${displayString} ${heightString}   `\n    }\n\n    private getTopPlayerIframeCss$ = (): string => {\n        const widthString = 'width: 100%;'\n\n        // ? Prevent scrollbar from showing\n        const positionString = 'position: absolute;'\n        const heightString = 'height: 130%;'\n        const topString = 'top: -23%;'\n\n        const borderWidthString = 'border-width: 0px;'\n        const overflowString = 'overflow: hidden;'\n        const displayString = 'display: block;'\n        return `${widthString} ${borderWidthString} ${overflowString} ${displayString} ${heightString} ${topString} ${positionString}`\n    }\n\n    private getElementDivWidth$ = (payload: ElementInGamePosition): number => {\n        const { width } = payload\n        return width * OverlayUtils.getGameScaleFactor()\n    }\n\n    private getElementDivHeight$ = (payload: ElementInGamePosition): number => {\n        const { height } = payload\n        return height * OverlayUtils.getGameScaleFactor()\n    }\n\n    private getElementDivTopOffset$ = (payload: ElementInGamePosition): number => {\n        const { worldY } = payload\n        return worldY * OverlayUtils.getGameScaleFactor()\n    }\n\n    private getElementDivLeftOffset$ = (payload: ElementInGamePosition): number => {\n        const { worldX } = payload\n        return worldX * OverlayUtils.getGameScaleFactor()\n    }\n\n    private moveAndResizeOverlays$ = (payload: TournamentDetailPayload): void => {\n        const { leaderboardPosition, topPlayerPosition } = payload\n\n        this.updateDivPosition$(this.leaderboardDiv$, leaderboardPosition)\n        this.updateDivPosition$(this.topPlayerDiv$, topPlayerPosition)\n    }\n\n    private updateDivPosition$ = (element: HTMLDivElement, payload: ElementInGamePosition): void => {\n        if (!element) return\n\n        const cssWidth = `${this.getElementDivWidth$(payload)}px`\n        const cssHeight = `${this.getElementDivHeight$(payload)}px`\n        const cssLeftOffset = `${this.getElementDivLeftOffset$(payload)}px`\n        const cssTopOffset = `${this.getElementDivTopOffset$(payload)}px`\n\n        O.assign(element.style, {\n            width: cssWidth,\n            height: cssHeight,\n            left: cssLeftOffset,\n            top: `calc(100vh - ${cssTopOffset})`,\n        })\n    }\n\n    public setIsScreenActive(isScreenActive: boolean): void {\n        this.isScreenActive = isScreenActive\n    }\n}\n\nexport default TournamentDetailOverlay\n","import AnimUtils from 'db://assets/utils/AnimUtils'\nimport type AnimAbortSignal from 'db://assets/utils/common/AnimAbortSignal'\nimport { _decorator, Node as CCNode, Component, tween, UIOpacity, Vec3 } from 'cc'\n\nconst { ccclass, property } = _decorator\n\n@ccclass('TournamentLeaderSkeleton')\nexport class TournamentLeaderSkeleton extends Component {\n    private uiOpacity!: UIOpacity\n\n    @property(CCNode)\n    private container!: CCNode\n\n    public __preload(): void {\n        this.uiOpacity = this.getComponent(UIOpacity)!\n        this.validateRequiredComponents()\n    }\n\n    public async hide(abortSignal: AnimAbortSignal): Promise<void> {\n        await AnimUtils.runTweenAsync(\n            tween(this.uiOpacity)\n                .to(0.2, {\n                    opacity: 0,\n                })\n                .call(() => {\n                    this.node.active = false\n                }),\n            abortSignal,\n        )\n    }\n\n    public async show(delay: number, abortSignal: AnimAbortSignal): Promise<void> {\n        this.node.active = true\n\n        this.node.scale = new Vec3(0.8, 0.8, 0.8)\n        this.uiOpacity.opacity = 0\n\n        const position = this.container.position.clone()\n        this.container.position = new Vec3(position.x, position.y - 100, position.z)\n\n        const scale = tween(this.node).delay(delay)\n        scale.to(0.2, { scale: Vec3.ONE }, { easing: 'elasticOut' })\n\n        const float = tween(this.container).delay(delay)\n        float.to(0.2, { position }, { easing: 'backOut' })\n\n        const opacity = tween(this.uiOpacity).delay(delay)\n        opacity.to(0.2, { opacity: 255 }, { easing: 'cubicOut' })\n\n        await Promise.all([\n            AnimUtils.runTweenAsync(scale, abortSignal),\n            AnimUtils.runTweenAsync(float, abortSignal),\n            AnimUtils.runTweenAsync(opacity, abortSignal),\n        ])\n\n        this.node.scale = Vec3.ONE\n        this.container.position = position\n        this.uiOpacity.opacity = 255\n    }\n\n    private validateRequiredComponents(): void {\n        if (!this.uiOpacity) {\n            throw new Error('UIOpacity component is not attached to the same node')\n        }\n\n        if (!this.container) {\n            throw new Error('Container is not attached to the same node')\n        }\n    }\n}\n","import { _decorator, Component, Label, Layout, Node, Sprite, SpriteFrame, UITransform, View } from 'cc'\nimport { Localize } from '../../components/text/Localize'\nimport { CodeSoundKeys } from '../../constants/SoundKeys'\nimport TournamentEvents from '../../constants/Tournament'\nimport GameplayEvents from '../../gameplay/constants/GameEvents'\nimport ThemeKeys from '../../gameplay/constants/ThemeKeys'\nimport { ThemeTournamentResourcesMapping } from '../../gameplay/constants/ThemeResourcesPath'\nimport { ParticleSystem } from '../../particles/ParticleSystem'\nimport { Leaders } from '../../scenes/dashboard-scene/components/pages/leaderboard/components/leader/Leaders'\nimport type { ITournamentLeadersPayload } from '../../scenes/dashboard-scene/components/pages/tournaments/TournamentContent'\nimport AdsUtils from '../../utils/AdsUtils'\nimport AudioUtils from '../../utils/AudioUtils'\nimport ComponentUtils from '../../utils/ComponentUtils'\nimport AnimAbortSignal from '../../utils/common/AnimAbortSignal'\nimport LayoutUtils from '../../utils/LayoutUtils'\nimport LeaderboardUtils from '../../utils/LeaderboardUtils'\nimport MatchUtils from '../../utils/MatchUtils'\nimport OverlayUtils from '../../utils/OverlayUtils'\nimport ResourceUtils from '../../utils/ResourceUtils'\nimport SceneUtils from '../../utils/SceneUtils'\nimport ScreenUtils from '../../utils/ScreenUtils'\nimport TournamentUtils, { type TournamentData } from '../../utils/TournamentUtils'\nimport { BaseScreen } from '../BaseScreen'\nimport { TopLeaders } from './components/TopLeaders'\nimport TournamentDetailOverlay from './components/TournamentDetailOverlay'\nimport { TournamentLeaderSkeleton } from './components/TournamentLeaderSkeleton'\n\nconst { ccclass, property, requireComponent } = _decorator\n\nconst {\n    Events,\n    Utils: { Object: O, Time: T, Number: N },\n} = Ludex\n\nconst { event, storage, player, leaderboard, language } = codex\n\nconst CONTAINER_HEIGHT = 1166\n\ntype PlayTournamentPayload = {\n    level: number\n    score: number\n    replay: boolean\n}\n\n@ccclass('TournamentDetailScreen')\n@requireComponent(BaseScreen)\nexport class TournamentDetailScreen extends Component {\n    @ComponentUtils.required()\n    private screen!: BaseScreen\n\n    @ComponentUtils.required()\n    @property(Label)\n    private readonly title!: Label\n\n    @ComponentUtils.required()\n    @property(Localize)\n    private readonly titleLocalizer!: Localize\n\n    @ComponentUtils.required()\n    @property(Localize)\n    private readonly timeLocalizer!: Localize\n\n    @ComponentUtils.required()\n    @property(Localize)\n    private readonly playerCountLocalizer!: Localize\n\n    @ComponentUtils.required()\n    @property(Leaders)\n    private readonly tournamentLeaders!: Leaders\n\n    @ComponentUtils.required()\n    @property(TopLeaders)\n    private readonly topLeaders!: TopLeaders\n\n    @ComponentUtils.required()\n    @property({ type: Node, group: 'Buttons' })\n    private readonly playButton!: Node\n\n    @ComponentUtils.required()\n    @property({ type: Node, group: 'Buttons' })\n    private readonly continueButton!: Node\n\n    @ComponentUtils.required()\n    @property({ type: Node, group: 'Buttons' })\n    private readonly replayButton!: Node\n\n    @ComponentUtils.required()\n    @property({ type: Node, group: 'Buttons' })\n    private readonly logInButton!: Node\n\n    @ComponentUtils.required()\n    @property({ type: Layout, group: 'Buttons' })\n    private readonly buttonsLayout!: Layout\n\n    @ComponentUtils.required()\n    @property({ type: Sprite })\n    private readonly banner!: Sprite\n\n    @ComponentUtils.required()\n    @property({ type: Node })\n    private readonly bannerLoadingRing!: Node\n\n    @ComponentUtils.required()\n    @property({ type: Node })\n    private readonly bannerMask!: Node\n\n    @property({ type: [TournamentLeaderSkeleton] })\n    private readonly leaderSkeletons: TournamentLeaderSkeleton[] = []\n\n    @property({ type: ParticleSystem, group: 'Confetti' })\n    private readonly leftConfetti!: ParticleSystem\n\n    @property({ type: ParticleSystem, group: 'Confetti' })\n    private readonly rightConfetti!: ParticleSystem\n\n    @ComponentUtils.required()\n    @property({ type: UITransform, group: 'Container' })\n    private readonly container!: UITransform\n\n    @ComponentUtils.required()\n    @property({ type: UITransform, group: 'Container' })\n    private readonly tempContainer!: UITransform\n\n    @ComponentUtils.required()\n    @property({ type: Node, group: 'Container' })\n    private readonly topPlayerOverlayRef!: Node\n\n    private signal$: AnimAbortSignal = new AnimAbortSignal()\n    private isOverlayMode$: boolean = false\n\n    private payload$!: SwitchScreenPayload\n\n    private tournamentPayload$!: TournamentData\n    private leadersPayload$: ITournamentLeadersPayload | null = null\n\n    private tournamentDetailOverlay$: TournamentDetailOverlay | null = null\n\n    public __preload() {\n        this.enabled = false\n\n        this.screen = this.getComponent(BaseScreen) as BaseScreen\n\n        ComponentUtils.validateRequiredProperties(this, TournamentDetailScreen)\n        this.listenScreenEvents$()\n        this.createTournamentOverlay$()\n    }\n\n    public onDestroy(): void {\n        this.signal$.abort()\n        this.unListenScreenEvents$()\n        this.cleanupOverlay$()\n    }\n\n    private listenScreenEvents$ = (): void => {\n        // ? Here's a demo of all the events a screen has\n        event.on(Events.OPENING_SCREEN, this.handleOpeningScreen$)\n        event.on(Events.OPENED_SCREEN, this.handleOpenedScreen$)\n    }\n\n    private unListenScreenEvents$ = (): void => {\n        event.off(Events.OPENING_SCREEN, this.handleOpeningScreen$)\n        event.off(Events.OPENED_SCREEN, this.handleOpenedScreen$)\n    }\n\n    private readonly handleOpeningScreen$ = (payload: SwitchScreenPayload) => {\n        if (!this.screen) {\n            throw new Error('TournamentDetailScreen: screen not found')\n        }\n\n        if (!this.validateEventPayload$(payload)) return\n        this.enabled = true\n    }\n\n    private readonly handleOpenedScreen$ = (payload: SwitchScreenPayload) => {\n        if (!this.validateEventPayload$(payload)) return\n        this.open()\n    }\n\n    private validateEventPayload$ = (payload: SwitchScreenPayload): boolean => {\n        const { screenName } = payload ?? {}\n        if (screenName !== this.node.name) return false\n\n        this.payload$ = payload\n\n        return true\n    }\n\n    public open() {\n        this.updateContainer$()\n        this.updateInfo()\n        this.updateOverlayScreenStatus$(true)\n\n        this.setInteractableButtons$(true)\n        this.tournamentLeaders.hideLeaders()\n        this.topLeaders.hideLeaders()\n        this.updateButtonVisibility$()\n        this.setPlayerCountWaiting$()\n\n        this.node.scene.emit(GameplayEvents.HIDE_UI)\n    }\n\n    public close() {\n        ScreenUtils.closeTournamentDetailScreen()\n        this.setInteractableButtons$(false)\n        this.tournamentLeaders.scrollView.unlistenEvents()\n        this.updateOverlayScreenStatus$(false)\n\n        this.node.scene.emit(GameplayEvents.SHOW_UI)\n\n        //? Handle cancelling gracefully\n        this.cleanup$()\n    }\n\n    private cleanup$ = (): void => {\n        this.signal$?.abort()\n        this.signal$ = new AnimAbortSignal()\n\n        this.tournamentLeaders.hideLeaders()\n        this.topLeaders.hideLeaders()\n        this.cleanupOverlay$()\n    }\n\n    private cleanupOverlay$ = (): void => {\n        this.tournamentDetailOverlay$?.hideOverlay()\n    }\n\n    private handleOverlayMode$ = async (signal: AnimAbortSignal): Promise<boolean> => {\n        if (!this.leadersPayload$) return false\n\n        const promise = new Promise<boolean>((resolve) => {\n            signal.call(() => {\n                this.updateOverlay$().then((result) => {\n                    this.isOverlayMode$ = result\n                    resolve(result)\n                })\n            })\n        })\n\n        return promise\n    }\n\n    private updateOverlay$ = async (): Promise<boolean> => {\n        if (!this.leadersPayload$ || !this.tournamentDetailOverlay$) return false\n\n        const sortedLeaders = this.leadersPayload$.leaders ?? []\n        sortedLeaders.sort((a, b) => a.rank - b.rank)\n\n        const tournamentPlayers = sortedLeaders.map((leader) => ({\n            playerId: leader.playerId,\n            rank: leader.rank,\n            score: leader.score,\n        }))\n\n        const result = await this.tournamentDetailOverlay$.updateOverlay({\n            tournamentPlayers,\n            leaderboardPosition: this.getLeaderboardPosition$(),\n            topPlayerPosition: this.getTopPlayerPosition$(),\n            currentPlayerId: player.getPlayerId(),\n        })\n\n        return result ?? false\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async updateInfo(): Promise<void> {\n        const signal = this.signal$\n\n        const tournamentStr = this.payload$?.screenData?.tournament\n        if (!tournamentStr) return\n\n        const playAnimation = this.payload$.screenData?.playAnimation ?? true\n\n        const tournament = JSON.parse(tournamentStr) as TournamentData\n\n        // ? Fix tournament id type from FB\n        tournament.id = tournament.id.toString()\n\n        this.tournamentPayload$ = tournament\n        const { endTime, payload, title, tournamentType } = this.tournamentPayload$\n        const { leaderboardId = '', themeId = ThemeKeys.AUTUMN, playerName } = payload\n\n        if (tournamentType === 'PAGE_HOSTED') {\n            this.updateTitleTournamentTitle$(title)\n        } else {\n            this.updateTitleWithPlayerName$(playerName ?? title)\n        }\n\n        this.updateEndTime$(endTime)\n        this.updateTournamentBanner$(themeId, signal)\n\n        const { previousScore, animateTournamentLeader } = storage.getStorage('tournament')\n        storage.setStorageData('tournament', 'animateTournamentLeader', false)\n\n        await this.showLoading(signal)\n        await this.loadLeaders(leaderboardId)\n\n        if (!this.leadersPayload$ || this.leadersPayload$.leaders.length === 0 || signal.aborted) {\n            this.updatePlayerCount(0)\n            await this.hideLoading(signal)\n            return\n        }\n\n        const { player: playerLeaderData, amountPlayer } = this.leadersPayload$\n        const leaders = this.leadersPayload$.leaders ?? []\n        leaders.sort((a, b) => a.rank - b.rank)\n\n        await this.hideLoading(signal)\n\n        if (this.isOverlayMode$) {\n            const result = await this.handleOverlayMode$(signal)\n            if (result) return\n        }\n\n        if (!this.topLeaders || !this.tournamentLeaders || signal.aborted) return\n\n        this.updatePlayerCount(amountPlayer)\n        this.topLeaders.updateData(leaders)\n        this.topLeaders.playShowLeadersAnimation(signal)\n\n        const currentScore = playerLeaderData?.score ?? 0\n        const currentRank = playerLeaderData?.rank ?? 0\n\n        const scoreChanging = animateTournamentLeader && previousScore !== -1 && previousScore < currentScore\n\n        this.tournamentLeaders.updateData(leaders)\n\n        // ? If player is in the leaderboard, we need to check if the score and rank has changed\n        let rankChanging = false\n        if (playerLeaderData && scoreChanging) {\n            rankChanging = this.tournamentLeaders.updateDisplayPlayerLeaderForRankChanging(\n                previousScore,\n                currentScore,\n                currentRank,\n            )\n        }\n\n        this.tournamentLeaders.initScrollViews()\n        this.tournamentLeaders.scrollView.scrollView.enabled = true\n\n        await signal.callAsync((s) => this.runShowUpAnimation(s, playAnimation))\n\n        if (!animateTournamentLeader || !rankChanging || previousScore === -1 || !this.tournamentLeaders) return\n\n        await signal.callAsync((s) =>\n            this.tournamentLeaders.playRankChangeAnimation(s, previousScore, currentScore, currentRank),\n        )\n\n        this.tryPlayConfettiEffect(currentRank)\n    }\n\n    private updateContainer$ = async (): Promise<void> => {\n        const { height } = this.tempContainer\n        this.container.node.position = this.tempContainer.node.position.clone()\n\n        if (height < CONTAINER_HEIGHT && this.container.height !== height) {\n            this.container.height = height\n            View.instance.emit('canvas-resize')\n        } else if (height > CONTAINER_HEIGHT && this.container.height < CONTAINER_HEIGHT) {\n            this.container.height = CONTAINER_HEIGHT\n            View.instance.emit('canvas-resize')\n        }\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async loadLeaders(leaderboardId: string) {\n        this.leadersPayload$ = await this.getLeadersPayload$(leaderboardId)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async showLoading(signal: AnimAbortSignal, skeletonDelay = 0): Promise<void> {\n        if (this.isOverlayMode$) {\n            this.cleanupOverlay$()\n            return\n        }\n\n        await Promise.all([\n            this.tournamentLeaders.scrollView.unlistenEvents(),\n            this.tournamentLeaders.scrollView.scrollToTop(signal, 0.1).then(() => {\n                this.tournamentLeaders.scrollView.scrollView.enabled = false\n                this.tournamentLeaders.scrollView.listenEvents()\n            }),\n            this.leaderSkeletons.map((skeleton, index) => skeleton.show(index * skeletonDelay, signal)),\n        ])\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async hideLoading(signal: AnimAbortSignal): Promise<void> {\n        if (this.isOverlayMode$) {\n            return\n        }\n\n        await Promise.all(this.leaderSkeletons.map((skeleton) => skeleton.hide(signal)))\n    }\n\n    @ComponentUtils.onlyRunInLifeCycleAsync\n    private async runShowUpAnimation(signal: AnimAbortSignal, playAppearAnim = true): Promise<void> {\n        const stagger = playAppearAnim ? 0 : 0.1\n\n        await this.tournamentLeaders?.playShowLeadersAnimation(signal, stagger)\n        await this.tournamentLeaders?.scrollToPlayerLeader(1.5, signal)\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private tryPlayConfettiEffect(playerRank: number): void {\n        if (playerRank > 10) return\n\n        const isLandscape = LayoutUtils.isLandscape()\n\n        const burstCount = isLandscape ? 50 : 30\n        const startSpeedMin = isLandscape ? 5000 : 2000\n        const startSpeedMax = isLandscape ? 15000 : 10000\n        const leftAngle = isLandscape ? 40 : 60\n        const rightAngle = isLandscape ? 110 : 100\n        const arc = isLandscape ? 30 : 20\n\n        this.leftConfetti.bursts[0]!.count = this.rightConfetti.bursts[0]!.count = burstCount\n        this.leftConfetti.startSpeed.constantMin = this.rightConfetti.startSpeed.constantMin = startSpeedMin\n        this.leftConfetti.startSpeed.constantMax = this.rightConfetti.startSpeed.constantMax = startSpeedMax\n        this.leftConfetti.shapeModule.angle = leftAngle\n        this.rightConfetti.shapeModule.angle = rightAngle\n        this.leftConfetti.shapeModule.arc = this.rightConfetti.shapeModule.arc = arc\n\n        this.leftConfetti.play()\n        this.rightConfetti.play()\n\n        AudioUtils.playSound(CodeSoundKeys.LEADERBOARD_TRIUMPH)\n    }\n\n    private updateTitleWithPlayerName$ = (name?: string): void => {\n        if (name === undefined) return\n        this.titleLocalizer.enabled = true\n        this.titleLocalizer.setParams([name])\n    }\n\n    private updateTitleTournamentTitle$ = (title: string): void => {\n        this.titleLocalizer.enabled = false\n        this.title.string = title\n    }\n\n    private updateEndTime$ = (endTime: number): void => {\n        try {\n            const timeString = T.getRelativeTime(endTime, language.getCurrentLocale(), { style: 'short' })\n            this.timeLocalizer.key = 'game.endsIn'\n            this.timeLocalizer.setParams([timeString])\n        } catch {\n            this.timeLocalizer.key = 'game.endsSoon'\n        }\n    }\n\n    private updateTournamentBanner$ = async (themeId: ThemeKeys, signal: AnimAbortSignal): Promise<void> => {\n        this.banner.spriteFrame = null\n\n        let sprite = ResourceUtils.getAsset(`${ThemeTournamentResourcesMapping[themeId]}/spriteFrame`, SpriteFrame)\n\n        if (!sprite) {\n            this.bannerMask.active = true\n            this.bannerLoadingRing.active = true\n            sprite = await ResourceUtils.loadThemeTournamentAsync(themeId)\n        }\n\n        if (!sprite) {\n            //? Fallback to summer theme\n            sprite = await ResourceUtils.loadThemeTournamentAsync(ThemeKeys.SUMMER)\n        }\n\n        if (!this.banner || !sprite || signal.aborted) return\n\n        this.banner.spriteFrame = sprite\n        this.bannerMask.active = false\n        this.bannerLoadingRing.active = false\n    }\n\n    @ComponentUtils.onlyRunInLifeCycle\n    private updatePlayerCount(count: number): void {\n        const shortPLayerNumber = N.getShortNumber(count, 3)\n\n        if (count === 1) {\n            this.playerCountLocalizer.key = 'game.player'\n        } else {\n            this.playerCountLocalizer.key = 'game.nPlayers'\n            this.playerCountLocalizer.setParams([shortPLayerNumber])\n        }\n    }\n\n    private setPlayerCountWaiting$ = (): void => {\n        this.playerCountLocalizer.key = 'status.loading'\n    }\n\n    private updateButtonVisibility$ = (): void => {\n        this.playButton.active = false\n        this.continueButton.active = false\n        this.replayButton.active = false\n        this.logInButton.active = false\n\n        if (GameSDK.extra.isGuest) {\n            this.logInButton.active = true\n            return\n        }\n\n        const { tournamentContextType = 'tournament_start' } = this.payload$?.screenData ?? {}\n\n        switch (tournamentContextType) {\n            case 'tournament_end': {\n                const { replayCount = 0 } = player.getGameData()?.tournamentProgress[this.tournamentPayload$.id] ?? {}\n\n                this.continueButton.active = replayCount > 1\n                this.replayButton.active = true\n                this.buttonsLayout.updateLayout(true)\n                break\n            }\n\n            case 'tournament_start':\n                this.playButton.active = true\n                break\n        }\n    }\n\n    private getLeadersPayload$ = async (leaderboardId: string): Promise<ITournamentLeadersPayload | null> => {\n        const leaderboardName = leaderboard.getLeaderboardName(leaderboardId)\n        if (!leaderboardName) return null\n\n        const leaderboardData = await LeaderboardUtils.getAllLeaderboardAsync(leaderboardId)\n        if (!leaderboardData) return null\n\n        const leaders = O.vals(leaderboardData.leaders) as Ludex.Plugins.Leaderboards.Leader[]\n\n        const currentPlayerId = player.getPlayerId()\n\n        const leadersPayload: ITournamentLeadersPayload = {\n            leaders: [],\n            amountPlayer: leaderboardData.amountPlayer,\n        }\n\n        for (const leader of leaders) {\n            const { playerId } = leader\n\n            if (playerId === currentPlayerId) {\n                leadersPayload.player = leader\n                leadersPayload.leaders.push(leader)\n            } else {\n                leadersPayload.leaders.push(leader)\n            }\n        }\n\n        if (!leadersPayload.player) {\n            const playerData = await leaderboard.getLeadersByPlayerIdsAsync(leaderboardName, [currentPlayerId])\n            const player = playerData[0]\n            if (player) {\n                leadersPayload.player = player\n                leadersPayload.leaders.push(player)\n            }\n        }\n\n        return leadersPayload\n    }\n\n    public async handleOnLogIn(): Promise<void> {\n        try {\n            if (!('initPlayerAsync' in GameSDK.player)) return\n\n            ScreenUtils.showLoadingScreen()\n            await GameSDK.player.initPlayerAsync()\n            ScreenUtils.closeLoadingScreen()\n\n            if (GameSDK.extra.isGuest) {\n                ScreenUtils.showNotificationScreenWithLocalizedKey('error.login', 1)\n                return\n            }\n        } catch {\n            ScreenUtils.closeLoadingScreen()\n            ScreenUtils.showNotificationScreenWithLocalizedKey('error.login', 1)\n        }\n    }\n\n    public async handleOnPlay(): Promise<void> {\n        if (GameSDK.isGameSDK('Yandex')) {\n            // ? Show interstitial ad before starting the tournament in Yandex SDK\n            await AdsUtils.showInterstitialAdAsync()\n        }\n\n        await this.processPlayTournament$({ level: 1, score: 0, replay: false })\n    }\n\n    public async handleOnReplay(): Promise<void> {\n        if (GameSDK.isGameSDK('Yandex')) {\n            // ? Show interstitial ad before starting the tournament in Yandex SDK\n            await AdsUtils.showInterstitialAdAsync()\n        }\n\n        await this.processPlayTournament$({ level: 1, score: 0, replay: true })\n    }\n\n    public async handleOnContinue(): Promise<void> {\n        const success = await AdsUtils.showRewardVideoAdAsync()\n        if (!success) return\n\n        //? Resume the tournament at half the last level\n        const { level = 1, score = 0 } = player.getGameData()?.tournamentProgress[this.tournamentPayload$.id] ?? {}\n        const halfLevel = level > 1 ? Math.floor(level / 2) : 1\n        const halfScore = Math.floor(score / 2)\n\n        await this.processPlayTournament$({ level: halfLevel, score: halfScore, replay: false })\n    }\n\n    private processPlayTournament$ = async (payload: PlayTournamentPayload): Promise<void> => {\n        const tournamentId = this.tournamentPayload$.id || ''\n        const isTournamentExpired = TournamentUtils.validateTournamentExpired(tournamentId)\n        TournamentUtils.syncTournamentProgress()\n\n        if (isTournamentExpired) {\n            this.close()\n            this.node.scene.emit(TournamentEvents.RELOAD_TOURNAMENT)\n            ScreenUtils.showNotificationScreenWithLocalizedKey('error.tourEnded', 2)\n            return\n        }\n\n        const { level, score, replay } = payload\n\n        try {\n            ScreenUtils.showLoadingScreen()\n            await MatchUtils.setMatchCustomDataAsync({ level, score })\n            await this.processJoinTournament$(level)\n            if (replay) this.increaseTournamentReplayCount$()\n        } catch (joinError) {\n            if (O.hasOwn(joinError, 'code') && joinError.code === 'USER_INPUT') {\n                // ? User cancelled. Safely ignore\n                return\n            }\n\n            try {\n                await this.processContinueTournament$(level)\n                if (replay) this.increaseTournamentReplayCount$()\n            } catch (continueError) {\n                if (O.hasOwn(continueError, 'code') && continueError.code === 'USER_INPUT') {\n                    // ? User cancelled. Safely ignore\n                    return\n                }\n\n                // ? If error is unexpected, show error message\n                console.error('processPlayButtonPressed', continueError)\n                ScreenUtils.showNotificationScreenWithLocalizedKey('error.tourJoinFail', 2)\n            }\n        } finally {\n            ScreenUtils.closeLoadingScreen()\n        }\n    }\n\n    private processJoinTournament$ = async (level: number = 1): Promise<void> => {\n        try {\n            const tournamentId = this.tournamentPayload$.id || ''\n            await MatchUtils.joinTournamentAsync(tournamentId)\n            SceneUtils.switchToGameScene({ level })\n        } catch (error) {\n            console.warn('processJoinTournament', error)\n            throw error\n        }\n    }\n\n    private processContinueTournament$ = async (level: number = 1): Promise<void> => {\n        try {\n            const contextId = GameSDK.context.getID() ?? ''\n            await MatchUtils.continueTournamentAsync(contextId)\n            SceneUtils.switchToGameScene({ level })\n        } catch (error) {\n            console.warn('processContinueTournament', error)\n            throw error\n        }\n    }\n\n    private increaseTournamentReplayCount$ = (): void => {\n        const { tournamentId } = MatchUtils.getMatchCustomData() ?? {}\n        if (!tournamentId) return\n\n        const gameData = player.getGameData()\n        if (!gameData) return\n\n        const { tournamentProgress } = gameData\n\n        const { replayCount = 0 } = tournamentProgress[tournamentId] ?? {}\n\n        player.setGameData({\n            tournamentProgress: {\n                [tournamentId]: {\n                    level: 1,\n                    score: 0,\n                    ...tournamentProgress[tournamentId],\n                    replayCount: replayCount + 1,\n                },\n            },\n        })\n    }\n\n    private setInteractableButtons$ = (interactable: boolean): void => {\n        this.screen.backgroundMaskButton.interactable = interactable\n    }\n\n    private createTournamentOverlay$ = (): void => {\n        try {\n            OverlayUtils.isOverlayViewAPIAvailable(GameSDK)\n\n            this.isOverlayMode$ = true\n            this.tournamentDetailOverlay$ = new TournamentDetailOverlay(this.node.scene)\n        } catch {\n            return\n        }\n    }\n\n    private getLeaderboardPosition$ = (): { worldX: number; worldY: number; width: number; height: number } => {\n        const leaderboardUITransform = this.tournamentLeaders.getComponent(UITransform)\n        if (!leaderboardUITransform)\n            return {\n                worldX: 0,\n                worldY: 0,\n                width: 0,\n                height: 0,\n            }\n\n        const { width, height } = leaderboardUITransform\n        const { worldPositionX, worldPositionY } = this.tournamentLeaders.node\n\n        return {\n            worldX: worldPositionX,\n            worldY: worldPositionY,\n            width,\n            height,\n        }\n    }\n\n    private getTopPlayerPosition$ = (): { worldX: number; worldY: number; width: number; height: number } => {\n        const topPlayerUITransform = this.topPlayerOverlayRef.getComponent(UITransform)\n        if (!topPlayerUITransform)\n            return {\n                worldX: 0,\n                worldY: 0,\n                width: 0,\n                height: 0,\n            }\n\n        const { width, height } = topPlayerUITransform\n        const { worldPositionX, worldPositionY } = this.topPlayerOverlayRef\n\n        return {\n            worldX: worldPositionX,\n            worldY: worldPositionY,\n            width,\n            height,\n        }\n    }\n\n    private updateOverlayScreenStatus$ = (isScreenActive: boolean): void => {\n        this.tournamentDetailOverlay$?.setIsScreenActive(isScreenActive)\n    }\n}\n","import { _decorator } from 'cc'\nimport { Leader } from '../../../scenes/dashboard-scene/components/pages/leaderboard/components/leader/Leader'\nconst { ccclass } = _decorator\n\n@ccclass('TournamentLeader')\nexport class TournamentLeader extends Leader {\n    //\n}\n","const {\n    Utils: { Browser: B },\n} = Ludex\nconst { player } = codex\n\ninterface VibrationProfiles {\n    default: VibratePattern\n    [key: string]: VibratePattern\n}\n\nclass VibrateUtilsCore {\n    protected static inst$: VibrateUtilsCore\n    protected static vibrationProfiles$: VibrationProfiles = {\n        default: [100],\n    }\n\n    public static get inst() {\n        if (!this.inst$) {\n            this.inst$ = new this()\n        }\n        return this.inst$\n    }\n\n    public static addVibrationProfile(name: string, profile: VibratePattern): void {\n        this.vibrationProfiles$[name] = profile\n    }\n\n    public static vibrate(profileName: string): void {\n        if (!this.isVibrateEnable()) return\n\n        let profile = this.vibrationProfiles$[profileName]\n        if (!profile) {\n            console.warn(`Vibration profile ${profileName} not found. Using default profile.`)\n            profile = this.vibrationProfiles$.default\n        }\n\n        const isSuccess = B.vibrate(profile)\n\n        if (!isSuccess) {\n            if ('performHapticFeedbackAsync' in GameSDK.extra) {\n                GameSDK.extra.performHapticFeedbackAsync()\n                return\n            }\n\n            console.warn('Vibrate failed')\n        }\n    }\n\n    public static isVibrateEnable(): boolean {\n        return !!player.getPlayerSetting('vibrate')\n    }\n}\n\nclass VibrateUtils extends VibrateUtilsCore {\n    // * Custom logic here\n}\n\nexport default VibrateUtils\n"]}