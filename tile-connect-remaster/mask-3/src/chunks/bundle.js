System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///TournamentUtils-e88d6822.js",["cc"],(function(e){var t,n,i,r,a,o,s,u,E,l,_,c,T,A,S,d,f,I,R,L,v;return{setters:[function(e){t=e.cclegacy,n=e.ccenum,i=e.SpriteFrame,r=e.AudioClip,a=e.JsonAsset,o=e.Prefab,s=e.Font,u=e.assetManager,E=e.tween,l=e.Animation,_=e.UITransform,c=e.view,T=e.screen,A=e.math,S=e.find,d=e.director,f=e.game,I=e.loadWasmModuleBullet,R=e.loadWasmModulePhysX,L=e.loadWasmModuleBox2D,v=e.loadWasmModuleSpine}],execute:function(){function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(t){return(y=e("l","function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}))(t)}function m(e,t,n,i,r,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(i,r)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){m(a,i,r,o,s,"next",e)}function s(e){m(a,i,r,o,s,"throw",e)}o(void 0)}))}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,J(i.key),i)}}function F(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function B(e,t,n){return(t=J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}function V(t){return(V=e("k",Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)}))(t)}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function U(t,n,i){return(U=C()?e("N",Reflect.construct.bind()):e("N",(function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&M(r,n.prototype),r}))).apply(null,arguments)}function b(t){var n="function"==typeof Map?new Map:void 0;return(b=e("m",(function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,i)}function i(){return U(e,arguments,V(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),M(i,e)})))(t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function w(e){var t=C();return function(){var n,i=V(e);if(t){var r=V(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return D(this,n)}}function W(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}function H(){return(H="undefined"!=typeof Reflect&&Reflect.get?e("j",Reflect.get.bind()):e("j",(function(e,t,n){var i=W(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}))).apply(this,arguments)}function k(e,t,n,i){return(k="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,i){var r,a=W(e,t);if(a){if((r=Object.getOwnPropertyDescriptor(a,t)).set)return r.set.call(i,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(i,t)){if(!r.writable)return!1;r.value=n,Object.defineProperty(i,t,r)}else B(i,t,n);return!0})(e,t,n,i)}function $(e,t){return Y(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],u=!0,E=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);u=!0);}catch(e){E=!0,r=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(E)throw r}}return s}}(e,t)||K(e,t)||q()}function x(e){return function(e){if(Array.isArray(e))return z(e)}(e)||j(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e){if(Array.isArray(e))return e}function j(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function K(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Z(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=K(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function J(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}e({F:function(e){return Y(e)||j(e)||K(e)||q()},N:U,_:F,a:g,b:G,c:w,d:function(e,t,n,i,r){var a={};Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0);a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0);void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null);return a},e:p,f:function(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})},g:P,h:h,i:Z,j:H,k:V,l:y,m:b,o:function(e,t,n,i,r){if(!k(e,t,n,i||e)&&r)throw new TypeError("failed to set property");return n},r:$,t:B,u:x});e("E",!1),e("a0",!0);t._RF.push({},"725f8u/lDtFbY1DMY0uJSL9","Locales",void 0);e("x",["en","ru"]);var Q=e("y",{en:"fonts/mikado-bold.ttf",ru:"fonts/nunito-black.ttf"});e("a1",{ru:"locales/ru"}),e("$",{en:"104px",ru:"96px"});t._RF.pop(),t._RF.push({},"a6e4bjV/RVH17qBEx1mZaFg","ResourcePaths",void 0);var X=Ludex.Utils.Object,ee=e("z",function(e){return e.BOMB_RESCUE_PREFAB="game-objects/bomb/BombRescue",e.BOMB_EXPLODE_PREFAB="game-objects/bomb/BombExplode",e.BOMB_DEFUSE_PREFAB="game-objects/bomb/DefuseExplode",e.CLEAR_EXPLOSION_PREFAB="game-objects/clear-explosion/ClearExplosionV2",e.TILE_BREAK_ANIM="animations/TileBreak",e.TILE_CLEAR_ANIM="animations/TileClear",e.TILE_SHAKE_ANIM="animations/TileShake",e.TILE_SKIN_FOLDER="tiles",e.TILE_SKIN_PREVIEW_FOLDER="tiles-preview",e.ITEM_POPUP_FOLDER="item-popup",e.SUMMER_BG="images/bg/summer",e.AUTUMN_BG="images/bg/autumn",e.WINTER_BG="images/bg/winter",e.FLOWER_FIELD_BG="images/bg/flower-field",e.TREE_PLANTING_FESTIVAL_BG="images/bg/tree-planting-festival",e.MUSIC_FESTIVAL_BG="images/bg/music-festival",e.HARVEST_FESTIVAL_BG="images/bg/harvest-festival",e.FOOD_FESTIVAL_BG="images/bg/food-festival",e.LIGHT_FESTIVAL_BG="images/bg/light-festival",e.PEACE_FESTIVAL_BG="images/bg/peace-festival",e.FLOWER_FESTIVAL_BG="images/bg/flower-festival",e.STREET_FESTIVAL_BG="images/bg/street-festival",e.COLOR_GARDEN_BG="images/bg/color-garden",e.COLOR_FESTIVAL_BG="images/bg/color-festival",e.NATURE_SUMMER_BG="images/bg/nature-summer",e.SNOW_MOUNTAIN_BG="images/bg/snow-mountain",e.ICE_FESTIVAL_BG="images/bg/ice-festival",e.NIGHT_FESTIVAL_BG="images/bg/night-festival",e.LOST_FESTIVAL_BG="images/bg/lost-festival",e.HALLOWEEN_BG="images/bg/halloween",e.CHRISTMAS_BG="images/bg/christmas",e.SPRING_FLOWER_FESTIVAL_BG="images/bg/spring-flower-festival",e.TET_HOLIDAY_BG="images/bg/tet-holiday",e.SEA_FESTIVAL_BG="images/bg/sea-festival",e.FIREWORK_FESTIVAL_BG="images/bg/firework-festival",e.SUMMER_BG_PREVIEW="images/preview/summer",e.AUTUMN_BG_PREVIEW="images/preview/autumn",e.WINTER_BG_PREVIEW="images/preview/winter",e.FLOWER_FIELD_BG_PREVIEW="images/preview/flower-field",e.TREE_PLANTING_FESTIVAL_BG_PREVIEW="images/preview/tree-planting-festival",e.MUSIC_FESTIVAL_BG_PREVIEW="images/preview/music-festival",e.HARVEST_FESTIVAL_BG_PREVIEW="images/preview/harvest-festival",e.FOOD_FESTIVAL_BG_PREVIEW="images/preview/food-festival",e.LIGHT_FESTIVAL_BG_PREVIEW="images/preview/light-festival",e.PEACE_FESTIVAL_BG_PREVIEW="images/preview/peace-festival",e.FLOWER_FESTIVAL_BG_PREVIEW="images/preview/flower-festival",e.STREET_FESTIVAL_BG_PREVIEW="images/preview/street-festival",e.COLOR_GARDEN_BG_PREVIEW="images/preview/color-garden",e.COLOR_FESTIVAL_BG_PREVIEW="images/preview/color-festival",e.NATURE_SUMMER_BG_PREVIEW="images/preview/nature-summer",e.SNOW_MOUNTAIN_BG_PREVIEW="images/preview/snow-mountain",e.ICE_FESTIVAL_BG_PREVIEW="images/preview/ice-festival",e.NIGHT_FESTIVAL_BG_PREVIEW="images/preview/night-festival",e.LOST_FESTIVAL_BG_PREVIEW="images/preview/lost-festival",e.HALLOWEEN_BG_PREVIEW="images/preview/halloween",e.CHRISTMAS_BG_PREVIEW="images/preview/christmas",e.SPRING_FLOWER_FESTIVAL_BG_PREVIEW="images/preview/spring-flower-festival",e.TET_HOLIDAY_BG_PREVIEW="images/preview/tet-holiday",e.SEA_FESTIVAL_BG_PREVIEW="images/preview/sea-festival",e.FIREWORK_FESTIVAL_BG_PREVIEW="images/preview/firework-festival",e.SUMMER_BG_TOURNAMENT="images/tournament/summer",e.AUTUMN_BG_TOURNAMENT="images/tournament/autumn",e.WINTER_BG_TOURNAMENT="images/tournament/winter",e.FLOWER_FIELD_BG_TOURNAMENT="images/tournament/flower-field",e.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT="images/tournament/tree-planting-festival",e.MUSIC_FESTIVAL_BG_TOURNAMENT="images/tournament/music-festival",e.HARVEST_FESTIVAL_BG_TOURNAMENT="images/tournament/harvest-festival",e.FOOD_FESTIVAL_BG_TOURNAMENT="images/tournament/food-festival",e.LIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/light-festival",e.PEACE_FESTIVAL_BG_TOURNAMENT="images/tournament/peace-festival",e.FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/flower-festival",e.STREET_FESTIVAL_BG_TOURNAMENT="images/tournament/street-festival",e.COLOR_GARDEN_BG_TOURNAMENT="images/tournament/color-garden",e.COLOR_FESTIVAL_BG_TOURNAMENT="images/tournament/color-festival",e.NATURE_SUMMER_BG_TOURNAMENT="images/tournament/nature-summer",e.SNOW_MOUNTAIN_BG_TOURNAMENT="images/tournament/snow-mountain",e.ICE_FESTIVAL_BG_TOURNAMENT="images/tournament/ice-festival",e.NIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/night-festival",e.LOST_FESTIVAL_BG_TOURNAMENT="images/tournament/lost-festival",e.HALLOWEEN_BG_TOURNAMENT="images/tournament/halloween",e.CHRISTMAS_BG_TOURNAMENT="images/tournament/christmas",e.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/spring-flower-festival",e.TET_HOLIDAY_BG_TOURNAMENT="images/tournament/tet-holiday",e.SEA_FESTIVAL_BG_TOURNAMENT="images/tournament/sea-festival",e.FIREWORK_FESTIVAL_BG_TOURNAMENT="images/tournament/firework-festival",e.SUMMER_BG_THUMBNAIL="images/thumbnail/summer",e.AUTUMN_BG_THUMBNAIL="images/thumbnail/autumn",e.WINTER_BG_THUMBNAIL="images/thumbnail/winter",e.FLOWER_FIELD_BG_THUMBNAIL="images/thumbnail/flower-field",e.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL="images/thumbnail/tree-planting-festival",e.MUSIC_FESTIVAL_BG_THUMBNAIL="images/thumbnail/music-festival",e.HARVEST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/harvest-festival",e.FOOD_FESTIVAL_BG_THUMBNAIL="images/thumbnail/food-festival",e.LIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/light-festival",e.PEACE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/peace-festival",e.FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/flower-festival",e.STREET_FESTIVAL_BG_THUMBNAIL="images/thumbnail/street-festival",e.COLOR_GARDEN_BG_THUMBNAIL="images/thumbnail/color-garden",e.COLOR_FESTIVAL_BG_THUMBNAIL="images/thumbnail/color-festival",e.NATURE_SUMMER_BG_THUMBNAIL="images/thumbnail/nature-summer",e.SNOW_MOUNTAIN_BG_THUMBNAIL="images/thumbnail/snow-mountain",e.ICE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/ice-festival",e.NIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/night-festival",e.LOST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/lost-festival",e.HALLOWEEN_BG_THUMBNAIL="images/thumbnail/halloween",e.CHRISTMAS_BG_THUMBNAIL="images/thumbnail/christmas",e.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/spring-flower-festival",e.TET_HOLIDAY_BG_THUMBNAIL="images/thumbnail/tet-holiday",e.SEA_FESTIVAL_BG_THUMBNAIL="images/thumbnail/sea-festival",e.FIREWORK_FESTIVAL_BG_THUMBNAIL="images/thumbnail/firework-festival",e.COLLECTIONS_PAGE="pages/CollectionsContent",e.LEADERBOARD_PAGE="pages/LeaderboardContent",e.TOURNAMENTS_PAGE="pages/TournamentsContent",e.PAGE_LEAVES_PREFAB="pages/Leaves",e.LEVEL_DATA_FOLDER="levels-json",e.SIDEBAR_BG="images/bg-sidebar",e.TOP_LEFT_LEAF="images/top-left-leaf",e.TOP_RIGHT_LEAF="images/top-right-leaf",e.BOTTOM_LEFT_LEAF="images/bottom-left-leaf",e.BOTTOM_RIGHT_LEAF="images/bottom-right-leaf",e.TORNADO_SPINE_PREFAB="game-objects/tornado/Tornado",e}(ee||{})),te=X.vals(ee),ne=e("v",te.reduce((function(e,t,n){return e[t]=n,e}),{}));n(ne);e("w",te);t._RF.pop(),t._RF.push({},"3f1dbbPrPVBy5lNYySV74Qq","ThemeKeys",void 0);var ie,re,ae,oe,se=e("P",{SUMMER:"summer",AUTUMN:"autumn",WINTER:"winter",SPRING_FESTIVAL:"spring-festival",TREE_PLANTING_FESTIVAL:"tree-planting-festival",BLUE_SEA_FESTIVAL:"blue-sea-festival",MUSIC_FESTIVAL:"music-festival",HARVEST_FESTIVAL:"harvest-festival",FOOD_FESTIVAL:"food-festival",SNOW_FESTIVAL:"snow-festival",LIGHT_FESTIVAL:"light-festival",PEACE_FESTIVAL:"peace-festival",FLOWER_FESTIVAL:"flower-festival",STREET_FESTIVAL:"street-festival",COLOR_GARDEN:"color-garden",COLOR_FESTIVAL:"color-festival",NATURE_SUMMER:"nature-summer",SNOW_MOUNTAIN:"snow-mountain",ICE_FESTIVAL:"ice-festival",GREEN_GRASS_FESTIVAL:"green-grass-festival",COMMUNITY_FESTIVAL:"community-festival",WATER_FESTIVAL:"water-festival",ANIMAL_FESTIVAL:"animal-festival",LOST_FESTIVAL:"lost-festival",HALLOWEEN_FESTIVAL:"halloween-festival",SNOW_MUSIC_FESTIVAL:"snow-music-festival",CHRISTMAS:"christmas",SPRING_FLOWER_FESTIVAL:"spring-flower-festival",TET_HOLIDAY:"tet-holiday",SEA_FESTIVAL:"sea-festival",FIREWORK_FESTIVAL:"firework-festival",HALLOWEEN_HORROR:"halloween-horror",MID_AUTUMN:"mid-autumn",CHRISTMAS_SWEET:"christmas-sweet",NEW_YEAR_COUNTDOWN:"new-year-countdown",HAPPY_NEW_YEAR:"happy-new-year"});n(se),t._RF.pop(),t._RF.push({},"2a657+TsltMe4rrDmyWGrLy","ThemeResourcesPath",void 0);var ue=(B(ie={},se.SUMMER,ee.SUMMER_BG),B(ie,se.AUTUMN,ee.AUTUMN_BG),B(ie,se.WINTER,ee.WINTER_BG),B(ie,se.SPRING_FESTIVAL,ee.FLOWER_FIELD_BG),B(ie,se.TREE_PLANTING_FESTIVAL,ee.TREE_PLANTING_FESTIVAL_BG),B(ie,se.BLUE_SEA_FESTIVAL,ee.SEA_FESTIVAL_BG),B(ie,se.MUSIC_FESTIVAL,ee.MUSIC_FESTIVAL_BG),B(ie,se.HARVEST_FESTIVAL,ee.HARVEST_FESTIVAL_BG),B(ie,se.FOOD_FESTIVAL,ee.FOOD_FESTIVAL_BG),B(ie,se.SNOW_FESTIVAL,ee.WINTER_BG),B(ie,se.LIGHT_FESTIVAL,ee.LIGHT_FESTIVAL_BG),B(ie,se.PEACE_FESTIVAL,ee.PEACE_FESTIVAL_BG),B(ie,se.FLOWER_FESTIVAL,ee.FLOWER_FESTIVAL_BG),B(ie,se.STREET_FESTIVAL,ee.STREET_FESTIVAL_BG),B(ie,se.COLOR_GARDEN,ee.COLOR_GARDEN_BG),B(ie,se.COLOR_FESTIVAL,ee.COLOR_FESTIVAL_BG),B(ie,se.NATURE_SUMMER,ee.NATURE_SUMMER_BG),B(ie,se.SNOW_MOUNTAIN,ee.SNOW_MOUNTAIN_BG),B(ie,se.ICE_FESTIVAL,ee.ICE_FESTIVAL_BG),B(ie,se.GREEN_GRASS_FESTIVAL,ee.FLOWER_FIELD_BG),B(ie,se.COMMUNITY_FESTIVAL,ee.NIGHT_FESTIVAL_BG),B(ie,se.WATER_FESTIVAL,ee.SEA_FESTIVAL_BG),B(ie,se.ANIMAL_FESTIVAL,ee.TREE_PLANTING_FESTIVAL_BG),B(ie,se.LOST_FESTIVAL,ee.LOST_FESTIVAL_BG),B(ie,se.HALLOWEEN_FESTIVAL,ee.HALLOWEEN_BG),B(ie,se.SNOW_MUSIC_FESTIVAL,ee.MUSIC_FESTIVAL_BG),B(ie,se.CHRISTMAS,ee.CHRISTMAS_BG),B(ie,se.SPRING_FLOWER_FESTIVAL,ee.SPRING_FLOWER_FESTIVAL_BG),B(ie,se.TET_HOLIDAY,ee.TET_HOLIDAY_BG),B(ie,se.SEA_FESTIVAL,ee.SEA_FESTIVAL_BG),B(ie,se.FIREWORK_FESTIVAL,ee.FIREWORK_FESTIVAL_BG),B(ie,se.HALLOWEEN_HORROR,ee.HALLOWEEN_BG),B(ie,se.MID_AUTUMN,ee.SPRING_FLOWER_FESTIVAL_BG),B(ie,se.CHRISTMAS_SWEET,ee.CHRISTMAS_BG),B(ie,se.NEW_YEAR_COUNTDOWN,ee.TET_HOLIDAY_BG),B(ie,se.HAPPY_NEW_YEAR,ee.TET_HOLIDAY_BG),ie),Ee=e("U",(B(re={},se.SUMMER,ee.SUMMER_BG_PREVIEW),B(re,se.AUTUMN,ee.AUTUMN_BG_PREVIEW),B(re,se.WINTER,ee.WINTER_BG_PREVIEW),B(re,se.SPRING_FESTIVAL,ee.FLOWER_FIELD_BG_PREVIEW),B(re,se.TREE_PLANTING_FESTIVAL,ee.TREE_PLANTING_FESTIVAL_BG_PREVIEW),B(re,se.BLUE_SEA_FESTIVAL,ee.SEA_FESTIVAL_BG_PREVIEW),B(re,se.MUSIC_FESTIVAL,ee.MUSIC_FESTIVAL_BG_PREVIEW),B(re,se.HARVEST_FESTIVAL,ee.HARVEST_FESTIVAL_BG_PREVIEW),B(re,se.FOOD_FESTIVAL,ee.FOOD_FESTIVAL_BG_PREVIEW),B(re,se.SNOW_FESTIVAL,ee.WINTER_BG_PREVIEW),B(re,se.LIGHT_FESTIVAL,ee.LIGHT_FESTIVAL_BG_PREVIEW),B(re,se.PEACE_FESTIVAL,ee.PEACE_FESTIVAL_BG_PREVIEW),B(re,se.FLOWER_FESTIVAL,ee.FLOWER_FESTIVAL_BG_PREVIEW),B(re,se.STREET_FESTIVAL,ee.STREET_FESTIVAL_BG_PREVIEW),B(re,se.COLOR_GARDEN,ee.COLOR_GARDEN_BG_PREVIEW),B(re,se.COLOR_FESTIVAL,ee.COLOR_FESTIVAL_BG_PREVIEW),B(re,se.NATURE_SUMMER,ee.NATURE_SUMMER_BG_PREVIEW),B(re,se.SNOW_MOUNTAIN,ee.SNOW_MOUNTAIN_BG_PREVIEW),B(re,se.ICE_FESTIVAL,ee.ICE_FESTIVAL_BG_PREVIEW),B(re,se.GREEN_GRASS_FESTIVAL,ee.FLOWER_FIELD_BG_PREVIEW),B(re,se.COMMUNITY_FESTIVAL,ee.NIGHT_FESTIVAL_BG_PREVIEW),B(re,se.WATER_FESTIVAL,ee.SEA_FESTIVAL_BG_PREVIEW),B(re,se.ANIMAL_FESTIVAL,ee.TREE_PLANTING_FESTIVAL_BG_PREVIEW),B(re,se.LOST_FESTIVAL,ee.LOST_FESTIVAL_BG_PREVIEW),B(re,se.HALLOWEEN_FESTIVAL,ee.HALLOWEEN_BG_PREVIEW),B(re,se.SNOW_MUSIC_FESTIVAL,ee.MUSIC_FESTIVAL_BG_PREVIEW),B(re,se.CHRISTMAS,ee.CHRISTMAS_BG_PREVIEW),B(re,se.SPRING_FLOWER_FESTIVAL,ee.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),B(re,se.TET_HOLIDAY,ee.TET_HOLIDAY_BG_PREVIEW),B(re,se.SEA_FESTIVAL,ee.SEA_FESTIVAL_BG_PREVIEW),B(re,se.FIREWORK_FESTIVAL,ee.FIREWORK_FESTIVAL_BG_PREVIEW),B(re,se.HALLOWEEN_HORROR,ee.HALLOWEEN_BG_PREVIEW),B(re,se.MID_AUTUMN,ee.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),B(re,se.CHRISTMAS_SWEET,ee.CHRISTMAS_BG_PREVIEW),B(re,se.NEW_YEAR_COUNTDOWN,ee.TET_HOLIDAY_BG_PREVIEW),B(re,se.HAPPY_NEW_YEAR,ee.TET_HOLIDAY_BG_PREVIEW),re)),le=e("V",(B(ae={},se.SUMMER,ee.SUMMER_BG_TOURNAMENT),B(ae,se.AUTUMN,ee.AUTUMN_BG_TOURNAMENT),B(ae,se.WINTER,ee.WINTER_BG_TOURNAMENT),B(ae,se.SPRING_FESTIVAL,ee.FLOWER_FIELD_BG_TOURNAMENT),B(ae,se.TREE_PLANTING_FESTIVAL,ee.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),B(ae,se.BLUE_SEA_FESTIVAL,ee.SEA_FESTIVAL_BG_TOURNAMENT),B(ae,se.MUSIC_FESTIVAL,ee.MUSIC_FESTIVAL_BG_TOURNAMENT),B(ae,se.HARVEST_FESTIVAL,ee.HARVEST_FESTIVAL_BG_TOURNAMENT),B(ae,se.FOOD_FESTIVAL,ee.FOOD_FESTIVAL_BG_TOURNAMENT),B(ae,se.SNOW_FESTIVAL,ee.WINTER_BG_TOURNAMENT),B(ae,se.LIGHT_FESTIVAL,ee.LIGHT_FESTIVAL_BG_TOURNAMENT),B(ae,se.PEACE_FESTIVAL,ee.PEACE_FESTIVAL_BG_TOURNAMENT),B(ae,se.FLOWER_FESTIVAL,ee.FLOWER_FESTIVAL_BG_TOURNAMENT),B(ae,se.STREET_FESTIVAL,ee.STREET_FESTIVAL_BG_TOURNAMENT),B(ae,se.COLOR_GARDEN,ee.COLOR_GARDEN_BG_TOURNAMENT),B(ae,se.COLOR_FESTIVAL,ee.COLOR_FESTIVAL_BG_TOURNAMENT),B(ae,se.NATURE_SUMMER,ee.NATURE_SUMMER_BG_TOURNAMENT),B(ae,se.SNOW_MOUNTAIN,ee.SNOW_MOUNTAIN_BG_TOURNAMENT),B(ae,se.ICE_FESTIVAL,ee.ICE_FESTIVAL_BG_TOURNAMENT),B(ae,se.GREEN_GRASS_FESTIVAL,ee.FLOWER_FIELD_BG_TOURNAMENT),B(ae,se.COMMUNITY_FESTIVAL,ee.NIGHT_FESTIVAL_BG_TOURNAMENT),B(ae,se.WATER_FESTIVAL,ee.SEA_FESTIVAL_BG_TOURNAMENT),B(ae,se.ANIMAL_FESTIVAL,ee.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),B(ae,se.LOST_FESTIVAL,ee.LOST_FESTIVAL_BG_TOURNAMENT),B(ae,se.HALLOWEEN_FESTIVAL,ee.HALLOWEEN_BG_TOURNAMENT),B(ae,se.SNOW_MUSIC_FESTIVAL,ee.MUSIC_FESTIVAL_BG_TOURNAMENT),B(ae,se.CHRISTMAS,ee.CHRISTMAS_BG_TOURNAMENT),B(ae,se.SPRING_FLOWER_FESTIVAL,ee.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),B(ae,se.TET_HOLIDAY,ee.TET_HOLIDAY_BG_TOURNAMENT),B(ae,se.SEA_FESTIVAL,ee.SEA_FESTIVAL_BG_TOURNAMENT),B(ae,se.FIREWORK_FESTIVAL,ee.FIREWORK_FESTIVAL_BG_TOURNAMENT),B(ae,se.HALLOWEEN_HORROR,ee.HALLOWEEN_BG_TOURNAMENT),B(ae,se.MID_AUTUMN,ee.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),B(ae,se.CHRISTMAS_SWEET,ee.CHRISTMAS_BG_TOURNAMENT),B(ae,se.NEW_YEAR_COUNTDOWN,ee.TET_HOLIDAY_BG_TOURNAMENT),B(ae,se.HAPPY_NEW_YEAR,ee.TET_HOLIDAY_BG_TOURNAMENT),ae)),_e=(B(oe={},se.SUMMER,ee.SUMMER_BG_THUMBNAIL),B(oe,se.AUTUMN,ee.AUTUMN_BG_THUMBNAIL),B(oe,se.WINTER,ee.WINTER_BG_THUMBNAIL),B(oe,se.SPRING_FESTIVAL,ee.FLOWER_FIELD_BG_THUMBNAIL),B(oe,se.TREE_PLANTING_FESTIVAL,ee.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),B(oe,se.BLUE_SEA_FESTIVAL,ee.SEA_FESTIVAL_BG_THUMBNAIL),B(oe,se.MUSIC_FESTIVAL,ee.MUSIC_FESTIVAL_BG_THUMBNAIL),B(oe,se.HARVEST_FESTIVAL,ee.HARVEST_FESTIVAL_BG_THUMBNAIL),B(oe,se.FOOD_FESTIVAL,ee.FOOD_FESTIVAL_BG_THUMBNAIL),B(oe,se.SNOW_FESTIVAL,ee.WINTER_BG_THUMBNAIL),B(oe,se.LIGHT_FESTIVAL,ee.LIGHT_FESTIVAL_BG_THUMBNAIL),B(oe,se.PEACE_FESTIVAL,ee.PEACE_FESTIVAL_BG_THUMBNAIL),B(oe,se.FLOWER_FESTIVAL,ee.FLOWER_FESTIVAL_BG_THUMBNAIL),B(oe,se.STREET_FESTIVAL,ee.STREET_FESTIVAL_BG_THUMBNAIL),B(oe,se.COLOR_GARDEN,ee.COLOR_GARDEN_BG_THUMBNAIL),B(oe,se.COLOR_FESTIVAL,ee.COLOR_FESTIVAL_BG_THUMBNAIL),B(oe,se.NATURE_SUMMER,ee.NATURE_SUMMER_BG_THUMBNAIL),B(oe,se.SNOW_MOUNTAIN,ee.SNOW_MOUNTAIN_BG_THUMBNAIL),B(oe,se.ICE_FESTIVAL,ee.ICE_FESTIVAL_BG_THUMBNAIL),B(oe,se.GREEN_GRASS_FESTIVAL,ee.FLOWER_FIELD_BG_THUMBNAIL),B(oe,se.COMMUNITY_FESTIVAL,ee.NIGHT_FESTIVAL_BG_THUMBNAIL),B(oe,se.WATER_FESTIVAL,ee.SEA_FESTIVAL_BG_THUMBNAIL),B(oe,se.ANIMAL_FESTIVAL,ee.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),B(oe,se.LOST_FESTIVAL,ee.LOST_FESTIVAL_BG_THUMBNAIL),B(oe,se.HALLOWEEN_FESTIVAL,ee.HALLOWEEN_BG_THUMBNAIL),B(oe,se.SNOW_MUSIC_FESTIVAL,ee.MUSIC_FESTIVAL_BG_THUMBNAIL),B(oe,se.CHRISTMAS,ee.CHRISTMAS_BG_THUMBNAIL),B(oe,se.SPRING_FLOWER_FESTIVAL,ee.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),B(oe,se.TET_HOLIDAY,ee.TET_HOLIDAY_BG_THUMBNAIL),B(oe,se.SEA_FESTIVAL,ee.SEA_FESTIVAL_BG_THUMBNAIL),B(oe,se.FIREWORK_FESTIVAL,ee.FIREWORK_FESTIVAL_BG_THUMBNAIL),B(oe,se.HALLOWEEN_HORROR,ee.HALLOWEEN_BG_THUMBNAIL),B(oe,se.MID_AUTUMN,ee.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),B(oe,se.CHRISTMAS_SWEET,ee.CHRISTMAS_BG_THUMBNAIL),B(oe,se.NEW_YEAR_COUNTDOWN,ee.TET_HOLIDAY_BG_THUMBNAIL),B(oe,se.HAPPY_NEW_YEAR,ee.TET_HOLIDAY_BG_THUMBNAIL),oe);t._RF.pop(),t._RF.push({},"e47d3MKeBlKI5LBqF9tQ23T","ResourceUtils",void 0);var ce=Ludex.Utils.Function;e("R",function(e){G(s,e);var t,n,i,r,a,o=w(s);function s(){return g(this,s),o.apply(this,arguments)}return F(s,null,[{key:"loadThemeAsync",value:(a=p((function*(e){return this.loadSpriteFrameAsync("".concat(ue[e],"/spriteFrame"),!1)})),function(e){return a.apply(this,arguments)})},{key:"loadThemePreviewAsync",value:(r=p((function*(e){return this.loadSpriteFrameAsync("".concat(Ee[e],"/spriteFrame"))})),function(e){return r.apply(this,arguments)})},{key:"loadThemeTournamentAsync",value:(i=p((function*(e){return this.loadSpriteFrameAsync("".concat(le[e],"/spriteFrame"))})),function(e){return i.apply(this,arguments)})},{key:"loadThemeThumbnailAsync",value:(n=p((function*(e){return this.loadSpriteFrameAsync("".concat(_e[e],"/spriteFrame"))})),function(e){return n.apply(this,arguments)})},{key:"loadSkinPreviewAsync",value:(t=p((function*(e){for(var t=[],n=1;n<=4;n++){var i="".concat(ee.TILE_SKIN_PREVIEW_FOLDER,"/").concat(e.replace(/-/g,"_"),"_").concat(n,"/spriteFrame");t.push(this.loadSpriteFrameAsync(i))}return Promise.all(t)})),function(e){return t.apply(this,arguments)})}]),s}(function(){function e(){g(this,e),this.mutex$=ce.mutex(),this.bundles$={loadable:null}}var t,n,E,l,_,c,T,A,S;return F(e,[{key:"getBundleNameByType",value:function(e){return"loadable"}},{key:"loadBundleByType",value:(S=p((function*(t){var n=this.getBundleNameByType(t);return e.loadBundle(n)})),function(e){return S.apply(this,arguments)})},{key:"getBundleByType",value:function(e){var t,n=this.getBundleNameByType(e);return null!==(t=this.bundles$[n])&&void 0!==t?t:null}},{key:"preloadAsset",value:(A=p((function*(e,t,n){var i=this;yield this.loadBundleByType(t);var r=this.getBundleByType(t);if(r)return new Promise((function(a,o){r.preload(e,t,(function(r){if(r)return console.warn("Failed to preload asset at path: ".concat(e),r),void o(r);n?i.loadAssetAsync(e,t).finally(a):a()}))}))})),function(e,t,n){return A.apply(this,arguments)})},{key:"loadAssetAsync",value:(T=p((function*(t,n){yield this.loadBundleByType(n);var i=this.getBundleByType(n);if(!i)return null;var r=e.getAsset(t,n);return r||new Promise((function(e,r){var a=function(n,i){i?e(i):(console.warn("[ResourceUtils] Failed to load asset at path: ".concat(t),n),r(null))};n?i.load(t,n,a):i.load(t,a)}))})),function(e,t){return T.apply(this,arguments)})},{key:"loadAssetsAsync",value:(c=p((function*(t,n){yield this.loadBundleByType(n);var i=this.getBundleByType(n);if(!i)return null;for(var r=[],a=[],o=0,s=t.length;o<s;o++){var u=t[o];if(u){var E=e.getAsset(u,n);E?r.push({index:o,asset:E}):a.push({index:o,path:u})}else a.push({index:o,path:""})}return 0===a.length?Promise.resolve(r.map((function(e){return e.asset}))):new Promise((function(e){i.load(a.map((function(e){return e.path})),n,(function(t,n){if(t||n.length!==a.length)e(null);else{for(var i=0,o=n.length;i<o;i++){var s,u=n[i];if(u){var E=null===(s=a[i])||void 0===s?void 0:s.index;if(!E)return;r.splice(E,0,{index:E,asset:u})}}e(r.map((function(e){return e.asset})))}}))}))})),function(e,t){return c.apply(this,arguments)})},{key:"loadDirAsync",value:(_=p((function*(e,t){yield this.loadBundleByType(t);var n=this.getBundleByType(t);return n?new Promise((function(i){n.loadDir(e,t,(function(t,n){n?i(n):(console.warn("Failed to load assets at path: ".concat(e),t),i([]))}))})):Promise.resolve([])})),function(e,t){return _.apply(this,arguments)})},{key:"preloadDirAsync",value:(l=p((function*(e,t,n){var i=this;yield this.loadBundleByType(t);var r=this.getBundleByType(t);if(r)return new Promise((function(a,o){r.preloadDir(e,t,(function(r){if(r)return console.warn("Failed to preload assets at path: ".concat(e),r),void o(r);n?i.loadDirAsync(e,t).finally(a):a()}))}))})),function(e,t,n){return l.apply(this,arguments)})}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"loadBundle",value:(E=p((function*(e){var t=this;if(this.inst.bundles$[e])return!0;if(u.bundles.get(e))return!0;var n=yield this.inst.mutex$.use("bundle-".concat(e));if(this.inst.bundles$[e])return n.release(),!0;var i=new Promise((function(n,i){var r=setTimeout((function(){return i("load bundle timeout (".concat(8e3,"ms): ").concat(e))}),8e3);u.loadBundle(e,(function(a,o){clearTimeout(r);var s=t.inst.bundles$[e];s||!a&&o?(t.inst.bundles$[e]=null!=s?s:o,n(!0)):i(a)}))})),r=$(yield ce.handleAsync(i),2),a=(r[0],r[1]);return n.release(),!a})),function(e){return E.apply(this,arguments)})},{key:"preloadSpriteFramesDir",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadDirAsync(e,i,t)}},{key:"getAssetInfo",value:function(e,t){var n=this.inst.getBundleByType(t);return n?n.getInfoWithPath(e,t):null}},{key:"getAsset",value:function(e,t){var n=this.inst.getBundleByType(t);if(!n)return null;var i=this.getAssetInfo(e,t);return i?n.get(i.path,t):null}},{key:"loadAudioAsync",value:function(e){return this.inst.loadAssetAsync(e,r)}},{key:"loadJsonAsync",value:function(e){return this.inst.loadAssetAsync(e,a)}},{key:"loadPrefabAsync",value:function(e){return this.inst.loadAssetAsync(e,o)}},{key:"loadFontAsync",value:function(e){var t=Q[e].replace(/\.[^.]+$/,"");return this.inst.loadAssetAsync(t,s)}},{key:"loadSpriteFrameAsync",value:(n=p((function*(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=yield this.inst.loadAssetAsync(e,i);return n&&(n.packable=t),n})),function(e){return n.apply(this,arguments)})},{key:"loadSpriteFramesAsync",value:(t=p((function*(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=yield this.inst.loadAssetsAsync(e,i);if(n){var r,a=Z(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.packable=t}}catch(e){a.e(e)}finally{a.f()}}return n})),function(e){return t.apply(this,arguments)})},{key:"loadSpriteFramesDirAsync",value:function(e){return this.inst.loadDirAsync(e,i)}}]),e}()));t._RF.pop(),t._RF.push({},"a0999j91ytLSYSzNSPnMz3i","AnimAbortSignalAdapter",void 0);var Te=Ludex.Utils.Signal,Ae=function(){function e(t){g(this,e),this.oldCallbacks=[],this.newCallbacks=[],this.signal=t}return F(e,[{key:"once",value:function(e){var t=this,n=function(){return e(new Error(t.signal.reason))};this.oldCallbacks.push(n),this.newCallbacks.push(e),this.signal.addAbortListener(n)}},{key:"off",value:function(e){var t=this.newCallbacks.indexOf(e);if(-1!==t){var n=this.oldCallbacks[t];this.signal.removeAbortListener(n),this.oldCallbacks.splice(t,1),this.newCallbacks.splice(t,1)}}},{key:"abort",value:function(e){var t=e instanceof Error?e.message:e;this.signal.abort(t)}},{key:"aborted",get:function(){return this.signal.aborted}},{key:"reason",get:function(){return"string"==typeof this.signal.reason?new Error(this.signal.reason):void 0}},{key:"wrap",value:function(e){if(!this.aborted)return e}},{key:"chain",value:function(e){var t=this;e instanceof Te.Signal?e.once((function(){return t.abort()})):e.addEventListener("abort",(function(){return t.abort()}))}},{key:"promise",value:function(){var e=this;return this.aborted?Promise.resolve(this.reason):new Promise((function(t){e.once((function(e){return t(e)}))}))}}]),e}();t._RF.pop(),t._RF.push({},"99b8eEF6WlE8pzPfD+whiJu","AnimUtils",void 0);var Se=Ludex.Utils.Signal;function de(e){return e instanceof Se.Signal?e:new Ae(e)}var fe=e("A",function(e){G(n,e);var t=w(n);function n(){return g(this,n),t.apply(this,arguments)}return F(n)}(function(){function e(){g(this,e)}return F(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"elasticOut",value:function(e,t,n){var i=t||.1,r=n||.1;if(0===e)return 0;if(1===e)return 1;var a=r/4;return i<1?i=1:a=r*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin((e-a)*(2*Math.PI)/r)+1}},{key:"easeOutExpo",value:function(e){return 1===e?1:1-Math.pow(2,-10*e)}},{key:"easeInExpo",value:function(e){return 0===e?0:Math.pow(2,10*e-10)}},{key:"runTweenAsync",value:function(e,t){if(void 0===t)return new Promise((function(t){e.call((function(){return t({tween:e})})).start()}));var n=de(t);return n.aborted?Promise.resolve({tween:e}):new Promise((function(t){var i=function(){e.stop(),t({tween:e})};n.once(i),e.call((function(){n.off(i),t({tween:e})})).start()}))}},{key:"runOnUpdateAsync",value:function(e,t,n,i){return new Promise((function(r,a){var o=E(e).to(t,{},{onUpdate:function(e,t){if(void 0!==t)try{n(t)}catch(e){a(e instanceof Error?e:new Error(String(e)))}}});if(void 0!==i){var s=de(i);if(s.aborted)r({tween:o});else{var u=function(){o.stop(),r({tween:o})};s.once(u),o.call((function(){s.off(u),r({tween:o})})).start()}}else o.call((function(){return r({tween:o})})).start()}))}},{key:"waitTweenAsync",value:function(e,t){return new Promise((function(n){var i=E({}).delay(e);if(void 0!==t){var r=de(t);if(r.aborted)n();else{var a=function(){i.stop(),n()};r.once(a),i.call((function(){r.off(a),n()})).start()}}else i.call((function(){return n()})).start()}))}},{key:"runAnimationAsync",value:function(e,t,n){if(void 0===n)return new Promise((function(n){e.once(l.EventType.FINISHED,n),e.play(t)}));var i=de(n);return i.aborted?Promise.resolve():new Promise((function(n){var r=function(){e.stop(),n()};i.once(r),e.once(l.EventType.FINISHED,(function(){i.off(r),n()})),e.play(t)}))}}]),e}()));t._RF.pop(),t._RF.push({},"244e9OHsmpDnpHQKeLzgiiX","GameEvents",void 0);var Ie=e("G",{VIEW_RESIZED:"view-resized",LAYOUT_CHANGED:"layout-changed",ORIENTATION_CHANGED:"orientation-changed",WIDGET_RESIZED:"widget-resized",GAMEPLAY_UPDATE_CONFIG:"gameplay-update-config",OPENED_SKIP_OVERLAY:"opened-skip-overlay",CLOSED_SKIP_OVERLAY:"closed-skip-overlay",RESULT_SCENE_REPLAY:"result-scene-replay",RESULT_SCENE_HOME:"result-scene-home",REQUEST_DYNAMIC_ATLAS:"request-dynamic-atlas",FINISHED_DYNAMIC_ATLAS:"finished-dynamic-atlas",ASSET_QUALITY_CHANGE:"asset-quality-change",REQUEST_UPGRADE_ASSET:"request-upgrade-asset",CLEAR_HYBRID_FILE_CACHE:"clear-hybrid-file-cache",PRELOAD_LANGUAGE:"preload-language",CHOOSE_LANGUAGE:"choose-language",LOCALIZE_APPLIED:"localize-applied"});t._RF.pop(),t._RF.push({},"05faedSJ2NHFqLe9b3g4RIl","CocosUtils",void 0);var Re=Ludex.Utils.Device,Le=e("C",function(e){G(n,e);var t=w(n);function n(){return g(this,n),t.apply(this,arguments)}return F(n)}(function(){function e(){var t=this;g(this,e),this.getWindowSizeVsWorldGameRatio$=function(){var t=c.getVisibleSize();return T.windowSize.width/e.getMaxPixelRatio()/t.width},this.getBoundingBoxTo$=function(e,n){var i=A.mat4();A.Mat4.fromSRT(i,n.getRotation(),n.getPosition(),n.getScale());var r=n.getComponent(_);if(!r)throw new Error("Node must have UITransform component");var a=r.anchorPoint,o=r.contentSize,s=o.width,u=o.height,E=new A.Rect(-a.x*s,-a.y*u,s,u),l=A.mat4();if(A.Mat4.multiply(l,e,i),E.transformMat4(l),!n.children||0===n.children.length)return E;var c,T=n.children,S=n.getWorldMatrix(),d=Z(T);try{for(d.s();!(c=d.n()).done;){var f=c.value;if(null!=f&&f.active)if(f.getComponent(_)){var I=t.getBoundingBoxTo$(S,f);I&&A.Rect.union(E,E,I)}}}catch(e){d.e(e)}finally{d.f()}return E}}return F(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"getBoundingBoxToWorld",value:function(e){if(e.parent){var t=e.parent.getWorldMatrix();return this.inst.getBoundingBoxTo$(t,e)}var n=e.getComponent(_);if(!n)throw new Error("Node must have UITransform component");return n.getBoundingBox()}},{key:"getMaxPixelRatio",value:function(){return Math.min(Re.pixelRatio(),3)}},{key:"worldSizeToCssSize",value:function(e){var t=this.getMaxPixelRatio();return Math.round(e*t)}},{key:"cssSizeToWorldSize",value:function(e){return e/this.inst.getWindowSizeVsWorldGameRatio$()}},{key:"getScreenWidthCss",value:function(){var e=document,t=e.body,n=e.documentElement,i=t.clientWidth,r=n.clientWidth;return Math.max(r,i)||0}},{key:"getScreenHeightCss",value:function(){var e=document,t=e.body,n=e.documentElement,i=t.clientHeight,r=n.clientHeight;return Math.max(r,i)||0}}]),e}()));t._RF.pop(),t._RF.push({},"5c76fxO2ppOqYp4WNO+Kavm","GameWorld",void 0);var ve=e("n",{Layout:{Portrait:"portrait",Landscape:"landscape"},DesignSize:{Portrait:{WIDTH:750,HEIGHT:1583},Landscape:{WIDTH:2732,HEIGHT:1536},Resolution:2},AcceptPortraitRatio:690/829,PRIMARY_LAYOUT:"auto",FULL_CANVAS_TO_SCREEN:!0,FULL_PORTRAIT_SIZE:!0,FULL_LANDSCAPE_SIZE:!0});t._RF.pop(),t._RF.push({},"31871PLRYRJu7yCCX5F6lWK","AudioUtils",void 0);var Ne,he,ye=Ludex.Utils.Signal,me=e("p",function(e){G(n,e);var t=w(n);function n(){return g(this,n),t.apply(this,arguments)}return F(n)}(function(){function e(){g(this,e),this.signalController$=new ye.SignalController}var t,n,i,r,a;return F(e,[{key:"sound",get:function(){var e;return null===(e=S("Sound"))||void 0===e?void 0:e.getComponent("Sound")}},{key:"music",get:function(){var e;return null===(e=S("Music"))||void 0===e?void 0:e.getComponent("Music")}}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"muteAudio",value:function(e){this.muteMusic(e),this.muteSound(e)}},{key:"muteSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.mute(e)}},{key:"muteMusic",value:function(e){var t;null===(t=this.inst.music)||void 0===t||t.mute(e)}},{key:"getCurrentMusic",value:function(){return this.inst.currentMusic$}},{key:"turnUpMusic",value:(a=p((function*(){var e,t;(null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0)>.6||(yield this.setVolumeMusic(.6,!0))})),function(){return a.apply(this,arguments)})},{key:"turnDownMusic",value:(r=p((function*(){var e,t;(null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0)<.2||(yield this.setVolumeMusic(.2,!0))})),function(){return r.apply(this,arguments)})},{key:"turnOffMusic",value:(i=p((function*(){yield this.setVolumeMusic(0)})),function(){return i.apply(this,arguments)})},{key:"getVolumeMusic",value:function(){var e,t;return null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0}},{key:"setVolumeMusic",value:(n=p((function*(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.inst.music){var i=this.inst.signalController$.renew();if(n){var r=this.inst.music.getVolume(),a=r;yield fe.runOnUpdateAsync(this.inst.music.node,1,(function(n){t.inst.music&&(a=r+(e-r)*n,t.inst.music.setVolume(a))}),i)}else{var o;null===(o=this.inst.music)||void 0===o||o.setVolume(e)}}})),function(e){return n.apply(this,arguments)})},{key:"playSound",value:(t=p((function*(e,t){var n;return null===(n=this.inst.sound)||void 0===n?void 0:n.play(e,t)})),function(e,n){return t.apply(this,arguments)})},{key:"pauseSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.pause(e)}},{key:"resumeSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.resume(e)}},{key:"stopSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.stop(e)}},{key:"stopAllSounds",value:function(){var e;null===(e=this.inst.sound)||void 0===e||e.stopAll()}},{key:"playMusic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.inst.music&&(this.inst.currentMusic$!==e&&this.pauseMusic(),this.inst.currentMusic$=e,!t&&this.inst.music.playing(e)||(t&&this.inst.music.stop(e),this.inst.music.play(e)))}},{key:"pauseMusic",value:function(){var e;null===(e=this.inst.music)||void 0===e||e.pause(this.inst.currentMusic$)}}]),e}()));t._RF.pop(),t._RF.push({},"0eeb868JeVE67iFwhbkRCmE","ScreenKeys",void 0);var pe=e("H",function(e){return e[e.RESCUES_SCREEN=0]="RESCUES_SCREEN",e[e.LOADING_SCREEN=1]="LOADING_SCREEN",e[e.GET_ITEM_SCREEN=2]="GET_ITEM_SCREEN",e[e.GET_COIN_SCREEN=3]="GET_COIN_SCREEN",e[e.SETTINGS_SCREEN=4]="SETTINGS_SCREEN",e[e.START_LEVEL_SCREEN=5]="START_LEVEL_SCREEN",e[e.NOTIFICATION_SCREEN=6]="NOTIFICATION_SCREEN",e[e.LEVEL_COMPLETE_SCREEN=7]="LEVEL_COMPLETE_SCREEN",e[e.CONGRATULATION_SCREEN=8]="CONGRATULATION_SCREEN",e[e.QUIT_LEVEL_SCREEN=9]="QUIT_LEVEL_SCREEN",e[e.TOURNAMENT_DETAIL_SCREEN=10]="TOURNAMENT_DETAIL_SCREEN",e[e.DAILY_REWARDS_SCREEN=11]="DAILY_REWARDS_SCREEN",e[e.STAR_CHEST_SCREEN=12]="STAR_CHEST_SCREEN",e[e.START_OVER_SCREEN=13]="START_OVER_SCREEN",e[e.PAUSE_SCREEN=14]="PAUSE_SCREEN",e[e.HARD_LEVEL_SCREEN=15]="HARD_LEVEL_SCREEN",e[e.GET_REWARDS_SCREEN=16]="GET_REWARDS_SCREEN",e[e.CUSTOM_GAME_SCREEN=17]="CUSTOM_GAME_SCREEN",e}(pe||{})),ge=e("O",(B(Ne={},pe.RESCUES_SCREEN,"RescuesScreen"),B(Ne,pe.LOADING_SCREEN,"LoadingScreen"),B(Ne,pe.GET_ITEM_SCREEN,"GetItemScreen"),B(Ne,pe.GET_COIN_SCREEN,"GetCoinScreen"),B(Ne,pe.SETTINGS_SCREEN,"SettingsScreen"),B(Ne,pe.START_LEVEL_SCREEN,"StartLevelScreen"),B(Ne,pe.NOTIFICATION_SCREEN,"NotificationScreen"),B(Ne,pe.LEVEL_COMPLETE_SCREEN,"LevelCompleteScreen"),B(Ne,pe.CONGRATULATION_SCREEN,"CongratulationScreen"),B(Ne,pe.QUIT_LEVEL_SCREEN,"QuitLevelScreen"),B(Ne,pe.TOURNAMENT_DETAIL_SCREEN,"TournamentDetailScreen"),B(Ne,pe.DAILY_REWARDS_SCREEN,"DailyRewardsScreen"),B(Ne,pe.STAR_CHEST_SCREEN,"StarChestScreen"),B(Ne,pe.START_OVER_SCREEN,"StartOverScreen"),B(Ne,pe.PAUSE_SCREEN,"PauseScreen"),B(Ne,pe.HARD_LEVEL_SCREEN,"HardLevelScreen"),B(Ne,pe.GET_REWARDS_SCREEN,"GetRewardsScreen"),B(Ne,pe.CUSTOM_GAME_SCREEN,"CustomGameScreen"),Ne)),Oe=(B(he={},ge[pe.RESCUES_SCREEN],pe.RESCUES_SCREEN),B(he,ge[pe.LOADING_SCREEN],pe.LOADING_SCREEN),B(he,ge[pe.GET_ITEM_SCREEN],pe.GET_ITEM_SCREEN),B(he,ge[pe.GET_COIN_SCREEN],pe.GET_COIN_SCREEN),B(he,ge[pe.SETTINGS_SCREEN],pe.SETTINGS_SCREEN),B(he,ge[pe.START_LEVEL_SCREEN],pe.START_LEVEL_SCREEN),B(he,ge[pe.NOTIFICATION_SCREEN],pe.NOTIFICATION_SCREEN),B(he,ge[pe.LEVEL_COMPLETE_SCREEN],pe.LEVEL_COMPLETE_SCREEN),B(he,ge[pe.CONGRATULATION_SCREEN],pe.CONGRATULATION_SCREEN),B(he,ge[pe.QUIT_LEVEL_SCREEN],pe.QUIT_LEVEL_SCREEN),B(he,ge[pe.TOURNAMENT_DETAIL_SCREEN],pe.TOURNAMENT_DETAIL_SCREEN),B(he,ge[pe.DAILY_REWARDS_SCREEN],pe.DAILY_REWARDS_SCREEN),B(he,ge[pe.STAR_CHEST_SCREEN],pe.STAR_CHEST_SCREEN),B(he,ge[pe.START_OVER_SCREEN],pe.START_OVER_SCREEN),B(he,ge[pe.PAUSE_SCREEN],pe.PAUSE_SCREEN),B(he,ge[pe.HARD_LEVEL_SCREEN],pe.HARD_LEVEL_SCREEN),B(he,ge[pe.GET_REWARDS_SCREEN],pe.GET_REWARDS_SCREEN),B(he,ge[pe.CUSTOM_GAME_SCREEN],pe.CUSTOM_GAME_SCREEN),[ge[pe.NOTIFICATION_SCREEN],ge[pe.LOADING_SCREEN]]);t._RF.pop(),t._RF.push({},"09bc071ZcpI978b1NdKUaqD","AnalyticsUtils",void 0);var Fe=Ludex,Be=Fe.Utils.Array,Ge=Fe.Configs.Analytics,Ve=codex.analytics,Me=function(){function e(){g(this,e)}return F(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"trackCurrentPage",value:function(e,t){if(Ge.Enabled&&!Be.has(Oe,e)&&(t||Be.has(this.trackingPages$,e))){this.trackingPages$=this.trackingPages$.filter((function(t){return t!==e})),t&&this.trackingPages$.push(e);var n=this.getCurrentPage();Ve.pageview(n)}}},{key:"switchSceneTracking",value:function(){if(Ge.Enabled){this.trackingPages$=[];var e=this.getCurrentPage();Ve.pageview(e)}}},{key:"getCurrentPage",value:function(){var e,t;return this.trackingPages$.length>0?this.trackingPages$[this.trackingPages$.length-1]||"Unknown Page":null!==(e=null===(t=d.getScene())||void 0===t?void 0:t.name)&&void 0!==e?e:"Unknown Scene"}},{key:"trackDeviceInfo",value:function(e){Ge.Enabled&&Ve.event("device_info",e)}}]),e}();Me.trackingPages$=[];e("q",function(e){G(n,e);var t=w(n);function n(){return g(this,n),t.apply(this,arguments)}return F(n)}(Me));t._RF.pop(),t._RF.push({},"358fdIqjFdNzZGa95REWt2F","Ads",void 0);var Ce=e("M",{MAX_BOTTOM_BANNER_RATIO:1/6,NUM_LEVEL_WITHOUT_BANNER_ADS:0});t._RF.pop(),t._RF.push({},"a0dcdDZxhZImZ8Cfg4Dc7SJ","ScreenUtils",void 0);var Ue=codex.event,be=Ludex,Pe=be.Events,De=be.Utils.Array,we=e("S",function(e){G(n,e);var t=w(n);function n(){return g(this,n),t.apply(this,arguments)}return F(n,null,[{key:"showTournamentDetailScreen",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.openScreen(pe.TOURNAMENT_DETAIL_SCREEN,{playAnimation:n,tournament:e,tournamentContextType:t})}},{key:"closeTournamentDetailScreen",value:function(){return this.closeScreen(pe.TOURNAMENT_DETAIL_SCREEN)}}]),n}(function(){function e(){g(this,e),this.showedScreens$=[]}var t,n,i;return F(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"preloadScreen",value:function(e){var t=ge[e];t&&Ue.emit(Pe.PRELOAD_SCREEN,{screenName:t})}},{key:"preloadScreens",value:function(){Ue.emit(Pe.PRELOAD_SCREENS)}},{key:"openScreen",value:function(e,t){var n=ge[e];return Ue.emit(Pe.OPEN_SCREEN,{screenName:n,screenData:t}),new Promise((function(e){Ue.on(Pe.OPENED_SCREEN,(function t(i){i.screenName===n&&(Ue.off(Pe.OPENED_SCREEN,t),e())}))}))}},{key:"closeScreen",value:function(e){var t=ge[e];return Ue.emit(Pe.CLOSE_SCREEN,{screenName:t}),new Promise((function(e){Ue.on(Pe.CLOSED_SCREEN,(function n(i){i.screenName===t&&(Ue.off(Pe.CLOSED_SCREEN,n),e())}))}))}},{key:"openScreenAndWaitForClose",value:(i=p((function*(e,t){return yield this.openScreen(e,t),yield new Promise((function(t){Ue.on(Pe.CLOSE_SCREEN,(function n(i){i.screenName===ge[e]&&(Ue.off(Pe.CLOSE_SCREEN,n),t(i))}))}))})),function(e,t){return i.apply(this,arguments)})},{key:"showLoadingScreen",value:function(e){return this.openScreen(pe.LOADING_SCREEN,{duration:e})}},{key:"closeLoadingScreen",value:function(){return this.closeScreen(pe.LOADING_SCREEN)}},{key:"showNotificationScreen",value:function(e,t){return this.openScreen(pe.NOTIFICATION_SCREEN,{message:e,duration:t})}},{key:"showNotificationScreenWithLocalizedKey",value:function(e,t){return this.openScreen(pe.NOTIFICATION_SCREEN,{localizedMessageKey:e,duration:t})}},{key:"closeNotificationScreen",value:function(){return this.closeScreen(pe.NOTIFICATION_SCREEN)}},{key:"addShowedScene",value:function(e){De.has(this.inst.showedScreens$,e)||this.inst.showedScreens$.push(e)}},{key:"showLoadingFullScreen",value:(n=p((function*(e){if(!De.has(this.inst.showedScreens$,e)){this.addShowedScene(e);var t=S("Loading");if(t){var n=t.getComponent("Loading");yield n.show(e)}}})),function(e){return n.apply(this,arguments)})},{key:"hideLoadingFullScreen",value:(t=p((function*(e){var t;if(!De.has(this.inst.showedScreens$,e)){var n=null===(t=S("Loading"))||void 0===t?void 0:t.getComponent("Loading");yield null==n?void 0:n.hide(e)}})),function(e){return t.apply(this,arguments)})},{key:"showLoadingNotificationScreen",value:function(){return this.openScreen(pe.NOTIFICATION_SCREEN,{message:"Loading",enableCloseOnTouch:!1})}}]),e}()));t._RF.pop(),t._RF.push({},"4a4bfX6KIJCcIozlNHuAwoi","AdsUtils",void 0);var We=Ludex,He=We.Events,ke=We.Configs,$e=ke.Ads.Enabled,xe=ke.Gameplay.StartAdAtLevel,Ye=We.Plugins.Ads,je=void 0===Ye?{}:Ye,Ke=je.Types,ze=je.Status,qe=We.Utils,Ze=qe.Array,Je=qe.Function,Qe=qe.Object,Xe=codex,et=Xe.ads,tt=Xe.event,nt=Xe.player,it=function(e){G(n,e);var t=w(n);function n(e){return g(this,n),t.call(this,"AdsUtils.loadAdAsync: Timed out after ".concat(e,"ms"))}return F(n)}(b(Error)),rt=e("s",function(e){G(i,e);var t,n=w(i);function i(){return g(this,i),n.apply(this,arguments)}return F(i,null,[{key:"preloadAds",value:(t=p((function*(){Ke&&(this.preloadAdsByType(Ke.INTERSTITIAL),this.preloadAdsByType(Ke.REWARDED_VIDEO))})),function(){return t.apply(this,arguments)})},{key:"applyRemoveAds",value:function(){if(Ke){var e=!this.isRemoveAdActive();this.setAdEnable(Ke.BANNER,e),this.setAdEnable(Ke.INTERSTITIAL,e),this.refreshBannerAdVisibility()}}},{key:"isRemoveAdActive",value:function(){var e=(nt.getGameData()||{}).removeAdEndTime;return!!e&&e>Date.now()}}]),i}(function(){function e(){var t=this;g(this,e),this.adsEnable$={},this.visibleBannerConfigs$=[],this.invisibleBannerConfigs$=[],this.updateBannerAdsConfigByLayout$=function(e){if(Ke){var n=c.getVisibleSize(),i=Le.worldSizeToCssSize(n.height*Ce.MAX_BOTTOM_BANNER_RATIO),r=e===ve.Layout.Landscape,a=et.getAdsByType(Ke.BANNER).map((function(e){return e.config})).filter((function(e){var t=e.Position,n=e.BannerHeight;return!("bottom"===t&&n>i)}));t.visibleBannerConfigs$=a.filter((function(e){var t=e.Position;return r||"bottom"===t||"top"===t})),t.invisibleBannerConfigs$=a.filter((function(e){return!t.visibleBannerConfigs$.includes(e)}))}},this.getAdReady$=function(e,t){var n;if(!ze||!rt.isAdEnabled(e))return null;if(t)return et.getAdStatus(e,t)===ze.FILLED?t:null;var i=et.getAdsByType(e).find((function(t){return et.getAdStatus(e,t.placementId)===ze.FILLED}));return null!==(n=null==i?void 0:i.placementId)&&void 0!==n?n:null},this.getPlacementIdByService$=function(e,t){var n;if(!t)return!1;if(!Ke)return!1;var i=et.getAdsByType(e),r=Ze.search(i,(function(e){return e.config.AdService===t}));return null!==(n=null==r?void 0:r.placementId)&&void 0!==n&&n},this.getAdIdByPayload$=function(e,n){var i=n||{},r=i.adService,a=i.placementId;return t.getPlacementIdByService$(e,r)||a},this.getAdErrorMessage$=function(e,n){if(!Ke)return null;switch(e){case Ke.REWARDED_VIDEO:case Ke.REWARDED_INTERSTITIAL:return t.isUserCancelledAdError$(n)?"ads.cancelled":"error.noAd";default:return null}},this.showAdByType$=function(){var e=p((function*(e,n){if(!Ke||!ze)return!1;if(!rt.isAdEnabled(e))return!1;var i=n||{},r=i.placementId,a=i.includeSDK,o=i.excludeSDK,s=i.forceLoad,u=i.autoLoad,E=i.adService,l=i.timeout,_=void 0===l?15e3:l,c=i.showError;if(!t.canShowInSDK$(a,o))return!1;var T=t.getAdIdByPayload$(e,n),A=!1,S=!1;try{me.muteAudio(!0);var d=et.getAdStatus(e,r);for((s||u&&d!==ze.FILLED)&&(we.showLoadingScreen(),yield Je.timeOut(et.loadAdAsync(e,T),_));!A;)try{var f=t.getAdReady$(e,T);if(!f)return!1;T=f,yield et.showAdAsync(e,T),A=!0}catch(e){if(E)throw e;if(t.isUserCancelledAdError$(e))throw e;if(t.isRequestAdTimeoutError$(e))throw e;T=void 0,A=!1,S=!0}return!0}catch(n){S=!0;var I=t.getAdErrorMessage$(e,n);return I&&c&&we.showNotificationScreenWithLocalizedKey(I,2),!1}finally{me.muteAudio(!1),(s||u)&&we.closeLoadingScreen(),S&&(T=r),rt.preloadAdsByType(e,T),tt.emit(He.REQUEST_RESIZE_GAME)}}));return function(t,n){return e.apply(this,arguments)}}(),this.canShowInSDK$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=GameSDK.getSDKName();return(null==t||!t.length||!Ze.has(t,n))&&!(null!=e&&e.length&&!Ze.has(e,n))},this.isUserCancelledAdError$=function(e){return Qe.hasOwn(e,"code")&&"USER_INPUT"===e.code},this.isRequestAdTimeoutError$=function(e){return e instanceof it||!(!Qe.hasOwn(e,"code")||"SHOW_ADS_TIMEOUT"!==e.code)}}var t,n,i,r;return F(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"setAdEnable",value:function(e,t){this.inst.adsEnable$[e]=t}},{key:"isAdEnabled",value:function(e){return!!$e&&!1!==this.inst.adsEnable$[e]}},{key:"preloadAds",value:(r=p((function*(){Ke&&(this.preloadAdsByType(Ke.INTERSTITIAL),this.preloadAdsByType(Ke.REWARDED_VIDEO),this.preloadAdsByType(Ke.REWARDED_INTERSTITIAL))})),function(){return r.apply(this,arguments)})},{key:"isServiceDegraded",value:function(){return et.isServiceDegraded()}},{key:"preloadAdsByType",value:function(e,t){if(this.isAdEnabled(e)&&ze){var n=et.getAdsByType(e);(t?n.filter((function(e){return e.placementId===t})):n).forEach((function(t){et.getAdStatus(e,t.placementId)!==ze.FILLED&&et.loadAdAsync(e,t.placementId).catch((function(){}))}))}}},{key:"updateBannerAdsByLayout",value:function(e){this.inst.updateBannerAdsConfigByLayout$(e)}},{key:"refreshBannerAdVisibility",value:function(){if(Ke&&ze)if(this.isAdEnabled(Ke.BANNER)){var e,t=Z(this.inst.invisibleBannerConfigs$);try{for(t.s();!(e=t.n()).done;){var n=e.value.PlacementId;et.getAdStatus(Ke.BANNER,n)===ze.SHOWING&&this.hideBannerAd(n)}}catch(e){t.e(e)}finally{t.f()}var i,r=Z(this.inst.visibleBannerConfigs$);try{for(r.s();!(i=r.n()).done;){var a=i.value.PlacementId,o=et.getAdStatus(Ke.BANNER,a);!1!==o&&o!==ze.SHOWING&&this.showBannerAd(a)}}catch(e){r.e(e)}finally{r.f()}}else this.hideBannerAds()}},{key:"getBannerAdHeight",value:function(){try{if(!Ke)return 0;var e=Le.cssSizeToWorldSize(1),t=et.getAd(Ke.BANNER);return Math.round(et.getBannerHeight(t.placementId,e))}catch(e){return console.warn("[AdsUtils] getBannerAdHeight error:",e),0}}},{key:"showBannerAds",value:function(){if(Ke&&ze&&this.isAdEnabled(Ke.BANNER)){var e,t=Z(et.getAdsByType(Ke.BANNER));try{for(t.s();!(e=t.n()).done;){var n=e.value;et.getAdStatus(Ke.BANNER,n.placementId)!==ze.IDLE&&this.showBannerAd(n.placementId)}}catch(e){t.e(e)}finally{t.f()}}}},{key:"hideBannerAds",value:function(){if($e&&Ke&&ze){var e,t=Z(et.getAdsByType(Ke.BANNER));try{for(t.s();!(e=t.n()).done;){var n=e.value;et.getAdStatus(Ke.BANNER,n.placementId)!==ze.IDLE&&this.hideBannerAd(n.placementId)}}catch(e){t.e(e)}finally{t.f()}}}},{key:"showBannerAd",value:function(e){Ke&&this.isAdEnabled(Ke.BANNER)&&et.showBannerAdAsync(e).catch((function(){}))}},{key:"hideBannerAd",value:function(e){$e&&et.hideBannerAdAsync(e).catch((function(){}))}},{key:"isReadyAdShowable",value:function(e,t){var n=this.inst.getAdReady$(e,t);return!!n&&et.canShowAd(e,n)}},{key:"isBannerAdShowing",value:function(){if(!Ke||!ze)return!1;var e,t=Z(et.getAdsByType(Ke.BANNER));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(et.getAdStatus(Ke.BANNER,n.placementId)===ze.SHOWING)return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"showInterstitialAdAsync",value:(i=p((function*(e){if(!Ke)return!1;var t,n,i=null!=e?e:{},r=i.forLevel,a=i.contextType,o=i.forceLoad;if(r&&xe>=r)return!1;a&&(null===(t=window.GoogleAds)||void 0===t||t.setInterstitialType(a),null===(n=window.TranssionH5Ads)||void 0===n||n.setInterstitialType(a));var s=GameSDK.isGameSDK("MsGames");return this.inst.showAdByType$(Ke.INTERSTITIAL,h(h({},e),{},{forceLoad:o||s}))})),function(e){return i.apply(this,arguments)})},{key:"showRewardVideoAdAsync",value:(n=p((function*(e){if(!Ke)return!1;var t,n,i=(null!=e?e:{}).contextType;return i&&(null===(t=window.GoogleAds)||void 0===t||t.setRewardType(i),null===(n=window.TranssionH5Ads)||void 0===n||n.setRewardType(i)),this.inst.showAdByType$(Ke.REWARDED_VIDEO,h(h({showError:!0},e),{},{autoLoad:!0}))})),function(e){return n.apply(this,arguments)})},{key:"showRewardedInterstitialAdAsync",value:(t=p((function*(e){if(!Ke)return!1;var t,n,i=(null!=e?e:{}).contextType;return i&&(null===(t=window.GoogleAds)||void 0===t||t.setRewardType(i),null===(n=window.TranssionH5Ads)||void 0===n||n.setRewardType(i)),this.inst.showAdByType$(Ke.REWARDED_INTERSTITIAL,h(h({showError:!0},e),{},{autoLoad:!0}))})),function(e){return t.apply(this,arguments)})}]),e}()));t._RF.pop(),t._RF.push({},"ed5c6D+6KVEj5lrgtq+D9bJ","LayoutUtils",void 0);var at=ve.Layout;e("L",function(e){G(n,e);var t=w(n);function n(){return g(this,n),t.apply(this,arguments)}return F(n)}(function(){function e(){var t=this;g(this,e),this.isListening$=!1,this.currentLayout$=at.Portrait,this.onLayoutChanged$=function(e){t.currentLayout$!==e&&(t.currentLayout$=e,f.emit(Ie.ORIENTATION_CHANGED,e))}}return F(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"listenLayoutChanges",value:function(){this.inst.isListening$||(this.inst.isListening$=!0,f.on(Ie.LAYOUT_CHANGED,this.inst.onLayoutChanged$))}},{key:"getCurrentLayout",value:function(){return this.inst.currentLayout$}},{key:"isPortrait",value:function(){return this.inst.currentLayout$===at.Portrait}},{key:"isLandscape",value:function(){return this.inst.currentLayout$===at.Landscape}},{key:"getScreenRatio",value:function(){return Le.getScreenWidthCss()/Le.getScreenHeightCss()}}]),e}()));t._RF.pop(),t._RF.push({},"542caJcCPRMI5EaOkgOzhek","ItemKeys",void 0);var ot=e("I",{HINT:"hint",THUNDER:"thunder",STORM:"storm",PLIERS:"pliers"});t._RF.pop(),t._RF.push({},"7decaASyaFOAp2izq8DsREg","TotalLevel",void 0);var st,ut=e("T",1e3);t._RF.pop(),t._RF.push({},"f8533KH/fxOfYqya9sgLrSj","GameData",void 0);var Et,lt=e("Z",{level:0,coins:0,stars:0,totalLevel:ut,levelVersion:0,lastRewardedItems:0,lastCreateTournamentShown:0,guideItemShowed:[],items:(st={},B(st,ot.HINT,0),B(st,ot.THUNDER,0),B(st,ot.STORM,0),B(st,ot.PLIERS,0),st),custom:{time:4,difficulty:1,bombs:0,ads:!1},tournamentProgress:{}});t._RF.pop(),t._RF.push({},"3b9bcPJBxpNOqG2I6exTOVn","MatchCustomData",void 0);var _t=Ludex.Dtos.Match,ct=(void 0===_t?{}:_t).CustomData,Tt=null!==(Et=null==ct?void 0:ct.getDefaults())&&void 0!==Et?Et:{};e("X",h(h({},Tt),{},{score:0,challengeData:null}));t._RF.pop(),t._RF.push({},"074c4KXFZ1Pq6d+66PrLd2+","PlayerData",void 0);e("Y",{score:0,settings:{sound:!0,music:!0,vibrate:!0,language:"en"},gameData:lt,isFirstLogin:!0,dailyRewardedData:{logDays:[],firstReward:0,lastReward:0},lastCallSwitchGame:0,notificationData:{},missionsData:{process:{}}});t._RF.pop(),t._RF.push({},"32598ObpVZK/pecmWIdcs+7","SceneKeys",void 0);var At=e("Q",{BOOT_SCENE:"BootScene",GAME_SCENE:"GameScene",PLAYABLE_SCENE:"PlayableScene",DASHBOARD_SCENE:"DashboardScene",CHALLENGE_RESULT_SCENE:"ChallengeResultScene"});t._RF.pop(),t._RF.push({},"669a1OtNF9EDrMRLWTjxk4B","GeneralUtils",void 0);e("D",function(e){G(n,e);var t=w(n);function n(){return g(this,n),t.apply(this,arguments)}return F(n)}(function(){function e(){g(this,e)}return F(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"setBlockInput",value:function(e){var t=S("Canvas/InputBlocker");t&&(t.active=e)}},{key:"getBlockInput",value:function(){var e=S("Canvas/InputBlocker");return!!e&&e.active}}]),e}()));t._RF.pop(),t._RF.push({},"58f4330KXRL77xyoA3903MY","WasmUtils",void 0);var St=Ludex.Utils.Function,dt=e("W",function(e){G(n,e);var t=w(n);function n(){return g(this,n),t.apply(this,arguments)}return F(n)}(function(){function e(){g(this,e),this.mutex$=St.mutex()}var t;return F(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"loadModuleAsync",value:(t=p((function*(e){var t=yield this.inst.mutex$.use("module-wasm-".concat(e));try{switch(e){case"spine":if("function"!=typeof v)return;yield v();break;case"box2d":if("function"!=typeof L)return;yield L();break;case"physx":if("function"!=typeof R)return;yield R();break;case"bullet":if("function"!=typeof I)return;yield I()}}finally{t.release()}})),function(e){return t.apply(this,arguments)})}]),e}()));t._RF.pop(),t._RF.push({},"97ca9J9nzNCeIjC1l+ZT/Hm","SceneUtils",void 0);var ft=codex.event,It=Ludex.Events;e("K",function(e){G(r,e);var t,n,i=w(r);function r(){return g(this,r),i.apply(this,arguments)}return F(r,null,[{key:"preloadDashboardScene",value:function(){this.preloadScene(At.DASHBOARD_SCENE)}},{key:"switchToDashboardScene",value:function(e){this.switchScene(At.DASHBOARD_SCENE,e)}},{key:"preloadGameScene",value:(n=p((function*(){yield dt.loadModuleAsync("spine"),this.preloadScene(At.GAME_SCENE)})),function(){return n.apply(this,arguments)})},{key:"switchToGameScene",value:(t=p((function*(e){yield dt.loadModuleAsync("spine"),this.switchScene(At.GAME_SCENE,e)})),function(e){return t.apply(this,arguments)})}]),r}(function(){function e(){g(this,e),this.loadedScenes$={}}return F(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"switchScene",value:function(e,t){ft.emit(It.SWITCH_SCENE,{sceneName:e,sceneData:t})}},{key:"preloadScene",value:function(e){ft.emit(It.PRELOAD_SCENE,{sceneName:e})}},{key:"isSceneLoaded",value:function(e){var t;return null!==(t=this.inst.loadedScenes$[e])&&void 0!==t&&t}},{key:"markIsSceneLoaded",value:function(e){this.inst.loadedScenes$[e]=!0}},{key:"markIsTestScene",value:function(e){ft.emit(It.MARK_IS_TEST_SCENE,{sceneName:e})}},{key:"getSceneData",value:function(e){return"data"in e.scene&&e.scene.data||{}}}]),e}()));t._RF.pop(),t._RF.push({},"c517dy1TKlPd7mHxulLPv1G","TileSpecialTypes",void 0);e("B",{bomb:"bomb",star:"star",none:"none"});t._RF.pop(),t._RF.push({},"d6fb7/+FFxLs7k5w6K38JYb","TournamentUtils",void 0);var Rt=Ludex,Lt=Rt.Utils,vt=Lt.String,Nt=Lt.Valid,ht=Lt.Array,yt=Rt.Configs.Mockup.Leaderboards,mt=codex.language,pt=codex,gt=pt.leaderboard,Ot=pt.player;e("J",function(e){G(i,e);var t,n=w(i);function i(){return g(this,i),n.apply(this,arguments)}return F(i,[{key:"processPlayerTournamentData",value:function(){var e,t=[],n=Z(this.playerTournaments$);try{for(n.s();!(e=n.n()).done;){var i,r,a=e.value,o="".concat(a.getID()),s=a.getContextID(),u=a.getEndTime(),E=this.parseTournamentPayload(a.getPayload());if(this.validateGameSDKTournamentPayload(E))if(!(u<Date.now()/1e3)){var l=a.getTournamentType();if("PAGE_HOSTED"!==l){var _=null!==(i=E.playerName)&&void 0!==i?i:"Player",c={id:o,title:null!==(r=a.getTitle())&&void 0!==r?r:this.createDefaultTournamentName(_),endTime:u,contextId:s,payload:E,tournamentType:l};t.push(c)}}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"processGlobalTournamentLeaderboardData",value:function(){var e=[];if(yt.Enabled){var t,n=Z(this.playerTournaments$);try{for(n.s();!(t=n.n()).done;){var i,r=t.value,a=r.getTournamentType();if("PAGE_HOSTED"===a){var o="".concat(r.getID()),s=r.getContextID(),u=r.getEndTime(),E=this.parseTournamentPayload(r.getPayload()),l={id:o,title:null!==(i=r.getTitle())&&void 0!==i?i:"Global Tournament",endTime:u,contextId:s,payload:E,tournamentType:a};e.push(l)}}}catch(e){n.e(e)}finally{n.f()}return e}var _,c=Z(this.globalTournamentLBData$);try{for(c.s();!(_=c.n()).done;){var T,A,S,d=_.value,f=void 0;try{f=JSON.parse(d.description)}catch(e){continue}if(this.validateExpireTime(d)&&this.validateGlobalTournamentPayload(f)){var I="isNEZP"in GameSDK.extra&&GameSDK.extra.isNEZP(),R="isRestricted"in GameSDK.extra&&GameSDK.extra.isRestricted();if(I||R){if(!f.restrict)continue}else if(f.restrict)continue;var L=null!==(T=null===(A=f.i18n)||void 0===A||null===(A=A[mt.getCurrentLocale()])||void 0===A?void 0:A.title)&&void 0!==T?T:d.name,v={id:f.tournamentId,title:L,endTime:this.getTournamentEndTime(d),contextId:f.contextId,payload:{playerId:"global",playerName:"global",leaderboardId:d._id,themeId:null!==(S=f.themeId)&&void 0!==S?S:se.SUMMER},tournamentType:"PAGE_HOSTED"};e.push(v)}}}catch(e){c.e(e)}finally{c.f()}return e}},{key:"createDefaultTournamentName",value:function(e){var t=e.substring(0,7),n="".concat(t.split(" ")[0]||t,"'s Tournament"),i=vt.removeDiacritics(n);return"".concat(i)}}],[{key:"requestTournamentDataAsync",value:(t=p((function*(){var e=this.inst;yield Promise.all([e.fetchTournamentsAsync$(),e.fetchGlobalTournamentLeaderboardAsync$()]);var t=e.processPlayerTournamentData(),n=e.processGlobalTournamentLeaderboardData();t.sort((function(e,t){return e.endTime-t.endTime})),n.sort((function(e,t){return e.endTime-t.endTime})),e.tournamentData$=[].concat(x(n),x(t));var i,r=Z(e.tournamentData$);try{for(r.s();!(i=r.n()).done;){var a=i.value.payload.leaderboardId;a&&(gt.isExistLeaderboardId(a)||gt.addLeaderboard({type:"tournament",name:a,autoSortRank:!0,leaderboardId:a}))}}catch(e){r.e(e)}finally{r.f()}return e.tournamentData$})),function(){return t.apply(this,arguments)})},{key:"saveTournamentProgress",value:function(e,t,n){var i,r,a,o,s=(null!==(i=Ot.getGameData())&&void 0!==i?i:{}).tournamentProgress,u=null==s?void 0:s[n],E={level:Math.max(e,null!==(r=null==u?void 0:u.level)&&void 0!==r?r:0),score:Math.max(t,null!==(a=null==u?void 0:u.score)&&void 0!==a?a:0),replayCount:null!==(o=null==u?void 0:u.replayCount)&&void 0!==o?o:0};Ot.setGameData({tournamentProgress:h(h({},s),{},B({},n,E))})}},{key:"syncTournamentProgress",value:function(){var e,t=(null!==(e=Ot.getGameData())&&void 0!==e?e:{}).tournamentProgress;if(t){var n=this.inst,i=function(e){ht.search(n.tournamentData$,(function(t){return t.id===e}))||delete t[e]};for(var r in t)i(r);Ot.setGameData({tournamentProgress:t})}}}]),i}(function(){function e(){var t=this;g(this,e),this.globalTournamentLBData$=[],this.playerTournaments$=[],this.tournamentData$=[],this.maxTimeRefetch$=5e3,this.lastFetchTournamentsData$=0,this.lastFetchGlobalTournament$=0,this.fetchGlobalTournamentLeaderboardAsync$=p((function*(){try{Date.now()-t.lastFetchGlobalTournament$>t.maxTimeRefetch$&&(t.globalTournamentLBData$=yield gt.requestLeaderboardsAsync({limit:100,type:"world_tournament_leaderboard"}),t.globalTournamentLBData$.sort((function(e,t){return e.expireTime-t.expireTime})))}catch(e){console.warn("fetchGlobalTournamentLeaderboardAsync",e)}return t.globalTournamentLBData$})),this.fetchTournamentsAsync$=p((function*(){try{Date.now()-t.lastFetchTournamentsData$>t.maxTimeRefetch$&&(t.playerTournaments$=yield GameSDK.tournament.getTournamentsAsync(),t.playerTournaments$.sort((function(e,t){return e.getEndTime()-t.getEndTime()})))}catch(e){console.warn("fetchTournamentsAsync",e)}return t.playerTournaments$}))}return F(e,[{key:"validateGlobalTournamentPayload",value:function(e){var t=e.tournamentId,n=e.contextId;return!(!Nt.isString(t)||""===t)&&!(!Nt.isString(n)||""===n)}},{key:"getTournamentEndTime",value:function(e){var t=new Date(e.createdAt).getTime();return Math.round((1e3*e.expireTime+t)/1e3)}},{key:"validateExpireTime",value:function(e){return 1e3*this.getTournamentEndTime(e)-Date.now()>0}},{key:"validateGameSDKTournamentPayload",value:function(e){return!(!Nt.isString(e.playerId)||""===e.playerId)&&(!(!Nt.isString(e.playerName)||""===e.playerName)&&!(!Nt.isString(e.leaderboardId)||""===e.leaderboardId))}},{key:"parseTournamentPayload",value:function(e){if("string"!=typeof e)return{};try{return JSON.parse(e)}catch(e){return{}}}}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new this),this.inst$}},{key:"getAllTournamentData",value:function(){return this.inst.tournamentData$}},{key:"getTournamentDataById",value:function(e){var t=this.inst;return ht.search(t.tournamentData$,(function(t){return t.id===e}))}},{key:"getPlayerTournamentData",value:function(){var e=this.inst,t=Ot.getPlayerId();return e.tournamentData$.filter((function(e){return e.payload.playerId===t}))}},{key:"getFriendsTournamentData",value:function(){var e=this.inst,t=Ot.getPlayerId();return e.tournamentData$.filter((function(e){var n=e.payload;return n.playerId!==t&&"global"!==n.playerId}))}},{key:"getGlobalTournamentData",value:function(){return this.inst.tournamentData$.filter((function(e){return"global"===e.payload.playerId}))}},{key:"validateTournamentExpired",value:function(e){var t=this.getTournamentDataById(e);return!!t&&t.endTime<Date.now()/1e3}}]),e}()));t._RF.pop()}}}));

} }; });
//# sourceMappingURL=bundle.js.map