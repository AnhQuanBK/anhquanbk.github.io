System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///env-5304ac8c.js",[],(function(t){return{execute:function(){function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r(e){return(r=t("l","function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}))(e)}function n(t,e,r,n,o,i,u){try{var c=t[i](u),f=c.value}catch(t){return void r(t)}c.done?e(f):Promise.resolve(f).then(n,o)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j(n.key),n)}}function i(t,e,r){return(e=j(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(e){return(u=t("k",Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)}))(e)}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function l(e,r,n){return(l=f()?t("t",Reflect.construct.bind()):t("t",(function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&c(o,r.prototype),o}))).apply(null,arguments)}function a(e){var r="function"==typeof Map?new Map:void 0;return(a=t("m",(function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return l(t,arguments,u(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,t)})))(e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function b(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?t("j",Reflect.get.bind()):t("j",(function(t,e,r){var n=b(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}))).apply(this,arguments)}function v(t,e,r,n){return(v="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,r,n){var o,u=b(t,e);if(u){if((o=Object.getOwnPropertyDescriptor(u,e)).set)return o.set.call(n,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(n,e)){if(!o.writable)return!1;o.value=r,Object.defineProperty(n,e,o)}else i(n,e,r);return!0})(t,e,r,n)}function d(t){if(Array.isArray(t))return t}function m(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function h(t,e){if(t){if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(t,e):void 0}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}t({_:function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0);i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0);void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null);return i},a:function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)},b:function(t){var e=f();return function(){var r,n=u(t);if(e){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}},c:function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},d:function(t,e,r,n){if(!r)return;Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})},e:p,f:function(t,e,r){e&&o(t.prototype,e);r&&o(t,r);return Object.defineProperty(t,"prototype",{writable:!1}),t},g:function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=h(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}},h:function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var u=t.apply(e,r);function c(t){n(u,o,i,c,f,"next",t)}function f(t){n(u,o,i,c,f,"throw",t)}c(void 0)}))}},i:function(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t},j:s,k:u,l:r,m:a,n:function(t,e,r,n,o){if(!v(t,e,r,n||t)&&o)throw new TypeError("failed to set property");return r},o:function(t,e){return d(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],f=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);f=!0);}catch(t){l=!0,o=t}finally{try{if(!f&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,e)||h(t,e)||w()},q:function(t){return function(t){if(Array.isArray(t))return O(t)}(t)||m(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},r:i,s:function(t){return d(t)||m(t)||h(t)||w()},t:l});t("E",!1),t("p",!1),t("B",!0)}}}));

System.register("chunks:///TournamentUtils-53cee7c1.js",["./env-5304ac8c.js","cc"],(function(e){var t,n,i,a,r,s,o,E,u,l,_,T,A,c,S,I,d,R,L,N,f,v,h,m,y,p,g,F,O,B,G,V,M,C;return{setters:[function(e){t=e.r,n=e.f,i=e.c,a=e.h,r=e.o,s=e.g,o=e.i,E=e.a,u=e.b,l=e.m,_=e.q},function(e){T=e.cclegacy,A=e.ccenum,c=e.JsonAsset,S=e.Prefab,I=e.AnimationClip,d=e.ImageAsset,R=e.SpriteFrame,L=e.Font,N=e.assetManager,f=e.AudioClip,v=e.tween,h=e.Animation,m=e.UITransform,y=e.view,p=e.screen,g=e.math,F=e.find,O=e.director,B=e.game,G=e.loadWasmModuleBullet,V=e.loadWasmModulePhysX,M=e.loadWasmModuleBox2D,C=e.loadWasmModuleSpine}],execute:function(){T._RF.push({},"725f8u/lDtFbY1DMY0uJSL9","Locales",void 0);e("f",["en","ru"]);var U=e("g",{en:"fonts/mikado-bold.ttf",ru:"fonts/nunito-black.ttf"});e("w",{ru:"locales/ru"}),e("v",{en:"104px",ru:"96px"});T._RF.pop(),T._RF.push({},"a6e4bjV/RVH17qBEx1mZaFg","ResourcePaths",void 0);var D=Ludex.Utils.Object,P=e("h",function(e){return e.BOMB_RESCUE_PREFAB="game-objects/bomb/BombRescue",e.BOMB_EXPLODE_PREFAB="game-objects/bomb/BombExplode",e.BOMB_DEFUSE_PREFAB="game-objects/bomb/DefuseExplode",e.CLEAR_EXPLOSION_PREFAB="game-objects/clear-explosion/ClearExplosionV2",e.TILE_BREAK_ANIM="animations/TileBreak",e.TILE_CLEAR_ANIM="animations/TileClear",e.TILE_SHAKE_ANIM="animations/TileShake",e.TILE_SKIN_FOLDER="tiles",e.TILE_SKIN_PREVIEW_FOLDER="tiles-preview",e.ITEM_POPUP_FOLDER="item-popup",e.SUMMER_BG="images/bg/summer",e.AUTUMN_BG="images/bg/autumn",e.WINTER_BG="images/bg/winter",e.FLOWER_FIELD_BG="images/bg/flower-field",e.TREE_PLANTING_FESTIVAL_BG="images/bg/tree-planting-festival",e.MUSIC_FESTIVAL_BG="images/bg/music-festival",e.HARVEST_FESTIVAL_BG="images/bg/harvest-festival",e.FOOD_FESTIVAL_BG="images/bg/food-festival",e.LIGHT_FESTIVAL_BG="images/bg/light-festival",e.PEACE_FESTIVAL_BG="images/bg/peace-festival",e.FLOWER_FESTIVAL_BG="images/bg/flower-festival",e.STREET_FESTIVAL_BG="images/bg/street-festival",e.COLOR_GARDEN_BG="images/bg/color-garden",e.COLOR_FESTIVAL_BG="images/bg/color-festival",e.NATURE_SUMMER_BG="images/bg/nature-summer",e.SNOW_MOUNTAIN_BG="images/bg/snow-mountain",e.ICE_FESTIVAL_BG="images/bg/ice-festival",e.NIGHT_FESTIVAL_BG="images/bg/night-festival",e.LOST_FESTIVAL_BG="images/bg/lost-festival",e.HALLOWEEN_BG="images/bg/halloween",e.CHRISTMAS_BG="images/bg/christmas",e.SPRING_FLOWER_FESTIVAL_BG="images/bg/spring-flower-festival",e.TET_HOLIDAY_BG="images/bg/tet-holiday",e.SEA_FESTIVAL_BG="images/bg/sea-festival",e.FIREWORK_FESTIVAL_BG="images/bg/firework-festival",e.SUMMER_BG_PREVIEW="images/preview/summer",e.AUTUMN_BG_PREVIEW="images/preview/autumn",e.WINTER_BG_PREVIEW="images/preview/winter",e.FLOWER_FIELD_BG_PREVIEW="images/preview/flower-field",e.TREE_PLANTING_FESTIVAL_BG_PREVIEW="images/preview/tree-planting-festival",e.MUSIC_FESTIVAL_BG_PREVIEW="images/preview/music-festival",e.HARVEST_FESTIVAL_BG_PREVIEW="images/preview/harvest-festival",e.FOOD_FESTIVAL_BG_PREVIEW="images/preview/food-festival",e.LIGHT_FESTIVAL_BG_PREVIEW="images/preview/light-festival",e.PEACE_FESTIVAL_BG_PREVIEW="images/preview/peace-festival",e.FLOWER_FESTIVAL_BG_PREVIEW="images/preview/flower-festival",e.STREET_FESTIVAL_BG_PREVIEW="images/preview/street-festival",e.COLOR_GARDEN_BG_PREVIEW="images/preview/color-garden",e.COLOR_FESTIVAL_BG_PREVIEW="images/preview/color-festival",e.NATURE_SUMMER_BG_PREVIEW="images/preview/nature-summer",e.SNOW_MOUNTAIN_BG_PREVIEW="images/preview/snow-mountain",e.ICE_FESTIVAL_BG_PREVIEW="images/preview/ice-festival",e.NIGHT_FESTIVAL_BG_PREVIEW="images/preview/night-festival",e.LOST_FESTIVAL_BG_PREVIEW="images/preview/lost-festival",e.HALLOWEEN_BG_PREVIEW="images/preview/halloween",e.CHRISTMAS_BG_PREVIEW="images/preview/christmas",e.SPRING_FLOWER_FESTIVAL_BG_PREVIEW="images/preview/spring-flower-festival",e.TET_HOLIDAY_BG_PREVIEW="images/preview/tet-holiday",e.SEA_FESTIVAL_BG_PREVIEW="images/preview/sea-festival",e.FIREWORK_FESTIVAL_BG_PREVIEW="images/preview/firework-festival",e.SUMMER_BG_TOURNAMENT="images/tournament/summer",e.AUTUMN_BG_TOURNAMENT="images/tournament/autumn",e.WINTER_BG_TOURNAMENT="images/tournament/winter",e.FLOWER_FIELD_BG_TOURNAMENT="images/tournament/flower-field",e.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT="images/tournament/tree-planting-festival",e.MUSIC_FESTIVAL_BG_TOURNAMENT="images/tournament/music-festival",e.HARVEST_FESTIVAL_BG_TOURNAMENT="images/tournament/harvest-festival",e.FOOD_FESTIVAL_BG_TOURNAMENT="images/tournament/food-festival",e.LIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/light-festival",e.PEACE_FESTIVAL_BG_TOURNAMENT="images/tournament/peace-festival",e.FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/flower-festival",e.STREET_FESTIVAL_BG_TOURNAMENT="images/tournament/street-festival",e.COLOR_GARDEN_BG_TOURNAMENT="images/tournament/color-garden",e.COLOR_FESTIVAL_BG_TOURNAMENT="images/tournament/color-festival",e.NATURE_SUMMER_BG_TOURNAMENT="images/tournament/nature-summer",e.SNOW_MOUNTAIN_BG_TOURNAMENT="images/tournament/snow-mountain",e.ICE_FESTIVAL_BG_TOURNAMENT="images/tournament/ice-festival",e.NIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/night-festival",e.LOST_FESTIVAL_BG_TOURNAMENT="images/tournament/lost-festival",e.HALLOWEEN_BG_TOURNAMENT="images/tournament/halloween",e.CHRISTMAS_BG_TOURNAMENT="images/tournament/christmas",e.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/spring-flower-festival",e.TET_HOLIDAY_BG_TOURNAMENT="images/tournament/tet-holiday",e.SEA_FESTIVAL_BG_TOURNAMENT="images/tournament/sea-festival",e.FIREWORK_FESTIVAL_BG_TOURNAMENT="images/tournament/firework-festival",e.SUMMER_BG_THUMBNAIL="images/thumbnail/summer",e.AUTUMN_BG_THUMBNAIL="images/thumbnail/autumn",e.WINTER_BG_THUMBNAIL="images/thumbnail/winter",e.FLOWER_FIELD_BG_THUMBNAIL="images/thumbnail/flower-field",e.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL="images/thumbnail/tree-planting-festival",e.MUSIC_FESTIVAL_BG_THUMBNAIL="images/thumbnail/music-festival",e.HARVEST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/harvest-festival",e.FOOD_FESTIVAL_BG_THUMBNAIL="images/thumbnail/food-festival",e.LIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/light-festival",e.PEACE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/peace-festival",e.FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/flower-festival",e.STREET_FESTIVAL_BG_THUMBNAIL="images/thumbnail/street-festival",e.COLOR_GARDEN_BG_THUMBNAIL="images/thumbnail/color-garden",e.COLOR_FESTIVAL_BG_THUMBNAIL="images/thumbnail/color-festival",e.NATURE_SUMMER_BG_THUMBNAIL="images/thumbnail/nature-summer",e.SNOW_MOUNTAIN_BG_THUMBNAIL="images/thumbnail/snow-mountain",e.ICE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/ice-festival",e.NIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/night-festival",e.LOST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/lost-festival",e.HALLOWEEN_BG_THUMBNAIL="images/thumbnail/halloween",e.CHRISTMAS_BG_THUMBNAIL="images/thumbnail/christmas",e.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/spring-flower-festival",e.TET_HOLIDAY_BG_THUMBNAIL="images/thumbnail/tet-holiday",e.SEA_FESTIVAL_BG_THUMBNAIL="images/thumbnail/sea-festival",e.FIREWORK_FESTIVAL_BG_THUMBNAIL="images/thumbnail/firework-festival",e.COLLECTIONS_PAGE="pages/CollectionsContent",e.LEADERBOARD_PAGE="pages/LeaderboardContent",e.TOURNAMENTS_PAGE="pages/TournamentsContent",e.PAGE_LEAVES_PREFAB="pages/Leaves",e.LEVEL_DATA_FOLDER="levels-json",e.SIDEBAR_BG="images/bg-sidebar",e.TOP_LEFT_LEAF="images/top-left-leaf",e.TOP_RIGHT_LEAF="images/top-right-leaf",e.BOTTOM_LEFT_LEAF="images/bottom-left-leaf",e.BOTTOM_RIGHT_LEAF="images/bottom-right-leaf",e.TORNADO_SPINE_PREFAB="game-objects/tornado/Tornado",e}(P||{})),W=D.vals(P),w=e("d",W.reduce((function(e,t,n){return e[t]=n,e}),{}));A(w);e("e",W);T._RF.pop(),T._RF.push({},"3f1dbbPrPVBy5lNYySV74Qq","ThemeKeys",void 0);var H,k,b,$,x=e("q",{SUMMER:"summer",AUTUMN:"autumn",WINTER:"winter",SPRING_FESTIVAL:"spring-festival",TREE_PLANTING_FESTIVAL:"tree-planting-festival",BLUE_SEA_FESTIVAL:"blue-sea-festival",MUSIC_FESTIVAL:"music-festival",HARVEST_FESTIVAL:"harvest-festival",FOOD_FESTIVAL:"food-festival",SNOW_FESTIVAL:"snow-festival",LIGHT_FESTIVAL:"light-festival",PEACE_FESTIVAL:"peace-festival",FLOWER_FESTIVAL:"flower-festival",STREET_FESTIVAL:"street-festival",COLOR_GARDEN:"color-garden",COLOR_FESTIVAL:"color-festival",NATURE_SUMMER:"nature-summer",SNOW_MOUNTAIN:"snow-mountain",ICE_FESTIVAL:"ice-festival",GREEN_GRASS_FESTIVAL:"green-grass-festival",COMMUNITY_FESTIVAL:"community-festival",WATER_FESTIVAL:"water-festival",ANIMAL_FESTIVAL:"animal-festival",LOST_FESTIVAL:"lost-festival",HALLOWEEN_FESTIVAL:"halloween-festival",SNOW_MUSIC_FESTIVAL:"snow-music-festival",CHRISTMAS:"christmas",SPRING_FLOWER_FESTIVAL:"spring-flower-festival",TET_HOLIDAY:"tet-holiday",SEA_FESTIVAL:"sea-festival",FIREWORK_FESTIVAL:"firework-festival",HALLOWEEN_HORROR:"halloween-horror",MID_AUTUMN:"mid-autumn",CHRISTMAS_SWEET:"christmas-sweet",NEW_YEAR_COUNTDOWN:"new-year-countdown",HAPPY_NEW_YEAR:"happy-new-year"});A(x),T._RF.pop(),T._RF.push({},"2a657+TsltMe4rrDmyWGrLy","ThemeResourcesPath",void 0);var Y=(t(H={},x.SUMMER,P.SUMMER_BG),t(H,x.AUTUMN,P.AUTUMN_BG),t(H,x.WINTER,P.WINTER_BG),t(H,x.SPRING_FESTIVAL,P.FLOWER_FIELD_BG),t(H,x.TREE_PLANTING_FESTIVAL,P.TREE_PLANTING_FESTIVAL_BG),t(H,x.BLUE_SEA_FESTIVAL,P.SEA_FESTIVAL_BG),t(H,x.MUSIC_FESTIVAL,P.MUSIC_FESTIVAL_BG),t(H,x.HARVEST_FESTIVAL,P.HARVEST_FESTIVAL_BG),t(H,x.FOOD_FESTIVAL,P.FOOD_FESTIVAL_BG),t(H,x.SNOW_FESTIVAL,P.WINTER_BG),t(H,x.LIGHT_FESTIVAL,P.LIGHT_FESTIVAL_BG),t(H,x.PEACE_FESTIVAL,P.PEACE_FESTIVAL_BG),t(H,x.FLOWER_FESTIVAL,P.FLOWER_FESTIVAL_BG),t(H,x.STREET_FESTIVAL,P.STREET_FESTIVAL_BG),t(H,x.COLOR_GARDEN,P.COLOR_GARDEN_BG),t(H,x.COLOR_FESTIVAL,P.COLOR_FESTIVAL_BG),t(H,x.NATURE_SUMMER,P.NATURE_SUMMER_BG),t(H,x.SNOW_MOUNTAIN,P.SNOW_MOUNTAIN_BG),t(H,x.ICE_FESTIVAL,P.ICE_FESTIVAL_BG),t(H,x.GREEN_GRASS_FESTIVAL,P.FLOWER_FIELD_BG),t(H,x.COMMUNITY_FESTIVAL,P.NIGHT_FESTIVAL_BG),t(H,x.WATER_FESTIVAL,P.SEA_FESTIVAL_BG),t(H,x.ANIMAL_FESTIVAL,P.TREE_PLANTING_FESTIVAL_BG),t(H,x.LOST_FESTIVAL,P.LOST_FESTIVAL_BG),t(H,x.HALLOWEEN_FESTIVAL,P.HALLOWEEN_BG),t(H,x.SNOW_MUSIC_FESTIVAL,P.MUSIC_FESTIVAL_BG),t(H,x.CHRISTMAS,P.CHRISTMAS_BG),t(H,x.SPRING_FLOWER_FESTIVAL,P.SPRING_FLOWER_FESTIVAL_BG),t(H,x.TET_HOLIDAY,P.TET_HOLIDAY_BG),t(H,x.SEA_FESTIVAL,P.SEA_FESTIVAL_BG),t(H,x.FIREWORK_FESTIVAL,P.FIREWORK_FESTIVAL_BG),t(H,x.HALLOWEEN_HORROR,P.HALLOWEEN_BG),t(H,x.MID_AUTUMN,P.SPRING_FLOWER_FESTIVAL_BG),t(H,x.CHRISTMAS_SWEET,P.CHRISTMAS_BG),t(H,x.NEW_YEAR_COUNTDOWN,P.TET_HOLIDAY_BG),t(H,x.HAPPY_NEW_YEAR,P.TET_HOLIDAY_BG),H),K=e("s",(t(k={},x.SUMMER,P.SUMMER_BG_PREVIEW),t(k,x.AUTUMN,P.AUTUMN_BG_PREVIEW),t(k,x.WINTER,P.WINTER_BG_PREVIEW),t(k,x.SPRING_FESTIVAL,P.FLOWER_FIELD_BG_PREVIEW),t(k,x.TREE_PLANTING_FESTIVAL,P.TREE_PLANTING_FESTIVAL_BG_PREVIEW),t(k,x.BLUE_SEA_FESTIVAL,P.SEA_FESTIVAL_BG_PREVIEW),t(k,x.MUSIC_FESTIVAL,P.MUSIC_FESTIVAL_BG_PREVIEW),t(k,x.HARVEST_FESTIVAL,P.HARVEST_FESTIVAL_BG_PREVIEW),t(k,x.FOOD_FESTIVAL,P.FOOD_FESTIVAL_BG_PREVIEW),t(k,x.SNOW_FESTIVAL,P.WINTER_BG_PREVIEW),t(k,x.LIGHT_FESTIVAL,P.LIGHT_FESTIVAL_BG_PREVIEW),t(k,x.PEACE_FESTIVAL,P.PEACE_FESTIVAL_BG_PREVIEW),t(k,x.FLOWER_FESTIVAL,P.FLOWER_FESTIVAL_BG_PREVIEW),t(k,x.STREET_FESTIVAL,P.STREET_FESTIVAL_BG_PREVIEW),t(k,x.COLOR_GARDEN,P.COLOR_GARDEN_BG_PREVIEW),t(k,x.COLOR_FESTIVAL,P.COLOR_FESTIVAL_BG_PREVIEW),t(k,x.NATURE_SUMMER,P.NATURE_SUMMER_BG_PREVIEW),t(k,x.SNOW_MOUNTAIN,P.SNOW_MOUNTAIN_BG_PREVIEW),t(k,x.ICE_FESTIVAL,P.ICE_FESTIVAL_BG_PREVIEW),t(k,x.GREEN_GRASS_FESTIVAL,P.FLOWER_FIELD_BG_PREVIEW),t(k,x.COMMUNITY_FESTIVAL,P.NIGHT_FESTIVAL_BG_PREVIEW),t(k,x.WATER_FESTIVAL,P.SEA_FESTIVAL_BG_PREVIEW),t(k,x.ANIMAL_FESTIVAL,P.TREE_PLANTING_FESTIVAL_BG_PREVIEW),t(k,x.LOST_FESTIVAL,P.LOST_FESTIVAL_BG_PREVIEW),t(k,x.HALLOWEEN_FESTIVAL,P.HALLOWEEN_BG_PREVIEW),t(k,x.SNOW_MUSIC_FESTIVAL,P.MUSIC_FESTIVAL_BG_PREVIEW),t(k,x.CHRISTMAS,P.CHRISTMAS_BG_PREVIEW),t(k,x.SPRING_FLOWER_FESTIVAL,P.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),t(k,x.TET_HOLIDAY,P.TET_HOLIDAY_BG_PREVIEW),t(k,x.SEA_FESTIVAL,P.SEA_FESTIVAL_BG_PREVIEW),t(k,x.FIREWORK_FESTIVAL,P.FIREWORK_FESTIVAL_BG_PREVIEW),t(k,x.HALLOWEEN_HORROR,P.HALLOWEEN_BG_PREVIEW),t(k,x.MID_AUTUMN,P.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),t(k,x.CHRISTMAS_SWEET,P.CHRISTMAS_BG_PREVIEW),t(k,x.NEW_YEAR_COUNTDOWN,P.TET_HOLIDAY_BG_PREVIEW),t(k,x.HAPPY_NEW_YEAR,P.TET_HOLIDAY_BG_PREVIEW),k)),z=e("t",(t(b={},x.SUMMER,P.SUMMER_BG_TOURNAMENT),t(b,x.AUTUMN,P.AUTUMN_BG_TOURNAMENT),t(b,x.WINTER,P.WINTER_BG_TOURNAMENT),t(b,x.SPRING_FESTIVAL,P.FLOWER_FIELD_BG_TOURNAMENT),t(b,x.TREE_PLANTING_FESTIVAL,P.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),t(b,x.BLUE_SEA_FESTIVAL,P.SEA_FESTIVAL_BG_TOURNAMENT),t(b,x.MUSIC_FESTIVAL,P.MUSIC_FESTIVAL_BG_TOURNAMENT),t(b,x.HARVEST_FESTIVAL,P.HARVEST_FESTIVAL_BG_TOURNAMENT),t(b,x.FOOD_FESTIVAL,P.FOOD_FESTIVAL_BG_TOURNAMENT),t(b,x.SNOW_FESTIVAL,P.WINTER_BG_TOURNAMENT),t(b,x.LIGHT_FESTIVAL,P.LIGHT_FESTIVAL_BG_TOURNAMENT),t(b,x.PEACE_FESTIVAL,P.PEACE_FESTIVAL_BG_TOURNAMENT),t(b,x.FLOWER_FESTIVAL,P.FLOWER_FESTIVAL_BG_TOURNAMENT),t(b,x.STREET_FESTIVAL,P.STREET_FESTIVAL_BG_TOURNAMENT),t(b,x.COLOR_GARDEN,P.COLOR_GARDEN_BG_TOURNAMENT),t(b,x.COLOR_FESTIVAL,P.COLOR_FESTIVAL_BG_TOURNAMENT),t(b,x.NATURE_SUMMER,P.NATURE_SUMMER_BG_TOURNAMENT),t(b,x.SNOW_MOUNTAIN,P.SNOW_MOUNTAIN_BG_TOURNAMENT),t(b,x.ICE_FESTIVAL,P.ICE_FESTIVAL_BG_TOURNAMENT),t(b,x.GREEN_GRASS_FESTIVAL,P.FLOWER_FIELD_BG_TOURNAMENT),t(b,x.COMMUNITY_FESTIVAL,P.NIGHT_FESTIVAL_BG_TOURNAMENT),t(b,x.WATER_FESTIVAL,P.SEA_FESTIVAL_BG_TOURNAMENT),t(b,x.ANIMAL_FESTIVAL,P.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),t(b,x.LOST_FESTIVAL,P.LOST_FESTIVAL_BG_TOURNAMENT),t(b,x.HALLOWEEN_FESTIVAL,P.HALLOWEEN_BG_TOURNAMENT),t(b,x.SNOW_MUSIC_FESTIVAL,P.MUSIC_FESTIVAL_BG_TOURNAMENT),t(b,x.CHRISTMAS,P.CHRISTMAS_BG_TOURNAMENT),t(b,x.SPRING_FLOWER_FESTIVAL,P.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),t(b,x.TET_HOLIDAY,P.TET_HOLIDAY_BG_TOURNAMENT),t(b,x.SEA_FESTIVAL,P.SEA_FESTIVAL_BG_TOURNAMENT),t(b,x.FIREWORK_FESTIVAL,P.FIREWORK_FESTIVAL_BG_TOURNAMENT),t(b,x.HALLOWEEN_HORROR,P.HALLOWEEN_BG_TOURNAMENT),t(b,x.MID_AUTUMN,P.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),t(b,x.CHRISTMAS_SWEET,P.CHRISTMAS_BG_TOURNAMENT),t(b,x.NEW_YEAR_COUNTDOWN,P.TET_HOLIDAY_BG_TOURNAMENT),t(b,x.HAPPY_NEW_YEAR,P.TET_HOLIDAY_BG_TOURNAMENT),b)),q=(t($={},x.SUMMER,P.SUMMER_BG_THUMBNAIL),t($,x.AUTUMN,P.AUTUMN_BG_THUMBNAIL),t($,x.WINTER,P.WINTER_BG_THUMBNAIL),t($,x.SPRING_FESTIVAL,P.FLOWER_FIELD_BG_THUMBNAIL),t($,x.TREE_PLANTING_FESTIVAL,P.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),t($,x.BLUE_SEA_FESTIVAL,P.SEA_FESTIVAL_BG_THUMBNAIL),t($,x.MUSIC_FESTIVAL,P.MUSIC_FESTIVAL_BG_THUMBNAIL),t($,x.HARVEST_FESTIVAL,P.HARVEST_FESTIVAL_BG_THUMBNAIL),t($,x.FOOD_FESTIVAL,P.FOOD_FESTIVAL_BG_THUMBNAIL),t($,x.SNOW_FESTIVAL,P.WINTER_BG_THUMBNAIL),t($,x.LIGHT_FESTIVAL,P.LIGHT_FESTIVAL_BG_THUMBNAIL),t($,x.PEACE_FESTIVAL,P.PEACE_FESTIVAL_BG_THUMBNAIL),t($,x.FLOWER_FESTIVAL,P.FLOWER_FESTIVAL_BG_THUMBNAIL),t($,x.STREET_FESTIVAL,P.STREET_FESTIVAL_BG_THUMBNAIL),t($,x.COLOR_GARDEN,P.COLOR_GARDEN_BG_THUMBNAIL),t($,x.COLOR_FESTIVAL,P.COLOR_FESTIVAL_BG_THUMBNAIL),t($,x.NATURE_SUMMER,P.NATURE_SUMMER_BG_THUMBNAIL),t($,x.SNOW_MOUNTAIN,P.SNOW_MOUNTAIN_BG_THUMBNAIL),t($,x.ICE_FESTIVAL,P.ICE_FESTIVAL_BG_THUMBNAIL),t($,x.GREEN_GRASS_FESTIVAL,P.FLOWER_FIELD_BG_THUMBNAIL),t($,x.COMMUNITY_FESTIVAL,P.NIGHT_FESTIVAL_BG_THUMBNAIL),t($,x.WATER_FESTIVAL,P.SEA_FESTIVAL_BG_THUMBNAIL),t($,x.ANIMAL_FESTIVAL,P.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),t($,x.LOST_FESTIVAL,P.LOST_FESTIVAL_BG_THUMBNAIL),t($,x.HALLOWEEN_FESTIVAL,P.HALLOWEEN_BG_THUMBNAIL),t($,x.SNOW_MUSIC_FESTIVAL,P.MUSIC_FESTIVAL_BG_THUMBNAIL),t($,x.CHRISTMAS,P.CHRISTMAS_BG_THUMBNAIL),t($,x.SPRING_FLOWER_FESTIVAL,P.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),t($,x.TET_HOLIDAY,P.TET_HOLIDAY_BG_THUMBNAIL),t($,x.SEA_FESTIVAL,P.SEA_FESTIVAL_BG_THUMBNAIL),t($,x.FIREWORK_FESTIVAL,P.FIREWORK_FESTIVAL_BG_THUMBNAIL),t($,x.HALLOWEEN_HORROR,P.HALLOWEEN_BG_THUMBNAIL),t($,x.MID_AUTUMN,P.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),t($,x.CHRISTMAS_SWEET,P.CHRISTMAS_BG_THUMBNAIL),t($,x.NEW_YEAR_COUNTDOWN,P.TET_HOLIDAY_BG_THUMBNAIL),t($,x.HAPPY_NEW_YEAR,P.TET_HOLIDAY_BG_THUMBNAIL),$);T._RF.pop(),T._RF.push({},"e47d3MKeBlKI5LBqF9tQ23T","ResourceUtils",void 0);var j=Ludex.Utils.Function;e("R",function(){function e(){i(this,e),this.mutex$=j.mutex(),this.bundles$={loadable:null}}var t,o,E,u,l,_,T,A,v,h,m,y,p,g,F,O,B,G,V,M,C,D;return n(e,[{key:"getBundleNameByType",value:function(e){return"loadable"}},{key:"loadBundleByType",value:(D=a((function*(t){var n=this.getBundleNameByType(t);return e.loadBundle(n)})),function(e){return D.apply(this,arguments)})},{key:"getBundleByType",value:function(e){var t,n=this.getBundleNameByType(e);return null!==(t=this.bundles$[n])&&void 0!==t?t:null}},{key:"preloadAsset",value:(C=a((function*(e,t,n){var i=this;yield this.loadBundleByType(t);var a=this.getBundleByType(t);if(a)return new Promise((function(r,s){a.preload(e,t,(function(a){if(a)return console.warn("Failed to preload asset at path: ".concat(e),a),void s(a);n?i.loadAssetAsync(e,t).finally(r):r()}))}))})),function(e,t,n){return C.apply(this,arguments)})},{key:"loadAssetAsync",value:(M=a((function*(e,t){yield this.loadBundleByType(t);var n=this.getBundleByType(t);if(!n)return null;var i=this.getAsset(e,t);return i||new Promise((function(i,a){var r=function(t,n){n?i(n):(console.warn("[ResourceUtils] Failed to load asset at path: ".concat(e),t),a(null))};t?n.load(e,t,r):n.load(e,r)}))})),function(e,t){return M.apply(this,arguments)})},{key:"loadAssetsAsync",value:(V=a((function*(e,t){yield this.loadBundleByType(t);var n=this.getBundleByType(t);if(!n)return null;for(var i=[],a=[],r=0,s=e.length;r<s;r++){var o=e[r];if(o){var E=this.getAsset(o,t);E?i.push({index:r,asset:E}):a.push({index:r,path:o})}else a.push({index:r,path:""})}return 0===a.length?Promise.resolve(i.map((function(e){return e.asset}))):new Promise((function(e){n.load(a.map((function(e){return e.path})),t,(function(t,n){if(t||n.length!==a.length)e(null);else{for(var r=0,s=n.length;r<s;r++){var o,E=n[r];if(E){var u=null===(o=a[r])||void 0===o?void 0:o.index;if(!u)return;i.splice(u,0,{index:u,asset:E})}}e(i.map((function(e){return e.asset})))}}))}))})),function(e,t){return V.apply(this,arguments)})},{key:"loadDirAsync",value:(G=a((function*(e,t){yield this.loadBundleByType(t);var n=this.getBundleByType(t);return n?new Promise((function(i){n.loadDir(e,t,(function(t,n){n?i(n):(console.warn("Failed to load assets at path: ".concat(e),t),i([]))}))})):Promise.resolve([])})),function(e,t){return G.apply(this,arguments)})},{key:"preloadDirAsync",value:(B=a((function*(e,t,n){var i=this;yield this.loadBundleByType(t);var a=this.getBundleByType(t);if(a)return new Promise((function(r,s){a.preloadDir(e,t,(function(a){if(a)return console.warn("Failed to preload assets at path: ".concat(e),a),void s(a);n?i.loadDirAsync(e,t).finally(r):r()}))}))})),function(e,t,n){return B.apply(this,arguments)})},{key:"getAsset",value:function(t,n){var i=this.getBundleByType(n);if(!i)return null;var a=e.getAssetInfo(t,n);return a?i.get(a.path,n):null}},{key:"loadFontAsync",value:function(e){var t=U[e].replace(/\.[^.]+$/,"");return this.loadAssetAsync(t,L)}},{key:"loadSpriteFramesAsync",value:(O=a((function*(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=yield this.loadAssetsAsync(e,R);if(n){var i,a=s(n);try{for(a.s();!(i=a.n()).done;){var r=i.value;r.packable=t}}catch(e){a.e(e)}finally{a.f()}}return n})),function(e){return O.apply(this,arguments)})}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"loadBundle",value:(F=a((function*(e){var t=this;if(this.inst.bundles$[e])return!0;if(N.bundles.get(e))return!0;var n=yield this.inst.mutex$.use("bundle-".concat(e));if(this.inst.bundles$[e])return n.release(),!0;var i=new Promise((function(n,i){var a=setTimeout((function(){return i("load bundle timeout (".concat(8e3,"ms): ").concat(e))}),8e3);N.loadBundle(e,(function(r,s){clearTimeout(a);var o=t.inst.bundles$[e];o||!r&&s?(t.inst.bundles$[e]=null!=o?o:s,n(!0)):i(r)}))})),a=yield j.handleAsync(i),s=r(a,2),o=(s[0],s[1]);return n.release(),!o})),function(e){return F.apply(this,arguments)})},{key:"loadAudioAsync",value:(g=a((function*(e){return this.inst.loadAssetAsync(e,f)})),function(e){return g.apply(this,arguments)})},{key:"loadJsonAsync",value:(p=a((function*(e){return this.inst.loadAssetAsync(e,c)})),function(e){return p.apply(this,arguments)})},{key:"loadPrefabAsync",value:(y=a((function*(e){return this.inst.loadAssetAsync(e,S)})),function(e){return y.apply(this,arguments)})},{key:"loadAnimClipAsync",value:(m=a((function*(e){return this.inst.loadAssetAsync(e,I)})),function(e){return m.apply(this,arguments)})},{key:"loadSkeletonDataAsync",value:(h=a((function*(e){return this.inst.loadAssetAsync(e)})),function(e){return h.apply(this,arguments)})},{key:"loadImageSpriteFrameAsync",value:(v=a((function*(e){var t=yield this.inst.loadAssetAsync(e,d);return t?R.createWithImage(t):null})),function(e){return v.apply(this,arguments)})},{key:"loadSpriteFrameAsync",value:(A=a((function*(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=yield this.inst.loadAssetAsync(e,R);return n&&(n.packable=t),n})),function(e){return A.apply(this,arguments)})},{key:"loadSpriteFramesDirAsync",value:(T=a((function*(e){return this.inst.loadDirAsync(e,R)})),function(e){return T.apply(this,arguments)})},{key:"preloadJson",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,c,t)}},{key:"preloadPrefab",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,S,t)}},{key:"preloadAnimClip",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,I,t)}},{key:"preloadImageSpriteFrame",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,d,t)}},{key:"preloadSpriteFrame",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadAsset(e,R,t)}},{key:"preloadSpriteFramesDir",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.inst.preloadDirAsync(e,R,t)}},{key:"getAssetInfo",value:function(e,t){var n=this.inst.getBundleByType(t);return n?n.getInfoWithPath(e,t):null}},{key:"getAsset",value:function(e,t){return this.inst.getAsset(e,t)}},{key:"loadFontAsync",value:function(e){return this.inst.loadFontAsync(e)}},{key:"loadSpriteFramesAsync",value:(_=a((function*(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.inst.loadSpriteFramesAsync(e,t)})),function(e){return _.apply(this,arguments)})},{key:"loadThemeAsync",value:(l=a((function*(e){return this.loadSpriteFrameAsync("".concat(Y[e],"/spriteFrame"),!1)})),function(e){return l.apply(this,arguments)})},{key:"loadThemePreviewAsync",value:(u=a((function*(e){return this.loadSpriteFrameAsync("".concat(K[e],"/spriteFrame"))})),function(e){return u.apply(this,arguments)})},{key:"loadThemeTournamentAsync",value:(E=a((function*(e){return this.loadSpriteFrameAsync("".concat(z[e],"/spriteFrame"))})),function(e){return E.apply(this,arguments)})},{key:"loadThemeThumbnailAsync",value:(o=a((function*(e){return this.loadSpriteFrameAsync("".concat(q[e],"/spriteFrame"))})),function(e){return o.apply(this,arguments)})},{key:"loadSkinPreviewAsync",value:(t=a((function*(e){for(var t=[],n=1;n<=4;n++){var i="".concat(P.TILE_SKIN_PREVIEW_FOLDER,"/").concat(e.replace(/-/g,"_"),"_").concat(n,"/spriteFrame");t.push(this.loadSpriteFrameAsync(i))}return Promise.all(t)})),function(e){return t.apply(this,arguments)})}]),e}());T._RF.pop(),T._RF.push({},"2113dSiFcdKCJK3F10MNHVP","AnimAbortSignalAdapter",void 0);var J=Ludex.Utils.Signal,Z=function(){function e(t){i(this,e),this.oldCallbacks=[],this.newCallbacks=[],this.signal=t}return n(e,[{key:"once",value:function(e){var t=this,n=function(){return e(new Error(t.signal.reason))};this.oldCallbacks.push(n),this.newCallbacks.push(e),this.signal.addAbortListener(n)}},{key:"off",value:function(e){var t=this.newCallbacks.indexOf(e);if(-1!==t){var n=this.oldCallbacks[t];this.signal.removeAbortListener(n),this.oldCallbacks.splice(t,1),this.newCallbacks.splice(t,1)}}},{key:"abort",value:function(e){var t=e instanceof Error?e.message:e;this.signal.abort(t)}},{key:"aborted",get:function(){return this.signal.aborted}},{key:"reason",get:function(){return"string"==typeof this.signal.reason?new Error(this.signal.reason):void 0}},{key:"wrap",value:function(e){if(!this.aborted)return e}},{key:"chain",value:function(e){var t=this;e instanceof J.Signal?e.once((function(){return t.abort()})):e.addEventListener("abort",(function(){return t.abort()}))}},{key:"promise",value:function(){var e=this;return this.aborted?Promise.resolve(this.reason):new Promise((function(t){e.once((function(e){return t(e)}))}))}}]),e}();T._RF.pop(),T._RF.push({},"99b8eEF6WlE8pzPfD+whiJu","AnimUtils",void 0);var Q=Ludex.Utils.Signal;function X(e){return e instanceof Q.Signal?e:new Z(e)}var ee=e("A",function(){function e(){i(this,e)}return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"elasticOut",value:function(e,t,n){var i=t||.1,a=n||.1;if(0===e)return 0;if(1===e)return 1;var r=a/4;return i<1?i=1:r=a*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin((e-r)*(2*Math.PI)/a)+1}},{key:"easeOutExpo",value:function(e){return 1===e?1:1-Math.pow(2,-10*e)}},{key:"easeInExpo",value:function(e){return 0===e?0:Math.pow(2,10*e-10)}},{key:"runTweenAsync",value:function(e,t){if(void 0===t)return new Promise((function(t){e.call((function(){return t({tween:e})})).start()}));var n=X(t);return n.aborted?Promise.resolve({tween:e}):new Promise((function(t){var i=function(){e.stop(),t({tween:e})};n.once(i),e.call((function(){n.off(i),t({tween:e})})).start()}))}},{key:"runOnUpdateAsync",value:function(e,t,n,i){return new Promise((function(a,r){var s=v(e).to(t,{},{onUpdate:function(e,t){if(void 0!==t)try{n(t)}catch(e){r(e instanceof Error?e:new Error(String(e)))}}});if(void 0!==i){var o=X(i);if(o.aborted)a({tween:s});else{var E=function(){s.stop(),a({tween:s})};o.once(E),s.call((function(){o.off(E),a({tween:s})})).start()}}else s.call((function(){return a({tween:s})})).start()}))}},{key:"waitTweenAsync",value:function(e,t){return new Promise((function(n){var i=v({}).delay(e);if(void 0!==t){var a=X(t);if(a.aborted)n();else{var r=function(){i.stop(),n()};a.once(r),i.call((function(){a.off(r),n()})).start()}}else i.call((function(){return n()})).start()}))}},{key:"runAnimationAsync",value:function(e,t,n){if(void 0===n)return new Promise((function(n){e.once(h.EventType.FINISHED,n),e.play(t)}));var i=X(n);return i.aborted?Promise.resolve():new Promise((function(n){var a=function(){e.stop(),n()};i.once(a),e.once(h.EventType.FINISHED,(function(){i.off(a),n()})),e.play(t)}))}}]),e}());T._RF.pop(),T._RF.push({},"244e9OHsmpDnpHQKeLzgiiX","GameEvents",void 0);var te=e("G",{VIEW_RESIZED:"view-resized",LAYOUT_CHANGED:"layout-changed",ORIENTATION_CHANGED:"orientation-changed",WIDGET_RESIZED:"widget-resized",GAMEPLAY_UPDATE_CONFIG:"gameplay-update-config",OPENED_SKIP_OVERLAY:"opened-skip-overlay",CLOSED_SKIP_OVERLAY:"closed-skip-overlay",RESULT_SCENE_REPLAY:"result-scene-replay",RESULT_SCENE_HOME:"result-scene-home",REQUEST_DYNAMIC_ATLAS:"request-dynamic-atlas",FINISHED_DYNAMIC_ATLAS:"finished-dynamic-atlas",ASSET_QUALITY_CHANGE:"asset-quality-change",REQUEST_UPGRADE_ASSET:"request-upgrade-asset",CLEAR_HYBRID_FILE_CACHE:"clear-hybrid-file-cache",PRELOAD_LANGUAGE:"preload-language",CHOOSE_LANGUAGE:"choose-language",LOCALIZE_APPLIED:"localize-applied"});T._RF.pop(),T._RF.push({},"05faedSJ2NHFqLe9b3g4RIl","CocosUtils",void 0);var ne=Ludex.Utils.Device,ie=e("C",function(){function e(){i(this,e)}return n(e,[{key:"getWindowSizeVsWorldGameRatio",value:function(){var t=y.getVisibleSize();return p.windowSize.width/e.getMaxPixelRatio()/t.width}},{key:"getBoundingBoxTo",value:function(e,t){var n=g.mat4();g.Mat4.fromSRT(n,t.getRotation(),t.getPosition(),t.getScale());var i=t.getComponent(m);if(!i)throw new Error("Node must have UITransform component");var a=i.anchorPoint,r=i.contentSize,o=r.width,E=r.height,u=new g.Rect(-a.x*o,-a.y*E,o,E),l=g.mat4();if(g.Mat4.multiply(l,e,n),u.transformMat4(l),!t.children||0===t.children.length)return u;var _,T=t.children,A=t.getWorldMatrix(),c=s(T);try{for(c.s();!(_=c.n()).done;){var S=_.value;if(null!=S&&S.active)if(S.getComponent(m)){var I=this.getBoundingBoxTo(A,S);I&&g.Rect.union(u,u,I)}}}catch(e){c.e(e)}finally{c.f()}return u}}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"getBoundingBoxToWorld",value:function(e){if(e.parent){var t=e.parent.getWorldMatrix();return this.inst.getBoundingBoxTo(t,e)}var n=e.getComponent(m);if(!n)throw new Error("Node must have UITransform component");return n.getBoundingBox()}},{key:"getMaxPixelRatio",value:function(){return Math.min(ne.pixelRatio(),3)}},{key:"worldSizeToCssSize",value:function(e){var t=this.getMaxPixelRatio();return Math.round(e*t)}},{key:"cssSizeToWorldSize",value:function(e){return e/this.inst.getWindowSizeVsWorldGameRatio()}},{key:"getScreenWidthCss",value:function(){var e=document,t=e.body,n=e.documentElement,i=t.clientWidth,a=n.clientWidth;return Math.max(a,i)||0}},{key:"getScreenHeightCss",value:function(){var e=document,t=e.body,n=e.documentElement,i=t.clientHeight,a=n.clientHeight;return Math.max(a,i)||0}}]),e}());T._RF.pop(),T._RF.push({},"5c76fxO2ppOqYp4WNO+Kavm","GameWorld",void 0);var ae=e("a",{Layout:{Portrait:"portrait",Landscape:"landscape"},DesignSize:{Portrait:{WIDTH:750,HEIGHT:1583},Landscape:{WIDTH:2732,HEIGHT:1536},Resolution:2},AcceptPortraitRatio:690/829,PRIMARY_LAYOUT:"auto",FULL_CANVAS_TO_SCREEN:!0,FULL_PORTRAIT_SIZE:!0,FULL_LANDSCAPE_SIZE:!0});T._RF.pop(),T._RF.push({},"31871PLRYRJu7yCCX5F6lWK","AudioUtils",void 0);var re,se,oe=Ludex.Utils.Signal,Ee=e("b",function(){function e(){i(this,e),this.signalController$=new oe.SignalController}var t,r,s,o,E;return n(e,[{key:"sound",get:function(){var e;return null===(e=F("Sound"))||void 0===e?void 0:e.getComponent("Sound")}},{key:"music",get:function(){var e;return null===(e=F("Music"))||void 0===e?void 0:e.getComponent("Music")}}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"muteAudio",value:function(e){this.muteMusic(e),this.muteSound(e)}},{key:"playSound",value:(E=a((function*(e,t){var n;return yield null===(n=this.inst.sound)||void 0===n?void 0:n.play(e,t)})),function(e,t){return E.apply(this,arguments)})},{key:"pauseSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.pause(e)}},{key:"resumeSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.resume(e)}},{key:"stopSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.stop(e)}},{key:"stopAllSounds",value:function(){var e;null===(e=this.inst.sound)||void 0===e||e.stopAll()}},{key:"muteSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.mute(e)}},{key:"playMusic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.inst.music&&(this.inst.currentMusic$!==e&&this.pauseMusic(),this.inst.currentMusic$=e,!t&&this.inst.music.playing(e)||(t&&this.inst.music.stop(e),this.inst.music.play(e)))}},{key:"pauseMusic",value:function(){var e;null===(e=this.inst.music)||void 0===e||e.pause(this.inst.currentMusic$)}},{key:"muteMusic",value:function(e){var t;null===(t=this.inst.music)||void 0===t||t.mute(e)}},{key:"getCurrentMusic",value:function(){return this.inst.currentMusic$}},{key:"turnUpMusic",value:(o=a((function*(){var e,t;(null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0)>.6||(yield this.setVolumeMusic(.6,!0))})),function(){return o.apply(this,arguments)})},{key:"turnDownMusic",value:(s=a((function*(){var e,t;(null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0)<.2||(yield this.setVolumeMusic(.2,!0))})),function(){return s.apply(this,arguments)})},{key:"turnOffMusic",value:(r=a((function*(){yield this.setVolumeMusic(0)})),function(){return r.apply(this,arguments)})},{key:"getVolumeMusic",value:function(){var e,t;return null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0}},{key:"setVolumeMusic",value:(t=a((function*(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.inst.music){var i=this.inst.signalController$.renew();if(n){var a=this.inst.music.getVolume(),r=a;yield ee.runOnUpdateAsync(this.inst.music.node,1,(function(n){t.inst.music&&(r=a+(e-a)*n,t.inst.music.setVolume(r))}),i)}else{var s;null===(s=this.inst.music)||void 0===s||s.setVolume(e)}}})),function(e){return t.apply(this,arguments)})}]),e}());T._RF.pop(),T._RF.push({},"0eeb868JeVE67iFwhbkRCmE","ScreenKeys",void 0);var ue=e("k",function(e){return e[e.RESCUES_SCREEN=0]="RESCUES_SCREEN",e[e.LOADING_SCREEN=1]="LOADING_SCREEN",e[e.GET_ITEM_SCREEN=2]="GET_ITEM_SCREEN",e[e.GET_COIN_SCREEN=3]="GET_COIN_SCREEN",e[e.SETTINGS_SCREEN=4]="SETTINGS_SCREEN",e[e.START_LEVEL_SCREEN=5]="START_LEVEL_SCREEN",e[e.NOTIFICATION_SCREEN=6]="NOTIFICATION_SCREEN",e[e.LEVEL_COMPLETE_SCREEN=7]="LEVEL_COMPLETE_SCREEN",e[e.CONGRATULATION_SCREEN=8]="CONGRATULATION_SCREEN",e[e.QUIT_LEVEL_SCREEN=9]="QUIT_LEVEL_SCREEN",e[e.TOURNAMENT_DETAIL_SCREEN=10]="TOURNAMENT_DETAIL_SCREEN",e[e.DAILY_REWARDS_SCREEN=11]="DAILY_REWARDS_SCREEN",e[e.STAR_CHEST_SCREEN=12]="STAR_CHEST_SCREEN",e[e.START_OVER_SCREEN=13]="START_OVER_SCREEN",e[e.PAUSE_SCREEN=14]="PAUSE_SCREEN",e[e.HARD_LEVEL_SCREEN=15]="HARD_LEVEL_SCREEN",e[e.GET_REWARDS_SCREEN=16]="GET_REWARDS_SCREEN",e[e.CUSTOM_GAME_SCREEN=17]="CUSTOM_GAME_SCREEN",e}(ue||{})),le=e("p",(t(re={},ue.RESCUES_SCREEN,"RescuesScreen"),t(re,ue.LOADING_SCREEN,"LoadingScreen"),t(re,ue.GET_ITEM_SCREEN,"GetItemScreen"),t(re,ue.GET_COIN_SCREEN,"GetCoinScreen"),t(re,ue.SETTINGS_SCREEN,"SettingsScreen"),t(re,ue.START_LEVEL_SCREEN,"StartLevelScreen"),t(re,ue.NOTIFICATION_SCREEN,"NotificationScreen"),t(re,ue.LEVEL_COMPLETE_SCREEN,"LevelCompleteScreen"),t(re,ue.CONGRATULATION_SCREEN,"CongratulationScreen"),t(re,ue.QUIT_LEVEL_SCREEN,"QuitLevelScreen"),t(re,ue.TOURNAMENT_DETAIL_SCREEN,"TournamentDetailScreen"),t(re,ue.DAILY_REWARDS_SCREEN,"DailyRewardsScreen"),t(re,ue.STAR_CHEST_SCREEN,"StarChestScreen"),t(re,ue.START_OVER_SCREEN,"StartOverScreen"),t(re,ue.PAUSE_SCREEN,"PauseScreen"),t(re,ue.HARD_LEVEL_SCREEN,"HardLevelScreen"),t(re,ue.GET_REWARDS_SCREEN,"GetRewardsScreen"),t(re,ue.CUSTOM_GAME_SCREEN,"CustomGameScreen"),re)),_e=(t(se={},le[ue.RESCUES_SCREEN],ue.RESCUES_SCREEN),t(se,le[ue.LOADING_SCREEN],ue.LOADING_SCREEN),t(se,le[ue.GET_ITEM_SCREEN],ue.GET_ITEM_SCREEN),t(se,le[ue.GET_COIN_SCREEN],ue.GET_COIN_SCREEN),t(se,le[ue.SETTINGS_SCREEN],ue.SETTINGS_SCREEN),t(se,le[ue.START_LEVEL_SCREEN],ue.START_LEVEL_SCREEN),t(se,le[ue.NOTIFICATION_SCREEN],ue.NOTIFICATION_SCREEN),t(se,le[ue.LEVEL_COMPLETE_SCREEN],ue.LEVEL_COMPLETE_SCREEN),t(se,le[ue.CONGRATULATION_SCREEN],ue.CONGRATULATION_SCREEN),t(se,le[ue.QUIT_LEVEL_SCREEN],ue.QUIT_LEVEL_SCREEN),t(se,le[ue.TOURNAMENT_DETAIL_SCREEN],ue.TOURNAMENT_DETAIL_SCREEN),t(se,le[ue.DAILY_REWARDS_SCREEN],ue.DAILY_REWARDS_SCREEN),t(se,le[ue.STAR_CHEST_SCREEN],ue.STAR_CHEST_SCREEN),t(se,le[ue.START_OVER_SCREEN],ue.START_OVER_SCREEN),t(se,le[ue.PAUSE_SCREEN],ue.PAUSE_SCREEN),t(se,le[ue.HARD_LEVEL_SCREEN],ue.HARD_LEVEL_SCREEN),t(se,le[ue.GET_REWARDS_SCREEN],ue.GET_REWARDS_SCREEN),t(se,le[ue.CUSTOM_GAME_SCREEN],ue.CUSTOM_GAME_SCREEN),[le[ue.NOTIFICATION_SCREEN],le[ue.LOADING_SCREEN]]);T._RF.pop(),T._RF.push({},"09bc071ZcpI978b1NdKUaqD","AnalyticsUtils",void 0);var Te,Ae=Ludex,ce=Ae.Utils.Array,Se=Ae.Configs.Analytics,Ie=codex.analytics;e("c",function(){function e(){i(this,e)}return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"trackCurrentPage",value:function(e,t){if(Se.Enabled&&!ce.has(_e,e)&&(t||ce.has(this.trackingPages$,e))){this.trackingPages$=this.trackingPages$.filter((function(t){return t!==e})),t&&this.trackingPages$.push(e);var n=this.getCurrentPage();Ie.pageview(n)}}},{key:"switchSceneTracking",value:function(){if(Se.Enabled){this.trackingPages$=[];var e=this.getCurrentPage();Ie.pageview(e)}}},{key:"getCurrentPage",value:function(){var e,t;return this.trackingPages$.length>0?this.trackingPages$[this.trackingPages$.length-1]||"Unknown Page":null!==(e=null===(t=O.getScene())||void 0===t?void 0:t.name)&&void 0!==e?e:"Unknown Scene"}},{key:"trackDeviceInfo",value:function(e){Se.Enabled&&Ie.event("device_info",e)}}]),e}()).trackingPages$=[],T._RF.pop(),T._RF.push({},"ed5c6D+6KVEj5lrgtq+D9bJ","LayoutUtils",void 0);var de=ae.Layout,Re=e("L",function(){function e(){i(this,e),this.currentLayout$=de.Portrait,B.off(te.LAYOUT_CHANGED,e.onLayoutChanged$),B.on(te.LAYOUT_CHANGED,e.onLayoutChanged$)}return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"getCurrentLayout",value:function(){return this.inst.currentLayout$}},{key:"isPortrait",value:function(){return this.inst.currentLayout$===de.Portrait}},{key:"isLandscape",value:function(){return this.inst.currentLayout$===de.Landscape}},{key:"getScreenRatio",value:function(){return ie.getScreenWidthCss()/ie.getScreenHeightCss()}}]),e}());Te=Re,Re.onLayoutChanged$=function(e){Te.inst.currentLayout$!==e&&(Te.inst.currentLayout$=e,B.emit(te.ORIENTATION_CHANGED,e))};try{new Re}catch(e){console.error("LayoutUtils",e)}T._RF.pop(),T._RF.push({},"358fdIqjFdNzZGa95REWt2F","Ads",void 0);var Le=e("o",{MAX_BOTTOM_BANNER_RATIO:1/6,NUM_LEVEL_WITHOUT_BANNER_ADS:0});T._RF.pop(),T._RF.push({},"542caJcCPRMI5EaOkgOzhek","ItemKeys",void 0);var Ne=e("I",{HINT:"hint",THUNDER:"thunder",STORM:"storm",PLIERS:"pliers"});T._RF.pop(),T._RF.push({},"7decaASyaFOAp2izq8DsREg","TotalLevel",void 0);var fe,ve=e("T",1e3);T._RF.pop(),T._RF.push({},"f8533KH/fxOfYqya9sgLrSj","GameData",void 0);var he,me=e("u",{level:0,coins:0,stars:0,totalLevel:ve,levelVersion:0,lastRewardedItems:0,lastCreateTournamentShown:0,guideItemShowed:[],items:(fe={},t(fe,Ne.HINT,0),t(fe,Ne.THUNDER,0),t(fe,Ne.STORM,0),t(fe,Ne.PLIERS,0),fe),custom:{time:4,difficulty:1,bombs:0,ads:!1},tournamentProgress:{}});T._RF.pop(),T._RF.push({},"3b9bcPJBxpNOqG2I6exTOVn","MatchCustomData",void 0);var ye=Ludex.Dtos.Match,pe=(void 0===ye?{}:ye).CustomData,ge=null!==(he=null==pe?void 0:pe.getDefaults())&&void 0!==he?he:{};e("M",o(o({},ge),{},{score:0,challengeData:null}));T._RF.pop(),T._RF.push({},"074c4KXFZ1Pq6d+66PrLd2+","PlayerData",void 0);e("P",{score:0,settings:{sound:!0,music:!0,vibrate:!0,language:"en"},gameData:me,isFirstLogin:!0,dailyRewardedData:{logDays:[],firstReward:0,lastReward:0},lastCallSwitchGame:0,notificationData:{},missionsData:{process:{}}});T._RF.pop(),T._RF.push({},"32598ObpVZK/pecmWIdcs+7","SceneKeys",void 0);var Fe=e("r",{BOOT_SCENE:"BootScene",GAME_SCENE:"GameScene",PLAYABLE_SCENE:"PlayableScene",DASHBOARD_SCENE:"DashboardScene",CHALLENGE_RESULT_SCENE:"ChallengeResultScene"});T._RF.pop(),T._RF.push({},"a0dcdDZxhZImZ8Cfg4Dc7SJ","ScreenUtils",void 0);var Oe=codex.event,Be=Ludex,Ge=Be.Events,Ve=Be.Utils.Array,Me=e("S",function(){function e(){i(this,e),this.showedScreens$=[]}var t,r,s;return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"preloadScreen",value:function(e){var t=le[e];t&&Oe.emit(Ge.PRELOAD_SCREEN,{screenName:t})}},{key:"preloadScreens",value:function(){Oe.emit(Ge.PRELOAD_SCREENS)}},{key:"openScreen",value:function(e,t){var n=le[e];return Oe.emit(Ge.OPEN_SCREEN,{screenName:n,screenData:t}),new Promise((function(e){Oe.on(Ge.OPENED_SCREEN,(function t(i){i.screenName===n&&(Oe.off(Ge.OPENED_SCREEN,t),e())}))}))}},{key:"closeScreen",value:function(e){var t=le[e];return Oe.emit(Ge.CLOSE_SCREEN,{screenName:t}),new Promise((function(e){Oe.on(Ge.CLOSED_SCREEN,(function n(i){i.screenName===t&&(Oe.off(Ge.CLOSED_SCREEN,n),e())}))}))}},{key:"openScreenAndWaitForClose",value:(s=a((function*(e,t){return yield this.openScreen(e,t),yield new Promise((function(t){Oe.on(Ge.CLOSE_SCREEN,(function n(i){i.screenName===le[e]&&(Oe.off(Ge.CLOSE_SCREEN,n),t(i))}))}))})),function(e,t){return s.apply(this,arguments)})},{key:"showLoadingScreen",value:function(e){return this.openScreen(ue.LOADING_SCREEN,{duration:e})}},{key:"closeLoadingScreen",value:function(){return this.closeScreen(ue.LOADING_SCREEN)}},{key:"showNotificationScreen",value:function(e,t){return this.openScreen(ue.NOTIFICATION_SCREEN,{message:e,duration:t})}},{key:"showNotificationScreenWithLocalizedKey",value:function(e,t){return this.openScreen(ue.NOTIFICATION_SCREEN,{localizedMessageKey:e,duration:t})}},{key:"closeNotificationScreen",value:function(){return this.closeScreen(ue.NOTIFICATION_SCREEN)}},{key:"addShowedScene",value:function(e){Ve.has(this.inst.showedScreens$,e)||this.inst.showedScreens$.push(e)}},{key:"showLoadingFullScreen",value:(r=a((function*(e){if(!Ve.has(this.inst.showedScreens$,e)){this.addShowedScene(e);var t=F("Loading");if(t){var n=t.getComponent("Loading");yield n.show(e)}}})),function(e){return r.apply(this,arguments)})},{key:"hideLoadingFullScreen",value:(t=a((function*(e){var t;if(!Ve.has(this.inst.showedScreens$,e)){var n=null===(t=F("Loading"))||void 0===t?void 0:t.getComponent("Loading");yield null==n?void 0:n.hide(e)}})),function(e){return t.apply(this,arguments)})},{key:"showLoadingNotificationScreen",value:function(){return this.openScreen(ue.NOTIFICATION_SCREEN,{message:"Loading",enableCloseOnTouch:!1})}},{key:"showTournamentDetailScreen",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.openScreen(ue.TOURNAMENT_DETAIL_SCREEN,{playAnimation:n,tournament:e,tournamentContextType:t})}},{key:"closeTournamentDetailScreen",value:function(){return this.closeScreen(ue.TOURNAMENT_DETAIL_SCREEN)}}]),e}());T._RF.pop(),T._RF.push({},"4a4bfX6KIJCcIozlNHuAwoi","AdsUtils",void 0);var Ce=Ludex,Ue=Ce.Events,De=Ce.Configs,Pe=De.Ads.Enabled,We=De.Gameplay.StartAdAtLevel,we=Ce.Plugins.Ads,He=void 0===we?{}:we,ke=He.Types,be=He.Status,$e=Ce.Utils,xe=$e.Array,Ye=$e.Function,Ke=codex,ze=Ke.ads,qe=Ke.event,je=function(e){E(a,e);var t=u(a);function a(e){return i(this,a),t.call(this,"AdsUtils.loadAdAsync: Timed out after ".concat(e,"ms"))}return n(a)}(l(Error));e("m",function(){function e(){i(this,e),this.isAvoidBannerShowed$=!1,this.visibleBannerConfigs$=[],this.invisibleBannerConfigs$=[]}var t,r,E,u,l;return n(e,[{key:"updateBannerAdsConfigByLayout",value:function(e){var t=this;if(ke){var n=y.getVisibleSize(),i=ie.worldSizeToCssSize(n.height*Le.MAX_BOTTOM_BANNER_RATIO),a=e===ae.Layout.Landscape,r=ze.getAdsByType(ke.BANNER).map((function(e){return e.config})).filter((function(e){var t=e.Position,n=e.BannerHeight;return!("bottom"===t&&n>i)}));this.visibleBannerConfigs$=r.filter((function(e){var t=e.Position;return a||"bottom"===t||"top"===t})),this.invisibleBannerConfigs$=r.filter((function(e){return!t.visibleBannerConfigs$.includes(e)}))}}},{key:"refreshBannerAdVisibility",value:function(){if(this.isAvoidBannerShowed$)e.hideBannerAds();else if(ke&&be){var t,n=s(this.invisibleBannerConfigs$);try{for(n.s();!(t=n.n()).done;){var i=t.value.PlacementId;ze.getAdStatus(ke.BANNER,i)===be.SHOWING&&e.hideBannerAd(i)}}catch(e){n.e(e)}finally{n.f()}var a,r=s(this.visibleBannerConfigs$);try{for(r.s();!(a=r.n()).done;){var o=a.value.PlacementId,E=ze.getAdStatus(ke.BANNER,o);!1!==E&&E!==be.SHOWING&&e.showBannerAd(o)}}catch(e){r.e(e)}finally{r.f()}}}},{key:"getAdReady",value:function(e,t){var n;if(!Pe||!be)return null;if(t)return ze.getAdStatus(e,t)===be.FILLED?t:null;var i=ze.getAdsByType(e).find((function(t){return ze.getAdStatus(e,t.placementId)===be.FILLED}));return null!==(n=null==i?void 0:i.placementId)&&void 0!==n?n:null}},{key:"getPlacementIdByService",value:function(e,t){var n;if(!t)return!1;if(!ke)return!1;var i=ze.getAdsByType(e),a=xe.search(i,(function(e){return e.config.AdService===t}));return null!==(n=null==a?void 0:a.placementId)&&void 0!==n&&n}},{key:"getAdIdByPayload",value:function(e,t){var n=t||{},i=n.adService,a=n.placementId;return this.getPlacementIdByService(e,i)||a}},{key:"getAdErrorMessage",value:function(e,t){if(!ke)return null;switch(e){case ke.REWARDED_VIDEO:case ke.REWARDED_INTERSTITIAL:return this.isUserCancelledAdError(t)?"ads.cancelled":"error.noAd";default:return null}}},{key:"showAdByType",value:(l=a((function*(t,n){if(!ke||!be)return!1;var i=n||{},a=i.placementId,r=i.includeSDK,s=i.excludeSDK,o=i.forceLoad,E=i.autoLoad,u=i.adService,l=i.timeout,_=void 0===l?15e3:l,T=i.showError;if(!this.canShowInSDK(r,s))return!1;var A=this.getAdIdByPayload(t,n),c=!1,S=!1;try{Ee.muteAudio(!0);var I=ze.getAdStatus(t,a);for((o||E&&I!==be.FILLED)&&(Me.showLoadingScreen(),yield Ye.timeOut(ze.loadAdAsync(t,A),_));!c;)try{var d=this.getAdReady(t,A);if(!d)return!1;A=d,yield ze.showAdAsync(t,A),c=!0}catch(e){if(u)throw e;if(this.isUserCancelledAdError(e))throw e;if(this.isRequestAdTimeoutError(e))throw e;A=void 0,c=!1,S=!0}return!0}catch(e){S=!0;var R=this.getAdErrorMessage(t,e);return R&&T&&Me.showNotificationScreenWithLocalizedKey(R,2),!1}finally{Ee.muteAudio(!1),(o||E)&&Me.closeLoadingScreen(),S&&(A=a),e.preloadAdsByType(t,A),qe.emit(Ue.REQUEST_RESIZE_GAME)}})),function(e,t){return l.apply(this,arguments)})},{key:"canShowInSDK",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=GameSDK.getSDKName();return(null==t||!t.length||!xe.has(t,n))&&!(null!=e&&e.length&&!xe.has(e,n))}},{key:"isUserCancelledAdError",value:function(e){return e instanceof Object&&"code"in e&&"USER_INPUT"===e.code}},{key:"isRequestAdTimeoutError",value:function(e){return e instanceof je||e instanceof Object&&"code"in e&&"SHOW_ADS_TIMEOUT"===e.code}}],[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"preloadAds",value:(u=a((function*(){ke&&(this.preloadAdsByType(ke.INTERSTITIAL),this.preloadAdsByType(ke.REWARDED_VIDEO),this.preloadAdsByType(ke.REWARDED_INTERSTITIAL))})),function(){return u.apply(this,arguments)})},{key:"isServiceDegraded",value:function(){return ze.isServiceDegraded()}},{key:"preloadAdsByType",value:function(e,t){if(Pe&&be){var n=ze.getAdsByType(e);(t?n.filter((function(e){return e.placementId===t})):n).forEach((function(t){ze.getAdStatus(e,t.placementId)!==be.FILLED&&ze.loadAdAsync(e,t.placementId).catch((function(){}))}))}}},{key:"setAvoidBannerShowed",value:function(e){this.inst.isAvoidBannerShowed$=e}},{key:"updateBannerAdsByLayout",value:function(e){this.inst.updateBannerAdsConfigByLayout(e)}},{key:"refreshBannerAdVisibility",value:function(){this.inst.refreshBannerAdVisibility()}},{key:"hideBannerAds",value:function(){if(Pe&&ke&&be){var e,t=ze.getAdsByType(ke.BANNER),n=s(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;ze.getAdStatus(ke.BANNER,i.placementId)!==be.IDLE&&this.hideBannerAd(i.placementId)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"showBannerAd",value:function(e){Pe&&(this.inst.isAvoidBannerShowed$||ze.showBannerAdAsync(e).catch((function(){})))}},{key:"hideBannerAd",value:function(e){Pe&&ze.hideBannerAdAsync(e).catch((function(){}))}},{key:"isReadyAdShowable",value:function(e,t){var n=this.inst.getAdReady(e,t);return!!n&&ze.canShowAd(e,n)}},{key:"showInterstitialAdAsync",value:(E=a((function*(e){if(!ke)return!1;var t,n,i=null!=e?e:{},a=i.forLevel,r=i.contextType,s=i.forceLoad;if(a&&We>=a)return!1;r&&(null===(t=window.GoogleAds)||void 0===t||t.setInterstitialType(r),null===(n=window.TranssionH5Ads)||void 0===n||n.setInterstitialType(r));var E=GameSDK.isGameSDK("MsGames");return this.inst.showAdByType(ke.INTERSTITIAL,o(o({},e),{},{forceLoad:s||E}))})),function(e){return E.apply(this,arguments)})},{key:"showRewardVideoAdAsync",value:(r=a((function*(e){if(!ke)return!1;var t,n,i=(null!=e?e:{}).contextType;return i&&(null===(t=window.GoogleAds)||void 0===t||t.setRewardType(i),null===(n=window.TranssionH5Ads)||void 0===n||n.setRewardType(i)),this.inst.showAdByType(ke.REWARDED_VIDEO,o(o({showError:!0},e),{},{autoLoad:!0}))})),function(e){return r.apply(this,arguments)})},{key:"showRewardedInterstitialAdAsync",value:(t=a((function*(e){if(!ke)return!1;var t,n,i=(null!=e?e:{}).contextType;return i&&(null===(t=window.GoogleAds)||void 0===t||t.setRewardType(i),null===(n=window.TranssionH5Ads)||void 0===n||n.setRewardType(i)),this.inst.showAdByType(ke.REWARDED_INTERSTITIAL,o(o({showError:!0},e),{},{autoLoad:!0}))})),function(e){return t.apply(this,arguments)})},{key:"isBannerAdShowing",value:function(){if(!ke||!be)return!1;var e,t=ze.getAdsByType(ke.BANNER),n=s(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(ze.getAdStatus(ke.BANNER,i.placementId)===be.SHOWING)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}}]),e}());T._RF.pop(),T._RF.push({},"669a1OtNF9EDrMRLWTjxk4B","GeneralUtils",void 0);e("j",function(){function e(){i(this,e)}return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"setBlockInput",value:function(e){var t=F("Canvas/InputBlocker");t&&(t.active=e)}},{key:"getBlockInput",value:function(){var e=F("Canvas/InputBlocker");return!!e&&e.active}}]),e}());T._RF.pop(),T._RF.push({},"58f4330KXRL77xyoA3903MY","WasmUtils",void 0);var Je=Ludex.Utils.Function,Ze=e("W",function(){function e(){i(this,e),this.mutex$=Je.mutex()}var t;return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"loadModuleAsync",value:(t=a((function*(e){var t=yield this.inst.mutex$.use("module-wasm-".concat(e));try{switch(e){case"spine":if("function"!=typeof C)return;yield C();break;case"box2d":if("function"!=typeof M)return;yield M();break;case"physx":if("function"!=typeof V)return;yield V();break;case"bullet":if("function"!=typeof G)return;yield G()}}finally{t.release()}})),function(e){return t.apply(this,arguments)})}]),e}());T._RF.pop(),T._RF.push({},"97ca9J9nzNCeIjC1l+ZT/Hm","SceneUtils",void 0);var Qe=codex.event,Xe=Ludex.Events;e("n",function(){function e(){i(this,e),this.loadedScenes$={}}var t,r;return n(e,null,[{key:"inst",get:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"switchScene",value:function(e,t){Qe.emit(Xe.SWITCH_SCENE,{sceneName:e,sceneData:t})}},{key:"preloadScene",value:function(e){Qe.emit(Xe.PRELOAD_SCENE,{sceneName:e})}},{key:"isSceneLoaded",value:function(e){var t;return null!==(t=this.inst.loadedScenes$[e])&&void 0!==t&&t}},{key:"markIsSceneLoaded",value:function(e){this.inst.loadedScenes$[e]=!0}},{key:"markIsTestScene",value:function(e){Qe.emit(Xe.MARK_IS_TEST_SCENE,{sceneName:e})}},{key:"preloadDashboardScene",value:function(){this.preloadScene(Fe.DASHBOARD_SCENE)}},{key:"switchToDashboardScene",value:function(e){this.switchScene(Fe.DASHBOARD_SCENE,e)}},{key:"preloadGameScene",value:(r=a((function*(){yield Ze.loadModuleAsync("spine"),this.preloadScene(Fe.GAME_SCENE)})),function(){return r.apply(this,arguments)})},{key:"switchToGameScene",value:(t=a((function*(e){yield Ze.loadModuleAsync("spine"),this.switchScene(Fe.GAME_SCENE,e)})),function(e){return t.apply(this,arguments)})},{key:"getSceneData",value:function(e){return"data"in e.scene&&e.scene.data||{}}}]),e}());T._RF.pop(),T._RF.push({},"c517dy1TKlPd7mHxulLPv1G","TileSpecialTypes",void 0);e("i",{bomb:"bomb",star:"star",none:"none"});T._RF.pop(),T._RF.push({},"d6fb7/+FFxLs7k5w6K38JYb","TournamentUtils",void 0);var et=Ludex,tt=et.Utils,nt=tt.String,it=tt.Valid,at=tt.Array,rt=et.Configs.Mockup.Leaderboards,st=codex.language,ot=codex,Et=ot.leaderboard,ut=ot.player;e("l",function(){function e(){var t=this;i(this,e),this.globalTournamentLBData$=[],this.playerTournaments$=[],this.tournamentData$=[],this.maxTimeRefetch$=5e3,this.lastFetchTournamentsData$=0,this.lastFetchGlobalTournament$=0,this.fetchGlobalTournamentLeaderboardAsync$=a((function*(){try{Date.now()-t.lastFetchGlobalTournament$>t.maxTimeRefetch$&&(t.globalTournamentLBData$=yield Et.requestLeaderboardsAsync({limit:100,type:"world_tournament_leaderboard"}),t.globalTournamentLBData$.sort((function(e,t){return e.expireTime-t.expireTime})))}catch(e){console.warn("fetchGlobalTournamentLeaderboardAsync",e)}return t.globalTournamentLBData$})),this.fetchTournamentsAsync$=a((function*(){try{Date.now()-t.lastFetchTournamentsData$>t.maxTimeRefetch$&&(t.playerTournaments$=yield GameSDK.tournament.getTournamentsAsync(),t.playerTournaments$.sort((function(e,t){return e.getEndTime()-t.getEndTime()})))}catch(e){console.warn("fetchTournamentsAsync",e)}return t.playerTournaments$}))}var r;return n(e,[{key:"processPlayerTournamentData",value:function(){var e,t=[],n=s(this.playerTournaments$);try{for(n.s();!(e=n.n()).done;){var i,a,r=e.value,o="".concat(r.getID()),E=r.getContextID(),u=r.getEndTime(),l=this.parseTournamentPayload(r.getPayload());if(this.validateGameSDKTournamentPayload(l))if(!(u<Date.now()/1e3)){var _=r.getTournamentType();if("PAGE_HOSTED"!==_){var T=null!==(i=l.playerName)&&void 0!==i?i:"Player",A={id:o,title:null!==(a=r.getTitle())&&void 0!==a?a:this.createDefaultTournamentName(T),endTime:u,contextId:E,payload:l,tournamentType:_};t.push(A)}}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"processGlobalTournamentLeaderboardData",value:function(){var e=[];if(rt.Enabled){var t,n=s(this.playerTournaments$);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,r=a.getTournamentType();if("PAGE_HOSTED"===r){var o="".concat(a.getID()),E=a.getContextID(),u=a.getEndTime(),l=this.parseTournamentPayload(a.getPayload()),_={id:o,title:null!==(i=a.getTitle())&&void 0!==i?i:"Global Tournament",endTime:u,contextId:E,payload:l,tournamentType:r};e.push(_)}}}catch(e){n.e(e)}finally{n.f()}return e}var T,A=s(this.globalTournamentLBData$);try{for(A.s();!(T=A.n()).done;){var c,S,I,d=T.value,R=void 0;try{R=JSON.parse(d.description)}catch(e){continue}if(this.validateExpireTime(d)&&this.validateGlobalTournamentPayload(R)){var L="isNEZP"in GameSDK.extra&&GameSDK.extra.isNEZP(),N="isRestricted"in GameSDK.extra&&GameSDK.extra.isRestricted();if(L||N){if(!R.restrict)continue}else if(R.restrict)continue;var f=null!==(c=null===(S=R.i18n)||void 0===S||null===(S=S[st.getCurrentLocale()])||void 0===S?void 0:S.title)&&void 0!==c?c:d.name,v={id:R.tournamentId,title:f,endTime:this.getTournamentEndTime(d),contextId:R.contextId,payload:{playerId:"global",playerName:"global",leaderboardId:d._id,themeId:null!==(I=R.themeId)&&void 0!==I?I:x.SUMMER},tournamentType:"PAGE_HOSTED"};e.push(v)}}}catch(e){A.e(e)}finally{A.f()}return e}},{key:"validateGlobalTournamentPayload",value:function(e){var t=e.tournamentId,n=e.contextId;return!(!it.isString(t)||""===t)&&!(!it.isString(n)||""===n)}},{key:"getTournamentEndTime",value:function(e){var t=new Date(e.createdAt).getTime();return Math.round((1e3*e.expireTime+t)/1e3)}},{key:"validateExpireTime",value:function(e){return 1e3*this.getTournamentEndTime(e)-Date.now()>0}},{key:"validateGameSDKTournamentPayload",value:function(e){return!(!it.isString(e.playerId)||""===e.playerId)&&(!(!it.isString(e.playerName)||""===e.playerName)&&!(!it.isString(e.leaderboardId)||""===e.leaderboardId))}},{key:"createDefaultTournamentName",value:function(e){var t=e.substring(0,7),n="".concat(t.split(" ")[0]||t,"'s Tournament"),i=nt.removeDiacritics(n);return"".concat(i)}},{key:"parseTournamentPayload",value:function(e){if("string"!=typeof e)return{};try{return JSON.parse(e)}catch(e){return{}}}}],[{key:"getInstance",value:function(){return this.inst$||(this.inst$=new e),this.inst$}},{key:"requestTournamentDataAsync",value:(r=a((function*(){var t=e.getInstance();yield Promise.all([t.fetchTournamentsAsync$(),t.fetchGlobalTournamentLeaderboardAsync$()]);var n=t.processPlayerTournamentData(),i=t.processGlobalTournamentLeaderboardData();n.sort((function(e,t){return e.endTime-t.endTime})),i.sort((function(e,t){return e.endTime-t.endTime})),t.tournamentData$=[].concat(_(i),_(n));var a,r=s(t.tournamentData$);try{for(r.s();!(a=r.n()).done;){var o=a.value.payload.leaderboardId;o&&(Et.isExistLeaderboardId(o)||Et.addLeaderboard({type:"tournament",name:o,autoSortRank:!0,leaderboardId:o}))}}catch(e){r.e(e)}finally{r.f()}return t.tournamentData$})),function(){return r.apply(this,arguments)})},{key:"getAllTournamentData",value:function(){return e.getInstance().tournamentData$}},{key:"getTournamentDataById",value:function(t){var n=e.getInstance();return at.search(n.tournamentData$,(function(e){return e.id===t}))}},{key:"getPlayerTournamentData",value:function(){var t=e.getInstance(),n=ut.getPlayerId();return t.tournamentData$.filter((function(e){return e.payload.playerId===n}))}},{key:"getFriendsTournamentData",value:function(){var t=e.getInstance(),n=ut.getPlayerId();return t.tournamentData$.filter((function(e){var t=e.payload;return t.playerId!==n&&"global"!==t.playerId}))}},{key:"getGlobalTournamentData",value:function(){return e.getInstance().tournamentData$.filter((function(e){return"global"===e.payload.playerId}))}},{key:"validateTournamentExpired",value:function(t){var n=e.getTournamentDataById(t);return!!n&&n.endTime<Date.now()/1e3}},{key:"saveTournamentProgress",value:function(e,n,i){var a,r,s,E,u=(null!==(a=ut.getGameData())&&void 0!==a?a:{}).tournamentProgress,l=null==u?void 0:u[i],_={level:Math.max(e,null!==(r=null==l?void 0:l.level)&&void 0!==r?r:0),score:Math.max(n,null!==(s=null==l?void 0:l.score)&&void 0!==s?s:0),replayCount:null!==(E=null==l?void 0:l.replayCount)&&void 0!==E?E:0};ut.setGameData({tournamentProgress:o(o({},u),{},t({},i,_))})}},{key:"syncTournamentProgress",value:function(){var t,n=(null!==(t=ut.getGameData())&&void 0!==t?t:{}).tournamentProgress;if(n){var i=e.getInstance(),a=function(e){at.search(i.tournamentData$,(function(t){return t.id===e}))||delete n[e]};for(var r in n)a(r);ut.setGameData({tournamentProgress:n})}}}]),e}());T._RF.pop()}}}));

} }; });